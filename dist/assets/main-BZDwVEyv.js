import{u as Dp,a as Hs,b as fa,G as vg,T as yg,R as bg,D as xg,c as Cg,d as wg,e as Sg,f as Sr,g as Ep,h as _g,s as Pg,i as Wt,j as Zt,k as Ut,l as Ee,m as Oe,n as dt,o as Kt,P as Nt,p as Mt,q as Gs,r as Li,t as ir,v as Ig,C as Tg,A as kg,w as kt,x as hs,y as rs,z as me,B as Zr,E as vr,F as Hu,H as ul,I as mn,J as xt,K as Ys,L as Rp,M as ga,N as Lp,O as va,Q as Fp,S as Fi,U as Op,V as Jt,W as Ui,X as Np,Y as Mg,Z as Ge,_ as Ag,$ as ya,a0 as lc,a1 as Gu,a2 as Dg,a3 as ba,a4 as Eg,a5 as _r,a6 as Rg,a7 as Vu,a8 as Lg,a9 as Wu,aa as zp,ab as $p,ac as jp,ad as Bp,ae as Nl,af as cc,ag as uc,ah as Ki,ai as Ue,aj as _n,ak as ro,al as ot,am as an,an as Hp,ao as dc,ap as Gt,aq as lr,ar as T,as as Fg,at as Og,au as He,av as Ng,aw as Gp,ax as zg,ay as Oi,az as Vp,aA as Qs,aB as Wp,aC as _i,aD as Zp,aE as Up,aF as Kp,aG as Jp,aH as $g,aI as jg,aJ as Bg,aK as Hg}from"./index-omHG-Pgj.js";import{r as l,j as p,m as jn,A as wr,R as Kn,a as qp}from"./vendor-motion-BQO2KiUE.js";import{U as xa,C as Gg,X as zs,a as Xp,b as Vg,L as Ca,S as zl,E as Wg,T as pc,c as wa,M as Zg,d as Ug,e as Kg,I as Jg,f as hc,g as qg,h as Xg,i as Ji,j as Yp,G as Qp,k as eh,l as th,m as Yg,n as Qg,o as ev,F as Ni}from"./vendor-icons-Dow3RGKj.js";import{g as nh}from"./vendor-react-DJG_os-6.js";var dl={exports:{}},pl,Zu;function tv(){if(Zu)return pl;Zu=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return pl=e,pl}var hl,Uu;function nv(){if(Uu)return hl;Uu=1;var e=tv();function t(){}function o(){}return o.resetWarningCache=t,hl=function(){function r(c,d,h,v,m,f){if(f!==e){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:o,resetWarningCache:t};return a.PropTypes=a,a},hl}var Ku;function ov(){return Ku||(Ku=1,dl.exports=nv()()),dl.exports}var rv=ov();const se=nh(rv),mc=e=>{const t=l.useRef({});return l.useEffect(()=>{t.current=e}),t.current},oh=l.createContext(null);function fc(){return l.useContext(oh)}const sv=typeof Symbol=="function"&&Symbol.for,iv=sv?Symbol.for("mui.nested"):"__THEME_NESTED__";function av(e,t){return typeof t=="function"?t(e):{...e,...t}}function lv(e){const{children:t,theme:o}=e,r=fc(),i=l.useMemo(()=>{const a=r===null?{...o}:av(r,o);return a!=null&&(a[iv]=r!==null),a},[o,r]);return p.jsx(oh.Provider,{value:i,children:t})}function cv(e){const t=Dp(),o=Hs()||"",{modularCssLayers:r}=e;let i="mui.global, mui.components, mui.theme, mui.custom, mui.sx";return!r||t!==null?i="":typeof r=="string"?i=r.replace(/mui(?!\.)/g,i):i=`@layer ${i};`,fa(()=>{var d,h;const a=document.querySelector("head");if(!a)return;const c=a.firstChild;if(i){if(c&&((d=c.hasAttribute)!=null&&d.call(c,"data-mui-layer-order"))&&c.getAttribute("data-mui-layer-order")===o)return;const v=document.createElement("style");v.setAttribute("data-mui-layer-order",o),v.textContent=i,a.prepend(v)}else(h=a.querySelector(`style[data-mui-layer-order="${o}"]`))==null||h.remove()},[i,o]),i?p.jsx(vg,{styles:i}):null}const Ju={};function qu(e,t,o,r=!1){return l.useMemo(()=>{const i=e&&t[e]||t;if(typeof o=="function"){const a=o(i),c=e?{...t,[e]:a}:a;return r?()=>c:c}return e?{...t,[e]:o}:{...t,...o}},[e,t,o,r])}function rh(e){const{children:t,theme:o,themeId:r}=e,i=Dp(Ju),a=fc()||Ju,c=qu(r,i,o),d=qu(r,a,o,!0),h=(r?c[r]:c).direction==="rtl",v=cv(c);return p.jsx(lv,{theme:d,children:p.jsx(yg.Provider,{value:c,children:p.jsx(bg,{value:h,children:p.jsxs(xg,{value:r?c[r].components:c.components,children:[v,t]})})})})}const gc="mode",vc="color-scheme",uv="data-color-scheme";function dv(e){const{defaultMode:t="system",defaultLightColorScheme:o="light",defaultDarkColorScheme:r="dark",modeStorageKey:i=gc,colorSchemeStorageKey:a=vc,attribute:c=uv,colorSchemeNode:d="document.documentElement",nonce:h}=e||{};let v="",m=c;if(c==="class"&&(m=".%s"),c==="data"&&(m="[data-%s]"),m.startsWith(".")){const g=m.substring(1);v+=`${d}.classList.remove('${g}'.replace('%s', light), '${g}'.replace('%s', dark));
      ${d}.classList.add('${g}'.replace('%s', colorScheme));`}const f=m.match(/\[([^\]]+)\]/);if(f){const[g,b]=f[1].split("=");b||(v+=`${d}.removeAttribute('${g}'.replace('%s', light));
      ${d}.removeAttribute('${g}'.replace('%s', dark));`),v+=`
      ${d}.setAttribute('${g}'.replace('%s', colorScheme), ${b?`${b}.replace('%s', colorScheme)`:'""'});`}else v+=`${d}.setAttribute('${m}', colorScheme);`;return p.jsx("script",{suppressHydrationWarning:!0,nonce:typeof window>"u"?h:"",dangerouslySetInnerHTML:{__html:`(function() {
try {
  let colorScheme = '';
  const mode = localStorage.getItem('${i}') || '${t}';
  const dark = localStorage.getItem('${a}-dark') || '${r}';
  const light = localStorage.getItem('${a}-light') || '${o}';
  if (mode === 'system') {
    // handle system mode
    const mql = window.matchMedia('(prefers-color-scheme: dark)');
    if (mql.matches) {
      colorScheme = dark
    } else {
      colorScheme = light
    }
  }
  if (mode === 'light') {
    colorScheme = light;
  }
  if (mode === 'dark') {
    colorScheme = dark;
  }
  if (colorScheme) {
    ${v}
  }
} catch(e){}})();`}},"mui-color-scheme-init")}function pv(){}const hv=({key:e,storageWindow:t})=>(!t&&typeof window<"u"&&(t=window),{get(o){if(typeof window>"u")return;if(!t)return o;let r;try{r=t.localStorage.getItem(e)}catch{}return r||o},set:o=>{if(t)try{t.localStorage.setItem(e,o)}catch{}},subscribe:o=>{if(!t)return pv;const r=i=>{const a=i.newValue;i.key===e&&o(a)};return t.addEventListener("storage",r),()=>{t.removeEventListener("storage",r)}}});function ml(){}function Xu(e){if(typeof window<"u"&&typeof window.matchMedia=="function"&&e==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function sh(e,t){if(e.mode==="light"||e.mode==="system"&&e.systemMode==="light")return t("light");if(e.mode==="dark"||e.mode==="system"&&e.systemMode==="dark")return t("dark")}function mv(e){return sh(e,t=>{if(t==="light")return e.lightColorScheme;if(t==="dark")return e.darkColorScheme})}function fv(e){const{defaultMode:t="light",defaultLightColorScheme:o,defaultDarkColorScheme:r,supportedColorSchemes:i=[],modeStorageKey:a=gc,colorSchemeStorageKey:c=vc,storageWindow:d=typeof window>"u"?void 0:window,storageManager:h=hv,noSsr:v=!1}=e,m=i.join(","),f=i.length>1,g=l.useMemo(()=>h==null?void 0:h({key:a,storageWindow:d}),[h,a,d]),b=l.useMemo(()=>h==null?void 0:h({key:`${c}-light`,storageWindow:d}),[h,c,d]),x=l.useMemo(()=>h==null?void 0:h({key:`${c}-dark`,storageWindow:d}),[h,c,d]),[w,C]=l.useState(()=>{const F=(g==null?void 0:g.get(t))||t,z=(b==null?void 0:b.get(o))||o,O=(x==null?void 0:x.get(r))||r;return{mode:F,systemMode:Xu(F),lightColorScheme:z,darkColorScheme:O}}),[_,P]=l.useState(v||!f);l.useEffect(()=>{P(!0)},[]);const R=mv(w),D=l.useCallback(F=>{C(z=>{if(F===z.mode)return z;const O=F??t;return g==null||g.set(O),{...z,mode:O,systemMode:Xu(O)}})},[g,t]),V=l.useCallback(F=>{F?typeof F=="string"?F&&!m.includes(F)?console.error(`\`${F}\` does not exist in \`theme.colorSchemes\`.`):C(z=>{const O={...z};return sh(z,$=>{$==="light"&&(b==null||b.set(F),O.lightColorScheme=F),$==="dark"&&(x==null||x.set(F),O.darkColorScheme=F)}),O}):C(z=>{const O={...z},$=F.light===null?o:F.light,H=F.dark===null?r:F.dark;return $&&(m.includes($)?(O.lightColorScheme=$,b==null||b.set($)):console.error(`\`${$}\` does not exist in \`theme.colorSchemes\`.`)),H&&(m.includes(H)?(O.darkColorScheme=H,x==null||x.set(H)):console.error(`\`${H}\` does not exist in \`theme.colorSchemes\`.`)),O}):C(z=>(b==null||b.set(o),x==null||x.set(r),{...z,lightColorScheme:o,darkColorScheme:r}))},[m,b,x,o,r]),A=l.useCallback(F=>{w.mode==="system"&&C(z=>{const O=F!=null&&F.matches?"dark":"light";return z.systemMode===O?z:{...z,systemMode:O}})},[w.mode]),k=l.useRef(A);return k.current=A,l.useEffect(()=>{if(typeof window.matchMedia!="function"||!f)return;const F=(...O)=>k.current(...O),z=window.matchMedia("(prefers-color-scheme: dark)");return z.addListener(F),F(z),()=>{z.removeListener(F)}},[f]),l.useEffect(()=>{if(f){const F=(g==null?void 0:g.subscribe($=>{(!$||["light","dark","system"].includes($))&&D($||t)}))||ml,z=(b==null?void 0:b.subscribe($=>{(!$||m.match($))&&V({light:$})}))||ml,O=(x==null?void 0:x.subscribe($=>{(!$||m.match($))&&V({dark:$})}))||ml;return()=>{F(),z(),O()}}},[V,D,m,t,d,f,g,b,x]),{...w,mode:_?w.mode:void 0,systemMode:_?w.systemMode:void 0,colorScheme:_?R:void 0,setMode:D,setColorScheme:V}}const gv="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function vv(e){const{themeId:t,theme:o={},modeStorageKey:r=gc,colorSchemeStorageKey:i=vc,disableTransitionOnChange:a=!1,defaultColorScheme:c,resolveTheme:d}=e,h={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},v=l.createContext(void 0),m=()=>l.useContext(v)||h,f={},g={};function b(_){var Ie,Le,Ve,Qe;const{children:P,theme:R,modeStorageKey:D=r,colorSchemeStorageKey:V=i,disableTransitionOnChange:A=a,storageManager:k,storageWindow:F=typeof window>"u"?void 0:window,documentNode:z=typeof document>"u"?void 0:document,colorSchemeNode:O=typeof document>"u"?void 0:document.documentElement,disableNestedContext:$=!1,disableStyleSheetGeneration:H=!1,defaultMode:B="system",noSsr:I}=_,M=l.useRef(!1),j=fc(),W=l.useContext(v),E=!!W&&!$,G=l.useMemo(()=>R||(typeof o=="function"?o():o),[R]),Z=G[t],q=Z||G,{colorSchemes:te=f,components:J=g,cssVarPrefix:oe}=q,X=Object.keys(te).filter(rt=>!!te[rt]).join(","),U=l.useMemo(()=>X.split(","),[X]),ne=typeof c=="string"?c:c.light,ce=typeof c=="string"?c:c.dark,ve=te[ne]&&te[ce]?B:((Le=(Ie=te[q.defaultColorScheme])==null?void 0:Ie.palette)==null?void 0:Le.mode)||((Ve=q.palette)==null?void 0:Ve.mode),{mode:fe,setMode:ke,systemMode:_e,lightColorScheme:le,darkColorScheme:ye,colorScheme:Te,setColorScheme:De}=fv({supportedColorSchemes:U,defaultLightColorScheme:ne,defaultDarkColorScheme:ce,modeStorageKey:D,colorSchemeStorageKey:V,defaultMode:ve,storageManager:k,storageWindow:F,noSsr:I});let ie=fe,Pe=Te;E&&(ie=W.mode,Pe=W.colorScheme);const Me=l.useMemo(()=>{var Pt;const rt=Pe||q.defaultColorScheme,et=((Pt=q.generateThemeVars)==null?void 0:Pt.call(q))||q.vars,Je={...q,components:J,colorSchemes:te,cssVarPrefix:oe,vars:et};if(typeof Je.generateSpacing=="function"&&(Je.spacing=Je.generateSpacing()),rt){const ct=te[rt];ct&&typeof ct=="object"&&Object.keys(ct).forEach(it=>{ct[it]&&typeof ct[it]=="object"?Je[it]={...Je[it],...ct[it]}:Je[it]=ct[it]})}return d?d(Je):Je},[q,Pe,J,te,oe]),$e=q.colorSchemeSelector;fa(()=>{if(Pe&&O&&$e&&$e!=="media"){const rt=$e;let et=$e;if(rt==="class"&&(et=".%s"),rt==="data"&&(et="[data-%s]"),rt!=null&&rt.startsWith("data-")&&!rt.includes("%s")&&(et=`[${rt}="%s"]`),et.startsWith("."))O.classList.remove(...U.map(Je=>et.substring(1).replace("%s",Je))),O.classList.add(et.substring(1).replace("%s",Pe));else{const Je=et.replace("%s",Pe).match(/\[([^\]]+)\]/);if(Je){const[Pt,ct]=Je[1].split("=");ct||U.forEach(it=>{O.removeAttribute(Pt.replace(Pe,it))}),O.setAttribute(Pt,ct?ct.replace(/"|'/g,""):"")}else O.setAttribute(et,Pe)}}},[Pe,$e,O,U]),l.useEffect(()=>{let rt;if(A&&M.current&&z){const et=z.createElement("style");et.appendChild(z.createTextNode(gv)),z.head.appendChild(et),window.getComputedStyle(z.body),rt=setTimeout(()=>{z.head.removeChild(et)},1)}return()=>{clearTimeout(rt)}},[Pe,A,z]),l.useEffect(()=>(M.current=!0,()=>{M.current=!1}),[]);const Ke=l.useMemo(()=>({allColorSchemes:U,colorScheme:Pe,darkColorScheme:ye,lightColorScheme:le,mode:ie,setColorScheme:De,setMode:ke,systemMode:_e}),[U,Pe,ye,le,ie,De,ke,_e,Me.colorSchemeSelector]);let Ne=!0;(H||q.cssVariables===!1||E&&(j==null?void 0:j.cssVarPrefix)===oe)&&(Ne=!1);const be=p.jsxs(l.Fragment,{children:[p.jsx(rh,{themeId:Z?t:void 0,theme:Me,children:P}),Ne&&p.jsx(Cg,{styles:((Qe=Me.generateStyleSheets)==null?void 0:Qe.call(Me))||[]})]});return E?be:p.jsx(v.Provider,{value:Ke,children:be})}const x=typeof c=="string"?c:c.light,w=typeof c=="string"?c:c.dark;return{CssVarsProvider:b,useColorScheme:m,getInitColorSchemeScript:_=>dv({colorSchemeStorageKey:i,defaultLightColorScheme:x,defaultDarkColorScheme:w,modeStorageKey:r,..._})}}function yv(e){return String(e).match(/[\d.\-+]*\s*(.*)/)[1]||""}function bv(e){return parseFloat(e)}function xv({props:e,name:t}){return wg({props:e,name:t,defaultTheme:Sg,themeId:Sr})}function Cv({theme:e,...t}){const o=Sr in e?e[Sr]:void 0;return p.jsx(rh,{...t,themeId:o?Sr:void 0,theme:o||e})}const Pi={colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"},{CssVarsProvider:wv}=vv({themeId:Sr,theme:()=>Ep({cssVariables:!0}),colorSchemeStorageKey:Pi.colorSchemeStorageKey,modeStorageKey:Pi.modeStorageKey,defaultColorScheme:{light:Pi.defaultLightColorScheme,dark:Pi.defaultDarkColorScheme},resolveTheme:e=>{const t={...e,typography:_g(e.palette,e.typography)};return t.unstable_sx=function(r){return Pg({sx:r,theme:this})},t}}),Sv=wv;function _v({theme:e,...t}){const o=l.useMemo(()=>{if(typeof e=="function")return e;const r=Sr in e?e[Sr]:e;return"colorSchemes"in r?null:"vars"in r?e:{...e,vars:null}},[e]);return o?p.jsx(Cv,{theme:o,...t}):p.jsx(Sv,{theme:e,...t})}function Pv(e){return Wt("MuiAppBar",e)}Zt("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const Iv=e=>{const{color:t,position:o,classes:r}=e,i={root:["root",`color${dt(t)}`,`position${dt(o)}`]};return Kt(i,Pv,r)},Yu=(e,t)=>e?`${e==null?void 0:e.replace(")","")}, ${t})`:t,Tv=Ee(Nt,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,t[`position${dt(o.position)}`],t[`color${dt(o.color)}`]]}})(Mt(({theme:e})=>({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,variants:[{props:{position:"fixed"},style:{position:"fixed",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}}},{props:{position:"absolute"},style:{position:"absolute",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"sticky"},style:{position:"sticky",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"static"},style:{position:"static"}},{props:{position:"relative"},style:{position:"relative"}},{props:{color:"inherit"},style:{"--AppBar-color":"inherit"}},{props:{color:"default"},style:{"--AppBar-background":e.vars?e.vars.palette.AppBar.defaultBg:e.palette.grey[100],"--AppBar-color":e.vars?e.vars.palette.text.primary:e.palette.getContrastText(e.palette.grey[100]),...e.applyStyles("dark",{"--AppBar-background":e.vars?e.vars.palette.AppBar.defaultBg:e.palette.grey[900],"--AppBar-color":e.vars?e.vars.palette.text.primary:e.palette.getContrastText(e.palette.grey[900])})}},...Object.entries(e.palette).filter(Gs(["contrastText"])).map(([t])=>({props:{color:t},style:{"--AppBar-background":(e.vars??e).palette[t].main,"--AppBar-color":(e.vars??e).palette[t].contrastText}})),{props:t=>t.enableColorOnDark===!0&&!["inherit","transparent"].includes(t.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"}},{props:t=>t.enableColorOnDark===!1&&!["inherit","transparent"].includes(t.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...e.applyStyles("dark",{backgroundColor:e.vars?Yu(e.vars.palette.AppBar.darkBg,"var(--AppBar-background)"):null,color:e.vars?Yu(e.vars.palette.AppBar.darkColor,"var(--AppBar-color)"):null})}},{props:{color:"transparent"},style:{"--AppBar-background":"transparent","--AppBar-color":"inherit",backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...e.applyStyles("dark",{backgroundImage:"none"})}}]}))),kv=l.forwardRef(function(t,o){const r=Ut({props:t,name:"MuiAppBar"}),{className:i,color:a="primary",enableColorOnDark:c=!1,position:d="fixed",...h}=r,v={...r,color:a,position:d,enableColorOnDark:c},m=Iv(v);return p.jsx(Tv,{square:!0,component:"header",ownerState:v,elevation:4,className:Oe(m.root,i,d==="fixed"&&"mui-fixed"),ref:o,...h})});function Qu(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function ih(e={}){const{ignoreAccents:t=!0,ignoreCase:o=!0,limit:r,matchFrom:i="any",stringify:a,trim:c=!1}=e;return(d,{inputValue:h,getOptionLabel:v})=>{let m=c?h.trim():h;o&&(m=m.toLowerCase()),t&&(m=Qu(m));const f=m?d.filter(g=>{let b=(a||v)(g);return o&&(b=b.toLowerCase()),t&&(b=Qu(b)),i==="start"?b.startsWith(m):b.includes(m)}):d;return typeof r=="number"?f.slice(0,r):f}}const Mv=ih(),ed=5,Av=e=>{var t;return e.current!==null&&((t=e.current.parentElement)==null?void 0:t.contains(document.activeElement))},Dv=[];function td(e,t,o){if(t||e==null)return"";const r=o(e);return typeof r=="string"?r:""}function Ev(e){const{unstable_isActiveElementInListbox:t=Av,unstable_classNamePrefix:o="Mui",autoComplete:r=!1,autoHighlight:i=!1,autoSelect:a=!1,blurOnSelect:c=!1,clearOnBlur:d=!e.freeSolo,clearOnEscape:h=!1,componentName:v="useAutocomplete",defaultValue:m=e.multiple?Dv:null,disableClearable:f=!1,disableCloseOnSelect:g=!1,disabled:b,disabledItemsFocusable:x=!1,disableListWrap:w=!1,filterOptions:C=Mv,filterSelectedOptions:_=!1,freeSolo:P=!1,getOptionDisabled:R,getOptionKey:D,getOptionLabel:V=ue=>ue.label??ue,groupBy:A,handleHomeEndKeys:k=!e.freeSolo,id:F,includeInputInList:z=!1,inputValue:O,isOptionEqualToValue:$=(ue,de)=>ue===de,multiple:H=!1,onChange:B,onClose:I,onHighlightChange:M,onInputChange:j,onOpen:W,open:E,openOnFocus:G=!1,options:Z,readOnly:q=!1,selectOnFocus:te=!e.freeSolo,value:J}=e,oe=Hs(F);let X=V;X=ue=>{const de=V(ue);return typeof de!="string"?String(de):de};const U=l.useRef(!1),ne=l.useRef(!0),ce=l.useRef(null),ve=l.useRef(null),[fe,ke]=l.useState(null),[_e,le]=l.useState(-1),ye=i?0:-1,Te=l.useRef(ye),De=l.useRef(td(m??J,H,X)).current,[ie,Pe]=Li({controlled:J,default:m,name:v}),[Me,$e]=Li({controlled:O,default:De,name:v,state:"inputValue"}),[Ke,Ne]=l.useState(!1),be=l.useCallback((ue,de,je)=>{if(!(H?ie.length<de.length:de!==null)&&!d)return;const tt=td(de,H,X);Me!==tt&&($e(tt),j&&j(ue,tt,je))},[X,Me,H,j,$e,d,ie]),[Ie,Le]=Li({controlled:E,default:!1,name:v,state:"open"}),[Ve,Qe]=l.useState(!0),rt=!H&&ie!=null&&Me===X(ie),et=Ie&&!q,Je=et?C(Z.filter(ue=>!(_&&(H?ie:[ie]).some(de=>de!==null&&$(ue,de)))),{inputValue:rt&&Ve?"":Me,getOptionLabel:X}):[],Pt=mc({filteredOptions:Je,value:ie,inputValue:Me});l.useEffect(()=>{const ue=ie!==Pt.value;Ke&&!ue||P&&!ue||be(null,ie,"reset")},[ie,be,Ke,Pt.value,P]);const ct=Ie&&Je.length>0&&!q,it=ir(ue=>{ue===-1?ce.current.focus():fe.querySelector(`[data-tag-index="${ue}"]`).focus()});l.useEffect(()=>{H&&_e>ie.length-1&&(le(-1),it(-1))},[ie,H,_e,it]);function jt(ue,de){if(!ve.current||ue<0||ue>=Je.length)return-1;let je=ue;for(;;){const at=ve.current.querySelector(`[data-option-index="${je}"]`),tt=x?!1:!at||at.disabled||at.getAttribute("aria-disabled")==="true";if(at&&at.hasAttribute("tabindex")&&!tt)return je;if(de==="next"?je=(je+1)%Je.length:je=(je-1+Je.length)%Je.length,je===ue)return-1}}const Ot=ir(({event:ue,index:de,reason:je})=>{if(Te.current=de,de===-1?ce.current.removeAttribute("aria-activedescendant"):ce.current.setAttribute("aria-activedescendant",`${oe}-option-${de}`),M&&["mouse","keyboard","touch"].includes(je)&&M(ue,de===-1?null:Je[de],je),!ve.current)return;const at=ve.current.querySelector(`[role="option"].${o}-focused`);at&&(at.classList.remove(`${o}-focused`),at.classList.remove(`${o}-focusVisible`));let tt=ve.current;if(ve.current.getAttribute("role")!=="listbox"&&(tt=ve.current.parentElement.querySelector('[role="listbox"]')),!tt)return;if(de===-1){tt.scrollTop=0;return}const ht=ve.current.querySelector(`[data-option-index="${de}"]`);if(ht&&(ht.classList.add(`${o}-focused`),je==="keyboard"&&ht.classList.add(`${o}-focusVisible`),tt.scrollHeight>tt.clientHeight&&je!=="mouse"&&je!=="touch")){const $t=ht,In=tt.clientHeight+tt.scrollTop,io=$t.offsetTop+$t.offsetHeight;io>In?tt.scrollTop=io-tt.clientHeight:$t.offsetTop-$t.offsetHeight*(A?1.3:0)<tt.scrollTop&&(tt.scrollTop=$t.offsetTop-$t.offsetHeight*(A?1.3:0))}}),Ht=ir(({event:ue,diff:de,direction:je="next",reason:at})=>{if(!et)return;const ht=jt((()=>{const $t=Je.length-1;if(de==="reset")return ye;if(de==="start")return 0;if(de==="end")return $t;const In=Te.current+de;return In<0?In===-1&&z?-1:w&&Te.current!==-1||Math.abs(de)>1?0:$t:In>$t?In===$t+1&&z?-1:w||Math.abs(de)>1?$t:0:In})(),je);if(Ot({index:ht,reason:at,event:ue}),r&&de!=="reset")if(ht===-1)ce.current.value=Me;else{const $t=X(Je[ht]);ce.current.value=$t,$t.toLowerCase().indexOf(Me.toLowerCase())===0&&Me.length>0&&ce.current.setSelectionRange(Me.length,$t.length)}}),qt=()=>{const ue=(de,je)=>{const at=de?X(de):"",tt=je?X(je):"";return at===tt};if(Te.current!==-1&&Pt.filteredOptions&&Pt.filteredOptions.length!==Je.length&&Pt.inputValue===Me&&(H?ie.length===Pt.value.length&&Pt.value.every((de,je)=>X(ie[je])===X(de)):ue(Pt.value,ie))){const de=Pt.filteredOptions[Te.current];if(de)return Je.findIndex(je=>X(je)===X(de))}return-1},ln=l.useCallback(()=>{if(!et)return;const ue=qt();if(ue!==-1){Te.current=ue;return}const de=H?ie[0]:ie;if(Je.length===0||de==null){Ht({diff:"reset"});return}if(ve.current){if(de!=null){const je=Je[Te.current];if(H&&je&&ie.findIndex(tt=>$(je,tt))!==-1)return;const at=Je.findIndex(tt=>$(tt,de));at===-1?Ht({diff:"reset"}):Ot({index:at});return}if(Te.current>=Je.length-1){Ot({index:Je.length-1});return}Ot({index:Te.current})}},[Je.length,H?!1:ie,_,Ht,Ot,et,Me,H]),rn=ir(ue=>{Ig(ve,ue),ue&&ln()});l.useEffect(()=>{ln()},[ln]);const en=ue=>{Ie||(Le(!0),Qe(!0),W&&W(ue))},Ce=(ue,de)=>{Ie&&(Le(!1),I&&I(ue,de))},Q=(ue,de,je,at)=>{if(H){if(ie.length===de.length&&ie.every((tt,ht)=>tt===de[ht]))return}else if(ie===de)return;B&&B(ue,de,je,at),Pe(de)},pe=l.useRef(!1),Fe=(ue,de,je="selectOption",at="options")=>{let tt=je,ht=de;if(H){ht=Array.isArray(ie)?ie.slice():[];const $t=ht.findIndex(In=>$(de,In));$t===-1?ht.push(de):at!=="freeSolo"&&(ht.splice($t,1),tt="removeOption")}be(ue,ht,tt),Q(ue,ht,tt,{option:de}),!g&&(!ue||!ue.ctrlKey&&!ue.metaKey)&&Ce(ue,tt),(c===!0||c==="touch"&&pe.current||c==="mouse"&&!pe.current)&&ce.current.blur()};function yt(ue,de){if(ue===-1)return-1;let je=ue;for(;;){if(de==="next"&&je===ie.length||de==="previous"&&je===-1)return-1;const at=fe.querySelector(`[data-tag-index="${je}"]`);if(!at||!at.hasAttribute("tabindex")||at.disabled||at.getAttribute("aria-disabled")==="true")je+=de==="next"?1:-1;else return je}}const lt=(ue,de)=>{if(!H)return;Me===""&&Ce(ue,"toggleInput");let je=_e;_e===-1?Me===""&&de==="previous"&&(je=ie.length-1):(je+=de==="next"?1:-1,je<0&&(je=0),je===ie.length&&(je=-1)),je=yt(je,de),le(je),it(je)},Ye=ue=>{U.current=!0,$e(""),j&&j(ue,"","clear"),Q(ue,H?[]:null,"clear")},ft=ue=>de=>{if(ue.onKeyDown&&ue.onKeyDown(de),!de.defaultMuiPrevented&&(_e!==-1&&!["ArrowLeft","ArrowRight"].includes(de.key)&&(le(-1),it(-1)),de.which!==229))switch(de.key){case"Home":et&&k&&(de.preventDefault(),Ht({diff:"start",direction:"next",reason:"keyboard",event:de}));break;case"End":et&&k&&(de.preventDefault(),Ht({diff:"end",direction:"previous",reason:"keyboard",event:de}));break;case"PageUp":de.preventDefault(),Ht({diff:-ed,direction:"previous",reason:"keyboard",event:de}),en(de);break;case"PageDown":de.preventDefault(),Ht({diff:ed,direction:"next",reason:"keyboard",event:de}),en(de);break;case"ArrowDown":de.preventDefault(),Ht({diff:1,direction:"next",reason:"keyboard",event:de}),en(de);break;case"ArrowUp":de.preventDefault(),Ht({diff:-1,direction:"previous",reason:"keyboard",event:de}),en(de);break;case"ArrowLeft":lt(de,"previous");break;case"ArrowRight":lt(de,"next");break;case"Enter":if(Te.current!==-1&&et){const je=Je[Te.current],at=R?R(je):!1;if(de.preventDefault(),at)return;Fe(de,je,"selectOption"),r&&ce.current.setSelectionRange(ce.current.value.length,ce.current.value.length)}else P&&Me!==""&&rt===!1&&(H&&de.preventDefault(),Fe(de,Me,"createOption","freeSolo"));break;case"Escape":et?(de.preventDefault(),de.stopPropagation(),Ce(de,"escape")):h&&(Me!==""||H&&ie.length>0)&&(de.preventDefault(),de.stopPropagation(),Ye(de));break;case"Backspace":if(H&&!q&&Me===""&&ie.length>0){const je=_e===-1?ie.length-1:_e,at=ie.slice();at.splice(je,1),Q(de,at,"removeOption",{option:ie[je]})}break;case"Delete":if(H&&!q&&Me===""&&ie.length>0&&_e!==-1){const je=_e,at=ie.slice();at.splice(je,1),Q(de,at,"removeOption",{option:ie[je]})}break}},ge=ue=>{Ne(!0),G&&!U.current&&en(ue)},he=ue=>{if(t(ve)){ce.current.focus();return}Ne(!1),ne.current=!0,U.current=!1,a&&Te.current!==-1&&et?Fe(ue,Je[Te.current],"blur"):a&&P&&Me!==""?Fe(ue,Me,"blur","freeSolo"):d&&be(ue,ie,"blur"),Ce(ue,"blur")},xe=ue=>{const de=ue.target.value;Me!==de&&($e(de),Qe(!1),j&&j(ue,de,"input")),de===""?!f&&!H&&Q(ue,null,"clear"):en(ue)},Se=ue=>{const de=Number(ue.currentTarget.getAttribute("data-option-index"));Te.current!==de&&Ot({event:ue,index:de,reason:"mouse"})},pt=ue=>{Ot({event:ue,index:Number(ue.currentTarget.getAttribute("data-option-index")),reason:"touch"}),pe.current=!0},Ct=ue=>{const de=Number(ue.currentTarget.getAttribute("data-option-index"));Fe(ue,Je[de],"selectOption"),pe.current=!1},Re=ue=>de=>{const je=ie.slice();je.splice(ue,1),Q(de,je,"removeOption",{option:ie[ue]})},Xt=ue=>{Ie?Ce(ue,"toggleInput"):en(ue)},xn=ue=>{ue.currentTarget.contains(ue.target)&&ue.target.getAttribute("id")!==oe&&ue.preventDefault()},zt=ue=>{ue.currentTarget.contains(ue.target)&&(ce.current.focus(),te&&ne.current&&ce.current.selectionEnd-ce.current.selectionStart===0&&ce.current.select(),ne.current=!1)},It=ue=>{!b&&(Me===""||!Ie)&&Xt(ue)};let hn=P&&Me.length>0;hn=hn||(H?ie.length>0:ie!==null);let Hn=Je;return A&&(Hn=Je.reduce((ue,de,je)=>{const at=A(de);return ue.length>0&&ue[ue.length-1].group===at?ue[ue.length-1].options.push(de):ue.push({key:je,index:je,group:at,options:[de]}),ue},[])),b&&Ke&&he(),{getRootProps:(ue={})=>({...ue,onKeyDown:ft(ue),onMouseDown:xn,onClick:zt}),getInputLabelProps:()=>({id:`${oe}-label`,htmlFor:oe}),getInputProps:()=>({id:oe,value:Me,onBlur:he,onFocus:ge,onChange:xe,onMouseDown:It,"aria-activedescendant":et?"":null,"aria-autocomplete":r?"both":"list","aria-controls":ct?`${oe}-listbox`:void 0,"aria-expanded":ct,autoComplete:"off",ref:ce,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:b}),getClearProps:()=>({tabIndex:-1,type:"button",onClick:Ye}),getPopupIndicatorProps:()=>({tabIndex:-1,type:"button",onClick:Xt}),getTagProps:({index:ue})=>({key:ue,"data-tag-index":ue,tabIndex:-1,...!q&&{onDelete:Re(ue)}}),getListboxProps:()=>({role:"listbox",id:`${oe}-listbox`,"aria-labelledby":`${oe}-label`,ref:rn,onMouseDown:ue=>{ue.preventDefault()}}),getOptionProps:({index:ue,option:de})=>{const je=(H?ie:[ie]).some(tt=>tt!=null&&$(de,tt)),at=R?R(de):!1;return{key:(D==null?void 0:D(de))??X(de),tabIndex:-1,role:"option",id:`${oe}-option-${ue}`,onMouseMove:Se,onClick:Ct,onTouchStart:pt,"data-option-index":ue,"aria-disabled":at,"aria-selected":je}},id:oe,inputValue:Me,value:ie,dirty:hn,expanded:et&&fe,popupOpen:et,focused:Ke||_e!==-1,anchorEl:fe,setAnchorEl:ke,focusedTag:_e,groupedOptions:Hn}}function Rv(e){return Wt("MuiListSubheader",e)}Zt("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const Lv=e=>{const{classes:t,color:o,disableGutters:r,inset:i,disableSticky:a}=e,c={root:["root",o!=="default"&&`color${dt(o)}`,!r&&"gutters",i&&"inset",!a&&"sticky"]};return Kt(c,Rv,t)},Fv=Ee("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.color!=="default"&&t[`color${dt(o.color)}`],!o.disableGutters&&t.gutters,o.inset&&t.inset,!o.disableSticky&&t.sticky]}})(Mt(({theme:e})=>({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(e.vars||e).palette.text.secondary,fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(14),variants:[{props:{color:"primary"},style:{color:(e.vars||e).palette.primary.main}},{props:{color:"inherit"},style:{color:"inherit"}},{props:({ownerState:t})=>!t.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:t})=>t.inset,style:{paddingLeft:72}},{props:({ownerState:t})=>!t.disableSticky,style:{position:"sticky",top:0,zIndex:1,backgroundColor:(e.vars||e).palette.background.paper}}]}))),$l=l.forwardRef(function(t,o){const r=Ut({props:t,name:"MuiListSubheader"}),{className:i,color:a="default",component:c="li",disableGutters:d=!1,disableSticky:h=!1,inset:v=!1,...m}=r,f={...r,color:a,component:c,disableGutters:d,disableSticky:h,inset:v},g=Lv(f);return p.jsx(Fv,{as:c,className:Oe(g.root,i),ref:o,ownerState:f,...m})});$l&&($l.muiSkipListHighlight=!0);function Ov(e){return Wt("MuiAutocomplete",e)}const St=Zt("MuiAutocomplete",["root","expanded","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]);var nd,od;const Nv=e=>{const{classes:t,disablePortal:o,expanded:r,focused:i,fullWidth:a,hasClearIcon:c,hasPopupIcon:d,inputFocused:h,popupOpen:v,size:m}=e,f={root:["root",r&&"expanded",i&&"focused",a&&"fullWidth",c&&"hasClearIcon",d&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",h&&"inputFocused"],tag:["tag",`tagSize${dt(m)}`],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",v&&"popupIndicatorOpen"],popper:["popper",o&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return Kt(f,Ov,t)},zv=Ee("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e,{fullWidth:r,hasClearIcon:i,hasPopupIcon:a,inputFocused:c,size:d}=o;return[{[`& .${St.tag}`]:t.tag},{[`& .${St.tag}`]:t[`tagSize${dt(d)}`]},{[`& .${St.inputRoot}`]:t.inputRoot},{[`& .${St.input}`]:t.input},{[`& .${St.input}`]:c&&t.inputFocused},t.root,r&&t.fullWidth,a&&t.hasPopupIcon,i&&t.hasClearIcon]}})({[`&.${St.focused} .${St.clearIndicator}`]:{visibility:"visible"},"@media (pointer: fine)":{[`&:hover .${St.clearIndicator}`]:{visibility:"visible"}},[`& .${St.tag}`]:{margin:3,maxWidth:"calc(100% - 6px)"},[`& .${St.inputRoot}`]:{[`.${St.hasPopupIcon}&, .${St.hasClearIcon}&`]:{paddingRight:30},[`.${St.hasPopupIcon}.${St.hasClearIcon}&`]:{paddingRight:56},[`& .${St.input}`]:{width:0,minWidth:30}},[`& .${ul.root}`]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},[`& .${ul.root}.${vr.sizeSmall}`]:{[`& .${ul.input}`]:{padding:"2px 4px 3px 0"}},[`& .${Hu.root}`]:{padding:9,[`.${St.hasPopupIcon}&, .${St.hasClearIcon}&`]:{paddingRight:39},[`.${St.hasPopupIcon}.${St.hasClearIcon}&`]:{paddingRight:65},[`& .${St.input}`]:{padding:"7.5px 4px 7.5px 5px"},[`& .${St.endAdornment}`]:{right:9}},[`& .${Hu.root}.${vr.sizeSmall}`]:{paddingTop:6,paddingBottom:6,paddingLeft:6,[`& .${St.input}`]:{padding:"2.5px 4px 2.5px 8px"}},[`& .${Zr.root}`]:{paddingTop:19,paddingLeft:8,[`.${St.hasPopupIcon}&, .${St.hasClearIcon}&`]:{paddingRight:39},[`.${St.hasPopupIcon}.${St.hasClearIcon}&`]:{paddingRight:65},[`& .${Zr.input}`]:{padding:"7px 4px"},[`& .${St.endAdornment}`]:{right:9}},[`& .${Zr.root}.${vr.sizeSmall}`]:{paddingBottom:1,[`& .${Zr.input}`]:{padding:"2.5px 4px"}},[`& .${vr.hiddenLabel}`]:{paddingTop:8},[`& .${Zr.root}.${vr.hiddenLabel}`]:{paddingTop:0,paddingBottom:0,[`& .${St.input}`]:{paddingTop:16,paddingBottom:17}},[`& .${Zr.root}.${vr.hiddenLabel}.${vr.sizeSmall}`]:{[`& .${St.input}`]:{paddingTop:8,paddingBottom:9}},[`& .${St.input}`]:{flexGrow:1,textOverflow:"ellipsis",opacity:0},variants:[{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{[`& .${St.tag}`]:{margin:2,maxWidth:"calc(100% - 4px)"}}},{props:{inputFocused:!0},style:{[`& .${St.input}`]:{opacity:1}}},{props:{multiple:!0},style:{[`& .${St.inputRoot}`]:{flexWrap:"wrap"}}}]}),$v=Ee("div",{name:"MuiAutocomplete",slot:"EndAdornment",overridesResolver:(e,t)=>t.endAdornment})({position:"absolute",right:0,top:"50%",transform:"translate(0, -50%)"}),jv=Ee(mn,{name:"MuiAutocomplete",slot:"ClearIndicator",overridesResolver:(e,t)=>t.clearIndicator})({marginRight:-2,padding:4,visibility:"hidden"}),Bv=Ee(mn,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.popupIndicator,o.popupOpen&&t.popupIndicatorOpen]}})({padding:2,marginRight:-2,variants:[{props:{popupOpen:!0},style:{transform:"rotate(180deg)"}}]}),Hv=Ee(hs,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[{[`& .${St.option}`]:t.option},t.popper,o.disablePortal&&t.popperDisablePortal]}})(Mt(({theme:e})=>({zIndex:(e.vars||e).zIndex.modal,variants:[{props:{disablePortal:!0},style:{position:"absolute"}}]}))),Gv=Ee(Nt,{name:"MuiAutocomplete",slot:"Paper",overridesResolver:(e,t)=>t.paper})(Mt(({theme:e})=>({...e.typography.body1,overflow:"auto"}))),Vv=Ee("div",{name:"MuiAutocomplete",slot:"Loading",overridesResolver:(e,t)=>t.loading})(Mt(({theme:e})=>({color:(e.vars||e).palette.text.secondary,padding:"14px 16px"}))),Wv=Ee("div",{name:"MuiAutocomplete",slot:"NoOptions",overridesResolver:(e,t)=>t.noOptions})(Mt(({theme:e})=>({color:(e.vars||e).palette.text.secondary,padding:"14px 16px"}))),Zv=Ee("ul",{name:"MuiAutocomplete",slot:"Listbox",overridesResolver:(e,t)=>t.listbox})(Mt(({theme:e})=>({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",[`& .${St.option}`]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[e.breakpoints.up("sm")]:{minHeight:"auto"},[`&.${St.focused}`]:{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${St.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:me(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${St.focused}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:me(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(e.vars||e).palette.action.selected}},[`&.${St.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:me(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}}}}))),Uv=Ee($l,{name:"MuiAutocomplete",slot:"GroupLabel",overridesResolver:(e,t)=>t.groupLabel})(Mt(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,top:-8}))),Kv=Ee("ul",{name:"MuiAutocomplete",slot:"GroupUl",overridesResolver:(e,t)=>t.groupUl})({padding:0,[`& .${St.option}`]:{paddingLeft:24}}),ei=l.forwardRef(function(t,o){const r=Ut({props:t,name:"MuiAutocomplete"}),{autoComplete:i=!1,autoHighlight:a=!1,autoSelect:c=!1,blurOnSelect:d=!1,ChipProps:h,className:v,clearIcon:m=nd||(nd=p.jsx(Tg,{fontSize:"small"})),clearOnBlur:f=!r.freeSolo,clearOnEscape:g=!1,clearText:b="Clear",closeText:x="Close",componentsProps:w,defaultValue:C=r.multiple?[]:null,disableClearable:_=!1,disableCloseOnSelect:P=!1,disabled:R=!1,disabledItemsFocusable:D=!1,disableListWrap:V=!1,disablePortal:A=!1,filterOptions:k,filterSelectedOptions:F=!1,forcePopupIcon:z="auto",freeSolo:O=!1,fullWidth:$=!1,getLimitTagsText:H=gt=>`+${gt}`,getOptionDisabled:B,getOptionKey:I,getOptionLabel:M,isOptionEqualToValue:j,groupBy:W,handleHomeEndKeys:E=!r.freeSolo,id:G,includeInputInList:Z=!1,inputValue:q,limitTags:te=-1,ListboxComponent:J,ListboxProps:oe,loading:X=!1,loadingText:U="Loadingâ€¦",multiple:ne=!1,noOptionsText:ce="No options",onChange:ve,onClose:fe,onHighlightChange:ke,onInputChange:_e,onOpen:le,open:ye,openOnFocus:Te=!1,openText:De="Open",options:ie,PaperComponent:Pe,PopperComponent:Me,popupIcon:$e=od||(od=p.jsx(kg,{})),readOnly:Ke=!1,renderGroup:Ne,renderInput:be,renderOption:Ie,renderTags:Le,selectOnFocus:Ve=!r.freeSolo,size:Qe="medium",slots:rt={},slotProps:et={},value:Je,...Pt}=r,{getRootProps:ct,getInputProps:it,getInputLabelProps:jt,getPopupIndicatorProps:Ot,getClearProps:Ht,getTagProps:qt,getListboxProps:ln,getOptionProps:rn,value:en,dirty:Ce,expanded:Q,id:pe,popupOpen:Fe,focused:yt,focusedTag:lt,anchorEl:Ye,setAnchorEl:ft,inputValue:ge,groupedOptions:he}=Ev({...r,componentName:"Autocomplete"}),xe=!_&&!R&&Ce&&!Ke,Se=(!O||z===!0)&&z!==!1,{onMouseDown:pt}=it(),{ref:Ct,...Re}=ln(),xn=M||(gt=>gt.label??gt),zt={...r,disablePortal:A,expanded:Q,focused:yt,fullWidth:$,getOptionLabel:xn,hasClearIcon:xe,hasPopupIcon:Se,inputFocused:lt===-1,popupOpen:Fe,size:Qe},It=Nv(zt),hn={slots:{paper:Pe,popper:Me,...rt},slotProps:{chip:h,listbox:oe,...w,...et}},[Hn,ue]=kt("listbox",{elementType:Zv,externalForwardedProps:hn,ownerState:zt,className:It.listbox,additionalProps:Re,ref:Ct}),[de,je]=kt("paper",{elementType:Nt,externalForwardedProps:hn,ownerState:zt,className:It.paper}),[at,tt]=kt("popper",{elementType:hs,externalForwardedProps:hn,ownerState:zt,className:It.popper,additionalProps:{disablePortal:A,style:{width:Ye?Ye.clientWidth:null},role:"presentation",anchorEl:Ye,open:Fe}});let ht;if(ne&&en.length>0){const gt=Dn=>({className:It.tag,disabled:R,...qt(Dn)});Le?ht=Le(en,gt,zt):ht=en.map((Dn,En)=>{const{key:vo,...Fr}=gt({index:En});return p.jsx(rs,{label:xn(Dn),size:Qe,...Fr,...hn.slotProps.chip},vo)})}if(te>-1&&Array.isArray(ht)){const gt=ht.length-te;!yt&&gt>0&&(ht=ht.splice(0,te),ht.push(p.jsx("span",{className:It.tag,children:H(gt)},ht.length)))}const In=Ne||(gt=>p.jsxs("li",{children:[p.jsx(Uv,{className:It.groupLabel,ownerState:zt,component:"div",children:gt.group}),p.jsx(Kv,{className:It.groupUl,ownerState:zt,children:gt.children})]},gt.key)),Jn=Ie||((gt,Dn)=>{const{key:En,...vo}=gt;return p.jsx("li",{...vo,children:xn(Dn)},En)}),pr=(gt,Dn)=>{const En=rn({option:gt,index:Dn});return Jn({...En,className:It.option},gt,{selected:En["aria-selected"],index:Dn,inputValue:ge},zt)},Gn=hn.slotProps.clearIndicator,Ao=hn.slotProps.popupIndicator;return p.jsxs(l.Fragment,{children:[p.jsx(zv,{ref:o,className:Oe(It.root,v),ownerState:zt,...ct(Pt),children:be({id:pe,disabled:R,fullWidth:!0,size:Qe==="small"?"small":void 0,InputLabelProps:jt(),InputProps:{ref:ft,className:It.inputRoot,startAdornment:ht,onMouseDown:gt=>{gt.target===gt.currentTarget&&pt(gt)},...(xe||Se)&&{endAdornment:p.jsxs($v,{className:It.endAdornment,ownerState:zt,children:[xe?p.jsx(jv,{...Ht(),"aria-label":b,title:b,ownerState:zt,...Gn,className:Oe(It.clearIndicator,Gn==null?void 0:Gn.className),children:m}):null,Se?p.jsx(Bv,{...Ot(),disabled:R,"aria-label":Fe?x:De,title:Fe?x:De,ownerState:zt,...Ao,className:Oe(It.popupIndicator,Ao==null?void 0:Ao.className),children:$e}):null]})}},inputProps:{className:It.input,disabled:R,readOnly:Ke,...it()}})}),Ye?p.jsx(Hv,{as:at,...tt,children:p.jsxs(Gv,{as:de,...je,children:[X&&he.length===0?p.jsx(Vv,{className:It.loading,ownerState:zt,children:U}):null,he.length===0&&!O&&!X?p.jsx(Wv,{className:It.noOptions,ownerState:zt,role:"presentation",onMouseDown:gt=>{gt.preventDefault()},children:ce}):null,he.length>0?p.jsx(Hn,{as:J,...ue,children:he.map((gt,Dn)=>W?In({key:gt.key,group:gt.group,children:gt.options.map((En,vo)=>pr(En,gt.index+vo))}):pr(gt,Dn))}):null]})}):null]})}),Jv=xt(p.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function qv(e){return Wt("MuiAvatar",e)}Zt("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const Xv=e=>{const{classes:t,variant:o,colorDefault:r}=e;return Kt({root:["root",o,r&&"colorDefault"],img:["img"],fallback:["fallback"]},qv,t)},Yv=Ee("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,t[o.variant],o.colorDefault&&t.colorDefault]}})(Mt(({theme:e})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(e.vars||e).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:{color:(e.vars||e).palette.background.default,...e.vars?{backgroundColor:e.vars.palette.Avatar.defaultBg}:{backgroundColor:e.palette.grey[400],...e.applyStyles("dark",{backgroundColor:e.palette.grey[600]})}}}]}))),Qv=Ee("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(e,t)=>t.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),ey=Ee(Jv,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(e,t)=>t.fallback})({width:"75%",height:"75%"});function ty({crossOrigin:e,referrerPolicy:t,src:o,srcSet:r}){const[i,a]=l.useState(!1);return l.useEffect(()=>{if(!o&&!r)return;a(!1);let c=!0;const d=new Image;return d.onload=()=>{c&&a("loaded")},d.onerror=()=>{c&&a("error")},d.crossOrigin=e,d.referrerPolicy=t,d.src=o,r&&(d.srcset=r),()=>{c=!1}},[e,t,o,r]),i}const ny=l.forwardRef(function(t,o){const r=Ut({props:t,name:"MuiAvatar"}),{alt:i,children:a,className:c,component:d="div",slots:h={},slotProps:v={},imgProps:m,sizes:f,src:g,srcSet:b,variant:x="circular",...w}=r;let C=null;const _={...r,component:d,variant:x},P=ty({...m,...typeof v.img=="function"?v.img(_):v.img,src:g,srcSet:b}),R=g||b,D=R&&P!=="error";_.colorDefault=!D,delete _.ownerState;const V=Xv(_),[A,k]=kt("img",{className:V.img,elementType:Qv,externalForwardedProps:{slots:h,slotProps:{img:{...m,...v.img}}},additionalProps:{alt:i,src:g,srcSet:b,sizes:f},ownerState:_});return D?C=p.jsx(A,{...k}):a||a===0?C=a:R&&i?C=i[0]:C=p.jsx(ey,{ownerState:_,className:V.fallback}),p.jsx(Yv,{as:d,className:Oe(V.root,c),ref:o,...w,ownerState:_,children:C})});function oy(e){const{badgeContent:t,invisible:o=!1,max:r=99,showZero:i=!1}=e,a=mc({badgeContent:t,max:r});let c=o;o===!1&&t===0&&!i&&(c=!0);const{badgeContent:d,max:h=r}=c?a:e,v=d&&Number(d)>h?`${h}+`:d;return{badgeContent:d,invisible:c,max:h,displayValue:v}}function ry(e){return Wt("MuiBadge",e)}const Yo=Zt("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),fl=10,gl=4,sy=e=>{const{color:t,anchorOrigin:o,invisible:r,overlap:i,variant:a,classes:c={}}=e,d={root:["root"],badge:["badge",a,r&&"invisible",`anchorOrigin${dt(o.vertical)}${dt(o.horizontal)}`,`anchorOrigin${dt(o.vertical)}${dt(o.horizontal)}${dt(i)}`,`overlap${dt(i)}`,t!=="default"&&`color${dt(t)}`]};return Kt(d,ry,c)},iy=Ee("span",{name:"MuiBadge",slot:"Root",overridesResolver:(e,t)=>t.root})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),ay=Ee("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.badge,t[o.variant],t[`anchorOrigin${dt(o.anchorOrigin.vertical)}${dt(o.anchorOrigin.horizontal)}${dt(o.overlap)}`],o.color!=="default"&&t[`color${dt(o.color)}`],o.invisible&&t.invisible]}})(Mt(({theme:e})=>({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(12),minWidth:fl*2,lineHeight:1,padding:"0 6px",height:fl*2,borderRadius:fl,zIndex:1,transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.enteringScreen}),variants:[...Object.entries(e.palette).filter(Gs(["contrastText"])).map(([t])=>({props:{color:t},style:{backgroundColor:(e.vars||e).palette[t].main,color:(e.vars||e).palette[t].contrastText}})),{props:{variant:"dot"},style:{borderRadius:gl,height:gl*2,minWidth:gl*2,padding:0}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="rectangular",style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Yo.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="rectangular",style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Yo.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="rectangular",style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Yo.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="rectangular",style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Yo.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="circular",style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Yo.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="circular",style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Yo.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="circular",style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Yo.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="circular",style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Yo.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.leavingScreen})}}]})));function rd(e){return{vertical:(e==null?void 0:e.vertical)??"top",horizontal:(e==null?void 0:e.horizontal)??"right"}}const ah=l.forwardRef(function(t,o){const r=Ut({props:t,name:"MuiBadge"}),{anchorOrigin:i,className:a,classes:c,component:d,components:h={},componentsProps:v={},children:m,overlap:f="rectangular",color:g="default",invisible:b=!1,max:x=99,badgeContent:w,slots:C,slotProps:_,showZero:P=!1,variant:R="standard",...D}=r,{badgeContent:V,invisible:A,max:k,displayValue:F}=oy({max:x,invisible:b,badgeContent:w,showZero:P}),z=mc({anchorOrigin:rd(i),color:g,overlap:f,variant:R,badgeContent:w}),O=A||V==null&&R!=="dot",{color:$=g,overlap:H=f,anchorOrigin:B,variant:I=R}=O?z:r,M=rd(B),j=I!=="dot"?F:void 0,W={...r,badgeContent:V,invisible:O,max:k,displayValue:j,showZero:P,anchorOrigin:M,color:$,overlap:H,variant:I},E=sy(W),G={slots:{root:(C==null?void 0:C.root)??h.Root,badge:(C==null?void 0:C.badge)??h.Badge},slotProps:{root:(_==null?void 0:_.root)??v.root,badge:(_==null?void 0:_.badge)??v.badge}},[Z,q]=kt("root",{elementType:iy,externalForwardedProps:{...G,...D},ownerState:W,className:Oe(E.root,a),ref:o,additionalProps:{as:d}}),[te,J]=kt("badge",{elementType:ay,externalForwardedProps:G,ownerState:W,className:E.badge});return p.jsxs(Z,{...q,children:[m,p.jsx(te,{...J,children:j})]})});function ly(e){return Wt("MuiCardActionArea",e)}const vl=Zt("MuiCardActionArea",["root","focusVisible","focusHighlight"]),cy=e=>{const{classes:t}=e;return Kt({root:["root"],focusHighlight:["focusHighlight"]},ly,t)},uy=Ee(Ys,{name:"MuiCardActionArea",slot:"Root",overridesResolver:(e,t)=>t.root})(Mt(({theme:e})=>({display:"block",textAlign:"inherit",borderRadius:"inherit",width:"100%",[`&:hover .${vl.focusHighlight}`]:{opacity:(e.vars||e).palette.action.hoverOpacity,"@media (hover: none)":{opacity:0}},[`&.${vl.focusVisible} .${vl.focusHighlight}`]:{opacity:(e.vars||e).palette.action.focusOpacity}}))),dy=Ee("span",{name:"MuiCardActionArea",slot:"FocusHighlight",overridesResolver:(e,t)=>t.focusHighlight})(Mt(({theme:e})=>({overflow:"hidden",pointerEvents:"none",position:"absolute",top:0,right:0,bottom:0,left:0,borderRadius:"inherit",opacity:0,backgroundColor:"currentcolor",transition:e.transitions.create("opacity",{duration:e.transitions.duration.short})}))),py=l.forwardRef(function(t,o){const r=Ut({props:t,name:"MuiCardActionArea"}),{children:i,className:a,focusVisibleClassName:c,slots:d={},slotProps:h={},...v}=r,m=r,f=cy(m),g={slots:d,slotProps:h},[b,x]=kt("root",{elementType:uy,externalForwardedProps:{...g,...v},shouldForwardComponentProp:!0,ownerState:m,ref:o,className:Oe(f.root,a),additionalProps:{focusVisibleClassName:Oe(c,f.focusVisible)}}),[w,C]=kt("focusHighlight",{elementType:dy,externalForwardedProps:g,ownerState:m,ref:o,className:f.focusHighlight});return p.jsxs(b,{...x,children:[i,p.jsx(w,{...C})]})});function hy(e){return Wt("MuiCardActions",e)}Zt("MuiCardActions",["root","spacing"]);const my=e=>{const{classes:t,disableSpacing:o}=e;return Kt({root:["root",!o&&"spacing"]},hy,t)},fy=Ee("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,!o.disableSpacing&&t.spacing]}})({display:"flex",alignItems:"center",padding:8,variants:[{props:{disableSpacing:!1},style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),gy=l.forwardRef(function(t,o){const r=Ut({props:t,name:"MuiCardActions"}),{disableSpacing:i=!1,className:a,...c}=r,d={...r,disableSpacing:i},h=my(d);return p.jsx(fy,{className:Oe(h.root,a),ownerState:d,ref:o,...c})});function vy(e){return Wt("PrivateSwitchBase",e)}Zt("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const yy=e=>{const{classes:t,checked:o,disabled:r,edge:i}=e,a={root:["root",o&&"checked",r&&"disabled",i&&`edge${dt(i)}`],input:["input"]};return Kt(a,vy,t)},by=Ee(Ys,{name:"MuiSwitchBase"})({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:e,ownerState:t})=>e==="start"&&t.size!=="small",style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:e,ownerState:t})=>e==="end"&&t.size!=="small",style:{marginRight:-12}}]}),xy=Ee("input",{name:"MuiSwitchBase",shouldForwardProp:ga})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),lh=l.forwardRef(function(t,o){const{autoFocus:r,checked:i,checkedIcon:a,defaultChecked:c,disabled:d,disableFocusRipple:h=!1,edge:v=!1,icon:m,id:f,inputProps:g,inputRef:b,name:x,onBlur:w,onChange:C,onFocus:_,readOnly:P,required:R=!1,tabIndex:D,type:V,value:A,slots:k={},slotProps:F={},...z}=t,[O,$]=Li({controlled:i,default:!!c,name:"SwitchBase",state:"checked"}),H=Rp(),B=X=>{_&&_(X),H&&H.onFocus&&H.onFocus(X)},I=X=>{w&&w(X),H&&H.onBlur&&H.onBlur(X)},M=X=>{if(X.nativeEvent.defaultPrevented)return;const U=X.target.checked;$(U),C&&C(X,U)};let j=d;H&&typeof j>"u"&&(j=H.disabled);const W=V==="checkbox"||V==="radio",E={...t,checked:O,disabled:j,disableFocusRipple:h,edge:v},G=yy(E),Z={slots:k,slotProps:{input:g,...F}},[q,te]=kt("root",{ref:o,elementType:by,className:G.root,shouldForwardComponentProp:!0,externalForwardedProps:{...Z,component:"span",...z},getSlotProps:X=>({...X,onFocus:U=>{var ne;(ne=X.onFocus)==null||ne.call(X,U),B(U)},onBlur:U=>{var ne;(ne=X.onBlur)==null||ne.call(X,U),I(U)}}),ownerState:E,additionalProps:{centerRipple:!0,focusRipple:!h,disabled:j,role:void 0,tabIndex:null}}),[J,oe]=kt("input",{ref:b,elementType:xy,className:G.input,externalForwardedProps:Z,getSlotProps:X=>({onChange:U=>{var ne;(ne=X.onChange)==null||ne.call(X,U),M(U)}}),ownerState:E,additionalProps:{autoFocus:r,checked:i,defaultChecked:c,disabled:j,id:W?f:void 0,name:x,readOnly:P,required:R,tabIndex:D,type:V,...V==="checkbox"&&A===void 0?{}:{value:A}}});return p.jsxs(q,{...te,children:[p.jsx(J,{...oe}),O?a:m]})}),Cy=xt(p.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),wy=xt(p.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),Sy=xt(p.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function _y(e){return Wt("MuiCheckbox",e)}const yl=Zt("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),Py=e=>{const{classes:t,indeterminate:o,color:r,size:i}=e,a={root:["root",o&&"indeterminate",`color${dt(r)}`,`size${dt(i)}`]},c=Kt(a,_y,t);return{...t,...c}},Iy=Ee(lh,{shouldForwardProp:e=>ga(e)||e==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.indeterminate&&t.indeterminate,t[`size${dt(o.size)}`],o.color!=="default"&&t[`color${dt(o.color)}`]]}})(Mt(({theme:e})=>({color:(e.vars||e).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:me(e.palette.action.active,e.palette.action.hoverOpacity)}}},...Object.entries(e.palette).filter(Gs()).map(([t])=>({props:{color:t,disableRipple:!1},style:{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:me(e.palette[t].main,e.palette.action.hoverOpacity)}}})),...Object.entries(e.palette).filter(Gs()).map(([t])=>({props:{color:t},style:{[`&.${yl.checked}, &.${yl.indeterminate}`]:{color:(e.vars||e).palette[t].main},[`&.${yl.disabled}`]:{color:(e.vars||e).palette.action.disabled}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}))),Ty=p.jsx(wy,{}),ky=p.jsx(Cy,{}),My=p.jsx(Sy,{}),qi=l.forwardRef(function(t,o){const r=Ut({props:t,name:"MuiCheckbox"}),{checkedIcon:i=Ty,color:a="primary",icon:c=ky,indeterminate:d=!1,indeterminateIcon:h=My,inputProps:v,size:m="medium",disableRipple:f=!1,className:g,slots:b={},slotProps:x={},...w}=r,C=d?h:c,_=d?h:i,P={...r,disableRipple:f,color:a,indeterminate:d,size:m},R=Py(P),D=x.input??v,[V,A]=kt("root",{ref:o,elementType:Iy,className:Oe(R.root,g),shouldForwardComponentProp:!0,externalForwardedProps:{slots:b,slotProps:x,...w},ownerState:P,additionalProps:{type:"checkbox",icon:l.cloneElement(C,{fontSize:C.props.fontSize??m}),checkedIcon:l.cloneElement(_,{fontSize:_.props.fontSize??m}),disableRipple:f,slots:b,slotProps:{input:Lp(typeof D=="function"?D(P):D,{"data-indeterminate":d})}}});return p.jsx(V,{...A,classes:R})});function sd(e){return e.substring(2).toLowerCase()}function Ay(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}function yc(e){const{children:t,disableReactTree:o=!1,mouseEvent:r="onClick",onClickAway:i,touchEvent:a="onTouchEnd"}=e,c=l.useRef(!1),d=l.useRef(null),h=l.useRef(!1),v=l.useRef(!1);l.useEffect(()=>(setTimeout(()=>{h.current=!0},0),()=>{h.current=!1}),[]);const m=va(Fp(t),d),f=ir(x=>{const w=v.current;v.current=!1;const C=Fi(d.current);if(!h.current||!d.current||"clientX"in x&&Ay(x,C))return;if(c.current){c.current=!1;return}let _;x.composedPath?_=x.composedPath().includes(d.current):_=!C.documentElement.contains(x.target)||d.current.contains(x.target),!_&&(o||!w)&&i(x)}),g=x=>w=>{v.current=!0;const C=t.props[x];C&&C(w)},b={ref:m};return a!==!1&&(b[a]=g(a)),l.useEffect(()=>{if(a!==!1){const x=sd(a),w=Fi(d.current),C=()=>{c.current=!0};return w.addEventListener(x,f),w.addEventListener("touchmove",C),()=>{w.removeEventListener(x,f),w.removeEventListener("touchmove",C)}}},[f,a]),r!==!1&&(b[r]=g(r)),l.useEffect(()=>{if(r!==!1){const x=sd(r),w=Fi(d.current);return w.addEventListener(x,f),()=>{w.removeEventListener(x,f)}}},[f,r]),l.cloneElement(t,b)}const jl=typeof Op({})=="function",Dy=(e,t)=>({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%",...t&&!e.vars&&{colorScheme:e.palette.mode}}),Ey=e=>({color:(e.vars||e).palette.text.primary,...e.typography.body1,backgroundColor:(e.vars||e).palette.background.default,"@media print":{backgroundColor:(e.vars||e).palette.common.white}}),ch=(e,t=!1)=>{var a,c;const o={};t&&e.colorSchemes&&typeof e.getColorSchemeSelector=="function"&&Object.entries(e.colorSchemes).forEach(([d,h])=>{var m,f;const v=e.getColorSchemeSelector(d);v.startsWith("@")?o[v]={":root":{colorScheme:(m=h.palette)==null?void 0:m.mode}}:o[v.replace(/\s*&/,"")]={colorScheme:(f=h.palette)==null?void 0:f.mode}});let r={html:Dy(e,t),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:{margin:0,...Ey(e),"&::backdrop":{backgroundColor:(e.vars||e).palette.background.default}},...o};const i=(c=(a=e.components)==null?void 0:a.MuiCssBaseline)==null?void 0:c.styleOverrides;return i&&(r=[r,i]),r},zi="mui-ecs",Ry=e=>{const t=ch(e,!1),o=Array.isArray(t)?t[0]:t;return!e.vars&&o&&(o.html[`:root:has(${zi})`]={colorScheme:e.palette.mode}),e.colorSchemes&&Object.entries(e.colorSchemes).forEach(([r,i])=>{var c,d;const a=e.getColorSchemeSelector(r);a.startsWith("@")?o[a]={[`:root:not(:has(.${zi}))`]:{colorScheme:(c=i.palette)==null?void 0:c.mode}}:o[a.replace(/\s*&/,"")]={[`&:not(:has(.${zi}))`]:{colorScheme:(d=i.palette)==null?void 0:d.mode}}}),t},Ly=Op(jl?({theme:e,enableColorScheme:t})=>ch(e,t):({theme:e})=>Ry(e));function Fy(e){const t=Ut({props:e,name:"MuiCssBaseline"}),{children:o,enableColorScheme:r=!1}=t;return p.jsxs(l.Fragment,{children:[jl&&p.jsx(Ly,{enableColorScheme:r}),!jl&&!r&&p.jsx("span",{className:zi,style:{display:"none"}}),o]})}function Oy(e){return Wt("MuiDialog",e)}const bl=Zt("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),uh=l.createContext({}),Ny=Ee(Mg,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),zy=e=>{const{classes:t,scroll:o,maxWidth:r,fullWidth:i,fullScreen:a}=e,c={root:["root"],container:["container",`scroll${dt(o)}`],paper:["paper",`paperScroll${dt(o)}`,`paperWidth${dt(String(r))}`,i&&"paperFullWidth",a&&"paperFullScreen"]};return Kt(c,Oy,t)},$y=Ee(Np,{name:"MuiDialog",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),jy=Ee("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.container,t[`scroll${dt(o.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),By=Ee(Nt,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.paper,t[`scrollPaper${dt(o.scroll)}`],t[`paperWidth${dt(String(o.maxWidth))}`],o.fullWidth&&t.paperFullWidth,o.fullScreen&&t.paperFullScreen]}})(Mt(({theme:e})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:t})=>!t.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:e.breakpoints.unit==="px"?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${bl.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(e.breakpoints.values).filter(t=>t!=="xs").map(t=>({props:{maxWidth:t},style:{maxWidth:`${e.breakpoints.values[t]}${e.breakpoints.unit}`,[`&.${bl.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[t]+32*2)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:t})=>t.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:t})=>t.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${bl.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),xl=l.forwardRef(function(t,o){const r=Ut({props:t,name:"MuiDialog"}),i=Jt(),a={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":c,"aria-labelledby":d,"aria-modal":h=!0,BackdropComponent:v,BackdropProps:m,children:f,className:g,disableEscapeKeyDown:b=!1,fullScreen:x=!1,fullWidth:w=!1,maxWidth:C="sm",onBackdropClick:_,onClick:P,onClose:R,open:D,PaperComponent:V=Nt,PaperProps:A={},scroll:k="paper",slots:F={},slotProps:z={},TransitionComponent:O=Ui,transitionDuration:$=a,TransitionProps:H,...B}=r,I={...r,disableEscapeKeyDown:b,fullScreen:x,fullWidth:w,maxWidth:C,scroll:k},M=zy(I),j=l.useRef(),W=ye=>{j.current=ye.target===ye.currentTarget},E=ye=>{P&&P(ye),j.current&&(j.current=null,_&&_(ye),R&&R(ye,"backdropClick"))},G=Hs(d),Z=l.useMemo(()=>({titleId:G}),[G]),q={transition:O,...F},te={transition:H,paper:A,backdrop:m,...z},J={slots:q,slotProps:te},[oe,X]=kt("root",{elementType:$y,shouldForwardComponentProp:!0,externalForwardedProps:J,ownerState:I,className:Oe(M.root,g),ref:o}),[U,ne]=kt("backdrop",{elementType:Ny,shouldForwardComponentProp:!0,externalForwardedProps:J,ownerState:I}),[ce,ve]=kt("paper",{elementType:By,shouldForwardComponentProp:!0,externalForwardedProps:J,ownerState:I,className:Oe(M.paper,A.className)}),[fe,ke]=kt("container",{elementType:jy,externalForwardedProps:J,ownerState:I,className:Oe(M.container)}),[_e,le]=kt("transition",{elementType:Ui,externalForwardedProps:J,ownerState:I,additionalProps:{appear:!0,in:D,timeout:$,role:"presentation"}});return p.jsx(oe,{closeAfterTransition:!0,slots:{backdrop:U},slotProps:{backdrop:{transitionDuration:$,as:v,...ne}},disableEscapeKeyDown:b,onClose:R,open:D,onClick:E,...X,...B,children:p.jsx(_e,{...le,children:p.jsx(fe,{onMouseDown:W,...ke,children:p.jsx(ce,{as:V,elevation:24,role:"dialog","aria-describedby":c,"aria-labelledby":G,"aria-modal":h,...ve,children:p.jsx(uh.Provider,{value:Z,children:f})})})})})});function Hy(e){return Wt("MuiDialogActions",e)}Zt("MuiDialogActions",["root","spacing"]);const Gy=e=>{const{classes:t,disableSpacing:o}=e;return Kt({root:["root",!o&&"spacing"]},Hy,t)},Vy=Ee("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,!o.disableSpacing&&t.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:e})=>!e.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),Cl=l.forwardRef(function(t,o){const r=Ut({props:t,name:"MuiDialogActions"}),{className:i,disableSpacing:a=!1,...c}=r,d={...r,disableSpacing:a},h=Gy(d);return p.jsx(Vy,{className:Oe(h.root,i),ownerState:d,ref:o,...c})});function Wy(e){return Wt("MuiDialogContent",e)}Zt("MuiDialogContent",["root","dividers"]);function Zy(e){return Wt("MuiDialogTitle",e)}const Uy=Zt("MuiDialogTitle",["root"]),Ky=e=>{const{classes:t,dividers:o}=e;return Kt({root:["root",o&&"dividers"]},Wy,t)},Jy=Ee("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.dividers&&t.dividers]}})(Mt(({theme:e})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:t})=>t.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:t})=>!t.dividers,style:{[`.${Uy.root} + &`]:{paddingTop:0}}}]}))),wl=l.forwardRef(function(t,o){const r=Ut({props:t,name:"MuiDialogContent"}),{className:i,dividers:a=!1,...c}=r,d={...r,dividers:a},h=Ky(d);return p.jsx(Jy,{className:Oe(h.root,i),ownerState:d,ref:o,...c})}),qy=e=>{const{classes:t}=e;return Kt({root:["root"]},Zy,t)},Xy=Ee(Ge,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),Sl=l.forwardRef(function(t,o){const r=Ut({props:t,name:"MuiDialogTitle"}),{className:i,id:a,...c}=r,d=r,h=qy(d),{titleId:v=a}=l.useContext(uh);return p.jsx(Xy,{component:"h2",className:Oe(h.root,i),ownerState:d,ref:o,variant:"h6",id:a??v,...c})});function Yy(e){return Wt("MuiDivider",e)}const id=Zt("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),Qy=e=>{const{absolute:t,children:o,classes:r,flexItem:i,light:a,orientation:c,textAlign:d,variant:h}=e;return Kt({root:["root",t&&"absolute",h,a&&"light",c==="vertical"&&"vertical",i&&"flexItem",o&&"withChildren",o&&c==="vertical"&&"withChildrenVertical",d==="right"&&c!=="vertical"&&"textAlignRight",d==="left"&&c!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",c==="vertical"&&"wrapperVertical"]},Yy,r)},eb=Ee("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.absolute&&t.absolute,t[o.variant],o.light&&t.light,o.orientation==="vertical"&&t.vertical,o.flexItem&&t.flexItem,o.children&&t.withChildren,o.children&&o.orientation==="vertical"&&t.withChildrenVertical,o.textAlign==="right"&&o.orientation!=="vertical"&&t.textAlignRight,o.textAlign==="left"&&o.orientation!=="vertical"&&t.textAlignLeft]}})(Mt(({theme:e})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(e.vars||e).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:e.vars?`rgba(${e.vars.palette.dividerChannel} / 0.08)`:me(e.palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:e.spacing(2),marginRight:e.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:e.spacing(1),marginBottom:e.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:t})=>!!t.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:t})=>t.children&&t.orientation!=="vertical",style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(e.vars||e).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:t})=>t.orientation==="vertical"&&t.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(e.vars||e).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:t})=>t.textAlign==="right"&&t.orientation!=="vertical",style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:t})=>t.textAlign==="left"&&t.orientation!=="vertical",style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),tb=Ee("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.wrapper,o.orientation==="vertical"&&t.wrapperVertical]}})(Mt(({theme:e})=>({display:"inline-block",paddingLeft:`calc(${e.spacing(1)} * 1.2)`,paddingRight:`calc(${e.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${e.spacing(1)} * 1.2)`,paddingBottom:`calc(${e.spacing(1)} * 1.2)`}}]}))),Po=l.forwardRef(function(t,o){const r=Ut({props:t,name:"MuiDivider"}),{absolute:i=!1,children:a,className:c,orientation:d="horizontal",component:h=a||d==="vertical"?"div":"hr",flexItem:v=!1,light:m=!1,role:f=h!=="hr"?"separator":void 0,textAlign:g="center",variant:b="fullWidth",...x}=r,w={...r,absolute:i,component:h,flexItem:v,light:m,orientation:d,role:f,textAlign:g,variant:b},C=Qy(w);return p.jsx(eb,{as:h,className:Oe(C.root,c),role:f,ref:o,ownerState:w,"aria-orientation":f==="separator"&&(h!=="hr"||d==="vertical")?d:void 0,...x,children:a?p.jsx(tb,{className:C.wrapper,ownerState:w,children:a}):null})});Po&&(Po.muiSkipListHighlight=!0);function nb(e,t,o){const r=t.getBoundingClientRect(),i=o&&o.getBoundingClientRect(),a=ya(t);let c;if(t.fakeTransform)c=t.fakeTransform;else{const v=a.getComputedStyle(t);c=v.getPropertyValue("-webkit-transform")||v.getPropertyValue("transform")}let d=0,h=0;if(c&&c!=="none"&&typeof c=="string"){const v=c.split("(")[1].split(")")[0].split(",");d=parseInt(v[4],10),h=parseInt(v[5],10)}return e==="left"?i?`translateX(${i.right+d-r.left}px)`:`translateX(${a.innerWidth+d-r.left}px)`:e==="right"?i?`translateX(-${r.right-i.left-d}px)`:`translateX(-${r.left+r.width-d}px)`:e==="up"?i?`translateY(${i.bottom+h-r.top}px)`:`translateY(${a.innerHeight+h-r.top}px)`:i?`translateY(-${r.top-i.top+r.height-h}px)`:`translateY(-${r.top+r.height-h}px)`}function ob(e){return typeof e=="function"?e():e}function Ii(e,t,o){const r=ob(o),i=nb(e,t,r);i&&(t.style.webkitTransform=i,t.style.transform=i)}const rb=l.forwardRef(function(t,o){const r=Jt(),i={enter:r.transitions.easing.easeOut,exit:r.transitions.easing.sharp},a={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:c,appear:d=!0,children:h,container:v,direction:m="down",easing:f=i,in:g,onEnter:b,onEntered:x,onEntering:w,onExit:C,onExited:_,onExiting:P,style:R,timeout:D=a,TransitionComponent:V=Ag,...A}=t,k=l.useRef(null),F=va(Fp(h),k,o),z=E=>G=>{E&&(G===void 0?E(k.current):E(k.current,G))},O=z((E,G)=>{Ii(m,E,v),Dg(E),b&&b(E,G)}),$=z((E,G)=>{const Z=Gu({timeout:D,style:R,easing:f},{mode:"enter"});E.style.webkitTransition=r.transitions.create("-webkit-transform",{...Z}),E.style.transition=r.transitions.create("transform",{...Z}),E.style.webkitTransform="none",E.style.transform="none",w&&w(E,G)}),H=z(x),B=z(P),I=z(E=>{const G=Gu({timeout:D,style:R,easing:f},{mode:"exit"});E.style.webkitTransition=r.transitions.create("-webkit-transform",G),E.style.transition=r.transitions.create("transform",G),Ii(m,E,v),C&&C(E)}),M=z(E=>{E.style.webkitTransition="",E.style.transition="",_&&_(E)}),j=E=>{c&&c(k.current,E)},W=l.useCallback(()=>{k.current&&Ii(m,k.current,v)},[m,v]);return l.useEffect(()=>{if(g||m==="down"||m==="right")return;const E=lc(()=>{k.current&&Ii(m,k.current,v)}),G=ya(k.current);return G.addEventListener("resize",E),()=>{E.clear(),G.removeEventListener("resize",E)}},[m,g,v]),l.useEffect(()=>{g||W()},[g,W]),p.jsx(V,{nodeRef:k,onEnter:O,onEntered:H,onEntering:$,onExit:I,onExited:M,onExiting:B,addEndListener:j,appear:d,in:g,timeout:D,...A,children:(E,{ownerState:G,...Z})=>l.cloneElement(h,{ref:F,style:{visibility:E==="exited"&&!g?"hidden":void 0,...R,...h.props.style},...Z})})});function sb(e){return Wt("MuiDrawer",e)}Zt("MuiDrawer",["root","docked","paper","anchorLeft","anchorRight","anchorTop","anchorBottom","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const dh=(e,t)=>{const{ownerState:o}=e;return[t.root,(o.variant==="permanent"||o.variant==="persistent")&&t.docked,t.modal]},ib=e=>{const{classes:t,anchor:o,variant:r}=e,i={root:["root",`anchor${dt(o)}`],docked:[(r==="permanent"||r==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${dt(o)}`,r!=="temporary"&&`paperAnchorDocked${dt(o)}`]};return Kt(i,sb,t)},ab=Ee(Np,{name:"MuiDrawer",slot:"Root",overridesResolver:dh})(Mt(({theme:e})=>({zIndex:(e.vars||e).zIndex.drawer}))),lb=Ee("div",{shouldForwardProp:ga,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:dh})({flex:"0 0 auto"}),cb=Ee(Nt,{name:"MuiDrawer",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.paper,t[`paperAnchor${dt(o.anchor)}`],o.variant!=="temporary"&&t[`paperAnchorDocked${dt(o.anchor)}`]]}})(Mt(({theme:e})=>({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(e.vars||e).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0,variants:[{props:{anchor:"left"},style:{left:0}},{props:{anchor:"top"},style:{top:0,left:0,right:0,height:"auto",maxHeight:"100%"}},{props:{anchor:"right"},style:{right:0}},{props:{anchor:"bottom"},style:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"}},{props:({ownerState:t})=>t.anchor==="left"&&t.variant!=="temporary",style:{borderRight:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:t})=>t.anchor==="top"&&t.variant!=="temporary",style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:t})=>t.anchor==="right"&&t.variant!=="temporary",style:{borderLeft:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:t})=>t.anchor==="bottom"&&t.variant!=="temporary",style:{borderTop:`1px solid ${(e.vars||e).palette.divider}`}}]}))),ph={left:"right",right:"left",top:"down",bottom:"up"};function ub(e){return["left","right"].includes(e)}function db({direction:e},t){return e==="rtl"&&ub(t)?ph[t]:t}const pb=l.forwardRef(function(t,o){const r=Ut({props:t,name:"MuiDrawer"}),i=Jt(),a=ba(),c={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{anchor:d="left",BackdropProps:h,children:v,className:m,elevation:f=16,hideBackdrop:g=!1,ModalProps:{BackdropProps:b,...x}={},onClose:w,open:C=!1,PaperProps:_={},SlideProps:P,TransitionComponent:R,transitionDuration:D=c,variant:V="temporary",slots:A={},slotProps:k={},...F}=r,z=l.useRef(!1);l.useEffect(()=>{z.current=!0},[]);const O=db({direction:a?"rtl":"ltr"},d),H={...r,anchor:d,elevation:f,open:C,variant:V,...F},B=ib(H),I={slots:{transition:R,...A},slotProps:{paper:_,transition:P,...k,backdrop:Lp(k.backdrop||{...h,...b},{transitionDuration:D})}},[M,j]=kt("root",{ref:o,elementType:ab,className:Oe(B.root,B.modal,m),shouldForwardComponentProp:!0,ownerState:H,externalForwardedProps:{...I,...F,...x},additionalProps:{open:C,onClose:w,hideBackdrop:g,slots:{backdrop:I.slots.backdrop},slotProps:{backdrop:I.slotProps.backdrop}}}),[W,E]=kt("paper",{elementType:cb,shouldForwardComponentProp:!0,className:Oe(B.paper,_.className),ownerState:H,externalForwardedProps:I,additionalProps:{elevation:V==="temporary"?f:0,square:!0}}),[G,Z]=kt("docked",{elementType:lb,ref:o,className:Oe(B.root,B.docked,m),ownerState:H,externalForwardedProps:I,additionalProps:F}),[q,te]=kt("transition",{elementType:rb,ownerState:H,externalForwardedProps:I,additionalProps:{in:C,direction:ph[O],timeout:D,appear:z.current}}),J=p.jsx(W,{...E,children:v});if(V==="permanent")return p.jsx(G,{...Z,children:J});const oe=p.jsx(q,{...te,children:J});return V==="persistent"?p.jsx(G,{...Z,children:oe}):p.jsx(M,{...j,children:oe})});function hb(e){return Wt("MuiFormControlLabel",e)}const As=Zt("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),mb=e=>{const{classes:t,disabled:o,labelPlacement:r,error:i,required:a}=e,c={root:["root",o&&"disabled",`labelPlacement${dt(r)}`,i&&"error",a&&"required"],label:["label",o&&"disabled"],asterisk:["asterisk",i&&"error"]};return Kt(c,hb,t)},fb=Ee("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[{[`& .${As.label}`]:t.label},t.root,t[`labelPlacement${dt(o.labelPlacement)}`]]}})(Mt(({theme:e})=>({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${As.disabled}`]:{cursor:"default"},[`& .${As.label}`]:{[`&.${As.disabled}`]:{color:(e.vars||e).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:({labelPlacement:t})=>t==="start"||t==="top"||t==="bottom",style:{marginLeft:16}}]}))),gb=Ee("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(Mt(({theme:e})=>({[`&.${As.error}`]:{color:(e.vars||e).palette.error.main}}))),hh=l.forwardRef(function(t,o){const r=Ut({props:t,name:"MuiFormControlLabel"}),{checked:i,className:a,componentsProps:c={},control:d,disabled:h,disableTypography:v,inputRef:m,label:f,labelPlacement:g="end",name:b,onChange:x,required:w,slots:C={},slotProps:_={},value:P,...R}=r,D=Rp(),V=h??d.props.disabled??(D==null?void 0:D.disabled),A=w??d.props.required,k={disabled:V,required:A};["checked","name","onChange","value","inputRef"].forEach(M=>{typeof d.props[M]>"u"&&typeof r[M]<"u"&&(k[M]=r[M])});const F=Eg({props:r,muiFormControl:D,states:["error"]}),z={...r,disabled:V,labelPlacement:g,required:A,error:F.error},O=mb(z),$={slots:C,slotProps:{...c,..._}},[H,B]=kt("typography",{elementType:Ge,externalForwardedProps:$,ownerState:z});let I=f;return I!=null&&I.type!==Ge&&!v&&(I=p.jsx(H,{component:"span",...B,className:Oe(O.label,B==null?void 0:B.className),children:I})),p.jsxs(fb,{className:Oe(O.root,a),ownerState:z,ref:o,...R,children:[l.cloneElement(d,k),A?p.jsxs("div",{children:[I,p.jsxs(gb,{ownerState:z,"aria-hidden":!0,className:O.asterisk,children:["â€‰","*"]})]}):I]})});function vb(e){return Wt("MuiListItem",e)}Zt("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);function yb(e){return Wt("MuiListItemSecondaryAction",e)}Zt("MuiListItemSecondaryAction",["root","disableGutters"]);const bb=e=>{const{disableGutters:t,classes:o}=e;return Kt({root:["root",t&&"disableGutters"]},yb,o)},xb=Ee("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.disableGutters&&t.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:({ownerState:e})=>e.disableGutters,style:{right:0}}]}),mh=l.forwardRef(function(t,o){const r=Ut({props:t,name:"MuiListItemSecondaryAction"}),{className:i,...a}=r,c=l.useContext(_r),d={...r,disableGutters:c.disableGutters},h=bb(d);return p.jsx(xb,{className:Oe(h.root,i),ownerState:d,ref:o,...a})});mh.muiName="ListItemSecondaryAction";const Cb=(e,t)=>{const{ownerState:o}=e;return[t.root,o.dense&&t.dense,o.alignItems==="flex-start"&&t.alignItemsFlexStart,o.divider&&t.divider,!o.disableGutters&&t.gutters,!o.disablePadding&&t.padding,o.hasSecondaryAction&&t.secondaryAction]},wb=e=>{const{alignItems:t,classes:o,dense:r,disableGutters:i,disablePadding:a,divider:c,hasSecondaryAction:d}=e;return Kt({root:["root",r&&"dense",!i&&"gutters",!a&&"padding",c&&"divider",t==="flex-start"&&"alignItemsFlexStart",d&&"secondaryAction"],container:["container"]},vb,o)},Sb=Ee("div",{name:"MuiListItem",slot:"Root",overridesResolver:Cb})(Mt(({theme:e})=>({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:({ownerState:t})=>!t.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:t})=>!t.disablePadding&&t.dense,style:{paddingTop:4,paddingBottom:4}},{props:({ownerState:t})=>!t.disablePadding&&!t.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:t})=>!t.disablePadding&&!!t.secondaryAction,style:{paddingRight:48}},{props:({ownerState:t})=>!!t.secondaryAction,style:{[`& > .${Lg.root}`]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:t})=>t.divider,style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:t})=>t.button,style:{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:({ownerState:t})=>t.hasSecondaryAction,style:{paddingRight:48}}]}))),_b=Ee("li",{name:"MuiListItem",slot:"Container",overridesResolver:(e,t)=>t.container})({position:"relative"}),Xi=l.forwardRef(function(t,o){const r=Ut({props:t,name:"MuiListItem"}),{alignItems:i="center",children:a,className:c,component:d,components:h={},componentsProps:v={},ContainerComponent:m="li",ContainerProps:{className:f,...g}={},dense:b=!1,disableGutters:x=!1,disablePadding:w=!1,divider:C=!1,secondaryAction:_,slotProps:P={},slots:R={},...D}=r,V=l.useContext(_r),A=l.useMemo(()=>({dense:b||V.dense||!1,alignItems:i,disableGutters:x}),[i,V.dense,b,x]),k=l.useRef(null),F=l.Children.toArray(a),z=F.length&&Rg(F[F.length-1],["ListItemSecondaryAction"]),O={...r,alignItems:i,dense:A.dense,disableGutters:x,disablePadding:w,divider:C,hasSecondaryAction:z},$=wb(O),H=va(k,o),B=R.root||h.Root||Sb,I=P.root||v.root||{},M={className:Oe($.root,I.className,c),...D};let j=d||"li";return z?(j=!M.component&&!d?"div":j,m==="li"&&(j==="li"?j="div":M.component==="li"&&(M.component="div")),p.jsx(_r.Provider,{value:A,children:p.jsxs(_b,{as:m,className:Oe($.container,f),ref:H,ownerState:O,...g,children:[p.jsx(B,{...I,...!Vu(B)&&{as:j,ownerState:{...O,...I.ownerState}},...M,children:F}),F.pop()]})})):p.jsx(_r.Provider,{value:A,children:p.jsxs(B,{...I,as:j,ref:H,...!Vu(B)&&{ownerState:{...O,...I.ownerState}},...M,children:[F,_&&p.jsx(mh,{children:_})]})})});function Pb(e){return Wt("MuiListItemIcon",e)}const ad=Zt("MuiListItemIcon",["root","alignItemsFlexStart"]),Ib=e=>{const{alignItems:t,classes:o}=e;return Kt({root:["root",t==="flex-start"&&"alignItemsFlexStart"]},Pb,o)},Tb=Ee("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.alignItems==="flex-start"&&t.alignItemsFlexStart]}})(Mt(({theme:e})=>({minWidth:56,color:(e.vars||e).palette.action.active,flexShrink:0,display:"inline-flex",variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}))),Ho=l.forwardRef(function(t,o){const r=Ut({props:t,name:"MuiListItemIcon"}),{className:i,...a}=r,c=l.useContext(_r),d={...r,alignItems:c.alignItems},h=Ib(d);return p.jsx(Tb,{className:Oe(h.root,i),ownerState:d,ref:o,...a})});function kb(e){return Wt("MuiMenuItem",e)}const Ps=Zt("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),Mb=(e,t)=>{const{ownerState:o}=e;return[t.root,o.dense&&t.dense,o.divider&&t.divider,!o.disableGutters&&t.gutters]},Ab=e=>{const{disabled:t,dense:o,divider:r,disableGutters:i,selected:a,classes:c}=e,h=Kt({root:["root",o&&"dense",t&&"disabled",!i&&"gutters",r&&"divider",a&&"selected"]},kb,c);return{...c,...h}},Db=Ee(Ys,{shouldForwardProp:e=>ga(e)||e==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:Mb})(Mt(({theme:e})=>({...e.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Ps.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:me(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${Ps.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:me(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${Ps.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:me(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:me(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${Ps.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${Ps.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${id.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${id.inset}`]:{marginLeft:52},[`& .${Wu.root}`]:{marginTop:0,marginBottom:0},[`& .${Wu.inset}`]:{paddingLeft:36},[`& .${ad.root}`]:{minWidth:36},variants:[{props:({ownerState:t})=>!t.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:t})=>t.divider,style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:t})=>!t.dense,style:{[e.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:t})=>t.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...e.typography.body2,[`& .${ad.root} svg`]:{fontSize:"1.25rem"}}}]}))),pn=l.forwardRef(function(t,o){const r=Ut({props:t,name:"MuiMenuItem"}),{autoFocus:i=!1,component:a="li",dense:c=!1,divider:d=!1,disableGutters:h=!1,focusVisibleClassName:v,role:m="menuitem",tabIndex:f,className:g,...b}=r,x=l.useContext(_r),w=l.useMemo(()=>({dense:c||x.dense||!1,disableGutters:h}),[x.dense,c,h]),C=l.useRef(null);fa(()=>{i&&C.current&&C.current.focus()},[i]);const _={...r,dense:w.dense,divider:d,disableGutters:h},P=Ab(r),R=va(C,o);let D;return r.disabled||(D=f!==void 0?f:-1),p.jsx(_r.Provider,{value:w,children:p.jsx(Db,{ref:R,role:m,tabIndex:D,component:a,focusVisibleClassName:Oe(P.focusVisible,v),className:Oe(P.root,g),...b,ownerState:_,classes:P})})}),Eb=xt(p.jsx("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),"FirstPage"),Rb=xt(p.jsx("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),"LastPage");function Lb(e){return Wt("MuiSkeleton",e)}Zt("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const Fb=e=>{const{classes:t,variant:o,animation:r,hasChildren:i,width:a,height:c}=e;return Kt({root:["root",o,r,i&&"withChildren",i&&!a&&"fitContent",i&&!c&&"heightAuto"]},Lb,t)},Bl=$p`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`,Hl=$p`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`,Ob=typeof Bl!="string"?zp`
        animation: ${Bl} 2s ease-in-out 0.5s infinite;
      `:null,Nb=typeof Hl!="string"?zp`
        &::after {
          animation: ${Hl} 2s linear 0.5s infinite;
        }
      `:null,zb=Ee("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,t[o.variant],o.animation!==!1&&t[o.animation],o.hasChildren&&t.withChildren,o.hasChildren&&!o.width&&t.fitContent,o.hasChildren&&!o.height&&t.heightAuto]}})(Mt(({theme:e})=>{const t=yv(e.shape.borderRadius)||"px",o=bv(e.shape.borderRadius);return{display:"block",backgroundColor:e.vars?e.vars.palette.Skeleton.bg:me(e.palette.text.primary,e.palette.mode==="light"?.11:.13),height:"1.2em",variants:[{props:{variant:"text"},style:{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${o}${t}/${Math.round(o/.6*10)/10}${t}`,"&:empty:before":{content:'"\\00a0"'}}},{props:{variant:"circular"},style:{borderRadius:"50%"}},{props:{variant:"rounded"},style:{borderRadius:(e.vars||e).shape.borderRadius}},{props:({ownerState:r})=>r.hasChildren,style:{"& > *":{visibility:"hidden"}}},{props:({ownerState:r})=>r.hasChildren&&!r.width,style:{maxWidth:"fit-content"}},{props:({ownerState:r})=>r.hasChildren&&!r.height,style:{height:"auto"}},{props:{animation:"pulse"},style:Ob||{animation:`${Bl} 2s ease-in-out 0.5s infinite`}},{props:{animation:"wave"},style:{position:"relative",overflow:"hidden",WebkitMaskImage:"-webkit-radial-gradient(white, black)","&::after":{background:`linear-gradient(
                90deg,
                transparent,
                ${(e.vars||e).palette.action.hover},
                transparent
              )`,content:'""',position:"absolute",transform:"translateX(-100%)",bottom:0,left:0,right:0,top:0}}},{props:{animation:"wave"},style:Nb||{"&::after":{animation:`${Hl} 2s linear 0.5s infinite`}}}]}})),$b=l.forwardRef(function(t,o){const r=Ut({props:t,name:"MuiSkeleton"}),{animation:i="pulse",className:a,component:c="span",height:d,style:h,variant:v="text",width:m,...f}=r,g={...r,animation:i,component:c,variant:v,hasChildren:!!f.children},b=Fb(g);return p.jsx(zb,{as:c,ref:o,className:Oe(b.root,a),ownerState:g,...f,style:{width:m,height:d,...h}})});function jb(e){return Wt("MuiSwitch",e)}const Rn=Zt("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),Bb=e=>{const{classes:t,edge:o,size:r,color:i,checked:a,disabled:c}=e,d={root:["root",o&&`edge${dt(o)}`,`size${dt(r)}`],switchBase:["switchBase",`color${dt(i)}`,a&&"checked",c&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},h=Kt(d,jb,t);return{...t,...h}},Hb=Ee("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.edge&&t[`edge${dt(o.edge)}`],t[`size${dt(o.size)}`]]}})({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${Rn.thumb}`]:{width:16,height:16},[`& .${Rn.switchBase}`]:{padding:4,[`&.${Rn.checked}`]:{transform:"translateX(16px)"}}}}]}),Gb=Ee(lh,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.switchBase,{[`& .${Rn.input}`]:t.input},o.color!=="default"&&t[`color${dt(o.color)}`]]}})(Mt(({theme:e})=>({position:"absolute",top:0,left:0,zIndex:1,color:e.vars?e.vars.palette.Switch.defaultColor:`${e.palette.mode==="light"?e.palette.common.white:e.palette.grey[300]}`,transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),[`&.${Rn.checked}`]:{transform:"translateX(20px)"},[`&.${Rn.disabled}`]:{color:e.vars?e.vars.palette.Switch.defaultDisabledColor:`${e.palette.mode==="light"?e.palette.grey[100]:e.palette.grey[600]}`},[`&.${Rn.checked} + .${Rn.track}`]:{opacity:.5},[`&.${Rn.disabled} + .${Rn.track}`]:{opacity:e.vars?e.vars.opacity.switchTrackDisabled:`${e.palette.mode==="light"?.12:.2}`},[`& .${Rn.input}`]:{left:"-100%",width:"300%"}})),Mt(({theme:e})=>({"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:me(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(e.palette).filter(Gs(["light"])).map(([t])=>({props:{color:t},style:{[`&.${Rn.checked}`]:{color:(e.vars||e).palette[t].main,"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:me(e.palette[t].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Rn.disabled}`]:{color:e.vars?e.vars.palette.Switch[`${t}DisabledColor`]:`${e.palette.mode==="light"?jp(e.palette[t].main,.62):Bp(e.palette[t].main,.55)}`}},[`&.${Rn.checked} + .${Rn.track}`]:{backgroundColor:(e.vars||e).palette[t].main}}}))]}))),Vb=Ee("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(e,t)=>t.track})(Mt(({theme:e})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:e.vars?e.vars.palette.common.onBackground:`${e.palette.mode==="light"?e.palette.common.black:e.palette.common.white}`,opacity:e.vars?e.vars.opacity.switchTrack:`${e.palette.mode==="light"?.38:.3}`}))),Wb=Ee("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(e,t)=>t.thumb})(Mt(({theme:e})=>({boxShadow:(e.vars||e).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}))),Zb=l.forwardRef(function(t,o){const r=Ut({props:t,name:"MuiSwitch"}),{className:i,color:a="primary",edge:c=!1,size:d="medium",sx:h,slots:v={},slotProps:m={},...f}=r,g={...r,color:a,edge:c,size:d},b=Bb(g),x={slots:v,slotProps:m},[w,C]=kt("root",{className:Oe(b.root,i),elementType:Hb,externalForwardedProps:x,ownerState:g,additionalProps:{sx:h}}),[_,P]=kt("thumb",{className:b.thumb,elementType:Wb,externalForwardedProps:x,ownerState:g}),R=p.jsx(_,{...P}),[D,V]=kt("track",{className:b.track,elementType:Vb,externalForwardedProps:x,ownerState:g});return p.jsxs(w,{...C,children:[p.jsx(Gb,{type:"checkbox",icon:R,checkedIcon:R,ref:o,ownerState:g,...f,classes:{...b,root:b.switchBase},slots:{...v.switchBase&&{root:v.switchBase},...v.input&&{input:v.input}},slotProps:{...m.switchBase&&{root:typeof m.switchBase=="function"?m.switchBase(g):m.switchBase},...m.input&&{input:typeof m.input=="function"?m.input(g):m.input}}}),p.jsx(D,{...V})]})});function Ub(e){return Wt("MuiTab",e)}const Qn=Zt("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper","icon"]),Kb=e=>{const{classes:t,textColor:o,fullWidth:r,wrapped:i,icon:a,label:c,selected:d,disabled:h}=e,v={root:["root",a&&c&&"labelIcon",`textColor${dt(o)}`,r&&"fullWidth",i&&"wrapped",d&&"selected",h&&"disabled"],icon:["iconWrapper","icon"]};return Kt(v,Ub,t)},Jb=Ee(Ys,{name:"MuiTab",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.label&&o.icon&&t.labelIcon,t[`textColor${dt(o.textColor)}`],o.fullWidth&&t.fullWidth,o.wrapped&&t.wrapped,{[`& .${Qn.iconWrapper}`]:t.iconWrapper},{[`& .${Qn.icon}`]:t.icon}]}})(Mt(({theme:e})=>({...e.typography.button,maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center",lineHeight:1.25,variants:[{props:({ownerState:t})=>t.label&&(t.iconPosition==="top"||t.iconPosition==="bottom"),style:{flexDirection:"column"}},{props:({ownerState:t})=>t.label&&t.iconPosition!=="top"&&t.iconPosition!=="bottom",style:{flexDirection:"row"}},{props:({ownerState:t})=>t.icon&&t.label,style:{minHeight:72,paddingTop:9,paddingBottom:9}},{props:({ownerState:t,iconPosition:o})=>t.icon&&t.label&&o==="top",style:{[`& > .${Qn.icon}`]:{marginBottom:6}}},{props:({ownerState:t,iconPosition:o})=>t.icon&&t.label&&o==="bottom",style:{[`& > .${Qn.icon}`]:{marginTop:6}}},{props:({ownerState:t,iconPosition:o})=>t.icon&&t.label&&o==="start",style:{[`& > .${Qn.icon}`]:{marginRight:e.spacing(1)}}},{props:({ownerState:t,iconPosition:o})=>t.icon&&t.label&&o==="end",style:{[`& > .${Qn.icon}`]:{marginLeft:e.spacing(1)}}},{props:{textColor:"inherit"},style:{color:"inherit",opacity:.6,[`&.${Qn.selected}`]:{opacity:1},[`&.${Qn.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}}},{props:{textColor:"primary"},style:{color:(e.vars||e).palette.text.secondary,[`&.${Qn.selected}`]:{color:(e.vars||e).palette.primary.main},[`&.${Qn.disabled}`]:{color:(e.vars||e).palette.text.disabled}}},{props:{textColor:"secondary"},style:{color:(e.vars||e).palette.text.secondary,[`&.${Qn.selected}`]:{color:(e.vars||e).palette.secondary.main},[`&.${Qn.disabled}`]:{color:(e.vars||e).palette.text.disabled}}},{props:({ownerState:t})=>t.fullWidth,style:{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"}},{props:({ownerState:t})=>t.wrapped,style:{fontSize:e.typography.pxToRem(12)}}]}))),ld=l.forwardRef(function(t,o){const r=Ut({props:t,name:"MuiTab"}),{className:i,disabled:a=!1,disableFocusRipple:c=!1,fullWidth:d,icon:h,iconPosition:v="top",indicator:m,label:f,onChange:g,onClick:b,onFocus:x,selected:w,selectionFollowsFocus:C,textColor:_="inherit",value:P,wrapped:R=!1,...D}=r,V={...r,disabled:a,disableFocusRipple:c,selected:w,icon:!!h,iconPosition:v,label:!!f,fullWidth:d,textColor:_,wrapped:R},A=Kb(V),k=h&&f&&l.isValidElement(h)?l.cloneElement(h,{className:Oe(A.icon,h.props.className)}):h,F=O=>{!w&&g&&g(O,P),b&&b(O)},z=O=>{C&&!w&&g&&g(O,P),x&&x(O)};return p.jsxs(Jb,{focusRipple:!c,className:Oe(A.root,i),ref:o,role:"tab","aria-selected":w,disabled:a,onClick:F,onFocus:z,ownerState:V,tabIndex:w?0:-1,...D,children:[v==="top"||v==="start"?p.jsxs(l.Fragment,{children:[k,f]}):p.jsxs(l.Fragment,{children:[f,k]}),m]})});function qb(e){return Wt("MuiToolbar",e)}Zt("MuiToolbar",["root","gutters","regular","dense"]);const Xb=e=>{const{classes:t,disableGutters:o,variant:r}=e;return Kt({root:["root",!o&&"gutters",r]},qb,t)},Yb=Ee("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,!o.disableGutters&&t.gutters,t[o.variant]]}})(Mt(({theme:e})=>({position:"relative",display:"flex",alignItems:"center",variants:[{props:({ownerState:t})=>!t.disableGutters,style:{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}}},{props:{variant:"dense"},style:{minHeight:48}},{props:{variant:"regular"},style:e.mixins.toolbar}]}))),fh=l.forwardRef(function(t,o){const r=Ut({props:t,name:"MuiToolbar"}),{className:i,component:a="div",disableGutters:c=!1,variant:d="regular",...h}=r,v={...r,component:a,disableGutters:c,variant:d},m=Xb(v);return p.jsx(Yb,{as:a,className:Oe(m.root,i),ref:o,ownerState:v,...h})}),gh=xt(p.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),vh=xt(p.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight"),Qb=l.forwardRef(function(t,o){const{backIconButtonProps:r,count:i,disabled:a=!1,getItemAriaLabel:c,nextIconButtonProps:d,onPageChange:h,page:v,rowsPerPage:m,showFirstButton:f,showLastButton:g,slots:b={},slotProps:x={},...w}=t,C=ba(),_=q=>{h(q,0)},P=q=>{h(q,v-1)},R=q=>{h(q,v+1)},D=q=>{h(q,Math.max(0,Math.ceil(i/m)-1))},V=b.firstButton??mn,A=b.lastButton??mn,k=b.nextButton??mn,F=b.previousButton??mn,z=b.firstButtonIcon??Eb,O=b.lastButtonIcon??Rb,$=b.nextButtonIcon??vh,H=b.previousButtonIcon??gh,B=C?A:V,I=C?k:F,M=C?F:k,j=C?V:A,W=C?x.lastButton:x.firstButton,E=C?x.nextButton:x.previousButton,G=C?x.previousButton:x.nextButton,Z=C?x.firstButton:x.lastButton;return p.jsxs("div",{ref:o,...w,children:[f&&p.jsx(B,{onClick:_,disabled:a||v===0,"aria-label":c("first",v),title:c("first",v),...W,children:C?p.jsx(O,{...x.lastButtonIcon}):p.jsx(z,{...x.firstButtonIcon})}),p.jsx(I,{onClick:P,disabled:a||v===0,color:"inherit","aria-label":c("previous",v),title:c("previous",v),...E??r,children:C?p.jsx($,{...x.nextButtonIcon}):p.jsx(H,{...x.previousButtonIcon})}),p.jsx(M,{onClick:R,disabled:a||(i!==-1?v>=Math.ceil(i/m)-1:!1),color:"inherit","aria-label":c("next",v),title:c("next",v),...G??d,children:C?p.jsx(H,{...x.previousButtonIcon}):p.jsx($,{...x.nextButtonIcon})}),g&&p.jsx(j,{onClick:D,disabled:a||v>=Math.ceil(i/m)-1,"aria-label":c("last",v),title:c("last",v),...Z,children:C?p.jsx(z,{...x.firstButtonIcon}):p.jsx(O,{...x.lastButtonIcon})})]})});function e0(e){return Wt("MuiTablePagination",e)}const Pr=Zt("MuiTablePagination",["root","toolbar","spacer","selectLabel","selectRoot","select","selectIcon","input","menuItem","displayedRows","actions"]);var cd;const t0=Ee(Nl,{name:"MuiTablePagination",slot:"Root",overridesResolver:(e,t)=>t.root})(Mt(({theme:e})=>({overflow:"auto",color:(e.vars||e).palette.text.primary,fontSize:e.typography.pxToRem(14),"&:last-child":{padding:0}}))),n0=Ee(fh,{name:"MuiTablePagination",slot:"Toolbar",overridesResolver:(e,t)=>({[`& .${Pr.actions}`]:t.actions,...t.toolbar})})(Mt(({theme:e})=>({minHeight:52,paddingRight:2,[`${e.breakpoints.up("xs")} and (orientation: landscape)`]:{minHeight:52},[e.breakpoints.up("sm")]:{minHeight:52,paddingRight:2},[`& .${Pr.actions}`]:{flexShrink:0,marginLeft:20}}))),o0=Ee("div",{name:"MuiTablePagination",slot:"Spacer",overridesResolver:(e,t)=>t.spacer})({flex:"1 1 100%"}),r0=Ee("p",{name:"MuiTablePagination",slot:"SelectLabel",overridesResolver:(e,t)=>t.selectLabel})(Mt(({theme:e})=>({...e.typography.body2,flexShrink:0}))),s0=Ee(uc,{name:"MuiTablePagination",slot:"Select",overridesResolver:(e,t)=>({[`& .${Pr.selectIcon}`]:t.selectIcon,[`& .${Pr.select}`]:t.select,...t.input,...t.selectRoot})})({color:"inherit",fontSize:"inherit",flexShrink:0,marginRight:32,marginLeft:8,[`& .${Pr.select}`]:{paddingLeft:8,paddingRight:24,textAlign:"right",textAlignLast:"right"}}),i0=Ee(pn,{name:"MuiTablePagination",slot:"MenuItem",overridesResolver:(e,t)=>t.menuItem})({}),a0=Ee("p",{name:"MuiTablePagination",slot:"DisplayedRows",overridesResolver:(e,t)=>t.displayedRows})(Mt(({theme:e})=>({...e.typography.body2,flexShrink:0})));function l0({from:e,to:t,count:o}){return`${e}â€“${t} of ${o!==-1?o:`more than ${t}`}`}function c0(e){return`Go to ${e} page`}const u0=e=>{const{classes:t}=e;return Kt({root:["root"],toolbar:["toolbar"],spacer:["spacer"],selectLabel:["selectLabel"],select:["select"],input:["input"],selectIcon:["selectIcon"],menuItem:["menuItem"],displayedRows:["displayedRows"],actions:["actions"]},e0,t)},d0=l.forwardRef(function(t,o){const r=Ut({props:t,name:"MuiTablePagination"}),{ActionsComponent:i=Qb,backIconButtonProps:a,colSpan:c,component:d=Nl,count:h,disabled:v=!1,getItemAriaLabel:m=c0,labelDisplayedRows:f=l0,labelRowsPerPage:g="Rows per page:",nextIconButtonProps:b,onPageChange:x,onRowsPerPageChange:w,page:C,rowsPerPage:_,rowsPerPageOptions:P=[10,25,50,100],SelectProps:R={},showFirstButton:D=!1,showLastButton:V=!1,slotProps:A={},slots:k={},...F}=r,z=r,O=u0(z),$=(A==null?void 0:A.select)??R,H=$.native?"option":i0;let B;(d===Nl||d==="td")&&(B=c||1e3);const I=Hs($.id),M=Hs($.labelId),j=()=>h===-1?(C+1)*_:_===-1?h:Math.min(h,(C+1)*_),W={slots:k,slotProps:A},[E,G]=kt("root",{ref:o,className:O.root,elementType:t0,externalForwardedProps:{...W,component:d,...F},ownerState:z,additionalProps:{colSpan:B}}),[Z,q]=kt("toolbar",{className:O.toolbar,elementType:n0,externalForwardedProps:W,ownerState:z}),[te,J]=kt("spacer",{className:O.spacer,elementType:o0,externalForwardedProps:W,ownerState:z}),[oe,X]=kt("selectLabel",{className:O.selectLabel,elementType:r0,externalForwardedProps:W,ownerState:z,additionalProps:{id:M}}),[U,ne]=kt("select",{className:O.select,elementType:s0,externalForwardedProps:W,ownerState:z}),[ce,ve]=kt("menuItem",{className:O.menuItem,elementType:H,externalForwardedProps:W,ownerState:z}),[fe,ke]=kt("displayedRows",{className:O.displayedRows,elementType:a0,externalForwardedProps:W,ownerState:z});return p.jsx(E,{...G,children:p.jsxs(Z,{...q,children:[p.jsx(te,{...J}),P.length>1&&p.jsx(oe,{...X,children:g}),P.length>1&&p.jsx(U,{variant:"standard",...!$.variant&&{input:cd||(cd=p.jsx(cc,{}))},value:_,onChange:w,id:I,labelId:M,...$,classes:{...$.classes,root:Oe(O.input,O.selectRoot,($.classes||{}).root),select:Oe(O.select,($.classes||{}).select),icon:Oe(O.selectIcon,($.classes||{}).icon)},disabled:v,...ne,children:P.map(_e=>l.createElement(ce,{...ve,key:_e.label?_e.label:_e,value:_e.value?_e.value:_e},_e.label?_e.label:_e))}),p.jsx(fe,{...ke,children:f({from:h===0?0:C*_+1,to:j(),count:h===-1?-1:h,page:C})}),p.jsx(i,{className:O.actions,backIconButtonProps:a,count:h,nextIconButtonProps:b,onPageChange:x,page:C,rowsPerPage:_,showFirstButton:D,showLastButton:V,slotProps:A.actions,slots:k.actions,getItemAriaLabel:m,disabled:v})]})})});function p0(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}function h0(e,t,o,r={},i=()=>{}){const{ease:a=p0,duration:c=300}=r;let d=null;const h=t[e];let v=!1;const m=()=>{v=!0},f=g=>{if(v){i(new Error("Animation cancelled"));return}d===null&&(d=g);const b=Math.min(1,(g-d)/c);if(t[e]=a(b)*(o-h)+h,b>=1){requestAnimationFrame(()=>{i(null)});return}requestAnimationFrame(f)};return h===o?(i(new Error("Element already at target position")),m):(requestAnimationFrame(f),m)}const m0={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function f0(e){const{onChange:t,...o}=e,r=l.useRef(),i=l.useRef(null),a=()=>{r.current=i.current.offsetHeight-i.current.clientHeight};return fa(()=>{const c=lc(()=>{const h=r.current;a(),h!==r.current&&t(r.current)}),d=ya(i.current);return d.addEventListener("resize",c),()=>{c.clear(),d.removeEventListener("resize",c)}},[t]),l.useEffect(()=>{a(),t(r.current)},[t]),p.jsx("div",{style:m0,...o,ref:i})}function g0(e){return Wt("MuiTabScrollButton",e)}const v0=Zt("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),y0=e=>{const{classes:t,orientation:o,disabled:r}=e;return Kt({root:["root",o,r&&"disabled"]},g0,t)},b0=Ee(Ys,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.orientation&&t[o.orientation]]}})({width:40,flexShrink:0,opacity:.8,[`&.${v0.disabled}`]:{opacity:0},variants:[{props:{orientation:"vertical"},style:{width:"100%",height:40,"& svg":{transform:"var(--TabScrollButton-svgRotate)"}}}]}),x0=l.forwardRef(function(t,o){const r=Ut({props:t,name:"MuiTabScrollButton"}),{className:i,slots:a={},slotProps:c={},direction:d,orientation:h,disabled:v,...m}=r,f=ba(),g={isRtl:f,...r},b=y0(g),x=a.StartScrollButtonIcon??gh,w=a.EndScrollButtonIcon??vh,C=Ki({elementType:x,externalSlotProps:c.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:g}),_=Ki({elementType:w,externalSlotProps:c.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:g});return p.jsx(b0,{component:"div",className:Oe(b.root,i),ref:o,role:null,ownerState:g,tabIndex:null,...m,style:{...m.style,...h==="vertical"&&{"--TabScrollButton-svgRotate":`rotate(${f?-90:90}deg)`}},children:d==="left"?p.jsx(x,{...C}):p.jsx(w,{..._})})});function C0(e){return Wt("MuiTabs",e)}const _l=Zt("MuiTabs",["root","vertical","list","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),ud=(e,t)=>e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:e.firstChild,dd=(e,t)=>e===t?e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:e.lastChild,Ti=(e,t,o)=>{let r=!1,i=o(e,t);for(;i;){if(i===e.firstChild){if(r)return;r=!0}const a=i.disabled||i.getAttribute("aria-disabled")==="true";if(!i.hasAttribute("tabindex")||a)i=o(e,i);else{i.focus();return}}},w0=e=>{const{vertical:t,fixed:o,hideScrollbar:r,scrollableX:i,scrollableY:a,centered:c,scrollButtonsHideMobile:d,classes:h}=e;return Kt({root:["root",t&&"vertical"],scroller:["scroller",o&&"fixed",r&&"hideScrollbar",i&&"scrollableX",a&&"scrollableY"],list:["list","flexContainer",t&&"flexContainerVertical",t&&"vertical",c&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",d&&"scrollButtonsHideMobile"],scrollableX:[i&&"scrollableX"],hideScrollbar:[r&&"hideScrollbar"]},C0,h)},S0=Ee("div",{name:"MuiTabs",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[{[`& .${_l.scrollButtons}`]:t.scrollButtons},{[`& .${_l.scrollButtons}`]:o.scrollButtonsHideMobile&&t.scrollButtonsHideMobile},t.root,o.vertical&&t.vertical]}})(Mt(({theme:e})=>({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex",variants:[{props:({ownerState:t})=>t.vertical,style:{flexDirection:"column"}},{props:({ownerState:t})=>t.scrollButtonsHideMobile,style:{[`& .${_l.scrollButtons}`]:{[e.breakpoints.down("sm")]:{display:"none"}}}}]}))),_0=Ee("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.scroller,o.fixed&&t.fixed,o.hideScrollbar&&t.hideScrollbar,o.scrollableX&&t.scrollableX,o.scrollableY&&t.scrollableY]}})({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap",variants:[{props:({ownerState:e})=>e.fixed,style:{overflowX:"hidden",width:"100%"}},{props:({ownerState:e})=>e.hideScrollbar,style:{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}},{props:({ownerState:e})=>e.scrollableX,style:{overflowX:"auto",overflowY:"hidden"}},{props:({ownerState:e})=>e.scrollableY,style:{overflowY:"auto",overflowX:"hidden"}}]}),P0=Ee("div",{name:"MuiTabs",slot:"List",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.list,t.flexContainer,o.vertical&&t.flexContainerVertical,o.centered&&t.centered]}})({display:"flex",variants:[{props:({ownerState:e})=>e.vertical,style:{flexDirection:"column"}},{props:({ownerState:e})=>e.centered,style:{justifyContent:"center"}}]}),I0=Ee("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(e,t)=>t.indicator})(Mt(({theme:e})=>({position:"absolute",height:2,bottom:0,width:"100%",transition:e.transitions.create(),variants:[{props:{indicatorColor:"primary"},style:{backgroundColor:(e.vars||e).palette.primary.main}},{props:{indicatorColor:"secondary"},style:{backgroundColor:(e.vars||e).palette.secondary.main}},{props:({ownerState:t})=>t.vertical,style:{height:"100%",width:2,right:0}}]}))),T0=Ee(f0)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),pd={},k0=l.forwardRef(function(t,o){const r=Ut({props:t,name:"MuiTabs"}),i=Jt(),a=ba(),{"aria-label":c,"aria-labelledby":d,action:h,centered:v=!1,children:m,className:f,component:g="div",allowScrollButtonsMobile:b=!1,indicatorColor:x="primary",onChange:w,orientation:C="horizontal",ScrollButtonComponent:_,scrollButtons:P="auto",selectionFollowsFocus:R,slots:D={},slotProps:V={},TabIndicatorProps:A={},TabScrollButtonProps:k={},textColor:F="primary",value:z,variant:O="standard",visibleScrollbar:$=!1,...H}=r,B=O==="scrollable",I=C==="vertical",M=I?"scrollTop":"scrollLeft",j=I?"top":"left",W=I?"bottom":"right",E=I?"clientHeight":"clientWidth",G=I?"height":"width",Z={...r,component:g,allowScrollButtonsMobile:b,indicatorColor:x,orientation:C,vertical:I,scrollButtons:P,textColor:F,variant:O,visibleScrollbar:$,fixed:!B,hideScrollbar:B&&!$,scrollableX:B&&!I,scrollableY:B&&I,centered:v&&!B,scrollButtonsHideMobile:!b},q=w0(Z),te=Ki({elementType:D.StartScrollButtonIcon,externalSlotProps:V.startScrollButtonIcon,ownerState:Z}),J=Ki({elementType:D.EndScrollButtonIcon,externalSlotProps:V.endScrollButtonIcon,ownerState:Z}),[oe,X]=l.useState(!1),[U,ne]=l.useState(pd),[ce,ve]=l.useState(!1),[fe,ke]=l.useState(!1),[_e,le]=l.useState(!1),[ye,Te]=l.useState({overflow:"hidden",scrollbarWidth:0}),De=new Map,ie=l.useRef(null),Pe=l.useRef(null),Me={slots:D,slotProps:{indicator:A,scrollButton:k,...V}},$e=()=>{const ge=ie.current;let he;if(ge){const Se=ge.getBoundingClientRect();he={clientWidth:ge.clientWidth,scrollLeft:ge.scrollLeft,scrollTop:ge.scrollTop,scrollWidth:ge.scrollWidth,top:Se.top,bottom:Se.bottom,left:Se.left,right:Se.right}}let xe;if(ge&&z!==!1){const Se=Pe.current.children;if(Se.length>0){const pt=Se[De.get(z)];xe=pt?pt.getBoundingClientRect():null}}return{tabsMeta:he,tabMeta:xe}},Ke=ir(()=>{const{tabsMeta:ge,tabMeta:he}=$e();let xe=0,Se;I?(Se="top",he&&ge&&(xe=he.top-ge.top+ge.scrollTop)):(Se=a?"right":"left",he&&ge&&(xe=(a?-1:1)*(he[Se]-ge[Se]+ge.scrollLeft)));const pt={[Se]:xe,[G]:he?he[G]:0};if(typeof U[Se]!="number"||typeof U[G]!="number")ne(pt);else{const Ct=Math.abs(U[Se]-pt[Se]),Re=Math.abs(U[G]-pt[G]);(Ct>=1||Re>=1)&&ne(pt)}}),Ne=(ge,{animation:he=!0}={})=>{he?h0(M,ie.current,ge,{duration:i.transitions.duration.standard}):ie.current[M]=ge},be=ge=>{let he=ie.current[M];I?he+=ge:he+=ge*(a?-1:1),Ne(he)},Ie=()=>{const ge=ie.current[E];let he=0;const xe=Array.from(Pe.current.children);for(let Se=0;Se<xe.length;Se+=1){const pt=xe[Se];if(he+pt[E]>ge){Se===0&&(he=ge);break}he+=pt[E]}return he},Le=()=>{be(-1*Ie())},Ve=()=>{be(Ie())},[Qe,{onChange:rt,...et}]=kt("scrollbar",{className:Oe(q.scrollableX,q.hideScrollbar),elementType:T0,shouldForwardComponentProp:!0,externalForwardedProps:Me,ownerState:Z}),Je=l.useCallback(ge=>{rt==null||rt(ge),Te({overflow:null,scrollbarWidth:ge})},[rt]),[Pt,ct]=kt("scrollButtons",{className:Oe(q.scrollButtons,k.className),elementType:x0,externalForwardedProps:Me,ownerState:Z,additionalProps:{orientation:C,slots:{StartScrollButtonIcon:D.startScrollButtonIcon||D.StartScrollButtonIcon,EndScrollButtonIcon:D.endScrollButtonIcon||D.EndScrollButtonIcon},slotProps:{startScrollButtonIcon:te,endScrollButtonIcon:J}}}),it=()=>{const ge={};ge.scrollbarSizeListener=B?p.jsx(Qe,{...et,onChange:Je}):null;const xe=B&&(P==="auto"&&(ce||fe)||P===!0);return ge.scrollButtonStart=xe?p.jsx(Pt,{direction:a?"right":"left",onClick:Le,disabled:!ce,...ct}):null,ge.scrollButtonEnd=xe?p.jsx(Pt,{direction:a?"left":"right",onClick:Ve,disabled:!fe,...ct}):null,ge},jt=ir(ge=>{const{tabsMeta:he,tabMeta:xe}=$e();if(!(!xe||!he)){if(xe[j]<he[j]){const Se=he[M]+(xe[j]-he[j]);Ne(Se,{animation:ge})}else if(xe[W]>he[W]){const Se=he[M]+(xe[W]-he[W]);Ne(Se,{animation:ge})}}}),Ot=ir(()=>{B&&P!==!1&&le(!_e)});l.useEffect(()=>{const ge=lc(()=>{ie.current&&Ke()});let he;const xe=Ct=>{Ct.forEach(Re=>{Re.removedNodes.forEach(Xt=>{he==null||he.unobserve(Xt)}),Re.addedNodes.forEach(Xt=>{he==null||he.observe(Xt)})}),ge(),Ot()},Se=ya(ie.current);Se.addEventListener("resize",ge);let pt;return typeof ResizeObserver<"u"&&(he=new ResizeObserver(ge),Array.from(Pe.current.children).forEach(Ct=>{he.observe(Ct)})),typeof MutationObserver<"u"&&(pt=new MutationObserver(xe),pt.observe(Pe.current,{childList:!0})),()=>{ge.clear(),Se.removeEventListener("resize",ge),pt==null||pt.disconnect(),he==null||he.disconnect()}},[Ke,Ot]),l.useEffect(()=>{const ge=Array.from(Pe.current.children),he=ge.length;if(typeof IntersectionObserver<"u"&&he>0&&B&&P!==!1){const xe=ge[0],Se=ge[he-1],pt={root:ie.current,threshold:.99},Ct=zt=>{ve(!zt[0].isIntersecting)},Re=new IntersectionObserver(Ct,pt);Re.observe(xe);const Xt=zt=>{ke(!zt[0].isIntersecting)},xn=new IntersectionObserver(Xt,pt);return xn.observe(Se),()=>{Re.disconnect(),xn.disconnect()}}},[B,P,_e,m==null?void 0:m.length]),l.useEffect(()=>{X(!0)},[]),l.useEffect(()=>{Ke()}),l.useEffect(()=>{jt(pd!==U)},[jt,U]),l.useImperativeHandle(h,()=>({updateIndicator:Ke,updateScrollButtons:Ot}),[Ke,Ot]);const[Ht,qt]=kt("indicator",{className:Oe(q.indicator,A.className),elementType:I0,externalForwardedProps:Me,ownerState:Z,additionalProps:{style:U}}),ln=p.jsx(Ht,{...qt});let rn=0;const en=l.Children.map(m,ge=>{if(!l.isValidElement(ge))return null;const he=ge.props.value===void 0?rn:ge.props.value;De.set(he,rn);const xe=he===z;return rn+=1,l.cloneElement(ge,{fullWidth:O==="fullWidth",indicator:xe&&!oe&&ln,selected:xe,selectionFollowsFocus:R,onChange:w,textColor:F,value:he,...rn===1&&z===!1&&!ge.props.tabIndex?{tabIndex:0}:{}})}),Ce=ge=>{if(ge.altKey||ge.shiftKey||ge.ctrlKey||ge.metaKey)return;const he=Pe.current,xe=Fi(he).activeElement;if(xe.getAttribute("role")!=="tab")return;let pt=C==="horizontal"?"ArrowLeft":"ArrowUp",Ct=C==="horizontal"?"ArrowRight":"ArrowDown";switch(C==="horizontal"&&a&&(pt="ArrowRight",Ct="ArrowLeft"),ge.key){case pt:ge.preventDefault(),Ti(he,xe,dd);break;case Ct:ge.preventDefault(),Ti(he,xe,ud);break;case"Home":ge.preventDefault(),Ti(he,null,ud);break;case"End":ge.preventDefault(),Ti(he,null,dd);break}},Q=it(),[pe,Fe]=kt("root",{ref:o,className:Oe(q.root,f),elementType:S0,externalForwardedProps:{...Me,...H,component:g},ownerState:Z}),[yt,lt]=kt("scroller",{ref:ie,className:q.scroller,elementType:_0,externalForwardedProps:Me,ownerState:Z,additionalProps:{style:{overflow:ye.overflow,[I?`margin${a?"Left":"Right"}`:"marginBottom"]:$?void 0:-ye.scrollbarWidth}}}),[Ye,ft]=kt("list",{ref:Pe,className:Oe(q.list,q.flexContainer),elementType:P0,externalForwardedProps:Me,ownerState:Z,getSlotProps:ge=>({...ge,onKeyDown:he=>{var xe;Ce(he),(xe=ge.onKeyDown)==null||xe.call(ge,he)}})});return p.jsxs(pe,{...Fe,children:[Q.scrollButtonStart,Q.scrollbarSizeListener,p.jsxs(yt,{...lt,children:[p.jsx(Ye,{"aria-label":c,"aria-labelledby":d,"aria-orientation":C==="vertical"?"vertical":null,role:"tablist",...ft,children:en}),oe&&ln]}),Q.scrollButtonEnd]})}),yh={xs:"100%",sm:"22ch",md:"28ch"},hd=32,ss=48,M0={width:"100%",maxWidth:yh,px:1,display:"flex",alignItems:"center",minHeight:ss,flex:"0 0 auto","& .MuiInputBase-root":{minHeight:ss},"& .MuiSelect-select":{display:"flex",alignItems:"center",minHeight:ss},"& .MuiAutocomplete-inputRoot":{paddingTop:0,paddingBottom:0,transition:"all 120ms ease"}},Gl=({label:e,options:t,value:o,onChange:r,required:i=!1,inputValue:a,onInputChange:c,renderOption:d,wrapperSx:h})=>{const[v,m]=l.useState(""),f=a!==void 0?a:v,g=f.trim().toLowerCase(),b=l.useMemo(()=>g?t.filter(w=>(typeof w=="string"?w:w.label).toLowerCase().includes(g)):t,[g,t]),x=(w,C)=>{a===void 0&&m(C),c==null||c(C)};return p.jsx(Ue,{sx:h??M0,children:p.jsx(ei,{componentsProps:{popper:{style:{zIndex:2e3}}},disableClearable:!0,options:b,value:o==null?void 0:t.find(C=>typeof C=="string"?C===o:C.value===o)??void 0,onChange:(w,C)=>{if(C==null){r(null);return}const _=typeof C=="string"?C:C.value;r(_)},inputValue:f,onInputChange:x,getOptionLabel:w=>typeof w=="string"?w:w.label,renderOption:d??((w,C)=>p.jsx(Xi,{...w,dense:!0,children:p.jsx(ro,{primary:typeof C=="string"?C:C.label})})),renderInput:w=>{const C=p.jsx(p.Fragment,{children:w.InputProps.endAdornment});return p.jsx(_n,{...w,placeholder:o?"":e,size:"small",required:i,"aria-label":e,InputProps:{...w.InputProps,endAdornment:C,sx:{height:ss,transition:"all 120ms ease","& .MuiInputBase-input":{paddingTop:0,paddingBottom:0,paddingRight:"56px",fontSize:13,lineHeight:`${hd}px`}}}})},ListboxProps:{sx:{zIndex:2e3,maxHeight:320}},sx:{width:yh,"& .MuiAutocomplete-inputRoot":{minHeight:ss,maxHeight:ss,alignItems:"center",transition:"all 120ms ease","& .MuiInputBase-input":{paddingTop:0,paddingBottom:0,paddingRight:"56px",fontSize:13,lineHeight:`${hd}px`}}}})})},A0=jn(Ue),md=jn(Nt),D0=({allResources:e,calloutGroups:t,onStart:o,onDismiss:r})=>{const i=Jt(),[a,c]=l.useState(""),[d,h]=l.useState(""),[v,m]=l.useState(!1),f=l.useRef(null),g=a?e.filter(w=>w.calloutGroup===a):[];l.useMemo(()=>{if(!d.trim())return t;const w=d.toLowerCase();return t.filter(C=>C.toLowerCase().includes(w))},[t,d]);const b=l.useMemo(()=>{const w=new Map;for(const C of e){const _=C.calloutGroup??"";_&&w.set(_,(w.get(_)??0)+1)}return w},[e]);l.useEffect(()=>{if(!a){h("");return}h(a)},[a]),l.useEffect(()=>{const w=_=>{f.current&&(f.current.contains(_.target)||r())};document.addEventListener("mousedown",w);const C=_=>{_.key==="Escape"&&r()};return document.addEventListener("keydown",C),()=>{document.removeEventListener("mousedown",w),document.removeEventListener("keydown",C)}},[r]);const x=!a;return p.jsx(A0,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},sx:{position:"fixed",inset:0,zIndex:1e4,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"rgba(5,20,40,0.6)",backdropFilter:"blur(8px)"},onClick:r,children:p.jsx(md,{ref:f,elevation:18,onClick:w=>w.stopPropagation(),sx:{width:"100%",maxWidth:{xs:"100%",md:i.spacing(120)},mx:2,borderRadius:4,px:{xs:3,md:6},py:{xs:4,md:6},border:`1px solid ${me(i.palette.primary.main,.18)}`,boxShadow:"0 24px 55px rgba(10,74,122,0.28)",backgroundImage:"none"},children:p.jsxs(ot,{spacing:6,children:[p.jsxs(ot,{direction:"row",spacing:3,alignItems:"center",children:[p.jsx(Ue,{sx:{height:i.spacing(5.5),width:i.spacing(5.5),borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",bgcolor:i.palette.primary.main,color:i.palette.primary.contrastText,boxShadow:"0 12px 28px rgba(10,74,122,0.35)"},children:p.jsx(xa,{size:20})}),p.jsxs(ot,{spacing:.75,children:[p.jsx(Ge,{variant:"h6",fontWeight:600,color:"text.primary",children:"Select Callout List"}),p.jsx(Ge,{variant:"body2",color:"text.secondary",children:"Choose a callout group to begin the workflow."})]})]}),p.jsxs(ot,{spacing:1.5,children:[p.jsx(Ge,{variant:"overline",sx:{fontWeight:700,letterSpacing:1.2,color:me(i.palette.primary.main,.8)},children:"Callout Group"}),p.jsx(Gl,{label:"Callout Group",options:t,value:a||null,inputValue:d,onInputChange:w=>{h(w),w||c("")},onChange:w=>{const C=w??"";c(C),h(C),m(!1),C&&o(C)},renderOption:(w,C)=>{const _=typeof C=="string"?C:C.label,P=b.get(_)??0;return l.createElement("li",{...w,key:_},p.jsxs(ot,{direction:"row",spacing:1.5,alignItems:"center",justifyContent:"space-between",sx:{width:"100%"},children:[p.jsx(Ge,{variant:"body2",color:"text.primary",children:_}),p.jsxs(Ge,{variant:"caption",color:"text.secondary",children:[P," ",P===1?"resource":"resources"]})]}))}})]}),p.jsx(Ue,{sx:{minHeight:64},children:p.jsx(wr,{mode:"wait",children:a&&p.jsx(md,{elevation:0,initial:{opacity:0,y:-6},animate:{opacity:1,y:0},exit:{opacity:0,y:-6},transition:{duration:.18},sx:{display:"inline-flex",alignItems:"center",gap:1,px:3,py:2,borderRadius:2,border:`1px solid ${me(i.palette.primary.main,.25)}`,bgcolor:me(i.palette.primary.main,.08),color:i.palette.primary.main,fontSize:"0.95rem",fontWeight:600},children:p.jsxs(Ge,{variant:"body2",color:"inherit",children:[p.jsx(Ue,{component:"span",sx:{fontWeight:700},children:g.length})," ",g.length===1?"resource":"resources"," in this callout group."]})},a)})}),p.jsx(ot,{direction:"row",justifyContent:"flex-end",children:p.jsx(an,{onClick:()=>{m(!1),o(a)},disabled:x,variant:"contained",endIcon:p.jsx(Gg,{size:16}),sx:{textTransform:"none",fontWeight:600,px:3,py:1.25,borderRadius:2},children:"Continue"})})]})})})},Cn=JSON.parse('[{"taskId":"RG-AB30001","division":"Admin","taskStatus":"Not Assigned (ACT)","pwa":"ZB-ALPHA-12","taskType":"Admin Review","primarySkill":"ADMIN1","capabilities":["ADMIN1"],"importanceScore":97,"msc":"Y","taskCreated":"Mon 6 Jan, 10:40 AM","groupCode":"Admin Group","systemType":"FSM","employeeId":"T6344","resourceName":"Dylan Lewis","asset":"OFF-8247","assetName":"Document Verification Queue","commitmentDate":"Fri 7 Jan, 1:15 PM","commitmentType":"Complete By","arrivedAtDate":"","domain":"CF","estimatedDuration":150,"lastProgression":"On Site","category":"Administration","description":"Administration task for broadband/FTTP service in local area.","responseCode":"SH01","postCode":"CF44 8AU","appointmentStartDate":"","linkedTask":"","customerAddress":"","expectedStartDate":"Sat 7 Jan, 8:15 AM","expectedFinishDate":"Wed 8 Jan, 10:45 AM","externalQueueId":"EXT-441440","workId":"WK-790218","estimateNumber":"EST-55784","startDate":"","lat":51.70832,"lng":-3.44613,"expectedWindow":"8amâ€“10:30am","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 8AU\\n- Type Admin Review\\n- Skill ADMIN1\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Not Assigned (ACT)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Not Assigned (ACT)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30002","division":"Service Delivery","taskStatus":"Assigned (ACT)","pwa":"ZB-OMEGA-09","taskType":"Survey","primarySkill":"RISDN2","capabilities":["RISDN2"],"importanceScore":45,"msc":"Y","taskCreated":"Thu 7 Jan, 10:40 AM","groupCode":"Service Delivery","systemType":"NW","employeeId":"T7690","resourceName":"John Edwards","asset":"MH-5541","assetName":"Route Survey Node","commitmentDate":"Fri 10 Jan, 3:30 PM","commitmentType":"Future","arrivedAtDate":"","domain":"MN","estimatedDuration":90,"lastProgression":"On Site","category":"Survey","description":"Survey task for broadband/FTTP service in local area.","responseCode":"SH05","postCode":"CF44 7IW","appointmentStartDate":"","linkedTask":"","customerAddress":"111 Hirwaun Road, Aberdare","expectedStartDate":"Sat 8 Jan, 10:40 AM","expectedFinishDate":"Thu 11 Jan, 11:10 AM","externalQueueId":"EXT-441998","workId":"WK-729320","estimateNumber":"EST-55739","startDate":"","lat":51.70624,"lng":-3.44051,"expectedWindow":"10amâ€“11:30am","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7IW\\n- Type Survey\\n- Skill RISDN2\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Assigned (ACT)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Assigned (ACT)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30003","division":"Service Delivery","taskStatus":"Dispatched (AWI)","pwa":"ZB-ALPHA-02","taskType":"Repair","primarySkill":"RISDN2","capabilities":["RISDN2"],"importanceScore":90,"msc":"N","taskCreated":"Wed 11 Jan, 10:40 AM","groupCode":"Service Delivery","systemType":"OR","employeeId":"T6721","resourceName":"Ryan Jenkins","asset":"CAB-8837","assetName":"DP Pole","commitmentDate":"Wed 13 Jan, 11:20 AM","commitmentType":"Future","arrivedAtDate":"Thu 11 Jan, 8:15 AM","domain":"SE","estimatedDuration":120,"lastProgression":"On Site","category":"Repair","description":"Repair task for broadband/FTTP service in local area.","responseCode":"SH03","postCode":"CF44 7SL","appointmentStartDate":"","linkedTask":"","customerAddress":"108 Victoria Street, Aberdare","expectedStartDate":"Sat 11 Jan, 8:15 AM","expectedFinishDate":"Wed 14 Jan, 10:15 AM","externalQueueId":"EXT-441215","workId":"WK-703093","estimateNumber":"EST-55777","startDate":"Sat 11 Jan, 8:15 AM","lat":51.7204,"lng":-3.44196,"expectedWindow":"8amâ€“10am","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7SL\\n- Type Repair\\n- Skill RISDN2\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Dispatched (AWI)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Dispatched (AWI)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30004","division":"Complex Engineering","taskStatus":"Accepted (ISS)","pwa":"ZB-GAMMA-05","taskType":"Survey","primarySkill":"RFTTP1","capabilities":["RFTTP1"],"importanceScore":54,"msc":"Y","taskCreated":"Fri 3 Jan, 3:30 PM","groupCode":"Complex Engineering","systemType":"NW","employeeId":"T8224","resourceName":"Nia Brown","asset":"AS-1941","assetName":"Joint Box","commitmentDate":"Mon 5 Jan, 8:15 AM","commitmentType":"Start By","arrivedAtDate":"Mon 6 Jan, 4:10 PM","domain":"CF","estimatedDuration":45,"lastProgression":"Completed","category":"Survey","description":"Survey task for broadband/FTTP service in local area.","responseCode":"SH01","postCode":"CF44 6IQ","appointmentStartDate":"","linkedTask":"","customerAddress":"28 Aberaman Road, Aberdare","expectedStartDate":"Wed 7 Jan, 3:30 PM","expectedFinishDate":"Fri 10 Jan, 4:15 PM","externalQueueId":"EXT-441801","workId":"WK-746808","estimateNumber":"EST-55786","startDate":"Wed 7 Jan, 3:30 PM","lat":51.70576,"lng":-3.43954,"expectedWindow":"3pmâ€“3:45pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 6IQ\\n- Type Survey\\n- Skill RFTTP1\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Accepted (ISS)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Accepted (ISS)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30005","division":"Admin","taskStatus":"In Progress (EXC)","pwa":"ZB-OMEGA-06","taskType":"Admin Review","primarySkill":"ADMIN2","capabilities":["ADMIN2"],"importanceScore":64,"msc":"Y","taskCreated":"Fri 13 Jan, 9:05 AM","groupCode":"Admin Group","systemType":"OR","employeeId":"T7544","resourceName":"Harvey Rees","asset":"OFF-3588","assetName":"Document Verification Queue","commitmentDate":"Sat 15 Jan, 3:30 PM","commitmentType":"Complete By","arrivedAtDate":"Wed 16 Jan, 11:20 AM","domain":"SE","estimatedDuration":60,"lastProgression":"Accepted","category":"Administration","description":"Administration task for broadband/FTTP service in local area.","responseCode":"AD02","postCode":"CF44 7NZ","appointmentStartDate":"","linkedTask":"","customerAddress":"","expectedStartDate":"Thu 16 Jan, 11:20 AM","expectedFinishDate":"Fri 19 Jan, 12:20 PM","externalQueueId":"EXT-441383","workId":"WK-734734","estimateNumber":"EST-55767","startDate":"Thu 16 Jan, 11:20 AM","lat":51.70775,"lng":-3.44796,"expectedWindow":"11amâ€“12pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7NZ\\n- Type Admin Review\\n- Skill ADMIN2\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"In Progress (EXC)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"In Progress (EXC)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30006","division":"Admin","taskStatus":"Completed (COM)","pwa":"ZB-GAMMA-07","taskType":"Admin Review","primarySkill":"ADMIN1","capabilities":["ADMIN1"],"importanceScore":56,"msc":"Y","taskCreated":"Thu 10 Jan, 9:05 AM","groupCode":"Admin Group","systemType":"FSM","employeeId":"T5414","resourceName":"Ffion Davies","asset":"OFF-8718","assetName":"Admin Processing Queue","commitmentDate":"Fri 13 Jan, 11:20 AM","commitmentType":"Appointment","arrivedAtDate":"Sat 16 Jan, 4:10 PM","domain":"MN","estimatedDuration":90,"lastProgression":"Completed","category":"Administration","description":"Administration task for broadband/FTTP service in local area.","responseCode":"sh02","postCode":"CF44 7TJ","appointmentStartDate":"Sun 16 Jan, 8:15 AM","linkedTask":"","customerAddress":"","expectedStartDate":"Sat 16 Jan, 8:15 AM","expectedFinishDate":"Thu 19 Jan, 9:45 AM","externalQueueId":"EXT-441404","workId":"WK-728071","estimateNumber":"EST-55763","startDate":"Sat 16 Jan, 8:15 AM","lat":51.70737,"lng":-3.45195,"expectedWindow":"8amâ€“9:30am","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7TJ\\n- Type Admin Review\\n- Skill ADMIN1\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Completed (COM)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Completed (COM)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30007","division":"Complex Engineering","taskStatus":"Not Assigned (ACT)","pwa":"ZB-DELTA-07","taskType":"Survey","primarySkill":"ADMIN1","capabilities":["ADMIN1"],"importanceScore":74,"msc":"Y","taskCreated":"Mon 12 Jan, 8:15 AM","groupCode":"Complex Engineering","systemType":"OR","employeeId":"T1258","resourceName":"Nia Hughes","asset":"CAB-1922","assetName":"Route Survey Node","commitmentDate":"Tue 14 Jan, 2:00 PM","commitmentType":"Complete By","arrivedAtDate":"","domain":"SE","estimatedDuration":120,"lastProgression":"En Route","category":"Survey","description":"Survey task for broadband/FTTP service in local area.","responseCode":"SH05","postCode":"CF44 6XQ","appointmentStartDate":"","linkedTask":"","customerAddress":"75 Cardiff Road, Aberdare","expectedStartDate":"Fri 14 Jan, 2:00 PM","expectedFinishDate":"Sun 17 Jan, 4:00 PM","externalQueueId":"EXT-441499","workId":"WK-781809","estimateNumber":"EST-55797","startDate":"","lat":51.71928,"lng":-3.44445,"expectedWindow":"2pmâ€“4pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 6XQ\\n- Type Survey\\n- Skill ADMIN1\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Not Assigned (ACT)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Not Assigned (ACT)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30008","division":"Service Delivery","taskStatus":"Assigned (ACT)","pwa":"ZB-GAMMA-10","taskType":"Emergency","primarySkill":"RISDN3","capabilities":["RISDN3"],"importanceScore":89,"msc":"N","taskCreated":"Sat 8 Jan, 10:40 AM","groupCode":"Service Delivery","systemType":"OR","employeeId":"T9306","resourceName":"Ryan Lewis","asset":"AS-4107","assetName":"Backhaul Joint","commitmentDate":"Tue 10 Jan, 2:00 PM","commitmentType":"Future","arrivedAtDate":"","domain":"MN","estimatedDuration":90,"lastProgression":"On Site","category":"Emergency","description":"Emergency task for broadband/FTTP service in local area.","responseCode":"SH01","postCode":"CF44 8IN","appointmentStartDate":"","linkedTask":"RG-AB30003","customerAddress":"63 Brook Street, Aberdare","expectedStartDate":"Thu 10 Jan, 2:00 PM","expectedFinishDate":"Sun 13 Jan, 3:30 PM","externalQueueId":"EXT-441318","workId":"WK-764130","estimateNumber":"EST-55734","startDate":"","lat":51.70599,"lng":-3.44795,"expectedWindow":"2pmâ€“3:30pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 8IN\\n- Type Emergency\\n- Skill RISDN3\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Assigned (ACT)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Assigned (ACT)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30009","division":"Service Delivery","taskStatus":"Dispatched (AWI)","pwa":"ZB-ALPHA-06","taskType":"Emergency","primarySkill":"RISDN1","capabilities":["RISDN1"],"importanceScore":77,"msc":"Y","taskCreated":"Wed 8 Jan, 7:30 AM","groupCode":"Service Delivery","systemType":"OR","employeeId":"T2730","resourceName":"Nia Edwards","asset":"AS-1363","assetName":"Backhaul Joint","commitmentDate":"Thu 10 Jan, 7:30 AM","commitmentType":"Appointment","arrivedAtDate":"Thu 10 Jan, 11:20 AM","domain":"SE","estimatedDuration":150,"lastProgression":"On Site","category":"Emergency","description":"Emergency task for broadband/FTTP service in local area.","responseCode":"SH01","postCode":"CF44 7MH","appointmentStartDate":"Fri 10 Jan, 7:30 AM","linkedTask":"RG-AB30006","customerAddress":"71 Gadlys Road, Aberdare","expectedStartDate":"Fri 10 Jan, 7:30 AM","expectedFinishDate":"Sun 13 Jan, 10:00 AM","externalQueueId":"EXT-441511","workId":"WK-797851","estimateNumber":"EST-55735","startDate":"Fri 10 Jan, 7:30 AM","lat":51.7155,"lng":-3.45247,"expectedWindow":"7amâ€“9:30am","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7MH\\n- Type Emergency\\n- Skill RISDN1\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Dispatched (AWI)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Dispatched (AWI)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30010","division":"Complex Engineering","taskStatus":"Accepted (ISS)","pwa":"ZB-DELTA-05","taskType":"Inspection","primarySkill":"RISDN3","capabilities":["RISDN3"],"importanceScore":97,"msc":"Y","taskCreated":"Tue 11 Jan, 4:10 PM","groupCode":"Complex Engineering","systemType":"FSM","employeeId":"T9864","resourceName":"Nia Jenkins","asset":"AS-5489","assetName":"Distribution Point","commitmentDate":"Tue 13 Jan, 2:00 PM","commitmentType":"Appointment","arrivedAtDate":"Thu 15 Jan, 11:20 AM","domain":"MN","estimatedDuration":90,"lastProgression":"On Site","category":"Inspection","description":"Inspection task for broadband/FTTP service in local area.","responseCode":"SH04","postCode":"CF44 8JK","appointmentStartDate":"Thu 15 Jan, 2:00 PM","linkedTask":"","customerAddress":"91 Robertstown Road, Aberdare","expectedStartDate":"Thu 15 Jan, 2:00 PM","expectedFinishDate":"Sat 18 Jan, 3:30 PM","externalQueueId":"EXT-441812","workId":"WK-728959","estimateNumber":"EST-55777","startDate":"Thu 15 Jan, 2:00 PM","lat":51.70787,"lng":-3.44639,"expectedWindow":"2pmâ€“3:30pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 8JK\\n- Type Inspection\\n- Skill RISDN3\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Accepted (ISS)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Accepted (ISS)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30011","division":"Admin","taskStatus":"In Progress (EXC)","pwa":"ZB-OMEGA-02","taskType":"Admin Review","primarySkill":"ADMIN2","capabilities":["ADMIN2"],"importanceScore":45,"msc":"Y","taskCreated":"Wed 3 Jan, 10:40 AM","groupCode":"Admin Group","systemType":"FSM","employeeId":"T8103","resourceName":"Rhys Hughes","asset":"OFF-7322","assetName":"Document Verification Queue","commitmentDate":"Thu 5 Jan, 2:00 PM","commitmentType":"Appointment","arrivedAtDate":"Fri 8 Jan, 11:20 AM","domain":"CF","estimatedDuration":60,"lastProgression":"Completed","category":"Administration","description":"Administration task for broadband/FTTP service in local area.","responseCode":"SH04","postCode":"CF44 7JR","appointmentStartDate":"Sat 8 Jan, 2:00 PM","linkedTask":"RG-AB30003","customerAddress":"","expectedStartDate":"Sat 8 Jan, 2:00 PM","expectedFinishDate":"Tue 11 Jan, 3:00 PM","externalQueueId":"EXT-441888","workId":"WK-775917","estimateNumber":"EST-55728","startDate":"Sat 8 Jan, 2:00 PM","lat":51.7254,"lng":-3.50534,"expectedWindow":"2pmâ€“3pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7JR\\n- Type Admin Review\\n- Skill ADMIN2\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"In Progress (EXC)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"In Progress (EXC)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30012","division":"Complex Engineering","taskStatus":"Completed (COM)","pwa":"ZB-ALPHA-04","taskType":"Inspection","primarySkill":"RFTTP2","capabilities":["RFTTP2"],"importanceScore":49,"msc":"Y","taskCreated":"Sat 11 Jan, 9:05 AM","groupCode":"Complex Engineering","systemType":"NW","employeeId":"T8443","resourceName":"Lowri Jenkins","asset":"AS-8859","assetName":"Distribution Point","commitmentDate":"Sat 14 Jan, 1:15 PM","commitmentType":"Complete By","arrivedAtDate":"Mon 16 Jan, 4:10 PM","domain":"MN","estimatedDuration":90,"lastProgression":"Completed","category":"Inspection","description":"Inspection task for broadband/FTTP service in local area.","responseCode":"SH05","postCode":"CF44 7DZ","appointmentStartDate":"","linkedTask":"RG-AB30007","customerAddress":"109 High Street, Aberdare","expectedStartDate":"Tue 16 Jan, 4:10 PM","expectedFinishDate":"Fri 19 Jan, 5:40 PM","externalQueueId":"EXT-441590","workId":"WK-758165","estimateNumber":"EST-55792","startDate":"Tue 16 Jan, 4:10 PM","lat":51.72091,"lng":-3.52057,"expectedWindow":"4pmâ€“5:30pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7DZ\\n- Type Inspection\\n- Skill RFTTP2\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Completed (COM)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Completed (COM)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30013","division":"Service Delivery","taskStatus":"Not Assigned (ACT)","pwa":"ZB-ALPHA-04","taskType":"Inspection","primarySkill":"RISDN2","capabilities":["RISDN2"],"importanceScore":82,"msc":"Y","taskCreated":"Tue 7 Jan, 10:40 AM","groupCode":"Service Delivery","systemType":"NW","employeeId":"T9526","resourceName":"Lauren Evans","asset":"AS-9446","assetName":"Underground Joint Chamber","commitmentDate":"Wed 9 Jan, 11:20 AM","commitmentType":"Appointment","arrivedAtDate":"","domain":"CF","estimatedDuration":120,"lastProgression":"On Site","category":"Inspection","description":"Inspection task for broadband/FTTP service in local area.","responseCode":"SH01","postCode":"CF44 6EV","appointmentStartDate":"Thu 9 Jan, 11:20 AM","linkedTask":"RG-AB30003","customerAddress":"81 Cardiff Road, Aberdare","expectedStartDate":"Thu 9 Jan, 11:20 AM","expectedFinishDate":"Sun 12 Jan, 1:20 PM","externalQueueId":"EXT-441954","workId":"WK-790116","estimateNumber":"EST-55766","startDate":"","lat":51.72224,"lng":-3.51289,"expectedWindow":"11amâ€“1pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 6EV\\n- Type Inspection\\n- Skill RISDN2\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Not Assigned (ACT)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Not Assigned (ACT)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30014","division":"Complex Engineering","taskStatus":"Assigned (ACT)","pwa":"ZB-GAMMA-02","taskType":"Emergency","primarySkill":"RISDN3","capabilities":["RISDN3"],"importanceScore":88,"msc":"N","taskCreated":"Wed 13 Jan, 9:05 AM","groupCode":"Complex Engineering","systemType":"OR","employeeId":"T5309","resourceName":"Aled Evans","asset":"AS-9906","assetName":"Priority Splice Enclosure","commitmentDate":"Thu 16 Jan, 11:20 AM","commitmentType":"Appointment","arrivedAtDate":"","domain":"CF","estimatedDuration":90,"lastProgression":"Allocated","category":"Emergency","description":"Emergency task for broadband/FTTP service in local area.","responseCode":"SH05","postCode":"CF44 7AV","appointmentStartDate":"Fri 16 Jan, 11:20 AM","linkedTask":"","customerAddress":"77 Canon Street, Aberdare","expectedStartDate":"Fri 16 Jan, 11:20 AM","expectedFinishDate":"Mon 19 Jan, 12:50 PM","externalQueueId":"EXT-441587","workId":"WK-785274","estimateNumber":"EST-55720","startDate":"","lat":51.71383,"lng":-3.44986,"expectedWindow":"11amâ€“12:30pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7AV\\n- Type Emergency\\n- Skill RISDN3\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Assigned (ACT)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Assigned (ACT)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30015","division":"Service Delivery","taskStatus":"Dispatched (AWI)","pwa":"ZB-GAMMA-04","taskType":"Repair","primarySkill":"RISDN1","capabilities":["RISDN1"],"importanceScore":76,"msc":"N","taskCreated":"Sat 3 Jan, 7:30 AM","groupCode":"Service Delivery","systemType":"OR","employeeId":"T8571","resourceName":"Ffion Hughes","asset":"AS-8163","assetName":"Drop Wire","commitmentDate":"Mon 6 Jan, 9:05 AM","commitmentType":"Complete By","arrivedAtDate":"Wed 8 Jan, 10:40 AM","domain":"SE","estimatedDuration":60,"lastProgression":"Completed","category":"Repair","description":"Repair task for broadband/FTTP service in local area.","responseCode":"SH05","postCode":"CF44 8BQ","appointmentStartDate":"","linkedTask":"","customerAddress":"86 Albert Street, Aberdare","expectedStartDate":"Thu 8 Jan, 10:40 AM","expectedFinishDate":"Sun 11 Jan, 11:40 AM","externalQueueId":"EXT-441968","workId":"WK-703787","estimateNumber":"EST-55733","startDate":"Thu 8 Jan, 10:40 AM","lat":51.71159,"lng":-3.44429,"expectedWindow":"10amâ€“11am","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 8BQ\\n- Type Repair\\n- Skill RISDN1\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Dispatched (AWI)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Dispatched (AWI)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30016","division":"Complex Engineering","taskStatus":"Accepted (ISS)","pwa":"ZB-ALPHA-02","taskType":"Survey","primarySkill":"RFTTP1","capabilities":["RFTTP1"],"importanceScore":60,"msc":"Y","taskCreated":"Tue 5 Jan, 2:00 PM","groupCode":"Complex Engineering","systemType":"NW","employeeId":"T7749","resourceName":"Ryan Morgan","asset":"MH-8437","assetName":"Manhole Access Point","commitmentDate":"Wed 7 Jan, 3:30 PM","commitmentType":"Start By","arrivedAtDate":"Thu 9 Jan, 11:20 AM","domain":"MN","estimatedDuration":150,"lastProgression":"On Site","category":"Survey","description":"Survey task for broadband/FTTP service in local area.","responseCode":"SH05","postCode":"CF44 8WX","appointmentStartDate":"","linkedTask":"","customerAddress":"44 Commercial Street, Aberdare","expectedStartDate":"Thu 9 Jan, 11:20 AM","expectedFinishDate":"Sun 12 Jan, 1:50 PM","externalQueueId":"EXT-441720","workId":"WK-723933","estimateNumber":"EST-55754","startDate":"Thu 9 Jan, 11:20 AM","lat":51.71966,"lng":-3.44275,"expectedWindow":"11amâ€“1:30pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 8WX\\n- Type Survey\\n- Skill RFTTP1\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Accepted (ISS)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Accepted (ISS)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30017","division":"Admin","taskStatus":"In Progress (EXC)","pwa":"ZB-OMEGA-01","taskType":"Admin Review","primarySkill":"ADMIN2","capabilities":["ADMIN2"],"importanceScore":86,"msc":"Y","taskCreated":"Wed 7 Jan, 1:15 PM","groupCode":"Admin Group","systemType":"OR","employeeId":"T9344","resourceName":"Lauren Roberts","asset":"OFF-4090","assetName":"Admin Processing Queue","commitmentDate":"Thu 9 Jan, 3:30 PM","commitmentType":"Future","arrivedAtDate":"Sat 11 Jan, 11:20 AM","domain":"SE","estimatedDuration":40,"lastProgression":"Allocated","category":"Administration","description":"Administration task for broadband/FTTP service in local area.","responseCode":"AD02","postCode":"CF44 8PT","appointmentStartDate":"","linkedTask":"","customerAddress":"","expectedStartDate":"Sun 11 Jan, 11:20 AM","expectedFinishDate":"Wed 14 Jan, 12:00 PM","externalQueueId":"EXT-441249","workId":"WK-705434","estimateNumber":"EST-55758","startDate":"Sun 11 Jan, 11:20 AM","lat":51.7063,"lng":-3.50452,"expectedWindow":"11amâ€“12pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 8PT\\n- Type Admin Review\\n- Skill ADMIN2\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"In Progress (EXC)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"In Progress (EXC)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30018","division":"Service Delivery","taskStatus":"Completed (COM)","pwa":"ZB-OMEGA-11","taskType":"Emergency","primarySkill":"RISDN1","capabilities":["RISDN1"],"importanceScore":68,"msc":"Y","taskCreated":"Wed 9 Jan, 1:15 PM","groupCode":"Service Delivery","systemType":"OR","employeeId":"T9810","resourceName":"Ffion Smith","asset":"AS-7197","assetName":"Priority Splice Enclosure","commitmentDate":"Fri 11 Jan, 2:00 PM","commitmentType":"Future","arrivedAtDate":"Sun 13 Jan, 8:15 AM","domain":"CF","estimatedDuration":150,"lastProgression":"Completed","category":"Emergency","description":"Emergency task for broadband/FTTP service in local area.","responseCode":"SH01","postCode":"CF44 7WA","appointmentStartDate":"","linkedTask":"","customerAddress":"29 Robertstown Road, Aberdare","expectedStartDate":"Mon 13 Jan, 8:15 AM","expectedFinishDate":"Thu 16 Jan, 10:45 AM","externalQueueId":"EXT-441790","workId":"WK-772532","estimateNumber":"EST-55737","startDate":"Mon 13 Jan, 8:15 AM","lat":51.70622,"lng":-3.5041,"expectedWindow":"8amâ€“10:30am","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7WA\\n- Type Emergency\\n- Skill RISDN1\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Completed (COM)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Completed (COM)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30019","division":"Admin","taskStatus":"Assigned (ACT)","pwa":"ZB-GAMMA-09","taskType":"Admin Review","primarySkill":"ADMIN2","capabilities":["ADMIN2"],"importanceScore":71,"msc":"N","taskCreated":"Thu 13 Jan, 11:20 AM","groupCode":"Admin Group","systemType":"NW","employeeId":"T6541","resourceName":"Chloe Jenkins","asset":"OFF-1456","assetName":"Document Verification Queue","commitmentDate":"Fri 15 Jan, 2:00 PM","commitmentType":"Appointment","arrivedAtDate":"","domain":"SE","estimatedDuration":60,"lastProgression":"On Site","category":"Administration","description":"Administration task for broadband/FTTP service in local area.","responseCode":"AD02","postCode":"CF44 7XT","appointmentStartDate":"Sat 15 Jan, 2:00 PM","linkedTask":"","customerAddress":"","expectedStartDate":"Sat 15 Jan, 2:00 PM","expectedFinishDate":"Tue 18 Jan, 3:00 PM","externalQueueId":"EXT-441495","workId":"WK-765705","estimateNumber":"EST-55794","startDate":"","lat":51.70445,"lng":-3.4997,"expectedWindow":"2pmâ€“3pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7XT\\n- Type Admin Review\\n- Skill ADMIN2\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Assigned (ACT)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Assigned (ACT)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30020","division":"Service Delivery","taskStatus":"Dispatched (AWI)","pwa":"ZB-GAMMA-10","taskType":"Repair","primarySkill":"RISDN3","capabilities":["RISDN3"],"importanceScore":31,"msc":"Y","taskCreated":"Thu 5 Jan, 2:00 PM","groupCode":"Service Delivery","systemType":"OR","employeeId":"T9129","resourceName":"Chloe Hughes","asset":"CAB-1198","assetName":"Copper Joint Enclosure","commitmentDate":"Sat 7 Jan, 3:30 PM","commitmentType":"Start By","arrivedAtDate":"Sun 9 Jan, 10:40 AM","domain":"SE","estimatedDuration":45,"lastProgression":"Completed","category":"Repair","description":"Repair task for broadband/FTTP service in local area.","responseCode":"SH03","postCode":"CF44 7KB","appointmentStartDate":"","linkedTask":"RG-AB30018","customerAddress":"118 Cardiff Road, Aberdare","expectedStartDate":"Mon 9 Jan, 10:40 AM","expectedFinishDate":"Thu 12 Jan, 11:25 AM","externalQueueId":"EXT-441992","workId":"WK-731785","estimateNumber":"EST-55771","startDate":"Mon 9 Jan, 10:40 AM","lat":51.72207,"lng":-3.5099,"expectedWindow":"10amâ€“11:15am","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7KB\\n- Type Repair\\n- Skill RISDN3\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Dispatched (AWI)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Dispatched (AWI)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30021","division":"Complex Engineering","taskStatus":"Accepted (ISS)","pwa":"ZB-ALPHA-10","taskType":"Survey","primarySkill":"RFTTP1","capabilities":["RFTTP1"],"importanceScore":68,"msc":"Y","taskCreated":"Fri 9 Jan, 8:15 AM","groupCode":"Complex Engineering","systemType":"FSM","employeeId":"T7859","resourceName":"Tomos Hughes","asset":"AS-6348","assetName":"Route Survey Node","commitmentDate":"Sun 11 Jan, 3:30 PM","commitmentType":"Complete By","arrivedAtDate":"Mon 13 Jan, 11:20 AM","domain":"CF","estimatedDuration":90,"lastProgression":"Scheduled","category":"Survey","description":"Survey task for broadband/FTTP service in local area.","responseCode":"SH03","postCode":"CF44 6US","appointmentStartDate":"","linkedTask":"","customerAddress":"16 Brook Street, Aberdare","expectedStartDate":"Mon 13 Jan, 11:20 AM","expectedFinishDate":"Thu 16 Jan, 12:50 PM","externalQueueId":"EXT-441467","workId":"WK-716640","estimateNumber":"EST-55776","startDate":"Mon 13 Jan, 11:20 AM","lat":51.71882,"lng":-3.4518,"expectedWindow":"11amâ€“12:30pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 6US\\n- Type Survey\\n- Skill RFTTP1\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Accepted (ISS)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Accepted (ISS)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30022","division":"Service Delivery","taskStatus":"Not Assigned (ACT)","pwa":"ZB-DELTA-10","taskType":"Inspection","primarySkill":"RISDN3","capabilities":["RISDN3"],"importanceScore":69,"msc":"Y","taskCreated":"Mon 10 Jan, 9:05 AM","groupCode":"Service Delivery","systemType":"NW","employeeId":"T3909","resourceName":"Chloe Hughes","asset":"AS-7695","assetName":"Underground Joint Chamber","commitmentDate":"Tue 12 Jan, 1:15 PM","commitmentType":"Appointment","arrivedAtDate":"","domain":"MN","estimatedDuration":90,"lastProgression":"Allocated","category":"Inspection","description":"Inspection task for broadband/FTTP service in local area.","responseCode":"SH01","postCode":"CF44 7TT","appointmentStartDate":"Wed 12 Jan, 1:15 PM","linkedTask":"","customerAddress":"40 Cardif Road, Aberdare","expectedStartDate":"Wed 12 Jan, 1:15 PM","expectedFinishDate":"Sat 15 Jan, 2:45 PM","externalQueueId":"EXT-441413","workId":"WK-783470","estimateNumber":"EST-55797","startDate":"","lat":51.71277,"lng":-3.44368,"expectedWindow":"1pmâ€“2:30pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7TT\\n- Type Inspection\\n- Skill RISDN3\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Not Assigned (ACT)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Not Assigned (ACT)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30023","division":"Admin","taskStatus":"Assigned (ACT)","pwa":"ZB-DELTA-03","taskType":"Admin Review","primarySkill":"ADMIN1","capabilities":["ADMIN1"],"importanceScore":71,"msc":"Y","taskCreated":"Wed 13 Jan, 4:10 PM","groupCode":"Admin Group","systemType":"OR","employeeId":"T9772","resourceName":"Rhys Thomas","asset":"OFF-3119","assetName":"Admin Processing Queue","commitmentDate":"Fri 15 Jan, 1:15 PM","commitmentType":"Future","arrivedAtDate":"","domain":"MN","estimatedDuration":40,"lastProgression":"Scheduled","category":"Administration","description":"Administration task for broadband/FTTP service in local area.","responseCode":"AD02","postCode":"CF44 7ZV","appointmentStartDate":"","linkedTask":"RG-AB30010","customerAddress":"","expectedStartDate":"Sat 15 Jan, 1:15 PM","expectedFinishDate":"Tue 18 Jan, 1:55 PM","externalQueueId":"EXT-441695","workId":"WK-736499","estimateNumber":"EST-55740","startDate":"","lat":51.70499,"lng":-3.44123,"expectedWindow":"1pmâ€“1:40pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7ZV\\n- Type Admin Review\\n- Skill ADMIN1\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Assigned (ACT)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Assigned (ACT)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30024","division":"Complex Engineering","taskStatus":"Dispatched (AWI)","pwa":"ZB-GAMMA-04","taskType":"Emergency","primarySkill":"RFTTP2","capabilities":["RFTTP2"],"importanceScore":90,"msc":"N","taskCreated":"Sat 7 Jan, 7:30 AM","groupCode":"Complex Engineering","systemType":"OR","employeeId":"T6493","resourceName":"Tomos Hughes","asset":"AS-8145","assetName":"Core Node Cabinet","commitmentDate":"Sun 9 Jan, 8:15 AM","commitmentType":"Start By","arrivedAtDate":"Tue 11 Jan, 9:05 AM","domain":"MN","estimatedDuration":90,"lastProgression":"On Site","category":"Emergency","description":"Emergency task for broadband/FTTP service in local area.","responseCode":"SH03","postCode":"CF44 8ER","appointmentStartDate":"","linkedTask":"RG-AB30002","customerAddress":"96 Aberaman Road, Aberdare","expectedStartDate":"Tue 11 Jan, 9:05 AM","expectedFinishDate":"Fri 14 Jan, 10:35 AM","externalQueueId":"EXT-441684","workId":"WK-766702","estimateNumber":"EST-55764","startDate":"Tue 11 Jan, 9:05 AM","lat":51.7206,"lng":-3.4474,"expectedWindow":"9amâ€“10:30am","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 8ER\\n- Type Emergency\\n- Skill RFTTP2\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Dispatched (AWI)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Dispatched (AWI)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30025","division":"Service Delivery","taskStatus":"Accepted (ISS)","pwa":"ZB-DELTA-09","taskType":"Inspection","primarySkill":"RISDN1","capabilities":["RISDN1"],"importanceScore":45,"msc":"N","taskCreated":"Thu 6 Jan, 10:40 AM","groupCode":"Service Delivery","systemType":"FSM","employeeId":"T6815","resourceName":"Chloe Hughes","asset":"AS-4500","assetName":"Underground Joint Chamber","commitmentDate":"Sat 8 Jan, 11:20 AM","commitmentType":"Appointment","arrivedAtDate":"Sun 10 Jan, 4:10 PM","domain":"SE","estimatedDuration":120,"lastProgression":"Allocated","category":"Inspection","description":"Inspection task for broadband/FTTP service in local area.","responseCode":"SH04","postCode":"CF44 8KO","appointmentStartDate":"Mon 10 Jan, 11:20 AM","linkedTask":"RG-AB30010","customerAddress":"32 Cwmbach Road, Aberdare","expectedStartDate":"Mon 10 Jan, 11:20 AM","expectedFinishDate":"Thu 13 Jan, 1:20 PM","externalQueueId":"EXT-441842","workId":"WK-701053","estimateNumber":"EST-55742","startDate":"Mon 10 Jan, 11:20 AM","lat":51.70871,"lng":-3.51393,"expectedWindow":"11amâ€“1pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 8KO\\n- Type Inspection\\n- Skill RISDN1\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Accepted (ISS)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Accepted (ISS)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30026","division":"Admin","taskStatus":"In Progress (EXC)","pwa":"ZB-OMEGA-05","taskType":"Admin Review","primarySkill":"ADMIN1","capabilities":["ADMIN1"],"importanceScore":76,"msc":"N","taskCreated":"Tue 11 Jan, 1:15 PM","groupCode":"Admin Group","systemType":"NW","employeeId":"T8841","resourceName":"Steffan Hughes","asset":"OFF-5507","assetName":"Document Verification Queue","commitmentDate":"Thu 13 Jan, 2:00 PM","commitmentType":"Complete By","arrivedAtDate":"Fri 15 Jan, 2:00 PM","domain":"SE","estimatedDuration":60,"lastProgression":"Completed","category":"Administration","description":"Administration task for broadband/FTTP service in local area.","responseCode":"AD02","postCode":"CF44 8ZX","appointmentStartDate":"","linkedTask":"RG-AB30021","customerAddress":"","expectedStartDate":"Sat 15 Jan, 2:00 PM","expectedFinishDate":"Tue 18 Jan, 3:00 PM","externalQueueId":"EXT-441963","workId":"WK-794249","estimateNumber":"EST-55717","startDate":"Sat 15 Jan, 2:00 PM","lat":51.71019,"lng":-3.44802,"expectedWindow":"2pmâ€“3pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 8ZX\\n- Type Admin Review\\n- Skill ADMIN1\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"In Progress (EXC)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"In Progress (EXC)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30027","division":"Service Delivery","taskStatus":"Completed (COM)","pwa":"ZB-GAMMA-09","taskType":"Repair","primarySkill":"RISDN3","capabilities":["RISDN3"],"importanceScore":70,"msc":"N","taskCreated":"Fri 8 Jan, 3:30 PM","groupCode":"Service Delivery","systemType":"OR","employeeId":"T9031","resourceName":"Carys Jones","asset":"AS-6004","assetName":"Drop Wire","commitmentDate":"Sun 10 Jan, 8:15 AM","commitmentType":"Complete By","arrivedAtDate":"Tue 12 Jan, 10:40 AM","domain":"CF","estimatedDuration":60,"lastProgression":"Completed","category":"Repair","description":"Repair task for broadband/FTTP service in local area.","responseCode":"SH01","postCode":"CF44 7ZQ","appointmentStartDate":"","linkedTask":"","customerAddress":"53 King Street, Aberdare","expectedStartDate":"Tue 12 Jan, 10:40 AM","expectedFinishDate":"Fri 15 Jan, 11:40 AM","externalQueueId":"EXT-441878","workId":"WK-730760","estimateNumber":"EST-55777","startDate":"Tue 12 Jan, 10:40 AM","lat":51.70939,"lng":-3.43749,"expectedWindow":"10amâ€“11am","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7ZQ\\n- Type Repair\\n- Skill RISDN3\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Completed (COM)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Completed (COM)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30028","division":"Complex Engineering","taskStatus":"Not Assigned (ACT)","pwa":"ZB-OMEGA-10","taskType":"Survey","primarySkill":"RFTTP2","capabilities":["RFTTP2"],"importanceScore":96,"msc":"Y","taskCreated":"Wed 6 Jan, 7:30 AM","groupCode":"Complex Engineering","systemType":"NW","employeeId":"T7833","resourceName":"Bethan Hughes","asset":"AS-6244","assetName":"Route Survey Node","commitmentDate":"Thu 8 Jan, 8:15 AM","commitmentType":"Start By","arrivedAtDate":"","domain":"MN","estimatedDuration":150,"lastProgression":"Allocated","category":"Survey","description":"Survey task for broadband/FTTP service in local area.","responseCode":"SH01","postCode":"CF44 6BZ","appointmentStartDate":"","linkedTask":"","customerAddress":"13 Maesyffynnon Terrace, Aberdare","expectedStartDate":"Fri 8 Jan, 8:15 AM","expectedFinishDate":"Mon 11 Jan, 10:45 AM","externalQueueId":"EXT-441114","workId":"WK-741322","estimateNumber":"EST-55718","startDate":"","lat":51.72907,"lng":-3.5087,"expectedWindow":"8amâ€“10:30am","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 6BZ\\n- Type Survey\\n- Skill RFTTP2\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Not Assigned (ACT)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Not Assigned (ACT)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30029","division":"Service Delivery","taskStatus":"Assigned (ACT)","pwa":"ZB-ALPHA-03","taskType":"Inspection","primarySkill":"RISDN2","capabilities":["RISDN2"],"importanceScore":70,"msc":"Y","taskCreated":"Thu 11 Jan, 8:15 AM","groupCode":"Service Delivery","systemType":"FSM","employeeId":"T7794","resourceName":"Steffan James","asset":"AS-1291","assetName":"Distribution Point","commitmentDate":"Fri 13 Jan, 3:30 PM","commitmentType":"Appointment","arrivedAtDate":"","domain":"MN","estimatedDuration":90,"lastProgression":"En Route","category":"Inspection","description":"Inspection task for broadband/FTTP service in local area.","responseCode":"SH02","postCode":"CF44 6TK","appointmentStartDate":"Sat 13 Jan, 3:30 PM","linkedTask":"","customerAddress":"79 High Street, Aberdare","expectedStartDate":"Sat 13 Jan, 3:30 PM","expectedFinishDate":"Tue 16 Jan, 5:00 PM","externalQueueId":"EXT-441706","workId":"WK-708703","estimateNumber":"EST-55738","startDate":"","lat":51.7162,"lng":-3.45003,"expectedWindow":"3pmâ€“4:30pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 6TK\\n- Type Inspection\\n- Skill RISDN2\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Assigned (ACT)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Assigned (ACT)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30030","division":"Admin","taskStatus":"Dispatched (AWI)","pwa":"ZB-GAMMA-05","taskType":"Admin Review","primarySkill":"ADMIN2","capabilities":["ADMIN2"],"importanceScore":83,"msc":"Y","taskCreated":"Fri 8 Jan, 9:05 AM","groupCode":"Admin Group","systemType":"OR","employeeId":"T7728","resourceName":"Harvey Roberts","asset":"OFF-4119","assetName":"Admin Processing Queue","commitmentDate":"Sun 10 Jan, 1:15 PM","commitmentType":"Appointment","arrivedAtDate":"Tue 12 Jan, 4:10 PM","domain":"MN","estimatedDuration":40,"lastProgression":"On Site","category":"Administration","description":"Administration task for broadband/FTTP service in local area.","responseCode":"SH02","postCode":"CF44 7OD","appointmentStartDate":"Mon 10 Jan, 1:15 PM","linkedTask":"RG-AB30012","customerAddress":"","expectedStartDate":"Mon 10 Jan, 1:15 PM","expectedFinishDate":"Thu 13 Jan, 1:55 PM","externalQueueId":"EXT-441300","workId":"WK-719881","estimateNumber":"EST-55750","startDate":"Mon 10 Jan, 1:15 PM","lat":51.71655,"lng":-3.45119,"expectedWindow":"1pmâ€“1:40pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7OD\\n- Type Admin Review\\n- Skill ADMIN2\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Dispatched (AWI)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Dispatched (AWI)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30031","division":"Complex Engineering","taskStatus":"Accepted (ISS)","pwa":"ZB-DELTA-06","taskType":"Survey","primarySkill":"RFTTP2","capabilities":["RFTTP2"],"importanceScore":85,"msc":"N","taskCreated":"Mon 3 Jan, 10:40 AM","groupCode":"Complex Engineering","systemType":"NW","employeeId":"T3673","resourceName":"Owain Roberts","asset":"AS-3212","assetName":"Route Survey Node","commitmentDate":"Tue 5 Jan, 11:20 AM","commitmentType":"Start By","arrivedAtDate":"Thu 7 Jan, 4:10 PM","domain":"SE","estimatedDuration":150,"lastProgression":"Completed","category":"Survey","description":"Survey task for broadband/FTTP service in local area.","responseCode":"SH02","postCode":"CF44 7ED","appointmentStartDate":"","linkedTask":"","customerAddress":"11 Commercial Street, Aberdare","expectedStartDate":"Thu 7 Jan, 4:10 PM","expectedFinishDate":"Sun 10 Jan, 6:40 PM","externalQueueId":"EXT-441744","workId":"WK-733281","estimateNumber":"EST-55731","startDate":"Thu 7 Jan, 4:10 PM","lat":51.7242,"lng":-3.51178,"expectedWindow":"4pmâ€“6:30pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7ED\\n- Type Survey\\n- Skill RFTTP2\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Accepted (ISS)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Accepted (ISS)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30032","division":"Service Delivery","taskStatus":"In Progress (EXC)","pwa":"ZB-ALPHA-11","taskType":"Repair","primarySkill":"RISDN1","capabilities":["RISDN1"],"importanceScore":80,"msc":"Y","taskCreated":"Tue 4 Jan, 1:15 PM","groupCode":"Service Delivery","systemType":"OR","employeeId":"T4561","resourceName":"Chloe Price","asset":"AS-4599","assetName":"FTTC Cabinet","commitmentDate":"Thu 6 Jan, 2:00 PM","commitmentType":"Complete By","arrivedAtDate":"Fri 8 Jan, 8:15 AM","domain":"CF","estimatedDuration":90,"lastProgression":"On Site","category":"Repair","description":"Repair task for broadband/FTTP service in local area.","responseCode":"SH03","postCode":"CF44 8KL","appointmentStartDate":"","linkedTask":"","customerAddress":"22 Albert Street, Aberdare","expectedStartDate":"Sat 8 Jan, 8:15 AM","expectedFinishDate":"Tue 11 Jan, 9:45 AM","externalQueueId":"EXT-441728","workId":"WK-748868","estimateNumber":"EST-55729","startDate":"Sat 8 Jan, 8:15 AM","lat":51.71934,"lng":-3.44587,"expectedWindow":"8amâ€“9:30am","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 8KL\\n- Type Repair\\n- Skill RISDN1\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"In Progress (EXC)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"In Progress (EXC)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30033","division":"Admin","taskStatus":"Completed (COM)","pwa":"ZB-DELTA-08","taskType":"Admin Review","primarySkill":"ADMIN1","capabilities":["ADMIN1"],"importanceScore":67,"msc":"Y","taskCreated":"Wed 10 Jan, 9:05 AM","groupCode":"Admin Group","systemType":"FSM","employeeId":"T5944","resourceName":"Steffan Price","asset":"OFF-4311","assetName":"Document Verification Queue","commitmentDate":"Fri 12 Jan, 1:15 PM","commitmentType":"Complete By","arrivedAtDate":"Sun 14 Jan, 2:00 PM","domain":"CF","estimatedDuration":60,"lastProgression":"Completed","category":"Administration","description":"Administration task for broadband/FTTP service in local area.","responseCode":"SH02","postCode":"CF44 7JR","appointmentStartDate":"","linkedTask":"RG-AB30024","customerAddress":"","expectedStartDate":"Mon 14 Jan, 2:00 PM","expectedFinishDate":"Thu 17 Jan, 3:00 PM","externalQueueId":"EXT-441332","workId":"WK-725196","estimateNumber":"EST-55750","startDate":"Mon 14 Jan, 2:00 PM","lat":51.71125,"lng":-3.44951,"expectedWindow":"2pmâ€“3pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7TR\\n- Type Admin Review\\n- Skill ADMIN1\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Completed (COM)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Completed (COM)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30034","division":"Service Delivery","taskStatus":"Not Assigned (ACT)","pwa":"ZB-ALPHA-07","taskType":"Inspection","primarySkill":"RISDN3","capabilities":["RISDN3"],"importanceScore":51,"msc":"N","taskCreated":"Thu 9 Jan, 8:15 AM","groupCode":"Service Delivery","systemType":"OR","employeeId":"T5103","resourceName":"Rhys Thomas","asset":"AS-9476","assetName":"Underground Joint Chamber","commitmentDate":"Sat 11 Jan, 9:05 AM","commitmentType":"Future","arrivedAtDate":"","domain":"SE","estimatedDuration":90,"lastProgression":"Allocated","category":"Inspection","description":"Inspection task for broadband/FTTP service in local area.","responseCode":"SH02","postCode":"CF44 7DK","appointmentStartDate":"","linkedTask":"RG-AB30024","customerAddress":"62 High Street, Aberdare","expectedStartDate":"Sun 11 Jan, 9:05 AM","expectedFinishDate":"Wed 14 Jan, 10:35 AM","externalQueueId":"EXT-441935","workId":"WK-717714","estimateNumber":"EST-55793","startDate":"","lat":51.71377,"lng":-3.44688,"expectedWindow":"9amâ€“10:30am","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7DK\\n- Type Inspection\\n- Skill RISDN3\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Not Assigned (ACT)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Not Assigned (ACT)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30035","division":"Complex Engineering","taskStatus":"Assigned (ACT)","pwa":"ZB-DELTA-02","taskType":"Survey","primarySkill":"RFTTP2","capabilities":["RFTTP2"],"importanceScore":58,"msc":"Y","taskCreated":"Fri 8 Jan, 1:15 PM","groupCode":"Complex Engineering","systemType":"NW","employeeId":"T6650","resourceName":"Carys Morgan","asset":"AS-4821","assetName":"Joint Box","commitmentDate":"Sun 10 Jan, 3:30 PM","commitmentType":"Start By","arrivedAtDate":"","domain":"CF","estimatedDuration":150,"lastProgression":"On Site","category":"Survey","description":"Survey task for broadband/FTTP service in local area.","responseCode":"SH02","postCode":"CF44 7RA","appointmentStartDate":"","linkedTask":"","customerAddress":"66 Brook Street, Aberdare","expectedStartDate":"Mon 10 Jan, 3:30 PM","expectedFinishDate":"Thu 13 Jan, 6:00 PM","externalQueueId":"EXT-441144","workId":"WK-711545","estimateNumber":"EST-55786","startDate":"","lat":51.7161,"lng":-3.44434,"expectedWindow":"3pmâ€“5:30pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7RA\\n- Type Survey\\n- Skill RFTTP2\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Assigned (ACT)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Assigned (ACT)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30036","division":"Admin","taskStatus":"Dispatched (AWI)","pwa":"ZB-DELTA-01","taskType":"Admin Review","primarySkill":"ADMIN2","capabilities":["ADMIN2"],"importanceScore":62,"msc":"Y","taskCreated":"Sat 9 Jan, 9:05 AM","groupCode":"Admin Group","systemType":"OR","employeeId":"T7855","resourceName":"Steffan Jenkins","asset":"OFF-4023","assetName":"Admin Processing Queue","commitmentDate":"Mon 11 Jan, 1:15 PM","commitmentType":"Appointment","arrivedAtDate":"Wed 13 Jan, 2:00 PM","domain":"CF","estimatedDuration":40,"lastProgression":"Scheduled","category":"Administration","description":"Administration task for broadband/FTTP service in local area.","responseCode":"AD02","postCode":"CF44 8DW","appointmentStartDate":"Sun 11 Jan, 1:15 PM","linkedTask":"","customerAddress":"","expectedStartDate":"Sun 11 Jan, 1:15 PM","expectedFinishDate":"Wed 14 Jan, 1:55 PM","externalQueueId":"EXT-441939","workId":"WK-790818","estimateNumber":"EST-55733","startDate":"Sun 11 Jan, 1:15 PM","lat":51.70823,"lng":-3.50376,"expectedWindow":"1pmâ€“1:40pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 8DW\\n- Type Admin Review\\n- Skill ADMIN2\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Dispatched (AWI)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Dispatched (AWI)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30037","division":"Service Delivery","taskStatus":"Accepted (ISS)","pwa":"ZB-ALPHA-09","taskType":"Emergency","primarySkill":"RISDN3","capabilities":["RISDN3"],"importanceScore":92,"msc":"Y","taskCreated":"Sun 10 Jan, 8:15 AM","groupCode":"Service Delivery","systemType":"OR","employeeId":"T9012","resourceName":"Nia Davies","asset":"AS-5211","assetName":"Core Node Cabinet","commitmentDate":"Tue 12 Jan, 2:00 PM","commitmentType":"Tail","arrivedAtDate":"Wed 14 Jan, 11:20 AM","domain":"MN","estimatedDuration":150,"lastProgression":"En Route","category":"Emergency","description":"Emergency task for broadband/FTTP service in local area.","responseCode":"SH05","postCode":"CF44 7UU","appointmentStartDate":"","linkedTask":"RG-AB30032","customerAddress":"58 Cwmbach Road, Aberdare","expectedStartDate":"Thu 14 Jan, 11:20 AM","expectedFinishDate":"Sun 17 Jan, 1:50 PM","externalQueueId":"EXT-441306","workId":"WK-791918","estimateNumber":"EST-55790","startDate":"Thu 14 Jan, 11:20 AM","lat":51.71803,"lng":-3.44716,"expectedWindow":"11amâ€“1:30pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7UU\\n- Type Emergency\\n- Skill RISDN3\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Accepted (ISS)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Accepted (ISS)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30038","division":"Complex Engineering","taskStatus":"In Progress (EXC)","pwa":"ZB-GAMMA-12","taskType":"Survey","primarySkill":"RFTTP1","capabilities":["RFTTP1"],"importanceScore":78,"msc":"N","taskCreated":"Mon 11 Jan, 9:05 AM","groupCode":"Complex Engineering","systemType":"NW","employeeId":"T6772","resourceName":"Owain James","asset":"AS-5987","assetName":"Manhole Access Point","commitmentDate":"Wed 13 Jan, 1:15 PM","commitmentType":"Start By","arrivedAtDate":"Thu 15 Jan, 10:40 AM","domain":"CF","estimatedDuration":150,"lastProgression":"On Site","category":"Survey","description":"Survey task for broadband/FTTP service in local area.","responseCode":"SH04","postCode":"CF44 7LV","appointmentStartDate":"","linkedTask":"RG-AB30024","customerAddress":"19 Canon Street, Aberdare","expectedStartDate":"Thu 15 Jan, 10:40 AM","expectedFinishDate":"Sun 18 Jan, 1:10 PM","externalQueueId":"EXT-441653","workId":"WK-744988","estimateNumber":"EST-55779","startDate":"Thu 15 Jan, 10:40 AM","lat":51.72651,"lng":-3.45205,"expectedWindow":"10amâ€“12:30pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7LV\\n- Type Survey\\n- Skill RFTTP1\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"In Progress (EXC)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"In Progress (EXC)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30039","division":"Admin","taskStatus":"Completed (COM)","pwa":"ZB-ALPHA-01","taskType":"Admin Review","primarySkill":"ADMIN1","capabilities":["ADMIN1"],"importanceScore":63,"msc":"N","taskCreated":"Tue 12 Jan, 1:15 PM","groupCode":"Admin Group","systemType":"FSM","employeeId":"T7339","resourceName":"Harvey Price","asset":"OFF-6697","assetName":"Document Verification Queue","commitmentDate":"Thu 14 Jan, 3:30 PM","commitmentType":"Tail","arrivedAtDate":"Sat 16 Jan, 2:00 PM","domain":"MN","estimatedDuration":60,"lastProgression":"Completed","category":"Administration","description":"Administration task for broadband/FTTP service in local area.","responseCode":"AD02","postCode":"CF44 6TS","appointmentStartDate":"","linkedTask":"","customerAddress":"","expectedStartDate":"Sat 16 Jan, 2:00 PM","expectedFinishDate":"Tue 19 Jan, 3:00 PM","externalQueueId":"EXT-441923","workId":"WK-791162","estimateNumber":"EST-55748","startDate":"Sat 16 Jan, 2:00 PM","lat":51.7245,"lng":-3.44809,"expectedWindow":"2pmâ€“3pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 6TS\\n- Type Admin Review\\n- Skill ADMIN1\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Completed (COM)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Completed (COM)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30040","division":"Service Delivery","taskStatus":"Not Assigned (ACT)","pwa":"ZB-GAMMA-08","taskType":"Repair","primarySkill":"RISDN2","capabilities":["RISDN2"],"importanceScore":59,"msc":"Y","taskCreated":"Wed 13 Jan, 2:00 PM","groupCode":"Service Delivery","systemType":"OR","employeeId":"T6142","resourceName":"Ffion James","asset":"AS-6883","assetName":"FTTC Cabinet","commitmentDate":"Fri 15 Jan, 3:30 PM","commitmentType":"Future","arrivedAtDate":"","domain":"CF","estimatedDuration":110,"lastProgression":"Allocated","category":"Repair","description":"Repair task for broadband/FTTP service in local area.","responseCode":"SH04","postCode":"CF44 7QA","appointmentStartDate":"","linkedTask":"RG-AB30034","customerAddress":"88 Victoria Street, Aberdare","expectedStartDate":"Sat 15 Jan, 3:30 PM","expectedFinishDate":"Tue 18 Jan, 5:20 PM","externalQueueId":"EXT-441548","workId":"WK-742382","estimateNumber":"EST-55781","startDate":"","lat":51.71294,"lng":-3.44307,"expectedWindow":"3pmâ€“5:20pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7QA\\n- Type Repair\\n- Skill RISDN2\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Not Assigned (ACT)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Not Assigned (ACT)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]}]'),bh=JSON.parse('[{"resourceId":"SWBXA12","name":"John Evans","division":"Service Delivery","primarySkill":"RISDN2","secondarySkill":"RISDN1","status":"Available","pwa":"ZB-ALPHA-06","calloutGroup":"FJ","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900101","notes":"","history":[],"updatedAt":null,"homePostCode":"CF44 7AA","homeLat":51.71352,"homeLng":-3.44879},{"resourceId":"QWERB33","name":"Ffion Hughes","division":"Service Delivery","primarySkill":"RISDN3","secondarySkill":null,"status":"Unavailable","pwa":"ZB-GAMMA-04","calloutGroup":"ISDN","lastOutcome":"Unavailable","availableAgainAt":"2025-01-18T14:00","contactNumber":"07700900102","notes":"Medical appointment","history":[{"previousOutcome":null,"previousAvailableAgainAt":null,"changedAt":"2025-01-18T14:00:00Z"}],"updatedAt":"2025-01-18T14:00:00Z","homePostCode":"CF44 6ET","homeLat":51.71114,"homeLng":-3.43291},{"resourceId":"PLMKC14","name":"Owain Roberts","division":"Service Delivery","primarySkill":"RISDN1","secondarySkill":"RISDN2","status":"Available","pwa":"ZB-OMEGA-11","calloutGroup":"FJ","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900103","notes":"","history":[],"updatedAt":null,"homePostCode":"CF44 8NN","homeLat":51.72127,"homeLng":-3.44844},{"resourceId":"GHJTQ55","name":"Carys Morgan","division":"Service Delivery","primarySkill":"RISDN3","secondarySkill":null,"status":"On Task","pwa":"ZB-GAMMA-10","calloutGroup":"SD","lastOutcome":"Assigned","availableAgainAt":null,"contactNumber":"07700900104","notes":"","history":[],"updatedAt":"2025-01-17T09:30:00Z","homePostCode":"CF44 0AG","homeLat":51.69994,"homeLng":-3.43041},{"resourceId":"MNBGD82","name":"Rhys Davies","division":"Service Delivery","primarySkill":"RISDN2","secondarySkill":null,"status":"Available","pwa":"ZB-DELTA-10","calloutGroup":"FJ","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900105","notes":"","history":[],"updatedAt":null,"homePostCode":"CF44 9SW","homeLat":51.73152,"homeLng":-3.50623},{"resourceId":"LKJHF22","name":"Lowri Jenkins","division":"Complex Engineering","primarySkill":"RFTTP1","secondarySkill":"RFTTP2","status":"Available","pwa":"ZB-GAMMA-12","calloutGroup":"CE","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900106","notes":"","history":[],"updatedAt":null,"homePostCode":"CF45 3HD","homeLat":51.68691,"homeLng":-3.37852},{"resourceId":"ASDFR91","name":"Tomos Hughes","division":"Complex Engineering","primarySkill":"RFTTP2","secondarySkill":null,"status":"Unavailable","pwa":"ZB-DELTA-07","calloutGroup":"CE","lastOutcome":"Refusal","availableAgainAt":"2025-01-19T16:00","contactNumber":"07700900107","notes":"Family emergency","history":[{"previousOutcome":null,"previousAvailableAgainAt":null,"changedAt":"2025-01-17T12:00:00Z"}],"updatedAt":"2025-01-17T12:00:00Z","homePostCode":"CF47 8EL","homeLat":51.74842,"homeLng":-3.38123},{"resourceId":"ZXCVS67","name":"Bethan Evans","division":"Complex Engineering","primarySkill":"RFTTP2","secondarySkill":"RFTTP1","status":"On Task","pwa":"ZB-OMEGA-10","calloutGroup":"CE","lastOutcome":"Dispatched","availableAgainAt":null,"contactNumber":"07700900108","notes":"","history":[],"updatedAt":"2025-01-18T08:30:00Z","homePostCode":"CF44 6EA","homeLat":51.70887,"homeLng":-3.43811},{"resourceId":"BNMAS49","name":"Steffan Price","division":"Complex Engineering","primarySkill":"RFTTP1","secondarySkill":null,"status":"Available","pwa":"ZB-DELTA-05","calloutGroup":"CE","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900109","notes":"","history":[],"updatedAt":null,"homePostCode":"CF42 6UP","homeLat":51.65761,"homeLng":-3.50744},{"resourceId":"POIUY73","name":"Aled Thomas","division":"Complex Engineering","primarySkill":"RFTTP2","secondarySkill":null,"status":"Available","pwa":"ZB-ALPHA-02","calloutGroup":"CE","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900110","notes":"","history":[],"updatedAt":null,"homePostCode":"CF44 7AY","homeLat":51.71601,"homeLng":-3.45192},{"resourceId":"UJMKL89","name":"Lauren Evans","division":"Service Delivery","primarySkill":"RISDN2","secondarySkill":"RISDN3","status":"Available","pwa":"ZB-ALPHA-04","calloutGroup":"SD","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900116","notes":"","history":[],"updatedAt":null,"homePostCode":"CF44 7RP","homeLat":51.71074,"homeLng":-3.44591},{"resourceId":"KJHGF02","name":"Nia James","division":"Service Delivery","primarySkill":"RISDN1","secondarySkill":null,"status":"On Task","pwa":"ZB-GAMMA-09","calloutGroup":"ISDN","lastOutcome":"Dispatched","availableAgainAt":null,"contactNumber":"07700900117","notes":"","history":[],"updatedAt":"2025-01-18T08:50:00Z","homePostCode":"CF44 6AB","homeLat":51.70818,"homeLng":-3.42742},{"resourceId":"RTYHN44","name":"Chloe Davies","division":"Service Delivery","primarySkill":"RISDN3","secondarySkill":null,"status":"Available","pwa":"ZB-ALPHA-09","calloutGroup":"SD","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900120","notes":"","history":[],"updatedAt":null,"homePostCode":"CF44 9DL","homeLat":51.72475,"homeLng":-3.4862},{"resourceId":"SDNEW21","name":"Gareth Bowen","division":"Service Delivery","primarySkill":"RISDN1","secondarySkill":"RISDN2","status":"Available","pwa":"ZB-ALPHA-15","calloutGroup":"FJ","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900130","notes":"","history":[],"updatedAt":null,"homePostCode":"CF44 8HA","homeLat":51.71955,"homeLng":-3.45591},{"resourceId":"SDNEW22","name":"Megan Griffiths","division":"Service Delivery","primarySkill":"RISDN3","secondarySkill":"RISDN1","status":"Unavailable","pwa":"ZB-OMEGA-17","calloutGroup":"SD","lastOutcome":"Unavailable","availableAgainAt":"2025-01-20T09:00:00Z","contactNumber":"07700900131","notes":"Childcare","history":[],"updatedAt":"2025-01-18T13:15:00Z","homePostCode":"CF44 0SW","homeLat":51.70082,"homeLng":-3.4211},{"resourceId":"SDNEW23","name":"Ieuan Watkins","division":"Service Delivery","primarySkill":"RISDN1","secondarySkill":null,"status":"Available","pwa":"ZB-GAMMA-18","calloutGroup":"FJ","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900132","notes":"","history":[],"updatedAt":null,"homePostCode":"CF44 6LA","homeLat":51.70692,"homeLng":-3.43092},{"resourceId":"SDNEW24","name":"Seren Powell","division":"Service Delivery","primarySkill":"RISDN2","secondarySkill":"RISDN3","status":"On Task","pwa":"ZB-OMEGA-13","calloutGroup":"SD","lastOutcome":"Assigned","availableAgainAt":null,"contactNumber":"07700900133","notes":"","history":[],"updatedAt":"2025-01-18T10:10:00Z","homePostCode":"CF44 7PP","homeLat":51.71381,"homeLng":-3.45514},{"resourceId":"SDNEW25","name":"Rhys Llewellyn","division":"Service Delivery","primarySkill":"RISDN3","secondarySkill":"RISDN1","status":"Unavailable","pwa":"ZB-DELTA-11","calloutGroup":"ISDN","lastOutcome":"NoReply","availableAgainAt":"2025-01-21T08:00:00Z","contactNumber":"07700900134","notes":"Missed several calls","history":[{"previousOutcome":null,"previousAvailableAgainAt":null,"changedAt":"2025-01-18T12:45:00Z"}],"updatedAt":"2025-01-18T12:45:00Z","homePostCode":"CF44 9DJ","homeLat":51.7261,"homeLng":-3.49125},{"resourceId":"SDNEW26","name":"Catrin Rees","division":"Service Delivery","primarySkill":"RISDN2","secondarySkill":null,"status":"Available","pwa":"ZB-ALPHA-22","calloutGroup":"SD","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900135","notes":"","history":[],"updatedAt":null,"homePostCode":"CF44 0AJ","homeLat":51.70102,"homeLng":-3.43274},{"resourceId":"SDNEW27","name":"Gwenllian Thomas","division":"Service Delivery","primarySkill":"RISDN1","secondarySkill":"RISDN2","status":"Available","pwa":"ZB-GAMMA-22","calloutGroup":"FJ","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900136","notes":"","history":[],"updatedAt":null,"homePostCode":"CF44 9NH","homeLat":51.72982,"homeLng":-3.50008},{"resourceId":"FJNEW28","name":"Eleri Hopkins","division":"Service Delivery","primarySkill":"RISDN2","secondarySkill":"RISDN1","status":"Available","pwa":"ZB-ALPHA-18","calloutGroup":"FJ","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900137","notes":"","history":[],"updatedAt":null,"homePostCode":"CF44 7LS","homeLat":51.71743,"homeLng":-3.45271},{"resourceId":"FJNEW29","name":"Geraint Morgan","division":"Service Delivery","primarySkill":"RISDN3","secondarySkill":null,"status":"Available","pwa":"ZB-GAMMA-25","calloutGroup":"FJ","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900138","notes":"","history":[],"updatedAt":null,"homePostCode":"CF44 8PD","homeLat":51.72288,"homeLng":-3.45934},{"resourceId":"FJNEW30","name":"Non Davies","division":"Service Delivery","primarySkill":"RISDN2","secondarySkill":"RISDN3","status":"On Task","pwa":"ZB-DELTA-14","calloutGroup":"FJ","lastOutcome":"Dispatched","availableAgainAt":null,"contactNumber":"07700900139","notes":"","history":[],"updatedAt":"2025-01-18T15:10:00Z","homePostCode":"CF44 6QH","homeLat":51.70412,"homeLng":-3.42566}]'),xh={Appointment:"#F59E0B","Start By":"#EC4899","Complete By":"#3B82F6",Future:"#10B981",Tail:"#6B7280"},Vl={Available:"#10B981",Unavailable:"#EF4444","On Task":"#3B82F6",Default:"#6B7280"},Ch=36,wh=50;function Sh(e,t){const o=E0(e,.35);return`
    <svg width="${Ch}" height="${wh}" viewBox="0 0 40 56">
      ${t?`
        <rect x="1.5" y="1.5" width="37" height="53"
              rx="8" ry="8"
              fill="none"
              stroke="#DC2626"
              stroke-width="3" />`:""}

      <!-- Outer teardrop -->
      <path
        d="M20 2 C 11 2, 4 9, 4 18 C 4 29, 20 52, 20 52 C 20 52, 36 29, 36 18 C 36 9, 29 2, 20 2 Z"
        fill="#FFFFFF"
        stroke="#1F2937"
        stroke-width="2.5"
      />

      <!-- Inner coloured area (task commitment colour) -->
      <path
        d="M20 10 C 14 10, 9 15, 9 21 C 9 29, 20 44, 20 44 C 20 44, 31 29, 31 21 C 31 15, 26 10, 20 10 Z"
        fill="${e}"
        stroke="${o}"
        stroke-width="2.5"
      />
    </svg>
  `}function _h(e,t){const o=Vl[e]||Vl.Default;return`
    <svg width="${Ch}" height="${wh}" viewBox="0 0 40 56">
      ${t?`
        <rect x="1.5" y="1.5" width="37" height="53"
              rx="8" ry="8"
              fill="none"
              stroke="#DC2626"
              stroke-width="3" />`:""}

      <!-- Outer teardrop -->
      <path
        d="M20 2 C 11 2, 4 9, 4 18 C 4 29, 20 52, 20 52 C 20 52, 36 29, 36 18 C 36 9, 29 2, 20 2 Z"
        fill="#FFFFFF"
        stroke="#1F2937"
        stroke-width="2.5"
      />

      <!-- Inner panel (light grey) to give contrast for the person icon -->
      <path
        d="M20 10 C 14 10, 9 15, 9 21 C 9 29, 20 44, 20 44 C 20 44, 31 29, 31 21 C 31 15, 26 10, 20 10 Z"
        fill="#E5E7EB"
        stroke="#D1D5DB"
        stroke-width="2"
      />

      <!-- Person / engineer silhouette -->
      <g transform="translate(8,6)" fill="#111827">
        <circle cx="12" cy="8" r="5.2" />
        <path d="M4.5 24.5c0-4.6 3.8-8.2 7.5-8.2s7.5 3.6 7.5 8.2v5.5H4.5v-5.5z" />
      </g>

      <!-- Status dot -->
      <circle
        cx="20"
        cy="39"
        r="5"
        fill="${o}"
        stroke="#FFFFFF"
        stroke-width="2"
      />
    </svg>
  `}function E0(e,t=.35){const o=e.replace("#",""),r=parseInt(o.substring(0,2),16),i=parseInt(o.substring(2,4),16),a=parseInt(o.substring(4,6),16);return`rgb(${Math.floor(r*(1-t))}, ${Math.floor(i*(1-t))}, ${Math.floor(a*(1-t))})`}function R0({visible:e,onClose:t}){const o=Jt();return e?p.jsx(Ue,{sx:{position:"absolute",top:o.spacing(7),right:o.spacing(4),zIndex:9999},children:p.jsx(Nt,{elevation:14,sx:{width:o.spacing(36),borderRadius:3,px:3,py:2.5,border:`1px solid ${me(o.palette.primary.main,.18)}`,boxShadow:"0 18px 46px rgba(8,58,97,0.22)",backgroundImage:"none"},children:p.jsxs(ot,{spacing:3,children:[p.jsxs(ot,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[p.jsx(Ge,{variant:"subtitle2",fontWeight:600,color:"text.primary",children:"Map Legend"}),p.jsx(mn,{size:"small",onClick:t,sx:{color:me(o.palette.text.primary,.6),"&:hover":{color:o.palette.primary.main,bgcolor:me(o.palette.primary.main,.08)}},"aria-label":"Close legend",children:p.jsx(zs,{size:16})})]}),p.jsxs(ot,{spacing:1.5,children:[p.jsx(Ge,{variant:"overline",sx:{fontWeight:700,letterSpacing:1.1,color:me(o.palette.text.secondary,.85)},children:"Resources"}),p.jsx(ot,{spacing:1.5,children:Object.keys(Vl).map(r=>p.jsxs(ot,{direction:"row",spacing:2,alignItems:"center",children:[p.jsx(Ue,{sx:{transform:"scale(0.75)",transformOrigin:"left center"},dangerouslySetInnerHTML:{__html:_h(r,!1)}}),p.jsx(Ge,{variant:"caption",color:"text.secondary",children:r})]},r))})]}),p.jsxs(ot,{spacing:1.5,children:[p.jsx(Ge,{variant:"overline",sx:{fontWeight:700,letterSpacing:1.1,color:me(o.palette.text.secondary,.85)},children:"Tasks"}),p.jsx(ot,{spacing:1.5,children:Object.entries(xh).map(([r,i])=>p.jsxs(ot,{direction:"row",spacing:2,alignItems:"center",children:[p.jsx(Ue,{sx:{transform:"scale(0.75)",transformOrigin:"left center"},dangerouslySetInnerHTML:{__html:Sh(i,!1)}}),p.jsx(Ge,{variant:"caption",color:"text.secondary",children:r})]},r))})]})]})})}):null}const L0=xt(p.jsx("path",{d:"m18 7-1.41-1.41-6.34 6.34 1.41 1.41zm4.24-1.41L11.66 16.17 7.48 12l-1.41 1.41L11.66 19l12-12zM.41 13.41 6 19l1.41-1.41L1.83 12z"}),"DoneAll"),Ur="__SELECT_ALL__",Zn=({label:e,options:t,value:o,onChange:r,required:i=!1,showSelectAllIcon:a=!0,wrapperSx:c})=>{const[d,h]=l.useState(""),v=d.trim().toLowerCase(),m=l.useMemo(()=>v?t.filter(D=>D.toLowerCase().includes(v)):t,[v,t]),f=m.filter(D=>o.includes(D)).length,g=m.length>0&&f===m.length,b=f>0&&!g,x=(D,V,A,k)=>{if((k==null?void 0:k.option)===Ur){if(!m.length)return;const z=g?o.filter(O=>!m.includes(O)):Array.from(new Set([...o,...m]));r(z);return}const F=V.filter(z=>z!==Ur);r(F)},w=D=>{if(D.stopPropagation(),!!m.length)if(g){const V=o.filter(A=>!m.includes(A));r(V)}else{const V=Array.from(new Set([...o,...m]));r(V)}},C={xs:"100%",sm:"22ch",md:"28ch"},_=32,P=48,R={width:"100%",maxWidth:C,px:1,display:"flex",alignItems:"center",minHeight:P,flex:"0 0 auto","& .MuiInputBase-root":{minHeight:P,transition:"all 120ms ease"},"& .MuiSelect-select":{display:"flex",alignItems:"center",minHeight:P,transition:"all 120ms ease"},"& .MuiAutocomplete-inputRoot":{paddingTop:0,paddingBottom:0,transition:"all 120ms ease"}};return p.jsx(Ue,{sx:c??R,children:p.jsx(ei,{disableClearable:!0,multiple:!0,disableCloseOnSelect:!0,componentsProps:{popper:{style:{minWidth:"32ch",zIndex:2e3}}},sx:{width:C,"& .MuiAutocomplete-inputRoot":{minHeight:P,maxHeight:P,overflow:"hidden",alignItems:"center",transition:"all 120ms ease","& .MuiInputBase-input":{paddingRight:"56px",fontSize:13,lineHeight:`${_}px`,paddingTop:0,paddingBottom:0}},"& .MuiAutocomplete-tag":{display:"inline-flex",alignItems:"center",justifyContent:"center",height:_,maxWidth:"100%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},"& .MuiInputBase-root":{minHeight:P,transition:"all 120ms ease"}},options:[Ur,...t],value:o,inputValue:d,onInputChange:(D,V)=>h(V),filterOptions:D=>D.filter(V=>V===Ur||V.toLowerCase().includes(v)),onChange:x,getOptionLabel:D=>D===Ur?"Select Filtered":D,renderOption:(D,V)=>V===Ur?p.jsxs(Xi,{...D,dense:!0,children:[p.jsx(Ho,{sx:{minWidth:32},children:p.jsx(qi,{edge:"start",checked:g,indeterminate:b,size:"small"})}),p.jsx(ro,{primary:g?"Clear Filtered":"Select Filtered"})]}):p.jsxs(Xi,{...D,dense:!0,children:[p.jsx(Ho,{sx:{minWidth:32},children:p.jsx(qi,{edge:"start",checked:o.includes(V),size:"small"})}),p.jsx(ro,{primary:V})]}),renderTags:D=>{if(!D||D.length===0)return null;const V=D.length;return p.jsx(Ue,{sx:{display:"flex",gap:.5,alignItems:"center",overflow:"hidden",height:"100%",pr:"8px"},children:p.jsx(rs,{label:`+${V}`,size:"small",variant:"outlined",sx:{flex:"0 0 auto",height:_,width:"auto",minWidth:_,display:"inline-flex",alignItems:"center",alignSelf:"center",justifyContent:"center",px:1,fontWeight:600,fontSize:13,lineHeight:`${_}px`,borderRadius:"9999px",bgcolor:"grey.100",borderColor:"rgba(0,0,0,0.08)",boxShadow:"inset 0 0 0 1px rgba(255,255,255,0.6)",border:"2px solid rgba(0,0,0,0.12)"}})})},renderInput:D=>{const V=p.jsxs(p.Fragment,{children:[a&&p.jsx(Hp,{title:g?"Clear filtered":"Select filtered",arrow:!0,children:p.jsx(mn,{size:"small",onClick:w,"aria-label":g?"Clear filtered":"Select filtered",sx:{mr:.75,px:.75},children:p.jsx(L0,{fontSize:"small",color:g?"primary":"inherit"})})}),D.InputProps.endAdornment]});return p.jsx(_n,{...D,placeholder:o&&o.length?"":e,size:"small",required:i,"aria-label":e,InputProps:{...D.InputProps,endAdornment:V,sx:{height:P,transition:"all 120ms ease","& .MuiInputBase-input":{paddingTop:0,paddingBottom:0,paddingRight:"56px",fontSize:13,lineHeight:`${_}px`}}}})},ListboxProps:{sx:{maxHeight:320,zIndex:2e3}}})})},Ph={xs:"100%",sm:"22ch",md:"28ch"},fd=32,is=48,F0={width:"100%",maxWidth:Ph,px:1,display:"flex",alignItems:"center",minHeight:is,flex:"0 0 auto","& .MuiInputBase-root":{minHeight:is},"& .MuiSelect-select":{display:"flex",alignItems:"center",minHeight:is},"& .MuiAutocomplete-inputRoot":{paddingTop:0,paddingBottom:0,transition:"all 120ms ease"}},ki=({label:e,options:t,value:o,onChange:r,required:i=!1,wrapperSx:a,placeholder:c})=>{const[d,h]=l.useState(o??""),v=d.trim().toLowerCase(),m=l.useMemo(()=>v?t.filter(f=>f.toLowerCase().includes(v)):t,[v,t]);return p.jsx(Ue,{sx:a??F0,children:p.jsx(ei,{freeSolo:!0,disableClearable:!0,componentsProps:{popper:{style:{zIndex:2e3}}},options:m,value:o||"",inputValue:d,onInputChange:(f,g)=>h(g),onChange:(f,g)=>r(String(g??"")),getOptionLabel:f=>typeof f=="string"?f:String(f),renderOption:(f,g)=>p.jsx(Xi,{...f,dense:!0,children:p.jsx(ro,{primary:g})}),renderInput:f=>{const g=p.jsx(p.Fragment,{children:f.InputProps.endAdornment});return p.jsx(_n,{...f,placeholder:o?"":c??e,size:"small",required:i,"aria-label":e,InputProps:{...f.InputProps,endAdornment:g,sx:{height:is,transition:"all 120ms ease","& .MuiInputBase-input":{paddingTop:0,paddingBottom:0,paddingRight:"56px",fontSize:13,lineHeight:`${fd}px`}}}})},ListboxProps:{sx:{zIndex:2e3,maxHeight:320}},sx:{width:Ph,"& .MuiAutocomplete-inputRoot":{minHeight:is,maxHeight:is,alignItems:"center",transition:"all 120ms ease","& .MuiInputBase-input":{paddingTop:0,paddingBottom:0,paddingRight:"56px",fontSize:13,lineHeight:`${fd}px`}}}})})};function gd(e){const t=e.match(/\(([^)]+)\)/);return t?t[1]:""}function vd(e){return[...e].sort((t,o)=>{const r=gd(t),i=gd(o);return r===i?t.localeCompare(o):r.localeCompare(i)})}const O0=jn(Nt),N0=({mode:e="task-default",onSearch:t,onClear:o,dropdownData:r,resetKey:i,hideActions:a})=>{const c=Jt(),[d,h]=l.useState({statuses:[],pwa:[],capabilities:[],commitmentTypes:[],responseCodes:[],impCondition:"",impValue:""}),[v,m]=l.useState(null),[f,g]=l.useState({statuses:"",pwa:"",capabilities:"",commitmentTypes:"",responseCodes:"",resourceStatuses:""});l.useEffect(()=>{h({statuses:[],pwa:[],capabilities:[],commitmentTypes:[],responseCodes:[],impCondition:"",impValue:""}),g({statuses:"",pwa:"",capabilities:"",commitmentTypes:"",responseCodes:"",resourceStatuses:""}),m(null)},[i]),l.useEffect(()=>{a&&t(d)},[d,a,t]);const b=z=>z??[],x=(z,O)=>z.filter($=>$.toLowerCase().includes(O.toLowerCase())),w={statuses:x(vd(b(r.statuses)),f.statuses),pwa:x(b(r.pwa),f.pwa),capabilities:x(b(r.capabilities),f.capabilities),commitmentTypes:x(b(r.commitmentTypes),f.commitmentTypes),responseCodes:x(b(r.responseCodes),f.responseCodes),resourceStatuses:x(vd(b(r.resourceStatuses)),f.resourceStatuses)},C=p.jsx(Zn,{label:"Task Status",options:w.statuses,value:d.statuses,onChange:z=>h(O=>({...O,statuses:z}))}),_=p.jsx(Zn,{label:"PWA",options:w.pwa,value:d.pwa,onChange:z=>h(O=>({...O,pwa:z}))}),P=p.jsx(Zn,{label:"Capabilities",options:w.capabilities,value:d.capabilities,onChange:z=>h(O=>({...O,capabilities:z}))}),R=p.jsx(Zn,{label:"Commit Type",options:w.commitmentTypes,value:d.commitmentTypes,onChange:z=>h(O=>({...O,commitmentTypes:z}))}),D=p.jsx(Zn,{label:"Response Code",options:w.responseCodes,value:d.responseCodes??[],onChange:z=>h(O=>({...O,responseCodes:z}))}),V=p.jsx(z0,{condition:d.impCondition??"",value:d.impValue??"",openDropdown:v,setOpenDropdown:m,onConditionChange:z=>h(O=>({...O,impCondition:z})),onValueChange:z=>h(O=>({...O,impValue:z}))}),A=p.jsx(Zn,{label:"Status",options:w.resourceStatuses,value:d.statuses,onChange:z=>h(O=>({...O,statuses:z}))}),k=e==="resource-active"?"resource-active":"task-default",F=()=>k==="task-default"?p.jsxs(Gt,{container:!0,spacing:2,children:[p.jsx(Gt,{item:!0,xs:12,sm:6,children:C}),p.jsx(Gt,{item:!0,xs:12,sm:6,children:_}),p.jsx(Gt,{item:!0,xs:12,sm:6,children:P}),p.jsx(Gt,{item:!0,xs:12,sm:6,children:R}),p.jsx(Gt,{item:!0,xs:12,sm:6,children:D}),p.jsx(Gt,{item:!0,xs:12,children:V})]}):k==="resource-active"?p.jsxs(Gt,{container:!0,spacing:2,children:[p.jsx(Gt,{item:!0,xs:12,sm:6,children:A}),p.jsx(Gt,{item:!0,xs:12,sm:6,children:_})]}):null;return p.jsxs(O0,{initial:{opacity:0,y:-4},animate:{opacity:1,y:0},transition:{duration:.2},elevation:0,sx:{width:"100%",maxWidth:{xs:"95vw",sm:c.spacing(100)},borderRadius:3,px:3,py:3,display:"flex",flexDirection:"column",gap:3,border:`1px solid ${me(c.palette.primary.main,.18)}`,boxShadow:"0 18px 46px rgba(8,58,97,0.18)",backgroundImage:"none",overflowX:"hidden"},children:[F(),!a&&p.jsxs(ot,{direction:"row",justifyContent:"flex-end",spacing:1.5,pt:2,mt:2,sx:{borderTop:`1px solid ${me(c.palette.divider,.7)}`},children:[p.jsx(an,{variant:"contained",color:"primary",size:"small",onClick:()=>t(d),sx:{px:3,fontWeight:600,boxShadow:"none","&:hover":{boxShadow:"0 12px 28px rgba(8,58,97,0.25)"}},children:"Search"}),p.jsx(an,{variant:"outlined",size:"small",onClick:o,sx:{px:3,fontWeight:600,borderColor:me(c.palette.primary.main,.28),"&:hover":{borderColor:c.palette.primary.main,backgroundColor:me(c.palette.primary.main,.08)}},children:"Clear"})]})]})};function z0({condition:e,value:t,openDropdown:o,setOpenDropdown:r,onConditionChange:i,onValueChange:a}){const c=Jt(),[d,h]=l.useState(null),v=o==="imp";l.useEffect(()=>{v||h(null)},[v]);const m=e==="greater"?"Greater Than":e==="less"?"Less Than":"IMP Score",f=b=>{v?r(null):(h(b.currentTarget),r("imp"))},g=()=>r(null);return p.jsxs(ot,{direction:{xs:"column",sm:"row"},spacing:2,alignItems:{xs:"stretch",sm:"flex-start"},children:[p.jsx(an,{variant:"outlined",size:"small",endIcon:p.jsx(Xp,{size:14}),onClick:f,sx:{maxWidth:240,width:"100%",justifyContent:"space-between",textTransform:"none",fontSize:12,fontWeight:500,height:36,borderRadius:1.5,borderColor:me(c.palette.primary.main,.22),color:c.palette.text.primary,px:2,"&:hover":{borderColor:c.palette.primary.main,backgroundColor:me(c.palette.primary.main,.06)}},children:p.jsx(Ge,{variant:"caption",component:"span",sx:{flexGrow:1,textAlign:"left",pr:1.5,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:m})}),p.jsx(_n,{type:"number",size:"small",value:t,onChange:b=>{const x=(b.target.value||"").replace(/\D/g,"").slice(0,3);a(x)},placeholder:"Value",inputProps:{min:0,max:999,style:{fontSize:12,padding:"6px 10px",width:"clamp(64px, 6vw, 90px)"}}}),p.jsxs(dc,{anchorEl:d,open:v,onClose:g,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},MenuListProps:{dense:!0,sx:{fontSize:12}},slotProps:{paper:{elevation:12,sx:{minWidth:180,borderRadius:2,border:`1px solid ${me(c.palette.primary.main,.18)}`,boxShadow:"0 18px 46px rgba(8,58,97,0.18)",backgroundImage:"none"}}},children:[p.jsx(pn,{onClick:()=>{i("greater"),g()},children:"Greater Than"}),p.jsx(pn,{onClick:()=>{i("less"),g()},children:"Less Than"})]})]})}function $0({mode:e,onSearch:t,onClear:o,dropdownData:r,resetKey:i}){return p.jsx(N0,{mode:e,onSearch:t,onClear:o,dropdownData:r,resetKey:i,hideActions:!0})}function j0(){const e=Jt();return p.jsx(Nt,{elevation:0,sx:{height:"100%",borderRadius:3,px:3,py:2.5,border:`1px solid ${me(e.palette.primary.main,.18)}`,boxShadow:"0 18px 46px rgba(8,58,97,0.18)",backgroundImage:"none"}})}function Ih(e,t){const o=l.useRef(t);l.useEffect(function(){t!==o.current&&e.attributionControl!=null&&(o.current!=null&&e.attributionControl.removeAttribution(o.current),t!=null&&e.attributionControl.addAttribution(t)),o.current=t},[e,t])}const B0=1;function H0(e){return Object.freeze({__version:B0,map:e})}function G0(e,t){return Object.freeze({...e,...t})}const bc=l.createContext(null);function xc(){const e=l.use(bc);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function V0(e){function t(o,r){const{instance:i,context:a}=e(o).current;l.useImperativeHandle(r,()=>i);const{children:c}=o;return c==null?null:Kn.createElement(bc,{value:a},c)}return l.forwardRef(t)}function W0(e){function t(o,r){const[i,a]=l.useState(!1),{instance:c}=e(o,a).current;l.useImperativeHandle(r,()=>c),l.useEffect(function(){i&&c.update()},[c,i,o.children]);const d=c._contentNode;return d?lr.createPortal(o.children,d):null}return l.forwardRef(t)}function Z0(e){function t(o,r){const{instance:i}=e(o).current;return l.useImperativeHandle(r,()=>i),null}return l.forwardRef(t)}function Th(e,t){const o=l.useRef(void 0);l.useEffect(function(){return t!=null&&e.instance.on(t),o.current=t,function(){o.current!=null&&e.instance.off(o.current),o.current=null}},[e,t])}function Cc(e,t){const o=e.pane??t.pane;return o?{...e,pane:o}:e}function U0(e,t){return function(r,i){const a=xc(),c=e(Cc(r,a),a);return Ih(a.map,r.attribution),Th(c.current,r.eventHandlers),t(c.current,a,r,i),c}}var Ds={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var K0=Ds.exports,yd;function J0(){return yd||(yd=1,function(e,t){(function(o,r){r(t)})(K0,function(o){var r="1.9.4";function i(n){var s,u,y,S;for(u=1,y=arguments.length;u<y;u++){S=arguments[u];for(s in S)n[s]=S[s]}return n}var a=Object.create||function(){function n(){}return function(s){return n.prototype=s,new n}}();function c(n,s){var u=Array.prototype.slice;if(n.bind)return n.bind.apply(n,u.call(arguments,1));var y=u.call(arguments,2);return function(){return n.apply(s,y.length?y.concat(u.call(arguments)):arguments)}}var d=0;function h(n){return"_leaflet_id"in n||(n._leaflet_id=++d),n._leaflet_id}function v(n,s,u){var y,S,N,K;return K=function(){y=!1,S&&(N.apply(u,S),S=!1)},N=function(){y?S=arguments:(n.apply(u,arguments),setTimeout(K,s),y=!0)},N}function m(n,s,u){var y=s[1],S=s[0],N=y-S;return n===y&&u?n:((n-S)%N+N)%N+S}function f(){return!1}function g(n,s){if(s===!1)return n;var u=Math.pow(10,s===void 0?6:s);return Math.round(n*u)/u}function b(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}function x(n){return b(n).split(/\s+/)}function w(n,s){Object.prototype.hasOwnProperty.call(n,"options")||(n.options=n.options?a(n.options):{});for(var u in s)n.options[u]=s[u];return n.options}function C(n,s,u){var y=[];for(var S in n)y.push(encodeURIComponent(u?S.toUpperCase():S)+"="+encodeURIComponent(n[S]));return(!s||s.indexOf("?")===-1?"?":"&")+y.join("&")}var _=/\{ *([\w_ -]+) *\}/g;function P(n,s){return n.replace(_,function(u,y){var S=s[y];if(S===void 0)throw new Error("No value provided for variable "+u);return typeof S=="function"&&(S=S(s)),S})}var R=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"};function D(n,s){for(var u=0;u<n.length;u++)if(n[u]===s)return u;return-1}var V="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function A(n){return window["webkit"+n]||window["moz"+n]||window["ms"+n]}var k=0;function F(n){var s=+new Date,u=Math.max(0,16-(s-k));return k=s+u,window.setTimeout(n,u)}var z=window.requestAnimationFrame||A("RequestAnimationFrame")||F,O=window.cancelAnimationFrame||A("CancelAnimationFrame")||A("CancelRequestAnimationFrame")||function(n){window.clearTimeout(n)};function $(n,s,u){if(u&&z===F)n.call(s);else return z.call(window,c(n,s))}function H(n){n&&O.call(window,n)}var B={__proto__:null,extend:i,create:a,bind:c,get lastId(){return d},stamp:h,throttle:v,wrapNum:m,falseFn:f,formatNum:g,trim:b,splitWords:x,setOptions:w,getParamString:C,template:P,isArray:R,indexOf:D,emptyImageUrl:V,requestFn:z,cancelFn:O,requestAnimFrame:$,cancelAnimFrame:H};function I(){}I.extend=function(n){var s=function(){w(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},u=s.__super__=this.prototype,y=a(u);y.constructor=s,s.prototype=y;for(var S in this)Object.prototype.hasOwnProperty.call(this,S)&&S!=="prototype"&&S!=="__super__"&&(s[S]=this[S]);return n.statics&&i(s,n.statics),n.includes&&(M(n.includes),i.apply(null,[y].concat(n.includes))),i(y,n),delete y.statics,delete y.includes,y.options&&(y.options=u.options?a(u.options):{},i(y.options,n.options)),y._initHooks=[],y.callInitHooks=function(){if(!this._initHooksCalled){u.callInitHooks&&u.callInitHooks.call(this),this._initHooksCalled=!0;for(var N=0,K=y._initHooks.length;N<K;N++)y._initHooks[N].call(this)}},s},I.include=function(n){var s=this.prototype.options;return i(this.prototype,n),n.options&&(this.prototype.options=s,this.mergeOptions(n.options)),this},I.mergeOptions=function(n){return i(this.prototype.options,n),this},I.addInitHook=function(n){var s=Array.prototype.slice.call(arguments,1),u=typeof n=="function"?n:function(){this[n].apply(this,s)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(u),this};function M(n){if(!(typeof L>"u"||!L||!L.Mixin)){n=R(n)?n:[n];for(var s=0;s<n.length;s++)n[s]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var j={on:function(n,s,u){if(typeof n=="object")for(var y in n)this._on(y,n[y],s);else{n=x(n);for(var S=0,N=n.length;S<N;S++)this._on(n[S],s,u)}return this},off:function(n,s,u){if(!arguments.length)delete this._events;else if(typeof n=="object")for(var y in n)this._off(y,n[y],s);else{n=x(n);for(var S=arguments.length===1,N=0,K=n.length;N<K;N++)S?this._off(n[N]):this._off(n[N],s,u)}return this},_on:function(n,s,u,y){if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}if(this._listens(n,s,u)===!1){u===this&&(u=void 0);var S={fn:s,ctx:u};y&&(S.once=!0),this._events=this._events||{},this._events[n]=this._events[n]||[],this._events[n].push(S)}},_off:function(n,s,u){var y,S,N;if(this._events&&(y=this._events[n],!!y)){if(arguments.length===1){if(this._firingCount)for(S=0,N=y.length;S<N;S++)y[S].fn=f;delete this._events[n];return}if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}var K=this._listens(n,s,u);if(K!==!1){var re=y[K];this._firingCount&&(re.fn=f,this._events[n]=y=y.slice()),y.splice(K,1)}}},fire:function(n,s,u){if(!this.listens(n,u))return this;var y=i({},s,{type:n,target:this,sourceTarget:s&&s.sourceTarget||this});if(this._events){var S=this._events[n];if(S){this._firingCount=this._firingCount+1||1;for(var N=0,K=S.length;N<K;N++){var re=S[N],ae=re.fn;re.once&&this.off(n,ae,re.ctx),ae.call(re.ctx||this,y)}this._firingCount--}}return u&&this._propagateEvent(y),this},listens:function(n,s,u,y){typeof n!="string"&&console.warn('"string" type argument expected');var S=s;typeof s!="function"&&(y=!!s,S=void 0,u=void 0);var N=this._events&&this._events[n];if(N&&N.length&&this._listens(n,S,u)!==!1)return!0;if(y){for(var K in this._eventParents)if(this._eventParents[K].listens(n,s,u,y))return!0}return!1},_listens:function(n,s,u){if(!this._events)return!1;var y=this._events[n]||[];if(!s)return!!y.length;u===this&&(u=void 0);for(var S=0,N=y.length;S<N;S++)if(y[S].fn===s&&y[S].ctx===u)return S;return!1},once:function(n,s,u){if(typeof n=="object")for(var y in n)this._on(y,n[y],s,!0);else{n=x(n);for(var S=0,N=n.length;S<N;S++)this._on(n[S],s,u,!0)}return this},addEventParent:function(n){return this._eventParents=this._eventParents||{},this._eventParents[h(n)]=n,this},removeEventParent:function(n){return this._eventParents&&delete this._eventParents[h(n)],this},_propagateEvent:function(n){for(var s in this._eventParents)this._eventParents[s].fire(n.type,i({layer:n.target,propagatedFrom:n.target},n),!0)}};j.addEventListener=j.on,j.removeEventListener=j.clearAllEventListeners=j.off,j.addOneTimeEventListener=j.once,j.fireEvent=j.fire,j.hasEventListeners=j.listens;var W=I.extend(j);function E(n,s,u){this.x=u?Math.round(n):n,this.y=u?Math.round(s):s}var G=Math.trunc||function(n){return n>0?Math.floor(n):Math.ceil(n)};E.prototype={clone:function(){return new E(this.x,this.y)},add:function(n){return this.clone()._add(Z(n))},_add:function(n){return this.x+=n.x,this.y+=n.y,this},subtract:function(n){return this.clone()._subtract(Z(n))},_subtract:function(n){return this.x-=n.x,this.y-=n.y,this},divideBy:function(n){return this.clone()._divideBy(n)},_divideBy:function(n){return this.x/=n,this.y/=n,this},multiplyBy:function(n){return this.clone()._multiplyBy(n)},_multiplyBy:function(n){return this.x*=n,this.y*=n,this},scaleBy:function(n){return new E(this.x*n.x,this.y*n.y)},unscaleBy:function(n){return new E(this.x/n.x,this.y/n.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=G(this.x),this.y=G(this.y),this},distanceTo:function(n){n=Z(n);var s=n.x-this.x,u=n.y-this.y;return Math.sqrt(s*s+u*u)},equals:function(n){return n=Z(n),n.x===this.x&&n.y===this.y},contains:function(n){return n=Z(n),Math.abs(n.x)<=Math.abs(this.x)&&Math.abs(n.y)<=Math.abs(this.y)},toString:function(){return"Point("+g(this.x)+", "+g(this.y)+")"}};function Z(n,s,u){return n instanceof E?n:R(n)?new E(n[0],n[1]):n==null?n:typeof n=="object"&&"x"in n&&"y"in n?new E(n.x,n.y):new E(n,s,u)}function q(n,s){if(n)for(var u=s?[n,s]:n,y=0,S=u.length;y<S;y++)this.extend(u[y])}q.prototype={extend:function(n){var s,u;if(!n)return this;if(n instanceof E||typeof n[0]=="number"||"x"in n)s=u=Z(n);else if(n=te(n),s=n.min,u=n.max,!s||!u)return this;return!this.min&&!this.max?(this.min=s.clone(),this.max=u.clone()):(this.min.x=Math.min(s.x,this.min.x),this.max.x=Math.max(u.x,this.max.x),this.min.y=Math.min(s.y,this.min.y),this.max.y=Math.max(u.y,this.max.y)),this},getCenter:function(n){return Z((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,n)},getBottomLeft:function(){return Z(this.min.x,this.max.y)},getTopRight:function(){return Z(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(n){var s,u;return typeof n[0]=="number"||n instanceof E?n=Z(n):n=te(n),n instanceof q?(s=n.min,u=n.max):s=u=n,s.x>=this.min.x&&u.x<=this.max.x&&s.y>=this.min.y&&u.y<=this.max.y},intersects:function(n){n=te(n);var s=this.min,u=this.max,y=n.min,S=n.max,N=S.x>=s.x&&y.x<=u.x,K=S.y>=s.y&&y.y<=u.y;return N&&K},overlaps:function(n){n=te(n);var s=this.min,u=this.max,y=n.min,S=n.max,N=S.x>s.x&&y.x<u.x,K=S.y>s.y&&y.y<u.y;return N&&K},isValid:function(){return!!(this.min&&this.max)},pad:function(n){var s=this.min,u=this.max,y=Math.abs(s.x-u.x)*n,S=Math.abs(s.y-u.y)*n;return te(Z(s.x-y,s.y-S),Z(u.x+y,u.y+S))},equals:function(n){return n?(n=te(n),this.min.equals(n.getTopLeft())&&this.max.equals(n.getBottomRight())):!1}};function te(n,s){return!n||n instanceof q?n:new q(n,s)}function J(n,s){if(n)for(var u=s?[n,s]:n,y=0,S=u.length;y<S;y++)this.extend(u[y])}J.prototype={extend:function(n){var s=this._southWest,u=this._northEast,y,S;if(n instanceof X)y=n,S=n;else if(n instanceof J){if(y=n._southWest,S=n._northEast,!y||!S)return this}else return n?this.extend(U(n)||oe(n)):this;return!s&&!u?(this._southWest=new X(y.lat,y.lng),this._northEast=new X(S.lat,S.lng)):(s.lat=Math.min(y.lat,s.lat),s.lng=Math.min(y.lng,s.lng),u.lat=Math.max(S.lat,u.lat),u.lng=Math.max(S.lng,u.lng)),this},pad:function(n){var s=this._southWest,u=this._northEast,y=Math.abs(s.lat-u.lat)*n,S=Math.abs(s.lng-u.lng)*n;return new J(new X(s.lat-y,s.lng-S),new X(u.lat+y,u.lng+S))},getCenter:function(){return new X((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new X(this.getNorth(),this.getWest())},getSouthEast:function(){return new X(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(n){typeof n[0]=="number"||n instanceof X||"lat"in n?n=U(n):n=oe(n);var s=this._southWest,u=this._northEast,y,S;return n instanceof J?(y=n.getSouthWest(),S=n.getNorthEast()):y=S=n,y.lat>=s.lat&&S.lat<=u.lat&&y.lng>=s.lng&&S.lng<=u.lng},intersects:function(n){n=oe(n);var s=this._southWest,u=this._northEast,y=n.getSouthWest(),S=n.getNorthEast(),N=S.lat>=s.lat&&y.lat<=u.lat,K=S.lng>=s.lng&&y.lng<=u.lng;return N&&K},overlaps:function(n){n=oe(n);var s=this._southWest,u=this._northEast,y=n.getSouthWest(),S=n.getNorthEast(),N=S.lat>s.lat&&y.lat<u.lat,K=S.lng>s.lng&&y.lng<u.lng;return N&&K},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(n,s){return n?(n=oe(n),this._southWest.equals(n.getSouthWest(),s)&&this._northEast.equals(n.getNorthEast(),s)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function oe(n,s){return n instanceof J?n:new J(n,s)}function X(n,s,u){if(isNaN(n)||isNaN(s))throw new Error("Invalid LatLng object: ("+n+", "+s+")");this.lat=+n,this.lng=+s,u!==void 0&&(this.alt=+u)}X.prototype={equals:function(n,s){if(!n)return!1;n=U(n);var u=Math.max(Math.abs(this.lat-n.lat),Math.abs(this.lng-n.lng));return u<=(s===void 0?1e-9:s)},toString:function(n){return"LatLng("+g(this.lat,n)+", "+g(this.lng,n)+")"},distanceTo:function(n){return ce.distance(this,U(n))},wrap:function(){return ce.wrapLatLng(this)},toBounds:function(n){var s=180*n/40075017,u=s/Math.cos(Math.PI/180*this.lat);return oe([this.lat-s,this.lng-u],[this.lat+s,this.lng+u])},clone:function(){return new X(this.lat,this.lng,this.alt)}};function U(n,s,u){return n instanceof X?n:R(n)&&typeof n[0]!="object"?n.length===3?new X(n[0],n[1],n[2]):n.length===2?new X(n[0],n[1]):null:n==null?n:typeof n=="object"&&"lat"in n?new X(n.lat,"lng"in n?n.lng:n.lon,n.alt):s===void 0?null:new X(n,s,u)}var ne={latLngToPoint:function(n,s){var u=this.projection.project(n),y=this.scale(s);return this.transformation._transform(u,y)},pointToLatLng:function(n,s){var u=this.scale(s),y=this.transformation.untransform(n,u);return this.projection.unproject(y)},project:function(n){return this.projection.project(n)},unproject:function(n){return this.projection.unproject(n)},scale:function(n){return 256*Math.pow(2,n)},zoom:function(n){return Math.log(n/256)/Math.LN2},getProjectedBounds:function(n){if(this.infinite)return null;var s=this.projection.bounds,u=this.scale(n),y=this.transformation.transform(s.min,u),S=this.transformation.transform(s.max,u);return new q(y,S)},infinite:!1,wrapLatLng:function(n){var s=this.wrapLng?m(n.lng,this.wrapLng,!0):n.lng,u=this.wrapLat?m(n.lat,this.wrapLat,!0):n.lat,y=n.alt;return new X(u,s,y)},wrapLatLngBounds:function(n){var s=n.getCenter(),u=this.wrapLatLng(s),y=s.lat-u.lat,S=s.lng-u.lng;if(y===0&&S===0)return n;var N=n.getSouthWest(),K=n.getNorthEast(),re=new X(N.lat-y,N.lng-S),ae=new X(K.lat-y,K.lng-S);return new J(re,ae)}},ce=i({},ne,{wrapLng:[-180,180],R:6371e3,distance:function(n,s){var u=Math.PI/180,y=n.lat*u,S=s.lat*u,N=Math.sin((s.lat-n.lat)*u/2),K=Math.sin((s.lng-n.lng)*u/2),re=N*N+Math.cos(y)*Math.cos(S)*K*K,ae=2*Math.atan2(Math.sqrt(re),Math.sqrt(1-re));return this.R*ae}}),ve=6378137,fe={R:ve,MAX_LATITUDE:85.0511287798,project:function(n){var s=Math.PI/180,u=this.MAX_LATITUDE,y=Math.max(Math.min(u,n.lat),-u),S=Math.sin(y*s);return new E(this.R*n.lng*s,this.R*Math.log((1+S)/(1-S))/2)},unproject:function(n){var s=180/Math.PI;return new X((2*Math.atan(Math.exp(n.y/this.R))-Math.PI/2)*s,n.x*s/this.R)},bounds:function(){var n=ve*Math.PI;return new q([-n,-n],[n,n])}()};function ke(n,s,u,y){if(R(n)){this._a=n[0],this._b=n[1],this._c=n[2],this._d=n[3];return}this._a=n,this._b=s,this._c=u,this._d=y}ke.prototype={transform:function(n,s){return this._transform(n.clone(),s)},_transform:function(n,s){return s=s||1,n.x=s*(this._a*n.x+this._b),n.y=s*(this._c*n.y+this._d),n},untransform:function(n,s){return s=s||1,new E((n.x/s-this._b)/this._a,(n.y/s-this._d)/this._c)}};function _e(n,s,u,y){return new ke(n,s,u,y)}var le=i({},ce,{code:"EPSG:3857",projection:fe,transformation:function(){var n=.5/(Math.PI*fe.R);return _e(n,.5,-n,.5)}()}),ye=i({},le,{code:"EPSG:900913"});function Te(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function De(n,s){var u="",y,S,N,K,re,ae;for(y=0,N=n.length;y<N;y++){for(re=n[y],S=0,K=re.length;S<K;S++)ae=re[S],u+=(S?"L":"M")+ae.x+" "+ae.y;u+=s?Re.svg?"z":"x":""}return u||"M0 0"}var ie=document.documentElement.style,Pe="ActiveXObject"in window,Me=Pe&&!document.addEventListener,$e="msLaunchUri"in navigator&&!("documentMode"in document),Ke=Ct("webkit"),Ne=Ct("android"),be=Ct("android 2")||Ct("android 3"),Ie=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Le=Ne&&Ct("Google")&&Ie<537&&!("AudioNode"in window),Ve=!!window.opera,Qe=!$e&&Ct("chrome"),rt=Ct("gecko")&&!Ke&&!Ve&&!Pe,et=!Qe&&Ct("safari"),Je=Ct("phantom"),Pt="OTransition"in ie,ct=navigator.platform.indexOf("Win")===0,it=Pe&&"transition"in ie,jt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!be,Ot="MozPerspective"in ie,Ht=!window.L_DISABLE_3D&&(it||jt||Ot)&&!Pt&&!Je,qt=typeof orientation<"u"||Ct("mobile"),ln=qt&&Ke,rn=qt&&jt,en=!window.PointerEvent&&window.MSPointerEvent,Ce=!!(window.PointerEvent||en),Q="ontouchstart"in window||!!window.TouchEvent,pe=!window.L_NO_TOUCH&&(Q||Ce),Fe=qt&&Ve,yt=qt&&rt,lt=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ye=function(){var n=!1;try{var s=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("testPassiveEventSupport",f,s),window.removeEventListener("testPassiveEventSupport",f,s)}catch{}return n}(),ft=function(){return!!document.createElement("canvas").getContext}(),ge=!!(document.createElementNS&&Te("svg").createSVGRect),he=!!ge&&function(){var n=document.createElement("div");return n.innerHTML="<svg/>",(n.firstChild&&n.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),xe=!ge&&function(){try{var n=document.createElement("div");n.innerHTML='<v:shape adj="1"/>';var s=n.firstChild;return s.style.behavior="url(#default#VML)",s&&typeof s.adj=="object"}catch{return!1}}(),Se=navigator.platform.indexOf("Mac")===0,pt=navigator.platform.indexOf("Linux")===0;function Ct(n){return navigator.userAgent.toLowerCase().indexOf(n)>=0}var Re={ie:Pe,ielt9:Me,edge:$e,webkit:Ke,android:Ne,android23:be,androidStock:Le,opera:Ve,chrome:Qe,gecko:rt,safari:et,phantom:Je,opera12:Pt,win:ct,ie3d:it,webkit3d:jt,gecko3d:Ot,any3d:Ht,mobile:qt,mobileWebkit:ln,mobileWebkit3d:rn,msPointer:en,pointer:Ce,touch:pe,touchNative:Q,mobileOpera:Fe,mobileGecko:yt,retina:lt,passiveEvents:Ye,canvas:ft,svg:ge,vml:xe,inlineSvg:he,mac:Se,linux:pt},Xt=Re.msPointer?"MSPointerDown":"pointerdown",xn=Re.msPointer?"MSPointerMove":"pointermove",zt=Re.msPointer?"MSPointerUp":"pointerup",It=Re.msPointer?"MSPointerCancel":"pointercancel",hn={touchstart:Xt,touchmove:xn,touchend:zt,touchcancel:It},Hn={touchstart:Jn,touchmove:io,touchend:io,touchcancel:io},ue={},de=!1;function je(n,s,u){return s==="touchstart"&&In(),Hn[s]?(u=Hn[s].bind(this,u),n.addEventListener(hn[s],u,!1),u):(console.warn("wrong event specified:",s),f)}function at(n,s,u){if(!hn[s]){console.warn("wrong event specified:",s);return}n.removeEventListener(hn[s],u,!1)}function tt(n){ue[n.pointerId]=n}function ht(n){ue[n.pointerId]&&(ue[n.pointerId]=n)}function $t(n){delete ue[n.pointerId]}function In(){de||(document.addEventListener(Xt,tt,!0),document.addEventListener(xn,ht,!0),document.addEventListener(zt,$t,!0),document.addEventListener(It,$t,!0),de=!0)}function io(n,s){if(s.pointerType!==(s.MSPOINTER_TYPE_MOUSE||"mouse")){s.touches=[];for(var u in ue)s.touches.push(ue[u]);s.changedTouches=[s],n(s)}}function Jn(n,s){s.MSPOINTER_TYPE_TOUCH&&s.pointerType===s.MSPOINTER_TYPE_TOUCH&&Tn(s),io(n,s)}function pr(n){var s={},u,y;for(y in n)u=n[y],s[y]=u&&u.bind?u.bind(n):u;return n=s,s.type="dblclick",s.detail=2,s.isTrusted=!1,s._simulated=!0,s}var Gn=200;function Ao(n,s){n.addEventListener("dblclick",s);var u=0,y;function S(N){if(N.detail!==1){y=N.detail;return}if(!(N.pointerType==="mouse"||N.sourceCapabilities&&!N.sourceCapabilities.firesTouchEvents)){var K=ru(N);if(!(K.some(function(ae){return ae instanceof HTMLLabelElement&&ae.attributes.for})&&!K.some(function(ae){return ae instanceof HTMLInputElement||ae instanceof HTMLSelectElement}))){var re=Date.now();re-u<=Gn?(y++,y===2&&s(pr(N))):y=1,u=re}}}return n.addEventListener("click",S),{dblclick:s,simDblclick:S}}function gt(n,s){n.removeEventListener("dblclick",s.dblclick),n.removeEventListener("click",s.simDblclick)}var Dn=qe(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),En=qe(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),vo=En==="webkitTransition"||En==="OTransition"?En+"End":"transitionend";function Fr(n){return typeof n=="string"?document.getElementById(n):n}function hr(n,s){var u=n.style[s]||n.currentStyle&&n.currentStyle[s];if((!u||u==="auto")&&document.defaultView){var y=document.defaultView.getComputedStyle(n,null);u=y?y[s]:null}return u==="auto"?null:u}function Ft(n,s,u){var y=document.createElement(n);return y.className=s||"",u&&u.appendChild(y),y}function tn(n){var s=n.parentNode;s&&s.removeChild(n)}function Uo(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function Ko(n){var s=n.parentNode;s&&s.lastChild!==n&&s.appendChild(n)}function Do(n){var s=n.parentNode;s&&s.firstChild!==n&&s.insertBefore(n,s.firstChild)}function Or(n,s){if(n.classList!==void 0)return n.classList.contains(s);var u=Nr(n);return u.length>0&&new RegExp("(^|\\s)"+s+"(\\s|$)").test(u)}function ut(n,s){if(n.classList!==void 0)for(var u=x(s),y=0,S=u.length;y<S;y++)n.classList.add(u[y]);else if(!Or(n,s)){var N=Nr(n);Jo(n,(N?N+" ":"")+s)}}function sn(n,s){n.classList!==void 0?n.classList.remove(s):Jo(n,b((" "+Nr(n)+" ").replace(" "+s+" "," ")))}function Jo(n,s){n.className.baseVal===void 0?n.className=s:n.className.baseVal=s}function Nr(n){return n.correspondingElement&&(n=n.correspondingElement),n.className.baseVal===void 0?n.className:n.className.baseVal}function ee(n,s){"opacity"in n.style?n.style.opacity=s:"filter"in n.style&&Ae(n,s)}function Ae(n,s){var u=!1,y="DXImageTransform.Microsoft.Alpha";try{u=n.filters.item(y)}catch{if(s===1)return}s=Math.round(s*100),u?(u.Enabled=s!==100,u.Opacity=s):n.style.filter+=" progid:"+y+"(opacity="+s+")"}function qe(n){for(var s=document.documentElement.style,u=0;u<n.length;u++)if(n[u]in s)return n[u];return!1}function Xe(n,s,u){var y=s||new E(0,0);n.style[Dn]=(Re.ie3d?"translate("+y.x+"px,"+y.y+"px)":"translate3d("+y.x+"px,"+y.y+"px,0)")+(u?" scale("+u+")":"")}function nt(n,s){n._leaflet_pos=s,Re.any3d?Xe(n,s):(n.style.left=s.x+"px",n.style.top=s.y+"px")}function wt(n){return n._leaflet_pos||new E(0,0)}var Rt,vn,Ln;if("onselectstart"in document)Rt=function(){vt(window,"selectstart",Tn)},vn=function(){Yt(window,"selectstart",Tn)};else{var qn=qe(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Rt=function(){if(qn){var n=document.documentElement.style;Ln=n[qn],n[qn]="none"}},vn=function(){qn&&(document.documentElement.style[qn]=Ln,Ln=void 0)}}function yo(){vt(window,"dragstart",Tn)}function zr(){Yt(window,"dragstart",Tn)}var Eo,$r;function Za(n){for(;n.tabIndex===-1;)n=n.parentNode;n.style&&(di(),Eo=n,$r=n.style.outlineStyle,n.style.outlineStyle="none",vt(window,"keydown",di))}function di(){Eo&&(Eo.style.outlineStyle=$r,Eo=void 0,$r=void 0,Yt(window,"keydown",di))}function nu(n){do n=n.parentNode;while((!n.offsetWidth||!n.offsetHeight)&&n!==document.body);return n}function Ua(n){var s=n.getBoundingClientRect();return{x:s.width/n.offsetWidth||1,y:s.height/n.offsetHeight||1,boundingClientRect:s}}var Sf={__proto__:null,TRANSFORM:Dn,TRANSITION:En,TRANSITION_END:vo,get:Fr,getStyle:hr,create:Ft,remove:tn,empty:Uo,toFront:Ko,toBack:Do,hasClass:Or,addClass:ut,removeClass:sn,setClass:Jo,getClass:Nr,setOpacity:ee,testProp:qe,setTransform:Xe,setPosition:nt,getPosition:wt,get disableTextSelection(){return Rt},get enableTextSelection(){return vn},disableImageDrag:yo,enableImageDrag:zr,preventOutline:Za,restoreOutline:di,getSizedParentNode:nu,getScale:Ua};function vt(n,s,u,y){if(s&&typeof s=="object")for(var S in s)Ja(n,S,s[S],u);else{s=x(s);for(var N=0,K=s.length;N<K;N++)Ja(n,s[N],u,y)}return this}var bo="_leaflet_events";function Yt(n,s,u,y){if(arguments.length===1)ou(n),delete n[bo];else if(s&&typeof s=="object")for(var S in s)qa(n,S,s[S],u);else if(s=x(s),arguments.length===2)ou(n,function(re){return D(s,re)!==-1});else for(var N=0,K=s.length;N<K;N++)qa(n,s[N],u,y);return this}function ou(n,s){for(var u in n[bo]){var y=u.split(/\d/)[0];(!s||s(y))&&qa(n,y,null,null,u)}}var Ka={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ja(n,s,u,y){var S=s+h(u)+(y?"_"+h(y):"");if(n[bo]&&n[bo][S])return this;var N=function(re){return u.call(y||n,re||window.event)},K=N;!Re.touchNative&&Re.pointer&&s.indexOf("touch")===0?N=je(n,s,N):Re.touch&&s==="dblclick"?N=Ao(n,N):"addEventListener"in n?s==="touchstart"||s==="touchmove"||s==="wheel"||s==="mousewheel"?n.addEventListener(Ka[s]||s,N,Re.passiveEvents?{passive:!1}:!1):s==="mouseenter"||s==="mouseleave"?(N=function(re){re=re||window.event,Ya(n,re)&&K(re)},n.addEventListener(Ka[s],N,!1)):n.addEventListener(s,K,!1):n.attachEvent("on"+s,N),n[bo]=n[bo]||{},n[bo][S]=N}function qa(n,s,u,y,S){S=S||s+h(u)+(y?"_"+h(y):"");var N=n[bo]&&n[bo][S];if(!N)return this;!Re.touchNative&&Re.pointer&&s.indexOf("touch")===0?at(n,s,N):Re.touch&&s==="dblclick"?gt(n,N):"removeEventListener"in n?n.removeEventListener(Ka[s]||s,N,!1):n.detachEvent("on"+s,N),n[bo][S]=null}function mr(n){return n.stopPropagation?n.stopPropagation():n.originalEvent?n.originalEvent._stopped=!0:n.cancelBubble=!0,this}function Xa(n){return Ja(n,"wheel",mr),this}function ys(n){return vt(n,"mousedown touchstart dblclick contextmenu",mr),n._leaflet_disable_click=!0,this}function Tn(n){return n.preventDefault?n.preventDefault():n.returnValue=!1,this}function fr(n){return Tn(n),mr(n),this}function ru(n){if(n.composedPath)return n.composedPath();for(var s=[],u=n.target;u;)s.push(u),u=u.parentNode;return s}function su(n,s){if(!s)return new E(n.clientX,n.clientY);var u=Ua(s),y=u.boundingClientRect;return new E((n.clientX-y.left)/u.x-s.clientLeft,(n.clientY-y.top)/u.y-s.clientTop)}var _f=Re.linux&&Re.chrome?window.devicePixelRatio:Re.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function iu(n){return Re.edge?n.wheelDeltaY/2:n.deltaY&&n.deltaMode===0?-n.deltaY/_f:n.deltaY&&n.deltaMode===1?-n.deltaY*20:n.deltaY&&n.deltaMode===2?-n.deltaY*60:n.deltaX||n.deltaZ?0:n.wheelDelta?(n.wheelDeltaY||n.wheelDelta)/2:n.detail&&Math.abs(n.detail)<32765?-n.detail*20:n.detail?n.detail/-32765*60:0}function Ya(n,s){var u=s.relatedTarget;if(!u)return!0;try{for(;u&&u!==n;)u=u.parentNode}catch{return!1}return u!==n}var Pf={__proto__:null,on:vt,off:Yt,stopPropagation:mr,disableScrollPropagation:Xa,disableClickPropagation:ys,preventDefault:Tn,stop:fr,getPropagationPath:ru,getMousePosition:su,getWheelDelta:iu,isExternalTarget:Ya,addListener:vt,removeListener:Yt},au=W.extend({run:function(n,s,u,y){this.stop(),this._el=n,this._inProgress=!0,this._duration=u||.25,this._easeOutPower=1/Math.max(y||.5,.2),this._startPos=wt(n),this._offset=s.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=$(this._animate,this),this._step()},_step:function(n){var s=+new Date-this._startTime,u=this._duration*1e3;s<u?this._runFrame(this._easeOut(s/u),n):(this._runFrame(1),this._complete())},_runFrame:function(n,s){var u=this._startPos.add(this._offset.multiplyBy(n));s&&u._round(),nt(this._el,u),this.fire("step")},_complete:function(){H(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(n){return 1-Math.pow(1-n,this._easeOutPower)}}),Lt=W.extend({options:{crs:le,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(n,s){s=w(this,s),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(n),this._initLayout(),this._onResize=c(this._onResize,this),this._initEvents(),s.maxBounds&&this.setMaxBounds(s.maxBounds),s.zoom!==void 0&&(this._zoom=this._limitZoom(s.zoom)),s.center&&s.zoom!==void 0&&this.setView(U(s.center),s.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=En&&Re.any3d&&!Re.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),vt(this._proxy,vo,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(n,s,u){if(s=s===void 0?this._zoom:this._limitZoom(s),n=this._limitCenter(U(n),s,this.options.maxBounds),u=u||{},this._stop(),this._loaded&&!u.reset&&u!==!0){u.animate!==void 0&&(u.zoom=i({animate:u.animate},u.zoom),u.pan=i({animate:u.animate,duration:u.duration},u.pan));var y=this._zoom!==s?this._tryAnimatedZoom&&this._tryAnimatedZoom(n,s,u.zoom):this._tryAnimatedPan(n,u.pan);if(y)return clearTimeout(this._sizeTimer),this}return this._resetView(n,s,u.pan&&u.pan.noMoveStart),this},setZoom:function(n,s){return this._loaded?this.setView(this.getCenter(),n,{zoom:s}):(this._zoom=n,this)},zoomIn:function(n,s){return n=n||(Re.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+n,s)},zoomOut:function(n,s){return n=n||(Re.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-n,s)},setZoomAround:function(n,s,u){var y=this.getZoomScale(s),S=this.getSize().divideBy(2),N=n instanceof E?n:this.latLngToContainerPoint(n),K=N.subtract(S).multiplyBy(1-1/y),re=this.containerPointToLatLng(S.add(K));return this.setView(re,s,{zoom:u})},_getBoundsCenterZoom:function(n,s){s=s||{},n=n.getBounds?n.getBounds():oe(n);var u=Z(s.paddingTopLeft||s.padding||[0,0]),y=Z(s.paddingBottomRight||s.padding||[0,0]),S=this.getBoundsZoom(n,!1,u.add(y));if(S=typeof s.maxZoom=="number"?Math.min(s.maxZoom,S):S,S===1/0)return{center:n.getCenter(),zoom:S};var N=y.subtract(u).divideBy(2),K=this.project(n.getSouthWest(),S),re=this.project(n.getNorthEast(),S),ae=this.unproject(K.add(re).divideBy(2).add(N),S);return{center:ae,zoom:S}},fitBounds:function(n,s){if(n=oe(n),!n.isValid())throw new Error("Bounds are not valid.");var u=this._getBoundsCenterZoom(n,s);return this.setView(u.center,u.zoom,s)},fitWorld:function(n){return this.fitBounds([[-90,-180],[90,180]],n)},panTo:function(n,s){return this.setView(n,this._zoom,{pan:s})},panBy:function(n,s){if(n=Z(n).round(),s=s||{},!n.x&&!n.y)return this.fire("moveend");if(s.animate!==!0&&!this.getSize().contains(n))return this._resetView(this.unproject(this.project(this.getCenter()).add(n)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new au,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),s.noMoveStart||this.fire("movestart"),s.animate!==!1){ut(this._mapPane,"leaflet-pan-anim");var u=this._getMapPanePos().subtract(n).round();this._panAnim.run(this._mapPane,u,s.duration||.25,s.easeLinearity)}else this._rawPanBy(n),this.fire("move").fire("moveend");return this},flyTo:function(n,s,u){if(u=u||{},u.animate===!1||!Re.any3d)return this.setView(n,s,u);this._stop();var y=this.project(this.getCenter()),S=this.project(n),N=this.getSize(),K=this._zoom;n=U(n),s=s===void 0?K:s;var re=Math.max(N.x,N.y),ae=re*this.getZoomScale(K,s),we=S.distanceTo(y)||1,Be=1.42,st=Be*Be;function Tt(yn){var Si=yn?-1:1,hg=yn?ae:re,mg=ae*ae-re*re+Si*st*st*we*we,fg=2*hg*st*we,cl=mg/fg,Bu=Math.sqrt(cl*cl+1)-cl,gg=Bu<1e-9?-18:Math.log(Bu);return gg}function Fn(yn){return(Math.exp(yn)-Math.exp(-yn))/2}function wn(yn){return(Math.exp(yn)+Math.exp(-yn))/2}function Yn(yn){return Fn(yn)/wn(yn)}var zn=Tt(0);function Wr(yn){return re*(wn(zn)/wn(zn+Be*yn))}function cg(yn){return re*(wn(zn)*Yn(zn+Be*yn)-Fn(zn))/st}function ug(yn){return 1-Math.pow(1-yn,1.5)}var dg=Date.now(),$u=(Tt(1)-zn)/Be,pg=u.duration?1e3*u.duration:1e3*$u*.8;function ju(){var yn=(Date.now()-dg)/pg,Si=ug(yn)*$u;yn<=1?(this._flyToFrame=$(ju,this),this._move(this.unproject(y.add(S.subtract(y).multiplyBy(cg(Si)/we)),K),this.getScaleZoom(re/Wr(Si),K),{flyTo:!0})):this._move(n,s)._moveEnd(!0)}return this._moveStart(!0,u.noMoveStart),ju.call(this),this},flyToBounds:function(n,s){var u=this._getBoundsCenterZoom(n,s);return this.flyTo(u.center,u.zoom,s)},setMaxBounds:function(n){return n=oe(n),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),n.isValid()?(this.options.maxBounds=n,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(n){var s=this.options.minZoom;return this.options.minZoom=n,this._loaded&&s!==n&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(n):this},setMaxZoom:function(n){var s=this.options.maxZoom;return this.options.maxZoom=n,this._loaded&&s!==n&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(n):this},panInsideBounds:function(n,s){this._enforcingBounds=!0;var u=this.getCenter(),y=this._limitCenter(u,this._zoom,oe(n));return u.equals(y)||this.panTo(y,s),this._enforcingBounds=!1,this},panInside:function(n,s){s=s||{};var u=Z(s.paddingTopLeft||s.padding||[0,0]),y=Z(s.paddingBottomRight||s.padding||[0,0]),S=this.project(this.getCenter()),N=this.project(n),K=this.getPixelBounds(),re=te([K.min.add(u),K.max.subtract(y)]),ae=re.getSize();if(!re.contains(N)){this._enforcingBounds=!0;var we=N.subtract(re.getCenter()),Be=re.extend(N).getSize().subtract(ae);S.x+=we.x<0?-Be.x:Be.x,S.y+=we.y<0?-Be.y:Be.y,this.panTo(this.unproject(S),s),this._enforcingBounds=!1}return this},invalidateSize:function(n){if(!this._loaded)return this;n=i({animate:!1,pan:!0},n===!0?{animate:!0}:n);var s=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var u=this.getSize(),y=s.divideBy(2).round(),S=u.divideBy(2).round(),N=y.subtract(S);return!N.x&&!N.y?this:(n.animate&&n.pan?this.panBy(N):(n.pan&&this._rawPanBy(N),this.fire("move"),n.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(c(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:s,newSize:u}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(n){if(n=this._locateOptions=i({timeout:1e4,watch:!1},n),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var s=c(this._handleGeolocationResponse,this),u=c(this._handleGeolocationError,this);return n.watch?this._locationWatchId=navigator.geolocation.watchPosition(s,u,n):navigator.geolocation.getCurrentPosition(s,u,n),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(n){if(this._container._leaflet_id){var s=n.code,u=n.message||(s===1?"permission denied":s===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:s,message:"Geolocation error: "+u+"."})}},_handleGeolocationResponse:function(n){if(this._container._leaflet_id){var s=n.coords.latitude,u=n.coords.longitude,y=new X(s,u),S=y.toBounds(n.coords.accuracy*2),N=this._locateOptions;if(N.setView){var K=this.getBoundsZoom(S);this.setView(y,N.maxZoom?Math.min(K,N.maxZoom):K)}var re={latlng:y,bounds:S,timestamp:n.timestamp};for(var ae in n.coords)typeof n.coords[ae]=="number"&&(re[ae]=n.coords[ae]);this.fire("locationfound",re)}},addHandler:function(n,s){if(!s)return this;var u=this[n]=new s(this);return this._handlers.push(u),this.options[n]&&u.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),tn(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(H(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var n;for(n in this._layers)this._layers[n].remove();for(n in this._panes)tn(this._panes[n]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(n,s){var u="leaflet-pane"+(n?" leaflet-"+n.replace("Pane","")+"-pane":""),y=Ft("div",u,s||this._mapPane);return n&&(this._panes[n]=y),y},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var n=this.getPixelBounds(),s=this.unproject(n.getBottomLeft()),u=this.unproject(n.getTopRight());return new J(s,u)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(n,s,u){n=oe(n),u=Z(u||[0,0]);var y=this.getZoom()||0,S=this.getMinZoom(),N=this.getMaxZoom(),K=n.getNorthWest(),re=n.getSouthEast(),ae=this.getSize().subtract(u),we=te(this.project(re,y),this.project(K,y)).getSize(),Be=Re.any3d?this.options.zoomSnap:1,st=ae.x/we.x,Tt=ae.y/we.y,Fn=s?Math.max(st,Tt):Math.min(st,Tt);return y=this.getScaleZoom(Fn,y),Be&&(y=Math.round(y/(Be/100))*(Be/100),y=s?Math.ceil(y/Be)*Be:Math.floor(y/Be)*Be),Math.max(S,Math.min(N,y))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new E(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(n,s){var u=this._getTopLeftPoint(n,s);return new q(u,u.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(n){return this.options.crs.getProjectedBounds(n===void 0?this.getZoom():n)},getPane:function(n){return typeof n=="string"?this._panes[n]:n},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(n,s){var u=this.options.crs;return s=s===void 0?this._zoom:s,u.scale(n)/u.scale(s)},getScaleZoom:function(n,s){var u=this.options.crs;s=s===void 0?this._zoom:s;var y=u.zoom(n*u.scale(s));return isNaN(y)?1/0:y},project:function(n,s){return s=s===void 0?this._zoom:s,this.options.crs.latLngToPoint(U(n),s)},unproject:function(n,s){return s=s===void 0?this._zoom:s,this.options.crs.pointToLatLng(Z(n),s)},layerPointToLatLng:function(n){var s=Z(n).add(this.getPixelOrigin());return this.unproject(s)},latLngToLayerPoint:function(n){var s=this.project(U(n))._round();return s._subtract(this.getPixelOrigin())},wrapLatLng:function(n){return this.options.crs.wrapLatLng(U(n))},wrapLatLngBounds:function(n){return this.options.crs.wrapLatLngBounds(oe(n))},distance:function(n,s){return this.options.crs.distance(U(n),U(s))},containerPointToLayerPoint:function(n){return Z(n).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(n){return Z(n).add(this._getMapPanePos())},containerPointToLatLng:function(n){var s=this.containerPointToLayerPoint(Z(n));return this.layerPointToLatLng(s)},latLngToContainerPoint:function(n){return this.layerPointToContainerPoint(this.latLngToLayerPoint(U(n)))},mouseEventToContainerPoint:function(n){return su(n,this._container)},mouseEventToLayerPoint:function(n){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(n))},mouseEventToLatLng:function(n){return this.layerPointToLatLng(this.mouseEventToLayerPoint(n))},_initContainer:function(n){var s=this._container=Fr(n);if(s){if(s._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");vt(s,"scroll",this._onScroll,this),this._containerId=h(s)},_initLayout:function(){var n=this._container;this._fadeAnimated=this.options.fadeAnimation&&Re.any3d,ut(n,"leaflet-container"+(Re.touch?" leaflet-touch":"")+(Re.retina?" leaflet-retina":"")+(Re.ielt9?" leaflet-oldie":"")+(Re.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var s=hr(n,"position");s!=="absolute"&&s!=="relative"&&s!=="fixed"&&s!=="sticky"&&(n.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var n=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),nt(this._mapPane,new E(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ut(n.markerPane,"leaflet-zoom-hide"),ut(n.shadowPane,"leaflet-zoom-hide"))},_resetView:function(n,s,u){nt(this._mapPane,new E(0,0));var y=!this._loaded;this._loaded=!0,s=this._limitZoom(s),this.fire("viewprereset");var S=this._zoom!==s;this._moveStart(S,u)._move(n,s)._moveEnd(S),this.fire("viewreset"),y&&this.fire("load")},_moveStart:function(n,s){return n&&this.fire("zoomstart"),s||this.fire("movestart"),this},_move:function(n,s,u,y){s===void 0&&(s=this._zoom);var S=this._zoom!==s;return this._zoom=s,this._lastCenter=n,this._pixelOrigin=this._getNewPixelOrigin(n),y?u&&u.pinch&&this.fire("zoom",u):((S||u&&u.pinch)&&this.fire("zoom",u),this.fire("move",u)),this},_moveEnd:function(n){return n&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return H(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(n){nt(this._mapPane,this._getMapPanePos().subtract(n))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(n){this._targets={},this._targets[h(this._container)]=this;var s=n?Yt:vt;s(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&s(window,"resize",this._onResize,this),Re.any3d&&this.options.transform3DLimit&&(n?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){H(this._resizeRequest),this._resizeRequest=$(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var n=this._getMapPanePos();Math.max(Math.abs(n.x),Math.abs(n.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(n,s){for(var u=[],y,S=s==="mouseout"||s==="mouseover",N=n.target||n.srcElement,K=!1;N;){if(y=this._targets[h(N)],y&&(s==="click"||s==="preclick")&&this._draggableMoved(y)){K=!0;break}if(y&&y.listens(s,!0)&&(S&&!Ya(N,n)||(u.push(y),S))||N===this._container)break;N=N.parentNode}return!u.length&&!K&&!S&&this.listens(s,!0)&&(u=[this]),u},_isClickDisabled:function(n){for(;n&&n!==this._container;){if(n._leaflet_disable_click)return!0;n=n.parentNode}},_handleDOMEvent:function(n){var s=n.target||n.srcElement;if(!(!this._loaded||s._leaflet_disable_events||n.type==="click"&&this._isClickDisabled(s))){var u=n.type;u==="mousedown"&&Za(s),this._fireDOMEvent(n,u)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(n,s,u){if(n.type==="click"){var y=i({},n);y.type="preclick",this._fireDOMEvent(y,y.type,u)}var S=this._findEventTargets(n,s);if(u){for(var N=[],K=0;K<u.length;K++)u[K].listens(s,!0)&&N.push(u[K]);S=N.concat(S)}if(S.length){s==="contextmenu"&&Tn(n);var re=S[0],ae={originalEvent:n};if(n.type!=="keypress"&&n.type!=="keydown"&&n.type!=="keyup"){var we=re.getLatLng&&(!re._radius||re._radius<=10);ae.containerPoint=we?this.latLngToContainerPoint(re.getLatLng()):this.mouseEventToContainerPoint(n),ae.layerPoint=this.containerPointToLayerPoint(ae.containerPoint),ae.latlng=we?re.getLatLng():this.layerPointToLatLng(ae.layerPoint)}for(K=0;K<S.length;K++)if(S[K].fire(s,ae,!0),ae.originalEvent._stopped||S[K].options.bubblingMouseEvents===!1&&D(this._mouseEvents,s)!==-1)return}},_draggableMoved:function(n){return n=n.dragging&&n.dragging.enabled()?n:this,n.dragging&&n.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var n=0,s=this._handlers.length;n<s;n++)this._handlers[n].disable()},whenReady:function(n,s){return this._loaded?n.call(s||this,{target:this}):this.on("load",n,s),this},_getMapPanePos:function(){return wt(this._mapPane)||new E(0,0)},_moved:function(){var n=this._getMapPanePos();return n&&!n.equals([0,0])},_getTopLeftPoint:function(n,s){var u=n&&s!==void 0?this._getNewPixelOrigin(n,s):this.getPixelOrigin();return u.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(n,s){var u=this.getSize()._divideBy(2);return this.project(n,s)._subtract(u)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(n,s,u){var y=this._getNewPixelOrigin(u,s);return this.project(n,s)._subtract(y)},_latLngBoundsToNewLayerBounds:function(n,s,u){var y=this._getNewPixelOrigin(u,s);return te([this.project(n.getSouthWest(),s)._subtract(y),this.project(n.getNorthWest(),s)._subtract(y),this.project(n.getSouthEast(),s)._subtract(y),this.project(n.getNorthEast(),s)._subtract(y)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(n){return this.latLngToLayerPoint(n).subtract(this._getCenterLayerPoint())},_limitCenter:function(n,s,u){if(!u)return n;var y=this.project(n,s),S=this.getSize().divideBy(2),N=new q(y.subtract(S),y.add(S)),K=this._getBoundsOffset(N,u,s);return Math.abs(K.x)<=1&&Math.abs(K.y)<=1?n:this.unproject(y.add(K),s)},_limitOffset:function(n,s){if(!s)return n;var u=this.getPixelBounds(),y=new q(u.min.add(n),u.max.add(n));return n.add(this._getBoundsOffset(y,s))},_getBoundsOffset:function(n,s,u){var y=te(this.project(s.getNorthEast(),u),this.project(s.getSouthWest(),u)),S=y.min.subtract(n.min),N=y.max.subtract(n.max),K=this._rebound(S.x,-N.x),re=this._rebound(S.y,-N.y);return new E(K,re)},_rebound:function(n,s){return n+s>0?Math.round(n-s)/2:Math.max(0,Math.ceil(n))-Math.max(0,Math.floor(s))},_limitZoom:function(n){var s=this.getMinZoom(),u=this.getMaxZoom(),y=Re.any3d?this.options.zoomSnap:1;return y&&(n=Math.round(n/y)*y),Math.max(s,Math.min(u,n))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){sn(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(n,s){var u=this._getCenterOffset(n)._trunc();return(s&&s.animate)!==!0&&!this.getSize().contains(u)?!1:(this.panBy(u,s),!0)},_createAnimProxy:function(){var n=this._proxy=Ft("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(n),this.on("zoomanim",function(s){var u=Dn,y=this._proxy.style[u];Xe(this._proxy,this.project(s.center,s.zoom),this.getZoomScale(s.zoom,1)),y===this._proxy.style[u]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){tn(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var n=this.getCenter(),s=this.getZoom();Xe(this._proxy,this.project(n,s),this.getZoomScale(s,1))},_catchTransitionEnd:function(n){this._animatingZoom&&n.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(n,s,u){if(this._animatingZoom)return!0;if(u=u||{},!this._zoomAnimated||u.animate===!1||this._nothingToAnimate()||Math.abs(s-this._zoom)>this.options.zoomAnimationThreshold)return!1;var y=this.getZoomScale(s),S=this._getCenterOffset(n)._divideBy(1-1/y);return u.animate!==!0&&!this.getSize().contains(S)?!1:($(function(){this._moveStart(!0,u.noMoveStart||!1)._animateZoom(n,s,!0)},this),!0)},_animateZoom:function(n,s,u,y){this._mapPane&&(u&&(this._animatingZoom=!0,this._animateToCenter=n,this._animateToZoom=s,ut(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:n,zoom:s,noUpdate:y}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(c(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&sn(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function If(n,s){return new Lt(n,s)}var ao=I.extend({options:{position:"topright"},initialize:function(n){w(this,n)},getPosition:function(){return this.options.position},setPosition:function(n){var s=this._map;return s&&s.removeControl(this),this.options.position=n,s&&s.addControl(this),this},getContainer:function(){return this._container},addTo:function(n){this.remove(),this._map=n;var s=this._container=this.onAdd(n),u=this.getPosition(),y=n._controlCorners[u];return ut(s,"leaflet-control"),u.indexOf("bottom")!==-1?y.insertBefore(s,y.firstChild):y.appendChild(s),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(tn(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(n){this._map&&n&&n.screenX>0&&n.screenY>0&&this._map.getContainer().focus()}}),bs=function(n){return new ao(n)};Lt.include({addControl:function(n){return n.addTo(this),this},removeControl:function(n){return n.remove(),this},_initControlPos:function(){var n=this._controlCorners={},s="leaflet-",u=this._controlContainer=Ft("div",s+"control-container",this._container);function y(S,N){var K=s+S+" "+s+N;n[S+N]=Ft("div",K,u)}y("top","left"),y("top","right"),y("bottom","left"),y("bottom","right")},_clearControlPos:function(){for(var n in this._controlCorners)tn(this._controlCorners[n]);tn(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var lu=ao.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(n,s,u,y){return u<y?-1:y<u?1:0}},initialize:function(n,s,u){w(this,u),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var y in n)this._addLayer(n[y],y);for(y in s)this._addLayer(s[y],y,!0)},onAdd:function(n){this._initLayout(),this._update(),this._map=n,n.on("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(n){return ao.prototype.addTo.call(this,n),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var n=0;n<this._layers.length;n++)this._layers[n].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(n,s){return this._addLayer(n,s),this._map?this._update():this},addOverlay:function(n,s){return this._addLayer(n,s,!0),this._map?this._update():this},removeLayer:function(n){n.off("add remove",this._onLayerChange,this);var s=this._getLayer(h(n));return s&&this._layers.splice(this._layers.indexOf(s),1),this._map?this._update():this},expand:function(){ut(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var n=this._map.getSize().y-(this._container.offsetTop+50);return n<this._section.clientHeight?(ut(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=n+"px"):sn(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return sn(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var n="leaflet-control-layers",s=this._container=Ft("div",n),u=this.options.collapsed;s.setAttribute("aria-haspopup",!0),ys(s),Xa(s);var y=this._section=Ft("section",n+"-list");u&&(this._map.on("click",this.collapse,this),vt(s,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var S=this._layersLink=Ft("a",n+"-toggle",s);S.href="#",S.title="Layers",S.setAttribute("role","button"),vt(S,{keydown:function(N){N.keyCode===13&&this._expandSafely()},click:function(N){Tn(N),this._expandSafely()}},this),u||this.expand(),this._baseLayersList=Ft("div",n+"-base",y),this._separator=Ft("div",n+"-separator",y),this._overlaysList=Ft("div",n+"-overlays",y),s.appendChild(y)},_getLayer:function(n){for(var s=0;s<this._layers.length;s++)if(this._layers[s]&&h(this._layers[s].layer)===n)return this._layers[s]},_addLayer:function(n,s,u){this._map&&n.on("add remove",this._onLayerChange,this),this._layers.push({layer:n,name:s,overlay:u}),this.options.sortLayers&&this._layers.sort(c(function(y,S){return this.options.sortFunction(y.layer,S.layer,y.name,S.name)},this)),this.options.autoZIndex&&n.setZIndex&&(this._lastZIndex++,n.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Uo(this._baseLayersList),Uo(this._overlaysList),this._layerControlInputs=[];var n,s,u,y,S=0;for(u=0;u<this._layers.length;u++)y=this._layers[u],this._addItem(y),s=s||y.overlay,n=n||!y.overlay,S+=y.overlay?0:1;return this.options.hideSingleBase&&(n=n&&S>1,this._baseLayersList.style.display=n?"":"none"),this._separator.style.display=s&&n?"":"none",this},_onLayerChange:function(n){this._handlingClick||this._update();var s=this._getLayer(h(n.target)),u=s.overlay?n.type==="add"?"overlayadd":"overlayremove":n.type==="add"?"baselayerchange":null;u&&this._map.fire(u,s)},_createRadioElement:function(n,s){var u='<input type="radio" class="leaflet-control-layers-selector" name="'+n+'"'+(s?' checked="checked"':"")+"/>",y=document.createElement("div");return y.innerHTML=u,y.firstChild},_addItem:function(n){var s=document.createElement("label"),u=this._map.hasLayer(n.layer),y;n.overlay?(y=document.createElement("input"),y.type="checkbox",y.className="leaflet-control-layers-selector",y.defaultChecked=u):y=this._createRadioElement("leaflet-base-layers_"+h(this),u),this._layerControlInputs.push(y),y.layerId=h(n.layer),vt(y,"click",this._onInputClick,this);var S=document.createElement("span");S.innerHTML=" "+n.name;var N=document.createElement("span");s.appendChild(N),N.appendChild(y),N.appendChild(S);var K=n.overlay?this._overlaysList:this._baseLayersList;return K.appendChild(s),this._checkDisabledLayers(),s},_onInputClick:function(){if(!this._preventClick){var n=this._layerControlInputs,s,u,y=[],S=[];this._handlingClick=!0;for(var N=n.length-1;N>=0;N--)s=n[N],u=this._getLayer(s.layerId).layer,s.checked?y.push(u):s.checked||S.push(u);for(N=0;N<S.length;N++)this._map.hasLayer(S[N])&&this._map.removeLayer(S[N]);for(N=0;N<y.length;N++)this._map.hasLayer(y[N])||this._map.addLayer(y[N]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var n=this._layerControlInputs,s,u,y=this._map.getZoom(),S=n.length-1;S>=0;S--)s=n[S],u=this._getLayer(s.layerId).layer,s.disabled=u.options.minZoom!==void 0&&y<u.options.minZoom||u.options.maxZoom!==void 0&&y>u.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var n=this._section;this._preventClick=!0,vt(n,"click",Tn),this.expand();var s=this;setTimeout(function(){Yt(n,"click",Tn),s._preventClick=!1})}}),Tf=function(n,s,u){return new lu(n,s,u)},Qa=ao.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(n){var s="leaflet-control-zoom",u=Ft("div",s+" leaflet-bar"),y=this.options;return this._zoomInButton=this._createButton(y.zoomInText,y.zoomInTitle,s+"-in",u,this._zoomIn),this._zoomOutButton=this._createButton(y.zoomOutText,y.zoomOutTitle,s+"-out",u,this._zoomOut),this._updateDisabled(),n.on("zoomend zoomlevelschange",this._updateDisabled,this),u},onRemove:function(n){n.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(n){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(n.shiftKey?3:1))},_zoomOut:function(n){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(n.shiftKey?3:1))},_createButton:function(n,s,u,y,S){var N=Ft("a",u,y);return N.innerHTML=n,N.href="#",N.title=s,N.setAttribute("role","button"),N.setAttribute("aria-label",s),ys(N),vt(N,"click",fr),vt(N,"click",S,this),vt(N,"click",this._refocusOnMap,this),N},_updateDisabled:function(){var n=this._map,s="leaflet-disabled";sn(this._zoomInButton,s),sn(this._zoomOutButton,s),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||n._zoom===n.getMinZoom())&&(ut(this._zoomOutButton,s),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||n._zoom===n.getMaxZoom())&&(ut(this._zoomInButton,s),this._zoomInButton.setAttribute("aria-disabled","true"))}});Lt.mergeOptions({zoomControl:!0}),Lt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Qa,this.addControl(this.zoomControl))});var kf=function(n){return new Qa(n)},cu=ao.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(n){var s="leaflet-control-scale",u=Ft("div",s),y=this.options;return this._addScales(y,s+"-line",u),n.on(y.updateWhenIdle?"moveend":"move",this._update,this),n.whenReady(this._update,this),u},onRemove:function(n){n.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(n,s,u){n.metric&&(this._mScale=Ft("div",s,u)),n.imperial&&(this._iScale=Ft("div",s,u))},_update:function(){var n=this._map,s=n.getSize().y/2,u=n.distance(n.containerPointToLatLng([0,s]),n.containerPointToLatLng([this.options.maxWidth,s]));this._updateScales(u)},_updateScales:function(n){this.options.metric&&n&&this._updateMetric(n),this.options.imperial&&n&&this._updateImperial(n)},_updateMetric:function(n){var s=this._getRoundNum(n),u=s<1e3?s+" m":s/1e3+" km";this._updateScale(this._mScale,u,s/n)},_updateImperial:function(n){var s=n*3.2808399,u,y,S;s>5280?(u=s/5280,y=this._getRoundNum(u),this._updateScale(this._iScale,y+" mi",y/u)):(S=this._getRoundNum(s),this._updateScale(this._iScale,S+" ft",S/s))},_updateScale:function(n,s,u){n.style.width=Math.round(this.options.maxWidth*u)+"px",n.innerHTML=s},_getRoundNum:function(n){var s=Math.pow(10,(Math.floor(n)+"").length-1),u=n/s;return u=u>=10?10:u>=5?5:u>=3?3:u>=2?2:1,s*u}}),Mf=function(n){return new cu(n)},Af='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',el=ao.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Re.inlineSvg?Af+" ":"")+"Leaflet</a>"},initialize:function(n){w(this,n),this._attributions={}},onAdd:function(n){n.attributionControl=this,this._container=Ft("div","leaflet-control-attribution"),ys(this._container);for(var s in n._layers)n._layers[s].getAttribution&&this.addAttribution(n._layers[s].getAttribution());return this._update(),n.on("layeradd",this._addAttribution,this),this._container},onRemove:function(n){n.off("layeradd",this._addAttribution,this)},_addAttribution:function(n){n.layer.getAttribution&&(this.addAttribution(n.layer.getAttribution()),n.layer.once("remove",function(){this.removeAttribution(n.layer.getAttribution())},this))},setPrefix:function(n){return this.options.prefix=n,this._update(),this},addAttribution:function(n){return n?(this._attributions[n]||(this._attributions[n]=0),this._attributions[n]++,this._update(),this):this},removeAttribution:function(n){return n?(this._attributions[n]&&(this._attributions[n]--,this._update()),this):this},_update:function(){if(this._map){var n=[];for(var s in this._attributions)this._attributions[s]&&n.push(s);var u=[];this.options.prefix&&u.push(this.options.prefix),n.length&&u.push(n.join(", ")),this._container.innerHTML=u.join(' <span aria-hidden="true">|</span> ')}}});Lt.mergeOptions({attributionControl:!0}),Lt.addInitHook(function(){this.options.attributionControl&&new el().addTo(this)});var Df=function(n){return new el(n)};ao.Layers=lu,ao.Zoom=Qa,ao.Scale=cu,ao.Attribution=el,bs.layers=Tf,bs.zoom=kf,bs.scale=Mf,bs.attribution=Df;var xo=I.extend({initialize:function(n){this._map=n},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});xo.addTo=function(n,s){return n.addHandler(s,this),this};var Ef={Events:j},uu=Re.touch?"touchstart mousedown":"mousedown",qo=W.extend({options:{clickTolerance:3},initialize:function(n,s,u,y){w(this,y),this._element=n,this._dragStartTarget=s||n,this._preventOutline=u},enable:function(){this._enabled||(vt(this._dragStartTarget,uu,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(qo._dragging===this&&this.finishDrag(!0),Yt(this._dragStartTarget,uu,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(n){if(this._enabled&&(this._moved=!1,!Or(this._element,"leaflet-zoom-anim"))){if(n.touches&&n.touches.length!==1){qo._dragging===this&&this.finishDrag();return}if(!(qo._dragging||n.shiftKey||n.which!==1&&n.button!==1&&!n.touches)&&(qo._dragging=this,this._preventOutline&&Za(this._element),yo(),Rt(),!this._moving)){this.fire("down");var s=n.touches?n.touches[0]:n,u=nu(this._element);this._startPoint=new E(s.clientX,s.clientY),this._startPos=wt(this._element),this._parentScale=Ua(u);var y=n.type==="mousedown";vt(document,y?"mousemove":"touchmove",this._onMove,this),vt(document,y?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(n){if(this._enabled){if(n.touches&&n.touches.length>1){this._moved=!0;return}var s=n.touches&&n.touches.length===1?n.touches[0]:n,u=new E(s.clientX,s.clientY)._subtract(this._startPoint);!u.x&&!u.y||Math.abs(u.x)+Math.abs(u.y)<this.options.clickTolerance||(u.x/=this._parentScale.x,u.y/=this._parentScale.y,Tn(n),this._moved||(this.fire("dragstart"),this._moved=!0,ut(document.body,"leaflet-dragging"),this._lastTarget=n.target||n.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ut(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(u),this._moving=!0,this._lastEvent=n,this._updatePosition())}},_updatePosition:function(){var n={originalEvent:this._lastEvent};this.fire("predrag",n),nt(this._element,this._newPos),this.fire("drag",n)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(n){sn(document.body,"leaflet-dragging"),this._lastTarget&&(sn(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Yt(document,"mousemove touchmove",this._onMove,this),Yt(document,"mouseup touchend touchcancel",this._onUp,this),zr(),vn();var s=this._moved&&this._moving;this._moving=!1,qo._dragging=!1,s&&this.fire("dragend",{noInertia:n,distance:this._newPos.distanceTo(this._startPos)})}});function du(n,s,u){var y,S=[1,4,2,8],N,K,re,ae,we,Be,st,Tt;for(N=0,Be=n.length;N<Be;N++)n[N]._code=gr(n[N],s);for(re=0;re<4;re++){for(st=S[re],y=[],N=0,Be=n.length,K=Be-1;N<Be;K=N++)ae=n[N],we=n[K],ae._code&st?we._code&st||(Tt=pi(we,ae,st,s,u),Tt._code=gr(Tt,s),y.push(Tt)):(we._code&st&&(Tt=pi(we,ae,st,s,u),Tt._code=gr(Tt,s),y.push(Tt)),y.push(ae));n=y}return n}function pu(n,s){var u,y,S,N,K,re,ae,we,Be;if(!n||n.length===0)throw new Error("latlngs not passed");Xn(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var st=U([0,0]),Tt=oe(n),Fn=Tt.getNorthWest().distanceTo(Tt.getSouthWest())*Tt.getNorthEast().distanceTo(Tt.getNorthWest());Fn<1700&&(st=tl(n));var wn=n.length,Yn=[];for(u=0;u<wn;u++){var zn=U(n[u]);Yn.push(s.project(U([zn.lat-st.lat,zn.lng-st.lng])))}for(re=ae=we=0,u=0,y=wn-1;u<wn;y=u++)S=Yn[u],N=Yn[y],K=S.y*N.x-N.y*S.x,ae+=(S.x+N.x)*K,we+=(S.y+N.y)*K,re+=K*3;re===0?Be=Yn[0]:Be=[ae/re,we/re];var Wr=s.unproject(Z(Be));return U([Wr.lat+st.lat,Wr.lng+st.lng])}function tl(n){for(var s=0,u=0,y=0,S=0;S<n.length;S++){var N=U(n[S]);s+=N.lat,u+=N.lng,y++}return U([s/y,u/y])}var Rf={__proto__:null,clipPolygon:du,polygonCenter:pu,centroid:tl};function hu(n,s){if(!s||!n.length)return n.slice();var u=s*s;return n=Of(n,u),n=Ff(n,u),n}function mu(n,s,u){return Math.sqrt(xs(n,s,u,!0))}function Lf(n,s,u){return xs(n,s,u)}function Ff(n,s){var u=n.length,y=typeof Uint8Array<"u"?Uint8Array:Array,S=new y(u);S[0]=S[u-1]=1,nl(n,S,s,0,u-1);var N,K=[];for(N=0;N<u;N++)S[N]&&K.push(n[N]);return K}function nl(n,s,u,y,S){var N=0,K,re,ae;for(re=y+1;re<=S-1;re++)ae=xs(n[re],n[y],n[S],!0),ae>N&&(K=re,N=ae);N>u&&(s[K]=1,nl(n,s,u,y,K),nl(n,s,u,K,S))}function Of(n,s){for(var u=[n[0]],y=1,S=0,N=n.length;y<N;y++)Nf(n[y],n[S])>s&&(u.push(n[y]),S=y);return S<N-1&&u.push(n[N-1]),u}var fu;function gu(n,s,u,y,S){var N=y?fu:gr(n,u),K=gr(s,u),re,ae,we;for(fu=K;;){if(!(N|K))return[n,s];if(N&K)return!1;re=N||K,ae=pi(n,s,re,u,S),we=gr(ae,u),re===N?(n=ae,N=we):(s=ae,K=we)}}function pi(n,s,u,y,S){var N=s.x-n.x,K=s.y-n.y,re=y.min,ae=y.max,we,Be;return u&8?(we=n.x+N*(ae.y-n.y)/K,Be=ae.y):u&4?(we=n.x+N*(re.y-n.y)/K,Be=re.y):u&2?(we=ae.x,Be=n.y+K*(ae.x-n.x)/N):u&1&&(we=re.x,Be=n.y+K*(re.x-n.x)/N),new E(we,Be,S)}function gr(n,s){var u=0;return n.x<s.min.x?u|=1:n.x>s.max.x&&(u|=2),n.y<s.min.y?u|=4:n.y>s.max.y&&(u|=8),u}function Nf(n,s){var u=s.x-n.x,y=s.y-n.y;return u*u+y*y}function xs(n,s,u,y){var S=s.x,N=s.y,K=u.x-S,re=u.y-N,ae=K*K+re*re,we;return ae>0&&(we=((n.x-S)*K+(n.y-N)*re)/ae,we>1?(S=u.x,N=u.y):we>0&&(S+=K*we,N+=re*we)),K=n.x-S,re=n.y-N,y?K*K+re*re:new E(S,N)}function Xn(n){return!R(n[0])||typeof n[0][0]!="object"&&typeof n[0][0]<"u"}function vu(n){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Xn(n)}function yu(n,s){var u,y,S,N,K,re,ae,we;if(!n||n.length===0)throw new Error("latlngs not passed");Xn(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var Be=U([0,0]),st=oe(n),Tt=st.getNorthWest().distanceTo(st.getSouthWest())*st.getNorthEast().distanceTo(st.getNorthWest());Tt<1700&&(Be=tl(n));var Fn=n.length,wn=[];for(u=0;u<Fn;u++){var Yn=U(n[u]);wn.push(s.project(U([Yn.lat-Be.lat,Yn.lng-Be.lng])))}for(u=0,y=0;u<Fn-1;u++)y+=wn[u].distanceTo(wn[u+1])/2;if(y===0)we=wn[0];else for(u=0,N=0;u<Fn-1;u++)if(K=wn[u],re=wn[u+1],S=K.distanceTo(re),N+=S,N>y){ae=(N-y)/S,we=[re.x-ae*(re.x-K.x),re.y-ae*(re.y-K.y)];break}var zn=s.unproject(Z(we));return U([zn.lat+Be.lat,zn.lng+Be.lng])}var zf={__proto__:null,simplify:hu,pointToSegmentDistance:mu,closestPointOnSegment:Lf,clipSegment:gu,_getEdgeIntersection:pi,_getBitCode:gr,_sqClosestPointOnSegment:xs,isFlat:Xn,_flat:vu,polylineCenter:yu},ol={project:function(n){return new E(n.lng,n.lat)},unproject:function(n){return new X(n.y,n.x)},bounds:new q([-180,-90],[180,90])},rl={R:6378137,R_MINOR:6356752314245179e-9,bounds:new q([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(n){var s=Math.PI/180,u=this.R,y=n.lat*s,S=this.R_MINOR/u,N=Math.sqrt(1-S*S),K=N*Math.sin(y),re=Math.tan(Math.PI/4-y/2)/Math.pow((1-K)/(1+K),N/2);return y=-u*Math.log(Math.max(re,1e-10)),new E(n.lng*s*u,y)},unproject:function(n){for(var s=180/Math.PI,u=this.R,y=this.R_MINOR/u,S=Math.sqrt(1-y*y),N=Math.exp(-n.y/u),K=Math.PI/2-2*Math.atan(N),re=0,ae=.1,we;re<15&&Math.abs(ae)>1e-7;re++)we=S*Math.sin(K),we=Math.pow((1-we)/(1+we),S/2),ae=Math.PI/2-2*Math.atan(N*we)-K,K+=ae;return new X(K*s,n.x*s/u)}},$f={__proto__:null,LonLat:ol,Mercator:rl,SphericalMercator:fe},jf=i({},ce,{code:"EPSG:3395",projection:rl,transformation:function(){var n=.5/(Math.PI*rl.R);return _e(n,.5,-n,.5)}()}),bu=i({},ce,{code:"EPSG:4326",projection:ol,transformation:_e(1/180,1,-1/180,.5)}),Bf=i({},ne,{projection:ol,transformation:_e(1,0,-1,0),scale:function(n){return Math.pow(2,n)},zoom:function(n){return Math.log(n)/Math.LN2},distance:function(n,s){var u=s.lng-n.lng,y=s.lat-n.lat;return Math.sqrt(u*u+y*y)},infinite:!0});ne.Earth=ce,ne.EPSG3395=jf,ne.EPSG3857=le,ne.EPSG900913=ye,ne.EPSG4326=bu,ne.Simple=Bf;var lo=W.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(n){return n.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(n){return n&&n.removeLayer(this),this},getPane:function(n){return this._map.getPane(n?this.options[n]||n:this.options.pane)},addInteractiveTarget:function(n){return this._map._targets[h(n)]=this,this},removeInteractiveTarget:function(n){return delete this._map._targets[h(n)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(n){var s=n.target;if(s.hasLayer(this)){if(this._map=s,this._zoomAnimated=s._zoomAnimated,this.getEvents){var u=this.getEvents();s.on(u,this),this.once("remove",function(){s.off(u,this)},this)}this.onAdd(s),this.fire("add"),s.fire("layeradd",{layer:this})}}});Lt.include({addLayer:function(n){if(!n._layerAdd)throw new Error("The provided object is not a Layer.");var s=h(n);return this._layers[s]?this:(this._layers[s]=n,n._mapToAdd=this,n.beforeAdd&&n.beforeAdd(this),this.whenReady(n._layerAdd,n),this)},removeLayer:function(n){var s=h(n);return this._layers[s]?(this._loaded&&n.onRemove(this),delete this._layers[s],this._loaded&&(this.fire("layerremove",{layer:n}),n.fire("remove")),n._map=n._mapToAdd=null,this):this},hasLayer:function(n){return h(n)in this._layers},eachLayer:function(n,s){for(var u in this._layers)n.call(s,this._layers[u]);return this},_addLayers:function(n){n=n?R(n)?n:[n]:[];for(var s=0,u=n.length;s<u;s++)this.addLayer(n[s])},_addZoomLimit:function(n){(!isNaN(n.options.maxZoom)||!isNaN(n.options.minZoom))&&(this._zoomBoundLayers[h(n)]=n,this._updateZoomLevels())},_removeZoomLimit:function(n){var s=h(n);this._zoomBoundLayers[s]&&(delete this._zoomBoundLayers[s],this._updateZoomLevels())},_updateZoomLevels:function(){var n=1/0,s=-1/0,u=this._getZoomSpan();for(var y in this._zoomBoundLayers){var S=this._zoomBoundLayers[y].options;n=S.minZoom===void 0?n:Math.min(n,S.minZoom),s=S.maxZoom===void 0?s:Math.max(s,S.maxZoom)}this._layersMaxZoom=s===-1/0?void 0:s,this._layersMinZoom=n===1/0?void 0:n,u!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var jr=lo.extend({initialize:function(n,s){w(this,s),this._layers={};var u,y;if(n)for(u=0,y=n.length;u<y;u++)this.addLayer(n[u])},addLayer:function(n){var s=this.getLayerId(n);return this._layers[s]=n,this._map&&this._map.addLayer(n),this},removeLayer:function(n){var s=n in this._layers?n:this.getLayerId(n);return this._map&&this._layers[s]&&this._map.removeLayer(this._layers[s]),delete this._layers[s],this},hasLayer:function(n){var s=typeof n=="number"?n:this.getLayerId(n);return s in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(n){var s=Array.prototype.slice.call(arguments,1),u,y;for(u in this._layers)y=this._layers[u],y[n]&&y[n].apply(y,s);return this},onAdd:function(n){this.eachLayer(n.addLayer,n)},onRemove:function(n){this.eachLayer(n.removeLayer,n)},eachLayer:function(n,s){for(var u in this._layers)n.call(s,this._layers[u]);return this},getLayer:function(n){return this._layers[n]},getLayers:function(){var n=[];return this.eachLayer(n.push,n),n},setZIndex:function(n){return this.invoke("setZIndex",n)},getLayerId:function(n){return h(n)}}),Hf=function(n,s){return new jr(n,s)},Ro=jr.extend({addLayer:function(n){return this.hasLayer(n)?this:(n.addEventParent(this),jr.prototype.addLayer.call(this,n),this.fire("layeradd",{layer:n}))},removeLayer:function(n){return this.hasLayer(n)?(n in this._layers&&(n=this._layers[n]),n.removeEventParent(this),jr.prototype.removeLayer.call(this,n),this.fire("layerremove",{layer:n})):this},setStyle:function(n){return this.invoke("setStyle",n)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var n=new J;for(var s in this._layers){var u=this._layers[s];n.extend(u.getBounds?u.getBounds():u.getLatLng())}return n}}),Gf=function(n,s){return new Ro(n,s)},Br=I.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(n){w(this,n)},createIcon:function(n){return this._createIcon("icon",n)},createShadow:function(n){return this._createIcon("shadow",n)},_createIcon:function(n,s){var u=this._getIconUrl(n);if(!u){if(n==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var y=this._createImg(u,s&&s.tagName==="IMG"?s:null);return this._setIconStyles(y,n),(this.options.crossOrigin||this.options.crossOrigin==="")&&(y.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),y},_setIconStyles:function(n,s){var u=this.options,y=u[s+"Size"];typeof y=="number"&&(y=[y,y]);var S=Z(y),N=Z(s==="shadow"&&u.shadowAnchor||u.iconAnchor||S&&S.divideBy(2,!0));n.className="leaflet-marker-"+s+" "+(u.className||""),N&&(n.style.marginLeft=-N.x+"px",n.style.marginTop=-N.y+"px"),S&&(n.style.width=S.x+"px",n.style.height=S.y+"px")},_createImg:function(n,s){return s=s||document.createElement("img"),s.src=n,s},_getIconUrl:function(n){return Re.retina&&this.options[n+"RetinaUrl"]||this.options[n+"Url"]}});function Vf(n){return new Br(n)}var Cs=Br.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(n){return typeof Cs.imagePath!="string"&&(Cs.imagePath=this._detectIconPath()),(this.options.imagePath||Cs.imagePath)+Br.prototype._getIconUrl.call(this,n)},_stripUrl:function(n){var s=function(u,y,S){var N=y.exec(u);return N&&N[S]};return n=s(n,/^url\((['"])?(.+)\1\)$/,2),n&&s(n,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var n=Ft("div","leaflet-default-icon-path",document.body),s=hr(n,"background-image")||hr(n,"backgroundImage");if(document.body.removeChild(n),s=this._stripUrl(s),s)return s;var u=document.querySelector('link[href$="leaflet.css"]');return u?u.href.substring(0,u.href.length-11-1):""}}),xu=xo.extend({initialize:function(n){this._marker=n},addHooks:function(){var n=this._marker._icon;this._draggable||(this._draggable=new qo(n,n,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ut(n,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&sn(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(n){var s=this._marker,u=s._map,y=this._marker.options.autoPanSpeed,S=this._marker.options.autoPanPadding,N=wt(s._icon),K=u.getPixelBounds(),re=u.getPixelOrigin(),ae=te(K.min._subtract(re).add(S),K.max._subtract(re).subtract(S));if(!ae.contains(N)){var we=Z((Math.max(ae.max.x,N.x)-ae.max.x)/(K.max.x-ae.max.x)-(Math.min(ae.min.x,N.x)-ae.min.x)/(K.min.x-ae.min.x),(Math.max(ae.max.y,N.y)-ae.max.y)/(K.max.y-ae.max.y)-(Math.min(ae.min.y,N.y)-ae.min.y)/(K.min.y-ae.min.y)).multiplyBy(y);u.panBy(we,{animate:!1}),this._draggable._newPos._add(we),this._draggable._startPos._add(we),nt(s._icon,this._draggable._newPos),this._onDrag(n),this._panRequest=$(this._adjustPan.bind(this,n))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(n){this._marker.options.autoPan&&(H(this._panRequest),this._panRequest=$(this._adjustPan.bind(this,n)))},_onDrag:function(n){var s=this._marker,u=s._shadow,y=wt(s._icon),S=s._map.layerPointToLatLng(y);u&&nt(u,y),s._latlng=S,n.latlng=S,n.oldLatLng=this._oldLatLng,s.fire("move",n).fire("drag",n)},_onDragEnd:function(n){H(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",n)}}),hi=lo.extend({options:{icon:new Cs,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(n,s){w(this,s),this._latlng=U(n)},onAdd:function(n){this._zoomAnimated=this._zoomAnimated&&n.options.markerZoomAnimation,this._zoomAnimated&&n.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(n){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&n.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(n){var s=this._latlng;return this._latlng=U(n),this.update(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},setZIndexOffset:function(n){return this.options.zIndexOffset=n,this.update()},getIcon:function(){return this.options.icon},setIcon:function(n){return this.options.icon=n,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var n=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(n)}return this},_initIcon:function(){var n=this.options,s="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),u=n.icon.createIcon(this._icon),y=!1;u!==this._icon&&(this._icon&&this._removeIcon(),y=!0,n.title&&(u.title=n.title),u.tagName==="IMG"&&(u.alt=n.alt||"")),ut(u,s),n.keyboard&&(u.tabIndex="0",u.setAttribute("role","button")),this._icon=u,n.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&vt(u,"focus",this._panOnFocus,this);var S=n.icon.createShadow(this._shadow),N=!1;S!==this._shadow&&(this._removeShadow(),N=!0),S&&(ut(S,s),S.alt=""),this._shadow=S,n.opacity<1&&this._updateOpacity(),y&&this.getPane().appendChild(this._icon),this._initInteraction(),S&&N&&this.getPane(n.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Yt(this._icon,"focus",this._panOnFocus,this),tn(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&tn(this._shadow),this._shadow=null},_setPos:function(n){this._icon&&nt(this._icon,n),this._shadow&&nt(this._shadow,n),this._zIndex=n.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(n){this._icon&&(this._icon.style.zIndex=this._zIndex+n)},_animateZoom:function(n){var s=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center).round();this._setPos(s)},_initInteraction:function(){if(this.options.interactive&&(ut(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),xu)){var n=this.options.draggable;this.dragging&&(n=this.dragging.enabled(),this.dragging.disable()),this.dragging=new xu(this),n&&this.dragging.enable()}},setOpacity:function(n){return this.options.opacity=n,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var n=this.options.opacity;this._icon&&ee(this._icon,n),this._shadow&&ee(this._shadow,n)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var n=this._map;if(n){var s=this.options.icon.options,u=s.iconSize?Z(s.iconSize):Z(0,0),y=s.iconAnchor?Z(s.iconAnchor):Z(0,0);n.panInside(this._latlng,{paddingTopLeft:y,paddingBottomRight:u.subtract(y)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Wf(n,s){return new hi(n,s)}var Xo=lo.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(n){this._renderer=n.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(n){return w(this,n),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&n&&Object.prototype.hasOwnProperty.call(n,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),mi=Xo.extend({options:{fill:!0,radius:10},initialize:function(n,s){w(this,s),this._latlng=U(n),this._radius=this.options.radius},setLatLng:function(n){var s=this._latlng;return this._latlng=U(n),this.redraw(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(n){return this.options.radius=this._radius=n,this.redraw()},getRadius:function(){return this._radius},setStyle:function(n){var s=n&&n.radius||this._radius;return Xo.prototype.setStyle.call(this,n),this.setRadius(s),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var n=this._radius,s=this._radiusY||n,u=this._clickTolerance(),y=[n+u,s+u];this._pxBounds=new q(this._point.subtract(y),this._point.add(y))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(n){return n.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Zf(n,s){return new mi(n,s)}var sl=mi.extend({initialize:function(n,s,u){if(typeof s=="number"&&(s=i({},u,{radius:s})),w(this,s),this._latlng=U(n),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(n){return this._mRadius=n,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var n=[this._radius,this._radiusY||this._radius];return new J(this._map.layerPointToLatLng(this._point.subtract(n)),this._map.layerPointToLatLng(this._point.add(n)))},setStyle:Xo.prototype.setStyle,_project:function(){var n=this._latlng.lng,s=this._latlng.lat,u=this._map,y=u.options.crs;if(y.distance===ce.distance){var S=Math.PI/180,N=this._mRadius/ce.R/S,K=u.project([s+N,n]),re=u.project([s-N,n]),ae=K.add(re).divideBy(2),we=u.unproject(ae).lat,Be=Math.acos((Math.cos(N*S)-Math.sin(s*S)*Math.sin(we*S))/(Math.cos(s*S)*Math.cos(we*S)))/S;(isNaN(Be)||Be===0)&&(Be=N/Math.cos(Math.PI/180*s)),this._point=ae.subtract(u.getPixelOrigin()),this._radius=isNaN(Be)?0:ae.x-u.project([we,n-Be]).x,this._radiusY=ae.y-K.y}else{var st=y.unproject(y.project(this._latlng).subtract([this._mRadius,0]));this._point=u.latLngToLayerPoint(this._latlng),this._radius=this._point.x-u.latLngToLayerPoint(st).x}this._updateBounds()}});function Uf(n,s,u){return new sl(n,s,u)}var Lo=Xo.extend({options:{smoothFactor:1,noClip:!1},initialize:function(n,s){w(this,s),this._setLatLngs(n)},getLatLngs:function(){return this._latlngs},setLatLngs:function(n){return this._setLatLngs(n),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(n){for(var s=1/0,u=null,y=xs,S,N,K=0,re=this._parts.length;K<re;K++)for(var ae=this._parts[K],we=1,Be=ae.length;we<Be;we++){S=ae[we-1],N=ae[we];var st=y(n,S,N,!0);st<s&&(s=st,u=y(n,S,N))}return u&&(u.distance=Math.sqrt(s)),u},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return yu(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(n,s){return s=s||this._defaultShape(),n=U(n),s.push(n),this._bounds.extend(n),this.redraw()},_setLatLngs:function(n){this._bounds=new J,this._latlngs=this._convertLatLngs(n)},_defaultShape:function(){return Xn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(n){for(var s=[],u=Xn(n),y=0,S=n.length;y<S;y++)u?(s[y]=U(n[y]),this._bounds.extend(s[y])):s[y]=this._convertLatLngs(n[y]);return s},_project:function(){var n=new q;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,n),this._bounds.isValid()&&n.isValid()&&(this._rawPxBounds=n,this._updateBounds())},_updateBounds:function(){var n=this._clickTolerance(),s=new E(n,n);this._rawPxBounds&&(this._pxBounds=new q([this._rawPxBounds.min.subtract(s),this._rawPxBounds.max.add(s)]))},_projectLatlngs:function(n,s,u){var y=n[0]instanceof X,S=n.length,N,K;if(y){for(K=[],N=0;N<S;N++)K[N]=this._map.latLngToLayerPoint(n[N]),u.extend(K[N]);s.push(K)}else for(N=0;N<S;N++)this._projectLatlngs(n[N],s,u)},_clipPoints:function(){var n=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}var s=this._parts,u,y,S,N,K,re,ae;for(u=0,S=0,N=this._rings.length;u<N;u++)for(ae=this._rings[u],y=0,K=ae.length;y<K-1;y++)re=gu(ae[y],ae[y+1],n,y,!0),re&&(s[S]=s[S]||[],s[S].push(re[0]),(re[1]!==ae[y+1]||y===K-2)&&(s[S].push(re[1]),S++))}},_simplifyPoints:function(){for(var n=this._parts,s=this.options.smoothFactor,u=0,y=n.length;u<y;u++)n[u]=hu(n[u],s)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(n,s){var u,y,S,N,K,re,ae=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(u=0,N=this._parts.length;u<N;u++)for(re=this._parts[u],y=0,K=re.length,S=K-1;y<K;S=y++)if(!(!s&&y===0)&&mu(n,re[S],re[y])<=ae)return!0;return!1}});function Kf(n,s){return new Lo(n,s)}Lo._flat=vu;var Hr=Lo.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return pu(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(n){var s=Lo.prototype._convertLatLngs.call(this,n),u=s.length;return u>=2&&s[0]instanceof X&&s[0].equals(s[u-1])&&s.pop(),s},_setLatLngs:function(n){Lo.prototype._setLatLngs.call(this,n),Xn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Xn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var n=this._renderer._bounds,s=this.options.weight,u=new E(s,s);if(n=new q(n.min.subtract(u),n.max.add(u)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}for(var y=0,S=this._rings.length,N;y<S;y++)N=du(this._rings[y],n,!0),N.length&&this._parts.push(N)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(n){var s=!1,u,y,S,N,K,re,ae,we;if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(N=0,ae=this._parts.length;N<ae;N++)for(u=this._parts[N],K=0,we=u.length,re=we-1;K<we;re=K++)y=u[K],S=u[re],y.y>n.y!=S.y>n.y&&n.x<(S.x-y.x)*(n.y-y.y)/(S.y-y.y)+y.x&&(s=!s);return s||Lo.prototype._containsPoint.call(this,n,!0)}});function Jf(n,s){return new Hr(n,s)}var Fo=Ro.extend({initialize:function(n,s){w(this,s),this._layers={},n&&this.addData(n)},addData:function(n){var s=R(n)?n:n.features,u,y,S;if(s){for(u=0,y=s.length;u<y;u++)S=s[u],(S.geometries||S.geometry||S.features||S.coordinates)&&this.addData(S);return this}var N=this.options;if(N.filter&&!N.filter(n))return this;var K=fi(n,N);return K?(K.feature=yi(n),K.defaultOptions=K.options,this.resetStyle(K),N.onEachFeature&&N.onEachFeature(n,K),this.addLayer(K)):this},resetStyle:function(n){return n===void 0?this.eachLayer(this.resetStyle,this):(n.options=i({},n.defaultOptions),this._setLayerStyle(n,this.options.style),this)},setStyle:function(n){return this.eachLayer(function(s){this._setLayerStyle(s,n)},this)},_setLayerStyle:function(n,s){n.setStyle&&(typeof s=="function"&&(s=s(n.feature)),n.setStyle(s))}});function fi(n,s){var u=n.type==="Feature"?n.geometry:n,y=u?u.coordinates:null,S=[],N=s&&s.pointToLayer,K=s&&s.coordsToLatLng||il,re,ae,we,Be;if(!y&&!u)return null;switch(u.type){case"Point":return re=K(y),Cu(N,n,re,s);case"MultiPoint":for(we=0,Be=y.length;we<Be;we++)re=K(y[we]),S.push(Cu(N,n,re,s));return new Ro(S);case"LineString":case"MultiLineString":return ae=gi(y,u.type==="LineString"?0:1,K),new Lo(ae,s);case"Polygon":case"MultiPolygon":return ae=gi(y,u.type==="Polygon"?1:2,K),new Hr(ae,s);case"GeometryCollection":for(we=0,Be=u.geometries.length;we<Be;we++){var st=fi({geometry:u.geometries[we],type:"Feature",properties:n.properties},s);st&&S.push(st)}return new Ro(S);case"FeatureCollection":for(we=0,Be=u.features.length;we<Be;we++){var Tt=fi(u.features[we],s);Tt&&S.push(Tt)}return new Ro(S);default:throw new Error("Invalid GeoJSON object.")}}function Cu(n,s,u,y){return n?n(s,u):new hi(u,y&&y.markersInheritOptions&&y)}function il(n){return new X(n[1],n[0],n[2])}function gi(n,s,u){for(var y=[],S=0,N=n.length,K;S<N;S++)K=s?gi(n[S],s-1,u):(u||il)(n[S]),y.push(K);return y}function al(n,s){return n=U(n),n.alt!==void 0?[g(n.lng,s),g(n.lat,s),g(n.alt,s)]:[g(n.lng,s),g(n.lat,s)]}function vi(n,s,u,y){for(var S=[],N=0,K=n.length;N<K;N++)S.push(s?vi(n[N],Xn(n[N])?0:s-1,u,y):al(n[N],y));return!s&&u&&S.length>0&&S.push(S[0].slice()),S}function Gr(n,s){return n.feature?i({},n.feature,{geometry:s}):yi(s)}function yi(n){return n.type==="Feature"||n.type==="FeatureCollection"?n:{type:"Feature",properties:{},geometry:n}}var ll={toGeoJSON:function(n){return Gr(this,{type:"Point",coordinates:al(this.getLatLng(),n)})}};hi.include(ll),sl.include(ll),mi.include(ll),Lo.include({toGeoJSON:function(n){var s=!Xn(this._latlngs),u=vi(this._latlngs,s?1:0,!1,n);return Gr(this,{type:(s?"Multi":"")+"LineString",coordinates:u})}}),Hr.include({toGeoJSON:function(n){var s=!Xn(this._latlngs),u=s&&!Xn(this._latlngs[0]),y=vi(this._latlngs,u?2:s?1:0,!0,n);return s||(y=[y]),Gr(this,{type:(u?"Multi":"")+"Polygon",coordinates:y})}}),jr.include({toMultiPoint:function(n){var s=[];return this.eachLayer(function(u){s.push(u.toGeoJSON(n).geometry.coordinates)}),Gr(this,{type:"MultiPoint",coordinates:s})},toGeoJSON:function(n){var s=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(s==="MultiPoint")return this.toMultiPoint(n);var u=s==="GeometryCollection",y=[];return this.eachLayer(function(S){if(S.toGeoJSON){var N=S.toGeoJSON(n);if(u)y.push(N.geometry);else{var K=yi(N);K.type==="FeatureCollection"?y.push.apply(y,K.features):y.push(K)}}}),u?Gr(this,{geometries:y,type:"GeometryCollection"}):{type:"FeatureCollection",features:y}}});function wu(n,s){return new Fo(n,s)}var qf=wu,bi=lo.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(n,s,u){this._url=n,this._bounds=oe(s),w(this,u)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ut(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){tn(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(n){return this.options.opacity=n,this._image&&this._updateOpacity(),this},setStyle:function(n){return n.opacity&&this.setOpacity(n.opacity),this},bringToFront:function(){return this._map&&Ko(this._image),this},bringToBack:function(){return this._map&&Do(this._image),this},setUrl:function(n){return this._url=n,this._image&&(this._image.src=n),this},setBounds:function(n){return this._bounds=oe(n),this._map&&this._reset(),this},getEvents:function(){var n={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var n=this._url.tagName==="IMG",s=this._image=n?this._url:Ft("img");if(ut(s,"leaflet-image-layer"),this._zoomAnimated&&ut(s,"leaflet-zoom-animated"),this.options.className&&ut(s,this.options.className),s.onselectstart=f,s.onmousemove=f,s.onload=c(this.fire,this,"load"),s.onerror=c(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(s.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),n){this._url=s.src;return}s.src=this._url,s.alt=this.options.alt},_animateZoom:function(n){var s=this._map.getZoomScale(n.zoom),u=this._map._latLngBoundsToNewLayerBounds(this._bounds,n.zoom,n.center).min;Xe(this._image,u,s)},_reset:function(){var n=this._image,s=new q(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),u=s.getSize();nt(n,s.min),n.style.width=u.x+"px",n.style.height=u.y+"px"},_updateOpacity:function(){ee(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var n=this.options.errorOverlayUrl;n&&this._url!==n&&(this._url=n,this._image.src=n)},getCenter:function(){return this._bounds.getCenter()}}),Xf=function(n,s,u){return new bi(n,s,u)},Su=bi.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var n=this._url.tagName==="VIDEO",s=this._image=n?this._url:Ft("video");if(ut(s,"leaflet-image-layer"),this._zoomAnimated&&ut(s,"leaflet-zoom-animated"),this.options.className&&ut(s,this.options.className),s.onselectstart=f,s.onmousemove=f,s.onloadeddata=c(this.fire,this,"load"),n){for(var u=s.getElementsByTagName("source"),y=[],S=0;S<u.length;S++)y.push(u[S].src);this._url=u.length>0?y:[s.src];return}R(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(s.style,"objectFit")&&(s.style.objectFit="fill"),s.autoplay=!!this.options.autoplay,s.loop=!!this.options.loop,s.muted=!!this.options.muted,s.playsInline=!!this.options.playsInline;for(var N=0;N<this._url.length;N++){var K=Ft("source");K.src=this._url[N],s.appendChild(K)}}});function Yf(n,s,u){return new Su(n,s,u)}var _u=bi.extend({_initImage:function(){var n=this._image=this._url;ut(n,"leaflet-image-layer"),this._zoomAnimated&&ut(n,"leaflet-zoom-animated"),this.options.className&&ut(n,this.options.className),n.onselectstart=f,n.onmousemove=f}});function Qf(n,s,u){return new _u(n,s,u)}var Co=lo.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(n,s){n&&(n instanceof X||R(n))?(this._latlng=U(n),w(this,s)):(w(this,n),this._source=s),this.options.content&&(this._content=this.options.content)},openOn:function(n){return n=arguments.length?n:this._source._map,n.hasLayer(this)||n.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(n){return this._map?this.close():(arguments.length?this._source=n:n=this._source,this._prepareOpen(),this.openOn(n._map)),this},onAdd:function(n){this._zoomAnimated=n._zoomAnimated,this._container||this._initLayout(),n._fadeAnimated&&ee(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),n._fadeAnimated&&ee(this._container,1),this.bringToFront(),this.options.interactive&&(ut(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(n){n._fadeAnimated?(ee(this._container,0),this._removeTimeout=setTimeout(c(tn,void 0,this._container),200)):tn(this._container),this.options.interactive&&(sn(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(n){return this._latlng=U(n),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(n){return this._content=n,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var n={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ko(this._container),this},bringToBack:function(){return this._map&&Do(this._container),this},_prepareOpen:function(n){var s=this._source;if(!s._map)return!1;if(s instanceof Ro){s=null;var u=this._source._layers;for(var y in u)if(u[y]._map){s=u[y];break}if(!s)return!1;this._source=s}if(!n)if(s.getCenter)n=s.getCenter();else if(s.getLatLng)n=s.getLatLng();else if(s.getBounds)n=s.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(n),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var n=this._contentNode,s=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof s=="string")n.innerHTML=s;else{for(;n.hasChildNodes();)n.removeChild(n.firstChild);n.appendChild(s)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var n=this._map.latLngToLayerPoint(this._latlng),s=Z(this.options.offset),u=this._getAnchor();this._zoomAnimated?nt(this._container,n.add(u)):s=s.add(n).add(u);var y=this._containerBottom=-s.y,S=this._containerLeft=-Math.round(this._containerWidth/2)+s.x;this._container.style.bottom=y+"px",this._container.style.left=S+"px"}},_getAnchor:function(){return[0,0]}});Lt.include({_initOverlay:function(n,s,u,y){var S=s;return S instanceof n||(S=new n(y).setContent(s)),u&&S.setLatLng(u),S}}),lo.include({_initOverlay:function(n,s,u,y){var S=u;return S instanceof n?(w(S,y),S._source=this):(S=s&&!y?s:new n(y,this),S.setContent(u)),S}});var xi=Co.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(n){return n=arguments.length?n:this._source._map,!n.hasLayer(this)&&n._popup&&n._popup.options.autoClose&&n.removeLayer(n._popup),n._popup=this,Co.prototype.openOn.call(this,n)},onAdd:function(n){Co.prototype.onAdd.call(this,n),n.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Xo||this._source.on("preclick",mr))},onRemove:function(n){Co.prototype.onRemove.call(this,n),n.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Xo||this._source.off("preclick",mr))},getEvents:function(){var n=Co.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(n.preclick=this.close),this.options.keepInView&&(n.moveend=this._adjustPan),n},_initLayout:function(){var n="leaflet-popup",s=this._container=Ft("div",n+" "+(this.options.className||"")+" leaflet-zoom-animated"),u=this._wrapper=Ft("div",n+"-content-wrapper",s);if(this._contentNode=Ft("div",n+"-content",u),ys(s),Xa(this._contentNode),vt(s,"contextmenu",mr),this._tipContainer=Ft("div",n+"-tip-container",s),this._tip=Ft("div",n+"-tip",this._tipContainer),this.options.closeButton){var y=this._closeButton=Ft("a",n+"-close-button",s);y.setAttribute("role","button"),y.setAttribute("aria-label","Close popup"),y.href="#close",y.innerHTML='<span aria-hidden="true">&#215;</span>',vt(y,"click",function(S){Tn(S),this.close()},this)}},_updateLayout:function(){var n=this._contentNode,s=n.style;s.width="",s.whiteSpace="nowrap";var u=n.offsetWidth;u=Math.min(u,this.options.maxWidth),u=Math.max(u,this.options.minWidth),s.width=u+1+"px",s.whiteSpace="",s.height="";var y=n.offsetHeight,S=this.options.maxHeight,N="leaflet-popup-scrolled";S&&y>S?(s.height=S+"px",ut(n,N)):sn(n,N),this._containerWidth=this._container.offsetWidth},_animateZoom:function(n){var s=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center),u=this._getAnchor();nt(this._container,s.add(u))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var n=this._map,s=parseInt(hr(this._container,"marginBottom"),10)||0,u=this._container.offsetHeight+s,y=this._containerWidth,S=new E(this._containerLeft,-u-this._containerBottom);S._add(wt(this._container));var N=n.layerPointToContainerPoint(S),K=Z(this.options.autoPanPadding),re=Z(this.options.autoPanPaddingTopLeft||K),ae=Z(this.options.autoPanPaddingBottomRight||K),we=n.getSize(),Be=0,st=0;N.x+y+ae.x>we.x&&(Be=N.x+y-we.x+ae.x),N.x-Be-re.x<0&&(Be=N.x-re.x),N.y+u+ae.y>we.y&&(st=N.y+u-we.y+ae.y),N.y-st-re.y<0&&(st=N.y-re.y),(Be||st)&&(this.options.keepInView&&(this._autopanning=!0),n.fire("autopanstart").panBy([Be,st]))}},_getAnchor:function(){return Z(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),eg=function(n,s){return new xi(n,s)};Lt.mergeOptions({closePopupOnClick:!0}),Lt.include({openPopup:function(n,s,u){return this._initOverlay(xi,n,s,u).openOn(this),this},closePopup:function(n){return n=arguments.length?n:this._popup,n&&n.close(),this}}),lo.include({bindPopup:function(n,s){return this._popup=this._initOverlay(xi,this._popup,n,s),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(n){return this._popup&&(this instanceof Ro||(this._popup._source=this),this._popup._prepareOpen(n||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(n){return this._popup&&this._popup.setContent(n),this},getPopup:function(){return this._popup},_openPopup:function(n){if(!(!this._popup||!this._map)){fr(n);var s=n.layer||n.target;if(this._popup._source===s&&!(s instanceof Xo)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(n.latlng);return}this._popup._source=s,this.openPopup(n.latlng)}},_movePopup:function(n){this._popup.setLatLng(n.latlng)},_onKeyPress:function(n){n.originalEvent.keyCode===13&&this._openPopup(n)}});var Ci=Co.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(n){Co.prototype.onAdd.call(this,n),this.setOpacity(this.options.opacity),n.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(n){Co.prototype.onRemove.call(this,n),n.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var n=Co.prototype.getEvents.call(this);return this.options.permanent||(n.preclick=this.close),n},_initLayout:function(){var n="leaflet-tooltip",s=n+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Ft("div",s),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+h(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(n){var s,u,y=this._map,S=this._container,N=y.latLngToContainerPoint(y.getCenter()),K=y.layerPointToContainerPoint(n),re=this.options.direction,ae=S.offsetWidth,we=S.offsetHeight,Be=Z(this.options.offset),st=this._getAnchor();re==="top"?(s=ae/2,u=we):re==="bottom"?(s=ae/2,u=0):re==="center"?(s=ae/2,u=we/2):re==="right"?(s=0,u=we/2):re==="left"?(s=ae,u=we/2):K.x<N.x?(re="right",s=0,u=we/2):(re="left",s=ae+(Be.x+st.x)*2,u=we/2),n=n.subtract(Z(s,u,!0)).add(Be).add(st),sn(S,"leaflet-tooltip-right"),sn(S,"leaflet-tooltip-left"),sn(S,"leaflet-tooltip-top"),sn(S,"leaflet-tooltip-bottom"),ut(S,"leaflet-tooltip-"+re),nt(S,n)},_updatePosition:function(){var n=this._map.latLngToLayerPoint(this._latlng);this._setPosition(n)},setOpacity:function(n){this.options.opacity=n,this._container&&ee(this._container,n)},_animateZoom:function(n){var s=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center);this._setPosition(s)},_getAnchor:function(){return Z(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),tg=function(n,s){return new Ci(n,s)};Lt.include({openTooltip:function(n,s,u){return this._initOverlay(Ci,n,s,u).openOn(this),this},closeTooltip:function(n){return n.close(),this}}),lo.include({bindTooltip:function(n,s){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ci,this._tooltip,n,s),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(n){if(!(!n&&this._tooltipHandlersAdded)){var s=n?"off":"on",u={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?u.add=this._openTooltip:(u.mouseover=this._openTooltip,u.mouseout=this.closeTooltip,u.click=this._openTooltip,this._map?this._addFocusListeners():u.add=this._addFocusListeners),this._tooltip.options.sticky&&(u.mousemove=this._moveTooltip),this[s](u),this._tooltipHandlersAdded=!n}},openTooltip:function(n){return this._tooltip&&(this instanceof Ro||(this._tooltip._source=this),this._tooltip._prepareOpen(n)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(n){return this._tooltip&&this._tooltip.setContent(n),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(n){var s=typeof n.getElement=="function"&&n.getElement();s&&(vt(s,"focus",function(){this._tooltip._source=n,this.openTooltip()},this),vt(s,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(n){var s=typeof n.getElement=="function"&&n.getElement();s&&s.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(n){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var s=this;this._map.once("moveend",function(){s._openOnceFlag=!1,s._openTooltip(n)});return}this._tooltip._source=n.layer||n.target,this.openTooltip(this._tooltip.options.sticky?n.latlng:void 0)}},_moveTooltip:function(n){var s=n.latlng,u,y;this._tooltip.options.sticky&&n.originalEvent&&(u=this._map.mouseEventToContainerPoint(n.originalEvent),y=this._map.containerPointToLayerPoint(u),s=this._map.layerPointToLatLng(y)),this._tooltip.setLatLng(s)}});var Pu=Br.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(n){var s=n&&n.tagName==="DIV"?n:document.createElement("div"),u=this.options;if(u.html instanceof Element?(Uo(s),s.appendChild(u.html)):s.innerHTML=u.html!==!1?u.html:"",u.bgPos){var y=Z(u.bgPos);s.style.backgroundPosition=-y.x+"px "+-y.y+"px"}return this._setIconStyles(s,"icon"),s},createShadow:function(){return null}});function ng(n){return new Pu(n)}Br.Default=Cs;var ws=lo.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Re.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(n){w(this,n)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(n){n._addZoomLimit(this)},onRemove:function(n){this._removeAllTiles(),tn(this._container),n._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ko(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Do(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(n){return this.options.opacity=n,this._updateOpacity(),this},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var n=this._clampZoom(this._map.getZoom());n!==this._tileZoom&&(this._tileZoom=n,this._updateLevels()),this._update()}return this},getEvents:function(){var n={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=v(this._onMoveEnd,this.options.updateInterval,this)),n.move=this._onMove),this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},createTile:function(){return document.createElement("div")},getTileSize:function(){var n=this.options.tileSize;return n instanceof E?n:new E(n,n)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(n){for(var s=this.getPane().children,u=-n(-1/0,1/0),y=0,S=s.length,N;y<S;y++)N=s[y].style.zIndex,s[y]!==this._container&&N&&(u=n(u,+N));isFinite(u)&&(this.options.zIndex=u+n(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Re.ielt9){ee(this._container,this.options.opacity);var n=+new Date,s=!1,u=!1;for(var y in this._tiles){var S=this._tiles[y];if(!(!S.current||!S.loaded)){var N=Math.min(1,(n-S.loaded)/200);ee(S.el,N),N<1?s=!0:(S.active?u=!0:this._onOpaqueTile(S),S.active=!0)}}u&&!this._noPrune&&this._pruneTiles(),s&&(H(this._fadeFrame),this._fadeFrame=$(this._updateOpacity,this))}},_onOpaqueTile:f,_initContainer:function(){this._container||(this._container=Ft("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var n=this._tileZoom,s=this.options.maxZoom;if(n!==void 0){for(var u in this._levels)u=Number(u),this._levels[u].el.children.length||u===n?(this._levels[u].el.style.zIndex=s-Math.abs(n-u),this._onUpdateLevel(u)):(tn(this._levels[u].el),this._removeTilesAtZoom(u),this._onRemoveLevel(u),delete this._levels[u]);var y=this._levels[n],S=this._map;return y||(y=this._levels[n]={},y.el=Ft("div","leaflet-tile-container leaflet-zoom-animated",this._container),y.el.style.zIndex=s,y.origin=S.project(S.unproject(S.getPixelOrigin()),n).round(),y.zoom=n,this._setZoomTransform(y,S.getCenter(),S.getZoom()),f(y.el.offsetWidth),this._onCreateLevel(y)),this._level=y,y}},_onUpdateLevel:f,_onRemoveLevel:f,_onCreateLevel:f,_pruneTiles:function(){if(this._map){var n,s,u=this._map.getZoom();if(u>this.options.maxZoom||u<this.options.minZoom){this._removeAllTiles();return}for(n in this._tiles)s=this._tiles[n],s.retain=s.current;for(n in this._tiles)if(s=this._tiles[n],s.current&&!s.active){var y=s.coords;this._retainParent(y.x,y.y,y.z,y.z-5)||this._retainChildren(y.x,y.y,y.z,y.z+2)}for(n in this._tiles)this._tiles[n].retain||this._removeTile(n)}},_removeTilesAtZoom:function(n){for(var s in this._tiles)this._tiles[s].coords.z===n&&this._removeTile(s)},_removeAllTiles:function(){for(var n in this._tiles)this._removeTile(n)},_invalidateAll:function(){for(var n in this._levels)tn(this._levels[n].el),this._onRemoveLevel(Number(n)),delete this._levels[n];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(n,s,u,y){var S=Math.floor(n/2),N=Math.floor(s/2),K=u-1,re=new E(+S,+N);re.z=+K;var ae=this._tileCoordsToKey(re),we=this._tiles[ae];return we&&we.active?(we.retain=!0,!0):(we&&we.loaded&&(we.retain=!0),K>y?this._retainParent(S,N,K,y):!1)},_retainChildren:function(n,s,u,y){for(var S=2*n;S<2*n+2;S++)for(var N=2*s;N<2*s+2;N++){var K=new E(S,N);K.z=u+1;var re=this._tileCoordsToKey(K),ae=this._tiles[re];if(ae&&ae.active){ae.retain=!0;continue}else ae&&ae.loaded&&(ae.retain=!0);u+1<y&&this._retainChildren(S,N,u+1,y)}},_resetView:function(n){var s=n&&(n.pinch||n.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),s,s)},_animateZoom:function(n){this._setView(n.center,n.zoom,!0,n.noUpdate)},_clampZoom:function(n){var s=this.options;return s.minNativeZoom!==void 0&&n<s.minNativeZoom?s.minNativeZoom:s.maxNativeZoom!==void 0&&s.maxNativeZoom<n?s.maxNativeZoom:n},_setView:function(n,s,u,y){var S=Math.round(s);this.options.maxZoom!==void 0&&S>this.options.maxZoom||this.options.minZoom!==void 0&&S<this.options.minZoom?S=void 0:S=this._clampZoom(S);var N=this.options.updateWhenZooming&&S!==this._tileZoom;(!y||N)&&(this._tileZoom=S,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),S!==void 0&&this._update(n),u||this._pruneTiles(),this._noPrune=!!u),this._setZoomTransforms(n,s)},_setZoomTransforms:function(n,s){for(var u in this._levels)this._setZoomTransform(this._levels[u],n,s)},_setZoomTransform:function(n,s,u){var y=this._map.getZoomScale(u,n.zoom),S=n.origin.multiplyBy(y).subtract(this._map._getNewPixelOrigin(s,u)).round();Re.any3d?Xe(n.el,S,y):nt(n.el,S)},_resetGrid:function(){var n=this._map,s=n.options.crs,u=this._tileSize=this.getTileSize(),y=this._tileZoom,S=this._map.getPixelWorldBounds(this._tileZoom);S&&(this._globalTileRange=this._pxBoundsToTileRange(S)),this._wrapX=s.wrapLng&&!this.options.noWrap&&[Math.floor(n.project([0,s.wrapLng[0]],y).x/u.x),Math.ceil(n.project([0,s.wrapLng[1]],y).x/u.y)],this._wrapY=s.wrapLat&&!this.options.noWrap&&[Math.floor(n.project([s.wrapLat[0],0],y).y/u.x),Math.ceil(n.project([s.wrapLat[1],0],y).y/u.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(n){var s=this._map,u=s._animatingZoom?Math.max(s._animateToZoom,s.getZoom()):s.getZoom(),y=s.getZoomScale(u,this._tileZoom),S=s.project(n,this._tileZoom).floor(),N=s.getSize().divideBy(y*2);return new q(S.subtract(N),S.add(N))},_update:function(n){var s=this._map;if(s){var u=this._clampZoom(s.getZoom());if(n===void 0&&(n=s.getCenter()),this._tileZoom!==void 0){var y=this._getTiledPixelBounds(n),S=this._pxBoundsToTileRange(y),N=S.getCenter(),K=[],re=this.options.keepBuffer,ae=new q(S.getBottomLeft().subtract([re,-re]),S.getTopRight().add([re,-re]));if(!(isFinite(S.min.x)&&isFinite(S.min.y)&&isFinite(S.max.x)&&isFinite(S.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var we in this._tiles){var Be=this._tiles[we].coords;(Be.z!==this._tileZoom||!ae.contains(new E(Be.x,Be.y)))&&(this._tiles[we].current=!1)}if(Math.abs(u-this._tileZoom)>1){this._setView(n,u);return}for(var st=S.min.y;st<=S.max.y;st++)for(var Tt=S.min.x;Tt<=S.max.x;Tt++){var Fn=new E(Tt,st);if(Fn.z=this._tileZoom,!!this._isValidTile(Fn)){var wn=this._tiles[this._tileCoordsToKey(Fn)];wn?wn.current=!0:K.push(Fn)}}if(K.sort(function(zn,Wr){return zn.distanceTo(N)-Wr.distanceTo(N)}),K.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Yn=document.createDocumentFragment();for(Tt=0;Tt<K.length;Tt++)this._addTile(K[Tt],Yn);this._level.el.appendChild(Yn)}}}},_isValidTile:function(n){var s=this._map.options.crs;if(!s.infinite){var u=this._globalTileRange;if(!s.wrapLng&&(n.x<u.min.x||n.x>u.max.x)||!s.wrapLat&&(n.y<u.min.y||n.y>u.max.y))return!1}if(!this.options.bounds)return!0;var y=this._tileCoordsToBounds(n);return oe(this.options.bounds).overlaps(y)},_keyToBounds:function(n){return this._tileCoordsToBounds(this._keyToTileCoords(n))},_tileCoordsToNwSe:function(n){var s=this._map,u=this.getTileSize(),y=n.scaleBy(u),S=y.add(u),N=s.unproject(y,n.z),K=s.unproject(S,n.z);return[N,K]},_tileCoordsToBounds:function(n){var s=this._tileCoordsToNwSe(n),u=new J(s[0],s[1]);return this.options.noWrap||(u=this._map.wrapLatLngBounds(u)),u},_tileCoordsToKey:function(n){return n.x+":"+n.y+":"+n.z},_keyToTileCoords:function(n){var s=n.split(":"),u=new E(+s[0],+s[1]);return u.z=+s[2],u},_removeTile:function(n){var s=this._tiles[n];s&&(tn(s.el),delete this._tiles[n],this.fire("tileunload",{tile:s.el,coords:this._keyToTileCoords(n)}))},_initTile:function(n){ut(n,"leaflet-tile");var s=this.getTileSize();n.style.width=s.x+"px",n.style.height=s.y+"px",n.onselectstart=f,n.onmousemove=f,Re.ielt9&&this.options.opacity<1&&ee(n,this.options.opacity)},_addTile:function(n,s){var u=this._getTilePos(n),y=this._tileCoordsToKey(n),S=this.createTile(this._wrapCoords(n),c(this._tileReady,this,n));this._initTile(S),this.createTile.length<2&&$(c(this._tileReady,this,n,null,S)),nt(S,u),this._tiles[y]={el:S,coords:n,current:!0},s.appendChild(S),this.fire("tileloadstart",{tile:S,coords:n})},_tileReady:function(n,s,u){s&&this.fire("tileerror",{error:s,tile:u,coords:n});var y=this._tileCoordsToKey(n);u=this._tiles[y],u&&(u.loaded=+new Date,this._map._fadeAnimated?(ee(u.el,0),H(this._fadeFrame),this._fadeFrame=$(this._updateOpacity,this)):(u.active=!0,this._pruneTiles()),s||(ut(u.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:u.el,coords:n})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Re.ielt9||!this._map._fadeAnimated?$(this._pruneTiles,this):setTimeout(c(this._pruneTiles,this),250)))},_getTilePos:function(n){return n.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(n){var s=new E(this._wrapX?m(n.x,this._wrapX):n.x,this._wrapY?m(n.y,this._wrapY):n.y);return s.z=n.z,s},_pxBoundsToTileRange:function(n){var s=this.getTileSize();return new q(n.min.unscaleBy(s).floor(),n.max.unscaleBy(s).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var n in this._tiles)if(!this._tiles[n].loaded)return!1;return!0}});function og(n){return new ws(n)}var Vr=ws.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(n,s){this._url=n,s=w(this,s),s.detectRetina&&Re.retina&&s.maxZoom>0?(s.tileSize=Math.floor(s.tileSize/2),s.zoomReverse?(s.zoomOffset--,s.minZoom=Math.min(s.maxZoom,s.minZoom+1)):(s.zoomOffset++,s.maxZoom=Math.max(s.minZoom,s.maxZoom-1)),s.minZoom=Math.max(0,s.minZoom)):s.zoomReverse?s.minZoom=Math.min(s.maxZoom,s.minZoom):s.maxZoom=Math.max(s.minZoom,s.maxZoom),typeof s.subdomains=="string"&&(s.subdomains=s.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(n,s){return this._url===n&&s===void 0&&(s=!0),this._url=n,s||this.redraw(),this},createTile:function(n,s){var u=document.createElement("img");return vt(u,"load",c(this._tileOnLoad,this,s,u)),vt(u,"error",c(this._tileOnError,this,s,u)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(u.referrerPolicy=this.options.referrerPolicy),u.alt="",u.src=this.getTileUrl(n),u},getTileUrl:function(n){var s={r:Re.retina?"@2x":"",s:this._getSubdomain(n),x:n.x,y:n.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var u=this._globalTileRange.max.y-n.y;this.options.tms&&(s.y=u),s["-y"]=u}return P(this._url,i(s,this.options))},_tileOnLoad:function(n,s){Re.ielt9?setTimeout(c(n,this,null,s),0):n(null,s)},_tileOnError:function(n,s,u){var y=this.options.errorTileUrl;y&&s.getAttribute("src")!==y&&(s.src=y),n(u,s)},_onTileRemove:function(n){n.tile.onload=null},_getZoomForUrl:function(){var n=this._tileZoom,s=this.options.maxZoom,u=this.options.zoomReverse,y=this.options.zoomOffset;return u&&(n=s-n),n+y},_getSubdomain:function(n){var s=Math.abs(n.x+n.y)%this.options.subdomains.length;return this.options.subdomains[s]},_abortLoading:function(){var n,s;for(n in this._tiles)if(this._tiles[n].coords.z!==this._tileZoom&&(s=this._tiles[n].el,s.onload=f,s.onerror=f,!s.complete)){s.src=V;var u=this._tiles[n].coords;tn(s),delete this._tiles[n],this.fire("tileabort",{tile:s,coords:u})}},_removeTile:function(n){var s=this._tiles[n];if(s)return s.el.setAttribute("src",V),ws.prototype._removeTile.call(this,n)},_tileReady:function(n,s,u){if(!(!this._map||u&&u.getAttribute("src")===V))return ws.prototype._tileReady.call(this,n,s,u)}});function Iu(n,s){return new Vr(n,s)}var Tu=Vr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(n,s){this._url=n;var u=i({},this.defaultWmsParams);for(var y in s)y in this.options||(u[y]=s[y]);s=w(this,s);var S=s.detectRetina&&Re.retina?2:1,N=this.getTileSize();u.width=N.x*S,u.height=N.y*S,this.wmsParams=u},onAdd:function(n){this._crs=this.options.crs||n.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var s=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[s]=this._crs.code,Vr.prototype.onAdd.call(this,n)},getTileUrl:function(n){var s=this._tileCoordsToNwSe(n),u=this._crs,y=te(u.project(s[0]),u.project(s[1])),S=y.min,N=y.max,K=(this._wmsVersion>=1.3&&this._crs===bu?[S.y,S.x,N.y,N.x]:[S.x,S.y,N.x,N.y]).join(","),re=Vr.prototype.getTileUrl.call(this,n);return re+C(this.wmsParams,re,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+K},setParams:function(n,s){return i(this.wmsParams,n),s||this.redraw(),this}});function rg(n,s){return new Tu(n,s)}Vr.WMS=Tu,Iu.wms=rg;var Oo=lo.extend({options:{padding:.1},initialize:function(n){w(this,n),h(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ut(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var n={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(n.zoomanim=this._onAnimZoom),n},_onAnimZoom:function(n){this._updateTransform(n.center,n.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(n,s){var u=this._map.getZoomScale(s,this._zoom),y=this._map.getSize().multiplyBy(.5+this.options.padding),S=this._map.project(this._center,s),N=y.multiplyBy(-u).add(S).subtract(this._map._getNewPixelOrigin(n,s));Re.any3d?Xe(this._container,N,u):nt(this._container,N)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var n in this._layers)this._layers[n]._reset()},_onZoomEnd:function(){for(var n in this._layers)this._layers[n]._project()},_updatePaths:function(){for(var n in this._layers)this._layers[n]._update()},_update:function(){var n=this.options.padding,s=this._map.getSize(),u=this._map.containerPointToLayerPoint(s.multiplyBy(-n)).round();this._bounds=new q(u,u.add(s.multiplyBy(1+n*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),ku=Oo.extend({options:{tolerance:0},getEvents:function(){var n=Oo.prototype.getEvents.call(this);return n.viewprereset=this._onViewPreReset,n},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Oo.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var n=this._container=document.createElement("canvas");vt(n,"mousemove",this._onMouseMove,this),vt(n,"click dblclick mousedown mouseup contextmenu",this._onClick,this),vt(n,"mouseout",this._handleMouseOut,this),n._leaflet_disable_events=!0,this._ctx=n.getContext("2d")},_destroyContainer:function(){H(this._redrawRequest),delete this._ctx,tn(this._container),Yt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var n;this._redrawBounds=null;for(var s in this._layers)n=this._layers[s],n._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Oo.prototype._update.call(this);var n=this._bounds,s=this._container,u=n.getSize(),y=Re.retina?2:1;nt(s,n.min),s.width=y*u.x,s.height=y*u.y,s.style.width=u.x+"px",s.style.height=u.y+"px",Re.retina&&this._ctx.scale(2,2),this._ctx.translate(-n.min.x,-n.min.y),this.fire("update")}},_reset:function(){Oo.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(n){this._updateDashArray(n),this._layers[h(n)]=n;var s=n._order={layer:n,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=s),this._drawLast=s,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(n){this._requestRedraw(n)},_removePath:function(n){var s=n._order,u=s.next,y=s.prev;u?u.prev=y:this._drawLast=y,y?y.next=u:this._drawFirst=u,delete n._order,delete this._layers[h(n)],this._requestRedraw(n)},_updatePath:function(n){this._extendRedrawBounds(n),n._project(),n._update(),this._requestRedraw(n)},_updateStyle:function(n){this._updateDashArray(n),this._requestRedraw(n)},_updateDashArray:function(n){if(typeof n.options.dashArray=="string"){var s=n.options.dashArray.split(/[, ]+/),u=[],y,S;for(S=0;S<s.length;S++){if(y=Number(s[S]),isNaN(y))return;u.push(y)}n.options._dashArray=u}else n.options._dashArray=n.options.dashArray},_requestRedraw:function(n){this._map&&(this._extendRedrawBounds(n),this._redrawRequest=this._redrawRequest||$(this._redraw,this))},_extendRedrawBounds:function(n){if(n._pxBounds){var s=(n.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new q,this._redrawBounds.extend(n._pxBounds.min.subtract([s,s])),this._redrawBounds.extend(n._pxBounds.max.add([s,s]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var n=this._redrawBounds;if(n){var s=n.getSize();this._ctx.clearRect(n.min.x,n.min.y,s.x,s.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var n,s=this._redrawBounds;if(this._ctx.save(),s){var u=s.getSize();this._ctx.beginPath(),this._ctx.rect(s.min.x,s.min.y,u.x,u.y),this._ctx.clip()}this._drawing=!0;for(var y=this._drawFirst;y;y=y.next)n=y.layer,(!s||n._pxBounds&&n._pxBounds.intersects(s))&&n._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(n,s){if(this._drawing){var u,y,S,N,K=n._parts,re=K.length,ae=this._ctx;if(re){for(ae.beginPath(),u=0;u<re;u++){for(y=0,S=K[u].length;y<S;y++)N=K[u][y],ae[y?"lineTo":"moveTo"](N.x,N.y);s&&ae.closePath()}this._fillStroke(ae,n)}}},_updateCircle:function(n){if(!(!this._drawing||n._empty())){var s=n._point,u=this._ctx,y=Math.max(Math.round(n._radius),1),S=(Math.max(Math.round(n._radiusY),1)||y)/y;S!==1&&(u.save(),u.scale(1,S)),u.beginPath(),u.arc(s.x,s.y/S,y,0,Math.PI*2,!1),S!==1&&u.restore(),this._fillStroke(u,n)}},_fillStroke:function(n,s){var u=s.options;u.fill&&(n.globalAlpha=u.fillOpacity,n.fillStyle=u.fillColor||u.color,n.fill(u.fillRule||"evenodd")),u.stroke&&u.weight!==0&&(n.setLineDash&&n.setLineDash(s.options&&s.options._dashArray||[]),n.globalAlpha=u.opacity,n.lineWidth=u.weight,n.strokeStyle=u.color,n.lineCap=u.lineCap,n.lineJoin=u.lineJoin,n.stroke())},_onClick:function(n){for(var s=this._map.mouseEventToLayerPoint(n),u,y,S=this._drawFirst;S;S=S.next)u=S.layer,u.options.interactive&&u._containsPoint(s)&&(!(n.type==="click"||n.type==="preclick")||!this._map._draggableMoved(u))&&(y=u);this._fireEvent(y?[y]:!1,n)},_onMouseMove:function(n){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var s=this._map.mouseEventToLayerPoint(n);this._handleMouseHover(n,s)}},_handleMouseOut:function(n){var s=this._hoveredLayer;s&&(sn(this._container,"leaflet-interactive"),this._fireEvent([s],n,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(n,s){if(!this._mouseHoverThrottled){for(var u,y,S=this._drawFirst;S;S=S.next)u=S.layer,u.options.interactive&&u._containsPoint(s)&&(y=u);y!==this._hoveredLayer&&(this._handleMouseOut(n),y&&(ut(this._container,"leaflet-interactive"),this._fireEvent([y],n,"mouseover"),this._hoveredLayer=y)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,n),this._mouseHoverThrottled=!0,setTimeout(c(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(n,s,u){this._map._fireDOMEvent(s,u||s.type,n)},_bringToFront:function(n){var s=n._order;if(s){var u=s.next,y=s.prev;if(u)u.prev=y;else return;y?y.next=u:u&&(this._drawFirst=u),s.prev=this._drawLast,this._drawLast.next=s,s.next=null,this._drawLast=s,this._requestRedraw(n)}},_bringToBack:function(n){var s=n._order;if(s){var u=s.next,y=s.prev;if(y)y.next=u;else return;u?u.prev=y:y&&(this._drawLast=y),s.prev=null,s.next=this._drawFirst,this._drawFirst.prev=s,this._drawFirst=s,this._requestRedraw(n)}}});function Mu(n){return Re.canvas?new ku(n):null}var Ss=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(n){return document.createElement("<lvml:"+n+' class="lvml">')}}catch{}return function(n){return document.createElement("<"+n+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),sg={_initContainer:function(){this._container=Ft("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Oo.prototype._update.call(this),this.fire("update"))},_initPath:function(n){var s=n._container=Ss("shape");ut(s,"leaflet-vml-shape "+(this.options.className||"")),s.coordsize="1 1",n._path=Ss("path"),s.appendChild(n._path),this._updateStyle(n),this._layers[h(n)]=n},_addPath:function(n){var s=n._container;this._container.appendChild(s),n.options.interactive&&n.addInteractiveTarget(s)},_removePath:function(n){var s=n._container;tn(s),n.removeInteractiveTarget(s),delete this._layers[h(n)]},_updateStyle:function(n){var s=n._stroke,u=n._fill,y=n.options,S=n._container;S.stroked=!!y.stroke,S.filled=!!y.fill,y.stroke?(s||(s=n._stroke=Ss("stroke")),S.appendChild(s),s.weight=y.weight+"px",s.color=y.color,s.opacity=y.opacity,y.dashArray?s.dashStyle=R(y.dashArray)?y.dashArray.join(" "):y.dashArray.replace(/( *, *)/g," "):s.dashStyle="",s.endcap=y.lineCap.replace("butt","flat"),s.joinstyle=y.lineJoin):s&&(S.removeChild(s),n._stroke=null),y.fill?(u||(u=n._fill=Ss("fill")),S.appendChild(u),u.color=y.fillColor||y.color,u.opacity=y.fillOpacity):u&&(S.removeChild(u),n._fill=null)},_updateCircle:function(n){var s=n._point.round(),u=Math.round(n._radius),y=Math.round(n._radiusY||u);this._setPath(n,n._empty()?"M0 0":"AL "+s.x+","+s.y+" "+u+","+y+" 0,"+65535*360)},_setPath:function(n,s){n._path.v=s},_bringToFront:function(n){Ko(n._container)},_bringToBack:function(n){Do(n._container)}},wi=Re.vml?Ss:Te,_s=Oo.extend({_initContainer:function(){this._container=wi("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=wi("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){tn(this._container),Yt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Oo.prototype._update.call(this);var n=this._bounds,s=n.getSize(),u=this._container;(!this._svgSize||!this._svgSize.equals(s))&&(this._svgSize=s,u.setAttribute("width",s.x),u.setAttribute("height",s.y)),nt(u,n.min),u.setAttribute("viewBox",[n.min.x,n.min.y,s.x,s.y].join(" ")),this.fire("update")}},_initPath:function(n){var s=n._path=wi("path");n.options.className&&ut(s,n.options.className),n.options.interactive&&ut(s,"leaflet-interactive"),this._updateStyle(n),this._layers[h(n)]=n},_addPath:function(n){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(n._path),n.addInteractiveTarget(n._path)},_removePath:function(n){tn(n._path),n.removeInteractiveTarget(n._path),delete this._layers[h(n)]},_updatePath:function(n){n._project(),n._update()},_updateStyle:function(n){var s=n._path,u=n.options;s&&(u.stroke?(s.setAttribute("stroke",u.color),s.setAttribute("stroke-opacity",u.opacity),s.setAttribute("stroke-width",u.weight),s.setAttribute("stroke-linecap",u.lineCap),s.setAttribute("stroke-linejoin",u.lineJoin),u.dashArray?s.setAttribute("stroke-dasharray",u.dashArray):s.removeAttribute("stroke-dasharray"),u.dashOffset?s.setAttribute("stroke-dashoffset",u.dashOffset):s.removeAttribute("stroke-dashoffset")):s.setAttribute("stroke","none"),u.fill?(s.setAttribute("fill",u.fillColor||u.color),s.setAttribute("fill-opacity",u.fillOpacity),s.setAttribute("fill-rule",u.fillRule||"evenodd")):s.setAttribute("fill","none"))},_updatePoly:function(n,s){this._setPath(n,De(n._parts,s))},_updateCircle:function(n){var s=n._point,u=Math.max(Math.round(n._radius),1),y=Math.max(Math.round(n._radiusY),1)||u,S="a"+u+","+y+" 0 1,0 ",N=n._empty()?"M0 0":"M"+(s.x-u)+","+s.y+S+u*2+",0 "+S+-u*2+",0 ";this._setPath(n,N)},_setPath:function(n,s){n._path.setAttribute("d",s)},_bringToFront:function(n){Ko(n._path)},_bringToBack:function(n){Do(n._path)}});Re.vml&&_s.include(sg);function Au(n){return Re.svg||Re.vml?new _s(n):null}Lt.include({getRenderer:function(n){var s=n.options.renderer||this._getPaneRenderer(n.options.pane)||this.options.renderer||this._renderer;return s||(s=this._renderer=this._createRenderer()),this.hasLayer(s)||this.addLayer(s),s},_getPaneRenderer:function(n){if(n==="overlayPane"||n===void 0)return!1;var s=this._paneRenderers[n];return s===void 0&&(s=this._createRenderer({pane:n}),this._paneRenderers[n]=s),s},_createRenderer:function(n){return this.options.preferCanvas&&Mu(n)||Au(n)}});var Du=Hr.extend({initialize:function(n,s){Hr.prototype.initialize.call(this,this._boundsToLatLngs(n),s)},setBounds:function(n){return this.setLatLngs(this._boundsToLatLngs(n))},_boundsToLatLngs:function(n){return n=oe(n),[n.getSouthWest(),n.getNorthWest(),n.getNorthEast(),n.getSouthEast()]}});function ig(n,s){return new Du(n,s)}_s.create=wi,_s.pointsToPath=De,Fo.geometryToLayer=fi,Fo.coordsToLatLng=il,Fo.coordsToLatLngs=gi,Fo.latLngToCoords=al,Fo.latLngsToCoords=vi,Fo.getFeature=Gr,Fo.asFeature=yi,Lt.mergeOptions({boxZoom:!0});var Eu=xo.extend({initialize:function(n){this._map=n,this._container=n._container,this._pane=n._panes.overlayPane,this._resetStateTimeout=0,n.on("unload",this._destroy,this)},addHooks:function(){vt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Yt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){tn(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(n){if(!n.shiftKey||n.which!==1&&n.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Rt(),yo(),this._startPoint=this._map.mouseEventToContainerPoint(n),vt(document,{contextmenu:fr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(n){this._moved||(this._moved=!0,this._box=Ft("div","leaflet-zoom-box",this._container),ut(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(n);var s=new q(this._point,this._startPoint),u=s.getSize();nt(this._box,s.min),this._box.style.width=u.x+"px",this._box.style.height=u.y+"px"},_finish:function(){this._moved&&(tn(this._box),sn(this._container,"leaflet-crosshair")),vn(),zr(),Yt(document,{contextmenu:fr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(n){if(!(n.which!==1&&n.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(c(this._resetState,this),0);var s=new J(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(s).fire("boxzoomend",{boxZoomBounds:s})}},_onKeyDown:function(n){n.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Lt.addInitHook("addHandler","boxZoom",Eu),Lt.mergeOptions({doubleClickZoom:!0});var Ru=xo.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(n){var s=this._map,u=s.getZoom(),y=s.options.zoomDelta,S=n.originalEvent.shiftKey?u-y:u+y;s.options.doubleClickZoom==="center"?s.setZoom(S):s.setZoomAround(n.containerPoint,S)}});Lt.addInitHook("addHandler","doubleClickZoom",Ru),Lt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Lu=xo.extend({addHooks:function(){if(!this._draggable){var n=this._map;this._draggable=new qo(n._mapPane,n._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),n.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),n.on("zoomend",this._onZoomEnd,this),n.whenReady(this._onZoomEnd,this))}ut(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){sn(this._map._container,"leaflet-grab"),sn(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var n=this._map;if(n._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var s=oe(this._map.options.maxBounds);this._offsetLimit=te(this._map.latLngToContainerPoint(s.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(s.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;n.fire("movestart").fire("dragstart"),n.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(n){if(this._map.options.inertia){var s=this._lastTime=+new Date,u=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(u),this._times.push(s),this._prunePositions(s)}this._map.fire("move",n).fire("drag",n)},_prunePositions:function(n){for(;this._positions.length>1&&n-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var n=this._map.getSize().divideBy(2),s=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=s.subtract(n).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(n,s){return n-(n-s)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var n=this._draggable._newPos.subtract(this._draggable._startPos),s=this._offsetLimit;n.x<s.min.x&&(n.x=this._viscousLimit(n.x,s.min.x)),n.y<s.min.y&&(n.y=this._viscousLimit(n.y,s.min.y)),n.x>s.max.x&&(n.x=this._viscousLimit(n.x,s.max.x)),n.y>s.max.y&&(n.y=this._viscousLimit(n.y,s.max.y)),this._draggable._newPos=this._draggable._startPos.add(n)}},_onPreDragWrap:function(){var n=this._worldWidth,s=Math.round(n/2),u=this._initialWorldOffset,y=this._draggable._newPos.x,S=(y-s+u)%n+s-u,N=(y+s+u)%n-s-u,K=Math.abs(S+u)<Math.abs(N+u)?S:N;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=K},_onDragEnd:function(n){var s=this._map,u=s.options,y=!u.inertia||n.noInertia||this._times.length<2;if(s.fire("dragend",n),y)s.fire("moveend");else{this._prunePositions(+new Date);var S=this._lastPos.subtract(this._positions[0]),N=(this._lastTime-this._times[0])/1e3,K=u.easeLinearity,re=S.multiplyBy(K/N),ae=re.distanceTo([0,0]),we=Math.min(u.inertiaMaxSpeed,ae),Be=re.multiplyBy(we/ae),st=we/(u.inertiaDeceleration*K),Tt=Be.multiplyBy(-st/2).round();!Tt.x&&!Tt.y?s.fire("moveend"):(Tt=s._limitOffset(Tt,s.options.maxBounds),$(function(){s.panBy(Tt,{duration:st,easeLinearity:K,noMoveStart:!0,animate:!0})}))}}});Lt.addInitHook("addHandler","dragging",Lu),Lt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Fu=xo.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(n){this._map=n,this._setPanDelta(n.options.keyboardPanDelta),this._setZoomDelta(n.options.zoomDelta)},addHooks:function(){var n=this._map._container;n.tabIndex<=0&&(n.tabIndex="0"),vt(n,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Yt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var n=document.body,s=document.documentElement,u=n.scrollTop||s.scrollTop,y=n.scrollLeft||s.scrollLeft;this._map._container.focus(),window.scrollTo(y,u)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(n){var s=this._panKeys={},u=this.keyCodes,y,S;for(y=0,S=u.left.length;y<S;y++)s[u.left[y]]=[-1*n,0];for(y=0,S=u.right.length;y<S;y++)s[u.right[y]]=[n,0];for(y=0,S=u.down.length;y<S;y++)s[u.down[y]]=[0,n];for(y=0,S=u.up.length;y<S;y++)s[u.up[y]]=[0,-1*n]},_setZoomDelta:function(n){var s=this._zoomKeys={},u=this.keyCodes,y,S;for(y=0,S=u.zoomIn.length;y<S;y++)s[u.zoomIn[y]]=n;for(y=0,S=u.zoomOut.length;y<S;y++)s[u.zoomOut[y]]=-n},_addHooks:function(){vt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Yt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(n){if(!(n.altKey||n.ctrlKey||n.metaKey)){var s=n.keyCode,u=this._map,y;if(s in this._panKeys){if(!u._panAnim||!u._panAnim._inProgress)if(y=this._panKeys[s],n.shiftKey&&(y=Z(y).multiplyBy(3)),u.options.maxBounds&&(y=u._limitOffset(Z(y),u.options.maxBounds)),u.options.worldCopyJump){var S=u.wrapLatLng(u.unproject(u.project(u.getCenter()).add(y)));u.panTo(S)}else u.panBy(y)}else if(s in this._zoomKeys)u.setZoom(u.getZoom()+(n.shiftKey?3:1)*this._zoomKeys[s]);else if(s===27&&u._popup&&u._popup.options.closeOnEscapeKey)u.closePopup();else return;fr(n)}}});Lt.addInitHook("addHandler","keyboard",Fu),Lt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Ou=xo.extend({addHooks:function(){vt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Yt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(n){var s=iu(n),u=this._map.options.wheelDebounceTime;this._delta+=s,this._lastMousePos=this._map.mouseEventToContainerPoint(n),this._startTime||(this._startTime=+new Date);var y=Math.max(u-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(c(this._performZoom,this),y),fr(n)},_performZoom:function(){var n=this._map,s=n.getZoom(),u=this._map.options.zoomSnap||0;n._stop();var y=this._delta/(this._map.options.wheelPxPerZoomLevel*4),S=4*Math.log(2/(1+Math.exp(-Math.abs(y))))/Math.LN2,N=u?Math.ceil(S/u)*u:S,K=n._limitZoom(s+(this._delta>0?N:-N))-s;this._delta=0,this._startTime=null,K&&(n.options.scrollWheelZoom==="center"?n.setZoom(s+K):n.setZoomAround(this._lastMousePos,s+K))}});Lt.addInitHook("addHandler","scrollWheelZoom",Ou);var ag=600;Lt.mergeOptions({tapHold:Re.touchNative&&Re.safari&&Re.mobile,tapTolerance:15});var Nu=xo.extend({addHooks:function(){vt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Yt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(n){if(clearTimeout(this._holdTimeout),n.touches.length===1){var s=n.touches[0];this._startPos=this._newPos=new E(s.clientX,s.clientY),this._holdTimeout=setTimeout(c(function(){this._cancel(),this._isTapValid()&&(vt(document,"touchend",Tn),vt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",s))},this),ag),vt(document,"touchend touchcancel contextmenu",this._cancel,this),vt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function n(){Yt(document,"touchend",Tn),Yt(document,"touchend touchcancel",n)},_cancel:function(){clearTimeout(this._holdTimeout),Yt(document,"touchend touchcancel contextmenu",this._cancel,this),Yt(document,"touchmove",this._onMove,this)},_onMove:function(n){var s=n.touches[0];this._newPos=new E(s.clientX,s.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(n,s){var u=new MouseEvent(n,{bubbles:!0,cancelable:!0,view:window,screenX:s.screenX,screenY:s.screenY,clientX:s.clientX,clientY:s.clientY});u._simulated=!0,s.target.dispatchEvent(u)}});Lt.addInitHook("addHandler","tapHold",Nu),Lt.mergeOptions({touchZoom:Re.touch,bounceAtZoomLimits:!0});var zu=xo.extend({addHooks:function(){ut(this._map._container,"leaflet-touch-zoom"),vt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){sn(this._map._container,"leaflet-touch-zoom"),Yt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(n){var s=this._map;if(!(!n.touches||n.touches.length!==2||s._animatingZoom||this._zooming)){var u=s.mouseEventToContainerPoint(n.touches[0]),y=s.mouseEventToContainerPoint(n.touches[1]);this._centerPoint=s.getSize()._divideBy(2),this._startLatLng=s.containerPointToLatLng(this._centerPoint),s.options.touchZoom!=="center"&&(this._pinchStartLatLng=s.containerPointToLatLng(u.add(y)._divideBy(2))),this._startDist=u.distanceTo(y),this._startZoom=s.getZoom(),this._moved=!1,this._zooming=!0,s._stop(),vt(document,"touchmove",this._onTouchMove,this),vt(document,"touchend touchcancel",this._onTouchEnd,this),Tn(n)}},_onTouchMove:function(n){if(!(!n.touches||n.touches.length!==2||!this._zooming)){var s=this._map,u=s.mouseEventToContainerPoint(n.touches[0]),y=s.mouseEventToContainerPoint(n.touches[1]),S=u.distanceTo(y)/this._startDist;if(this._zoom=s.getScaleZoom(S,this._startZoom),!s.options.bounceAtZoomLimits&&(this._zoom<s.getMinZoom()&&S<1||this._zoom>s.getMaxZoom()&&S>1)&&(this._zoom=s._limitZoom(this._zoom)),s.options.touchZoom==="center"){if(this._center=this._startLatLng,S===1)return}else{var N=u._add(y)._divideBy(2)._subtract(this._centerPoint);if(S===1&&N.x===0&&N.y===0)return;this._center=s.unproject(s.project(this._pinchStartLatLng,this._zoom).subtract(N),this._zoom)}this._moved||(s._moveStart(!0,!1),this._moved=!0),H(this._animRequest);var K=c(s._move,s,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=$(K,this,!0),Tn(n)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,H(this._animRequest),Yt(document,"touchmove",this._onTouchMove,this),Yt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Lt.addInitHook("addHandler","touchZoom",zu),Lt.BoxZoom=Eu,Lt.DoubleClickZoom=Ru,Lt.Drag=Lu,Lt.Keyboard=Fu,Lt.ScrollWheelZoom=Ou,Lt.TapHold=Nu,Lt.TouchZoom=zu,o.Bounds=q,o.Browser=Re,o.CRS=ne,o.Canvas=ku,o.Circle=sl,o.CircleMarker=mi,o.Class=I,o.Control=ao,o.DivIcon=Pu,o.DivOverlay=Co,o.DomEvent=Pf,o.DomUtil=Sf,o.Draggable=qo,o.Evented=W,o.FeatureGroup=Ro,o.GeoJSON=Fo,o.GridLayer=ws,o.Handler=xo,o.Icon=Br,o.ImageOverlay=bi,o.LatLng=X,o.LatLngBounds=J,o.Layer=lo,o.LayerGroup=jr,o.LineUtil=zf,o.Map=Lt,o.Marker=hi,o.Mixin=Ef,o.Path=Xo,o.Point=E,o.PolyUtil=Rf,o.Polygon=Hr,o.Polyline=Lo,o.Popup=xi,o.PosAnimation=au,o.Projection=$f,o.Rectangle=Du,o.Renderer=Oo,o.SVG=_s,o.SVGOverlay=_u,o.TileLayer=Vr,o.Tooltip=Ci,o.Transformation=ke,o.Util=B,o.VideoOverlay=Su,o.bind=c,o.bounds=te,o.canvas=Mu,o.circle=Uf,o.circleMarker=Zf,o.control=bs,o.divIcon=ng,o.extend=i,o.featureGroup=Gf,o.geoJSON=wu,o.geoJson=qf,o.gridLayer=og,o.icon=Vf,o.imageOverlay=Xf,o.latLng=U,o.latLngBounds=oe,o.layerGroup=Hf,o.map=If,o.marker=Wf,o.point=Z,o.polygon=Jf,o.polyline=Kf,o.popup=eg,o.rectangle=ig,o.setOptions=w,o.stamp=h,o.svg=Au,o.svgOverlay=Qf,o.tileLayer=Iu,o.tooltip=tg,o.transformation=_e,o.version=r,o.videoOverlay=Yf;var lg=window.L;o.noConflict=function(){return window.L=lg,this},window.L=o})}(Ds,Ds.exports)),Ds.exports}var ti=J0();const Wl=nh(ti);function wc(e,t,o){return Object.freeze({instance:e,context:t,container:o})}function Sc(e,t){return t==null?function(r,i){const a=l.useRef(void 0);return a.current||(a.current=e(r,i)),a}:function(r,i){const a=l.useRef(void 0);a.current||(a.current=e(r,i));const c=l.useRef(r),{instance:d}=a.current;return l.useEffect(function(){c.current!==r&&(t(d,r,c.current),c.current=r)},[d,r,t]),a}}function q0(e,t){l.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var a;(a=t.layerContainer)==null||a.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function kh(e){return function(o){const r=xc(),i=e(Cc(o,r),r);return Ih(r.map,o.attribution),Th(i.current,o.eventHandlers),q0(i.current,r),i}}function X0(e,t){const o=Sc(e,t),r=kh(o);return V0(r)}function Y0(e,t){const o=Sc(e),r=U0(o,t);return W0(r)}function Q0(e,t){const o=Sc(e,t),r=kh(o);return Z0(r)}function ex(e,t,o){const{opacity:r,zIndex:i}=t;r!=null&&r!==o.opacity&&e.setOpacity(r),i!=null&&i!==o.zIndex&&e.setZIndex(i)}function _c(){return xc().map}function tx(e){const t=_c();return l.useEffect(function(){return t.on(e),function(){t.off(e)}},[t,e]),t}function nx({bounds:e,boundsOptions:t,center:o,children:r,className:i,id:a,placeholder:c,style:d,whenReady:h,zoom:v,...m},f){const[g]=l.useState({className:i,id:a,style:d}),[b,x]=l.useState(null),w=l.useRef(void 0);l.useImperativeHandle(f,()=>(b==null?void 0:b.map)??null,[b]);const C=l.useCallback(P=>{if(P!==null&&!w.current){const R=new ti.Map(P,m);w.current=R,o!=null&&v!=null?R.setView(o,v):e!=null&&R.fitBounds(e,t),h!=null&&R.whenReady(h),x(H0(R))}},[]);l.useEffect(()=>()=>{b==null||b.map.remove()},[b]);const _=b?Kn.createElement(bc,{value:b},r):c??null;return Kn.createElement("div",{...g,ref:C},_)}const ox=l.forwardRef(nx),bd=X0(function({position:t,...o},r){const i=new ti.Marker(t,o);return wc(i,G0(r,{overlayContainer:i}))},function(t,o,r){o.position!==r.position&&t.setLatLng(o.position),o.icon!=null&&o.icon!==r.icon&&t.setIcon(o.icon),o.zIndexOffset!=null&&o.zIndexOffset!==r.zIndexOffset&&t.setZIndexOffset(o.zIndexOffset),o.opacity!=null&&o.opacity!==r.opacity&&t.setOpacity(o.opacity),t.dragging!=null&&o.draggable!==r.draggable&&(o.draggable===!0?t.dragging.enable():t.dragging.disable())}),rx=Q0(function({url:t,...o},r){const i=new ti.TileLayer(t,Cc(o,r));return wc(i,r)},function(t,o,r){ex(t,o,r);const{url:i}=o;i!=null&&i!==r.url&&t.setUrl(i)}),xd=Y0(function(t,o){const r=new ti.Tooltip(t,o.overlayContainer);return wc(r,o)},function(t,o,{position:r},i){l.useEffect(function(){const c=o.overlayContainer;if(c==null)return;const{instance:d}=t,h=m=>{m.tooltip===d&&(r!=null&&d.setLatLng(r),d.update(),i(!0))},v=m=>{m.tooltip===d&&i(!1)};return c.on({tooltipopen:h,tooltipclose:v}),c.bindTooltip(d),function(){c.off({tooltipopen:h,tooltipclose:v}),c._map!=null&&c.unbindTooltip()}},[t,o,i,r])});function sx(){const e=_c();return l.useEffect(()=>{const t=e.getContainer(),o=new ResizeObserver(()=>{e.invalidateSize({animate:!1})});return o.observe(t),()=>o.disconnect()},[e]),null}function ix({onMapDragStart:e,onMapDragEnd:t}){return tx({dragstart(){e()},dragend(){t()},click(){}}),null}function ax({selectedTask:e,selectedTasks:t,selectedResource:o,selectedResources:r,shouldZoom:i}){const a=_c(),c=Kn.useRef("");return l.useEffect(()=>{if(!i)return;const d=t.length?t:e?[e]:[],h=r.length?r:o?[o]:[],v=[...d.filter(g=>g.lat&&g.lng),...h.filter(g=>g.homeLat&&g.homeLng)];if(!v.length)return;const m=v.map(g=>g.taskId?g.taskId:g.resourceId).join(",");if(m===c.current)return;if(c.current=m,v.length===1){const g=v[0];a.setView([Number(g.lat??g.homeLat),Number(g.lng??g.homeLng)],15,{animate:!1});return}const f=Wl.latLngBounds(v.map(g=>[Number(g.lat??g.homeLat),Number(g.lng??g.homeLng)]));a.fitBounds(f,{padding:[60,60],animate:!1})},[e,t,o,r,i,a]),null}function lx({tasks:e,resources:t,selectedTask:o,selectedTasks:r,selectedResource:i,selectedResources:a,shouldZoom:c,handleTaskMapClick:d,handleResourceMapClick:h,notifyMapDragStart:v,notifyMapDragEnd:m}){const f=Jt(),g=l.useMemo(()=>e.filter(C=>C.lat&&C.lng),[e]),b=l.useMemo(()=>t.filter(C=>C.homeLat&&C.homeLng),[t]),x=new Set(r.map(C=>C.taskId)),w=new Set(a.map(C=>C.resourceId));return p.jsx(Nt,{"data-map-root":"true",elevation:0,sx:{height:"100%",display:"flex",flexDirection:"column",borderRadius:3,px:3,py:2.5,border:`1px solid ${me(f.palette.primary.main,.18)}`,boxShadow:"0 18px 46px rgba(8,58,97,0.18)",backgroundImage:"none"},children:p.jsx(Ue,{sx:{flex:1,borderRadius:2,overflow:"hidden",position:"relative"},children:p.jsxs(ox,{center:[51.713,-3.449],zoom:12,style:{width:"100%",height:"100%"},children:[p.jsx(sx,{}),p.jsx(ix,{onMapDragStart:v,onMapDragEnd:m}),p.jsx(ax,{selectedTask:o,selectedTasks:r,selectedResource:i,selectedResources:a,shouldZoom:c}),p.jsx(rx,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),g.map(C=>{const _=!!(x.has(C.taskId)||o&&o.taskId===C.taskId),P=Wl.divIcon({className:"custom-pin",iconSize:[36,50],iconAnchor:[18,46],html:Sh(xh[C.commitmentType]??"#6B7280",_)});return p.jsx(bd,{position:[C.lat,C.lng],icon:P,eventHandlers:{click:R=>{var V,A;const D=((V=R.originalEvent)==null?void 0:V.ctrlKey)||((A=R.originalEvent)==null?void 0:A.metaKey)||!1;d(C,D)},mouseover:R=>{var V;const D=R.target;(V=D.closeTooltip)==null||V.call(D)},dblclick:R=>{var V;const D=R.target;(V=D.openTooltip)==null||V.call(D)}},children:p.jsx(xd,{direction:"top",offset:[0,-36],permanent:!1,sticky:!1,opacity:1,className:"leaflet-tooltip-surface",children:p.jsxs(Ue,{sx:{fontSize:12,lineHeight:1.4,color:f.palette.text.primary},children:[p.jsx(Ue,{component:"span",sx:{fontWeight:700,display:"block"},children:C.taskId}),p.jsx(Ue,{component:"span",sx:{color:f.palette.text.secondary},children:C.customerAddress})]})})},C.taskId)}),b.map(C=>{const _=!!(w.has(C.resourceId)||i&&i.resourceId===C.resourceId),P=Wl.divIcon({className:"custom-pin",iconSize:[36,50],iconAnchor:[18,46],html:_h(C.status,_)});return p.jsx(bd,{position:[C.homeLat,C.homeLng],icon:P,eventHandlers:{click:R=>{var V,A;const D=((V=R.originalEvent)==null?void 0:V.ctrlKey)||((A=R.originalEvent)==null?void 0:A.metaKey)||!1;h(C,D)},mouseover:R=>{var V;const D=R.target;(V=D.closeTooltip)==null||V.call(D)},dblclick:R=>{var V;const D=R.target;(V=D.openTooltip)==null||V.call(D)}},children:p.jsx(xd,{direction:"top",offset:[0,-36],permanent:!1,sticky:!1,opacity:1,className:"leaflet-tooltip-surface",children:p.jsxs(Ue,{sx:{fontSize:12,lineHeight:1.4,color:f.palette.text.primary},children:[p.jsx(Ue,{component:"span",sx:{fontWeight:700,display:"block"},children:C.name}),p.jsx(Ue,{component:"span",sx:{display:"block",color:f.palette.text.secondary},children:C.homePostCode}),p.jsxs(Ue,{component:"span",sx:{color:f.palette.text.secondary},children:["Status: ",C.status]})]})})},C.resourceId)})]})})})}function cx({visible:e,x:t,y:o,selectedRows:r,clickedColumnKey:i,clickedRow:a,onClose:c,onOpenPopout:d,onOpenCalloutIncident:h,onProgressTasks:v,onProgressNotes:m,mouseScreenX:f,mouseScreenY:g}){if(!e)return null;const b=r.length?r:a?[a]:[],x=b.length,w=x>1?`Open Viewer (${x})`:"Open Viewer",C=()=>{if(b.length){try{d(b,f,g)}catch(z){console.error("ContextMenu â†’ onOpenPopout error:",z)}c()}},_=()=>{if(!(!b.length||!v)){try{v(b)}catch(z){console.error("ContextMenu â†’ onProgressTasks error:",z)}c()}},P=()=>{if(!(!b.length||!m)){try{m(b)}catch(z){console.error("ContextMenu â†’ onProgressNotes error:",z)}c()}},R=async()=>{if(!a||!i)return;const z=a[i],O=z==null?"":String(z);try{await navigator.clipboard.writeText(O)}catch($){console.error("Clipboard write error:",$)}c()},D=a&&i?String(a[i]??""):"",V=()=>{if(a){try{h(a)}catch(z){console.error("ContextMenu â†’ onOpenCalloutIncident error:",z)}c()}},A=(a==null?void 0:a.taskId)??(a==null?void 0:a.TaskID)??(a==null?void 0:a.TaskId)??(a==null?void 0:a.id)??null,k=A?`Callout Incident: ${A}`:"Callout Incident",F=p.jsx(wr,{children:e&&p.jsxs(jn.ul,{initial:{opacity:0,scale:.96},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.96},transition:{duration:.12},style:{position:"fixed",top:g,left:f,minWidth:`min(90vw, ${24*14.1667}px)`,zIndex:99999},className:"rounded-xl border border-gray-200 bg-white shadow-xl text-sm text-gray-800 py-1 overflow-hidden",onMouseDown:z=>z.stopPropagation(),children:[i&&a&&p.jsxs("li",{onClick:R,className:`px-4 py-2.5 flex items-center gap-3 cursor-pointer 
                         hover:bg-gray-50 transition-all`,children:[p.jsx(Vg,{size:15,className:"text-gray-700"}),p.jsxs("span",{className:"text-gray-800",children:["Copy value:"," ",p.jsx("span",{className:"font-semibold",children:D})]})]}),b.length>0&&v&&p.jsxs("li",{onClick:_,className:`px-4 py-2.5 flex items-center gap-3 cursor-pointer 
                         hover:bg-gray-50 transition-all`,children:[p.jsx(Ca,{size:15,className:"text-[#0A4A7A]"}),p.jsx("span",{className:"font-medium text-gray-800",children:x>1?`Progress Tasks (${x})`:"Progress Task"})]}),b.length>0&&m&&p.jsxs("li",{onClick:P,className:`px-4 py-2.5 flex items-center gap-3 cursor-pointer 
                         hover:bg-gray-50 transition-all`,children:[p.jsx(zl,{size:15,className:"text-[#0A4A7A]"}),p.jsx("span",{className:"font-medium text-gray-800",children:x>1?`Progress Notes (${x})`:"Progress Notes"})]}),p.jsxs("li",{onClick:C,className:`px-4 py-2.5 flex items-center gap-3 cursor-pointer 
                       hover:bg-gray-50 transition-all`,children:[p.jsx(Wg,{size:15,className:"text-gray-700"}),p.jsx("span",{className:"font-medium text-gray-800",children:w})]}),a&&p.jsxs("li",{onClick:V,className:`px-4 py-2.5 flex items-center gap-3 cursor-pointer 
                       hover:bg-red-50 transition-all text-red-700`,children:[p.jsx(pc,{size:15,className:"text-red-600"}),p.jsx("span",{className:"font-semibold",children:k})]})]})});try{return lr.createPortal(F,document.body)}catch{return F}}const Mh=l.createContext(void 0);function At(){const e=l.useContext(Mh);if(e===void 0)throw new Error(["MUI: Could not find the data grid context.","It looks like you rendered your component outside of a DataGrid, DataGridPro or DataGridPremium parent component.","This can also happen if you are bundling multiple versions of the data grid."].join(`
`));return e}const Ah=l.createContext(void 0),We=()=>{const e=l.useContext(Ah);if(!e)throw new Error("MUI: useGridRootProps should only be used inside the DataGrid, DataGridPro or DataGridPremium component.");return e};function ux(e,t){return()=>null}function Cr(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Dh(e){if(l.isValidElement(e)||!Cr(e))return e;const t={};return Object.keys(e).forEach(o=>{t[o]=Dh(e[o])}),t}function Yi(e,t,o={clone:!0}){const r=o.clone?T({},e):e;return Cr(e)&&Cr(t)&&Object.keys(t).forEach(i=>{l.isValidElement(t[i])?r[i]=t[i]:Cr(t[i])&&Object.prototype.hasOwnProperty.call(e,i)&&Cr(e[i])?r[i]=Yi(e[i],t[i],o):o.clone?r[i]=Cr(t[i])?Dh(t[i]):t[i]:r[i]=t[i]}),r}function dx(e){let t="https://mui.com/production-error/?code="+e;for(let o=1;o<arguments.length;o+=1)t+="&args[]="+encodeURIComponent(arguments[o]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function Vo(e){if(typeof e!="string")throw new Error(dx(7));return e.charAt(0).toUpperCase()+e.slice(1)}function Eh(e,t=166){let o;function r(...i){const a=()=>{e.apply(this,i)};clearTimeout(o),o=setTimeout(a,t)}return r.clear=()=>{clearTimeout(o)},r}function ni(e){return e&&e.ownerDocument||document}function px(e){return ni(e).defaultView||window}function hx(e,t){typeof e=="function"?e(t):e&&(e.current=t)}const Pn=typeof window<"u"?l.useLayoutEffect:l.useEffect;let Cd=0;function mx(e){const[t,o]=l.useState(e),r=t;return l.useEffect(()=>{t==null&&(Cd+=1,o(`mui-${Cd}`))},[t]),r}const wd=qp.useId;function bn(e){return wd!==void 0?wd():mx(e)}function ho(e){const t=l.useRef(e);return Pn(()=>{t.current=e}),l.useRef((...o)=>(0,t.current)(...o)).current}function Rr(...e){return l.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(o=>{hx(o,t)})},e)}function Dt(e,t,o=void 0){const r={};return Object.keys(e).forEach(i=>{r[i]=e[i].reduce((a,c)=>{if(c){const d=t(c);d!==""&&a.push(d),o&&o[c]&&a.push(o[c])}return a},[]).join(" ")}),r}const Sd=e=>e,fx=()=>{let e=Sd;return{configure(t){e=t},generate(t){return e(t)},reset(){e=Sd}}},gx=fx(),vx={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Rh(e,t,o="Mui"){const r=vx[t];return r?`${o}-${r}`:`${gx.generate(e)}-${t}`}function Lh(e,t,o="Mui"){const r={};return t.forEach(i=>{r[i]=Rh(e,i,o)}),r}const Fh=l.createContext(void 0);function cr(){const e=l.useContext(Fh);if(e===void 0)throw new Error(["MUI: Could not find the data grid private context.","It looks like you rendered your component outside of a DataGrid, DataGridPro or DataGridPremium parent component.","This can also happen if you are bundling multiple versions of the data grid."].join(`
`));return e}const _d={};function Pc(e,t){const o=l.useRef(_d);return o.current===_d&&(o.current=e(t)),o}const yx=[];function Oh(e){l.useEffect(e,yx)}const Mo=(e,t="warning")=>{let o=!1;const r=Array.isArray(e)?e.join(`
`):e;return()=>{o||(o=!0,t==="error"?console.error(r):console.warn(r))}},bx=Object.is;function Nh(e,t){if(e===t)return!0;if(!(e instanceof Object)||!(t instanceof Object))return!1;let o=0,r=0;for(const i in e)if(o+=1,!bx(e[i],t[i])||!(i in t))return!1;for(const i in t)r+=1;return o===r}Mo(["MUI: `useGridSelector` has been called before the initialization of the state.","This hook can only be used inside the context of the grid."]);function xx(e){return e.acceptsApiRef}function Pd(e,t){return xx(t)?t(e):t(e.current.state)}const Cx=Object.is,Ic=Nh,wx=()=>({state:null,equals:null,selector:null}),ze=(e,t,o=Cx)=>{const r=Pc(wx),i=r.current.selector!==null,[a,c]=l.useState(i?null:Pd(e,t));return r.current.state=a,r.current.equals=o,r.current.selector=t,Oh(()=>e.current.store.subscribe(()=>{const d=Pd(e,r.current.selector);r.current.equals(r.current.state,d)||(r.current.state=d,c(d))})),a};function Sx(e,t){return Fg(e,t)}const _x=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))},Id=[];function Td(e){return Id[0]=e,Og(Id)}const Px=["values","unit","step"],Ix=e=>{const t=Object.keys(e).map(o=>({key:o,val:e[o]}))||[];return t.sort((o,r)=>o.val-r.val),t.reduce((o,r)=>T({},o,{[r.key]:r.val}),{})};function Tx(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:o="px",step:r=5}=e,i=He(e,Px),a=Ix(t),c=Object.keys(a);function d(g){return`@media (min-width:${typeof t[g]=="number"?t[g]:g}${o})`}function h(g){return`@media (max-width:${(typeof t[g]=="number"?t[g]:g)-r/100}${o})`}function v(g,b){const x=c.indexOf(b);return`@media (min-width:${typeof t[g]=="number"?t[g]:g}${o}) and (max-width:${(x!==-1&&typeof t[c[x]]=="number"?t[c[x]]:b)-r/100}${o})`}function m(g){return c.indexOf(g)+1<c.length?v(g,c[c.indexOf(g)+1]):d(g)}function f(g){const b=c.indexOf(g);return b===0?d(c[1]):b===c.length-1?h(c[b]):v(g,c[c.indexOf(g)+1]).replace("@media","@media not all and")}return T({keys:c,values:a,up:d,down:h,between:v,only:m,not:f,unit:o},i)}const kx={borderRadius:4};function $s(e,t){return t?Yi(e,t,{clone:!1}):e}const Tc={xs:0,sm:600,md:900,lg:1200,xl:1536},kd={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${Tc[e]}px)`};function Wo(e,t,o){const r=e.theme||{};if(Array.isArray(t)){const a=r.breakpoints||kd;return t.reduce((c,d,h)=>(c[a.up(a.keys[h])]=o(t[h]),c),{})}if(typeof t=="object"){const a=r.breakpoints||kd;return Object.keys(t).reduce((c,d)=>{if(Object.keys(a.values||Tc).indexOf(d)!==-1){const h=a.up(d);c[h]=o(t[d],d)}else{const h=d;c[h]=t[h]}return c},{})}return o(t)}function Mx(e={}){var t;return((t=e.keys)==null?void 0:t.reduce((r,i)=>{const a=e.up(i);return r[a]={},r},{}))||{}}function Md(e,t){return e.reduce((o,r)=>{const i=o[r];return(!i||Object.keys(i).length===0)&&delete o[r],o},t)}function Sa(e,t,o=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&o){const r=`vars.${t}`.split(".").reduce((i,a)=>i&&i[a]?i[a]:null,e);if(r!=null)return r}return t.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,e)}function Qi(e,t,o,r=o){let i;return typeof e=="function"?i=e(o):Array.isArray(e)?i=e[o]||r:i=Sa(e,o)||r,t&&(i=t(i,r,e)),i}function gn(e){const{prop:t,cssProperty:o=e.prop,themeKey:r,transform:i}=e,a=c=>{if(c[t]==null)return null;const d=c[t],h=c.theme,v=Sa(h,r)||{};return Wo(c,d,f=>{let g=Qi(v,i,f);return f===g&&typeof f=="string"&&(g=Qi(v,i,`${t}${f==="default"?"":Vo(f)}`,f)),o===!1?g:{[o]:g}})};return a.propTypes={},a.filterProps=[t],a}function Ax(e){const t={};return o=>(t[o]===void 0&&(t[o]=e(o)),t[o])}const Dx={m:"margin",p:"padding"},Ex={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Ad={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Rx=Ax(e=>{if(e.length>2)if(Ad[e])e=Ad[e];else return[e];const[t,o]=e.split(""),r=Dx[t],i=Ex[o]||"";return Array.isArray(i)?i.map(a=>r+a):[r+i]}),kc=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Mc=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...kc,...Mc];function oi(e,t,o,r){var i;const a=(i=Sa(e,t,!1))!=null?i:o;return typeof a=="number"?c=>typeof c=="string"?c:a*c:Array.isArray(a)?c=>typeof c=="string"?c:a[c]:typeof a=="function"?a:()=>{}}function zh(e){return oi(e,"spacing",8)}function ri(e,t){if(typeof t=="string"||t==null)return t;const o=Math.abs(t),r=e(o);return t>=0?r:typeof r=="number"?-r:`-${r}`}function Lx(e,t){return o=>e.reduce((r,i)=>(r[i]=ri(t,o),r),{})}function Fx(e,t,o,r){if(t.indexOf(o)===-1)return null;const i=Rx(o),a=Lx(i,r),c=e[o];return Wo(e,c,a)}function $h(e,t){const o=zh(e.theme);return Object.keys(e).map(r=>Fx(e,t,r,o)).reduce($s,{})}function cn(e){return $h(e,kc)}cn.propTypes={};cn.filterProps=kc;function un(e){return $h(e,Mc)}un.propTypes={};un.filterProps=Mc;function Ox(e=8){if(e.mui)return e;const t=zh({spacing:e}),o=(...r)=>(r.length===0?[1]:r).map(a=>{const c=t(a);return typeof c=="number"?`${c}px`:c}).join(" ");return o.mui=!0,o}function _a(...e){const t=e.reduce((r,i)=>(i.filterProps.forEach(a=>{r[a]=i}),r),{}),o=r=>Object.keys(r).reduce((i,a)=>t[a]?$s(i,t[a](r)):i,{});return o.propTypes={},o.filterProps=e.reduce((r,i)=>r.concat(i.filterProps),[]),o}function oo(e){return typeof e!="number"?e:`${e}px solid`}function so(e,t){return gn({prop:e,themeKey:"borders",transform:t})}const Nx=so("border",oo),zx=so("borderTop",oo),$x=so("borderRight",oo),jx=so("borderBottom",oo),Bx=so("borderLeft",oo),Hx=so("borderColor"),Gx=so("borderTopColor"),Vx=so("borderRightColor"),Wx=so("borderBottomColor"),Zx=so("borderLeftColor"),Ux=so("outline",oo),Kx=so("outlineColor"),Pa=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=oi(e.theme,"shape.borderRadius",4),o=r=>({borderRadius:ri(t,r)});return Wo(e,e.borderRadius,o)}return null};Pa.propTypes={};Pa.filterProps=["borderRadius"];_a(Nx,zx,$x,jx,Bx,Hx,Gx,Vx,Wx,Zx,Pa,Ux,Kx);const Ia=e=>{if(e.gap!==void 0&&e.gap!==null){const t=oi(e.theme,"spacing",8),o=r=>({gap:ri(t,r)});return Wo(e,e.gap,o)}return null};Ia.propTypes={};Ia.filterProps=["gap"];const Ta=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=oi(e.theme,"spacing",8),o=r=>({columnGap:ri(t,r)});return Wo(e,e.columnGap,o)}return null};Ta.propTypes={};Ta.filterProps=["columnGap"];const ka=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=oi(e.theme,"spacing",8),o=r=>({rowGap:ri(t,r)});return Wo(e,e.rowGap,o)}return null};ka.propTypes={};ka.filterProps=["rowGap"];const Jx=gn({prop:"gridColumn"}),qx=gn({prop:"gridRow"}),Xx=gn({prop:"gridAutoFlow"}),Yx=gn({prop:"gridAutoColumns"}),Qx=gn({prop:"gridAutoRows"}),eC=gn({prop:"gridTemplateColumns"}),tC=gn({prop:"gridTemplateRows"}),nC=gn({prop:"gridTemplateAreas"}),oC=gn({prop:"gridArea"});_a(Ia,Ta,ka,Jx,qx,Xx,Yx,Qx,eC,tC,nC,oC);function as(e,t){return t==="grey"?t:e}const rC=gn({prop:"color",themeKey:"palette",transform:as}),sC=gn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:as}),iC=gn({prop:"backgroundColor",themeKey:"palette",transform:as});_a(rC,sC,iC);function Un(e){return e<=1&&e!==0?`${e*100}%`:e}const aC=gn({prop:"width",transform:Un}),Ac=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=o=>{var r,i;const a=((r=e.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[o])||Tc[o];return a?((i=e.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${a}${e.theme.breakpoints.unit}`}:{maxWidth:a}:{maxWidth:Un(o)}};return Wo(e,e.maxWidth,t)}return null};Ac.filterProps=["maxWidth"];const lC=gn({prop:"minWidth",transform:Un}),cC=gn({prop:"height",transform:Un}),uC=gn({prop:"maxHeight",transform:Un}),dC=gn({prop:"minHeight",transform:Un});gn({prop:"size",cssProperty:"width",transform:Un});gn({prop:"size",cssProperty:"height",transform:Un});const pC=gn({prop:"boxSizing"});_a(aC,Ac,lC,cC,uC,dC,pC);const jh={border:{themeKey:"borders",transform:oo},borderTop:{themeKey:"borders",transform:oo},borderRight:{themeKey:"borders",transform:oo},borderBottom:{themeKey:"borders",transform:oo},borderLeft:{themeKey:"borders",transform:oo},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:oo},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Pa},color:{themeKey:"palette",transform:as},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:as},backgroundColor:{themeKey:"palette",transform:as},p:{style:un},pt:{style:un},pr:{style:un},pb:{style:un},pl:{style:un},px:{style:un},py:{style:un},padding:{style:un},paddingTop:{style:un},paddingRight:{style:un},paddingBottom:{style:un},paddingLeft:{style:un},paddingX:{style:un},paddingY:{style:un},paddingInline:{style:un},paddingInlineStart:{style:un},paddingInlineEnd:{style:un},paddingBlock:{style:un},paddingBlockStart:{style:un},paddingBlockEnd:{style:un},m:{style:cn},mt:{style:cn},mr:{style:cn},mb:{style:cn},ml:{style:cn},mx:{style:cn},my:{style:cn},margin:{style:cn},marginTop:{style:cn},marginRight:{style:cn},marginBottom:{style:cn},marginLeft:{style:cn},marginX:{style:cn},marginY:{style:cn},marginInline:{style:cn},marginInlineStart:{style:cn},marginInlineEnd:{style:cn},marginBlock:{style:cn},marginBlockStart:{style:cn},marginBlockEnd:{style:cn},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Ia},rowGap:{style:ka},columnGap:{style:Ta},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Un},maxWidth:{style:Ac},minWidth:{transform:Un},height:{transform:Un},maxHeight:{transform:Un},minHeight:{transform:Un},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function hC(...e){const t=e.reduce((r,i)=>r.concat(Object.keys(i)),[]),o=new Set(t);return e.every(r=>o.size===Object.keys(r).length)}function mC(e,t){return typeof e=="function"?e(t):e}function fC(){function e(o,r,i,a){const c={[o]:r,theme:i},d=a[o];if(!d)return{[o]:r};const{cssProperty:h=o,themeKey:v,transform:m,style:f}=d;if(r==null)return null;if(v==="typography"&&r==="inherit")return{[o]:r};const g=Sa(i,v)||{};return f?f(c):Wo(c,r,x=>{let w=Qi(g,m,x);return x===w&&typeof x=="string"&&(w=Qi(g,m,`${o}${x==="default"?"":Vo(x)}`,x)),h===!1?w:{[h]:w}})}function t(o){var r;const{sx:i,theme:a={},nested:c}=o||{};if(!i)return null;const d=(r=a.unstable_sxConfig)!=null?r:jh;function h(v){let m=v;if(typeof v=="function")m=v(a);else if(typeof v!="object")return v;if(!m)return null;const f=Mx(a.breakpoints),g=Object.keys(f);let b=f;return Object.keys(m).forEach(x=>{const w=mC(m[x],a);if(w!=null)if(typeof w=="object")if(d[x])b=$s(b,e(x,w,a,d));else{const C=Wo({theme:a},w,_=>({[x]:_}));hC(C,w)?b[x]=t({sx:w,theme:a,nested:!0}):b=$s(b,C)}else b=$s(b,e(x,w,a,d))}),!c&&a.modularCssLayers?{"@layer sx":Md(g,b)}:Md(g,b)}return Array.isArray(i)?i.map(h):h(i)}return t}const Dc=fC();Dc.filterProps=["sx"];function gC(e,t){const o=this;return o.vars&&typeof o.getColorSchemeSelector=="function"?{[o.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)")]:t}:o.palette.mode===e?t:{}}const vC=["breakpoints","palette","spacing","shape"];function yC(e={},...t){const{breakpoints:o={},palette:r={},spacing:i,shape:a={}}=e,c=He(e,vC),d=Tx(o),h=Ox(i);let v=Yi({breakpoints:d,direction:"ltr",components:{},palette:T({mode:"light"},r),spacing:h,shape:T({},kx,a)},c);return v.applyStyles=gC,v=t.reduce((m,f)=>Yi(m,f),v),v.unstable_sxConfig=T({},jh,c==null?void 0:c.unstable_sxConfig),v.unstable_sx=function(f){return Dc({sx:f,theme:this})},v}const bC=["ownerState"],xC=["variants"],CC=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function wC(e){return Object.keys(e).length===0}function SC(e){return typeof e=="string"&&e.charCodeAt(0)>96}function Pl(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}function Dd(e,t){return t&&e&&typeof e=="object"&&e.styles&&!e.styles.startsWith("@layer")&&(e.styles=`@layer ${t}{${String(e.styles)}}`),e}const _C=yC(),PC=e=>e&&e.charAt(0).toLowerCase()+e.slice(1);function Mi({defaultTheme:e,theme:t,themeId:o}){return wC(t)?e:t[o]||t}function IC(e){return e?(t,o)=>o[e]:null}function $i(e,t,o){let{ownerState:r}=t,i=He(t,bC);const a=typeof e=="function"?e(T({ownerState:r},i)):e;if(Array.isArray(a))return a.flatMap(c=>$i(c,T({ownerState:r},i),o));if(a&&typeof a=="object"&&Array.isArray(a.variants)){const{variants:c=[]}=a;let h=He(a,xC);return c.forEach(v=>{let m=!0;if(typeof v.props=="function"?m=v.props(T({ownerState:r},i,r)):Object.keys(v.props).forEach(f=>{(r==null?void 0:r[f])!==v.props[f]&&i[f]!==v.props[f]&&(m=!1)}),m){Array.isArray(h)||(h=[h]);const f=typeof v.style=="function"?v.style(T({ownerState:r},i,r)):v.style;h.push(o?Dd(Td(f),o):f)}}),h}return o?Dd(Td(a),o):a}function TC(e={}){const{themeId:t,defaultTheme:o=_C,rootShouldForwardProp:r=Pl,slotShouldForwardProp:i=Pl}=e,a=c=>Dc(T({},c,{theme:Mi(T({},c,{defaultTheme:o,themeId:t}))}));return a.__mui_systemSx=!0,(c,d={})=>{_x(c,A=>A.filter(k=>!(k!=null&&k.__mui_systemSx)));const{name:h,slot:v,skipVariantsResolver:m,skipSx:f,overridesResolver:g=IC(PC(v))}=d,b=He(d,CC),x=h&&h.startsWith("Mui")||v?"components":"custom",w=m!==void 0?m:v&&v!=="Root"&&v!=="root"||!1,C=f||!1;let _,P=Pl;v==="Root"||v==="root"?P=r:v?P=i:SC(c)&&(P=void 0);const R=Sx(c,T({shouldForwardProp:P,label:_},b)),D=A=>typeof A=="function"&&A.__emotion_real!==A||Cr(A)?k=>{const F=Mi({theme:k.theme,defaultTheme:o,themeId:t});return $i(A,T({},k,{theme:F}),F.modularCssLayers?x:void 0)}:A,V=(A,...k)=>{let F=D(A);const z=k?k.map(D):[];h&&g&&z.push(H=>{const B=Mi(T({},H,{defaultTheme:o,themeId:t}));if(!B.components||!B.components[h]||!B.components[h].styleOverrides)return null;const I=B.components[h].styleOverrides,M={};return Object.entries(I).forEach(([j,W])=>{M[j]=$i(W,T({},H,{theme:B}),B.modularCssLayers?"theme":void 0)}),g(H,M)}),h&&!w&&z.push(H=>{var B;const I=Mi(T({},H,{defaultTheme:o,themeId:t})),M=I==null||(B=I.components)==null||(B=B[h])==null?void 0:B.variants;return $i({variants:M},T({},H,{theme:I}),I.modularCssLayers?"theme":void 0)}),C||z.push(a);const O=z.length-k.length;if(Array.isArray(A)&&O>0){const H=new Array(O).fill("");F=[...A,...H],F.raw=[...A.raw,...H]}const $=R(F,...z);return c.muiName&&($.muiName=c.muiName),$};return R.withConfig&&(V.withConfig=R.withConfig),V}}const Mn=TC();function Vs(e){"@babel/helpers - typeof";return Vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vs(e)}function kC(e,t){if(Vs(e)!="object"||!e)return e;var o=e[Symbol.toPrimitive];if(o!==void 0){var r=o.call(e,t);if(Vs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Ws(e){var t=kC(e,"string");return Vs(t)=="symbol"?t:t+""}function Et(e){return Rh("MuiDataGrid",e)}const Y=Lh("MuiDataGrid",["actionsCell","aggregationColumnHeader","aggregationColumnHeader--alignLeft","aggregationColumnHeader--alignCenter","aggregationColumnHeader--alignRight","aggregationColumnHeaderLabel","autoHeight","autosizing","booleanCell","cell--editable","cell--editing","cell--textCenter","cell--textLeft","cell--textRight","cell--withRenderer","cell--rangeTop","cell--rangeBottom","cell--rangeLeft","cell--rangeRight","cell--selectionMode","cell","cellContent","cellCheckbox","cellSkeleton","checkboxInput","columnHeader--alignCenter","columnHeader--alignLeft","columnHeader--alignRight","columnHeader--dragging","columnHeader--moving","columnHeader--numeric","columnHeader--sortable","columnHeader--sorted","columnHeader--filtered","columnHeader","columnHeaderCheckbox","columnHeaderDraggableContainer","columnHeaderDropZone","columnHeaderTitle","columnHeaderTitleContainer","columnHeaderTitleContainerContent","columnGroupHeader","columnHeader--filledGroup","columnHeader--emptyGroup","columnHeader--showColumnBorder","columnHeaders","columnHeadersInner","columnHeadersInner--scrollable","columnSeparator--resizable","columnSeparator--resizing","columnSeparator--sideLeft","columnSeparator--sideRight","columnSeparator","columnsPanel","columnsPanelRow","detailPanel","detailPanels","detailPanelToggleCell","detailPanelToggleCell--expanded","footerCell","panel","panelHeader","panelWrapper","panelContent","panelFooter","paper","editBooleanCell","editInputCell","filterForm","filterFormDeleteIcon","filterFormLogicOperatorInput","filterFormColumnInput","filterFormOperatorInput","filterFormValueInput","filterIcon","footerContainer","headerFilterRow","iconButtonContainer","iconSeparator","main","menu","menuIcon","menuIconButton","menuOpen","menuList","overlay","overlayWrapper","overlayWrapperInner","root","root--densityStandard","root--densityComfortable","root--densityCompact","root--disableUserSelection","row","row--editable","row--editing","row--lastVisible","row--dragging","row--dynamicHeight","row--detailPanelExpanded","rowReorderCellPlaceholder","rowCount","rowReorderCellContainer","rowReorderCell","rowReorderCell--draggable","scrollArea--left","scrollArea--right","scrollArea","selectedRowCount","sortIcon","toolbarContainer","toolbarFilterList","virtualScroller","virtualScrollerContent","virtualScrollerContent--overflowed","virtualScrollerRenderZone","pinnedColumns","pinnedColumns--left","pinnedColumns--right","pinnedColumnHeaders","pinnedColumnHeaders--left","pinnedColumnHeaders--right","withBorderColor","cell--withRightBorder","columnHeader--withRightBorder","treeDataGroupingCell","treeDataGroupingCellToggle","groupingCriteriaCell","groupingCriteriaCellToggle","pinnedRows","pinnedRows--top","pinnedRows--bottom","pinnedRowsRenderZone"]);var ea="NOT_FOUND";function MC(e){var t;return{get:function(r){return t&&e(t.key,r)?t.value:ea},put:function(r,i){t={key:r,value:i}},getEntries:function(){return t?[t]:[]},clear:function(){t=void 0}}}function AC(e,t){var o=[];function r(d){var h=o.findIndex(function(m){return t(d,m.key)});if(h>-1){var v=o[h];return h>0&&(o.splice(h,1),o.unshift(v)),v.value}return ea}function i(d,h){r(d)===ea&&(o.unshift({key:d,value:h}),o.length>e&&o.pop())}function a(){return o}function c(){o=[]}return{get:r,put:i,getEntries:a,clear:c}}var DC=function(t,o){return t===o};function EC(e){return function(o,r){if(o===null||r===null||o.length!==r.length)return!1;for(var i=o.length,a=0;a<i;a++)if(!e(o[a],r[a]))return!1;return!0}}function Ma(e,t){var o=typeof t=="object"?t:{equalityCheck:t},r=o.equalityCheck,i=r===void 0?DC:r,a=o.maxSize,c=a===void 0?1:a,d=o.resultEqualityCheck,h=EC(i),v=c===1?MC(h):AC(c,h);function m(){var f=v.get(arguments);if(f===ea){if(f=e.apply(null,arguments),d){var g=v.getEntries(),b=g.find(function(x){return d(x.value,f)});b&&(f=b.value)}v.put(arguments,f)}return f}return m.clearCache=function(){return v.clear()},m}function RC(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(r){return typeof r=="function"})){var o=t.map(function(r){return typeof r=="function"?"function "+(r.name||"unnamed")+"()":typeof r}).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+o+"]")}return t}function LC(e){for(var t=arguments.length,o=new Array(t>1?t-1:0),r=1;r<t;r++)o[r-1]=arguments[r];var i=function(){for(var c=arguments.length,d=new Array(c),h=0;h<c;h++)d[h]=arguments[h];var v=0,m,f={memoizeOptions:void 0},g=d.pop();if(typeof g=="object"&&(f=g,g=d.pop()),typeof g!="function")throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof g+"]");var b=f,x=b.memoizeOptions,w=x===void 0?o:x,C=Array.isArray(w)?w:[w],_=RC(d),P=e.apply(void 0,[function(){return v++,g.apply(null,arguments)}].concat(C)),R=e(function(){for(var V=[],A=_.length,k=0;k<A;k++)V.push(_[k].apply(null,arguments));return m=P.apply(null,V),m});return Object.assign(R,{resultFunc:g,memoizedResultFunc:P,dependencies:_,lastResult:function(){return m},recomputations:function(){return v},resetRecomputations:function(){return v=0}}),R};return i}var FC=LC(Ma);const OC={cache:new WeakMap};Mo(["MUI: A selector was called without passing the instance ID, which may impact the performance of the grid.","To fix, call it with `apiRef`, e.g. `mySelector(apiRef)`, or pass the instance ID explicitly, e.g. `mySelector(state, apiRef.current.instanceId)`."]);function Zl(e){return"current"in e&&"instanceId"in e.current}const Ul={id:"default"},mt=(e,t,o,r,i,a,...c)=>{if(c.length>0)throw new Error("Unsupported number of selectors");let d;if(e&&t&&o)d=(h,v)=>{const m=Zl(h),f=v??(m?h.current.instanceId:Ul),g=m?h.current.state:h,b=e(g,f),x=t(g,f);return o(b,x)};else if(e&&t)d=(h,v)=>{const m=Zl(h),f=v??(m?h.current.instanceId:Ul),g=m?h.current.state:h,b=e(g,f);return t(b)};else throw new Error("Missing arguments");return d.acceptsApiRef=!0,d},on=(...e)=>{const t=(...o)=>{var r,i;const[a,c]=o,d=Zl(a),h=d?a.current.instanceId:c??Ul,v=d?a.current.state:a,{cache:m}=OC;if(m.get(h)&&(r=m.get(h))!=null&&r.get(e)){var f;return(f=m.get(h))==null?void 0:f.get(e)(v,h)}const g=FC(...e);return m.get(h)||m.set(h,new Map),(i=m.get(h))==null||i.set(e,g),g(v,h)};return t.acceptsApiRef=!0,t},Ir=e=>e.columns,Go=mt(Ir,e=>e.orderedFields),ms=mt(Ir,e=>e.lookup),Io=on(Go,ms,(e,t)=>e.map(o=>t[o])),po=mt(Ir,e=>e.columnVisibilityModel),kn=on(Io,po,(e,t)=>e.filter(o=>t[o.field]!==!1)),Aa=on(kn,e=>e.map(t=>t.field)),us=on(kn,e=>{const t=[];let o=0;for(let r=0;r<e.length;r+=1)t.push(o),o+=e[r].computedWidth;return t}),Ec=mt(kn,us,(e,t)=>{const o=e.length;return o===0?0:t[o-1]+e[o-1].computedWidth}),Bh=on(Io,e=>e.filter(t=>t.filterable)),NC=on(Io,e=>e.reduce((t,o)=>(o.filterable&&(t[o.field]=o),t),{})),Da=e=>e.columnGrouping,zC=on(Da,e=>{var t;return(t=e==null?void 0:e.unwrappedGroupingModel)!=null?t:{}}),Hh=on(Da,e=>{var t;return(t=e==null?void 0:e.lookup)!=null?t:{}}),$C=on(Da,e=>{var t;return(t=e==null?void 0:e.headerStructure)!=null?t:[]}),si=mt(Da,e=>{var t;return(t=e==null?void 0:e.maxDepth)!=null?t:0}),go=e=>e.rows,Ea=mt(go,e=>e.totalRowCount),jC=mt(go,e=>e.loading),BC=mt(go,e=>e.totalTopLevelRowCount),Bo=mt(go,e=>e.dataRowIdToModelLookup),ta=mt(go,e=>e.dataRowIdToIdLookup),uo=mt(go,e=>e.tree),HC=mt(go,e=>e.groupingName),Ed=mt(go,e=>e.treeDepths),Ra=on(go,e=>{const t=Object.entries(e.treeDepths);return t.length===0?1:t.filter(([,o])=>o>0).map(([o])=>Number(o)).sort((o,r)=>r-o)[0]+1}),Es=mt(go,e=>e.dataRowIds),GC=mt(go,e=>e==null?void 0:e.additionalRowGroups),fs=on(GC,e=>{var t,o;const r=e==null?void 0:e.pinnedRows;return{bottom:r==null||(t=r.bottom)==null?void 0:t.map(i=>{var a;return{id:i.id,model:(a=i.model)!=null?a:{}}}),top:r==null||(o=r.top)==null?void 0:o.map(i=>{var a;return{id:i.id,model:(a=i.model)!=null?a:{}}})}}),VC=mt(fs,e=>{var t,o;return((e==null||(t=e.top)==null?void 0:t.length)||0)+((e==null||(o=e.bottom)==null?void 0:o.length)||0)}),Gh=()=>{var e;const t=cr(),o=We(),r=ze(t,kn),i=ze(t,Ea),a=ze(t,si),c=ze(t,VC);let d="grid";return(e=o.experimentalFeatures)!=null&&e.ariaV7&&o.treeData&&(d="treegrid"),{role:d,"aria-colcount":r.length,"aria-rowcount":a+1+c+i,"aria-multiselectable":!o.disableMultipleRowSelection}},WC=e=>{const{classes:t}=e;return Dt({root:["main"]},Et,t)},ZC=Mn("div",{name:"MuiDataGrid",slot:"Main",overridesResolver:(e,t)=>t.main})(()=>({position:"relative",flexGrow:1,display:"flex",flexDirection:"column",overflow:"hidden"})),UC=l.forwardRef((e,t)=>{var o;const r=We(),i=WC(r),a=(o=r.experimentalFeatures)!=null&&o.ariaV7?Gh:null,c=typeof a=="function"?a():null;return p.jsx(ZC,T({ref:t,className:i.root,ownerState:r},c,{children:e.children}))}),Vh=e=>e.sorting,Rc=mt(Vh,e=>e.sortedRows),Lc=on(Rc,Bo,(e,t)=>e.map(o=>{var r;return{id:o,model:(r=t[o])!=null?r:{}}})),eo=mt(Vh,e=>e.sortModel),KC=on(eo,e=>e.reduce((o,r,i)=>(o[r.field]={sortDirection:r.sort,sortIndex:e.length>1?i+1:void 0},o),{})),Fc=e=>e.filter,Sn=mt(Fc,e=>e.filterModel);mt(Sn,e=>e.quickFilterValues);const JC=e=>e.visibleRowsLookup,Wh=mt(Fc,e=>e.filteredRowsLookup);mt(Fc,e=>e.filteredDescendantCountLookup);const ur=on(JC,Lc,(e,t)=>t.filter(o=>e[o.id]!==!1)),js=on(ur,e=>e.map(t=>t.id)),qC=on(Wh,Lc,(e,t)=>t.filter(o=>e[o.id]!==!1)),XC=on(qC,e=>e.map(t=>t.id)),Zh=on(ur,uo,Ra,(e,t,o)=>o<2?e:e.filter(r=>{var i;return((i=t[r.id])==null?void 0:i.depth)===0})),Uh=mt(ur,e=>e.length),Kh=mt(Zh,e=>e.length),YC=on(Sn,ms,(e,t)=>{var o;return(o=e.items)==null?void 0:o.filter(r=>{var i,a;if(!r.field)return!1;const c=t[r.field];if(!(c!=null&&c.filterOperators)||(c==null||(i=c.filterOperators)==null?void 0:i.length)===0)return!1;const d=c.filterOperators.find(h=>h.value===r.operator);return d?!d.InputComponent||r.value!=null&&((a=r.value)==null?void 0:a.toString())!=="":!1})}),QC=on(YC,e=>e.reduce((o,r)=>(o[r.field]?o[r.field].push(r):o[r.field]=[r],o),{})),La=e=>e.focus,Vn=mt(La,e=>e.cell),ew=mt(La,e=>e.columnHeader);mt(La,e=>e.columnHeaderFilter);const na=mt(La,e=>e.columnGroupHeader),Fa=e=>e.tabIndex,oa=mt(Fa,e=>e.cell),Jh=mt(Fa,e=>e.columnHeader);mt(Fa,e=>e.columnHeaderFilter);const tw=mt(Fa,e=>e.columnGroupHeader),Oc=e=>e.density,nw=mt(Oc,e=>e.value),gs=mt(Oc,e=>e.factor),Kl=e=>e.columnMenu;function ow(e){const{VirtualScrollerComponent:t,ColumnHeadersProps:o,children:r}=e,i=cr(),a=We(),c=l.useRef(null),d=ze(i,kn),h=ze(i,QC),v=ze(i,KC),m=ze(i,us),f=ze(i,Jh),g=ze(i,oa),b=ze(i,tw),x=ze(i,ew),w=ze(i,na),C=ze(i,gs),_=ze(i,si),P=ze(i,Kl),R=ze(i,po),D=ze(i,$C),V=!(b===null&&f===null&&g===null);Pn(()=>{i.current.computeSizeAndPublishResizeEvent();const O=c.current;if(typeof ResizeObserver>"u")return()=>{};let $;const H=new ResizeObserver(()=>{$=requestAnimationFrame(()=>{i.current.computeSizeAndPublishResizeEvent()})});return O&&H.observe(O),()=>{$&&window.cancelAnimationFrame($),O&&H.unobserve(O)}},[i]);const A=l.useRef(null),k=l.useRef(null),F=l.useRef(null);i.current.register("private",{columnHeadersContainerElementRef:k,columnHeadersElementRef:A,virtualScrollerRef:F,mainElementRef:c});const z=!!i.current.getRootDimensions();return p.jsxs(UC,{ref:c,children:[p.jsx(a.slots.columnHeaders,T({ref:k,innerRef:A,visibleColumns:d,filterColumnLookup:h,sortColumnLookup:v,columnPositions:m,columnHeaderTabIndexState:f,columnGroupHeaderTabIndexState:b,columnHeaderFocus:x,columnGroupHeaderFocus:w,densityFactor:C,headerGroupingMaxDepth:_,columnMenuState:P,columnVisibility:R,columnGroupsHeaderStructure:D,hasOtherElementInTabSequence:V},o)),z&&p.jsx(t,{ref:F}),r]})}function rw(){var e;const t=We();return t.hideFooter?null:p.jsx(t.slots.footer,T({},(e=t.slotProps)==null?void 0:e.footer))}const Nn="auto-generated-group-node-root",ls=Symbol("mui.id_autogenerated"),sw=()=>({type:"group",id:Nn,depth:-1,groupingField:null,groupingKey:null,isAutoGenerated:!0,children:[],childrenFromPath:{},childrenExpanded:!0,parent:null});function iw(e,t,o="A row was provided without id in the rows prop:"){if(e==null)throw new Error(["MUI: The data grid component requires all rows to have a unique `id` property.","Alternatively, you can use the `getRowId` prop to specify a custom id for each row.",o,JSON.stringify(t)].join(`
`))}const ra=(e,t,o)=>{const r=t?t(e):e.id;return iw(r,e,o),r},ji=({rows:e,getRowId:t,loading:o,rowCount:r})=>{const i={type:"full",rows:[]},a={},c={};for(let d=0;d<e.length;d+=1){const h=e[d],v=ra(h,t);a[v]=h,c[v]=v,i.rows.push(v)}return{rowsBeforePartialUpdates:e,loadingPropBeforePartialUpdates:o,rowCountPropBeforePartialUpdates:r,updates:i,dataRowIdToIdLookup:c,dataRowIdToModelLookup:a}},qh=({tree:e,rowCountProp:t=0})=>{const o=e[Nn];return Math.max(t,o.children.length+(o.footerId==null?0:1))},Xh=({apiRef:e,rowCountProp:t=0,loadingProp:o,previousTree:r,previousTreeDepths:i})=>{const a=e.current.caches.rows,{tree:c,treeDepths:d,dataRowIds:h,groupingName:v}=e.current.applyStrategyProcessor("rowTreeCreation",{previousTree:r,previousTreeDepths:i,updates:a.updates,dataRowIdToIdLookup:a.dataRowIdToIdLookup,dataRowIdToModelLookup:a.dataRowIdToModelLookup}),m=e.current.unstable_applyPipeProcessors("hydrateRows",{tree:c,treeDepths:d,dataRowIdToIdLookup:a.dataRowIdToIdLookup,dataRowIds:h,dataRowIdToModelLookup:a.dataRowIdToModelLookup});return e.current.caches.rows.updates={type:"partial",actions:{insert:[],modify:[],remove:[]},idToActionLookup:{}},T({},m,{totalRowCount:Math.max(t,m.dataRowIds.length),totalTopLevelRowCount:qh({tree:m.tree,rowCountProp:t}),groupingName:v,loading:o})},Zs=e=>e.type==="skeletonRow"||e.type==="footer"||e.type==="group"&&e.isAutoGenerated||e.type==="pinnedRow"&&e.isAutoGenerated,Nc=(e,t,o)=>{const r=e[t];if(r.type!=="group")return[];const i=[];for(let a=0;a<r.children.length;a+=1){const c=r.children[a];(!o||!Zs(e[c]))&&i.push(c);const d=Nc(e,c,o);for(let h=0;h<d.length;h+=1)i.push(d[h])}return!o&&r.footerId!=null&&i.push(r.footerId),i},aw=({previousCache:e,getRowId:t,updates:o})=>{var r,i,a;if(e.updates.type==="full")throw new Error("MUI: Unable to prepare a partial update if a full update is not applied yet");const c=new Map;o.forEach(g=>{const b=ra(g,t,"A row was provided without id when calling updateRows():");c.has(b)?c.set(b,T({},c.get(b),g)):c.set(b,g)});const d={type:"partial",actions:{insert:[...(r=e.updates.actions.insert)!=null?r:[]],modify:[...(i=e.updates.actions.modify)!=null?i:[]],remove:[...(a=e.updates.actions.remove)!=null?a:[]]},idToActionLookup:T({},e.updates.idToActionLookup)},h=T({},e.dataRowIdToModelLookup),v=T({},e.dataRowIdToIdLookup),m={insert:{},modify:{},remove:{}};c.forEach((g,b)=>{const x=d.idToActionLookup[b];if(g._action==="delete"){if(x==="remove"||!h[b])return;x!=null&&(m[x][b]=!0),d.actions.remove.push(b),delete h[b],delete v[b];return}const w=h[b];if(w){x==="remove"?(m.remove[b]=!0,d.actions.modify.push(b)):x==null&&d.actions.modify.push(b),h[b]=T({},w,g);return}x==="remove"?(m.remove[b]=!0,d.actions.insert.push(b)):x==null&&d.actions.insert.push(b),h[b]=g,v[b]=b});const f=Object.keys(m);for(let g=0;g<f.length;g+=1){const b=f[g],x=m[b];Object.keys(x).length>0&&(d.actions[b]=d.actions[b].filter(w=>!x[w]))}return{dataRowIdToModelLookup:h,dataRowIdToIdLookup:v,updates:d,rowsBeforePartialUpdates:e.rowsBeforePartialUpdates,loadingPropBeforePartialUpdates:e.loadingPropBeforePartialUpdates,rowCountPropBeforePartialUpdates:e.rowCountPropBeforePartialUpdates}};function Yh(e){var t,o;const r=fs(e),i=(r==null||(t=r.top)==null?void 0:t.reduce((c,d)=>(c+=e.current.unstable_getRowHeight(d.id),c),0))||0,a=(r==null||(o=r.bottom)==null?void 0:o.reduce((c,d)=>(c+=e.current.unstable_getRowHeight(d.id),c),0))||0;return{top:i,bottom:a}}function Qh(e,t){const o=gs(e);return`var(--DataGrid-overlayHeight, ${2*Math.floor(t*o)}px)`}const lw=Mn("div",{name:"MuiDataGrid",slot:"OverlayWrapper",shouldForwardProp:e=>e!=="overlayType",overridesResolver:(e,t)=>t.overlayWrapper})(({overlayType:e})=>({position:"sticky",top:0,left:0,width:0,height:0,zIndex:e==="loadingOverlay"?5:4})),cw=Mn("div",{name:"MuiDataGrid",slot:"OverlayWrapperInner",shouldForwardProp:e=>e!=="overlayType",overridesResolver:(e,t)=>t.overlayWrapperInner})({}),uw=e=>{const{classes:t}=e;return Dt({root:["overlayWrapper"],inner:["overlayWrapperInner"]},Et,t)};function dw(e){var t,o;const r=At(),i=We(),[a,c]=l.useState(()=>{var m,f;return(m=(f=r.current.getRootDimensions())==null?void 0:f.viewportInnerSize)!=null?m:null}),d=l.useCallback(()=>{var m,f;c((m=(f=r.current.getRootDimensions())==null?void 0:f.viewportInnerSize)!=null?m:null)},[r]);Pn(()=>r.current.subscribeEvent("viewportInnerSizeChange",d),[r,d]);let h=(t=a==null?void 0:a.height)!=null?t:0;i.autoHeight&&h===0&&(h=Qh(r,i.rowHeight));const v=uw(T({},e,{classes:i.classes}));return a?p.jsx(lw,{className:Oe(v.root),overlayType:e.overlayType,children:p.jsx(cw,T({className:Oe(v.inner),style:{height:h,width:(o=a==null?void 0:a.width)!=null?o:0}},e))}):null}function pw(){const e=At(),t=We(),o=ze(e,Ea),r=ze(e,Uh),i=ze(e,jC),a=!i&&o===0,c=!i&&o>0&&r===0;let d=null,h="";if(a){var v;d=p.jsx(t.slots.noRowsOverlay,T({},(v=t.slotProps)==null?void 0:v.noRowsOverlay)),h="noRowsOverlay"}if(c){var m;d=p.jsx(t.slots.noResultsOverlay,T({},(m=t.slotProps)==null?void 0:m.noResultsOverlay)),h="noResultsOverlay"}if(i){var f;d=p.jsx(t.slots.loadingOverlay,T({},(f=t.slotProps)==null?void 0:f.loadingOverlay)),h="loadingOverlay"}return d===null?null:p.jsx(dw,{overlayType:h,children:d})}function Oa(e){return l.memo(e,Nh)}let Il;function hw(){return Il===void 0&&document.createElement("div").focus({get preventScroll(){return Il=!0,!1}}),Il}var ko=function(e){return e.Cell="cell",e.Row="row",e}(ko||{}),Bt=function(e){return e.Edit="edit",e.View="view",e}(Bt||{}),Qt=function(e){return e.Edit="edit",e.View="view",e}(Qt||{}),Bn=function(e){return e.And="and",e.Or="or",e}(Bn||{}),zo=function(e){return e.enterKeyDown="enterKeyDown",e.cellDoubleClick="cellDoubleClick",e.printableKeyDown="printableKeyDown",e.deleteKeyDown="deleteKeyDown",e.pasteKeyDown="pasteKeyDown",e}(zo||{}),co=function(e){return e.cellFocusOut="cellFocusOut",e.escapeKeyDown="escapeKeyDown",e.enterKeyDown="enterKeyDown",e.tabKeyDown="tabKeyDown",e.shiftTabKeyDown="shiftTabKeyDown",e}(co||{}),Qo=function(e){return e.enterKeyDown="enterKeyDown",e.cellDoubleClick="cellDoubleClick",e.printableKeyDown="printableKeyDown",e.deleteKeyDown="deleteKeyDown",e}(Qo||{}),$o=function(e){return e.rowFocusOut="rowFocusOut",e.escapeKeyDown="escapeKeyDown",e.enterKeyDown="enterKeyDown",e.tabKeyDown="tabKeyDown",e.shiftTabKeyDown="shiftTabKeyDown",e}($o||{});function em(e){return e.field!==void 0}function mw(e){return e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth}function fw(e,t){return e.closest(`.${t}`)}function zc(e){return e.replace(/["\\]/g,"\\$&")}function gw(e,t){return e.querySelector(`[role="columnheader"][data-field="${zc(t)}"]`)}function tm(e){return`.${Y.row}[data-id="${zc(String(e))}"]`}function vw(e,t){return e.querySelector(tm(t))}function yw(e,{id:t,field:o}){const r=tm(t),i=`.${Y.cell}[data-field="${zc(o)}"]`,a=`${r} ${i}`;return e.querySelector(a)}function ii(e){return e.target.nodeType===1&&!e.currentTarget.contains(e.target)}function bt(e,t,o){const r=l.useRef(!0);l.useEffect(()=>{r.current=!1,e.current.register(o,t)},[e,o,t]),r.current&&e.current.register(o,t)}class es extends Error{}function bw(e,t){const{getRowId:o}=t,r=l.useCallback(x=>({field:x,colDef:e.current.getColumn(x)}),[e]),i=l.useCallback(x=>{const w=e.current.getRow(x);if(!w)throw new es(`No row with id #${x} found`);return{id:x,columns:e.current.getAllColumns(),row:w}},[e]),a=l.useCallback((x,w)=>{const C=e.current.getRow(x),_=e.current.getRowNode(x);if(!C||!_)throw new es(`No row with id #${x} found`);const P=Vn(e),R=oa(e);return{id:x,field:w,row:C,rowNode:_,value:C[w],colDef:e.current.getColumn(w),cellMode:e.current.getCellMode(x,w),api:e.current,hasFocus:P!==null&&P.field===w&&P.id===x,tabIndex:R&&R.field===w&&R.id===x?0:-1}},[e]),c=l.useCallback((x,w)=>{const C=e.current.getColumn(w),_=e.current.getCellValue(x,w),P=e.current.getRow(x),R=e.current.getRowNode(x);if(!P||!R)throw new es(`No row with id #${x} found`);const D=Vn(e),V=oa(e),A={id:x,field:w,row:P,rowNode:R,colDef:C,cellMode:e.current.getCellMode(x,w),hasFocus:D!==null&&D.field===w&&D.id===x,tabIndex:V&&V.field===w&&V.id===x?0:-1,value:_,formattedValue:_,isEditable:!1};return C&&C.valueFormatter&&(A.formattedValue=C.valueFormatter({id:x,field:A.field,value:A.value,api:e.current})),A.isEditable=C&&e.current.isCellEditable(A),A},[e]),d=l.useCallback((x,w)=>{const C=e.current.getColumn(w);if(!C||!C.valueGetter){const _=e.current.getRow(x);if(!_)throw new es(`No row with id #${x} found`);return _[w]}return C.valueGetter(a(x,w))},[e,a]),h=l.useCallback((x,w)=>{var C;const _=ls in x?x[ls]:(C=o==null?void 0:o(x))!=null?C:x.id,P=w.field;return!w||!w.valueGetter?x[P]:w.valueGetter(a(_,P))},[a,o]),v=l.useCallback((x,w)=>{var C;const _=h(x,w);if(!w||!w.valueFormatter)return _;const P=(C=o?o(x):x.id)!=null?C:x[ls],R=w.field;return w.valueFormatter({id:P,field:R,value:_,api:e.current})},[e,o,h]),m=l.useCallback(x=>e.current.rootElementRef.current?gw(e.current.rootElementRef.current,x):null,[e]),f=l.useCallback(x=>e.current.rootElementRef.current?vw(e.current.rootElementRef.current,x):null,[e]),g=l.useCallback((x,w)=>e.current.rootElementRef.current?yw(e.current.rootElementRef.current,{id:x,field:w}):null,[e]);bt(e,{getCellValue:d,getCellParams:c,getCellElement:g,getRowValue:h,getRowFormattedValue:v,getRowParams:i,getRowElement:f,getColumnHeaderParams:r,getColumnHeaderElement:m},"public")}const xw=["changeReason","unstable_updateValueOnRender"],Cw=["column","rowId","editCellState","align","children","colIndex","height","width","className","showRightBorder","extendRowFullWidth","row","colSpan","disableDragEvents","isNotVisible","onClick","onDoubleClick","onMouseDown","onMouseUp","onMouseOver","onKeyDown","onKeyUp","onDragEnter","onDragOver","style"],ww=["changeReason","unstable_updateValueOnRender"],sa={id:-1,field:"__unset__",row:{},rowNode:{id:-1,depth:0,type:"leaf",parent:-1,groupingKey:null},colDef:{type:"string",field:"__unset__",computedWidth:0},cellMode:Bt.View,hasFocus:!1,tabIndex:-1,value:null,formattedValue:"__unset__",isEditable:!1,api:{}},Sw=e=>{const{align:t,showRightBorder:o,isEditable:r,isSelected:i,isSelectionMode:a,classes:c}=e,d={root:["cell",`cell--text${Vo(t)}`,r&&"cell--editable",i&&"selected",o&&"cell--withRightBorder",a&&!r&&"cell--selectionMode","withBorderColor"],content:["cellContent"]};return Dt(d,Et,c)},_w=l.forwardRef((e,t)=>{const{column:o,rowId:r,editCellState:i}=e,a=At(),c=We(),d=o.field,h=ze(a,()=>{try{const z=a.current.getCellParams(r,d);return z.api=a.current,z}catch(F){if(F instanceof es)return sa;throw F}},Ic),v=ze(a,()=>a.current.unstable_applyPipeProcessors("isCellSelected",!1,{id:r,field:d}));if(h===sa)return null;const{cellMode:m,hasFocus:f,isEditable:g,value:b,formattedValue:x}=h,w=o.type==="actions",C=(m==="view"||!g)&&!w?h.tabIndex:-1,{classes:_,getCellClassName:P}=c,R=a.current.unstable_applyPipeProcessors("cellClassName",[],{id:r,field:d});o.cellClassName&&R.push(typeof o.cellClassName=="function"?o.cellClassName(h):o.cellClassName),P&&R.push(P(h));let D;if(i==null&&o.renderCell&&(D=o.renderCell(h),R.push(Y["cell--withRenderer"]),R.push(_==null?void 0:_["cell--withRenderer"])),i!=null&&o.renderEditCell){const F=a.current.getRowWithUpdatedValues(r,o.field),z=He(i,xw),O=T({},h,{row:F},z);D=o.renderEditCell(O),R.push(Y["cell--editing"]),R.push(_==null?void 0:_["cell--editing"])}const{slots:V}=c,A=V.cell,k=T({},e,{ref:t,field:d,formattedValue:x,hasFocus:f,isEditable:g,isSelected:v,value:b,cellMode:m,children:D,tabIndex:C,className:Oe(R)});return l.createElement(A,k)}),Pw=Oa(_w),Iw=l.forwardRef((e,t)=>{var o,r,i,a;const{column:c,rowId:d,editCellState:h,align:v,colIndex:m,height:f,width:g,className:b,showRightBorder:x,colSpan:w,disableDragEvents:C,isNotVisible:_,onClick:P,onDoubleClick:R,onMouseDown:D,onMouseUp:V,onMouseOver:A,onKeyDown:k,onKeyUp:F,onDragEnter:z,onDragOver:O,style:$}=e,H=He(e,Cw),B=At(),I=We(),M=c.field,j=ze(B,()=>{try{const Ie=B.current.getCellParams(d,M);return Ie.api=B.current,Ie}catch(be){if(be instanceof es)return sa;throw be}},Ic),W=ze(B,()=>B.current.unstable_applyPipeProcessors("isCellSelected",!1,{id:d,field:M})),{cellMode:E,hasFocus:G,isEditable:Z,value:q,formattedValue:te}=j,J=c.type==="actions"&&((o=(r=c).getActions)==null?void 0:o.call(r,B.current.getRowParams(d)).some(be=>!be.props.disabled)),oe=(E==="view"||!Z)&&!J?j.tabIndex:-1,{classes:X,getCellClassName:U}=I,ne=B.current.unstable_applyPipeProcessors("cellClassName",[],{id:d,field:M});c.cellClassName&&ne.push(typeof c.cellClassName=="function"?c.cellClassName(j):c.cellClassName),U&&ne.push(U(j));const ce=te??q,ve=l.useRef(null),fe=Rr(t,ve),ke=l.useRef(null),_e=(i=I.unstable_cellSelection)!=null?i:!1,le={align:v,showRightBorder:x,isEditable:Z,classes:I.classes,isSelected:W,isSelectionMode:_e},ye=Sw(le),Te=l.useCallback(be=>Ie=>{const Le=B.current.getCellParams(d,M||"");B.current.publishEvent(be,Le,Ie),V&&V(Ie)},[B,M,V,d]),De=l.useCallback(be=>Ie=>{const Le=B.current.getCellParams(d,M||"");B.current.publishEvent(be,Le,Ie),D&&D(Ie)},[B,M,D,d]),ie=l.useCallback((be,Ie)=>Le=>{if(!B.current.getRow(d))return;const Ve=B.current.getCellParams(d,M||"");B.current.publishEvent(be,Ve,Le),Ie&&Ie(Le)},[B,M,d]),Pe=l.useMemo(()=>_?T({padding:0,opacity:0,width:0,border:0},$):T({minWidth:g,maxWidth:g,minHeight:f,maxHeight:f==="auto"?"none":f},$),[g,f,_,$]);if(l.useEffect(()=>{if(!G||E===Bt.Edit)return;const be=ni(B.current.rootElementRef.current);if(ve.current&&!ve.current.contains(be.activeElement)){const Ie=ve.current.querySelector('[tabindex="0"]'),Le=ke.current||Ie||ve.current;if(hw())Le.focus({preventScroll:!0});else{const Ve=B.current.getScrollPosition();Le.focus(),B.current.scroll(Ve)}}},[G,E,B]),j===sa)return null;let Me=H.onFocus,$e;if(h==null&&c.renderCell&&($e=c.renderCell(j),ne.push(Y["cell--withRenderer"]),ne.push(X==null?void 0:X["cell--withRenderer"])),h!=null&&c.renderEditCell){const be=B.current.getRowWithUpdatedValues(d,c.field),Ie=He(h,ww),Le=T({},j,{row:be},Ie);$e=c.renderEditCell(Le),ne.push(Y["cell--editing"]),ne.push(X==null?void 0:X["cell--editing"])}if($e===void 0){const be=ce==null?void 0:ce.toString();$e=p.jsx("div",{className:ye.content,title:be,role:"presentation",children:be})}l.isValidElement($e)&&J&&($e=l.cloneElement($e,{focusElementRef:ke}));const Ke=C?null:{onDragEnter:ie("cellDragEnter",z),onDragOver:ie("cellDragOver",O)},Ne=(a=I.experimentalFeatures)==null?void 0:a.ariaV7;return p.jsx("div",T({ref:fe,className:Oe(b,ne,ye.root),role:Ne?"gridcell":"cell","data-field":M,"data-colindex":m,"aria-colindex":m+1,"aria-colspan":w,style:Pe,tabIndex:oe,onClick:ie("cellClick",P),onDoubleClick:ie("cellDoubleClick",R),onMouseOver:ie("cellMouseOver",A),onMouseDown:De("cellMouseDown"),onMouseUp:Te("cellMouseUp"),onKeyDown:ie("cellKeyDown",k),onKeyUp:ie("cellKeyUp",F)},Ke,H,{onFocus:Me,children:$e}))}),Jl=Oa(Iw),Tw=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","hasFocus","tabIndex"],kw=e=>{const{classes:t}=e;return Dt({root:["booleanCell"]},Et,t)};function Mw(e){const{value:t}=e,o=He(e,Tw),r=At(),i=We(),a={classes:i.classes},c=kw(a),d=l.useMemo(()=>t?i.slots.booleanCellTrueIcon:i.slots.booleanCellFalseIcon,[i.slots.booleanCellFalseIcon,i.slots.booleanCellTrueIcon,t]);return p.jsx(d,T({fontSize:"small",className:c.root,titleAccess:r.current.getLocaleText(t?"booleanCellTrueLabel":"booleanCellFalseLabel"),"data-value":!!t},o))}const Aw=l.memo(Mw),Dw=e=>Zs(e.rowNode)?"":p.jsx(Aw,T({},e)),Ew=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","className","hasFocus","isValidating","isProcessingProps","error","onValueChange"],Rw=e=>{const{classes:t}=e;return Dt({root:["editBooleanCell"]},Et,t)};function Lw(e){var t;const{id:o,value:r,field:i,className:a,hasFocus:c,onValueChange:d}=e,h=He(e,Ew),v=At(),m=l.useRef(null),f=bn(),[g,b]=l.useState(r),x=We(),w={classes:x.classes},C=Rw(w),_=l.useCallback(async P=>{const R=P.target.checked;d&&await d(P,R),b(R),await v.current.setEditCellValue({id:o,field:i,value:R},P)},[v,i,o,d]);return l.useEffect(()=>{b(r)},[r]),Pn(()=>{c&&m.current.focus()},[c]),p.jsx("label",T({htmlFor:f,className:Oe(C.root,a)},h,{children:p.jsx(x.slots.baseCheckbox,T({id:f,inputRef:m,checked:!!g,onChange:_,size:"small"},(t=x.slotProps)==null?void 0:t.baseCheckbox))}))}const Fw=e=>p.jsx(Lw,T({},e)),Ow=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","hasFocus","inputProps","isValidating","isProcessingProps","onValueChange"],Nw=Ee(cc)({fontSize:"inherit"}),zw=e=>{const{classes:t}=e;return Dt({root:["editInputCell"]},Et,t)};function $w(e){const{id:t,value:o,field:r,colDef:i,hasFocus:a,inputProps:c,onValueChange:d}=e,h=He(e,Ow),v=i.type==="dateTime",m=At(),f=l.useRef(),g=l.useMemo(()=>{let D;o==null?D=null:o instanceof Date?D=o:D=new Date((o??"").toString());let V;return D==null||Number.isNaN(D.getTime())?V="":V=new Date(D.getTime()-D.getTimezoneOffset()*60*1e3).toISOString().substr(0,v?16:10),{parsed:D,formatted:V}},[o,v]),[b,x]=l.useState(g),C={classes:We().classes},_=zw(C),P=l.useCallback(D=>{if(D==="")return null;const[V,A]=D.split("T"),[k,F,z]=V.split("-"),O=new Date;if(O.setFullYear(Number(k),Number(F)-1,Number(z)),O.setHours(0,0,0,0),A){const[$,H]=A.split(":");O.setHours(Number($),Number(H),0,0)}return O},[]),R=l.useCallback(async D=>{const V=D.target.value,A=P(V);d&&await d(D,A),x({parsed:A,formatted:V}),m.current.setEditCellValue({id:t,field:r,value:A},D)},[m,r,t,d,P]);return l.useEffect(()=>{x(D=>{var V,A;return g.parsed!==D.parsed&&((V=g.parsed)==null?void 0:V.getTime())!==((A=D.parsed)==null?void 0:A.getTime())?g:D})},[g]),Pn(()=>{a&&f.current.focus()},[a]),p.jsx(Nw,T({inputRef:f,fullWidth:!0,className:_.root,type:v?"datetime-local":"date",inputProps:T({max:v?"9999-12-31T23:59":"9999-12-31"},c),value:b.formatted,onChange:R},h))}const nm=e=>p.jsx($w,T({},e)),jw=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","hasFocus","isValidating","debounceMs","isProcessingProps","onValueChange"],Bw=e=>{const{classes:t}=e;return Dt({root:["editInputCell"]},Et,t)},Hw=Ee(cc,{name:"MuiDataGrid",slot:"EditInputCell",overridesResolver:(e,t)=>t.editInputCell})(({theme:e})=>T({},e.typography.body2,{padding:"1px 0","& input":{padding:"0 16px",height:"100%"}})),Gw=l.forwardRef((e,t)=>{const o=We(),{id:r,value:i,field:a,colDef:c,hasFocus:d,debounceMs:h=200,isProcessingProps:v,onValueChange:m}=e,f=He(e,jw),g=At(),b=l.useRef(),[x,w]=l.useState(i),C=Bw(o),_=l.useCallback(async R=>{const D=R.target.value;m&&await m(R,D);const V=g.current.getColumn(a);let A=D;V.valueParser&&(A=V.valueParser(D,g.current.getCellParams(r,a))),w(A),g.current.setEditCellValue({id:r,field:a,value:A,debounceMs:h,unstable_skipValueParser:!0},R)},[g,h,a,r,m]),P=g.current.unstable_getEditCellMeta(r,a);return l.useEffect(()=>{(P==null?void 0:P.changeReason)!=="debouncedSetEditCellValue"&&w(i)},[P,i]),Pn(()=>{d&&b.current.focus()},[d]),p.jsx(Hw,T({ref:t,inputRef:b,className:C.root,ownerState:o,fullWidth:!0,type:c.type==="number"?c.type:"text",value:x??"",onChange:_,endAdornment:v?p.jsx(o.slots.loadIcon,{fontSize:"small",color:"action"}):void 0},f))}),Vw=e=>p.jsx(Gw,T({},e)),ia=e=>e==="Escape",Ww=e=>e==="Enter",om=e=>e==="Tab",rm=e=>e===" ",Zw=e=>e.indexOf("Arrow")===0,Uw=e=>e==="Home"||e==="End",Kw=e=>e.indexOf("Page")===0;function sm(e){return e.key.length===1&&!e.ctrlKey&&!e.metaKey}const aa=e=>Uw(e)||Zw(e)||Kw(e)||rm(e),Jw=e=>!!e.key,qw=e=>om(e)||ia(e);function Tr(e){return(e==null?void 0:e.type)==="singleSelect"}function ql(e,t,o){if(t===void 0)return;const r=t.find(i=>{const a=o(i);return String(a)===String(e)});return o(r)}const Xw=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","className","hasFocus","isValidating","isProcessingProps","error","onValueChange","initialOpen","getOptionLabel","getOptionValue"],Yw=["MenuProps"];function Qw(e){return!!e.key}function eS(e){var t,o,r;const i=We(),{id:a,value:c,field:d,row:h,colDef:v,hasFocus:m,error:f,onValueChange:g,initialOpen:b=i.editMode===ko.Cell,getOptionLabel:x,getOptionValue:w}=e,C=He(e,Xw),_=At(),P=l.useRef(),R=l.useRef(),[D,V]=l.useState(b),k=(o=(((t=i.slotProps)==null?void 0:t.baseSelect)||{}).native)!=null?o:!1,F=((r=i.slotProps)==null?void 0:r.baseSelect)||{},{MenuProps:z}=F,O=He(F,Yw);if(Pn(()=>{if(m){var W;(W=R.current)==null||W.focus()}},[m]),!Tr(v))return null;let $;if(typeof(v==null?void 0:v.valueOptions)=="function"?$=v==null?void 0:v.valueOptions({id:a,row:h,field:d}):$=v==null?void 0:v.valueOptions,!$)return null;const H=w||v.getOptionValue,B=x||v.getOptionLabel,I=async W=>{if(!Tr(v)||!$)return;V(!1);const E=W.target,G=ql(E.value,$,H);g&&await g(W,G),await _.current.setEditCellValue({id:a,field:d,value:G},W)},M=(W,E)=>{if(i.editMode===ko.Row){V(!1);return}if(E==="backdropClick"||ia(W.key)){const G=_.current.getCellParams(a,d);_.current.publishEvent("cellEditStop",T({},G,{reason:ia(W.key)?co.escapeKeyDown:co.cellFocusOut}))}},j=W=>{Qw(W)&&W.key==="Enter"||V(!0)};return!$||!v?null:p.jsx(i.slots.baseSelect,T({ref:P,inputRef:R,value:c,onChange:I,open:D,onOpen:j,MenuProps:T({onClose:M},z),error:f,native:k,fullWidth:!0},C,O,{children:$.map(W=>{var E;const G=H(W);return l.createElement(i.slots.baseSelectOption,T({},((E=i.slotProps)==null?void 0:E.baseSelectOption)||{},{native:k,key:G,value:G}),B(W))})}))}const tS=e=>p.jsx(eS,T({},e)),nS=["open","target","onClose","children","position","className","onExited"],oS=e=>{const{classes:t}=e;return Dt({root:["menu"]},Et,t)},rS=Ee(hs,{name:"MuiDataGrid",slot:"Menu",overridesResolver:(e,t)=>t.menu})(({theme:e})=>({zIndex:e.zIndex.modal,[`& .${Y.menuList}`]:{outline:0}})),sS={"bottom-start":"top left","bottom-end":"top right"};function im(e){var t;const{open:o,target:r,onClose:i,children:a,position:c,className:d,onExited:h}=e,v=He(e,nS),m=At(),f=We(),g=oS(f),b=l.useRef(null);Pn(()=>{if(o)b.current=document.activeElement instanceof HTMLElement?document.activeElement:null;else{var C,_;(C=b.current)==null||(_=C.focus)==null||_.call(C),b.current=null}},[o]),l.useEffect(()=>{const C=o?"menuOpen":"menuClose";m.current.publishEvent(C,{target:r})},[m,o,r]);const x=C=>_=>{C&&C(),h&&h(_)},w=C=>{C.target&&(r===C.target||r!=null&&r.contains(C.target))||i(C)};return p.jsx(rS,T({as:f.slots.basePopper,className:Oe(d,g.root),ownerState:f,open:o,anchorEl:r,transition:!0,placement:c},v,(t=f.slotProps)==null?void 0:t.basePopper,{children:({TransitionProps:C,placement:_})=>p.jsx(yc,{onClickAway:w,mouseEvent:"onMouseDown",children:p.jsx(Ng,T({},C,{style:{transformOrigin:sS[_]},onExited:x(C==null?void 0:C.onExited),children:p.jsx(Nt,{children:a})}))})}))}const iS=["api","colDef","id","hasFocus","isEditable","field","value","formattedValue","row","rowNode","cellMode","tabIndex","position","focusElementRef"],aS=e=>typeof e.getActions=="function";function lS(e){var t;const{colDef:o,id:r,hasFocus:i,tabIndex:a,position:c="bottom-end",focusElementRef:d}=e,h=He(e,iS),[v,m]=l.useState(-1),[f,g]=l.useState(!1),b=At(),x=l.useRef(null),w=l.useRef(null),C=l.useRef(!1),_=l.useRef({}),P=Jt(),R=bn(),D=bn(),V=We();if(!aS(o))throw new Error("MUI: Missing the `getActions` property in the `GridColDef`.");const A=o.getActions(b.current.getRowParams(r)),k=A.filter(j=>!j.props.showInMenu),F=A.filter(j=>j.props.showInMenu),z=k.length+(F.length?1:0);l.useLayoutEffect(()=>{i||Object.entries(_.current).forEach(([j,W])=>{W==null||W.stop({},()=>{delete _.current[j]})})},[i]),l.useEffect(()=>{if(v<0||!x.current||v>=x.current.children.length)return;x.current.children[v].focus({preventScroll:!0})},[v]),l.useEffect(()=>{i||(m(-1),C.current=!1)},[i]),l.useImperativeHandle(d,()=>({focus(){if(!C.current){const j=A.findIndex(W=>!W.props.disabled);m(j)}}}),[A]),l.useEffect(()=>{v>=z&&m(z-1)},[v,z]);const O=()=>{g(!0),m(z-1),C.current=!0},$=()=>{g(!1)},H=j=>W=>{_.current[j]=W},B=(j,W)=>E=>{m(j),C.current=!0,W&&W(E)},I=j=>{if(z<=1)return;const W=(G,Z)=>{var q;if(G<0||G>A.length)return G;const te=P.direction==="rtl"?-1:1,J=(Z==="left"?-1:1)*te;return(q=A[G+J])!=null&&q.props.disabled?W(G+J,Z):G+J};let E=v;j.key==="ArrowRight"?E=W(v,"right"):j.key==="ArrowLeft"&&(E=W(v,"left")),!(E<0||E>=z)&&E!==v&&(j.preventDefault(),j.stopPropagation(),m(E))},M=j=>{j.key==="Tab"&&j.preventDefault(),["Tab","Escape"].includes(j.key)&&$()};return p.jsxs("div",T({role:"menu",ref:x,tabIndex:-1,className:Y.actionsCell,onKeyDown:I},h,{children:[k.map((j,W)=>l.cloneElement(j,{key:W,touchRippleRef:H(W),onClick:B(W,j.props.onClick),tabIndex:v===W?a:-1})),F.length>0&&D&&p.jsx(V.slots.baseIconButton,T({ref:w,id:D,"aria-label":b.current.getLocaleText("actionsCellMore"),"aria-haspopup":"menu","aria-expanded":f,"aria-controls":f?R:void 0,role:"menuitem",size:"small",onClick:O,touchRippleRef:H(D),tabIndex:v===k.length?a:-1},(t=V.slotProps)==null?void 0:t.baseIconButton,{children:p.jsx(V.slots.moreActionsIcon,{fontSize:"small"})})),F.length>0&&p.jsx(im,{open:f,target:w.current,position:c,onClose:$,children:p.jsx(Gp,{id:R,className:Y.menuList,onKeyDown:M,"aria-labelledby":D,variant:"menu",autoFocusItem:!0,children:F.map((j,W)=>l.cloneElement(j,{key:W,closeMenu:$}))})})]}))}const cS=e=>p.jsx(lS,T({},e)),uS=["field","align","width","contentWidth"],dS=e=>{const{align:t,classes:o}=e,r={root:["cell","cellSkeleton",`cell--text${Vo(t)}`,"withBorderColor"]};return Dt(r,Et,o)};function pS(e){const{align:t,width:o,contentWidth:r}=e,i=He(e,uS),c={classes:We().classes,align:t},d=dS(c);return p.jsx("div",T({className:d.root,style:{width:o}},i,{children:p.jsx($b,{width:`${r}%`})}))}function hS(e){return e.vars?e.vars.palette.TableCell.border:e.palette.mode==="light"?jp(me(e.palette.divider,1),.88):Bp(me(e.palette.divider,1),.68)}const Rd={[`.${Y.columnSeparator}, .${Y["columnSeparator--resizing"]}`]:{visibility:"visible",width:"auto"}},Ld={[`& .${Y.iconButtonContainer}`]:{visibility:"visible",width:"auto"},[`& .${Y.menuIcon}`]:{width:"auto",visibility:"visible"}},mS=Ee("div",{name:"MuiDataGrid",slot:"Root",overridesResolver:(e,t)=>[{[`&.${Y.autoHeight}`]:t.autoHeight},{[`&.${Y.aggregationColumnHeader}`]:t.aggregationColumnHeader},{[`&.${Y["aggregationColumnHeader--alignLeft"]}`]:t["aggregationColumnHeader--alignLeft"]},{[`&.${Y["aggregationColumnHeader--alignCenter"]}`]:t["aggregationColumnHeader--alignCenter"]},{[`&.${Y["aggregationColumnHeader--alignRight"]}`]:t["aggregationColumnHeader--alignRight"]},{[`&.${Y.aggregationColumnHeaderLabel}`]:t.aggregationColumnHeaderLabel},{[`&.${Y["root--disableUserSelection"]} .${Y.cell}`]:t["root--disableUserSelection"]},{[`&.${Y.autosizing}`]:t.autosizing},{[`& .${Y.editBooleanCell}`]:t.editBooleanCell},{[`& .${Y["cell--editing"]}`]:t["cell--editing"]},{[`& .${Y["cell--textCenter"]}`]:t["cell--textCenter"]},{[`& .${Y["cell--textLeft"]}`]:t["cell--textLeft"]},{[`& .${Y["cell--textRight"]}`]:t["cell--textRight"]},{[`& .${Y["cell--withRenderer"]}`]:t["cell--withRenderer"]},{[`& .${Y.cell}`]:t.cell},{[`& .${Y["cell--rangeTop"]}`]:t["cell--rangeTop"]},{[`& .${Y["cell--rangeBottom"]}`]:t["cell--rangeBottom"]},{[`& .${Y["cell--rangeLeft"]}`]:t["cell--rangeLeft"]},{[`& .${Y["cell--rangeRight"]}`]:t["cell--rangeRight"]},{[`& .${Y["cell--withRightBorder"]}`]:t["cell--withRightBorder"]},{[`& .${Y.cellContent}`]:t.cellContent},{[`& .${Y.cellCheckbox}`]:t.cellCheckbox},{[`& .${Y.cellSkeleton}`]:t.cellSkeleton},{[`& .${Y.checkboxInput}`]:t.checkboxInput},{[`& .${Y["columnHeader--alignCenter"]}`]:t["columnHeader--alignCenter"]},{[`& .${Y["columnHeader--alignLeft"]}`]:t["columnHeader--alignLeft"]},{[`& .${Y["columnHeader--alignRight"]}`]:t["columnHeader--alignRight"]},{[`& .${Y["columnHeader--dragging"]}`]:t["columnHeader--dragging"]},{[`& .${Y["columnHeader--moving"]}`]:t["columnHeader--moving"]},{[`& .${Y["columnHeader--numeric"]}`]:t["columnHeader--numeric"]},{[`& .${Y["columnHeader--sortable"]}`]:t["columnHeader--sortable"]},{[`& .${Y["columnHeader--sorted"]}`]:t["columnHeader--sorted"]},{[`& .${Y["columnHeader--withRightBorder"]}`]:t["columnHeader--withRightBorder"]},{[`& .${Y.columnHeader}`]:t.columnHeader},{[`& .${Y.headerFilterRow}`]:t.headerFilterRow},{[`& .${Y.columnHeaderCheckbox}`]:t.columnHeaderCheckbox},{[`& .${Y.columnHeaderDraggableContainer}`]:t.columnHeaderDraggableContainer},{[`& .${Y.columnHeaderTitleContainer}`]:t.columnHeaderTitleContainer},{[`& .${Y["columnSeparator--resizable"]}`]:t["columnSeparator--resizable"]},{[`& .${Y["columnSeparator--resizing"]}`]:t["columnSeparator--resizing"]},{[`& .${Y.columnSeparator}`]:t.columnSeparator},{[`& .${Y.filterIcon}`]:t.filterIcon},{[`& .${Y.iconSeparator}`]:t.iconSeparator},{[`& .${Y.menuIcon}`]:t.menuIcon},{[`& .${Y.menuIconButton}`]:t.menuIconButton},{[`& .${Y.menuOpen}`]:t.menuOpen},{[`& .${Y.menuList}`]:t.menuList},{[`& .${Y["row--editable"]}`]:t["row--editable"]},{[`& .${Y["row--editing"]}`]:t["row--editing"]},{[`& .${Y["row--dragging"]}`]:t["row--dragging"]},{[`& .${Y.row}`]:t.row},{[`& .${Y.rowReorderCellPlaceholder}`]:t.rowReorderCellPlaceholder},{[`& .${Y.rowReorderCell}`]:t.rowReorderCell},{[`& .${Y["rowReorderCell--draggable"]}`]:t["rowReorderCell--draggable"]},{[`& .${Y.sortIcon}`]:t.sortIcon},{[`& .${Y.withBorderColor}`]:t.withBorderColor},{[`& .${Y.treeDataGroupingCell}`]:t.treeDataGroupingCell},{[`& .${Y.treeDataGroupingCellToggle}`]:t.treeDataGroupingCellToggle},{[`& .${Y.detailPanelToggleCell}`]:t.detailPanelToggleCell},{[`& .${Y["detailPanelToggleCell--expanded"]}`]:t["detailPanelToggleCell--expanded"]},t.root]})(({theme:e})=>{const t=hS(e),o=e.shape.borderRadius;return T({"--unstable_DataGrid-radius":typeof o=="number"?`${o}px`:o,"--unstable_DataGrid-headWeight":e.typography.fontWeightMedium,"--unstable_DataGrid-overlayBackground":e.vars?`rgba(${e.vars.palette.background.defaultChannel} / ${e.vars.palette.action.disabledOpacity})`:me(e.palette.background.default,e.palette.action.disabledOpacity),"--DataGrid-cellOffsetMultiplier":2,flex:1,boxSizing:"border-box",position:"relative",borderWidth:"1px",borderStyle:"solid",borderColor:t,borderRadius:"var(--unstable_DataGrid-radius)",color:(e.vars||e).palette.text.primary},e.typography.body2,{outline:"none",height:"100%",display:"flex",minWidth:0,minHeight:0,flexDirection:"column",overflowAnchor:"none",[`&.${Y.autoHeight}`]:{height:"auto",[`& .${Y["row--lastVisible"]} .${Y.cell}`]:{borderBottomColor:"transparent"}},[`&.${Y.autosizing}`]:{[`& .${Y.columnHeaderTitleContainerContent} > *`]:{overflow:"visible !important"},[`& .${Y.cell} > *`]:{overflow:"visible !important",whiteSpace:"nowrap"},[`& .${Y.groupingCriteriaCell}`]:{width:"unset"},[`& .${Y.treeDataGroupingCell}`]:{width:"unset"}},[`& .${Y["virtualScrollerContent--overflowed"]} .${Y["row--lastVisible"]} .${Y.cell}`]:{borderBottomColor:"transparent"},[`& .${Y.columnHeader}, & .${Y.cell}`]:{WebkitTapHighlightColor:"transparent",lineHeight:null,padding:"0 10px",boxSizing:"border-box"},[`& .${Y.columnHeader}:focus-within, & .${Y.cell}:focus-within`]:{outline:`solid ${e.vars?`rgba(${e.vars.palette.primary.mainChannel} / 0.5)`:me(e.palette.primary.main,.5)} 1px`,outlineWidth:1,outlineOffset:-1},[`& .${Y.columnHeader}:focus, & .${Y.cell}:focus`]:{outline:`solid ${e.palette.primary.main} 1px`},[`& .${Y.columnHeaderCheckbox}, & .${Y.cellCheckbox}`]:{padding:0,justifyContent:"center",alignItems:"center"},[`& .${Y.columnHeader}`]:{position:"relative",display:"flex",alignItems:"center"},[`& .${Y["columnHeader--sorted"]} .${Y.iconButtonContainer}, & .${Y["columnHeader--filtered"]} .${Y.iconButtonContainer}`]:{visibility:"visible",width:"auto"},[`& .${Y.columnHeader}:not(.${Y["columnHeader--sorted"]}) .${Y.sortIcon}`]:{opacity:0,transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.shorter})},[`& .${Y.columnHeaderTitleContainer}`]:{display:"flex",alignItems:"center",minWidth:0,flex:1,whiteSpace:"nowrap",overflow:"hidden",position:"relative"},[`& .${Y.columnHeaderTitleContainerContent}`]:{overflow:"hidden",display:"flex",alignItems:"center"},[`& .${Y["columnHeader--filledGroup"]} .${Y.columnHeaderTitleContainer}`]:{borderBottomWidth:"1px",borderBottomStyle:"solid",boxSizing:"border-box"},[`& .${Y["columnHeader--filledGroup"]}.${Y["columnHeader--showColumnBorder"]} .${Y.columnHeaderTitleContainer}`]:{borderBottom:"none"},[`& .${Y["columnHeader--filledGroup"]}.${Y["columnHeader--showColumnBorder"]}`]:{borderBottomWidth:"1px",borderBottomStyle:"solid",boxSizing:"border-box"},[`& .${Y.headerFilterRow}`]:{borderTop:`1px solid ${t}`},[`& .${Y.sortIcon}, & .${Y.filterIcon}`]:{fontSize:"inherit"},[`& .${Y["columnHeader--sortable"]}`]:{cursor:"pointer"},[`& .${Y["columnHeader--alignCenter"]} .${Y.columnHeaderTitleContainer}`]:{justifyContent:"center"},[`& .${Y["columnHeader--alignRight"]} .${Y.columnHeaderDraggableContainer}, & .${Y["columnHeader--alignRight"]} .${Y.columnHeaderTitleContainer}`]:{flexDirection:"row-reverse"},[`& .${Y["columnHeader--alignCenter"]} .${Y.menuIcon}, & .${Y["columnHeader--alignRight"]} .${Y.menuIcon}`]:{marginRight:"auto",marginLeft:-6},[`& .${Y["columnHeader--alignRight"]} .${Y.menuIcon}, & .${Y["columnHeader--alignRight"]} .${Y.menuIcon}`]:{marginRight:"auto",marginLeft:-10},[`& .${Y["columnHeader--moving"]}`]:{backgroundColor:(e.vars||e).palette.action.hover},[`& .${Y.columnSeparator}`]:{visibility:"hidden",position:"absolute",zIndex:100,display:"flex",flexDirection:"column",justifyContent:"center",color:t},"@media (hover: hover)":{[`& .${Y.columnHeaders}:hover`]:Rd,[`& .${Y.columnHeader}:hover`]:Ld,[`& .${Y.columnHeader}:not(.${Y["columnHeader--sorted"]}):hover .${Y.sortIcon}`]:{opacity:.5}},"@media (hover: none)":{[`& .${Y.columnHeaders}`]:Rd,[`& .${Y.columnHeader}`]:Ld},[`& .${Y["columnSeparator--sideLeft"]}`]:{left:-12},[`& .${Y["columnSeparator--sideRight"]}`]:{right:-12},[`& .${Y["columnSeparator--resizable"]}`]:{cursor:"col-resize",touchAction:"none","&:hover":{color:(e.vars||e).palette.text.primary,"@media (hover: none)":{color:t}},[`&.${Y["columnSeparator--resizing"]}`]:{color:(e.vars||e).palette.text.primary},"& svg":{pointerEvents:"none"}},[`& .${Y.iconSeparator}`]:{color:"inherit"},[`& .${Y.menuIcon}`]:{width:0,visibility:"hidden",fontSize:20,marginRight:-10,display:"flex",alignItems:"center"},[`.${Y.menuOpen}`]:{visibility:"visible",width:"auto"},[`& .${Y.row}`]:{display:"flex",width:"fit-content",breakInside:"avoid","&:hover, &.Mui-hovered":{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},"&.Mui-selected":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:me(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover, &.Mui-hovered":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(
                ${e.vars.palette.action.selectedOpacity} + 
                ${e.vars.palette.action.hoverOpacity}
              ))`:me(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:me(e.palette.primary.main,e.palette.action.selectedOpacity)}}}},[`& .${Y.cell}`]:{display:"flex",alignItems:"center",borderBottom:"1px solid","&.Mui-selected":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:me(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover, &.Mui-hovered":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity+e.palette.action.hoverOpacity})`:me(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:me(e.palette.primary.main,e.palette.action.selectedOpacity)}}}},[`&.${Y["root--disableUserSelection"]} .${Y.cell}`]:{userSelect:"none"},[`& .${Y.row}:not(.${Y["row--dynamicHeight"]}) > .${Y.cell}`]:{overflow:"hidden",whiteSpace:"nowrap"},[`& .${Y.cellContent}`]:{overflow:"hidden",textOverflow:"ellipsis"},[`& .${Y.cell}.${Y["cell--selectionMode"]}`]:{cursor:"default"},[`& .${Y.cell}.${Y["cell--editing"]}`]:{padding:1,display:"flex",boxShadow:e.shadows[2],backgroundColor:(e.vars||e).palette.background.paper,"&:focus-within":{outline:`solid ${(e.vars||e).palette.primary.main} 1px`,outlineOffset:"-1px"}},[`& .${Y["row--editing"]}`]:{boxShadow:e.shadows[2]},[`& .${Y["row--editing"]} .${Y.cell}`]:{boxShadow:e.shadows[0],backgroundColor:(e.vars||e).palette.background.paper},[`& .${Y.editBooleanCell}`]:{display:"flex",height:"100%",width:"100%",alignItems:"center",justifyContent:"center"},[`& .${Y.booleanCell}[data-value="true"]`]:{color:(e.vars||e).palette.text.secondary},[`& .${Y.booleanCell}[data-value="false"]`]:{color:(e.vars||e).palette.text.disabled},[`& .${Y.actionsCell}`]:{display:"inline-flex",alignItems:"center",gridGap:e.spacing(1)},[`& .${Y.rowReorderCell}`]:{display:"inline-flex",flex:1,alignItems:"center",justifyContent:"center",opacity:(e.vars||e).palette.action.disabledOpacity},[`& .${Y["rowReorderCell--draggable"]}`]:{cursor:"move",opacity:1},[`& .${Y.rowReorderCellContainer}`]:{padding:0,alignItems:"stretch"},[`.${Y.withBorderColor}`]:{borderColor:t},[`& .${Y["cell--withRightBorder"]}`]:{borderRightWidth:"1px",borderRightStyle:"solid"},[`& .${Y["columnHeader--withRightBorder"]}`]:{borderRightWidth:"1px",borderRightStyle:"solid"},[`& .${Y["cell--textLeft"]}`]:{justifyContent:"flex-start"},[`& .${Y["cell--textRight"]}`]:{justifyContent:"flex-end"},[`& .${Y["cell--textCenter"]}`]:{justifyContent:"center"},[`& .${Y.columnHeaderDraggableContainer}`]:{display:"flex",width:"100%",height:"100%"},[`& .${Y.rowReorderCellPlaceholder}`]:{display:"none"},[`& .${Y["columnHeader--dragging"]}, & .${Y["row--dragging"]}`]:{background:(e.vars||e).palette.background.paper,padding:"0 12px",borderRadius:"var(--unstable_DataGrid-radius)",opacity:(e.vars||e).palette.action.disabledOpacity},[`& .${Y["row--dragging"]}`]:{background:(e.vars||e).palette.background.paper,padding:"0 12px",borderRadius:"var(--unstable_DataGrid-radius)",opacity:(e.vars||e).palette.action.disabledOpacity,[`& .${Y.rowReorderCellPlaceholder}`]:{display:"flex"}},[`& .${Y.treeDataGroupingCell}`]:{display:"flex",alignItems:"center",width:"100%"},[`& .${Y.treeDataGroupingCellToggle}`]:{flex:"0 0 28px",alignSelf:"stretch",marginRight:e.spacing(2)},[`& .${Y.groupingCriteriaCell}`]:{display:"flex",alignItems:"center",width:"100%"},[`& .${Y.groupingCriteriaCellToggle}`]:{flex:"0 0 28px",alignSelf:"stretch",marginRight:e.spacing(2)}})}),fS=["children","className"],gS=e=>{const{autoHeight:t,density:o,classes:r}=e,i={root:["root",t&&"autoHeight",`root--density${Vo(o)}`,"withBorderColor"]};return Dt(i,Et,r)},vS=l.forwardRef(function(t,o){var r;const i=We(),{children:a,className:c}=t,d=He(t,fS),h=cr(),v=ze(h,nw),m=l.useRef(null),f=Rr(m,o),g=(r=i.experimentalFeatures)!=null&&r.ariaV7?null:Gh,b=typeof g=="function"?g():null,x=T({},i,{density:v}),w=gS(x);h.current.register("public",{rootElementRef:m});const[C,_]=l.useState(!1);return Pn(()=>{_(!0)},[]),C?p.jsx(mS,T({ref:f,className:Oe(c,w.root),ownerState:x},b,d,{children:a})):null}),yS=["className"],bS=e=>{const{classes:t}=e;return Dt({root:["footerContainer","withBorderColor"]},Et,t)},xS=Mn("div",{name:"MuiDataGrid",slot:"FooterContainer",overridesResolver:(e,t)=>t.footerContainer})({display:"flex",justifyContent:"space-between",alignItems:"center",minHeight:52,borderTop:"1px solid"}),CS=l.forwardRef(function(t,o){const{className:r}=t,i=He(t,yS),a=We(),c=bS(a);return p.jsx(xS,T({ref:o,className:Oe(c.root,r),ownerState:a},i))}),wS=["className"],SS=e=>{const{classes:t}=e;return Dt({root:["overlay"]},Et,t)},_S=Mn("div",{name:"MuiDataGrid",slot:"Overlay",overridesResolver:(e,t)=>t.overlay})({width:"100%",height:"100%",display:"flex",alignSelf:"center",alignItems:"center",justifyContent:"center",backgroundColor:"var(--unstable_DataGrid-overlayBackground)"}),$c=l.forwardRef(function(t,o){const{className:r}=t,i=He(t,wS),a=We(),c=SS(a);return p.jsx(_S,T({ref:o,className:Oe(c.root,r),ownerState:a},i))}),PS=["className"],IS=e=>{const{classes:t}=e;return Dt({root:["iconButtonContainer"]},Et,t)},TS=Mn("div",{name:"MuiDataGrid",slot:"IconButtonContainer",overridesResolver:(e,t)=>t.iconButtonContainer})(()=>({display:"flex",visibility:"hidden",width:0})),am=l.forwardRef(function(t,o){const{className:r}=t,i=He(t,PS),a=We(),c=IS(a);return p.jsx(TS,T({ref:o,className:Oe(c.root,r),ownerState:a},i))}),kS=e=>{const{classes:t}=e;return Dt({icon:["sortIcon"]},Et,t)};function MS(e,t,o,r){let i;const a={};return t==="asc"?i=e.columnSortedAscendingIcon:t==="desc"?i=e.columnSortedDescendingIcon:(i=e.columnUnsortedIcon,a.sortingOrder=r),i?p.jsx(i,T({fontSize:"small",className:o},a)):null}function AS(e){var t;const{direction:o,index:r,sortingOrder:i}=e,a=At(),c=We(),d=T({},e,{classes:c.classes}),h=kS(d),v=MS(c.slots,o,h.icon,i);if(!v)return null;const m=p.jsx(c.slots.baseIconButton,T({tabIndex:-1,"aria-label":a.current.getLocaleText("columnHeaderSortIconLabel"),title:a.current.getLocaleText("columnHeaderSortIconLabel"),size:"small"},(t=c.slotProps)==null?void 0:t.baseIconButton,{children:v}));return p.jsxs(am,{children:[r!=null&&p.jsx(ah,{badgeContent:r,color:"default",children:m}),r==null&&m]})}const DS=l.memo(AS),ES=e=>{const{classes:t,open:o}=e;return Dt({root:["menuIcon",o&&"menuOpen"],button:["menuIconButton"]},Et,t)},RS=l.memo(e=>{var t,o;const{colDef:r,open:i,columnMenuId:a,columnMenuButtonId:c,iconButtonRef:d}=e,h=At(),v=We(),m=T({},e,{classes:v.classes}),f=ES(m),g=l.useCallback(b=>{b.preventDefault(),b.stopPropagation(),h.current.toggleColumnMenu(r.field)},[h,r.field]);return p.jsx("div",{className:f.root,children:p.jsx(v.slots.baseTooltip,T({title:h.current.getLocaleText("columnMenuLabel"),enterDelay:1e3},(t=v.slotProps)==null?void 0:t.baseTooltip,{children:p.jsx(v.slots.baseIconButton,T({ref:d,tabIndex:-1,className:f.button,"aria-label":h.current.getLocaleText("columnMenuLabel"),size:"small",onClick:g,"aria-haspopup":"menu","aria-expanded":i,"aria-controls":i?a:void 0,id:c},(o=v.slotProps)==null?void 0:o.baseIconButton,{children:p.jsx(v.slots.columnMenuIcon,{fontSize:"small"})}))}))})});function LS({columnMenuId:e,columnMenuButtonId:t,ContentComponent:o,contentComponentProps:r,field:i,open:a,target:c,onExited:d}){const h=At(),v=h.current.getColumn(i),m=ho(f=>{f&&(f.stopPropagation(),c!=null&&c.contains(f.target))||h.current.hideColumnMenu()});return!c||!v?null:p.jsx(im,{placement:`bottom-${v.align==="right"?"start":"end"}`,open:a,target:c,onClose:m,onExited:d,children:p.jsx(o,T({colDef:v,hideMenu:m,open:a,id:e,labelledby:t},r))})}const FS=["className"],OS=e=>{const{classes:t}=e;return Dt({root:["columnHeaderTitle"]},Et,t)},NS=Mn("div",{name:"MuiDataGrid",slot:"ColumnHeaderTitle",overridesResolver:(e,t)=>t.columnHeaderTitle})({textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",fontWeight:"var(--unstable_DataGrid-headWeight)"}),zS=l.forwardRef(function(t,o){const{className:r}=t,i=He(t,FS),a=We(),c=OS(a);return p.jsx(NS,T({ref:o,className:Oe(c.root,r),ownerState:a},i))});function $S(e){var t;const{label:o,description:r}=e,i=We(),a=l.useRef(null),[c,d]=l.useState(""),h=l.useCallback(()=>{if(!r&&a!=null&&a.current){const v=mw(a.current);d(v?o:"")}},[r,o]);return p.jsx(i.slots.baseTooltip,T({title:r||c},(t=i.slotProps)==null?void 0:t.baseTooltip,{children:p.jsx(zS,{onMouseOver:h,ref:a,children:o})}))}const jS=["resizable","resizing","height","side"];var lm=function(e){return e.Left="left",e.Right="right",e}(lm||{});const BS=e=>{const{resizable:t,resizing:o,classes:r,side:i}=e,a={root:["columnSeparator",t&&"columnSeparator--resizable",o&&"columnSeparator--resizing",i&&`columnSeparator--side${Vo(i)}`],icon:["iconSeparator"]};return Dt(a,Et,r)};function HS(e){const{height:t,side:o=lm.Right}=e,r=He(e,jS),i=We(),a=T({},e,{side:o,classes:i.classes}),c=BS(a),d=l.useCallback(h=>{h.preventDefault(),h.stopPropagation()},[]);return p.jsx("div",T({className:c.root,style:{minHeight:t,opacity:i.showColumnVerticalBorder?0:1}},r,{onClick:d,children:p.jsx(i.slots.columnResizeIcon,{className:c.icon})}))}const GS=l.memo(HS),VS=["classes","columnMenuOpen","colIndex","height","isResizing","sortDirection","hasFocus","tabIndex","separatorSide","isDraggable","headerComponent","description","elementId","width","columnMenuIconButton","columnMenu","columnTitleIconButtons","headerClassName","label","resizable","draggableContainerProps","columnHeaderSeparatorProps"],cm=l.forwardRef(function(t,o){const{classes:r,columnMenuOpen:i,colIndex:a,height:c,isResizing:d,sortDirection:h,hasFocus:v,tabIndex:m,separatorSide:f,isDraggable:g,headerComponent:b,description:x,width:w,columnMenuIconButton:C=null,columnMenu:_=null,columnTitleIconButtons:P=null,headerClassName:R,label:D,resizable:V,draggableContainerProps:A,columnHeaderSeparatorProps:k}=t,F=He(t,VS),z=cr(),O=We(),$=l.useRef(null),[H,B]=l.useState(i),I=Rr($,o);let M="none";return h!=null&&(M=h==="asc"?"ascending":"descending"),l.useEffect(()=>{H||B(i)},[H,i]),l.useLayoutEffect(()=>{const j=z.current.state.columnMenu;if(v&&!j.open){const E=$.current.querySelector('[tabindex="0"]')||$.current;E==null||E.focus(),z.current.columnHeadersContainerElementRef.current.scrollLeft=0}},[z,v]),p.jsxs("div",T({ref:I,className:Oe(r.root,R),style:{height:c,width:w,minWidth:w,maxWidth:w},role:"columnheader",tabIndex:m,"aria-colindex":a+1,"aria-sort":M,"aria-label":b==null?D:void 0},F,{children:[p.jsxs("div",T({className:r.draggableContainer,draggable:g,role:"presentation"},A,{children:[p.jsxs("div",{className:r.titleContainer,role:"presentation",children:[p.jsx("div",{className:r.titleContainerContent,children:b!==void 0?b:p.jsx($S,{label:D,description:x,columnWidth:w})}),P]}),C]})),p.jsx(GS,T({resizable:!O.disableColumnResize&&!!V,resizing:d,height:c,side:f},k)),_]}))}),WS=e=>{const{colDef:t,classes:o,isDragging:r,sortDirection:i,showRightBorder:a,filterItemsCounter:c}=e,d=i!=null,h=c!=null&&c>0,v=t.type==="number",m={root:["columnHeader",t.headerAlign==="left"&&"columnHeader--alignLeft",t.headerAlign==="center"&&"columnHeader--alignCenter",t.headerAlign==="right"&&"columnHeader--alignRight",t.sortable&&"columnHeader--sortable",r&&"columnHeader--moving",d&&"columnHeader--sorted",h&&"columnHeader--filtered",v&&"columnHeader--numeric","withBorderColor",a&&"columnHeader--withRightBorder"],draggableContainer:["columnHeaderDraggableContainer"],titleContainer:["columnHeaderTitleContainer"],titleContainerContent:["columnHeaderTitleContainerContent"]};return Dt(m,Et,o)};function ZS(e){var t,o,r,i;const{colDef:a,columnMenuOpen:c,colIndex:d,headerHeight:h,isResizing:v,sortDirection:m,sortIndex:f,filterItemsCounter:g,hasFocus:b,tabIndex:x,disableReorder:w,separatorSide:C}=e,_=cr(),P=We(),R=l.useRef(null),D=bn(),V=bn(),A=l.useRef(null),[k,F]=l.useState(c),z=l.useMemo(()=>!P.disableColumnReorder&&!w&&!a.disableReorder,[P.disableColumnReorder,w,a.disableReorder]);let O;a.renderHeader&&(O=a.renderHeader(_.current.getColumnHeaderParams(a.field)));const $=T({},e,{classes:P.classes,showRightBorder:P.showColumnVerticalBorder}),H=WS($),B=l.useCallback(oe=>X=>{ii(X)||_.current.publishEvent(oe,_.current.getColumnHeaderParams(a.field),X)},[_,a.field]),I=l.useMemo(()=>({onClick:B("columnHeaderClick"),onDoubleClick:B("columnHeaderDoubleClick"),onMouseOver:B("columnHeaderOver"),onMouseOut:B("columnHeaderOut"),onMouseEnter:B("columnHeaderEnter"),onMouseLeave:B("columnHeaderLeave"),onKeyDown:B("columnHeaderKeyDown"),onFocus:B("columnHeaderFocus"),onBlur:B("columnHeaderBlur")}),[B]),M=l.useMemo(()=>z?{onDragStart:B("columnHeaderDragStart"),onDragEnter:B("columnHeaderDragEnter"),onDragOver:B("columnHeaderDragOver"),onDragEnd:B("columnHeaderDragEnd")}:{},[z,B]),j=l.useMemo(()=>({onMouseDown:B("columnSeparatorMouseDown"),onDoubleClick:B("columnSeparatorDoubleClick")}),[B]);l.useEffect(()=>{k||F(c)},[k,c]);const W=l.useCallback(()=>{F(!1)},[]),E=!P.disableColumnMenu&&!a.disableColumnMenu&&p.jsx(RS,{colDef:a,columnMenuId:D,columnMenuButtonId:V,open:k,iconButtonRef:A}),G=p.jsx(LS,{columnMenuId:D,columnMenuButtonId:V,field:a.field,open:c,target:A.current,ContentComponent:P.slots.columnMenu,contentComponentProps:(t=P.slotProps)==null?void 0:t.columnMenu,onExited:W}),Z=(o=a.sortingOrder)!=null?o:P.sortingOrder,q=p.jsxs(l.Fragment,{children:[!P.disableColumnFilter&&p.jsx(P.slots.columnHeaderFilterIconButton,T({field:a.field,counter:g},(r=P.slotProps)==null?void 0:r.columnHeaderFilterIconButton)),a.sortable&&!a.hideSortIcons&&p.jsx(DS,{direction:m,index:f,sortingOrder:Z})]});l.useLayoutEffect(()=>{const oe=_.current.state.columnMenu;if(b&&!oe.open){var X;const ne=R.current.querySelector('[tabindex="0"]')||R.current;ne==null||ne.focus(),(X=_.current.columnHeadersContainerElementRef)!=null&&X.current&&(_.current.columnHeadersContainerElementRef.current.scrollLeft=0)}},[_,b]);const te=typeof a.headerClassName=="function"?a.headerClassName({field:a.field,colDef:a}):a.headerClassName,J=(i=a.headerName)!=null?i:a.field;return p.jsx(cm,T({ref:R,classes:H,columnMenuOpen:c,colIndex:d,height:h,isResizing:v,sortDirection:m,hasFocus:b,tabIndex:x,separatorSide:C,isDraggable:z,headerComponent:O,description:a.description,elementId:a.field,width:a.computedWidth,columnMenuIconButton:E,columnTitleIconButtons:q,headerClassName:te,label:J,resizable:!P.disableColumnResize&&!!a.resizable,"data-field":a.field,columnMenu:G,draggableContainerProps:M,columnHeaderSeparatorProps:j},I))}const Us=()=>({items:[],logicOperator:Bn.And,quickFilterValues:[],quickFilterLogicOperator:Bn.And}),Fd=1e3;class US{constructor(t=Fd){this.timeouts=new Map,this.cleanupTimeout=Fd,this.cleanupTimeout=t}register(t,o,r){this.timeouts||(this.timeouts=new Map);const i=setTimeout(()=>{typeof o=="function"&&o(),this.timeouts.delete(r.cleanupToken)},this.cleanupTimeout);this.timeouts.set(r.cleanupToken,i)}unregister(t){const o=this.timeouts.get(t.cleanupToken);o&&(this.timeouts.delete(t.cleanupToken),clearTimeout(o))}reset(){this.timeouts&&(this.timeouts.forEach((t,o)=>{this.unregister({cleanupToken:o})}),this.timeouts=void 0)}}class KS{constructor(){this.registry=new FinalizationRegistry(t=>{typeof t=="function"&&t()})}register(t,o,r){this.registry.register(t,o,r)}unregister(t){this.registry.unregister(t)}reset(){}}var To=function(e){return e.DataGrid="DataGrid",e.DataGridPro="DataGridPro",e}(To||{});class JS{}function qS(e){let t=0;return function(r,i,a,c){e.registry===null&&(e.registry=typeof FinalizationRegistry<"u"?new KS:new US);const[d]=l.useState(new JS),h=l.useRef(null),v=l.useRef();v.current=a;const m=l.useRef(null);if(!h.current&&v.current){const f=(g,b,x)=>{if(!b.defaultMuiPrevented){var w;(w=v.current)==null||w.call(v,g,b,x)}};h.current=r.current.subscribeEvent(i,f,c),t+=1,m.current={cleanupToken:t},e.registry.register(d,()=>{var g;(g=h.current)==null||g.call(h),h.current=null,m.current=null},m.current)}else!v.current&&h.current&&(h.current(),h.current=null,m.current&&(e.registry.unregister(m.current),m.current=null));l.useEffect(()=>{if(!h.current&&v.current){const f=(g,b,x)=>{if(!b.defaultMuiPrevented){var w;(w=v.current)==null||w.call(v,g,b,x)}};h.current=r.current.subscribeEvent(i,f,c)}return m.current&&e.registry&&(e.registry.unregister(m.current),m.current=null),()=>{var f;(f=h.current)==null||f.call(h),h.current=null}},[r,i,c])}}const XS={registry:null},Ze=qS(XS),YS={isFirst:!0};function nn(e,t,o){Ze(e,t,o,YS)}function An(e,t){const o=l.useRef(null);if(o.current)return o.current;const r=e.current.getLogger(t);return o.current=r,r}function QS(e){return typeof e=="number"&&!Number.isNaN(e)}function um(e){return typeof e=="function"}function jc(e){return typeof e=="object"&&e!==null}function e1(){try{const e="__some_random_key_you_are_not_going_to_use__";return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch{return!1}}function Bi(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}const ds=(e,t,o)=>Math.max(t,Math.min(o,e));function kr(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;if(Array.isArray(e)){const i=e.length;if(i!==t.length)return!1;for(let a=0;a<i;a+=1)if(!kr(e[a],t[a]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;const i=Array.from(e.entries());for(let a=0;a<i.length;a+=1)if(!t.has(i[a][0]))return!1;for(let a=0;a<i.length;a+=1){const c=i[a];if(!kr(c[1],t.get(c[0])))return!1}return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;const i=Array.from(e.entries());for(let a=0;a<i.length;a+=1)if(!t.has(i[a][0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){const i=e.length;if(i!==t.length)return!1;for(let a=0;a<i;a+=1)if(e[a]!==t[a])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();const o=Object.keys(e),r=o.length;if(r!==Object.keys(t).length)return!1;for(let i=0;i<r;i+=1)if(!Object.prototype.hasOwnProperty.call(t,o[i]))return!1;for(let i=0;i<r;i+=1){const a=o[i];if(!kr(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function t1(e){return()=>{let t=e+=1831565813;return t=Math.imul(t^t>>>15,t|1),t^=t+Math.imul(t^t>>>7,t|61),((t^t>>>14)>>>0)/4294967296}}function n1(e,t,o){const r=t1(e);return()=>t+(o-t)*r()}function dm(e){return typeof structuredClone=="function"?structuredClone(e):JSON.parse(JSON.stringify(e))}const o1=(e,t,o,r,i)=>{const a=An(e,"useNativeEventListener"),[c,d]=l.useState(!1),h=l.useRef(r),v=l.useCallback(m=>h.current&&h.current(m),[]);l.useEffect(()=>{h.current=r},[r]),l.useEffect(()=>{let m;if(um(t)?m=t():m=t&&t.current?t.current:null,m&&o&&!c){a.debug(`Binding native ${o} event`),m.addEventListener(o,v,i);const f=m;d(!0);const g=()=>{a.debug(`Clearing native ${o} event`),f.removeEventListener(o,v,i)};e.current.subscribeEvent("unmount",g)}},[t,v,o,c,a,i,e])},ai=e=>{const t=l.useRef(!0);t.current&&(t.current=!1,e())},r1=100,s1=e=>e?0:100,pm=(e,t)=>t>0&&e>0?Math.ceil(e/t):0;Mo(["MUI: the 'rowCount' prop is undefined while using paginationMode='server'","For more detail, see http://mui.com/components/data-grid/pagination/#basic-implementation"],"error");const hm=e=>({page:0,pageSize:e?0:100}),i1=(e,t=0)=>t===0?e:Math.max(Math.min(e,t-1),0),mm=(e,t)=>{if(t===To.DataGrid&&e>r1)throw new Error(["MUI: `pageSize` cannot exceed 100 in the MIT version of the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join(`
`))},Bc=e=>e.pagination,to=mt(Bc,e=>e.paginationModel),ts=mt(Bc,e=>e.rowCount),a1=mt(to,e=>e.page),fm=mt(to,e=>e.pageSize),l1=mt(fm,ts,(e,t)=>pm(t,e)),Hc=on(to,uo,Ra,ur,Zh,(e,t,o,r,i)=>{const a=i.length,c=Math.min(e.pageSize*e.page,a-1),d=Math.min(c+e.pageSize-1,a-1);if(c===-1||d===-1)return null;if(o<2)return{firstRowIndex:c,lastRowIndex:d};const h=i[c],v=d-c+1,m=r.findIndex(x=>x.id===h.id);let f=m,g=0;for(;f<r.length&&g<=v;){var b;const x=r[f],w=(b=t[x.id])==null?void 0:b.depth;w===void 0?f+=1:((g<v||w>0)&&(f+=1),w===0&&(g+=1))}return{firstRowIndex:m,lastRowIndex:f-1}}),c1=on(ur,Hc,(e,t)=>t?e.slice(t.firstRowIndex,t.lastRowIndex+1):[]),gm=on(js,Hc,(e,t)=>t?e.slice(t.firstRowIndex,t.lastRowIndex+1):[]),Ks=e=>e.preferencePanel;var Ar=function(e){return e.filters="filters",e.columns="columns",e}(Ar||{});const Js=e=>e.rowsMeta,no=e=>e.rowSelection,u1=mt(no,e=>e.length),d1=on(no,Bo,(e,t)=>new Map(e.map(o=>[o,t[o]]))),la=on(no,e=>e.reduce((t,o)=>(t[o]=o,t),{})),p1=Mo(["MUI: The `sortModel` can only contain a single item when the `disableMultipleColumnsSorting` prop is set to `true`.","If you are using the community version of the `DataGrid`, this prop is always `true`."],"error"),vm=(e,t)=>t&&e.length>1?(p1(),[e[0]]):e,Od=(e,t)=>o=>T({},o,{sorting:T({},o.sorting,{sortModel:vm(e,t)})}),h1=e=>e==="desc",m1=(e,t)=>{const o=t.current.getColumn(e.field);if(!o)return null;const r=h1(e.sort)?(...a)=>-1*o.sortComparator(...a):o.sortComparator;return{getSortCellParams:a=>({id:a,field:o.field,rowNode:t.current.getRowNode(a),value:t.current.getCellValue(a,o.field),api:t.current}),comparator:r}},f1=(e,t,o)=>e.reduce((r,i,a)=>{if(r!==0)return r;const c=t.params[a],d=o.params[a];return r=i.comparator(c.value,d.value,c,d),r},0),g1=(e,t)=>{const o=e.map(r=>m1(r,t)).filter(r=>!!r);return o.length===0?null:r=>r.map(i=>({node:i,params:o.map(a=>a.getSortCellParams(i.id))})).sort((i,a)=>f1(o,i,a)).map(i=>i.node.id)},Nd=(e,t)=>{const o=e.indexOf(t);return!t||o===-1||o+1===e.length?e[0]:e[o+1]},Gc=(e,t)=>e==null&&t!=null?-1:t==null&&e!=null?1:e==null&&t==null?0:null,v1=new Intl.Collator,y1=(e,t)=>{const o=Gc(e,t);return o!==null?o:typeof e=="string"?v1.compare(e.toString(),t.toString()):e-t},ym=(e,t)=>{const o=Gc(e,t);return o!==null?o:Number(e)-Number(t)},bm=(e,t)=>{const o=Gc(e,t);return o!==null?o:e>t?1:e<t?-1:0},xm=e=>e.headerFiltering,b1=mt(xm,e=>e.editing),x1=mt(xm,e=>e.menuOpen),C1=(e,t)=>{const o={enabled:!t.disableVirtualization,enabledForColumns:!0};return T({},e,{virtualization:o})};function w1(e,t){const o=a=>{e.current.setState(c=>T({},c,{virtualization:T({},c.virtualization,{enabled:a})}))};bt(e,{unstable_setVirtualization:o,unstable_setColumnVirtualization:a=>{e.current.setState(c=>T({},c,{virtualization:T({},c.virtualization,{enabledForColumns:a})}))}},"public"),l.useEffect(()=>{o(!t.disableVirtualization)},[t.disableVirtualization])}const Cm=e=>e.virtualization,S1=mt(Cm,e=>e.enabled),wm=mt(Cm,e=>e.enabledForColumns),_1=e=>{const{classes:t}=e;return Dt({icon:["filterIcon"]},Et,t)};function P1(e){var t,o;const{counter:r,field:i,onClick:a}=e,c=At(),d=We(),h=T({},e,{classes:d.classes}),v=_1(h),m=ze(c,Ks),f=bn(),g=bn(),b=l.useCallback(C=>{C.preventDefault(),C.stopPropagation();const{open:_,openedPanelValue:P}=Ks(c.current.state);_&&P===Ar.filters?c.current.hideFilterPanel():c.current.showFilterPanel(void 0,g,f),a&&a(c.current.getColumnHeaderParams(i),C)},[c,i,a,g,f]);if(!r)return null;const x=m.open&&m.labelId===f,w=p.jsx(d.slots.baseIconButton,T({id:f,onClick:b,color:"default","aria-label":c.current.getLocaleText("columnHeaderFiltersLabel"),size:"small",tabIndex:-1,"aria-haspopup":"menu","aria-expanded":x,"aria-controls":x?g:void 0},(t=d.slotProps)==null?void 0:t.baseIconButton,{children:p.jsx(d.slots.columnFilteredIcon,{className:v.icon,fontSize:"small"})}));return p.jsx(d.slots.baseTooltip,T({title:c.current.getLocaleText("columnHeaderFiltersTooltipActive")(r),enterDelay:1e3},(o=d.slotProps)==null?void 0:o.baseTooltip,{children:p.jsxs(am,{children:[r>1&&p.jsx(ah,{badgeContent:r,color:"default",children:w}),r===1&&w]})}))}const I1=["field","id","value","formattedValue","row","rowNode","colDef","isEditable","cellMode","hasFocus","tabIndex","api"],T1=e=>{const{classes:t}=e;return Dt({root:["checkboxInput"]},Et,t)},k1=l.forwardRef(function(t,o){var r;const{field:i,id:a,value:c,rowNode:d,hasFocus:h,tabIndex:v}=t,m=He(t,I1),f=At(),g=We(),b={classes:g.classes},x=T1(b),w=l.useRef(null),C=l.useRef(null),_=Rr(w,o),P=f.current.getCellElement(a,i),R=k=>{const F={value:k.target.checked,id:a};f.current.publishEvent("rowSelectionCheckboxChange",F,k)};l.useLayoutEffect(()=>{v===0&&P&&(P.tabIndex=-1)},[P,v]),l.useEffect(()=>{if(h){var k;const F=(k=w.current)==null?void 0:k.querySelector("input");F==null||F.focus({preventScroll:!0})}else C.current&&C.current.stop({})},[h]);const D=l.useCallback(k=>{rm(k.key)&&k.stopPropagation()},[]);if(d.type==="footer"||d.type==="pinnedRow")return null;const V=f.current.isRowSelectable(a),A=f.current.getLocaleText(c?"checkboxSelectionUnselectRow":"checkboxSelectionSelectRow");return p.jsx(g.slots.baseCheckbox,T({ref:_,tabIndex:v,checked:c,onChange:R,className:x.root,inputProps:{"aria-label":A},onKeyDown:D,disabled:!V,touchRippleRef:C},(r=g.slotProps)==null?void 0:r.baseCheckbox,m))}),M1=k1,A1=["field","colDef"],D1=e=>{const{classes:t}=e;return Dt({root:["checkboxInput"]},Et,t)},E1=l.forwardRef(function(t,o){var r;const i=He(t,A1),[,a]=l.useState(!1),c=At(),d=We(),h={classes:d.classes},v=D1(h),m=ze(c,Jh),f=ze(c,no),g=ze(c,js),b=ze(c,gm),x=l.useMemo(()=>typeof d.isRowSelectable!="function"?f:f.filter(F=>c.current.getRow(F)?d.isRowSelectable(c.current.getRowParams(F)):!1),[c,d.isRowSelectable,f]),w=l.useMemo(()=>(!d.pagination||!d.checkboxSelectionVisibleOnly?g:b).reduce((z,O)=>(z[O]=!0,z),{}),[d.pagination,d.checkboxSelectionVisibleOnly,b,g]),C=l.useMemo(()=>x.filter(F=>w[F]).length,[x,w]),_=C>0&&C<Object.keys(w).length,P=C>0,R=F=>{const z={value:F.target.checked};c.current.publishEvent("headerSelectionCheckboxChange",z)},D=m!==null&&m.field===t.field?0:-1;l.useLayoutEffect(()=>{const F=c.current.getColumnHeaderElement(t.field);D===0&&F&&(F.tabIndex=-1)},[D,c,t.field]);const V=l.useCallback(F=>{F.key===" "&&c.current.publishEvent("headerSelectionCheckboxChange",{value:!P})},[c,P]),A=l.useCallback(()=>{a(F=>!F)},[]);l.useEffect(()=>c.current.subscribeEvent("rowSelectionChange",A),[c,A]);const k=c.current.getLocaleText(P?"checkboxSelectionUnselectAllRows":"checkboxSelectionSelectAllRows");return p.jsx(d.slots.baseCheckbox,T({ref:o,indeterminate:_,checked:P,onChange:R,className:v.root,inputProps:{"aria-label":k},tabIndex:D,onKeyDown:V},(r=d.slotProps)==null?void 0:r.baseCheckbox,i))}),zd=xt(p.jsx("path",{d:"M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"}),"ArrowUpward"),$d=xt(p.jsx("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward"),jd=xt(p.jsx("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"KeyboardArrowRight"),Bd=xt(p.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),R1=xt(p.jsx("path",{d:"M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"}),"FilterList"),Hd=xt(p.jsx("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61z"}),"FilterAlt"),L1=xt(p.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");xt(p.jsx("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu");xt(p.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckCircle");const F1=xt(p.jsx("path",{d:"M6 5H3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm14 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm-7 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1z"}),"ColumnIcon"),O1=xt(p.jsx("path",{d:"M11 19V5h2v14z"}),"Separator"),N1=xt(p.jsx("path",{d:"M4 15h16v-2H4v2zm0 4h16v-2H4v2zm0-8h16V9H4v2zm0-6v2h16V5H4z"}),"ViewHeadline"),z1=xt(p.jsx("path",{d:"M21,8H3V4h18V8z M21,10H3v4h18V10z M21,16H3v4h18V16z"}),"TableRows"),$1=xt(p.jsx("path",{d:"M4 18h17v-6H4v6zM4 5v6h17V5H4z"}),"ViewStream"),j1=xt(p.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"TripleDotsVertical"),Tl=xt(p.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),Gd=xt(p.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add"),B1=xt(p.jsx("path",{d:"M19 13H5v-2h14v2z"}),"Remove"),H1=xt(p.jsx("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"}),"Load"),Vd=xt(p.jsx("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"Drag"),G1=xt(p.jsx("path",{d:"M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z"}),"SaveAlt"),V1=xt(p.jsx("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),W1=xt(p.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert"),Z1=xt(p.jsx("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"}),"VisibilityOff"),U1=xt(p.jsx("g",{children:p.jsx("path",{d:"M14.67,5v14H9.33V5H14.67z M15.67,19H21V5h-5.33V19z M8.33,19V5H3v14H8.33z"})}),"ViewColumn"),K1=xt(p.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");xt(p.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");const J1=xt(p.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}),"Delete"),q1=["hideMenu","colDef","id","labelledby","className","children","open"],X1=Ee(Gp)(()=>({minWidth:248})),Y1=l.forwardRef(function(t,o){const{hideMenu:r,id:i,labelledby:a,className:c,children:d,open:h}=t,v=He(t,q1),m=l.useCallback(f=>{om(f.key)&&f.preventDefault(),qw(f.key)&&r(f)},[r]);return p.jsx(X1,T({id:i,ref:o,className:Oe(Y.menuList,c),"aria-labelledby":a,onKeyDown:m,autoFocus:h},v,{children:d}))}),Q1=["displayOrder"],e_=e=>{const t=cr(),{defaultSlots:o,defaultSlotProps:r,slots:i={},slotProps:a={},hideMenu:c,colDef:d,addDividers:h=!0}=e,v=l.useMemo(()=>T({},o,i),[o,i]),m=l.useMemo(()=>{if(!a||Object.keys(a).length===0)return r;const b=T({},a);return Object.entries(r).forEach(([x,w])=>{b[x]=T({},w,a[x]||{})}),b},[r,a]),f=t.current.unstable_applyPipeProcessors("columnMenu",[],e.colDef),g=l.useMemo(()=>{const b=Object.keys(o);return Object.keys(i).filter(x=>!b.includes(x))},[i,o]);return l.useMemo(()=>{const w=Array.from(new Set([...f,...g])).filter(C=>v[C]!=null).sort((C,_)=>{const P=m[C],R=m[_],D=Number.isFinite(P==null?void 0:P.displayOrder)?P.displayOrder:100,V=Number.isFinite(R==null?void 0:R.displayOrder)?R.displayOrder:100;return D-V});return w.reduce((C,_,P)=>{let R={colDef:d,onClick:c};const D=m[_];if(D){const V=He(D,Q1);R=T({},R,V)}return h&&P!==w.length-1?[...C,[v[_],R],[Po,{}]]:[...C,[v[_],R]]},[])},[h,d,f,c,v,m,g])};function t_(e){const{colDef:t,onClick:o}=e,r=At(),i=We(),d=kn(r).filter(v=>v.disableColumnMenu!==!0).length===1,h=l.useCallback(v=>{d||(r.current.setColumnVisibility(t.field,!1),o(v))},[r,t.field,o,d]);return i.disableColumnSelector||t.hideable===!1?null:p.jsxs(pn,{onClick:h,disabled:d,children:[p.jsx(Ho,{children:p.jsx(i.slots.columnMenuHideIcon,{fontSize:"small"})}),p.jsx(ro,{children:r.current.getLocaleText("columnMenuHideColumn")})]})}function n_(e){const{onClick:t}=e,o=At(),r=We(),i=l.useCallback(a=>{t(a),o.current.showPreferences(Ar.columns)},[o,t]);return r.disableColumnSelector?null:p.jsxs(pn,{onClick:i,children:[p.jsx(Ho,{children:p.jsx(r.slots.columnMenuManageColumnsIcon,{fontSize:"small"})}),p.jsx(ro,{children:o.current.getLocaleText("columnMenuManageColumns")})]})}function o_(e){return p.jsxs(l.Fragment,{children:[p.jsx(t_,T({},e)),p.jsx(n_,T({},e))]})}function r_(e){const{colDef:t,onClick:o}=e,r=At(),i=We(),a=l.useCallback(c=>{o(c),r.current.showFilterPanel(t.field)},[r,t.field,o]);return i.disableColumnFilter||!t.filterable?null:p.jsxs(pn,{onClick:a,children:[p.jsx(Ho,{children:p.jsx(i.slots.columnMenuFilterIcon,{fontSize:"small"})}),p.jsx(ro,{children:r.current.getLocaleText("columnMenuFilter")})]})}function s_(e){var t;const{colDef:o,onClick:r}=e,i=At(),a=ze(i,eo),c=We(),d=l.useMemo(()=>{if(!o)return null;const f=a.find(g=>g.field===o.field);return f==null?void 0:f.sort},[o,a]),h=(t=o.sortingOrder)!=null?t:c.sortingOrder,v=l.useCallback(f=>{r(f);const g=f.currentTarget.getAttribute("data-value")||null;i.current.sortColumn(o,g===d?null:g)},[i,o,r,d]);if(!o||!o.sortable||!h.some(f=>!!f))return null;const m=f=>{const g=i.current.getLocaleText(f);return typeof g=="function"?g(o):g};return p.jsxs(l.Fragment,{children:[h.includes("asc")&&d!=="asc"?p.jsxs(pn,{onClick:v,"data-value":"asc",children:[p.jsx(Ho,{children:p.jsx(c.slots.columnMenuSortAscendingIcon,{fontSize:"small"})}),p.jsx(ro,{children:m("columnMenuSortAsc")})]}):null,h.includes("desc")&&d!=="desc"?p.jsxs(pn,{onClick:v,"data-value":"desc",children:[p.jsx(Ho,{children:p.jsx(c.slots.columnMenuSortDescendingIcon,{fontSize:"small"})}),p.jsx(ro,{children:m("columnMenuSortDesc")})]}):null,h.includes(null)&&d!=null?p.jsxs(pn,{onClick:v,children:[p.jsx(Ho,{}),p.jsx(ro,{children:i.current.getLocaleText("columnMenuUnsort")})]}):null]})}const i_=["defaultSlots","defaultSlotProps","slots","slotProps"],a_={columnMenuSortItem:s_,columnMenuFilterItem:r_,columnMenuColumnsItem:o_},l_={columnMenuSortItem:{displayOrder:10},columnMenuFilterItem:{displayOrder:20},columnMenuColumnsItem:{displayOrder:30}},c_=l.forwardRef(function(t,o){const{defaultSlots:r,defaultSlotProps:i,slots:a,slotProps:c}=t,d=He(t,i_),h=e_(T({},d,{defaultSlots:r,defaultSlotProps:i,slots:a,slotProps:c}));return p.jsx(Y1,T({ref:o},d,{children:h.map(([v,m],f)=>p.jsx(v,T({},m),f))}))}),u_=l.forwardRef(function(t,o){return p.jsx(c_,T({},t,{ref:o,defaultSlots:a_,defaultSlotProps:l_}))}),d_=["className"],p_=e=>{const{classes:t}=e;return Dt({root:["panelContent"]},Et,t)},h_=Mn("div",{name:"MuiDataGrid",slot:"PanelContent",overridesResolver:(e,t)=>t.panelContent})({display:"flex",flexDirection:"column",overflow:"auto",flex:"1 1",maxHeight:400});function Sm(e){const{className:t}=e,o=He(e,d_),r=We(),i=p_(r);return p.jsx(h_,T({className:Oe(t,i.root),ownerState:r},o))}const m_=["className"],f_=e=>{const{classes:t}=e;return Dt({root:["panelFooter"]},Et,t)},g_=Mn("div",{name:"MuiDataGrid",slot:"PanelFooter",overridesResolver:(e,t)=>t.panelFooter})(({theme:e})=>({padding:e.spacing(.5),display:"flex",justifyContent:"space-between"}));function _m(e){const{className:t}=e,o=He(e,m_),r=We(),i=f_(r);return p.jsx(g_,T({className:Oe(t,i.root),ownerState:r},o))}const v_=["className"],y_=e=>{const{classes:t}=e;return Dt({root:["panelHeader"]},Et,t)},b_=Mn("div",{name:"MuiDataGrid",slot:"PanelHeader",overridesResolver:(e,t)=>t.panelHeader})(({theme:e})=>({padding:e.spacing(1)}));function x_(e){const{className:t}=e,o=He(e,v_),r=We(),i=y_(r);return p.jsx(b_,T({className:Oe(t,i.root),ownerState:r},o))}const C_=["className","slotProps"],w_=e=>{const{classes:t}=e;return Dt({root:["panelWrapper"]},Et,t)},S_=Ee("div",{name:"MuiDataGrid",slot:"PanelWrapper",overridesResolver:(e,t)=>t.panelWrapper})({display:"flex",flexDirection:"column",flex:1,"&:focus":{outline:0}}),__=()=>!0,Pm=l.forwardRef(function(t,o){const{className:r,slotProps:i={}}=t,a=He(t,C_),c=We(),d=w_(c);return p.jsx(zg,T({open:!0,disableEnforceFocus:!0,isEnabled:__},i.TrapFocus,{children:p.jsx(S_,T({ref:o,tabIndex:-1,className:Oe(r,d.root),ownerState:c},a))}))}),P_=!1,I_=["sort","searchPredicate","autoFocusSearchField","disableHideAllButton","disableShowAllButton","getTogglableColumns"],T_=e=>{const{classes:t}=e;return Dt({root:["columnsPanel"],columnsPanelRow:["columnsPanelRow"]},Et,t)},k_=Ee("div",{name:"MuiDataGrid",slot:"ColumnsPanel",overridesResolver:(e,t)=>t.columnsPanel})({padding:"8px 0px 8px 8px"}),M_=Ee("div",{name:"MuiDataGrid",slot:"ColumnsPanelRow",overridesResolver:(e,t)=>t.columnsPanelRow})(({theme:e})=>({display:"flex",justifyContent:"space-between",padding:"1px 8px 1px 7px",[`& .${Rn.root}`]:{marginRight:e.spacing(.5)}}));Ee(mn)({justifyContent:"flex-end"});const Wd=new Intl.Collator,A_=(e,t)=>(e.headerName||e.field).toLowerCase().indexOf(t)>-1;function D_(e){var t,o,r;const i=At(),a=l.useRef(null),c=ze(i,Io),d=ze(i,po),h=We(),[v,m]=l.useState(""),f=T_(h),{sort:g,searchPredicate:b=A_,autoFocusSearchField:x=!0,disableHideAllButton:w=!1,disableShowAllButton:C=!1,getTogglableColumns:_}=e,P=He(e,I_),R=l.useMemo(()=>{switch(g){case"asc":return[...c].sort(($,H)=>Wd.compare($.headerName||$.field,H.headerName||H.field));case"desc":return[...c].sort(($,H)=>-Wd.compare($.headerName||$.field,H.headerName||H.field));default:return c}},[c,g]),D=$=>{const{name:H}=$.target;i.current.setColumnVisibility(H,d[H]===!1)},V=l.useCallback($=>{const H=po(i),B=T({},H),I=_?_(c):null;return c.forEach(M=>{M.hideable&&(I==null||I.includes(M.field))&&($?delete B[M.field]:B[M.field]=!1)}),i.current.setColumnVisibilityModel(B)},[i,c,_]),A=l.useCallback($=>{m($.target.value)},[]),k=l.useMemo(()=>{const $=_?_(R):null,H=$?R.filter(({field:B})=>$.includes(B)):R;return v?H.filter(B=>b(B,v.toLowerCase())):H},[R,v,b,_]),F=l.useRef(null);l.useEffect(()=>{x?a.current.focus():F.current&&typeof F.current.focus=="function"&&F.current.focus()},[x]);let z=!1;const O=$=>z===!1&&$.hideable!==!1?(z=!0,!0):!1;return p.jsxs(Pm,T({},P,{children:[p.jsx(x_,{children:p.jsx(h.slots.baseTextField,T({label:i.current.getLocaleText("columnsPanelTextFieldLabel"),placeholder:i.current.getLocaleText("columnsPanelTextFieldPlaceholder"),inputRef:a,value:v,onChange:A,variant:"standard",fullWidth:!0},(t=h.slotProps)==null?void 0:t.baseTextField))}),p.jsx(Sm,{children:p.jsx(k_,{className:f.root,ownerState:h,children:k.map($=>{var H;return p.jsxs(M_,{className:f.columnsPanelRow,ownerState:h,children:[p.jsx(hh,{control:p.jsx(h.slots.baseSwitch,T({disabled:$.hideable===!1,checked:d[$.field]!==!1,onClick:D,name:$.field,size:"small",inputRef:O($)?F:void 0},(H=h.slotProps)==null?void 0:H.baseSwitch)),label:$.headerName||$.field}),!h.disableColumnReorder&&P_]},$.field)})})}),C&&w?null:p.jsxs(_m,{children:[w?p.jsx("span",{}):p.jsx(h.slots.baseButton,T({onClick:()=>V(!1)},(o=h.slotProps)==null?void 0:o.baseButton,{disabled:w,children:i.current.getLocaleText("columnsPanelHideAllButton")})),C?null:p.jsx(h.slots.baseButton,T({onClick:()=>V(!0)},(r=h.slotProps)==null?void 0:r.baseButton,{disabled:C,children:i.current.getLocaleText("columnsPanelShowAllButton")}))]})]}))}const E_=["children","className","classes"],R_=Lh("MuiDataGrid",["panel","paper"]),L_=Ee(hs,{name:"MuiDataGrid",slot:"Panel",overridesResolver:(e,t)=>t.panel})(({theme:e})=>({zIndex:e.zIndex.modal})),F_=Ee(Nt,{name:"MuiDataGrid",slot:"Paper",overridesResolver:(e,t)=>t.paper})(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,minWidth:300,maxHeight:450,display:"flex"})),O_=l.forwardRef((e,t)=>{const{children:o,className:r}=e,i=He(e,E_),a=At(),c=We(),d=R_,[h,v]=l.useState(!1),m=l.useCallback(()=>{a.current.hidePreferences()},[a]),f=l.useCallback(w=>{ia(w.key)&&a.current.hidePreferences()},[a]),g=l.useMemo(()=>[{name:"flip",enabled:!0,options:{rootBoundary:"document"}},{name:"isPlaced",enabled:!0,phase:"main",fn:()=>{v(!0)},effect:()=>()=>{v(!1)}}],[]),[b,x]=l.useState(null);return l.useEffect(()=>{var w;const C=(w=a.current.rootElementRef)==null||(w=w.current)==null?void 0:w.querySelector(`.${Y.columnHeaders}`);C&&x(C)},[a]),b?p.jsx(L_,T({ref:t,placement:"bottom-start",className:Oe(r,d.panel),ownerState:c,anchorEl:b,modifiers:g},i,{children:p.jsx(yc,{mouseEvent:"onMouseUp",onClickAway:m,children:p.jsx(F_,{className:d.paper,ownerState:c,elevation:8,onKeyDown:f,children:h&&o})})})):null}),N_=l.forwardRef(function(t,o){var r,i,a;const c=At(),d=ze(c,Io),h=We(),v=ze(c,Ks),m=c.current.unstable_applyPipeProcessors("preferencePanel",null,(r=v.openedPanelValue)!=null?r:Ar.filters);return p.jsx(h.slots.panel,T({ref:o,as:h.slots.basePopper,open:d.length>0&&v.open,id:v.panelId,"aria-labelledby":v.labelId},(i=h.slotProps)==null?void 0:i.panel,t,(a=h.slotProps)==null?void 0:a.basePopper,{children:m}))}),z_=["item","hasMultipleFilters","deleteFilter","applyFilterChanges","multiFilterOperator","showMultiFilterOperators","disableMultiFilterOperator","applyMultiFilterOperatorChanges","focusElementRef","logicOperators","columnsSort","filterColumns","deleteIconProps","logicOperatorInputProps","operatorInputProps","columnInputProps","valueInputProps","children"],$_=["InputComponentProps"],j_=e=>{const{classes:t}=e;return Dt({root:["filterForm"],deleteIcon:["filterFormDeleteIcon"],logicOperatorInput:["filterFormLogicOperatorInput"],columnInput:["filterFormColumnInput"],operatorInput:["filterFormOperatorInput"],valueInput:["filterFormValueInput"]},Et,t)},B_=Ee("div",{name:"MuiDataGrid",slot:"FilterForm",overridesResolver:(e,t)=>t.filterForm})(({theme:e})=>({display:"flex",padding:e.spacing(1)})),H_=Ee("div",{name:"MuiDataGrid",slot:"FilterFormDeleteIcon",overridesResolver:(e,t)=>t.filterFormDeleteIcon})(({theme:e})=>({flexShrink:0,justifyContent:"flex-end",marginRight:e.spacing(.5),marginBottom:e.spacing(.2)})),G_=Ee("div",{name:"MuiDataGrid",slot:"FilterFormLogicOperatorInput",overridesResolver:(e,t)=>t.filterFormLogicOperatorInput})({minWidth:55,marginRight:5,justifyContent:"end"}),V_=Ee("div",{name:"MuiDataGrid",slot:"FilterFormColumnInput",overridesResolver:(e,t)=>t.filterFormColumnInput})({width:150}),W_=Ee("div",{name:"MuiDataGrid",slot:"FilterFormOperatorInput",overridesResolver:(e,t)=>t.filterFormOperatorInput})({width:120}),Z_=Ee("div",{name:"MuiDataGrid",slot:"FilterFormValueInput",overridesResolver:(e,t)=>t.filterFormValueInput})({width:190}),U_=e=>{switch(e){case Bn.And:return"filterPanelOperatorAnd";case Bn.Or:return"filterPanelOperatorOr";default:throw new Error("MUI: Invalid `logicOperator` property in the `GridFilterPanel`.")}},Is=e=>e.headerName||e.field,Zd=new Intl.Collator,K_=l.forwardRef(function(t,o){var r,i,a,c,d,h,v,m,f,g;const{item:b,hasMultipleFilters:x,deleteFilter:w,applyFilterChanges:C,multiFilterOperator:_,showMultiFilterOperators:P,disableMultiFilterOperator:R,applyMultiFilterOperatorChanges:D,focusElementRef:V,logicOperators:A=[Bn.And,Bn.Or],columnsSort:k,filterColumns:F,deleteIconProps:z={},logicOperatorInputProps:O={},operatorInputProps:$={},columnInputProps:H={},valueInputProps:B={}}=t,I=He(t,z_),M=At(),j=ze(M,Bh),W=ze(M,Sn),E=bn(),G=bn(),Z=bn(),q=bn(),te=We(),J=j_(te),oe=l.useRef(null),X=l.useRef(null),U=x&&A.length>0,ne=((r=te.slotProps)==null?void 0:r.baseFormControl)||{},ve=(a=(((i=te.slotProps)==null?void 0:i.baseSelect)||{}).native)!=null?a:!0,fe=((c=te.slotProps)==null?void 0:c.baseInputLabel)||{},ke=((d=te.slotProps)==null?void 0:d.baseSelectOption)||{},{InputComponentProps:_e}=B,le=He(B,$_),ye=l.useMemo(()=>{if(F===void 0||typeof F!="function")return j;const Ne=F({field:b.field,columns:j,currentFilters:(W==null?void 0:W.items)||[]});return j.filter(be=>Ne.includes(be.field))},[F,W==null?void 0:W.items,j,b.field]),Te=l.useMemo(()=>{switch(k){case"asc":return ye.sort((Ne,be)=>Zd.compare(Is(Ne),Is(be)));case"desc":return ye.sort((Ne,be)=>-Zd.compare(Is(Ne),Is(be)));default:return ye}},[ye,k]),De=b.field?M.current.getColumn(b.field):null,ie=l.useMemo(()=>{var Ne;return!b.operator||!De?null:(Ne=De.filterOperators)==null?void 0:Ne.find(be=>be.value===b.operator)},[b,De]),Pe=l.useCallback(Ne=>{const be=Ne.target.value,Ie=M.current.getColumn(be);if(Ie.field===De.field)return;const Le=Ie.filterOperators.find(Qe=>Qe.value===b.operator)||Ie.filterOperators[0],Ve=!Le.InputComponent||Le.InputComponent!==(ie==null?void 0:ie.InputComponent)||Ie.type!==De.type;C(T({},b,{field:be,operator:Le.value,value:Ve?void 0:b.value}))},[M,C,b,De,ie]),Me=l.useCallback(Ne=>{const be=Ne.target.value,Ie=De==null?void 0:De.filterOperators.find(Ve=>Ve.value===be),Le=!(Ie!=null&&Ie.InputComponent)||(Ie==null?void 0:Ie.InputComponent)!==(ie==null?void 0:ie.InputComponent);C(T({},b,{operator:be,value:Le?void 0:b.value}))},[C,b,De,ie]),$e=l.useCallback(Ne=>{const be=Ne.target.value===Bn.And.toString()?Bn.And:Bn.Or;D(be)},[D]),Ke=()=>{te.disableMultipleColumnsFiltering?b.value===void 0?w(b):C(T({},b,{value:void 0})):w(b)};return l.useImperativeHandle(V,()=>({focus:()=>{if(ie!=null&&ie.InputComponent){var Ne;oe==null||(Ne=oe.current)==null||Ne.focus()}else X.current.focus()}}),[ie]),p.jsxs(B_,T({ref:o,className:J.root,"data-id":b.id,ownerState:te},I,{children:[p.jsx(H_,T({variant:"standard",as:te.slots.baseFormControl},ne,z,{className:Oe(J.deleteIcon,ne.className,z.className),ownerState:te,children:p.jsx(te.slots.baseIconButton,T({"aria-label":M.current.getLocaleText("filterPanelDeleteIconLabel"),title:M.current.getLocaleText("filterPanelDeleteIconLabel"),onClick:Ke,size:"small"},(h=te.slotProps)==null?void 0:h.baseIconButton,{children:p.jsx(te.slots.filterPanelDeleteIcon,{fontSize:"small"})}))})),p.jsx(G_,T({variant:"standard",as:te.slots.baseFormControl},ne,O,{sx:T({display:U?"flex":"none",visibility:P?"visible":"hidden"},ne.sx||{},O.sx||{}),className:Oe(J.logicOperatorInput,ne.className,O.className),ownerState:te,children:p.jsx(te.slots.baseSelect,T({inputProps:{"aria-label":M.current.getLocaleText("filterPanelLogicOperator")},value:_,onChange:$e,disabled:!!R||A.length===1,native:ve},(v=te.slotProps)==null?void 0:v.baseSelect,{children:A.map(Ne=>l.createElement(te.slots.baseSelectOption,T({},ke,{native:ve,key:Ne.toString(),value:Ne.toString()}),M.current.getLocaleText(U_(Ne))))}))})),p.jsxs(V_,T({variant:"standard",as:te.slots.baseFormControl},ne,H,{className:Oe(J.columnInput,ne.className,H.className),ownerState:te,children:[p.jsx(te.slots.baseInputLabel,T({},fe,{htmlFor:E,id:G,children:M.current.getLocaleText("filterPanelColumns")})),p.jsx(te.slots.baseSelect,T({labelId:G,id:E,label:M.current.getLocaleText("filterPanelColumns"),value:b.field||"",onChange:Pe,native:ve},(m=te.slotProps)==null?void 0:m.baseSelect,{children:Te.map(Ne=>l.createElement(te.slots.baseSelectOption,T({},ke,{native:ve,key:Ne.field,value:Ne.field}),Is(Ne)))}))]})),p.jsxs(W_,T({variant:"standard",as:te.slots.baseFormControl},ne,$,{className:Oe(J.operatorInput,ne.className,$.className),ownerState:te,children:[p.jsx(te.slots.baseInputLabel,T({},fe,{htmlFor:Z,id:q,children:M.current.getLocaleText("filterPanelOperator")})),p.jsx(te.slots.baseSelect,T({labelId:q,label:M.current.getLocaleText("filterPanelOperator"),id:Z,value:b.operator,onChange:Me,native:ve,inputRef:X},(f=te.slotProps)==null?void 0:f.baseSelect,{children:De==null||(g=De.filterOperators)==null?void 0:g.map(Ne=>l.createElement(te.slots.baseSelectOption,T({},ke,{native:ve,key:Ne.value,value:Ne.value}),Ne.label||M.current.getLocaleText(`filterOperator${Vo(Ne.value)}`)))}))]})),p.jsx(Z_,T({variant:"standard",as:te.slots.baseFormControl},ne,le,{className:Oe(J.valueInput,ne.className,le.className),ownerState:te,children:ie!=null&&ie.InputComponent?p.jsx(ie.InputComponent,T({apiRef:M,item:b,applyValue:C,focusElementRef:oe},ie.InputComponentProps,_e)):null}))]}))});class Vc{constructor(){this.currentId=0,this.clear=()=>{this.currentId!==0&&(clearTimeout(this.currentId),this.currentId=0)},this.disposeEffect=()=>this.clear}static create(){return new Vc}start(t,o){this.clear(),this.currentId=setTimeout(o,t)}}function Wc(){const e=Pc(Vc.create).current;return Oh(e.disposeEffect),e}const J_=["item","applyValue","type","apiRef","focusElementRef","tabIndex","disabled","isFilterActive","clearButton","InputProps","variant"];function So(e){var t,o;const{item:r,applyValue:i,type:a,apiRef:c,focusElementRef:d,tabIndex:h,disabled:v,clearButton:m,InputProps:f,variant:g="standard"}=e,b=He(e,J_),x=Wc(),[w,C]=l.useState((t=r.value)!=null?t:""),[_,P]=l.useState(!1),R=bn(),D=We(),V=l.useCallback(A=>{const{value:k}=A.target;C(String(k)),P(!0),x.start(D.filterDebounceMs,()=>{const F=T({},r,{value:k,fromInput:R});i(F),P(!1)})},[R,i,r,D.filterDebounceMs,x]);return l.useEffect(()=>{if(r.fromInput!==R||r.value===void 0){var k;C(String((k=r.value)!=null?k:""))}},[R,r]),p.jsx(D.slots.baseTextField,T({id:R,label:c.current.getLocaleText("filterPanelInputLabel"),placeholder:c.current.getLocaleText("filterPanelInputPlaceholder"),value:w,onChange:V,variant:g,type:a||"text",InputProps:T({},_||m?{endAdornment:_?p.jsx(D.slots.loadIcon,{fontSize:"small",color:"action"}):m}:{},{disabled:v},f,{inputProps:T({tabIndex:h},f==null?void 0:f.inputProps)}),InputLabelProps:{shrink:!0},inputRef:d},b,(o=D.slotProps)==null?void 0:o.baseTextField))}const q_=["item","applyValue","type","apiRef","focusElementRef","InputProps","isFilterActive","clearButton","tabIndex","disabled"];function Kr(e){var t,o;const{item:r,applyValue:i,type:a,apiRef:c,focusElementRef:d,InputProps:h,clearButton:v,tabIndex:m,disabled:f}=e,g=He(e,q_),b=Wc(),[x,w]=l.useState((t=r.value)!=null?t:""),[C,_]=l.useState(!1),P=bn(),R=We(),D=l.useCallback(V=>{const A=V.target.value;w(String(A)),_(!0),b.start(R.filterDebounceMs,()=>{i(T({},r,{value:A})),_(!1)})},[i,r,R.filterDebounceMs,b]);return l.useEffect(()=>{var V;const A=(V=r.value)!=null?V:"";w(String(A))},[r.value]),p.jsx(R.slots.baseTextField,T({fullWidth:!0,id:P,label:c.current.getLocaleText("filterPanelInputLabel"),placeholder:c.current.getLocaleText("filterPanelInputPlaceholder"),value:x,onChange:D,variant:"standard",type:a||"text",InputLabelProps:{shrink:!0},inputRef:d,InputProps:T({},C||v?{endAdornment:C?p.jsx(R.slots.loadIcon,{fontSize:"small",color:"action"}):v}:{},{disabled:f},h,{inputProps:T({max:a==="datetime-local"?"9999-12-31T23:59":"9999-12-31",tabIndex:m},h==null?void 0:h.inputProps)})},g,(o=R.slotProps)==null?void 0:o.baseTextField))}const X_=["item","applyValue","type","apiRef","focusElementRef","getOptionLabel","getOptionValue","placeholder","tabIndex","label","variant","isFilterActive","clearButton","InputLabelProps"],Y_=({column:{valueOptions:e,field:t},OptionComponent:o,getOptionLabel:r,getOptionValue:i,isSelectNative:a,baseSelectOptionProps:c})=>(typeof e=="function"?["",...e({field:t})]:["",...e||[]]).map(h=>{const v=i(h),m=r(h);return l.createElement(o,T({},c,{native:a,key:v,value:v}),m)}),Q_=Ee("div")({display:"flex",alignItems:"flex-end",width:"100%","& button":{margin:"auto 0px 5px 5px"}});function Ud(e){var t,o,r,i,a,c,d,h;const{item:v,applyValue:m,type:f,apiRef:g,focusElementRef:b,getOptionLabel:x,getOptionValue:w,placeholder:C,tabIndex:_,label:P,variant:R="standard",clearButton:D}=e,V=He(e,X_),[A,k]=l.useState((t=v.value)!=null?t:""),F=bn(),z=bn(),O=We(),$=(o=(r=O.slotProps)==null||(r=r.baseSelect)==null?void 0:r.native)!=null?o:!0;let H=null;if(v.field){const E=g.current.getColumn(v.field);Tr(E)&&(H=E)}const B=w||((i=H)==null?void 0:i.getOptionValue),I=x||((a=H)==null?void 0:a.getOptionLabel),M=l.useMemo(()=>{if(H)return typeof H.valueOptions=="function"?H.valueOptions({field:H.field}):H.valueOptions},[H]),j=l.useCallback(E=>{let G=E.target.value;G=ql(G,M,B),k(String(G)),m(T({},v,{value:G}))},[M,B,m,v]);if(l.useEffect(()=>{var E;let G;if(M!==void 0){if(G=ql(v.value,M,B),G!==v.value){m(T({},v,{value:G}));return}}else G=v.value;G=(E=G)!=null?E:"",k(String(G))},[v,M,m,B]),!Tr(H)||!Tr(H))return null;const W=P??g.current.getLocaleText("filterPanelInputLabel");return p.jsxs(Q_,{children:[p.jsxs(O.slots.baseFormControl,{children:[p.jsx(O.slots.baseInputLabel,T({},(c=O.slotProps)==null?void 0:c.baseInputLabel,{id:z,htmlFor:F,shrink:!0,variant:R,children:W})),p.jsx(O.slots.baseSelect,T({id:F,label:W,labelId:z,value:A,onChange:j,variant:R,type:f||"text",inputProps:{tabIndex:_,ref:b,placeholder:C??g.current.getLocaleText("filterPanelInputPlaceholder")},native:$,notched:R==="outlined"?!0:void 0},V,(d=O.slotProps)==null?void 0:d.baseSelect,{children:Y_({column:H,OptionComponent:O.slots.baseSelectOption,getOptionLabel:I,getOptionValue:B,isSelectNative:$,baseSelectOptionProps:(h=O.slotProps)==null?void 0:h.baseSelectOption})}))]}),D]})}const eP=["item","applyValue","apiRef","focusElementRef","isFilterActive","clearButton","tabIndex","label","variant","InputLabelProps"],tP=Ee("div")({display:"flex",alignItems:"center",width:"100%","& button":{margin:"auto 0px 5px 5px"}});function nP(e){var t,o,r,i;const{item:a,applyValue:c,apiRef:d,focusElementRef:h,clearButton:v,tabIndex:m,label:f,variant:g="standard"}=e,b=He(e,eP),[x,w]=l.useState(a.value||""),C=We(),_=bn(),P=bn(),R=((t=C.slotProps)==null?void 0:t.baseSelect)||{},D=(o=R.native)!=null?o:!0,V=((r=C.slotProps)==null?void 0:r.baseSelectOption)||{},A=l.useCallback(F=>{const z=F.target.value;w(z),c(T({},a,{value:z}))},[c,a]);l.useEffect(()=>{w(a.value||"")},[a.value]);const k=f??d.current.getLocaleText("filterPanelInputLabel");return p.jsxs(tP,{children:[p.jsxs(C.slots.baseFormControl,{fullWidth:!0,children:[p.jsx(C.slots.baseInputLabel,T({},(i=C.slotProps)==null?void 0:i.baseInputLabel,{id:_,shrink:!0,variant:g,children:k})),p.jsxs(C.slots.baseSelect,T({labelId:_,id:P,label:k,value:x,onChange:A,variant:g,notched:g==="outlined"?!0:void 0,native:D,displayEmpty:!0,inputProps:{ref:h,tabIndex:m}},b,R,{children:[p.jsx(C.slots.baseSelectOption,T({},V,{native:D,value:"",children:d.current.getLocaleText("filterValueAny")})),p.jsx(C.slots.baseSelectOption,T({},V,{native:D,value:"true",children:d.current.getLocaleText("filterValueTrue")})),p.jsx(C.slots.baseSelectOption,T({},V,{native:D,value:"false",children:d.current.getLocaleText("filterValueFalse")}))]}))]}),v]})}const oP=["logicOperators","columnsSort","filterFormProps","getColumnForNewFilter","children","disableAddFilterButton","disableRemoveAllButton"],Kd=e=>({field:e.field,operator:e.filterOperators[0].value,id:Math.round(Math.random()*1e5)}),rP=l.forwardRef(function(t,o){var r,i;const a=At(),c=We(),d=ze(a,Sn),h=ze(a,Bh),v=l.useRef(null),m=l.useRef(null),{logicOperators:f=[Bn.And,Bn.Or],columnsSort:g,filterFormProps:b,getColumnForNewFilter:x,disableAddFilterButton:w=!1,disableRemoveAllButton:C=!1}=t,_=He(t,oP),P=a.current.upsertFilterItem,R=l.useCallback($=>{a.current.setFilterLogicOperator($)},[a]),D=l.useCallback(()=>{let $;if(x&&typeof x=="function"){const H=x({currentFilters:(d==null?void 0:d.items)||[],columns:h});if(H===null)return null;$=h.find(({field:B})=>B===H)}else $=h.find(H=>{var B;return(B=H.filterOperators)==null?void 0:B.length});return $?Kd($):null},[d==null?void 0:d.items,h,x]),V=l.useCallback(()=>{if(x===void 0||typeof x!="function")return D();const $=d.items.length?d.items:[D()].filter(Boolean),H=x({currentFilters:$,columns:h});if(H===null)return null;const B=h.find(({field:I})=>I===H);return B?Kd(B):null},[d.items,h,x,D]),A=l.useMemo(()=>d.items.length?d.items:(m.current||(m.current=D()),m.current?[m.current]:[]),[d.items,D]),k=A.length>1,F=()=>{const $=V();$&&a.current.upsertFilterItems([...A,$])},z=l.useCallback($=>{const H=A.length===1;a.current.deleteFilterItem($),H&&a.current.hideFilterPanel()},[a,A.length]),O=()=>{A.length===1&&A[0].value===void 0&&(a.current.deleteFilterItem(A[0]),a.current.hideFilterPanel()),a.current.setFilterModel(T({},d,{items:[]}))};return l.useEffect(()=>{f.length>0&&d.logicOperator&&!f.includes(d.logicOperator)&&R(f[0])},[f,R,d.logicOperator]),l.useEffect(()=>{A.length>0&&v.current.focus()},[A.length]),p.jsxs(Pm,T({ref:o},_,{children:[p.jsx(Sm,{children:A.map(($,H)=>p.jsx(K_,T({item:$,applyFilterChanges:P,deleteFilter:z,hasMultipleFilters:k,showMultiFilterOperators:H>0,multiFilterOperator:d.logicOperator,disableMultiFilterOperator:H!==1,applyMultiFilterOperatorChanges:R,focusElementRef:H===A.length-1?v:null,logicOperators:f,columnsSort:g},b),$.id==null?H:$.id))}),!c.disableMultipleColumnsFiltering&&!(w&&C)?p.jsxs(_m,{children:[w?p.jsx("span",{}):p.jsx(c.slots.baseButton,T({onClick:F,startIcon:p.jsx(c.slots.filterPanelAddIcon,{})},(r=c.slotProps)==null?void 0:r.baseButton,{children:a.current.getLocaleText("filterPanelAddFilter")})),C?null:p.jsx(c.slots.baseButton,T({onClick:O,startIcon:p.jsx(c.slots.filterPanelRemoveAllIcon,{})},(i=c.slotProps)==null?void 0:i.baseButton,{children:a.current.getLocaleText("filterPanelRemoveAll")}))]}):null]}))}),sP=["item","applyValue","type","apiRef","focusElementRef","color","error","helperText","size","variant"];function Im(e){const{item:t,applyValue:o,type:r,apiRef:i,focusElementRef:a,color:c,error:d,helperText:h,size:v,variant:m}=e,f=He(e,sP),g={color:c,error:d,helperText:h,size:v,variant:m},[b,x]=l.useState(t.value||[]),w=bn(),C=We();l.useEffect(()=>{var P;const R=(P=t.value)!=null?P:[];x(R.map(String))},[t.value]);const _=l.useCallback((P,R)=>{x(R.map(String)),o(T({},t,{value:[...R]}))},[o,t]);return p.jsx(ei,T({multiple:!0,freeSolo:!0,options:[],filterOptions:(P,R)=>{const{inputValue:D}=R;return D==null||D===""?[]:[D]},id:w,value:b,onChange:_,renderTags:(P,R)=>P.map((D,V)=>p.jsx(C.slots.baseChip,T({variant:"outlined",size:"small",label:D},R({index:V})))),renderInput:P=>{var R;return p.jsx(C.slots.baseTextField,T({},P,{label:i.current.getLocaleText("filterPanelInputLabel"),placeholder:i.current.getLocaleText("filterPanelInputPlaceholder"),InputLabelProps:T({},P.InputLabelProps,{shrink:!0}),inputRef:a,type:r||"text"},g,(R=C.slotProps)==null?void 0:R.baseTextField))}},f))}const iP=["item","applyValue","type","apiRef","focusElementRef","color","error","helperText","size","variant","getOptionLabel","getOptionValue"],aP=ih();function lP(e){var t,o;const{item:r,applyValue:i,apiRef:a,focusElementRef:c,color:d,error:h,helperText:v,size:m,variant:f="standard",getOptionLabel:g,getOptionValue:b}=e,x=He(e,iP),w={color:d,error:h,helperText:v,size:m,variant:f},C=bn(),_=We();let P=null;if(r.field){const O=a.current.getColumn(r.field);Tr(O)&&(P=O)}const R=b||((t=P)==null?void 0:t.getOptionValue),D=g||((o=P)==null?void 0:o.getOptionLabel),V=l.useCallback((O,$)=>R(O)===R($),[R]),A=l.useMemo(()=>{var O;return(O=P)!=null&&O.valueOptions?typeof P.valueOptions=="function"?P.valueOptions({field:P.field}):P.valueOptions:[]},[P]),k=l.useMemo(()=>A==null?void 0:A.map(R),[A,R]),F=l.useMemo(()=>Array.isArray(r.value)?A!==void 0?r.value.map($=>k==null?void 0:k.findIndex(H=>H===$)).filter($=>$>=0).map($=>A[$]):r.value:[],[r.value,A,k]);l.useEffect(()=>{(!Array.isArray(r.value)||F.length!==r.value.length)&&i(T({},r,{value:F.map(R)}))},[r,F,i,R]);const z=l.useCallback((O,$)=>{i(T({},r,{value:$.map(R)}))},[i,r,R]);return p.jsx(ei,T({multiple:!0,options:A,isOptionEqualToValue:V,filterOptions:aP,id:C,value:F,onChange:z,getOptionLabel:D,renderTags:(O,$)=>O.map((H,B)=>p.jsx(_.slots.baseChip,T({variant:"outlined",size:"small",label:D(H)},$({index:B})))),renderInput:O=>{var $;return p.jsx(_.slots.baseTextField,T({},O,{label:a.current.getLocaleText("filterPanelInputLabel"),placeholder:a.current.getLocaleText("filterPanelInputPlaceholder"),InputLabelProps:T({},O.InputLabelProps,{shrink:!0}),inputRef:c,type:"singleSelect"},w,($=_.slotProps)==null?void 0:$.baseTextField))}},x))}const cP=["hideMenu","options"],uP=["hideMenu","options"];function dP(e){const t=At(),{hideMenu:o,options:r}=e,i=He(e,cP);return p.jsx(pn,T({onClick:()=>{t.current.exportDataAsCsv(r),o==null||o()}},i,{children:t.current.getLocaleText("toolbarExportCSV")}))}function pP(e){const t=At(),{hideMenu:o,options:r}=e,i=He(e,uP);return p.jsx(pn,T({onClick:()=>{t.current.exportDataAsPrint(r),o==null||o()}},i,{children:t.current.getLocaleText("toolbarExportPrint")}))}const hP=["className","selectedRowCount"],mP=e=>{const{classes:t}=e;return Dt({root:["selectedRowCount"]},Et,t)},fP=Mn("div",{name:"MuiDataGrid",slot:"SelectedRowCount",overridesResolver:(e,t)=>t.selectedRowCount})(({theme:e})=>({alignItems:"center",display:"flex",margin:e.spacing(0,2),visibility:"hidden",width:0,height:0,[e.breakpoints.up("sm")]:{visibility:"visible",width:"auto",height:"auto"}})),gP=l.forwardRef(function(t,o){const{className:r,selectedRowCount:i}=t,a=He(t,hP),c=At(),d=We(),h=mP(d),v=c.current.getLocaleText("footerRowSelected")(i);return p.jsx(fP,T({ref:o,className:Oe(h.root,r),ownerState:d},a,{children:v}))}),vP=l.forwardRef(function(t,o){var r,i;const a=At(),c=We(),d=ze(a,BC),h=ze(a,u1),v=ze(a,Kh),m=!c.hideFooterSelectedRowCount&&h>0?p.jsx(gP,{selectedRowCount:h}):p.jsx("div",{}),f=!c.hideFooterRowCount&&!c.pagination?p.jsx(c.slots.footerRowCount,T({},(r=c.slotProps)==null?void 0:r.footerRowCount,{rowCount:d,visibleRowCount:v})):null,g=c.pagination&&!c.hideFooterPagination&&c.slots.pagination&&p.jsx(c.slots.pagination,T({},(i=c.slotProps)==null?void 0:i.pagination));return p.jsxs(CS,T({ref:o},t,{children:[m,f,g]}))});function yP(){var e,t;const o=We();return p.jsxs(l.Fragment,{children:[p.jsx(o.slots.preferencesPanel,T({},(e=o.slotProps)==null?void 0:e.preferencesPanel)),o.slots.toolbar&&p.jsx(o.slots.toolbar,T({},(t=o.slotProps)==null?void 0:t.toolbar))]})}const bP=l.forwardRef(function(t,o){return p.jsx($c,T({ref:o},t,{children:p.jsx(Oi,{})}))}),xP=l.forwardRef(function(t,o){const i=At().current.getLocaleText("noRowsLabel");return p.jsx($c,T({ref:o},t,{children:i}))}),CP=Ee(d0)(({theme:e})=>({[`& .${Pr.selectLabel}`]:{display:"none",[e.breakpoints.up("sm")]:{display:"block"}},[`& .${Pr.input}`]:{display:"none",[e.breakpoints.up("sm")]:{display:"inline-flex"}}})),wP=l.forwardRef(function(t,o){const r=At(),i=We(),a=ze(r,to),c=ze(r,ts),d=l.useMemo(()=>Math.floor(c/(a.pageSize||1)),[c,a.pageSize]),h=l.useCallback(g=>{const b=Number(g.target.value);r.current.setPageSize(b)},[r]),v=l.useCallback((g,b)=>{r.current.setPage(b)},[r]),f=(g=>{for(let b=0;b<i.pageSizeOptions.length;b+=1){const x=i.pageSizeOptions[b];if(typeof x=="number"){if(x===g)return!0}else if(x.value===g)return!0}return!1})(a.pageSize)?i.pageSizeOptions:[];return p.jsx(CP,T({ref:o,component:"div",count:c,page:a.page<=d?a.page:d,rowsPerPageOptions:f,rowsPerPage:a.pageSize,onPageChange:v,onRowsPerPageChange:h},r.current.getLocaleText("MuiTablePagination"),t))}),SP=["className","rowCount","visibleRowCount"],_P=e=>{const{classes:t}=e;return Dt({root:["rowCount"]},Et,t)},PP=Mn("div",{name:"MuiDataGrid",slot:"RowCount",overridesResolver:(e,t)=>t.rowCount})(({theme:e})=>({alignItems:"center",display:"flex",margin:e.spacing(0,2)})),IP=l.forwardRef(function(t,o){const{className:r,rowCount:i,visibleRowCount:a}=t,c=He(t,SP),d=At(),h=We(),v=_P(h);if(i===0)return null;const m=a<i?d.current.getLocaleText("footerTotalVisibleRows")(a,i):i.toLocaleString();return p.jsxs(PP,T({ref:o,className:Oe(v.root,r),ownerState:h},c,{children:[d.current.getLocaleText("footerTotalRows")," ",m]}))}),ca=(e,t)=>{let o,r;return t.pagination&&t.paginationMode==="client"?(r=Hc(e),o=c1(e)):(o=ur(e),o.length===0?r=null:r={firstRowIndex:0,lastRowIndex:o.length-1}),{rows:o,range:r}},Lr=(e,t)=>{const o=ca(e,t);return l.useMemo(()=>({rows:o.rows,range:o.range}),[o.rows,o.range])},Xl={current:null};function li(e){return e.isInternal=!0,e}function ua(e){return e!==void 0&&e.isInternal===!0}function TP(e){return li((t,o)=>{const r=e(t,o);return r&&(i=>r(i.value,i.row,o,Xl.current))})}function ci(e){return e.map(t=>T({},t,{getApplyFilterFn:TP(t.getApplyFilterFnV7),getApplyFilterFnV7:li(t.getApplyFilterFnV7)}))}function Tm(e){return li((t,o,r)=>{const i=e(t,o,r);return i&&(a=>i(a.value,a.row,o,r))})}function km(e){return{current:e.current.getPublicApi()}}let Ts;function kP(){if(Ts!==void 0)return Ts;try{Ts=new Function("return true")()}catch{Ts=!1}return Ts}const Yl=(e,t)=>{const o=T({},e);if(o.id==null&&(o.id=Math.round(Math.random()*1e5)),o.operator==null){const r=ms(t)[o.field];o.operator=r&&r.filterOperators[0].value}return o},MP=Mo(["MUI: The `filterModel` can only contain a single item when the `disableMultipleColumnsFiltering` prop is set to `true`.","If you are using the community version of the `DataGrid`, this prop is always `true`."],"error"),AP=Mo("MUI: The `id` field is required on `filterModel.items` when you use multiple filters.","error"),DP=Mo("MUI: The `operator` field is required on `filterModel.items`, one or more of your filtering item has no `operator` provided.","error"),Mm=(e,t,o)=>{const r=e.items.length>1;let i;r&&t?(MP(),i=[e.items[0]]):i=e.items;const a=r&&i.some(d=>d.id==null),c=i.some(d=>d.operator==null);return a&&AP(),c&&DP(),c||a?T({},e,{items:i.map(d=>Yl(d,o))}):e.items!==i?T({},e,{items:i}):e},Jd=(e,t,o)=>r=>T({},r,{filterModel:Mm(e,t,o)}),ar=e=>typeof e=="string"?e.normalize("NFD").replace(/[\u0300-\u036f]/g,""):e,Am=(e,t)=>{if(!e.field||!e.operator)return null;const o=t.current.getColumn(e.field);if(!o)return null;let r;if(o.valueParser){var i;const b=o.valueParser;r=Array.isArray(e.value)?(i=e.value)==null?void 0:i.map(x=>b(x)):b(e.value)}else r=e.value;const{ignoreDiacritics:a}=t.current.rootProps;a&&(r=ar(r));const c=T({},e,{value:r}),d=o.filterOperators;if(!(d!=null&&d.length))throw new Error(`MUI: No filter operators found for column '${o.field}'.`);const h=d.find(b=>b.value===c.operator);if(!h)throw new Error(`MUI: No filter operator found for column '${o.field}' and operator value '${c.operator}'.`);const v=!ua(h.getApplyFilterFn),m=!ua(h.getApplyFilterFnV7),f=km(t);if(h.getApplyFilterFnV7&&!(v&&!m)){const b=h.getApplyFilterFnV7(c,o);return typeof b!="function"?null:{v7:!0,item:c,fn:x=>{let w=t.current.getRowValue(x,o);return a&&(w=ar(w)),b(w,x,o,f)}}}const g=h.getApplyFilterFn(c,o);return typeof g!="function"?null:{v7:!1,item:c,fn:b=>{const x=t.current.getCellParams(b,c.field);Xl.current=f,a&&(x.value=ar(x.value));const w=g(x);return Xl.current=null,w}}};let qd=1;const EP=(e,t,o)=>{const{items:r}=e,i=r.map(d=>Am(d,t)).filter(d=>!!d);if(i.length===0)return null;if(o||!kP())return(d,h)=>{const v={};for(let m=0;m<i.length;m+=1){const f=i[m];(!h||h(f.item.field))&&(v[f.item.id]=f.v7?f.fn(d):f.fn(t.current.getRowId(d)))}return v};const a=new Function("getRowId","appliers","row","shouldApplyFilter",`"use strict";
${i.map((d,h)=>`const shouldApply${h} = !shouldApplyFilter || shouldApplyFilter(${JSON.stringify(d.item.field)});`).join(`
`)}

const result$$ = {
${i.map((d,h)=>`  ${JSON.stringify(String(d.item.id))}: !shouldApply${h}
    ? false
    : ${d.v7?`appliers[${h}].fn(row)`:`appliers[${h}].fn(getRowId(row))`},`).join(`
`)}
};

return result$$;`.replaceAll("$$",String(qd)));return qd+=1,(d,h)=>a(t.current.getRowId,i,d,h)},RP=(e,t)=>{var o,r,i;const a=(o=(r=e.quickFilterValues)==null?void 0:r.filter(Boolean))!=null?o:[];if(a.length===0)return null;const d=((i=e.quickFilterExcludeHiddenColumns)!=null?i:!1)?Aa(t):Go(t),h=[],{ignoreDiacritics:v}=t.current.rootProps,m=km(t);return d.forEach(f=>{const g=t.current.getColumn(f),b=g==null?void 0:g.getApplyQuickFilterFn,x=g==null?void 0:g.getApplyQuickFilterFnV7,w=!ua(b),C=!ua(x);x&&!(w&&!C)?h.push({column:g,appliers:a.map(_=>{const P=v?ar(_):_;return{v7:!0,fn:x(P,g,m)}})}):b&&h.push({column:g,appliers:a.map(_=>{const P=v?ar(_):_;return{v7:!1,fn:b(P,g,m)}})})}),function(g,b){const x={},w={};e:for(let _=0;_<a.length;_+=1){const P=a[_];for(let R=0;R<h.length;R+=1){const{column:D,appliers:V}=h[R],{field:A}=D;if(b&&!b(A))continue;const k=V[_];let F=t.current.getRowValue(g,D);if(k.fn!==null)if(k.v7){if(v&&(F=ar(F)),k.fn(F,g,D,m)){x[P]=!0;continue e}}else{var C;const z=(C=w[A])!=null?C:t.current.getCellParams(t.current.getRowId(g),A);if(v&&(z.value=ar(z.value)),w[A]=z,k.fn(z)){x[P]=!0;continue e}}}x[P]=!1}return x}},LP=(e,t,o)=>{const r=EP(e,t,o),i=RP(e,t);return function(c,d,h){var v,m;h.passingFilterItems=(v=r==null?void 0:r(c,d))!=null?v:null,h.passingQuickFilterValues=(m=i==null?void 0:i(c,d))!=null?m:null}},Xd=e=>e!=null,FP=(e,t,o)=>(e.cleanedFilterItems||(e.cleanedFilterItems=o.filter(r=>Am(r,t)!==null)),e.cleanedFilterItems),OP=(e,t,o,r,i)=>{const a=FP(i,r,o.items),c=e.filter(Xd),d=t.filter(Xd);if(c.length>0){var h;const m=g=>c.some(b=>b[g.id]);if(((h=o.logicOperator)!=null?h:Us().logicOperator)===Bn.And){if(!a.every(m))return!1}else if(!a.some(m))return!1}if(d.length>0&&o.quickFilterValues!=null){var v;const m=g=>d.some(b=>b[g]);if(((v=o.quickFilterLogicOperator)!=null?v:Us().quickFilterLogicOperator)===Bn.And){if(!o.quickFilterValues.every(m))return!1}else if(!o.quickFilterValues.some(m))return!1}return!0},Yd=li(e=>{if(!e)return null;const t=new RegExp(Bi(e),"i");return(o,r,i,a)=>{let c=a.current.getRowFormattedValue(r,i);return a.current.ignoreDiacritics&&(c=ar(c)),c!=null?t.test(c.toString()):!1}}),NP=(e=!1)=>ci([{value:"contains",getApplyFilterFnV7:t=>{if(!t.value)return null;const o=e?t.value:t.value.trim(),r=new RegExp(Bi(o),"i");return i=>i!=null?r.test(String(i)):!1},InputComponent:So},{value:"equals",getApplyFilterFnV7:t=>{if(!t.value)return null;const o=e?t.value:t.value.trim(),r=new Intl.Collator(void 0,{sensitivity:"base",usage:"search"});return i=>i!=null?r.compare(o,i.toString())===0:!1},InputComponent:So},{value:"startsWith",getApplyFilterFnV7:t=>{if(!t.value)return null;const o=e?t.value:t.value.trim(),r=new RegExp(`^${Bi(o)}.*$`,"i");return i=>i!=null?r.test(i.toString()):!1},InputComponent:So},{value:"endsWith",getApplyFilterFnV7:t=>{if(!t.value)return null;const o=e?t.value:t.value.trim(),r=new RegExp(`.*${Bi(o)}$`,"i");return i=>i!=null?r.test(i.toString()):!1},InputComponent:So},{value:"isEmpty",getApplyFilterFnV7:()=>t=>t===""||t==null,requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFnV7:()=>t=>t!==""&&t!=null,requiresFilterValue:!1},{value:"isAnyOf",getApplyFilterFnV7:t=>{if(!Array.isArray(t.value)||t.value.length===0)return null;const o=e?t.value:t.value.map(i=>i.trim()),r=new Intl.Collator(void 0,{sensitivity:"base",usage:"search"});return i=>i!=null?o.some(a=>r.compare(a,i.toString()||"")===0):!1},InputComponent:Im}]),mo={width:100,minWidth:50,maxWidth:1/0,hideable:!0,sortable:!0,resizable:!0,filterable:!0,groupable:!0,pinnable:!0,aggregable:!0,editable:!1,sortComparator:y1,type:"string",align:"left",filterOperators:NP(),renderEditCell:Vw,getApplyQuickFilterFn:Tm(Yd),getApplyQuickFilterFnV7:Yd},zP=()=>ci([{value:"is",getApplyFilterFnV7:e=>{if(!e.value)return null;const t=e.value==="true";return o=>!!o===t},InputComponent:nP}]);function $P({value:e,api:t}){return e?t.getLocaleText("booleanCellTrueLabel"):t.getLocaleText("booleanCellFalseLabel")}const jP=e=>{switch(e.toLowerCase().trim()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case"null":case"undefined":return!1;default:return}},Dm=T({},mo,{type:"boolean",align:"center",headerAlign:"center",renderCell:Dw,renderEditCell:Fw,sortComparator:ym,valueFormatter:$P,filterOperators:zP(),getApplyQuickFilterFn:void 0,getApplyQuickFilterFnV7:void 0,aggregable:!1,pastedValueParser:e=>jP(e)}),er="__check__",vs=T({},Dm,{field:er,type:"checkboxSelection",width:50,resizable:!1,sortable:!1,filterable:!1,aggregable:!1,disableColumnMenu:!0,disableReorder:!0,disableExport:!0,getApplyQuickFilterFn:void 0,getApplyQuickFilterFnV7:void 0,valueGetter:e=>la(e.api.state,e.api.instanceId)[e.id]!==void 0,renderHeader:e=>p.jsx(E1,T({},e)),renderCell:e=>p.jsx(M1,T({},e))}),Na="actions",BP=T({},mo,{sortable:!1,filterable:!1,aggregable:!1,width:100,align:"center",headerAlign:"center",headerName:"",disableColumnMenu:!0,disableExport:!0,renderCell:cS,getApplyQuickFilterFn:void 0,getApplyQuickFilterFnV7:void 0}),Zc="__detail_panel_toggle__",On=e=>e.editRows,HP=["selected","hovered","rowId","row","index","style","position","rowHeight","className","visibleColumns","renderedColumns","containerWidth","firstColumnToRender","lastColumnToRender","isLastVisible","focusedCellColumnIndexNotInRange","isNotVisible","focusedCell","tabbableCell","onClick","onDoubleClick","onMouseEnter","onMouseLeave","onMouseOut","onMouseOver"],GP=e=>{const{editable:t,editing:o,selected:r,isLastVisible:i,rowHeight:a,classes:c}=e;return Dt({root:["row",r&&"selected",t&&"row--editable",o&&"row--editing",i&&"row--lastVisible",a==="auto"&&"row--dynamicHeight"]},Et,c)};function VP({width:e}){if(!e)return null;const t={width:e};return p.jsx("div",{className:`${Y.cell} ${Y.withBorderColor}`,style:t})}const WP=l.forwardRef(function(t,o){const{selected:r,hovered:i,rowId:a,row:c,index:d,style:h,position:v,rowHeight:m,className:f,visibleColumns:g,renderedColumns:b,containerWidth:x,firstColumnToRender:w,isLastVisible:C=!1,focusedCellColumnIndexNotInRange:_,isNotVisible:P,focusedCell:R,onClick:D,onDoubleClick:V,onMouseEnter:A,onMouseLeave:k,onMouseOut:F,onMouseOver:z}=t,O=He(t,HP),$=At(),H=l.useRef(null),B=We(),I=Lr($,B),M=ze($,Ec),j=ze($,eo),W=ze($,Ra),E=ze($,si),G=ze($,On),Z=Rr(H,o),q=d+E+2,te={selected:r,isLastVisible:C,classes:B.classes,editing:$.current.getRowMode(a)===Qt.Edit,editable:B.editMode===ko.Row,rowHeight:m},J=GP(te);l.useLayoutEffect(()=>{m==="auto"&&H.current&&typeof ResizeObserver>"u"&&$.current.unstable_storeRowHeightMeasurement(a,H.current.clientHeight,v)},[$,m,a,v]),l.useLayoutEffect(()=>{if(I.range){const Ve=$.current.getRowIndexRelativeToVisibleRows(a);Ve!=null&&$.current.unstable_setLastMeasuredRowIndex(Ve)}const be=H.current;if(!be||m!=="auto"||typeof ResizeObserver>"u")return;const Le=new ResizeObserver(Ve=>{const[Qe]=Ve,rt=Qe.borderBoxSize&&Qe.borderBoxSize.length>0?Qe.borderBoxSize[0].blockSize:Qe.contentRect.height;$.current.unstable_storeRowHeightMeasurement(a,rt,v)});return Le.observe(be),()=>Le.disconnect()},[$,I.range,d,m,a,v]);const oe=l.useCallback((be,Ie)=>Le=>{ii(Le)||$.current.getRow(a)&&($.current.publishEvent(be,$.current.getRowParams(a),Le),Ie&&Ie(Le))},[$,a]),X=l.useCallback(be=>{const Ie=fw(be.target,Y.cell),Le=Ie==null?void 0:Ie.getAttribute("data-field");if(Le){if(Le===vs.field||Le===Zc||Le==="__reorder__"||$.current.getCellMode(a,Le)===Bt.Edit)return;const Ve=$.current.getColumn(Le);if((Ve==null?void 0:Ve.type)===Na)return}oe("rowClick",D)(be)},[$,D,oe,a]),{slots:U,slotProps:ne,disableColumnReorder:ce}=B,ve=U.cell===Jl?Jl:Pw,fe=B.rowReordering,ke=(be,Ie)=>{var Le,Ve;const Qe=ce&&be.disableReorder||!fe&&!!j.length&&W>1&&Object.keys(G).length>0,rt=(Le=(Ve=G[a])==null?void 0:Ve[be.field])!=null?Le:null;let et=!1;return _!==void 0&&g[_].field===be.field&&(et=!0),p.jsx(ve,T({column:be,width:Ie.width,rowId:a,height:m,showRightBorder:Ie.showRightBorder,align:be.align||"left",colIndex:Ie.indexRelativeToAllColumns,colSpan:Ie.colSpan,disableDragEvents:Qe,editCellState:rt,isNotVisible:et},ne==null?void 0:ne.cell),be.field)},_e=ze($,()=>T({},$.current.unstable_getRowInternalSizes(a)),Ic);let le=m;if(le==="auto"&&_e){let be=0;const Ie=Object.entries(_e).reduce((Le,[Ve,Qe])=>/^base[A-Z]/.test(Ve)?(be+=1,Qe>Le?Qe:Le):Le,0);Ie>0&&be>1&&(le=Ie)}const ye=l.useMemo(()=>{if(P)return{opacity:0,width:0,height:0};const be=T({},h,{maxHeight:m==="auto"?"none":m,minHeight:le});if(_e!=null&&_e.spacingTop){const Ie=B.rowSpacingType==="border"?"borderTopWidth":"marginTop";be[Ie]=_e.spacingTop}if(_e!=null&&_e.spacingBottom){const Ie=B.rowSpacingType==="border"?"borderBottomWidth":"marginBottom";let Le=be[Ie];typeof Le!="number"&&(Le=parseInt(Le||"0",10)),Le+=_e.spacingBottom,be[Ie]=Le}return be},[P,m,h,le,_e,B.rowSpacingType]),Te=$.current.unstable_applyPipeProcessors("rowClassName",[],a);if(typeof B.getRowClassName=="function"){var De;const be=d-(((De=I.range)==null?void 0:De.firstRowIndex)||0),Ie=T({},$.current.getRowParams(a),{isFirstVisible:be===0,isLastVisible:be===I.rows.length-1,indexRelativeToCurrentPage:be});Te.push(B.getRowClassName(Ie))}const ie=n1(1e4,20,80),Pe=$.current.getRowNode(a);if(!Pe)return null;const Me=Pe.type,$e=[];for(let be=0;be<b.length;be+=1){const Ie=b[be];let Le=w+be;_!==void 0&&R&&(g[_].field===Ie.field?Le=_:Le-=1);const Ve=$.current.unstable_getCellColSpanInfo(a,Le);if(Ve&&!Ve.spannedByColSpan)if(Me!=="skeletonRow"){const{colSpan:Qe,width:rt}=Ve.cellProps,et={width:rt,colSpan:Qe,showRightBorder:B.showCellVerticalBorder,indexRelativeToAllColumns:Le};$e.push(ke(Ie,et))}else{const{width:Qe}=Ve.cellProps,rt=Math.round(ie());$e.push(p.jsx(U.skeletonCell,{width:Qe,contentWidth:rt,field:Ie.field,align:Ie.align},Ie.field))}}const Ke=x-M,Ne=c?{onClick:X,onDoubleClick:oe("rowDoubleClick",V),onMouseEnter:oe("rowMouseEnter",A),onMouseLeave:oe("rowMouseLeave",k),onMouseOut:oe("rowMouseOut",F),onMouseOver:oe("rowMouseOver",z)}:null;return p.jsxs("div",T({ref:Z,"data-id":a,"data-rowindex":d,role:"row",className:Oe(...Te,J.root,f,i&&"Mui-hovered"),"aria-rowindex":q,"aria-selected":r,style:ye},Ne,O,{children:[$e,Ke>0&&p.jsx(VP,{width:Ke})]}))}),ZP=Oa(WP);function UP({privateApiRef:e,props:t,children:o}){const r=l.useRef(e.current.getPublicApi());return p.jsx(Ah.Provider,{value:t,children:p.jsx(Fh.Provider,{value:e,children:p.jsx(Mh.Provider,{value:r,children:o})})})}const KP=e1()&&window.localStorage.getItem("DEBUG")!=null,Rs=()=>{},JP={debug:Rs,info:Rs,warn:Rs,error:Rs},Qd=["debug","info","warn","error"];function ep(e,t,o=console){const r=Qd.indexOf(t);if(r===-1)throw new Error(`MUI: Log level ${t} not recognized.`);return Qd.reduce((a,c,d)=>(d>=r?a[c]=(...h)=>{const[v,...m]=h;o[c](`MUI: ${e} - ${v}`,...m)}:a[c]=Rs,a),{})}const qP=(e,t)=>{const o=l.useCallback(r=>KP?ep(r,"debug",t.logger):t.logLevel?ep(r,t.logLevel.toString(),t.logger):JP,[t.logLevel,t.logger]);bt(e,{getLogger:o},"private")};class Uc{static create(t){return new Uc(t)}constructor(t){this.value=void 0,this.listeners=void 0,this.subscribe=o=>(this.listeners.add(o),()=>{this.listeners.delete(o)}),this.getSnapshot=()=>this.value,this.update=o=>{this.value=o,this.listeners.forEach(r=>r(o))},this.value=t,this.listeners=new Set}}class XP{constructor(){this.maxListeners=20,this.warnOnce=!1,this.events={}}on(t,o,r={}){let i=this.events[t];i||(i={highPriority:new Map,regular:new Map},this.events[t]=i),r.isFirst?i.highPriority.set(o,!0):i.regular.set(o,!0)}removeListener(t,o){this.events[t]&&(this.events[t].regular.delete(o),this.events[t].highPriority.delete(o))}removeAllListeners(){this.events={}}emit(t,...o){const r=this.events[t];if(!r)return;const i=Array.from(r.highPriority.keys()),a=Array.from(r.regular.keys());for(let c=i.length-1;c>=0;c-=1){const d=i[c];r.highPriority.has(d)&&d.apply(this,o)}for(let c=0;c<a.length;c+=1){const d=a[c];r.regular.has(d)&&d.apply(this,o)}}once(t,o){const r=this;this.on(t,function i(...a){r.removeListener(t,i),o.apply(r,a)})}}const Em=Symbol("mui.api_private"),YP=e=>e.isPropagationStopped!==void 0;let tp=0;function QP(e){var t;const o=(t=e.current)==null?void 0:t[Em];if(o)return o;const r={},i={state:r,store:Uc.create(r),instanceId:{id:tp}};return tp+=1,i.getPublicApi=()=>e.current,i.register=(a,c)=>{Object.keys(c).forEach(d=>{const h=c[d],v=i[d];if((v==null?void 0:v.spying)===!0?v.target=h:i[d]=h,a==="public"){const m=e.current,f=m[d];(f==null?void 0:f.spying)===!0?f.target=h:m[d]=h}})},i.register("private",{caches:{},eventManager:new XP}),i}function eI(e){return{get state(){return e.current.state},get store(){return e.current.store},get instanceId(){return e.current.instanceId},[Em]:e.current}}function tI(e,t){const o=l.useRef(),r=l.useRef();r.current||(r.current=QP(o)),o.current||(o.current=eI(r));const i=l.useCallback((...c)=>{const[d,h,v={}]=c;if(v.defaultMuiPrevented=!1,YP(v)&&v.isPropagationStopped())return;const m=t.signature===To.DataGridPro?{api:r.current.getPublicApi()}:{};r.current.eventManager.emit(d,h,v,m)},[r,t.signature]),a=l.useCallback((c,d,h)=>{r.current.eventManager.on(c,d,h);const v=r.current;return()=>{v.eventManager.removeListener(c,d)}},[r]);return bt(r,{subscribeEvent:a,publishEvent:i},"public"),l.useImperativeHandle(e,()=>o.current,[o]),l.useEffect(()=>{const c=r.current;return()=>{c.publishEvent("unmount")}},[r]),r}const nI=(e,t)=>{const o=l.useCallback(r=>{if(t.localeText[r]==null)throw new Error(`Missing translation for key ${r}.`);return t.localeText[r]},[t.localeText]);e.current.register("public",{getLocaleText:o})},oI=e=>{const t=l.useRef({}),o=l.useRef(!1),r=l.useCallback(m=>{o.current||!m||(o.current=!0,Object.values(m.appliers).forEach(f=>{f()}),o.current=!1)},[]),i=l.useCallback((m,f,g)=>{t.current[m]||(t.current[m]={processors:new Map,appliers:{}});const b=t.current[m];return b.processors.get(f)!==g&&(b.processors.set(f,g),r(b)),()=>{t.current[m].processors.set(f,null)}},[r]),a=l.useCallback((m,f,g)=>(t.current[m]||(t.current[m]={processors:new Map,appliers:{}}),t.current[m].appliers[f]=g,()=>{const b=t.current[m].appliers,x=He(b,[f].map(Ws));t.current[m].appliers=x}),[]),c=l.useCallback(m=>{const f=t.current[m];r(f)},[r]),d=l.useCallback((...m)=>{const[f,g,b]=m;return t.current[f]?Array.from(t.current[f].processors.values()).reduce((w,C)=>C?C(w,b):w,g):g},[]),h={registerPipeProcessor:i,registerPipeApplier:a,requestPipeProcessorsApplication:c},v={unstable_applyPipeProcessors:d};bt(e,h,"private"),bt(e,v,"public")},fn=(e,t,o)=>{const r=l.useRef(),i=l.useRef(`mui-${Math.round(Math.random()*1e9)}`),a=l.useCallback(()=>{r.current=e.current.registerPipeProcessor(t,i.current,o)},[e,o,t]);ai(()=>{a()});const c=l.useRef(!0);l.useEffect(()=>(c.current?c.current=!1:a(),()=>{r.current&&(r.current(),r.current=null)}),[a])},Kc=(e,t,o)=>{const r=l.useRef(),i=l.useRef(`mui-${Math.round(Math.random()*1e9)}`),a=l.useCallback(()=>{r.current=e.current.registerPipeApplier(t,i.current,o)},[e,o,t]);ai(()=>{a()});const c=l.useRef(!0);l.useEffect(()=>(c.current?c.current=!1:a(),()=>{r.current&&(r.current(),r.current=null)}),[a])},da=(e,t,o,r)=>{const i=l.useCallback(()=>{e.current.registerStrategyProcessor(t,o,r)},[e,r,o,t]);ai(()=>{i()});const a=l.useRef(!0);l.useEffect(()=>{a.current?a.current=!1:i()},[i])},Dr="none",np={rowTreeCreation:"rowTree",filtering:"rowTree",sorting:"rowTree",visibleRowsLookupCreation:"rowTree"},rI=e=>{const t=l.useRef(new Map),o=l.useRef({}),r=l.useCallback((h,v,m)=>{const f=()=>{const x=o.current[v],w=He(x,[h].map(Ws));o.current[v]=w};o.current[v]||(o.current[v]={});const g=o.current[v],b=g[h];return g[h]=m,!b||b===m||h===e.current.getActiveStrategy(np[v])&&e.current.publishEvent("activeStrategyProcessorChange",v),f},[e]),i=l.useCallback((h,v)=>{const m=e.current.getActiveStrategy(np[h]);if(m==null)throw new Error("Can't apply a strategy processor before defining an active strategy");const f=o.current[h];if(!f||!f[m])throw new Error(`No processor found for processor "${h}" on strategy "${m}"`);const g=f[m];return g(v)},[e]),a=l.useCallback(h=>{var v;const f=Array.from(t.current.entries()).find(([,g])=>g.group!==h?!1:g.isAvailable());return(v=f==null?void 0:f[0])!=null?v:Dr},[]),c=l.useCallback((h,v,m)=>{t.current.set(v,{group:h,isAvailable:m}),e.current.publishEvent("strategyAvailabilityChange")},[e]);bt(e,{registerStrategyProcessor:r,applyStrategyProcessor:i,getActiveStrategy:a,setStrategyAvailability:c},"private")},sI=(e,t)=>{const o=l.useRef({}),[,r]=l.useState(),i=l.useCallback(m=>{o.current[m.stateId]=m},[]),a=l.useCallback((m,f)=>{let g;if(um(m)?g=m(e.current.state):g=m,e.current.state===g)return!1;let b=!1;const x=[];if(Object.keys(o.current).forEach(w=>{const C=o.current[w],_=C.stateSelector(e.current.state,e.current.instanceId),P=C.stateSelector(g,e.current.instanceId);P!==_&&(x.push({stateId:C.stateId,hasPropChanged:P!==C.propModel}),C.propModel!==void 0&&P!==C.propModel&&(b=!0))}),x.length>1)throw new Error(`You're not allowed to update several sub-state in one transaction. You already updated ${x[0].stateId}, therefore, you're not allowed to update ${x.map(w=>w.stateId).join(", ")} in the same transaction.`);if(b||(e.current.state=g,e.current.publishEvent&&e.current.publishEvent("stateChange",g),e.current.store.update(g)),x.length===1){const{stateId:w,hasPropChanged:C}=x[0],_=o.current[w],P=_.stateSelector(g,e.current.instanceId);if(_.propOnChange&&C){const R=t.signature===To.DataGridPro?{api:e.current,reason:f}:{reason:f};_.propOnChange(P,R)}b||e.current.publishEvent(_.changeEvent,P,{reason:f})}return!b},[e,t.signature]),c=l.useCallback((m,f,g)=>e.current.setState(b=>T({},b,{[m]:f(b[m])}),g),[e]),d=l.useCallback(()=>r(()=>e.current.state),[e]),h={setState:a,forceUpdate:d},v={updateControlState:c,registerControlState:i};bt(e,h,"public"),bt(e,v,"private")},iI=(e,t)=>{const o=tI(e,t);return qP(o,t),sI(o,t),oI(o),rI(o),nI(o,t),o.current.register("private",{rootProps:t}),o},$n=(e,t,o)=>{const r=l.useRef(!1);r.current||(t.current.state=e(t.current.state,o,t),r.current=!0)},aI=/(\d+)-(\d+)-(\d+)/,lI=/(\d+)-(\d+)-(\d+)T(\d+):(\d+)/;function Jr(e,t,o,r){if(!e.value)return null;const[i,a,c,d,h]=e.value.match(o?lI:aI).slice(1).map(Number),v=new Date(i,a-1,c,d||0,h||0).getTime();return m=>{if(!m)return!1;if(r)return t(m.getTime(),v);const g=new Date(m).setHours(o?m.getHours():0,o?m.getMinutes():0,0,0);return t(g,v)}}const Rm=e=>ci([{value:"is",getApplyFilterFnV7:t=>Jr(t,(o,r)=>o===r,e),InputComponent:Kr,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"not",getApplyFilterFnV7:t=>Jr(t,(o,r)=>o!==r,e),InputComponent:Kr,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"after",getApplyFilterFnV7:t=>Jr(t,(o,r)=>o>r,e),InputComponent:Kr,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"onOrAfter",getApplyFilterFnV7:t=>Jr(t,(o,r)=>o>=r,e),InputComponent:Kr,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"before",getApplyFilterFnV7:t=>Jr(t,(o,r)=>o<r,e,!e),InputComponent:Kr,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"onOrBefore",getApplyFilterFnV7:t=>Jr(t,(o,r)=>o<=r,e),InputComponent:Kr,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"isEmpty",getApplyFilterFnV7:()=>t=>t==null,requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFnV7:()=>t=>t!=null,requiresFilterValue:!1}]);function Lm({value:e,columnType:t,rowId:o,field:r}){if(!(e instanceof Date))throw new Error([`MUI: \`${t}\` column type only accepts \`Date\` objects as values.`,"Use `valueGetter` to transform the value into a `Date` object.",`Row ID: ${o}, field: "${r}".`].join(`
`))}function cI({value:e,field:t,id:o}){return e?(Lm({value:e,columnType:"date",rowId:o,field:t}),e.toLocaleDateString()):""}function uI({value:e,field:t,id:o}){return e?(Lm({value:e,columnType:"dateTime",rowId:o,field:t}),e.toLocaleString()):""}const dI=T({},mo,{type:"date",sortComparator:bm,valueFormatter:cI,filterOperators:Rm(),renderEditCell:nm,pastedValueParser:e=>new Date(e)}),pI=T({},mo,{type:"dateTime",sortComparator:bm,valueFormatter:uI,filterOperators:Rm(!0),renderEditCell:nm,pastedValueParser:e=>new Date(e)}),tr=e=>e==null?null:Number(e),op=li(e=>e==null||Number.isNaN(e)||e===""?null:t=>tr(t)===tr(e)),hI=()=>ci([{value:"=",getApplyFilterFnV7:e=>e.value==null||Number.isNaN(e.value)?null:t=>tr(t)===e.value,InputComponent:So,InputComponentProps:{type:"number"}},{value:"!=",getApplyFilterFnV7:e=>e.value==null||Number.isNaN(e.value)?null:t=>tr(t)!==e.value,InputComponent:So,InputComponentProps:{type:"number"}},{value:">",getApplyFilterFnV7:e=>e.value==null||Number.isNaN(e.value)?null:t=>t==null?!1:tr(t)>e.value,InputComponent:So,InputComponentProps:{type:"number"}},{value:">=",getApplyFilterFnV7:e=>e.value==null||Number.isNaN(e.value)?null:t=>t==null?!1:tr(t)>=e.value,InputComponent:So,InputComponentProps:{type:"number"}},{value:"<",getApplyFilterFnV7:e=>e.value==null||Number.isNaN(e.value)?null:t=>t==null?!1:tr(t)<e.value,InputComponent:So,InputComponentProps:{type:"number"}},{value:"<=",getApplyFilterFnV7:e=>e.value==null||Number.isNaN(e.value)?null:t=>t==null?!1:tr(t)<=e.value,InputComponent:So,InputComponentProps:{type:"number"}},{value:"isEmpty",getApplyFilterFnV7:()=>e=>e==null,requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFnV7:()=>e=>e!=null,requiresFilterValue:!1},{value:"isAnyOf",getApplyFilterFnV7:e=>!Array.isArray(e.value)||e.value.length===0?null:t=>t!=null&&e.value.includes(Number(t)),InputComponent:Im,InputComponentProps:{type:"number"}}]),mI=T({},mo,{type:"number",align:"right",headerAlign:"right",sortComparator:ym,valueParser:e=>e===""?null:Number(e),valueFormatter:({value:e})=>QS(e)?e.toLocaleString():e||"",filterOperators:hI(),getApplyQuickFilterFn:Tm(op),getApplyQuickFilterFnV7:op}),qr=e=>e==null||!jc(e)?e:e.value,fI=()=>ci([{value:"is",getApplyFilterFnV7:e=>e.value==null||e.value===""?null:t=>qr(t)===qr(e.value),InputComponent:Ud},{value:"not",getApplyFilterFnV7:e=>e.value==null||e.value===""?null:t=>qr(t)!==qr(e.value),InputComponent:Ud},{value:"isAnyOf",getApplyFilterFnV7:e=>{if(!Array.isArray(e.value)||e.value.length===0)return null;const t=e.value.map(qr);return o=>t.includes(qr(o))},InputComponent:lP}]),gI=e=>typeof e[0]=="object",vI=e=>jc(e)?e.value:e,yI=e=>jc(e)?e.label:String(e),bI=T({},mo,{type:"singleSelect",getOptionLabel:yI,getOptionValue:vI,valueFormatter(e){const{id:t,field:o,value:r,api:i}=e,a=e.api.getColumn(o);if(!Tr(a))return"";let c;if(typeof a.valueOptions=="function"?c=a.valueOptions({id:t,row:t?i.getRow(t):null,field:o}):c=a.valueOptions,r==null)return"";if(!c)return r;if(!gI(c))return a.getOptionLabel(r);const d=c.find(h=>a.getOptionValue(h)===r);return d?a.getOptionLabel(d):""},renderEditCell:tS,filterOperators:fI(),pastedValueParser:(e,t)=>{const o=t.colDef,r=o.valueOptions,i=typeof r=="function"?r({field:o.field}):r||[],a=o.getOptionValue;if(i.find(d=>a(d)===e))return e}}),Fm="__default__",xI=()=>({string:mo,number:mI,date:dI,dateTime:pI,boolean:Dm,singleSelect:bI,[Na]:BP,[Fm]:mo});function Ql(e,t){if(typeof e=="string"){if(t.shouldAppendQuotes||t.escapeFormulas){const o=e.replace(/"/g,'""');return[t.delimiter,`
`,"\r",'"'].some(r=>e.includes(r))?`"${o}"`:t.escapeFormulas&&["=","+","-","@","	","\r"].includes(o[0])?`'${o}`:o}return e}return e}const Om=(e,t)=>{const{csvOptions:o,ignoreValueFormatter:r}=t;let i;if(r){var a;const d=e.colDef.type;if(d==="number")i=String(e.value);else if(d==="date"||d==="dateTime"){var c;i=(c=e.value)==null?void 0:c.toISOString()}else typeof((a=e.value)==null?void 0:a.toString)=="function"?i=e.value.toString():i=e.value}else i=e.formattedValue;return Ql(i,o)};Mo(["MUI: When the value of a field is an object or a `renderCell` is provided, the CSV export might not display the value correctly.","You can provide a `valueFormatter` with a string representation to be used."]);class ec{constructor(t){this.options=void 0,this.rowString="",this.isEmpty=!0,this.options=t}addValue(t){this.isEmpty||(this.rowString+=this.options.csvOptions.delimiter),t==null?this.rowString+="":typeof this.options.sanitizeCellValue=="function"?this.rowString+=this.options.sanitizeCellValue(t,this.options.csvOptions):this.rowString+=t,this.isEmpty=!1}getRowString(){return this.rowString}}const CI=({id:e,columns:t,getCellParams:o,csvOptions:r,ignoreValueFormatter:i})=>{const a=new ec({csvOptions:r});return t.forEach(c=>{const d=o(e,c.field);a.addValue(Om(d,{ignoreValueFormatter:i,csvOptions:r}))}),a.getRowString()};function wI(e){const{columns:t,rowIds:o,csvOptions:r,ignoreValueFormatter:i,apiRef:a}=e,c=o.reduce((f,g)=>`${f}${CI({id:g,columns:t,getCellParams:a.current.getCellParams,ignoreValueFormatter:i,csvOptions:r})}\r
`,"").trim();if(!r.includeHeaders)return c;const d=t.filter(f=>f.field!==vs.field),h=[];if(r.includeColumnGroupsHeaders){const f=a.current.unstable_getAllGroupDetails();let g=0;const b=d.reduce((x,w)=>{const C=a.current.unstable_getColumnGroupPath(w.field);return x[w.field]=C,g=Math.max(g,C.length),x},{});for(let x=0;x<g;x+=1){const w=new ec({csvOptions:r,sanitizeCellValue:Ql});h.push(w),d.forEach(C=>{const _=(b[C.field]||[])[x],P=f[_];w.addValue(P?P.headerName||P.groupId:"")})}}const v=new ec({csvOptions:r,sanitizeCellValue:Ql});return d.forEach(f=>{v.addValue(f.headerName||f.field)}),h.push(v),`${`${h.map(f=>f.getRowString()).join(`\r
`)}\r
`}${c}`.trim()}function rp(e){const t=document.createElement("span");t.style.whiteSpace="pre",t.style.userSelect="all",t.style.opacity="0px",t.textContent=e,document.body.appendChild(t);const o=document.createRange();o.selectNode(t);const r=window.getSelection();r.removeAllRanges(),r.addRange(o);try{document.execCommand("copy")}finally{document.body.removeChild(t)}}function SI(e){navigator.clipboard?navigator.clipboard.writeText(e).catch(()=>{rp(e)}):rp(e)}function _I(e){var t;return!!((t=window.getSelection())!=null&&t.toString()||e&&(e.selectionEnd||0)-(e.selectionStart||0)>0)}const PI=(e,t)=>{const o=t.unstable_ignoreValueFormatterDuringExport,r=(typeof o=="object"?o==null?void 0:o.clipboardExport:o)||!1,i=t.clipboardCopyCellDelimiter,a=l.useCallback(c=>{if(!((c.ctrlKey||c.metaKey)&&c.key==="c")||_I(c.target))return;let d="";if(e.current.getSelectedRows().size>0)d=e.current.getDataAsCsv({includeHeaders:!1,delimiter:i,shouldAppendQuotes:!1,escapeFormulas:!1});else{const v=Vn(e);if(v){const m=e.current.getCellParams(v.id,v.field);d=Om(m,{csvOptions:{delimiter:i,shouldAppendQuotes:!1,escapeFormulas:!1},ignoreValueFormatter:r})}}d=e.current.unstable_applyPipeProcessors("clipboardCopy",d),d&&(SI(d),e.current.publishEvent("clipboardCopy",d))},[e,r,i]);o1(e,e.current.rootElementRef,"keydown",a),nn(e,"clipboardCopy",t.onClipboardCopy)},II=e=>T({},e,{columnMenu:{open:!1}}),TI=e=>{const t=An(e,"useGridColumnMenu"),o=l.useCallback(c=>{e.current.setState(h=>h.columnMenu.open&&h.columnMenu.field===c?h:(t.debug("Opening Column Menu"),T({},h,{columnMenu:{open:!0,field:c}})))&&(e.current.hidePreferences(),e.current.forceUpdate())},[e,t]),r=l.useCallback(()=>{const c=Kl(e.current.state);if(c.field){const h=ms(e),v=po(e),m=Go(e);let f=c.field;if(h[f]||(f=m[0]),v[f]===!1){const g=m.filter(x=>x===f?!0:v[x]!==!1),b=g.indexOf(f);f=g[b+1]||g[b-1]}e.current.setColumnHeaderFocus(f)}e.current.setState(h=>!h.columnMenu.open&&h.columnMenu.field===void 0?h:(t.debug("Hiding Column Menu"),T({},h,{columnMenu:T({},h.columnMenu,{open:!1,field:void 0})})))&&e.current.forceUpdate()},[e,t]),i=l.useCallback(c=>{t.debug("Toggle Column Menu");const d=Kl(e.current.state);!d.open||d.field!==c?o(c):r()},[e,t,o,r]);bt(e,{showColumnMenu:o,hideColumnMenu:r,toggleColumnMenu:i},"public"),Ze(e,"columnResizeStart",r),Ze(e,"virtualScrollerWheel",e.current.hideColumnMenu),Ze(e,"virtualScrollerTouchMove",e.current.hideColumnMenu)},Nm=["maxWidth","minWidth","width","flex"];function kI({initialFreeSpace:e,totalFlexUnits:t,flexColumns:o}){const r=new Set(o.map(c=>c.field)),i={all:{},frozenFields:[],freeze:c=>{const d=i.all[c];d&&d.frozen!==!0&&(i.all[c].frozen=!0,i.frozenFields.push(c))}};function a(){if(i.frozenFields.length===r.size)return;const c={min:{},max:{}};let d=e,h=t,v=0;i.frozenFields.forEach(m=>{d-=i.all[m].computedWidth,h-=i.all[m].flex});for(let m=0;m<o.length;m+=1){const f=o[m];if(i.all[f.field]&&i.all[f.field].frozen===!0)continue;let b=d/h*f.flex;b<f.minWidth?(v+=f.minWidth-b,b=f.minWidth,c.min[f.field]=!0):b>f.maxWidth&&(v+=f.maxWidth-b,b=f.maxWidth,c.max[f.field]=!0),i.all[f.field]={frozen:!1,computedWidth:b,flex:f.flex}}v<0?Object.keys(c.max).forEach(m=>{i.freeze(m)}):v>0?Object.keys(c.min).forEach(m=>{i.freeze(m)}):o.forEach(({field:m})=>{i.freeze(m)}),a()}return a(),i.all}const tc=(e,t)=>{const o={};let r=0,i=0;const a=[];e.orderedFields.forEach(d=>{const h=T({},e.lookup[d]);if(e.columnVisibilityModel[d]===!1)h.computedWidth=0;else{let v;h.flex&&h.flex>0?(r+=h.flex,v=0,a.push(h)):v=ds(h.width||mo.width,h.minWidth||mo.minWidth,h.maxWidth||mo.maxWidth),i+=v,h.computedWidth=v}o[d]=h});const c=Math.max(t-i,0);if(r>0&&t>0){const d=kI({initialFreeSpace:c,totalFlexUnits:r,flexColumns:a});Object.keys(d).forEach(h=>{o[h].computedWidth=d[h].computedWidth})}return T({},e,{lookup:o})},MI=(e,t)=>{if(!t)return e;const{orderedFields:o=[],dimensions:r={}}=t,i=Object.keys(r);if(i.length===0&&o.length===0)return e;const a={},c=[];for(let m=0;m<o.length;m+=1){const f=o[m];e.lookup[f]&&(a[f]=!0,c.push(f))}const d=c.length===0?e.orderedFields:[...c,...e.orderedFields.filter(m=>!a[m])],h=T({},e.lookup);for(let m=0;m<i.length;m+=1){const f=i[m],g=T({},h[f],{hasBeenResized:!0});Object.entries(r[f]).forEach(([b,x])=>{g[b]=x===-1?1/0:x}),h[f]=g}return T({},e,{orderedFields:d,lookup:h})};function sp(e,t){let o=e[Fm];return t&&e[t]&&(o=e[t]),o}const Yr=({apiRef:e,columnsToUpsert:t,initialState:o,columnTypes:r,columnVisibilityModel:i=po(e),keepOnlyColumnsToUpsert:a=!1})=>{var c,d,h;const v=!e.current.state.columns;let m;if(v)m={orderedFields:[],lookup:{},columnVisibilityModel:i};else{const x=Ir(e.current.state);m={orderedFields:a?[]:[...x.orderedFields],lookup:T({},x.lookup),columnVisibilityModel:i}}let f={};a&&!v&&(f=Object.keys(m.lookup).reduce((x,w)=>T({},x,{[w]:!1}),{})),t.forEach(x=>{const{field:w}=x;f[w]=!0;let C=m.lookup[w];C==null?(C=T({},sp(r,x.type),{field:w,hasBeenResized:!1}),m.orderedFields.push(w)):a&&m.orderedFields.push(w),C&&C.type!==x.type&&(C=T({},sp(r,x.type),{field:w}));let _=C.hasBeenResized;Nm.forEach(P=>{x[P]!==void 0&&(_=!0,x[P]===-1&&(x[P]=1/0))}),m.lookup[w]=T({},C,x,{hasBeenResized:_})}),a&&!v&&Object.keys(m.lookup).forEach(x=>{f[x]||delete m.lookup[x]});const g=e.current.unstable_applyPipeProcessors("hydrateColumns",m),b=MI(g,o);return tc(b,(c=(d=(h=e.current).getRootDimensions)==null||(d=d.call(h))==null?void 0:d.viewportInnerSize.width)!=null?c:0)},ip=e=>t=>T({},t,{columns:e});function nc({firstColumnToRender:e,apiRef:t,firstRowToRender:o,lastRowToRender:r,visibleRows:i}){let a=e;for(let c=o;c<r;c+=1)if(i[c]){const h=i[c].id,v=t.current.unstable_getCellColSpanInfo(h,e);v&&v.spannedByColSpan&&(a=v.leftVisibleCellIndex)}return a}function AI({firstColumnIndex:e,minColumnIndex:t,columnBuffer:o,firstRowToRender:r,lastRowToRender:i,apiRef:a,visibleRows:c}){const d=Math.max(e-o,t);return nc({firstColumnToRender:d,apiRef:a,firstRowToRender:r,lastRowToRender:i,visibleRows:c})}function Jc(e,t){const o=gs(e),r=si(e);return Math.floor(t*o)*((r??0)+1)}const zm=xI(),DI=(e,t,o)=>{var r,i,a,c;const d=Yr({apiRef:o,columnTypes:zm,columnsToUpsert:t.columns,initialState:(r=t.initialState)==null?void 0:r.columns,columnVisibilityModel:(i=(a=t.columnVisibilityModel)!=null?a:(c=t.initialState)==null||(c=c.columns)==null?void 0:c.columnVisibilityModel)!=null?i:{},keepOnlyColumnsToUpsert:!0});return T({},e,{columns:d})};function EI(e,t){var o,r;const i=An(e,"useGridColumns"),a=zm,c=l.useRef(t.columns),d=l.useRef(a);e.current.registerControlState({stateId:"visibleColumns",propModel:t.columnVisibilityModel,propOnChange:t.onColumnVisibilityModelChange,stateSelector:po,changeEvent:"columnVisibilityModelChange"});const h=l.useCallback(I=>{i.debug("Updating columns state."),e.current.setState(ip(I)),e.current.forceUpdate(),e.current.publishEvent("columnsChange",I.orderedFields)},[i,e]),v=l.useCallback(I=>ms(e)[I],[e]),m=l.useCallback(()=>Io(e),[e]),f=l.useCallback(()=>kn(e),[e]),g=l.useCallback((I,M=!0)=>(M?kn(e):Io(e)).findIndex(W=>W.field===I),[e]),b=l.useCallback(I=>{const M=g(I);return us(e)[M]},[e,g]),x=l.useCallback(I=>{po(e)!==I&&(e.current.setState(j=>T({},j,{columns:Yr({apiRef:e,columnTypes:a,columnsToUpsert:[],initialState:void 0,columnVisibilityModel:I,keepOnlyColumnsToUpsert:!1})})),e.current.forceUpdate())},[e,a]),w=l.useCallback(I=>{const M=Yr({apiRef:e,columnTypes:a,columnsToUpsert:I,initialState:void 0,keepOnlyColumnsToUpsert:!1});h(M)},[e,h,a]),C=l.useCallback((I,M)=>{var j;const W=po(e),E=(j=W[I])!=null?j:!0;if(M!==E){const G=T({},W,{[I]:M});e.current.setColumnVisibilityModel(G)}},[e]),_=l.useCallback(I=>Go(e).findIndex(j=>j===I),[e]),P=l.useCallback((I,M)=>{const j=Go(e),W=_(I);if(W===M)return;i.debug(`Moving column ${I} to index ${M}`);const E=[...j],G=E.splice(W,1)[0];E.splice(M,0,G),h(T({},Ir(e.current.state),{orderedFields:E}));const Z={column:e.current.getColumn(I),targetIndex:e.current.getColumnIndexRelativeToVisibleColumns(I),oldIndex:W};e.current.publishEvent("columnIndexChange",Z)},[e,i,h,_]),R=l.useCallback((I,M)=>{var j,W;i.debug(`Updating column ${I} width to ${M}`);const E=Ir(e.current.state),G=E.lookup[I],Z=T({},G,{width:M,hasBeenResized:!0});h(tc(T({},E,{lookup:T({},E.lookup,{[I]:Z})}),(j=(W=e.current.getRootDimensions())==null?void 0:W.viewportInnerSize.width)!=null?j:0)),e.current.publishEvent("columnWidthChange",{element:e.current.getColumnHeaderElement(I),colDef:Z,width:M})},[e,i,h]),D={getColumn:v,getAllColumns:m,getColumnIndex:g,getColumnPosition:b,getVisibleColumns:f,getColumnIndexRelativeToVisibleColumns:_,updateColumns:w,setColumnVisibilityModel:x,setColumnVisibility:C,setColumnWidth:R},V={setColumnIndex:P};bt(e,D,"public"),bt(e,V,t.signature===To.DataGrid?"private":"public");const A=l.useCallback((I,M)=>{var j,W;const E={},G=po(e);(!M.exportOnlyDirtyModels||t.columnVisibilityModel!=null||Object.keys((j=(W=t.initialState)==null||(W=W.columns)==null?void 0:W.columnVisibilityModel)!=null?j:{}).length>0||Object.keys(G).length>0)&&(E.columnVisibilityModel=G),E.orderedFields=Go(e);const q=Io(e),te={};return q.forEach(J=>{if(J.hasBeenResized){const oe={};Nm.forEach(X=>{let U=J[X];U===1/0&&(U=-1),oe[X]=U}),te[J.field]=oe}}),Object.keys(te).length>0&&(E.dimensions=te),T({},I,{columns:E})},[e,t.columnVisibilityModel,(o=t.initialState)==null?void 0:o.columns]),k=l.useCallback((I,M)=>{var j;const W=(j=M.stateToRestore.columns)==null?void 0:j.columnVisibilityModel,E=M.stateToRestore.columns;if(W==null&&E==null)return I;const G=Yr({apiRef:e,columnTypes:a,columnsToUpsert:[],initialState:E,columnVisibilityModel:W,keepOnlyColumnsToUpsert:!1});return e.current.setState(ip(G)),E!=null&&e.current.publishEvent("columnsChange",G.orderedFields),I},[e,a]),F=l.useCallback((I,M)=>{if(M===Ar.columns){var j;const W=t.slots.columnsPanel;return p.jsx(W,T({},(j=t.slotProps)==null?void 0:j.columnsPanel))}return I},[t.slots.columnsPanel,(r=t.slotProps)==null?void 0:r.columnsPanel]),z=l.useCallback(I=>t.disableColumnSelector?I:[...I,"columnMenuColumnsItem"],[t.disableColumnSelector]);fn(e,"columnMenu",z),fn(e,"exportState",A),fn(e,"restoreState",k),fn(e,"preferencePanel",F);const O=l.useRef(null);Ze(e,"viewportInnerSizeChange",I=>{O.current!==I.width&&(O.current=I.width,h(tc(Ir(e.current.state),I.width)))});const H=l.useCallback(()=>{i.info("Columns pipe processing have changed, regenerating the columns");const I=Yr({apiRef:e,columnTypes:a,columnsToUpsert:[],initialState:void 0,keepOnlyColumnsToUpsert:!1});h(I)},[e,i,h,a]);Kc(e,"hydrateColumns",H);const B=l.useRef(!0);l.useEffect(()=>{if(B.current){B.current=!1;return}if(i.info(`GridColumns have changed, new length ${t.columns.length}`),c.current===t.columns&&d.current===a)return;const I=Yr({apiRef:e,columnTypes:a,initialState:void 0,columnsToUpsert:t.columns,keepOnlyColumnsToUpsert:!0});c.current=t.columns,d.current=a,h(I)},[i,e,h,t.columns,a]),l.useEffect(()=>{t.columnVisibilityModel!==void 0&&e.current.setColumnVisibilityModel(t.columnVisibilityModel)},[e,i,t.columnVisibilityModel])}const RI=.7,LI=1.3,$m={compact:RI,comfortable:LI,standard:1},FI=(e,t)=>T({},e,{density:{value:t.density,factor:$m[t.density]}}),OI=(e,t)=>{const o=An(e,"useDensity"),r=l.useCallback(a=>{o.debug(`Set grid density to ${a}`),e.current.setState(c=>{const d=Oc(c),h={value:a,factor:$m[a]};return kr(d,h)?c:T({},c,{density:h})}),e.current.forceUpdate()},[o,e]);l.useEffect(()=>{e.current.setDensity(t.density)},[e,t.density]),bt(e,{setDensity:r},"public")};function NI(e,t="csv",o=document.title||"untitled"){const r=`${o}.${t}`;if("download"in HTMLAnchorElement.prototype){const i=URL.createObjectURL(e),a=document.createElement("a");a.href=i,a.download=r,a.click(),setTimeout(()=>{URL.revokeObjectURL(i)});return}throw new Error("MUI: exportAs not supported")}const jm=({apiRef:e,options:t})=>{const o=Io(e);return t.fields?t.fields.reduce((i,a)=>{const c=o.find(d=>d.field===a);return c&&i.push(c),i},[]):(t.allColumns?o:kn(e)).filter(i=>!i.disableExport)},zI=({apiRef:e})=>{var t,o;const r=XC(e),i=uo(e),a=e.current.getSelectedRows(),c=r.filter(m=>i[m].type!=="footer"),d=fs(e),h=(d==null||(t=d.top)==null?void 0:t.map(m=>m.id))||[],v=(d==null||(o=d.bottom)==null?void 0:o.map(m=>m.id))||[];return c.unshift(...h),c.push(...v),a.size>0?c.filter(m=>a.has(m)):c},$I=(e,t)=>{const o=An(e,"useGridCsvExport"),r=t.unstable_ignoreValueFormatterDuringExport,i=(typeof r=="object"?r==null?void 0:r.csvExport:r)||!1,a=l.useCallback((v={})=>{var m,f,g,b,x;o.debug("Get data as CSV");const w=jm({apiRef:e,options:v}),_=((m=v.getRowsToExport)!=null?m:zI)({apiRef:e});return wI({columns:w,rowIds:_,csvOptions:{delimiter:v.delimiter||",",shouldAppendQuotes:(f=v.shouldAppendQuotes)!=null?f:!0,includeHeaders:(g=v.includeHeaders)!=null?g:!0,includeColumnGroupsHeaders:(b=v.includeColumnGroupsHeaders)!=null?b:!0,escapeFormulas:(x=v.escapeFormulas)!=null?x:!0},ignoreValueFormatter:i,apiRef:e})},[o,e,i]),c=l.useCallback(v=>{o.debug("Export data as CSV");const m=a(v),f=new Blob([v!=null&&v.utf8WithBom?new Uint8Array([239,187,191]):"",m],{type:"text/csv"});NI(f,"csv",v==null?void 0:v.fileName)},[o,a]);bt(e,{getDataAsCsv:a,exportDataAsCsv:c},"public");const h=l.useCallback((v,m)=>{var f;return(f=m.csvOptions)!=null&&f.disableToolbarButton?v:[...v,{component:p.jsx(dP,{options:m.csvOptions}),componentName:"csvExport"}]},[]);fn(e,"exportMenu",h)},Hi=(e,t,o)=>{var r;let i=e.paginationModel;const a=e.rowCount,c=(r=o==null?void 0:o.pageSize)!=null?r:i.pageSize,d=pm(a,c);o&&((o==null?void 0:o.page)!==i.page||(o==null?void 0:o.pageSize)!==i.pageSize)&&(i=o);const h=i1(i.page,d);return h!==i.page&&(i=T({},i,{page:h})),mm(i.pageSize,t),i},jI=(e,t)=>{var o;const r=An(e,"useGridPaginationModel"),i=ze(e,gs),a=Math.floor(t.rowHeight*i);e.current.registerControlState({stateId:"paginationModel",propModel:t.paginationModel,propOnChange:t.onPaginationModelChange,stateSelector:to,changeEvent:"paginationModelChange"});const c=l.useCallback(w=>{const C=to(e);w!==C.page&&(r.debug(`Setting page to ${w}`),e.current.setPaginationModel({page:w,pageSize:C.pageSize}))},[e,r]),d=l.useCallback(w=>{const C=to(e);w!==C.pageSize&&(r.debug(`Setting page size to ${w}`),e.current.setPaginationModel({pageSize:w,page:C.page}))},[e,r]),h=l.useCallback(w=>{const C=to(e);w!==C&&(r.debug("Setting 'paginationModel' to",w),e.current.setState(_=>T({},_,{pagination:T({},_.pagination,{paginationModel:Hi(_.pagination,t.signature,w)})})))},[e,r,t.signature]);bt(e,{setPage:c,setPageSize:d,setPaginationModel:h},"public");const m=l.useCallback((w,C)=>{var _;const P=to(e);return!C.exportOnlyDirtyModels||t.paginationModel!=null||((_=t.initialState)==null||(_=_.pagination)==null?void 0:_.paginationModel)!=null||P.page!==0&&P.pageSize!==s1(t.autoPageSize)?T({},w,{pagination:T({},w.pagination,{paginationModel:P})}):w},[e,t.paginationModel,(o=t.initialState)==null||(o=o.pagination)==null?void 0:o.paginationModel,t.autoPageSize]),f=l.useCallback((w,C)=>{var _,P;const R=(_=C.stateToRestore.pagination)!=null&&_.paginationModel?T({},hm(t.autoPageSize),(P=C.stateToRestore.pagination)==null?void 0:P.paginationModel):to(e);return e.current.setState(D=>T({},D,{pagination:T({},D.pagination,{paginationModel:Hi(D.pagination,t.signature,R)})})),w},[e,t.autoPageSize,t.signature]);fn(e,"exportState",m),fn(e,"restoreState",f);const g=()=>{var w;const C=to(e);(w=e.current.virtualScrollerRef)!=null&&w.current&&e.current.scrollToIndexes({rowIndex:C.page*C.pageSize})},b=l.useCallback(()=>{if(!t.autoPageSize)return;const w=e.current.getRootDimensions()||{viewportInnerSize:{height:0}},C=Yh(e),_=Math.floor((w.viewportInnerSize.height-C.top-C.bottom)/a);e.current.setPageSize(_)},[e,t.autoPageSize,a]),x=l.useCallback(w=>{if(w==null)return;const C=to(e),_=l1(e);C.page>_-1&&e.current.setPage(Math.max(0,_-1))},[e]);Ze(e,"viewportInnerSizeChange",b),Ze(e,"paginationModelChange",g),Ze(e,"rowCountChange",x),l.useEffect(()=>{e.current.setState(w=>T({},w,{pagination:T({},w.pagination,{paginationModel:Hi(w.pagination,t.signature,t.paginationModel)})}))},[e,t.paginationModel,t.paginationMode,t.signature]),l.useEffect(b,[b])};function BI(){return new Promise(e=>{requestAnimationFrame(()=>{e()})})}function HI(e){const t=document.createElement("iframe");return t.style.position="absolute",t.style.width="0px",t.style.height="0px",t.title=e||document.title,t}const GI=(e,t)=>{const o=An(e,"useGridPrintExport"),r=l.useRef(null),i=l.useRef(null),a=l.useRef({}),c=l.useRef([]);l.useEffect(()=>{r.current=ni(e.current.rootElementRef.current)},[e]);const d=l.useCallback((x,w,C)=>new Promise(_=>{const P=jm({apiRef:e,options:{fields:x,allColumns:w}}).map(V=>V.field),R=Io(e),D={};R.forEach(V=>{D[V.field]=P.includes(V.field)}),C&&(D[vs.field]=!0),e.current.setColumnVisibilityModel(D),_()}),[e]),h=l.useCallback(x=>{const C=x({apiRef:e}).map(_=>e.current.getRow(_));e.current.setRows(C)},[e]),v=l.useCallback((x,w)=>{var C,_;const P=T({copyStyles:!0,hideToolbar:!1,hideFooter:!1,includeCheckboxes:!1},w),R=x.contentDocument;if(!R)return;const D=Js(e.current.state),V=e.current.rootElementRef.current,A=V.cloneNode(!0),k=A.querySelector(`.${Y.main}`);k.style.overflow="visible",A.style.contain="size";const z=A.querySelector(`.${Y.columnHeaders}`).querySelector(`.${Y.columnHeadersInner}`);z.style.width="100%";let O=((C=V.querySelector(`.${Y.toolbarContainer}`))==null?void 0:C.offsetHeight)||0,$=((_=V.querySelector(`.${Y.footerContainer}`))==null?void 0:_.offsetHeight)||0;if(P.hideToolbar){var H;(H=A.querySelector(`.${Y.toolbarContainer}`))==null||H.remove(),O=0}if(P.hideFooter){var B;(B=A.querySelector(`.${Y.footerContainer}`))==null||B.remove(),$=0}const I=D.currentPageTotalHeight+Jc(e,t.columnHeaderHeight)+O+$;if(A.style.height=`${I}px`,A.style.boxSizing="content-box",w!=null&&w.getRowsToExport){const E=A.querySelector(`.${Y.footerContainer}`);E.style.position="absolute",E.style.width="100%",E.style.top=`${I-$}px`}const M=document.createElement("div");M.appendChild(A),R.body.innerHTML=M.innerHTML;const j=typeof P.pageStyle=="function"?P.pageStyle():P.pageStyle;if(typeof j=="string"){const E=R.createElement("style");E.appendChild(R.createTextNode(j)),R.head.appendChild(E)}P.bodyClassName&&R.body.classList.add(...P.bodyClassName.split(" "));const W=[];if(P.copyStyles){const E=V.getRootNode(),Z=(E.constructor.name==="ShadowRoot"?E:r.current).querySelectorAll("style, link[rel='stylesheet']");for(let q=0;q<Z.length;q+=1){const te=Z[q];if(te.tagName==="STYLE"){const J=R.createElement(te.tagName),oe=te.sheet;if(oe){let X="";for(let U=0;U<oe.cssRules.length;U+=1)typeof oe.cssRules[U].cssText=="string"&&(X+=`${oe.cssRules[U].cssText}\r
`);J.appendChild(R.createTextNode(X)),R.head.appendChild(J)}}else if(te.getAttribute("href")){const J=R.createElement(te.tagName);for(let oe=0;oe<te.attributes.length;oe+=1){const X=te.attributes[oe];X&&J.setAttribute(X.nodeName,X.nodeValue||"")}W.push(new Promise(oe=>{J.addEventListener("load",()=>oe())})),R.head.appendChild(J)}}}Promise.all(W).then(()=>{x.contentWindow.print()})},[e,r,t.columnHeaderHeight]),m=l.useCallback(x=>{var w;r.current.body.removeChild(x),e.current.restoreState(i.current||{}),(w=i.current)!=null&&(w=w.columns)!=null&&w.columnVisibilityModel||e.current.setColumnVisibilityModel(a.current),e.current.unstable_setVirtualization(!0),e.current.setRows(c.current),i.current=null,a.current={},c.current=[]},[e]),g={exportDataAsPrint:l.useCallback(async x=>{if(o.debug("Export data as Print"),!e.current.rootElementRef.current)throw new Error("MUI: No grid root element available.");i.current=e.current.exportState(),a.current=po(e);const w=Bo(e);if(c.current=Es(e).map(_=>w[_]),t.pagination){const P={page:0,pageSize:Uh(e)};e.current.setState(R=>T({},R,{pagination:T({},R.pagination,{paginationModel:Hi(R.pagination,"DataGridPro",P)})})),e.current.forceUpdate()}await d(x==null?void 0:x.fields,x==null?void 0:x.allColumns,x==null?void 0:x.includeCheckboxes),x!=null&&x.getRowsToExport&&h(x.getRowsToExport),e.current.unstable_setVirtualization(!1),await BI();const C=HI(x==null?void 0:x.fileName);C.onload=()=>{v(C,x),C.contentWindow.matchMedia("print").addEventListener("change",P=>{P.matches===!1&&m(C)})},r.current.body.appendChild(C)},[t,o,e,v,m,d,h])};bt(e,g,"public");const b=l.useCallback((x,w)=>{var C;return(C=w.printOptions)!=null&&C.disableToolbarButton?x:[...x,{component:p.jsx(pP,{options:w.printOptions}),componentName:"printExport"}]},[]);fn(e,"exportMenu",b)},VI=(e,t,o)=>{var r,i,a;const c=(r=(i=t.filterModel)!=null?i:(a=t.initialState)==null||(a=a.filter)==null?void 0:a.filterModel)!=null?r:Us();return T({},e,{filter:{filterModel:Mm(c,t.disableMultipleColumnsFiltering,o),filteredRowsLookup:{},filteredDescendantCountLookup:{}},visibleRowsLookup:{}})},WI=e=>e.filteredRowsLookup;function ap(e,t){return e.current.applyStrategyProcessor("visibleRowsLookupCreation",{tree:t.rows.tree,filteredRowsLookup:t.filter.filteredRowsLookup})}function ZI(){return Ma(Object.values)}const UI=(e,t)=>{var o,r;const i=An(e,"useGridFilter");e.current.registerControlState({stateId:"filter",propModel:t.filterModel,propOnChange:t.onFilterModelChange,stateSelector:Sn,changeEvent:"filterModelChange"});const a=l.useCallback(()=>{e.current.setState(O=>{const $=Sn(O,e.current.instanceId),H=t.filterMode==="client"?LP($,e,t.disableEval):null,B=e.current.applyStrategyProcessor("filtering",{isRowMatchingFilters:H,filterModel:$??Us()}),I=T({},O,{filter:T({},O.filter,B)}),M=ap(e,I);return T({},I,{visibleRowsLookup:M})}),e.current.publishEvent("filteredRowsSet")},[e,t.filterMode,t.disableEval]),c=l.useCallback((O,$)=>$==null||$.filterable===!1||t.disableColumnFilter?O:[...O,"columnMenuFilterItem"],[t.disableColumnFilter]),d=l.useCallback(()=>{a(),e.current.forceUpdate()},[e,a]),h=l.useCallback(O=>{const $=Sn(e),H=[...$.items],B=H.findIndex(I=>I.id===O.id);B===-1?H.push(O):H[B]=O,e.current.setFilterModel(T({},$,{items:H}),"upsertFilterItem")},[e]),v=l.useCallback(O=>{const $=Sn(e),H=[...$.items];O.forEach(B=>{const I=O.findIndex(M=>M.id===B.id);I===-1?H.push(B):H[I]=B}),e.current.setFilterModel(T({},$,{items:O}),"upsertFilterItems")},[e]),m=l.useCallback(O=>{const $=Sn(e),H=$.items.filter(B=>B.id!==O.id);H.length!==$.items.length&&e.current.setFilterModel(T({},$,{items:H}),"deleteFilterItem")},[e]),f=l.useCallback((O,$,H)=>{if(i.debug("Displaying filter panel"),O){const B=Sn(e),I=B.items.filter(E=>{var G;if(E.value!==void 0)return!(Array.isArray(E.value)&&E.value.length===0);const q=(G=e.current.getColumn(E.field).filterOperators)==null?void 0:G.find(J=>J.value===E.operator);return!(typeof(q==null?void 0:q.requiresFilterValue)>"u"?!0:q==null?void 0:q.requiresFilterValue)});let M;const j=I.find(E=>E.field===O),W=e.current.getColumn(O);j?M=I:t.disableMultipleColumnsFiltering?M=[Yl({field:O,operator:W.filterOperators[0].value},e)]:M=[...I,Yl({field:O,operator:W.filterOperators[0].value},e)],e.current.setFilterModel(T({},B,{items:M}))}e.current.showPreferences(Ar.filters,$,H)},[e,i,t.disableMultipleColumnsFiltering]),g=l.useCallback(()=>{i.debug("Hiding filter panel"),e.current.hidePreferences()},[e,i]),b=l.useCallback(O=>{const $=Sn(e);$.logicOperator!==O&&e.current.setFilterModel(T({},$,{logicOperator:O}),"changeLogicOperator")},[e]),x=l.useCallback(O=>{const $=Sn(e);kr($.quickFilterValues,O)||e.current.setFilterModel(T({},$,{quickFilterValues:[...O]}))},[e]),w=l.useCallback((O,$)=>{Sn(e)!==O&&(i.debug("Setting filter model"),e.current.updateControlState("filter",Jd(O,t.disableMultipleColumnsFiltering,e),$),e.current.unstable_applyFilters())},[e,i,t.disableMultipleColumnsFiltering]),C={setFilterLogicOperator:b,unstable_applyFilters:d,deleteFilterItem:m,upsertFilterItem:h,upsertFilterItems:v,setFilterModel:w,showFilterPanel:f,hideFilterPanel:g,setQuickFilterValues:x,ignoreDiacritics:t.ignoreDiacritics};bt(e,C,"public");const _=l.useCallback((O,$)=>{var H;const B=Sn(e);return!$.exportOnlyDirtyModels||t.filterModel!=null||((H=t.initialState)==null||(H=H.filter)==null?void 0:H.filterModel)!=null||!kr(B,Us())?T({},O,{filter:{filterModel:B}}):O},[e,t.filterModel,(o=t.initialState)==null||(o=o.filter)==null?void 0:o.filterModel]),P=l.useCallback((O,$)=>{var H;const B=(H=$.stateToRestore.filter)==null?void 0:H.filterModel;return B==null?O:(e.current.updateControlState("filter",Jd(B,t.disableMultipleColumnsFiltering,e),"restoreState"),T({},O,{callbacks:[...O.callbacks,e.current.unstable_applyFilters]}))},[e,t.disableMultipleColumnsFiltering]),R=l.useCallback((O,$)=>{if($===Ar.filters){var H;const B=t.slots.filterPanel;return p.jsx(B,T({},(H=t.slotProps)==null?void 0:H.filterPanel))}return O},[t.slots.filterPanel,(r=t.slotProps)==null?void 0:r.filterPanel]),{getRowId:D}=t,V=Pc(ZI),A=l.useCallback(O=>{if(t.filterMode!=="client"||!O.isRowMatchingFilters)return{filteredRowsLookup:{},filteredDescendantCountLookup:{}};const $=Bo(e),H={},{isRowMatchingFilters:B}=O,I={},M={passingFilterItems:null,passingQuickFilterValues:null},j=V.current(e.current.state.rows.dataRowIdToModelLookup);for(let G=0;G<j.length;G+=1){const Z=j[G],q=D?D(Z):Z.id;B(Z,void 0,M);const te=OP([M.passingFilterItems],[M.passingQuickFilterValues],O.filterModel,e,I);H[q]=te}const W="auto-generated-group-footer-root";return $[W]&&(H[W]=!0),{filteredRowsLookup:H,filteredDescendantCountLookup:{}}},[e,t.filterMode,D,V]);fn(e,"columnMenu",c),fn(e,"exportState",_),fn(e,"restoreState",P),fn(e,"preferencePanel",R),da(e,Dr,"filtering",A),da(e,Dr,"visibleRowsLookupCreation",WI);const k=l.useCallback(()=>{i.debug("onColUpdated - GridColumns changed, applying filters");const O=Sn(e),$=NC(e),H=O.items.filter(B=>B.field&&$[B.field]);H.length<O.items.length&&e.current.setFilterModel(T({},O,{items:H}))},[e,i]),F=l.useCallback(O=>{O==="filtering"&&e.current.unstable_applyFilters()},[e]),z=l.useCallback(()=>{e.current.setState(O=>T({},O,{visibleRowsLookup:ap(e,O)})),e.current.forceUpdate()},[e]);Ze(e,"rowsSet",a),Ze(e,"columnsChange",k),Ze(e,"activeStrategyProcessorChange",F),Ze(e,"rowExpansionChange",z),Ze(e,"columnVisibilityModelChange",()=>{const O=Sn(e);O.quickFilterValues&&O.quickFilterExcludeHiddenColumns&&e.current.unstable_applyFilters()}),ai(()=>{e.current.unstable_applyFilters()}),Pn(()=>{t.filterModel!==void 0&&e.current.setFilterModel(t.filterModel)},[e,i,t.filterModel])},KI=e=>T({},e,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null},tabIndex:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}}),JI=(e,t)=>{const o=An(e,"useGridFocus"),r=l.useRef(null),i=l.useCallback((k,F)=>{k&&e.current.getRow(k.id)&&e.current.publishEvent("cellFocusOut",e.current.getCellParams(k.id,k.field),F)},[e]),a=l.useCallback((k,F)=>{const z=Vn(e);(z==null?void 0:z.id)===k&&(z==null?void 0:z.field)===F||(e.current.setState(O=>(o.debug(`Focusing on cell with id=${k} and field=${F}`),T({},O,{tabIndex:{cell:{id:k,field:F},columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null},focus:{cell:{id:k,field:F},columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}}))),e.current.forceUpdate(),e.current.getRow(k)&&(z&&i(z,{}),e.current.publishEvent("cellFocusIn",e.current.getCellParams(k,F))))},[e,o,i]),c=l.useCallback((k,F={})=>{const z=Vn(e);i(z,F),e.current.setState(O=>(o.debug(`Focusing on column header with colIndex=${k}`),T({},O,{tabIndex:{columnHeader:{field:k},columnHeaderFilter:null,cell:null,columnGroupHeader:null},focus:{columnHeader:{field:k},columnHeaderFilter:null,cell:null,columnGroupHeader:null}}))),e.current.forceUpdate()},[e,o,i]),d=l.useCallback((k,F={})=>{const z=Vn(e);i(z,F),e.current.setState(O=>(o.debug(`Focusing on column header filter with colIndex=${k}`),T({},O,{tabIndex:{columnHeader:null,columnHeaderFilter:{field:k},cell:null,columnGroupHeader:null},focus:{columnHeader:null,columnHeaderFilter:{field:k},cell:null,columnGroupHeader:null}}))),e.current.forceUpdate()},[e,o,i]),h=l.useCallback((k,F,z={})=>{const O=Vn(e);O&&e.current.publishEvent("cellFocusOut",e.current.getCellParams(O.id,O.field),z),e.current.setState($=>T({},$,{tabIndex:{columnGroupHeader:{field:k,depth:F},columnHeader:null,columnHeaderFilter:null,cell:null},focus:{columnGroupHeader:{field:k,depth:F},columnHeader:null,columnHeaderFilter:null,cell:null}})),e.current.forceUpdate()},[e]),v=l.useCallback(()=>na(e),[e]),m=l.useCallback((k,F,z)=>{let O=e.current.getColumnIndex(F);const $=kn(e),H=ca(e,{pagination:t.pagination,paginationMode:t.paginationMode}),B=fs(e),I=[].concat(B.top||[],H.rows,B.bottom||[]);let M=I.findIndex(G=>G.id===k);z==="right"?O+=1:z==="left"?O-=1:M+=1,O>=$.length?(M+=1,M<I.length&&(O=0)):O<0&&(M-=1,M>=0&&(O=$.length-1)),M=ds(M,0,I.length-1);const j=I[M];if(!j)return;const W=e.current.unstable_getCellColSpanInfo(j.id,O);W&&W.spannedByColSpan&&(z==="left"||z==="below"?O=W.leftVisibleCellIndex:z==="right"&&(O=W.rightVisibleCellIndex)),O=ds(O,0,$.length-1);const E=$[O];e.current.setCellFocus(j.id,E.field)},[e,t.pagination,t.paginationMode]),f=l.useCallback(({id:k,field:F})=>{e.current.setCellFocus(k,F)},[e]),g=l.useCallback((k,F)=>{F.key==="Enter"||F.key==="Tab"||F.key==="Shift"||aa(F.key)||e.current.setCellFocus(k.id,k.field)},[e]),b=l.useCallback(({field:k},F)=>{F.target===F.currentTarget&&e.current.setColumnHeaderFocus(k,F)},[e]),x=l.useCallback(({fields:k,depth:F},z)=>{if(z.target!==z.currentTarget)return;const O=na(e);O!==null&&O.depth===F&&k.includes(O.field)||e.current.setColumnGroupHeaderFocus(k[0],F,z)},[e]),w=l.useCallback((k,F)=>{var z;(z=F.relatedTarget)!=null&&z.className.includes(Y.columnHeader)||(o.debug("Clearing focus"),e.current.setState(O=>T({},O,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}})))},[o,e]),C=l.useCallback(k=>{r.current=k},[]),_=l.useCallback(k=>{const F=r.current;r.current=null;const z=Vn(e);if(!e.current.unstable_applyPipeProcessors("canUpdateFocus",!0,{event:k,cell:F}))return;if(!z){F&&e.current.setCellFocus(F.id,F.field);return}if((F==null?void 0:F.id)===z.id&&(F==null?void 0:F.field)===z.field)return;const $=e.current.getCellElement(z.id,z.field);$!=null&&$.contains(k.target)||(F?e.current.setCellFocus(F.id,F.field):(e.current.setState(H=>T({},H,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}})),e.current.forceUpdate(),i(z,k)))},[e,i]),P=l.useCallback(k=>{if(k.cellMode==="view")return;const F=Vn(e);((F==null?void 0:F.id)!==k.id||(F==null?void 0:F.field)!==k.field)&&e.current.setCellFocus(k.id,k.field)},[e]),R=l.useCallback(()=>{const k=Vn(e);k&&!e.current.getRow(k.id)&&e.current.setState(F=>T({},F,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}}))},[e]),D=ho(()=>{const k=Vn(e);if(!k)return;const F=ca(e,{pagination:t.pagination,paginationMode:t.paginationMode});if(F.rows.find($=>$.id===k.id))return;const O=kn(e);e.current.setState($=>T({},$,{tabIndex:{cell:{id:F.rows[0].id,field:O[0].field},columnGroupHeader:null,columnHeader:null,columnHeaderFilter:null}}))}),V={setCellFocus:a,setColumnHeaderFocus:c,setColumnHeaderFilterFocus:d},A={moveFocusToRelativeCell:m,setColumnGroupHeaderFocus:h,getColumnGroupHeaderFocus:v};bt(e,V,"public"),bt(e,A,"private"),l.useEffect(()=>{const k=ni(e.current.rootElementRef.current);return k.addEventListener("mouseup",_),()=>{k.removeEventListener("mouseup",_)}},[e,_]),Ze(e,"columnHeaderBlur",w),Ze(e,"cellDoubleClick",f),Ze(e,"cellMouseDown",C),Ze(e,"cellKeyDown",g),Ze(e,"cellModeChange",P),Ze(e,"columnHeaderFocus",b),Ze(e,"columnGroupHeaderFocus",x),Ze(e,"rowsSet",R),Ze(e,"paginationModelChange",D)};function qI(e,t){const o=fs(e)||{};return[...o.top||[],...t,...o.bottom||[]]}const kl=({currentColIndex:e,firstColIndex:t,lastColIndex:o,direction:r})=>{if(r==="rtl"){if(e<o)return e+1}else if(r==="ltr"&&e>t)return e-1;return null},Ml=({currentColIndex:e,firstColIndex:t,lastColIndex:o,direction:r})=>{if(r==="rtl"){if(e>t)return e-1}else if(r==="ltr"&&e<o)return e+1;return null},XI=(e,t)=>{const o=An(e,"useGridKeyboardNavigation"),r=Lr(e,t).rows,i=Jt(),a=l.useMemo(()=>qI(e,r),[e,r]),c=t.signature!=="DataGrid"&&t.unstable_headerFilters,d=l.useCallback((_,P,R="left")=>{const D=ur(e),V=e.current.unstable_getCellColSpanInfo(P,_);V&&V.spannedByColSpan&&(R==="left"?_=V.leftVisibleCellIndex:R==="right"&&(_=V.rightVisibleCellIndex));const A=D.findIndex(F=>F.id===P);o.debug(`Navigating to cell row ${A}, col ${_}`),e.current.scrollToIndexes({colIndex:_,rowIndex:A});const k=e.current.getVisibleColumns()[_].field;e.current.setCellFocus(P,k)},[e,o]),h=l.useCallback((_,P)=>{o.debug(`Navigating to header col ${_}`),e.current.scrollToIndexes({colIndex:_});const R=e.current.getVisibleColumns()[_].field;e.current.setColumnHeaderFocus(R,P)},[e,o]),v=l.useCallback((_,P)=>{o.debug(`Navigating to header filter col ${_}`),e.current.scrollToIndexes({colIndex:_});const R=e.current.getVisibleColumns()[_].field;e.current.setColumnHeaderFilterFocus(R,P)},[e,o]),m=l.useCallback((_,P,R)=>{o.debug(`Navigating to header col ${_}`),e.current.scrollToIndexes({colIndex:_});const{field:D}=e.current.getVisibleColumns()[_];e.current.setColumnGroupHeaderFocus(D,P,R)},[e,o]),f=l.useCallback(_=>{var P;return(P=a[_])==null?void 0:P.id},[a]),g=l.useCallback((_,P)=>{const R=P.currentTarget.querySelector(`.${Y.columnHeaderTitleContainerContent}`);if(!!R&&R.contains(P.target)&&_.field!==vs.field||!e.current.getRootDimensions())return;const A=e.current.getViewportPageSize(),k=_.field?e.current.getColumnIndex(_.field):0,F=a.length>0?0:null,z=a.length-1,O=0,$=kn(e).length-1,H=si(e);let B=!0;switch(P.key){case"ArrowDown":{F!==null&&(c?v(k,P):d(k,f(F)));break}case"ArrowRight":{const I=Ml({currentColIndex:k,firstColIndex:O,lastColIndex:$,direction:i.direction});I!==null&&h(I,P);break}case"ArrowLeft":{const I=kl({currentColIndex:k,firstColIndex:O,lastColIndex:$,direction:i.direction});I!==null&&h(I,P);break}case"ArrowUp":{H>0&&m(k,H-1,P);break}case"PageDown":{F!==null&&z!==null&&d(k,f(Math.min(F+A,z)));break}case"Home":{h(O,P);break}case"End":{h($,P);break}case"Enter":{(P.ctrlKey||P.metaKey)&&e.current.toggleColumnMenu(_.field);break}case" ":break;default:B=!1}B&&P.preventDefault()},[e,a.length,c,v,d,f,i.direction,h,m]),b=l.useCallback((_,P)=>{if(!e.current.getRootDimensions())return;const D=b1(e)===_.field,V=x1(e)===_.field;if(D||V||!aa(P.key))return;const A=e.current.getViewportPageSize(),k=_.field?e.current.getColumnIndex(_.field):0,F=0,z=a.length-1,O=0,$=kn(e).length-1;let H=!0;switch(P.key){case"ArrowDown":{const B=f(F);B!=null&&d(k,B);break}case"ArrowRight":{const B=Ml({currentColIndex:k,firstColIndex:O,lastColIndex:$,direction:i.direction});B!==null&&v(B,P);break}case"ArrowLeft":{const B=kl({currentColIndex:k,firstColIndex:O,lastColIndex:$,direction:i.direction});B!==null?v(B,P):e.current.setColumnHeaderFilterFocus(_.field,P);break}case"ArrowUp":{h(k,P);break}case"PageDown":{z!==null&&d(k,f(Math.min(F+A,z)));break}case"Home":{v(O,P);break}case"End":{v($,P);break}case" ":break;default:H=!1}H&&P.preventDefault()},[e,a.length,v,i.direction,h,d,f]),x=l.useCallback((_,P)=>{if(!e.current.getRootDimensions())return;const D=na(e);if(D===null)return;const{field:V,depth:A}=D,{fields:k,depth:F,maxDepth:z}=_,O=e.current.getViewportPageSize(),$=e.current.getColumnIndex(V),H=V?e.current.getColumnIndex(V):0,B=0,I=a.length-1,M=0,j=kn(e).length-1;let W=!0;switch(P.key){case"ArrowDown":{F===z-1?h($,P):m($,A+1,P);break}case"ArrowUp":{F>0&&m($,A-1,P);break}case"ArrowRight":{const E=k.length-k.indexOf(V)-1;$+E+1<=j&&m($+E+1,A,P);break}case"ArrowLeft":{const E=k.indexOf(V);$-E-1>=M&&m($-E-1,A,P);break}case"PageDown":{I!==null&&d(H,f(Math.min(B+O,I)));break}case"Home":{m(M,A,P);break}case"End":{m(j,A,P);break}case" ":break;default:W=!1}W&&P.preventDefault()},[e,a.length,h,m,d,f]),w=l.useCallback((_,P)=>{if(ii(P))return;const R=e.current.getCellParams(_.id,_.field);if(R.cellMode===Bt.Edit||!aa(P.key)||!e.current.unstable_applyPipeProcessors("canUpdateFocus",!0,{event:P,cell:R}))return;const V=e.current.getRootDimensions();if(a.length===0||!V)return;const A=i.direction,k=e.current.getViewportPageSize(),F=_.field?e.current.getColumnIndex(_.field):0,z=a.findIndex(M=>M.id===_.id),O=0,$=a.length-1,H=0,B=kn(e).length-1;let I=!0;switch(P.key){case"ArrowDown":{z<$&&d(F,f(z+1));break}case"ArrowUp":{z>O?d(F,f(z-1)):c?v(F,P):h(F,P);break}case"ArrowRight":{const M=Ml({currentColIndex:F,firstColIndex:H,lastColIndex:B,direction:A});M!==null&&d(M,f(z),A==="rtl"?"left":"right");break}case"ArrowLeft":{const M=kl({currentColIndex:F,firstColIndex:H,lastColIndex:B,direction:A});M!==null&&d(M,f(z),A==="rtl"?"right":"left");break}case"Tab":{P.shiftKey&&F>H?d(F-1,f(z),"left"):!P.shiftKey&&F<B&&d(F+1,f(z),"right");break}case" ":{if(_.field===Zc)break;const j=_.colDef;if(j&&j.type==="treeDataGroup")break;!P.shiftKey&&z<$&&d(F,f(Math.min(z+k,$)));break}case"PageDown":{z<$&&d(F,f(Math.min(z+k,$)));break}case"PageUp":{const M=Math.max(z-k,O);M!==z&&M>=O?d(F,f(M)):h(F,P);break}case"Home":{P.ctrlKey||P.metaKey||P.shiftKey?d(H,f(O)):d(H,f(z));break}case"End":{P.ctrlKey||P.metaKey||P.shiftKey?d(B,f($)):d(B,f(z));break}default:I=!1}I&&P.preventDefault()},[e,a,i.direction,d,f,c,v,h]),C=l.useCallback((_,{event:P})=>P.key===" "?!1:_,[]);fn(e,"canStartEditing",C),Ze(e,"columnHeaderKeyDown",g),Ze(e,"headerFilterKeyDown",b),Ze(e,"columnGroupHeaderKeyDown",x),Ze(e,"cellKeyDown",w)},YI=(e,t)=>{var o;const r=An(e,"useGridRowCount"),i=ze(e,Kh),a=ze(e,ts);e.current.registerControlState({stateId:"paginationRowCount",propModel:t.rowCount,propOnChange:t.onRowCountChange,stateSelector:ts,changeEvent:"rowCountChange"});const d={setRowCount:l.useCallback(m=>{a!==m&&(r.debug("Setting 'rowCount' to",m),e.current.setState(f=>T({},f,{pagination:T({},f.pagination,{rowCount:m})})))},[e,r,a])};bt(e,d,"public");const h=l.useCallback((m,f)=>{var g;const b=ts(e);return!f.exportOnlyDirtyModels||t.rowCount!=null||((g=t.initialState)==null||(g=g.pagination)==null?void 0:g.rowCount)!=null?T({},m,{pagination:T({},m.pagination,{rowCount:b})}):m},[e,t.rowCount,(o=t.initialState)==null||(o=o.pagination)==null?void 0:o.rowCount]),v=l.useCallback((m,f)=>{var g;const b=(g=f.stateToRestore.pagination)!=null&&g.rowCount?f.stateToRestore.pagination.rowCount:ts(e);return e.current.setState(x=>T({},x,{pagination:T({},x.pagination,{rowCount:b})})),m},[e]);fn(e,"exportState",h),fn(e,"restoreState",v),l.useEffect(()=>{},[t.rowCount,t.paginationMode]),l.useEffect(()=>{t.paginationMode==="client"?e.current.setRowCount(i):t.rowCount!=null&&e.current.setRowCount(t.rowCount)},[e,i,t.paginationMode,t.rowCount])},QI=(e,t)=>{var o,r,i,a,c;const d=T({},hm(t.autoPageSize),(o=t.paginationModel)!=null?o:(r=t.initialState)==null||(r=r.pagination)==null?void 0:r.paginationModel);mm(d.pageSize,t.signature);const h=(i=(a=t.rowCount)!=null?a:(c=t.initialState)==null||(c=c.pagination)==null?void 0:c.rowCount)!=null?i:0;return T({},e,{pagination:{paginationModel:d,rowCount:h}})},eT=(e,t)=>{jI(e,t),YI(e,t)},tT=(e,t)=>{var o,r;return T({},e,{preferencePanel:(o=(r=t.initialState)==null?void 0:r.preferencePanel)!=null?o:{open:!1}})},nT=(e,t)=>{var o;const r=An(e,"useGridPreferencesPanel"),i=l.useRef(),a=l.useRef(),c=l.useCallback(()=>{r.debug("Hiding Preferences Panel");const g=Ks(e.current.state);g.openedPanelValue&&e.current.publishEvent("preferencePanelClose",{openedPanelValue:g.openedPanelValue}),e.current.setState(b=>T({},b,{preferencePanel:{open:!1}})),e.current.forceUpdate()},[e,r]),d=l.useCallback(()=>{a.current=setTimeout(()=>clearTimeout(i.current),0)},[]),h=l.useCallback(()=>{i.current=setTimeout(c,100)},[c]),v=l.useCallback((g,b,x)=>{r.debug("Opening Preferences Panel"),d(),e.current.setState(w=>T({},w,{preferencePanel:T({},w.preferencePanel,{open:!0,openedPanelValue:g,panelId:b,labelId:x})})),e.current.publishEvent("preferencePanelOpen",{openedPanelValue:g}),e.current.forceUpdate()},[r,d,e]);bt(e,{showPreferences:v,hidePreferences:h},"public");const m=l.useCallback((g,b)=>{var x;const w=Ks(e.current.state);return!b.exportOnlyDirtyModels||((x=t.initialState)==null?void 0:x.preferencePanel)!=null||w.open?T({},g,{preferencePanel:w}):g},[e,(o=t.initialState)==null?void 0:o.preferencePanel]),f=l.useCallback((g,b)=>{const x=b.stateToRestore.preferencePanel;return x!=null&&e.current.setState(w=>T({},w,{preferencePanel:x})),g},[e]);fn(e,"exportState",m),fn(e,"restoreState",f),l.useEffect(()=>()=>{clearTimeout(i.current),clearTimeout(a.current)},[])},oT=["id","field"],rT=["id","field"],sT=Mo(["MUI: A call to `processRowUpdate` threw an error which was not handled because `onProcessRowUpdateError` is missing.","To handle the error pass a callback to the `onProcessRowUpdateError` prop, e.g. `<DataGrid onProcessRowUpdateError={(error) => ...} />`.","For more detail, see http://mui.com/components/data-grid/editing/#server-side-persistence."],"error"),iT=(e,t)=>{const[o,r]=l.useState({}),i=l.useRef(o),a=l.useRef({}),{processRowUpdate:c,onProcessRowUpdateError:d,cellModesModel:h,onCellModesModelChange:v}=t,m=I=>(...M)=>{t.editMode===ko.Cell&&I(...M)},f=l.useCallback((I,M)=>{const j=e.current.getCellParams(I,M);if(!e.current.isCellEditable(j))throw new Error(`MUI: The cell with id=${I} and field=${M} is not editable.`)},[e]),g=l.useCallback((I,M,j)=>{if(e.current.getCellMode(I,M)!==j)throw new Error(`MUI: The cell with id=${I} and field=${M} is not in ${j} mode.`)},[e]),b=l.useCallback((I,M)=>{if(!I.isEditable||I.cellMode===Bt.Edit)return;const j=T({},I,{reason:zo.cellDoubleClick});e.current.publishEvent("cellEditStart",j,M)},[e]),x=l.useCallback((I,M)=>{if(I.cellMode===Bt.View||e.current.getCellMode(I.id,I.field)===Bt.View)return;const j=T({},I,{reason:co.cellFocusOut});e.current.publishEvent("cellEditStop",j,M)},[e]),w=l.useCallback((I,M)=>{if(I.cellMode===Bt.Edit){if(M.which===229)return;let j;if(M.key==="Escape"?j=co.escapeKeyDown:M.key==="Enter"?j=co.enterKeyDown:M.key==="Tab"&&(j=M.shiftKey?co.shiftTabKeyDown:co.tabKeyDown,M.preventDefault()),j){const W=T({},I,{reason:j});e.current.publishEvent("cellEditStop",W,M)}}else if(I.isEditable){let j;if(!e.current.unstable_applyPipeProcessors("canStartEditing",!0,{event:M,cellParams:I,editMode:"cell"}))return;if(sm(M)?j=zo.printableKeyDown:(M.ctrlKey||M.metaKey)&&M.key==="v"?j=zo.pasteKeyDown:M.key==="Enter"?j=zo.enterKeyDown:(M.key==="Delete"||M.key==="Backspace")&&(j=zo.deleteKeyDown),j){const E=T({},I,{reason:j,key:M.key});e.current.publishEvent("cellEditStart",E,M)}}},[e]),C=l.useCallback(I=>{const{id:M,field:j,reason:W}=I,E={id:M,field:j};(W===zo.printableKeyDown||W===zo.deleteKeyDown||W===zo.pasteKeyDown)&&(E.deleteValue=!0),e.current.startCellEditMode(E)},[e]),_=l.useCallback(I=>{const{id:M,field:j,reason:W}=I;e.current.runPendingEditCellValueMutation(M,j);let E;W===co.enterKeyDown?E="below":W===co.tabKeyDown?E="right":W===co.shiftTabKeyDown&&(E="left");const G=W==="escapeKeyDown";e.current.stopCellEditMode({id:M,field:j,ignoreModifications:G,cellToFocusAfter:E})},[e]);Ze(e,"cellDoubleClick",m(b)),Ze(e,"cellFocusOut",m(x)),Ze(e,"cellKeyDown",m(w)),Ze(e,"cellEditStart",m(C)),Ze(e,"cellEditStop",m(_)),nn(e,"cellEditStart",t.onCellEditStart),nn(e,"cellEditStop",t.onCellEditStop);const P=l.useCallback((I,M)=>{const j=On(e.current.state);return j[I]&&j[I][M]?Bt.Edit:Bt.View},[e]),R=ho(I=>{const M=I!==t.cellModesModel;v&&M&&v(I,{}),!(t.cellModesModel&&M)&&(r(I),i.current=I,e.current.publishEvent("cellModesModelChange",I))}),D=l.useCallback((I,M,j)=>{const W=T({},i.current);if(j!==null)W[I]=T({},W[I],{[M]:T({},j)});else{const E=W[I],G=He(E,[M].map(Ws));W[I]=G,Object.keys(W[I]).length===0&&delete W[I]}R(W)},[R]),V=l.useCallback((I,M,j)=>{e.current.setState(W=>{const E=T({},W.editRows);return j!==null?E[I]=T({},E[I],{[M]:T({},j)}):(delete E[I][M],Object.keys(E[I]).length===0&&delete E[I]),T({},W,{editRows:E})}),e.current.forceUpdate()},[e]),A=l.useCallback(I=>{const{id:M,field:j}=I,W=He(I,oT);f(M,j),g(M,j,Bt.View),D(M,j,T({mode:Bt.Edit},W))},[f,g,D]),k=ho(I=>{const{id:M,field:j,deleteValue:W,initialValue:E}=I;let G=e.current.getCellValue(M,j);(W||E)&&(G=W?"":E),V(M,j,{value:G,error:!1,isProcessingProps:!1}),e.current.setCellFocus(M,j)}),F=l.useCallback(I=>{const{id:M,field:j}=I,W=He(I,rT);g(M,j,Bt.Edit),D(M,j,T({mode:Bt.View},W))},[g,D]),z=ho(async I=>{const{id:M,field:j,ignoreModifications:W,cellToFocusAfter:E="none"}=I;g(M,j,Bt.Edit),e.current.runPendingEditCellValueMutation(M,j);const G=()=>{V(M,j,null),D(M,j,null),E!=="none"&&e.current.moveFocusToRelativeCell(M,j,E)};if(W){G();return}const Z=On(e.current.state),{error:q,isProcessingProps:te}=Z[M][j];if(q||te){a.current[M][j].mode=Bt.Edit,D(M,j,{mode:Bt.Edit});return}const J=e.current.getRowWithUpdatedValuesFromCellEditing(M,j);if(c){const oe=X=>{a.current[M][j].mode=Bt.Edit,D(M,j,{mode:Bt.Edit}),d?d(X):sT()};try{const X=e.current.getRow(M);Promise.resolve(c(J,X)).then(U=>{e.current.updateRows([U]),G()}).catch(oe)}catch(X){oe(X)}}else e.current.updateRows([J]),G()}),O=l.useCallback(async I=>{var M;const{id:j,field:W,value:E,debounceMs:G,unstable_skipValueParser:Z}=I;f(j,W),g(j,W,Bt.Edit);const q=e.current.getColumn(W),te=e.current.getRow(j);let J=E;q.valueParser&&!Z&&(J=q.valueParser(E,e.current.getCellParams(j,W)));let oe=On(e.current.state),X=T({},oe[j][W],{value:J,changeReason:G?"debouncedSetEditCellValue":"setEditCellValue"});if(q.preProcessEditCellProps){const U=E!==oe[j][W].value;X=T({},X,{isProcessingProps:!0}),V(j,W,X),X=await Promise.resolve(q.preProcessEditCellProps({id:j,row:te,props:X,hasChanged:U}))}return e.current.getCellMode(j,W)===Bt.View?!1:(oe=On(e.current.state),X=T({},X,{isProcessingProps:!1}),X.value=q.preProcessEditCellProps?oe[j][W].value:J,V(j,W,X),oe=On(e.current.state),!((M=oe[j])!=null&&(M=M[W])!=null&&M.error))},[e,f,g,V]),$=l.useCallback((I,M)=>{const j=e.current.getColumn(M),W=On(e.current.state),E=e.current.getRow(I);if(!W[I]||!W[I][M])return e.current.getRow(I);const{value:G}=W[I][M];return j.valueSetter?j.valueSetter({value:G,row:E}):T({},E,{[M]:G})},[e]),H={getCellMode:P,startCellEditMode:A,stopCellEditMode:F},B={setCellEditingEditCellValue:O,getRowWithUpdatedValuesFromCellEditing:$};bt(e,H,"public"),bt(e,B,"private"),l.useEffect(()=>{h&&R(h)},[h,R]),Pn(()=>{const I=ta(e),M=a.current;a.current=dm(o),Object.entries(o).forEach(([j,W])=>{Object.entries(W).forEach(([E,G])=>{var Z,q;const te=((Z=M[j])==null||(Z=Z[E])==null?void 0:Z.mode)||Bt.View,J=(q=I[j])!=null?q:j;G.mode===Bt.Edit&&te===Bt.View?k(T({id:J,field:E},G)):G.mode===Bt.View&&te===Bt.Edit&&z(T({id:J,field:E},G))})})},[e,o,k,z])},aT=["id"],lT=["id"],cT=Mo(["MUI: A call to `processRowUpdate` threw an error which was not handled because `onProcessRowUpdateError` is missing.","To handle the error pass a callback to the `onProcessRowUpdateError` prop, e.g. `<DataGrid onProcessRowUpdateError={(error) => ...} />`.","For more detail, see http://mui.com/components/data-grid/editing/#server-side-persistence."],"error"),uT=(e,t)=>{const[o,r]=l.useState({}),i=l.useRef(o),a=l.useRef({}),c=l.useRef(null),d=l.useRef(null),{processRowUpdate:h,onProcessRowUpdateError:v,rowModesModel:m,onRowModesModelChange:f}=t,g=E=>(...G)=>{t.editMode===ko.Row&&E(...G)},b=l.useCallback((E,G)=>{const Z=e.current.getCellParams(E,G);if(!e.current.isCellEditable(Z))throw new Error(`MUI: The cell with id=${E} and field=${G} is not editable.`)},[e]),x=l.useCallback((E,G)=>{if(e.current.getRowMode(E)!==G)throw new Error(`MUI: The row with id=${E} is not in ${G} mode.`)},[e]),w=l.useCallback((E,G)=>{if(!E.isEditable||e.current.getRowMode(E.id)===Qt.Edit)return;const Z=e.current.getRowParams(E.id),q=T({},Z,{field:E.field,reason:Qo.cellDoubleClick});e.current.publishEvent("rowEditStart",q,G)},[e]),C=l.useCallback(E=>{d.current=E},[]),_=l.useCallback((E,G)=>{E.isEditable&&e.current.getRowMode(E.id)!==Qt.View&&(d.current=null,c.current=setTimeout(()=>{var Z;if(c.current=null,((Z=d.current)==null?void 0:Z.id)!==E.id){if(!e.current.getRow(E.id)||e.current.getRowMode(E.id)===Qt.View)return;const q=e.current.getRowParams(E.id),te=T({},q,{field:E.field,reason:$o.rowFocusOut});e.current.publishEvent("rowEditStop",te,G)}}))},[e]);l.useEffect(()=>()=>{clearTimeout(c.current)},[]);const P=l.useCallback((E,G)=>{if(E.cellMode===Qt.Edit){if(G.which===229)return;let Z;if(G.key==="Escape")Z=$o.escapeKeyDown;else if(G.key==="Enter")Z=$o.enterKeyDown;else if(G.key==="Tab"){const q=Aa(e).filter(te=>e.current.getColumn(te).type===Na?!0:e.current.isCellEditable(e.current.getCellParams(E.id,te)));if(G.shiftKey?E.field===q[0]&&(Z=$o.shiftTabKeyDown):E.field===q[q.length-1]&&(Z=$o.tabKeyDown),G.preventDefault(),!Z){const te=q.findIndex(oe=>oe===E.field),J=q[G.shiftKey?te-1:te+1];e.current.setCellFocus(E.id,J)}}if(Z){const q=T({},e.current.getRowParams(E.id),{reason:Z,field:E.field});e.current.publishEvent("rowEditStop",q,G)}}else if(E.isEditable){let Z;if(!e.current.unstable_applyPipeProcessors("canStartEditing",!0,{event:G,cellParams:E,editMode:"row"}))return;if(sm(G)||(G.ctrlKey||G.metaKey)&&G.key==="v"?Z=Qo.printableKeyDown:G.key==="Enter"?Z=Qo.enterKeyDown:(G.key==="Delete"||G.key==="Backspace")&&(Z=Qo.deleteKeyDown),Z){const te=e.current.getRowParams(E.id),J=T({},te,{field:E.field,reason:Z});e.current.publishEvent("rowEditStart",J,G)}}},[e]),R=l.useCallback(E=>{const{id:G,field:Z,reason:q}=E,te={id:G,fieldToFocus:Z};(q===Qo.printableKeyDown||q===Qo.deleteKeyDown)&&(te.deleteValue=!!Z),e.current.startRowEditMode(te)},[e]),D=l.useCallback(E=>{const{id:G,reason:Z,field:q}=E;e.current.runPendingEditCellValueMutation(G);let te;Z===$o.enterKeyDown?te="below":Z===$o.tabKeyDown?te="right":Z===$o.shiftTabKeyDown&&(te="left");const J=Z==="escapeKeyDown";e.current.stopRowEditMode({id:G,ignoreModifications:J,field:q,cellToFocusAfter:te})},[e]);Ze(e,"cellDoubleClick",g(w)),Ze(e,"cellFocusIn",g(C)),Ze(e,"cellFocusOut",g(_)),Ze(e,"cellKeyDown",g(P)),Ze(e,"rowEditStart",g(R)),Ze(e,"rowEditStop",g(D)),nn(e,"rowEditStart",t.onRowEditStart),nn(e,"rowEditStop",t.onRowEditStop);const V=l.useCallback(E=>{if(t.editMode===ko.Cell)return Qt.View;const G=On(e.current.state);return G[E]&&Object.keys(G[E]).length>0?Qt.Edit:Qt.View},[e,t.editMode]),A=ho(E=>{const G=E!==t.rowModesModel;f&&G&&f(E,{}),!(t.rowModesModel&&G)&&(r(E),i.current=E,e.current.publishEvent("rowModesModelChange",E))}),k=l.useCallback((E,G)=>{const Z=T({},i.current);G!==null?Z[E]=T({},G):delete Z[E],A(Z)},[A]),F=l.useCallback((E,G)=>{e.current.setState(Z=>{const q=T({},Z.editRows);return G!==null?q[E]=G:delete q[E],T({},Z,{editRows:q})}),e.current.forceUpdate()},[e]),z=l.useCallback((E,G,Z)=>{e.current.setState(q=>{const te=T({},q.editRows);return Z!==null?te[E]=T({},te[E],{[G]:T({},Z)}):(delete te[E][G],Object.keys(te[E]).length===0&&delete te[E]),T({},q,{editRows:te})}),e.current.forceUpdate()},[e]),O=l.useCallback(E=>{const{id:G}=E,Z=He(E,aT);x(G,Qt.View),k(G,T({mode:Qt.Edit},Z))},[x,k]),$=ho(E=>{const{id:G,fieldToFocus:Z,deleteValue:q,initialValue:te}=E,oe=Go(e).reduce((X,U)=>{if(!e.current.getCellParams(G,U).isEditable)return X;let ce=e.current.getCellValue(G,U);return Z===U&&(q||te)&&(ce=q?"":te),X[U]={value:ce,error:!1,isProcessingProps:!1},X},{});F(G,oe),Z&&e.current.setCellFocus(G,Z)}),H=l.useCallback(E=>{const{id:G}=E,Z=He(E,lT);x(G,Qt.Edit),k(G,T({mode:Qt.View},Z))},[x,k]),B=ho(E=>{const{id:G,ignoreModifications:Z,field:q,cellToFocusAfter:te="none"}=E;e.current.runPendingEditCellValueMutation(G);const J=()=>{te!=="none"&&q&&e.current.moveFocusToRelativeCell(G,q,te),F(G,null),k(G,null)};if(Z){J();return}const oe=On(e.current.state),X=e.current.getRow(G);if(Object.values(oe[G]).some(ve=>ve.isProcessingProps)){a.current[G].mode=Qt.Edit;return}if(Object.values(oe[G]).some(ve=>ve.error)){a.current[G].mode=Qt.Edit,k(G,{mode:Qt.Edit});return}const ce=e.current.getRowWithUpdatedValuesFromRowEditing(G);if(h){const ve=fe=>{a.current[G].mode=Qt.Edit,k(G,{mode:Qt.Edit}),v?v(fe):cT()};try{Promise.resolve(h(ce,X)).then(fe=>{e.current.updateRows([fe]),J()}).catch(ve)}catch(fe){ve(fe)}}else e.current.updateRows([ce]),J()}),I=l.useCallback(E=>{const{id:G,field:Z,value:q,debounceMs:te,unstable_skipValueParser:J}=E;b(G,Z);const oe=e.current.getColumn(Z),X=e.current.getRow(G);let U=q;oe.valueParser&&!J&&(U=oe.valueParser(q,e.current.getCellParams(G,Z)));let ne=On(e.current.state),ce=T({},ne[G][Z],{value:U,changeReason:te?"debouncedSetEditCellValue":"setEditCellValue"});return oe.preProcessEditCellProps||z(G,Z,ce),new Promise(ve=>{const fe=[];if(oe.preProcessEditCellProps){const ke=ce.value!==ne[G][Z].value;ce=T({},ce,{isProcessingProps:!0}),z(G,Z,ce);const _e=ne[G],le=He(_e,[Z].map(Ws)),ye=Promise.resolve(oe.preProcessEditCellProps({id:G,row:X,props:ce,hasChanged:ke,otherFieldsProps:le})).then(Te=>{if(e.current.getRowMode(G)===Qt.View){ve(!1);return}ne=On(e.current.state),Te=T({},Te,{isProcessingProps:!1}),Te.value=oe.preProcessEditCellProps?ne[G][Z].value:U,z(G,Z,Te)});fe.push(ye)}Object.entries(ne[G]).forEach(([ke,_e])=>{if(ke===Z)return;const le=e.current.getColumn(ke);if(!le.preProcessEditCellProps)return;_e=T({},_e,{isProcessingProps:!0}),z(G,ke,_e),ne=On(e.current.state);const ye=ne[G],Te=He(ye,[ke].map(Ws)),De=Promise.resolve(le.preProcessEditCellProps({id:G,row:X,props:_e,hasChanged:!1,otherFieldsProps:Te})).then(ie=>{if(e.current.getRowMode(G)===Qt.View){ve(!1);return}ie=T({},ie,{isProcessingProps:!1}),z(G,ke,ie)});fe.push(De)}),Promise.all(fe).then(()=>{e.current.getRowMode(G)===Qt.Edit?(ne=On(e.current.state),ve(!ne[G][Z].error)):ve(!1)})})},[e,b,z]),M=l.useCallback(E=>{const G=On(e.current.state),Z=e.current.getRow(E);if(!G[E])return e.current.getRow(E);let q=T({},Z);return Object.entries(G[E]).forEach(([te,J])=>{const oe=e.current.getColumn(te);oe.valueSetter?q=oe.valueSetter({value:J.value,row:q}):q[te]=J.value}),q},[e]),j={getRowMode:V,startRowEditMode:O,stopRowEditMode:H},W={setRowEditingEditCellValue:I,getRowWithUpdatedValuesFromRowEditing:M};bt(e,j,"public"),bt(e,W,"private"),l.useEffect(()=>{m&&A(m)},[m,A]),Pn(()=>{const E=ta(e),G=a.current;a.current=dm(o),Object.entries(o).forEach(([Z,q])=>{var te,J;const oe=((te=G[Z])==null?void 0:te.mode)||Qt.View,X=(J=E[Z])!=null?J:Z;q.mode===Qt.Edit&&oe===Qt.View?$(T({id:X},q)):q.mode===Qt.View&&oe===Qt.Edit&&B(T({id:X},q))})},[e,o,$,B])},dT=e=>T({},e,{editRows:{}}),pT=(e,t)=>{iT(e,t),uT(e,t);const o=l.useRef({}),{isCellEditable:r}=t,i=l.useCallback(g=>Zs(g.rowNode)||!g.colDef.editable||!g.colDef.renderEditCell?!1:r?r(g):!0,[r]),a=(g,b,x,w)=>{if(!x){w();return}if(o.current[g]||(o.current[g]={}),o.current[g][b]){const[P]=o.current[g][b];clearTimeout(P)}const C=()=>{const[P]=o.current[g][b];clearTimeout(P),w(),delete o.current[g][b]},_=setTimeout(()=>{w(),delete o.current[g][b]},x);o.current[g][b]=[_,C]};l.useEffect(()=>{const g=o.current;return()=>{Object.entries(g).forEach(([b,x])=>{Object.keys(x).forEach(w=>{const[C]=g[b][w];clearTimeout(C),delete g[b][w]})})}},[]);const c=l.useCallback((g,b)=>{if(o.current[g]){if(!b)Object.keys(o.current[g]).forEach(x=>{const[,w]=o.current[g][x];w()});else if(o.current[g][b]){const[,x]=o.current[g][b];x()}}},[]),d=l.useCallback(g=>{const{id:b,field:x,debounceMs:w}=g;return new Promise(C=>{a(b,x,w,async()=>{const _=t.editMode===ko.Row?e.current.setRowEditingEditCellValue:e.current.setCellEditingEditCellValue;if(e.current.getCellMode(b,x)===Bt.Edit){const P=await _(g);C(P)}})})},[e,t.editMode]),h=l.useCallback((g,b)=>t.editMode===ko.Cell?e.current.getRowWithUpdatedValuesFromCellEditing(g,b):e.current.getRowWithUpdatedValuesFromRowEditing(g),[e,t.editMode]),v=l.useCallback((g,b)=>{var x,w;return(x=(w=On(e.current.state)[g])==null?void 0:w[b])!=null?x:null},[e]),m={isCellEditable:i,setEditCellValue:d,getRowWithUpdatedValues:h,unstable_getEditCellMeta:v},f={runPendingEditCellValueMutation:c};bt(e,m,"public"),bt(e,f,"private")},hT=(e,t,o)=>(o.current.caches.rows=ji({rows:t.rows,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),T({},e,{rows:Xh({apiRef:o,rowCountProp:t.rowCount,loadingProp:t.loading,previousTree:null,previousTreeDepths:null})})),mT=(e,t)=>{const o=An(e,"useGridRows"),r=Lr(e,t),i=l.useRef(Date.now()),a=Wc(),c=l.useCallback(B=>{const I=Bo(e)[B];if(I)return I;const M=e.current.getRowNode(B);return M&&Zs(M)?{[ls]:B}:null},[e]),d=t.getRowId,h=l.useCallback(B=>ls in B?B[ls]:d?d(B):B.id,[d]),v=l.useMemo(()=>r.rows.reduce((B,{id:I},M)=>(B[I]=M,B),{}),[r.rows]),m=l.useCallback(({cache:B,throttle:I})=>{const M=()=>{i.current=Date.now(),e.current.setState(W=>T({},W,{rows:Xh({apiRef:e,rowCountProp:t.rowCount,loadingProp:t.loading,previousTree:uo(e),previousTreeDepths:Ed(e)})})),e.current.publishEvent("rowsSet"),e.current.forceUpdate()};if(a.clear(),e.current.caches.rows=B,!I){M();return}const j=t.throttleRowsMs-(Date.now()-i.current);if(j>0){a.start(j,M);return}M()},[t.throttleRowsMs,t.rowCount,t.loading,e,a]),f=l.useCallback(B=>{o.debug(`Updating all rows, new length ${B.length}`);const I=ji({rows:B,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),M=e.current.caches.rows;I.rowsBeforePartialUpdates=M.rowsBeforePartialUpdates,m({cache:I,throttle:!0})},[o,t.getRowId,t.loading,t.rowCount,m,e]),g=l.useCallback(B=>{if(t.signature===To.DataGrid&&B.length>1)throw new Error(["MUI: You can't update several rows at once in `apiRef.current.updateRows` on the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join(`
`));const I=[];B.forEach(j=>{const W=ra(j,t.getRowId,"A row was provided without id when calling updateRows():"),E=e.current.getRowNode(W);if((E==null?void 0:E.type)==="pinnedRow"){const G=e.current.caches.pinnedRows,Z=G.idLookup[W];Z&&(G.idLookup[W]=T({},Z,j))}else I.push(j)});const M=aw({updates:I,getRowId:t.getRowId,previousCache:e.current.caches.rows});m({cache:M,throttle:!0})},[t.signature,t.getRowId,m,e]),b=l.useCallback(()=>{const B=Es(e),I=Bo(e);return new Map(B.map(M=>{var j;return[M,(j=I[M])!=null?j:{}]}))},[e]),x=l.useCallback(()=>Ea(e),[e]),w=l.useCallback(()=>Es(e),[e]),C=l.useCallback(B=>v[B],[v]),_=l.useCallback((B,I)=>{const M=e.current.getRowNode(B);if(!M)throw new Error(`MUI: No row with id #${B} found`);if(M.type!=="group")throw new Error("MUI: Only group nodes can be expanded or collapsed");const j=T({},M,{childrenExpanded:I});e.current.setState(W=>T({},W,{rows:T({},W.rows,{tree:T({},W.rows.tree,{[B]:j})})})),e.current.forceUpdate(),e.current.publishEvent("rowExpansionChange",j)},[e]),P=l.useCallback(B=>{var I;return(I=uo(e)[B])!=null?I:null},[e]),R=l.useCallback(({skipAutoGeneratedRows:B=!0,groupId:I,applySorting:M,applyFiltering:j})=>{const W=uo(e);let E;if(M){const G=W[I];if(!G)return[];const Z=Rc(e);E=[];const q=Z.findIndex(te=>te===I)+1;for(let te=q;te<Z.length&&W[Z[te]].depth>G.depth;te+=1){const J=Z[te];(!B||!Zs(W[J]))&&E.push(J)}}else E=Nc(W,I,B);if(j){const G=Wh(e);E=E.filter(Z=>G[Z]!==!1)}return E},[e]),D=l.useCallback((B,I)=>{const M=e.current.getRowNode(B);if(!M)throw new Error(`MUI: No row with id #${B} found`);if(M.parent!==Nn)throw new Error("MUI: The row reordering do not support reordering of grouped rows yet");if(M.type!=="leaf")throw new Error("MUI: The row reordering do not support reordering of footer or grouping rows");e.current.setState(j=>{const W=uo(j,e.current.instanceId)[Nn],E=W.children,G=E.findIndex(q=>q===B);if(G===-1||G===I)return j;o.debug(`Moving row ${B} to index ${I}`);const Z=[...E];return Z.splice(I,0,Z.splice(G,1)[0]),T({},j,{rows:T({},j.rows,{tree:T({},j.rows.tree,{[Nn]:T({},W,{children:Z})})})})}),e.current.publishEvent("rowsSet")},[e,o]),V=l.useCallback((B,I)=>{if(t.signature===To.DataGrid&&I.length>1)throw new Error(["MUI: You can't replace rows using `apiRef.current.unstable_replaceRows` on the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join(`
`));if(I.length===0)return;if(Ra(e)>1)throw new Error("`apiRef.current.unstable_replaceRows` is not compatible with tree data and row grouping");const j=T({},uo(e)),W=T({},Bo(e)),E=T({},ta(e)),G=j[Nn],Z=[...G.children],q=new Set;for(let J=0;J<I.length;J+=1){const oe=I[J],X=ra(oe,t.getRowId,"A row was provided without id when calling replaceRows()."),[U]=Z.splice(B+J,1,X);q.has(U)||(delete W[U],delete E[U],delete j[U]);const ne={id:X,depth:0,parent:Nn,type:"leaf",groupingKey:null};W[X]=oe,E[X]=X,j[X]=ne,q.add(X)}j[Nn]=T({},G,{children:Z});const te=Z.filter(J=>j[J].type==="leaf");e.current.caches.rows.dataRowIdToModelLookup=W,e.current.caches.rows.dataRowIdToIdLookup=E,e.current.setState(J=>T({},J,{rows:T({},J.rows,{dataRowIdToModelLookup:W,dataRowIdToIdLookup:E,dataRowIds:te,tree:j})})),e.current.publishEvent("rowsSet")},[e,t.signature,t.getRowId]),A={getRow:c,getRowId:h,getRowModels:b,getRowsCount:x,getAllRowIds:w,setRows:f,updateRows:g,getRowNode:P,getRowIndexRelativeToVisibleRows:C,unstable_replaceRows:V},k={setRowIndex:D,setRowChildrenExpansion:_,getRowGroupChildren:R},F=l.useCallback(()=>{o.info("Row grouping pre-processing have changed, regenerating the row tree");let B;e.current.caches.rows.rowsBeforePartialUpdates===t.rows?B=T({},e.current.caches.rows,{updates:{type:"full",rows:Es(e)}}):B=ji({rows:t.rows,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),m({cache:B,throttle:!1})},[o,e,t.rows,t.getRowId,t.loading,t.rowCount,m]),z=l.useCallback(B=>{B==="rowTreeCreation"&&F()},[F]),O=l.useCallback(()=>{e.current.getActiveStrategy("rowTree")!==HC(e)&&F()},[e,F]);Ze(e,"activeStrategyProcessorChange",z),Ze(e,"strategyAvailabilityChange",O);const $=l.useCallback(()=>{e.current.setState(B=>{const I=e.current.unstable_applyPipeProcessors("hydrateRows",{tree:uo(B,e.current.instanceId),treeDepths:Ed(B,e.current.instanceId),dataRowIds:Es(B,e.current.instanceId),dataRowIdToModelLookup:Bo(B,e.current.instanceId),dataRowIdToIdLookup:ta(B,e.current.instanceId)});return T({},B,{rows:T({},B.rows,I,{totalTopLevelRowCount:qh({tree:I.tree,rowCountProp:t.rowCount})})})}),e.current.publishEvent("rowsSet"),e.current.forceUpdate()},[e,t.rowCount]);Kc(e,"hydrateRows",$),bt(e,A,"public"),bt(e,k,t.signature===To.DataGrid?"private":"public");const H=l.useRef(!0);l.useEffect(()=>{if(H.current){H.current=!1;return}const B=e.current.caches.rows.rowsBeforePartialUpdates===t.rows,I=e.current.caches.rows.loadingPropBeforePartialUpdates===t.loading,M=e.current.caches.rows.rowCountPropBeforePartialUpdates===t.rowCount;if(B){I||(e.current.setState(j=>T({},j,{rows:T({},j.rows,{loading:t.loading})})),e.current.caches.rows.loadingPropBeforePartialUpdates=t.loading,e.current.forceUpdate()),M||(e.current.setState(j=>T({},j,{rows:T({},j.rows,{totalRowCount:Math.max(t.rowCount||0,j.rows.totalRowCount),totalTopLevelRowCount:Math.max(t.rowCount||0,j.rows.totalTopLevelRowCount)})})),e.current.caches.rows.rowCountPropBeforePartialUpdates=t.rowCount,e.current.forceUpdate());return}o.debug(`Updating all rows, new length ${t.rows.length}`),m({cache:ji({rows:t.rows,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),throttle:!1})},[t.rows,t.rowCount,t.getRowId,t.loading,o,m,e])},fT=e=>{const t={[Nn]:T({},sw(),{children:e})};for(let o=0;o<e.length;o+=1){const r=e[o];t[r]={id:r,depth:0,parent:Nn,type:"leaf",groupingKey:null}}return{groupingName:Dr,tree:t,treeDepths:{0:e.length},dataRowIds:e}},gT=({previousTree:e,actions:t})=>{const o=T({},e),r={};for(let c=0;c<t.remove.length;c+=1){const d=t.remove[c];r[d]=!0,delete o[d]}for(let c=0;c<t.insert.length;c+=1){const d=t.insert[c];o[d]={id:d,depth:0,parent:Nn,type:"leaf",groupingKey:null}}const i=o[Nn];let a=[...i.children,...t.insert];return Object.values(r).length&&(a=a.filter(c=>!r[c])),o[Nn]=T({},i,{children:a}),{groupingName:Dr,tree:o,treeDepths:{0:a.length},dataRowIds:a}},vT=e=>e.updates.type==="full"?fT(e.updates.rows):gT({previousTree:e.previousTree,actions:e.updates.actions}),yT=e=>{da(e,Dr,"rowTreeCreation",vT)},Bm=(e,t)=>e==null||Array.isArray(e)?e:t&&t[0]===e?t:[e],bT=(e,t)=>{var o;return T({},e,{rowSelection:t.rowSelection?(o=Bm(t.rowSelectionModel))!=null?o:[]:[]})},xT=(e,t)=>{const o=An(e,"useGridSelection"),r=I=>(...M)=>{t.rowSelection&&I(...M)},i=l.useMemo(()=>Bm(t.rowSelectionModel,no(e.current.state)),[e,t.rowSelectionModel]),a=l.useRef(null);e.current.registerControlState({stateId:"rowSelection",propModel:i,propOnChange:t.onRowSelectionModelChange,stateSelector:no,changeEvent:"rowSelectionChange"});const{checkboxSelection:c,disableMultipleRowSelection:d,disableRowSelectionOnClick:h,isRowSelectable:v}=t,m=!d||c,f=Lr(e,t),g=l.useCallback(I=>{var M;let j=I;const W=(M=a.current)!=null?M:I,E=e.current.isRowSelected(I);if(E){const G=js(e),Z=G.findIndex(te=>te===W),q=G.findIndex(te=>te===j);if(Z===q)return;Z>q?j=G[q+1]:j=G[q-1]}a.current=I,e.current.selectRowRange({startId:W,endId:j},!E)},[e]),b=l.useCallback(I=>{if(t.signature===To.DataGrid&&!t.checkboxSelection&&Array.isArray(I)&&I.length>1)throw new Error(["MUI: `rowSelectionModel` can only contain 1 item in DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock multiple selection."].join(`
`));no(e.current.state)!==I&&(o.debug("Setting selection model"),e.current.setState(j=>T({},j,{rowSelection:t.rowSelection?I:[]})),e.current.forceUpdate())},[e,o,t.rowSelection,t.signature,t.checkboxSelection]),x=l.useCallback(I=>no(e.current.state).includes(I),[e]),w=l.useCallback(I=>{if(v&&!v(e.current.getRowParams(I)))return!1;const M=e.current.getRowNode(I);return!((M==null?void 0:M.type)==="footer"||(M==null?void 0:M.type)==="pinnedRow")},[e,v]),C=l.useCallback(()=>d1(e),[e]),_=l.useCallback((I,M=!0,j=!1)=>{if(e.current.isRowSelectable(I))if(a.current=I,j)o.debug(`Setting selection for row ${I}`),e.current.setRowSelectionModel(M?[I]:[]);else{o.debug(`Toggling selection for row ${I}`);const E=no(e.current.state).filter(Z=>Z!==I);M&&E.push(I),(E.length<2||m)&&e.current.setRowSelectionModel(E)}},[e,o,m]),P=l.useCallback((I,M=!0,j=!1)=>{o.debug("Setting selection for several rows");const W=I.filter(Z=>e.current.isRowSelectable(Z));let E;if(j)E=M?W:[];else{const Z=T({},la(e));W.forEach(q=>{M?Z[q]=q:delete Z[q]}),E=Object.values(Z)}(E.length<2||m)&&e.current.setRowSelectionModel(E)},[e,o,m]),R=l.useCallback(({startId:I,endId:M},j=!0,W=!1)=>{if(!e.current.getRow(I)||!e.current.getRow(M))return;o.debug(`Expanding selection from row ${I} to row ${M}`);const E=js(e),G=E.indexOf(I),Z=E.indexOf(M),[q,te]=G>Z?[Z,G]:[G,Z],J=E.slice(q,te+1);e.current.selectRows(J,j,W)},[e,o]),D={selectRow:_,setRowSelectionModel:b,getSelectedRows:C,isRowSelected:x,isRowSelectable:w},V={selectRows:P,selectRowRange:R};bt(e,D,"public"),bt(e,V,t.signature===To.DataGrid?"private":"public");const A=l.useCallback(()=>{if(t.keepNonExistentRowsSelected)return;const I=no(e.current.state),M=Bo(e),j=T({},la(e));let W=!1;I.forEach(E=>{M[E]||(delete j[E],W=!0)}),W&&e.current.setRowSelectionModel(Object.values(j))},[e,t.keepNonExistentRowsSelected]),k=l.useCallback((I,M)=>{const j=M.metaKey||M.ctrlKey,W=!c&&!j&&!Jw(M),E=!m||W,G=e.current.isRowSelected(I);E?e.current.selectRow(I,W?!0:!G,!0):e.current.selectRow(I,!G,!1)},[e,m,c]),F=l.useCallback((I,M)=>{var j;if(h)return;const W=(j=M.target.closest(`.${Y.cell}`))==null?void 0:j.getAttribute("data-field");if(W===vs.field||W===Zc)return;if(W){const G=e.current.getColumn(W);if((G==null?void 0:G.type)===Na)return}e.current.getRowNode(I.id).type!=="pinnedRow"&&(M.shiftKey&&(m||c)?g(I.id):k(I.id,M))},[h,m,c,e,g,k]),z=l.useCallback((I,M)=>{if(m&&M.shiftKey){var j;(j=window.getSelection())==null||j.removeAllRanges()}},[m]),O=l.useCallback((I,M)=>{M.nativeEvent.shiftKey?g(I.id):e.current.selectRow(I.id,I.value)},[e,g]),$=l.useCallback(I=>{const j=t.checkboxSelectionVisibleOnly&&t.pagination?gm(e):js(e),W=Sn(e);e.current.selectRows(j,I.value,(W==null?void 0:W.items.length)>0)},[e,t.checkboxSelectionVisibleOnly,t.pagination]),H=l.useCallback((I,M)=>{if(e.current.getCellMode(I.id,I.field)!==Bt.Edit&&!ii(M)){if(aa(M.key)&&M.shiftKey){const j=Vn(e);if(j&&j.id!==I.id){M.preventDefault();const W=e.current.isRowSelected(j.id);if(!m){e.current.selectRow(j.id,!W,!0);return}const E=e.current.getRowIndexRelativeToVisibleRows(j.id),G=e.current.getRowIndexRelativeToVisibleRows(I.id);let Z,q;E>G?W?(Z=G,q=E-1):(Z=G,q=E):W?(Z=E+1,q=G):(Z=E,q=G);const te=f.rows.slice(Z,q+1).map(J=>J.id);e.current.selectRows(te,!W);return}}if(M.key===" "&&M.shiftKey){M.preventDefault(),k(I.id,M);return}M.key==="a"&&(M.ctrlKey||M.metaKey)&&(M.preventDefault(),P(e.current.getAllRowIds(),!0))}},[e,k,P,f.rows,m]);Ze(e,"sortedRowsSet",r(A)),Ze(e,"rowClick",r(F)),Ze(e,"rowSelectionCheckboxChange",r(O)),Ze(e,"headerSelectionCheckboxChange",$),Ze(e,"cellMouseDown",r(z)),Ze(e,"cellKeyDown",r(H)),l.useEffect(()=>{i!==void 0&&e.current.setRowSelectionModel(i)},[e,i,t.rowSelection]),l.useEffect(()=>{t.rowSelection||e.current.setRowSelectionModel([])},[e,t.rowSelection]);const B=i!=null;l.useEffect(()=>{if(B||!t.rowSelection)return;const I=no(e.current.state);if(w){const M=I.filter(j=>w(j));M.length<I.length&&e.current.setRowSelectionModel(M)}},[e,w,B,t.rowSelection]),l.useEffect(()=>{if(!t.rowSelection||B)return;const I=no(e.current.state);!m&&I.length>1&&e.current.setRowSelectionModel([])},[e,m,c,B,t.rowSelection])},CT={noRowsLabel:"No rows",noResultsOverlayLabel:"No results found.",toolbarDensity:"Density",toolbarDensityLabel:"Density",toolbarDensityCompact:"Compact",toolbarDensityStandard:"Standard",toolbarDensityComfortable:"Comfortable",toolbarColumns:"Columns",toolbarColumnsLabel:"Select columns",toolbarFilters:"Filters",toolbarFiltersLabel:"Show filters",toolbarFiltersTooltipHide:"Hide filters",toolbarFiltersTooltipShow:"Show filters",toolbarFiltersTooltipActive:e=>e!==1?`${e} active filters`:`${e} active filter`,toolbarQuickFilterPlaceholder:"Searchâ€¦",toolbarQuickFilterLabel:"Search",toolbarQuickFilterDeleteIconLabel:"Clear",toolbarExport:"Export",toolbarExportLabel:"Export",toolbarExportCSV:"Download as CSV",toolbarExportPrint:"Print",toolbarExportExcel:"Download as Excel",columnsPanelTextFieldLabel:"Find column",columnsPanelTextFieldPlaceholder:"Column title",columnsPanelDragIconLabel:"Reorder column",columnsPanelShowAllButton:"Show all",columnsPanelHideAllButton:"Hide all",filterPanelAddFilter:"Add filter",filterPanelRemoveAll:"Remove all",filterPanelDeleteIconLabel:"Delete",filterPanelLogicOperator:"Logic operator",filterPanelOperator:"Operator",filterPanelOperatorAnd:"And",filterPanelOperatorOr:"Or",filterPanelColumns:"Columns",filterPanelInputLabel:"Value",filterPanelInputPlaceholder:"Filter value",filterOperatorContains:"contains",filterOperatorEquals:"equals",filterOperatorStartsWith:"starts with",filterOperatorEndsWith:"ends with",filterOperatorIs:"is",filterOperatorNot:"is not",filterOperatorAfter:"is after",filterOperatorOnOrAfter:"is on or after",filterOperatorBefore:"is before",filterOperatorOnOrBefore:"is on or before",filterOperatorIsEmpty:"is empty",filterOperatorIsNotEmpty:"is not empty",filterOperatorIsAnyOf:"is any of","filterOperator=":"=","filterOperator!=":"!=","filterOperator>":">","filterOperator>=":">=","filterOperator<":"<","filterOperator<=":"<=",headerFilterOperatorContains:"Contains",headerFilterOperatorEquals:"Equals",headerFilterOperatorStartsWith:"Starts with",headerFilterOperatorEndsWith:"Ends with",headerFilterOperatorIs:"Is",headerFilterOperatorNot:"Is not",headerFilterOperatorAfter:"Is after",headerFilterOperatorOnOrAfter:"Is on or after",headerFilterOperatorBefore:"Is before",headerFilterOperatorOnOrBefore:"Is on or before",headerFilterOperatorIsEmpty:"Is empty",headerFilterOperatorIsNotEmpty:"Is not empty",headerFilterOperatorIsAnyOf:"Is any of","headerFilterOperator=":"Equals","headerFilterOperator!=":"Not equals","headerFilterOperator>":"Greater than","headerFilterOperator>=":"Greater than or equal to","headerFilterOperator<":"Less than","headerFilterOperator<=":"Less than or equal to",filterValueAny:"any",filterValueTrue:"true",filterValueFalse:"false",columnMenuLabel:"Menu",columnMenuShowColumns:"Show columns",columnMenuManageColumns:"Manage columns",columnMenuFilter:"Filter",columnMenuHideColumn:"Hide column",columnMenuUnsort:"Unsort",columnMenuSortAsc:"Sort by ASC",columnMenuSortDesc:"Sort by DESC",columnHeaderFiltersTooltipActive:e=>e!==1?`${e} active filters`:`${e} active filter`,columnHeaderFiltersLabel:"Show filters",columnHeaderSortIconLabel:"Sort",footerRowSelected:e=>e!==1?`${e.toLocaleString()} rows selected`:`${e.toLocaleString()} row selected`,footerTotalRows:"Total Rows:",footerTotalVisibleRows:(e,t)=>`${e.toLocaleString()} of ${t.toLocaleString()}`,checkboxSelectionHeaderName:"Checkbox selection",checkboxSelectionSelectAllRows:"Select all rows",checkboxSelectionUnselectAllRows:"Unselect all rows",checkboxSelectionSelectRow:"Select row",checkboxSelectionUnselectRow:"Unselect row",booleanCellTrueLabel:"yes",booleanCellFalseLabel:"no",actionsCellMore:"more",pinToLeft:"Pin to left",pinToRight:"Pin to right",unpin:"Unpin",treeDataGroupingHeaderName:"Group",treeDataExpand:"see children",treeDataCollapse:"hide children",groupingColumnHeaderName:"Group",groupColumn:e=>`Group by ${e}`,unGroupColumn:e=>`Stop grouping by ${e}`,detailPanelToggle:"Detail panel toggle",expandDetailPanel:"Expand",collapseDetailPanel:"Collapse",MuiTablePagination:{},rowReorderingHeaderName:"Row reordering",aggregationMenuItemHeader:"Aggregation",aggregationFunctionLabelSum:"sum",aggregationFunctionLabelAvg:"avg",aggregationFunctionLabelMin:"min",aggregationFunctionLabelMax:"max",aggregationFunctionLabelSize:"size"},wT=e=>{const{classes:t}=e;return l.useMemo(()=>Dt({cellCheckbox:["cellCheckbox"],columnHeaderCheckbox:["columnHeaderCheckbox"]},Et,t),[t])},ST=(e,t)=>{const o={classes:t.classes},r=wT(o),i=l.useCallback(a=>{const c=T({},vs,{cellClassName:r.cellCheckbox,headerClassName:r.columnHeaderCheckbox,headerName:e.current.getLocaleText("checkboxSelectionHeaderName")}),d=t.checkboxSelection,h=a.lookup[er]!=null;return d&&!h?(a.lookup[er]=c,a.orderedFields=[er,...a.orderedFields]):!d&&h?(delete a.lookup[er],a.orderedFields=a.orderedFields.filter(v=>v!==er)):d&&h&&(a.lookup[er]=T({},c,a.lookup[er])),a},[e,r,t.checkboxSelection]);fn(e,"hydrateColumns",i)},_T=(e,t)=>{var o,r,i;const a=(o=(r=t.sortModel)!=null?r:(i=t.initialState)==null||(i=i.sorting)==null?void 0:i.sortModel)!=null?o:[];return T({},e,{sorting:{sortModel:vm(a,t.disableMultipleColumnsSorting),sortedRows:[]}})},PT=(e,t)=>{var o;const r=An(e,"useGridSorting");e.current.registerControlState({stateId:"sortModel",propModel:t.sortModel,propOnChange:t.onSortModelChange,stateSelector:eo,changeEvent:"sortModelChange"});const i=l.useCallback((A,k)=>{const F=eo(e),z=F.findIndex($=>$.field===A);let O=[...F];return z>-1?k?O.splice(z,1,k):O.splice(z,1):O=[...F,k],O},[e]),a=l.useCallback((A,k)=>{var F;const O=eo(e).find(H=>H.field===A.field);if(O){var $;const H=k===void 0?Nd(($=A.sortingOrder)!=null?$:t.sortingOrder,O.sort):k;return H==null?void 0:T({},O,{sort:H})}return{field:A.field,sort:k===void 0?Nd((F=A.sortingOrder)!=null?F:t.sortingOrder):k}},[e,t.sortingOrder]),c=l.useCallback((A,k)=>k==null||k.sortable===!1?A:(k.sortingOrder||t.sortingOrder).some(z=>!!z)?[...A,"columnMenuSortItem"]:A,[t.sortingOrder]),d=l.useCallback(()=>{e.current.setState(A=>{if(t.sortingMode==="server")return r.debug("Skipping sorting rows as sortingMode = server"),T({},A,{sorting:T({},A.sorting,{sortedRows:Nc(uo(e),Nn,!1)})});const k=eo(A,e.current.instanceId),F=g1(k,e),z=e.current.applyStrategyProcessor("sorting",{sortRowList:F});return T({},A,{sorting:T({},A.sorting,{sortedRows:z})})}),e.current.publishEvent("sortedRowsSet"),e.current.forceUpdate()},[e,r,t.sortingMode]),h=l.useCallback(A=>{eo(e)!==A&&(r.debug("Setting sort model"),e.current.setState(Od(A,t.disableMultipleColumnsSorting)),e.current.forceUpdate(),e.current.applySorting())},[e,r,t.disableMultipleColumnsSorting]),v=l.useCallback((A,k,F)=>{if(!A.sortable)return;const z=a(A,k);let O;!F||t.disableMultipleColumnsSorting?O=z?[z]:[]:O=i(A.field,z),e.current.setSortModel(O)},[e,i,a,t.disableMultipleColumnsSorting]),m=l.useCallback(()=>eo(e),[e]),f=l.useCallback(()=>Lc(e).map(k=>k.model),[e]),g=l.useCallback(()=>Rc(e),[e]),b=l.useCallback(A=>e.current.getSortedRowIds()[A],[e]);bt(e,{getSortModel:m,getSortedRows:f,getSortedRowIds:g,getRowIdFromRowIndex:b,setSortModel:h,sortColumn:v,applySorting:d},"public");const w=l.useCallback((A,k)=>{var F;const z=eo(e);return!k.exportOnlyDirtyModels||t.sortModel!=null||((F=t.initialState)==null||(F=F.sorting)==null?void 0:F.sortModel)!=null||z.length>0?T({},A,{sorting:{sortModel:z}}):A},[e,t.sortModel,(o=t.initialState)==null||(o=o.sorting)==null?void 0:o.sortModel]),C=l.useCallback((A,k)=>{var F;const z=(F=k.stateToRestore.sorting)==null?void 0:F.sortModel;return z==null?A:(e.current.setState(Od(z,t.disableMultipleColumnsSorting)),T({},A,{callbacks:[...A.callbacks,e.current.applySorting]}))},[e,t.disableMultipleColumnsSorting]),_=l.useCallback(A=>{const k=uo(e),F=k[Nn],z=A.sortRowList?A.sortRowList(F.children.map(O=>k[O])):[...F.children];return F.footerId!=null&&z.push(F.footerId),z},[e]);fn(e,"exportState",w),fn(e,"restoreState",C),da(e,Dr,"sorting",_);const P=l.useCallback(({colDef:A},k)=>{const F=k.shiftKey||k.metaKey||k.ctrlKey;v(A,void 0,F)},[v]),R=l.useCallback(({colDef:A},k)=>{Ww(k.key)&&!k.ctrlKey&&!k.metaKey&&v(A,void 0,k.shiftKey)},[v]),D=l.useCallback(()=>{const A=eo(e),k=ms(e);if(A.length>0){const F=A.filter(z=>k[z.field]);F.length<A.length&&e.current.setSortModel(F)}},[e]),V=l.useCallback(A=>{A==="sorting"&&e.current.applySorting()},[e]);fn(e,"columnMenu",c),Ze(e,"columnHeaderClick",P),Ze(e,"columnHeaderKeyDown",R),Ze(e,"rowsSet",e.current.applySorting),Ze(e,"columnsChange",D),Ze(e,"activeStrategyProcessorChange",V),ai(()=>{e.current.applySorting()}),Pn(()=>{t.sortModel!==void 0&&e.current.setSortModel(t.sortModel)},[e,t.sortModel])};function lp(e){const{clientHeight:t,scrollTop:o,offsetHeight:r,offsetTop:i}=e,a=i+r;if(r>t)return i;if(a-t>o)return a-t;if(i<o)return i}const IT=(e,t)=>{const o=Jt(),r=An(e,"useGridScroll"),i=e.current.columnHeadersElementRef,a=e.current.virtualScrollerRef,c=ze(e,ur),d=l.useCallback(f=>{const g=Ea(e),b=kn(e);if(!(f.rowIndex==null)&&g===0||b.length===0)return!1;r.debug(`Scrolling to cell at row ${f.rowIndex}, col: ${f.colIndex} `);let w={};if(f.colIndex!=null){const R=us(e);let D;if(typeof f.rowIndex<"u"){var C;const V=(C=c[f.rowIndex])==null?void 0:C.id,A=e.current.unstable_getCellColSpanInfo(V,f.colIndex);A&&!A.spannedByColSpan&&(D=A.cellProps.width)}typeof D>"u"&&(D=b[f.colIndex].computedWidth),w.left=lp({clientHeight:a.current.clientWidth,scrollTop:Math.abs(a.current.scrollLeft),offsetHeight:D,offsetTop:R[f.colIndex]})}if(f.rowIndex!=null){var _,P;const R=Js(e.current.state),D=a1(e),V=fm(e),A=t.pagination?f.rowIndex-D*V:f.rowIndex,k=R.positions[A+1]?R.positions[A+1]-R.positions[A]:R.currentPageTotalHeight-R.positions[A],F=((_=a.current.querySelector(`.${Y["pinnedRows--top"]}`))==null?void 0:_.clientHeight)||0,z=((P=a.current.querySelector(`.${Y["pinnedRows--bottom"]}`))==null?void 0:P.clientHeight)||0;w.top=lp({clientHeight:a.current.clientHeight-F-z,scrollTop:a.current.scrollTop,offsetHeight:k,offsetTop:R.positions[A]})}return w=e.current.unstable_applyPipeProcessors("scrollToIndexes",w,f),typeof w.left!==void 0||typeof w.top!==void 0?(e.current.scroll(w),!0):!1},[r,e,a,t.pagination,c]),h=l.useCallback(f=>{if(a.current&&f.left!=null&&i.current){const g=o.direction==="rtl"?-1:1;i.current.scrollLeft=f.left,a.current.scrollLeft=g*f.left,r.debug(`Scrolling left: ${f.left}`)}a.current&&f.top!=null&&(a.current.scrollTop=f.top,r.debug(`Scrolling top: ${f.top}`)),r.debug("Scrolling, updating container, and viewport")},[a,o.direction,i,r]),v=l.useCallback(()=>a!=null&&a.current?{top:a.current.scrollTop,left:a.current.scrollLeft}:{top:0,left:0},[a]);bt(e,{scroll:h,scrollToIndexes:d,getScrollPosition:v},"public")};function TT(e,t){nn(e,"columnHeaderClick",t.onColumnHeaderClick),nn(e,"columnHeaderDoubleClick",t.onColumnHeaderDoubleClick),nn(e,"columnHeaderOver",t.onColumnHeaderOver),nn(e,"columnHeaderOut",t.onColumnHeaderOut),nn(e,"columnHeaderEnter",t.onColumnHeaderEnter),nn(e,"columnHeaderLeave",t.onColumnHeaderLeave),nn(e,"cellClick",t.onCellClick),nn(e,"cellDoubleClick",t.onCellDoubleClick),nn(e,"cellKeyDown",t.onCellKeyDown),nn(e,"preferencePanelClose",t.onPreferencePanelClose),nn(e,"preferencePanelOpen",t.onPreferencePanelOpen),nn(e,"menuOpen",t.onMenuOpen),nn(e,"menuClose",t.onMenuClose),nn(e,"rowDoubleClick",t.onRowDoubleClick),nn(e,"rowClick",t.onRowClick),nn(e,"stateChange",t.onStateChange)}const kT=({content:e,container:t,scrollBarSize:o})=>{const r=e.width>t.width,i=e.height>t.height;let a=!1,c=!1;return(r||i)&&(a=r,c=e.height+(a?o:0)>t.height,c&&(a=e.width+o>t.width)),{hasScrollX:a,hasScrollY:c}};function MT(e,t){const o=An(e,"useResizeContainer"),r=l.useRef(!1),i=l.useRef(null),a=l.useRef(null),c=ze(e,Js),d=ze(e,gs),h=Math.floor(t.rowHeight*d),v=Jc(e,t.columnHeaderHeight),m=l.useCallback(()=>{var k;const F=(k=e.current.rootElementRef)==null?void 0:k.current,z=Ec(e),O=Yh(e);if(!i.current)return;let $;if(t.scrollbarSize!=null)$=t.scrollbarSize;else if(!z||!F)$=0;else{const G=ni(F).createElement("div");G.style.width="99px",G.style.height="99px",G.style.position="absolute",G.style.overflow="scroll",G.className="scrollDiv",F.appendChild(G),$=G.offsetWidth-G.clientWidth,F.removeChild(G)}let H,B,I;if(t.autoHeight)I=!1,B=Math.round(z)>Math.round(i.current.width),H={width:i.current.width,height:c.currentPageTotalHeight+(B?$:0)};else{H={width:i.current.width,height:Math.max(i.current.height-v,0)};const E=kT({content:{width:Math.round(z),height:c.currentPageTotalHeight},container:{width:Math.round(H.width),height:H.height-O.top-O.bottom},scrollBarSize:$});I=E.hasScrollY,B=E.hasScrollX}const M={width:H.width-(I?$:0),height:H.height-(B?$:0)},j={viewportOuterSize:H,viewportInnerSize:M,hasScrollX:B,hasScrollY:I,scrollBarSize:$},W=a.current;a.current=j,(j.viewportInnerSize.width!==(W==null?void 0:W.viewportInnerSize.width)||j.viewportInnerSize.height!==(W==null?void 0:W.viewportInnerSize.height))&&e.current.publishEvent("viewportInnerSizeChange",j.viewportInnerSize)},[e,t.scrollbarSize,t.autoHeight,c.currentPageTotalHeight,v]),[f,g]=l.useState(),b=l.useMemo(()=>Eh(g,60),[]),x=l.useRef();Pn(()=>{f&&(m(),e.current.publishEvent("debouncedResize",i.current))},[e,f,m]);const w=l.useCallback(()=>{e.current.computeSizeAndPublishResizeEvent()},[e]),C=l.useCallback(()=>a.current,[]),_=l.useCallback(()=>{const k=e.current.getRootDimensions();if(!k)return 0;const F=ca(e,{pagination:t.pagination,paginationMode:t.paginationMode});if(t.getRowHeight){const O=e.current.getRenderContext(),$=O.lastRowIndex-O.firstRowIndex;return Math.min($-1,F.rows.length)}const z=Math.floor(k.viewportInnerSize.height/h);return Math.min(z,F.rows.length)},[e,t.pagination,t.paginationMode,t.getRowHeight,h]),P=l.useCallback(()=>{var k,F,z;const O=(k=e.current.mainElementRef)==null?void 0:k.current;if(!O)return;const H=px(O).getComputedStyle(O),B=parseFloat(H.height)||0,I=parseFloat(H.width)||0,M=B!==((F=x.current)==null?void 0:F.height),j=I!==((z=x.current)==null?void 0:z.width);if(!x.current||M||j){const W={width:I,height:B};e.current.publishEvent("resize",W),x.current=W}},[e]),R={resize:w,getRootDimensions:C},D={getViewportPageSize:_,updateGridDimensionsRef:m,computeSizeAndPublishResizeEvent:P};bt(e,R,"public"),bt(e,D,"private");const V=l.useRef(!0),A=l.useCallback(k=>{i.current=k;const F=/jsdom/.test(window.navigator.userAgent);if(k.height===0&&!r.current&&!t.autoHeight&&!F&&(o.error(["The parent DOM element of the data grid has an empty height.","Please make sure that this element has an intrinsic height.","The grid displays with a height of 0px.","","More details: https://mui.com/r/x-data-grid-no-dimensions."].join(`
`)),r.current=!0),k.width===0&&!r.current&&!F&&(o.error(["The parent DOM element of the data grid has an empty width.","Please make sure that this element has an intrinsic width.","The grid displays with a width of 0px.","","More details: https://mui.com/r/x-data-grid-no-dimensions."].join(`
`)),r.current=!0),V.current){g(k),V.current=!1;return}b(k)},[t.autoHeight,b,o]);Pn(()=>m(),[m]),nn(e,"sortedRowsSet",m),nn(e,"paginationModelChange",m),nn(e,"columnsChange",m),Ze(e,"resize",A),nn(e,"debouncedResize",t.onResize)}const AT=["style"],DT=["style"];function ps(e,t,o=0,r=t.length){if(t.length<=0)return-1;if(o>=r)return o;const i=o+Math.floor((r-o)/2),a=t[i];return e<=a?ps(e,t,o,i):ps(e,t,i+1,r)}function ET(e,t,o){let r=1;for(;o<t.length&&Math.abs(t[o])<e;)o+=r,r*=2;return ps(e,t,Math.floor(o/2),Math.min(o,t.length))}const nr=({firstIndex:e,lastIndex:t,buffer:o,minFirstIndex:r,maxLastIndex:i})=>[ds(e-o,r,i),ds(t+o,r,i)],Hm=(e,t)=>e===t?!0:e.firstRowIndex===t.firstRowIndex&&e.lastRowIndex===t.lastRowIndex&&e.firstColumnIndex===t.firstColumnIndex&&e.lastColumnIndex===t.lastColumnIndex,RT={maxSize:3},LT=e=>{const t=cr(),o=We(),r=ze(t,kn),i=ze(t,S1),a=ze(t,wm),{ref:c,onRenderZonePositioning:d,renderZoneMinColumnIndex:h=0,renderZoneMaxColumnIndex:v=r.length,getRowProps:m}=e,f=Jt(),g=ze(t,us),b=ze(t,Ec),x=ze(t,Vn),w=ze(t,oa),C=ze(t,Js),_=ze(t,la),P=Lr(t,o),R=l.useRef(null),D=l.useRef(null),V=Rr(c,D),[A,k]=l.useState(null),F=l.useRef(A),z=l.useRef({top:0,left:0}),[O,$]=l.useState({width:null,height:null}),H=l.useRef(b),[B,I]=l.useState(null),M=l.useRef(Object.create(null)),j=l.useRef(),W=l.useRef(),E=l.useRef(Ma((le,ye,Te,De,ie,Pe)=>{let Me;const $e=le.slice(ye,Te);return Pe>-1&&(ye>Pe&&Pe>=De||Te<Pe&&Pe<ie)&&(Me=Pe),{focusedCellColumnIndexNotInRange:Me,renderedColumns:$e}},RT)),G=l.useMemo(()=>x!==null?r.findIndex(le=>le.field===x.field):-1,[x,r]),Z=l.useCallback(()=>{if(!i)return{firstRowIndex:0,lastRowIndex:P.rows.length,firstColumnIndex:0,lastColumnIndex:r.length};const{top:le,left:ye}=z.current,Te=Math.min(cp(t,P,C,le),C.positions.length-1),De=o.autoHeight?Te+P.rows.length:cp(t,P,C,le+O.height);let ie=0,Pe=g.length;if(a){let Me=!1;const[$e,Ke]=nr({firstIndex:Te,lastIndex:De,minFirstIndex:0,maxLastIndex:P.rows.length,buffer:o.rowBuffer});for(let Ne=$e;Ne<Ke&&!Me;Ne+=1){const be=P.rows[Ne];Me=t.current.rowHasAutoHeight(be.id)}Me||(ie=ps(Math.abs(ye),g),Pe=ps(Math.abs(ye)+O.width,g))}return{firstRowIndex:Te,lastRowIndex:De,firstColumnIndex:ie,lastColumnIndex:Pe}},[i,a,C,o.autoHeight,o.rowBuffer,P,g,r.length,t,O]);Pn(()=>{i?(D.current.scrollLeft=0,D.current.scrollTop=0):R.current.style.transform="translate3d(0px, 0px, 0px)"},[i]),Pn(()=>{$({width:D.current.clientWidth,height:D.current.clientHeight})},[C.currentPageTotalHeight]);const q=l.useCallback(()=>{D.current&&$({width:D.current.clientWidth,height:D.current.clientHeight})},[]);Ze(t,"debouncedResize",q);const te=l.useCallback(le=>{const[ye,Te]=nr({firstIndex:le.firstRowIndex,lastIndex:le.lastRowIndex,minFirstIndex:0,maxLastIndex:P.rows.length,buffer:o.rowBuffer}),[De]=nr({firstIndex:le.firstColumnIndex,lastIndex:le.lastColumnIndex,minFirstIndex:h,maxLastIndex:v,buffer:o.columnBuffer}),ie=nc({firstColumnToRender:De,apiRef:t,firstRowToRender:ye,lastRowToRender:Te,visibleRows:P.rows}),Pe=f.direction==="ltr"?1:-1,Me=Js(t.current.state).positions[ye],$e=Pe*us(t)[ie];R.current.style.transform=`translate3d(${$e}px, ${Me}px, 0px)`,typeof d=="function"&&d({top:Me,left:$e})},[t,P.rows,d,h,v,o.columnBuffer,o.rowBuffer,f.direction]),J=l.useCallback(()=>F.current,[]),oe=l.useCallback(le=>{if(F.current&&Hm(le,F.current)){te(le);return}k(le),te(le);const[ye,Te]=nr({firstIndex:le.firstRowIndex,lastIndex:le.lastRowIndex,minFirstIndex:0,maxLastIndex:P.rows.length,buffer:o.rowBuffer});t.current.publishEvent("renderedRowsIntervalChange",{firstRowToRender:ye,lastRowToRender:Te}),F.current=le},[t,k,F,P.rows.length,o.rowBuffer,te]);Pn(()=>{if(O.width==null)return;const le=Z();oe(le);const{top:ye,left:Te}=z.current,De={top:ye,left:Te,renderContext:le};t.current.publishEvent("scrollPositionChange",De)},[t,Z,O.width,oe]);const X=ho(le=>{const{scrollTop:ye,scrollLeft:Te}=le.currentTarget;if(z.current.top=ye,z.current.left=Te,!F.current||ye<0||f.direction==="ltr"&&Te<0||f.direction==="rtl"&&Te>0)return;const De=i?Z():F.current,ie=Math.abs(De.firstRowIndex-F.current.firstRowIndex),Pe=Math.abs(De.lastRowIndex-F.current.lastRowIndex),Me=Math.abs(De.firstColumnIndex-F.current.firstColumnIndex),$e=Math.abs(De.lastColumnIndex-F.current.lastColumnIndex),Ke=ie>=o.rowThreshold||Pe>=o.rowThreshold||Me>=o.columnThreshold||$e>=o.columnThreshold||H.current!==b;t.current.publishEvent("scrollPositionChange",{top:ye,left:Te,renderContext:Ke?De:F.current},le),Ke&&(lr.flushSync(()=>{oe(De)}),H.current=b)}),U=ho(le=>{t.current.publishEvent("virtualScrollerWheel",{},le)}),ne=ho(le=>{t.current.publishEvent("virtualScrollerTouchMove",{},le)}),ce=l.useMemo(()=>x!==null?P.rows.findIndex(le=>le.id===x.id):-1,[x,P.rows]);Ze(t,"rowMouseOver",(le,ye)=>{var Te;ye.currentTarget.contains(ye.relatedTarget)||I((Te=le.id)!=null?Te:null)}),Ze(t,"rowMouseOut",(le,ye)=>{ye.currentTarget.contains(ye.relatedTarget)||I(null)});const ve=(le={renderContext:A})=>{var ye;const{onRowRender:Te,renderContext:De,minFirstColumn:ie=h,maxLastColumn:Pe=v,availableSpace:Me=O.width,rowIndexOffset:$e=0,position:Ke="center"}=le;if(!De||Me==null)return null;const Ne=i?o.rowBuffer:0,be=i?o.columnBuffer:0,[Ie,Le]=nr({firstIndex:De.firstRowIndex,lastIndex:De.lastRowIndex,minFirstIndex:0,maxLastIndex:P.rows.length,buffer:Ne}),Ve=[];if(le.rows)le.rows.forEach(Ce=>{Ve.push(Ce),t.current.calculateColSpan({rowId:Ce.id,minFirstColumn:ie,maxLastColumn:Pe,columns:r})});else{if(!P.range)return null;for(let Ce=Ie;Ce<Le;Ce+=1){const Q=P.rows[Ce];Ve.push(Q),t.current.calculateColSpan({rowId:Q.id,minFirstColumn:ie,maxLastColumn:Pe,columns:r})}}let Qe=!1;if(ce>-1){const Ce=P.rows[ce];(Ie>ce||Le<ce)&&(Qe=!0,ce>Ie?Ve.push(Ce):Ve.unshift(Ce),t.current.calculateColSpan({rowId:Ce.id,minFirstColumn:ie,maxLastColumn:Pe,columns:r}))}const[rt,et]=nr({firstIndex:De.firstColumnIndex,lastIndex:De.lastColumnIndex,minFirstIndex:ie,maxLastIndex:Pe,buffer:be}),Je=nc({firstColumnToRender:rt,apiRef:t,firstRowToRender:Ie,lastRowToRender:Le,visibleRows:P.rows});let Pt=!1;(Je>G||et<G)&&(Pt=!0);const{focusedCellColumnIndexNotInRange:ct,renderedColumns:it}=E.current(r,Je,et,ie,Pe,Pt?G:-1),jt=((ye=o.slotProps)==null?void 0:ye.row)||{},{style:Ot}=jt,Ht=He(jt,AT);(j.current!==m||W.current!==Ot)&&(M.current=Object.create(null));const ln=[];let rn=!1;for(let Ce=0;Ce<Ve.length;Ce+=1){var en;const{id:Q,model:pe}=Ve[Ce],Fe=Qe&&x.id===Q,yt=Qe?Ie+Ce===P.rows.length:Ie+Ce===P.rows.length-1,lt=t.current.rowHasAutoHeight(Q)?"auto":t.current.unstable_getRowHeight(Q);let Ye;_[Q]==null?Ye=!1:Ye=t.current.isRowSelectable(Q),Te&&Te(Q);const ft=x!==null&&x.id===Q?x.field:null,ge=ct!==void 0&&r[ct],he=ge&&ft?[ge,...it]:it;let xe=null;w!==null&&w.id===Q&&(xe=t.current.getCellParams(Q,w.field).cellMode==="view"?w.field:null);const Se=typeof m=="function"&&m(Q,pe)||{},{style:pt}=Se,Ct=He(Se,DT);if(!M.current[Q]){const Xt=T({},pt,Ot);M.current[Q]=Xt}let Re=$e+((P==null||(en=P.range)==null?void 0:en.firstRowIndex)||0)+Ie+Ce;Qe&&(x==null?void 0:x.id)===Q?(Re=ce,rn=!0):rn&&(Re-=1),ln.push(p.jsx(o.slots.row,T({row:pe,rowId:Q,focusedCellColumnIndexNotInRange:ct,isNotVisible:Fe,rowHeight:lt,focusedCell:ft,tabbableCell:xe,renderedColumns:he,visibleColumns:r,firstColumnToRender:Je,lastColumnToRender:et,selected:Ye,index:Re,containerWidth:Me,isLastVisible:yt,position:Ke},Ct,Ht,{hovered:B===Q,style:M.current[Q]}),Q))}return j.current=m,W.current=Ot,ln},fe=O.width&&b>=O.width,ke=l.useMemo(()=>{const le=Math.max(C.currentPageTotalHeight,1);let ye=!1;D!=null&&D.current&&le<=(D==null?void 0:D.current.clientHeight)&&(ye=!0);const Te={width:fe?b:"auto",height:le,minHeight:ye?"100%":"auto"};return o.autoHeight&&P.rows.length===0&&(Te.height=Qh(t,o.rowHeight)),Te},[t,D,b,C.currentPageTotalHeight,fe,o.autoHeight,o.rowHeight,P.rows.length]);l.useEffect(()=>{t.current.publishEvent("virtualScrollerContentSizeChange")},[t,ke]);const _e=l.useMemo(()=>{const le={};return fe||(le.overflowX="hidden"),o.autoHeight&&(le.overflowY="hidden"),le},[fe,o.autoHeight]);return t.current.register("private",{getRenderContext:J}),{renderContext:A,updateRenderZonePosition:te,getRows:ve,getRootProps:(le={})=>T({ref:V,onScroll:X,onWheel:U,onTouchMove:ne},le,{style:le.style?T({},le.style,_e):_e,role:"presentation"}),getContentProps:({style:le}={})=>({style:le?T({},le,ke):ke,role:"presentation"}),getRenderZoneProps:()=>({ref:R,role:"rowgroup"})}};function cp(e,t,o,r){var i,a;const c=e.current.getLastMeasuredRowIndex();let d=c===1/0;(i=t.range)!=null&&i.lastRowIndex&&!d&&(d=c>=t.range.lastRowIndex);const h=ds(c-(((a=t.range)==null?void 0:a.firstRowIndex)||0),0,o.positions.length);return d||o.positions[h]>=r?ps(r,o.positions):ET(r,o.positions,h)}const FT=e=>{const{classes:t,headerAlign:o,isDragging:r,showColumnBorder:i,groupId:a}=e;return Dt({root:["columnHeader",o==="left"&&"columnHeader--alignLeft",o==="center"&&"columnHeader--alignCenter",o==="right"&&"columnHeader--alignRight",r&&"columnHeader--moving",i&&"columnHeader--showColumnBorder",i&&"columnHeader--withRightBorder","withBorderColor",a===null?"columnHeader--emptyGroup":"columnHeader--filledGroup"],draggableContainer:["columnHeaderDraggableContainer"],titleContainer:["columnHeaderTitleContainer","withBorderColor"],titleContainerContent:["columnHeaderTitleContainerContent"]},Et,t)};function OT(e){var t;const{groupId:o,width:r,depth:i,maxDepth:a,fields:c,height:d,colIndex:h,hasFocus:v,tabIndex:m,isLastColumn:f}=e,g=We(),b=l.useRef(null),x=At(),w=ze(x,Hh),C=o?w[o]:{},{headerName:_=o??"",description:P="",headerAlign:R=void 0}=C;let D;const V=o&&((t=w[o])==null?void 0:t.renderHeaderGroup),A=l.useMemo(()=>({groupId:o,headerName:_,description:P,depth:i,maxDepth:a,fields:c,colIndex:h,isLastColumn:f}),[o,_,P,i,a,c,h,f]);o&&V&&(D=V(A));const k=g.showColumnVerticalBorder,F=T({},e,{classes:g.classes,showColumnBorder:k,headerAlign:R,depth:i,isDragging:!1}),z=_??o,O=bn(),$=o===null?`empty-group-cell-${O}`:o,H=FT(F);l.useLayoutEffect(()=>{if(v){const W=b.current.querySelector('[tabindex="0"]')||b.current;W==null||W.focus()}},[x,v]);const B=l.useCallback(j=>W=>{ii(W)||x.current.publishEvent(j,A,W)},[x,A]),I=l.useMemo(()=>({onKeyDown:B("columnGroupHeaderKeyDown"),onFocus:B("columnGroupHeaderFocus"),onBlur:B("columnGroupHeaderBlur")}),[B]),M=typeof C.headerClassName=="function"?C.headerClassName(A):C.headerClassName;return p.jsx(cm,T({ref:b,classes:H,columnMenuOpen:!1,colIndex:h,height:d,isResizing:!1,sortDirection:null,hasFocus:!1,tabIndex:m,isDraggable:!1,headerComponent:D,headerClassName:M,description:P,elementId:$,width:r,columnMenuIconButton:null,columnTitleIconButtons:null,resizable:!1,label:z,"aria-colspan":c.length,"data-fields":`|-${c.join("-|-")}-|`},I))}const up=Ee("div",{name:"MuiDataGrid",slot:"ColumnHeaderRow",overridesResolver:(e,t)=>t.columnHeaderRow})(()=>({display:"flex"}));function NT(e){return!!e.target}const zT=e=>{const{innerRef:t,minColumnIndex:o=0,visibleColumns:r,sortColumnLookup:i,filterColumnLookup:a,columnPositions:c,columnHeaderTabIndexState:d,columnGroupHeaderTabIndexState:h,columnHeaderFocus:v,columnGroupHeaderFocus:m,densityFactor:f,headerGroupingMaxDepth:g,columnMenuState:b,columnVisibility:x,columnGroupsHeaderStructure:w,hasOtherElementInTabSequence:C}=e,_=Jt(),[P,R]=l.useState(""),[D,V]=l.useState(""),A=cr(),k=ze(A,wm),F=We(),z=l.useRef(null),O=Rr(t,z),[$,H]=l.useState(null),B=l.useRef($),I=l.useRef(0),M=Lr(A,F),j=Jc(A,F.columnHeaderHeight),W=Math.floor(F.columnHeaderHeight*f),E=l.useCallback(fe=>{$&&fe&&Hm($,fe)||H(fe)},[$]);l.useEffect(()=>{var fe;(fe=A.current.columnHeadersContainerElementRef)!=null&&fe.current&&(A.current.columnHeadersContainerElementRef.current.scrollLeft=0)},[A]);const G=l.useRef(Ma(AI,{equalityCheck:(fe,ke)=>["firstColumnIndex","minColumnIndex","columnBuffer"].every(_e=>fe[_e]===ke[_e])})),Z=l.useCallback(fe=>{const[ke,_e]=nr({firstIndex:fe.firstRowIndex,lastIndex:fe.lastRowIndex,minFirstIndex:0,maxLastIndex:M.rows.length,buffer:F.rowBuffer}),le=G.current({firstColumnIndex:fe.firstColumnIndex,minColumnIndex:o,columnBuffer:F.columnBuffer,firstRowToRender:ke,lastRowToRender:_e,apiRef:A,visibleRows:M.rows}),ye=_.direction==="ltr"?1:-1,Te=le>0?I.current-ye*c[le]:I.current;z.current.style.transform=`translate3d(${-Te}px, 0px, 0px)`},[c,o,F.columnBuffer,A,M.rows,F.rowBuffer,_.direction]);l.useLayoutEffect(()=>{$&&Z($)},[$,Z]);const q=l.useCallback(({left:fe,renderContext:ke=null},_e)=>{var le,ye;if(!z.current||I.current===fe&&((le=B.current)==null?void 0:le.firstColumnIndex)===(ke==null?void 0:ke.firstColumnIndex)&&((ye=B.current)==null?void 0:ye.lastColumnIndex)===(ke==null?void 0:ke.lastColumnIndex))return;I.current=fe;let Te=!1;ke!==B.current||!B.current?(NT(_e)?(lr.flushSync(()=>{E(ke)}),Te=!0):E(ke),B.current=ke):Te=!0,ke&&Te&&Z(ke)},[Z,E]),te=l.useCallback(fe=>V(fe.field),[]),J=l.useCallback(()=>V(""),[]),oe=l.useCallback(fe=>R(fe.field),[]),X=l.useCallback(()=>R(""),[]);Ze(A,"columnResizeStart",te),Ze(A,"columnResizeStop",J),Ze(A,"columnHeaderDragStart",oe),Ze(A,"columnHeaderDragEnd",X),Ze(A,"scrollPositionChange",q);const U=fe=>{const{renderContext:ke=$,minFirstColumn:_e=o,maxLastColumn:le=r.length}=fe||{};if(!ke)return null;const[ye,Te]=nr({firstIndex:ke.firstRowIndex,lastIndex:ke.lastRowIndex,minFirstIndex:0,maxLastIndex:M.rows.length,buffer:F.rowBuffer}),De=k?G.current({firstColumnIndex:ke.firstColumnIndex,minColumnIndex:_e,columnBuffer:F.columnBuffer,apiRef:A,firstRowToRender:ye,lastRowToRender:Te,visibleRows:M.rows}):0,ie=k?Math.min(ke.lastColumnIndex+F.columnBuffer,le):le;return{renderedColumns:r.slice(De,ie),firstColumnToRender:De,lastColumnToRender:ie,minFirstColumn:_e,maxLastColumn:le}},ne=(fe,ke={})=>{const _e=U(fe);if(_e==null)return null;const{renderedColumns:le,firstColumnToRender:ye}=_e,Te=[];for(let De=0;De<le.length;De+=1){const ie=le[De],Pe=ye+De,Me=Pe===0,$e=d!==null&&d.field===ie.field||Me&&!C?0:-1,Ke=v!==null&&v.field===ie.field,Ne=b.open&&b.field===ie.field;Te.push(p.jsx(ZS,T({},i[ie.field],{columnMenuOpen:Ne,filterItemsCounter:a[ie.field]&&a[ie.field].length,headerHeight:W,isDragging:ie.field===P,colDef:ie,colIndex:Pe,isResizing:D===ie.field,hasFocus:Ke,tabIndex:$e},ke),ie.field))}return p.jsx(up,{role:"row","aria-rowindex":g+1,ownerState:F,children:Te})},ce=fe=>{if(g===0)return null;const ke=U(fe);if(ke==null||ke.renderedColumns.length===0)return null;const{firstColumnToRender:_e,lastColumnToRender:le}=ke,ye=[],Te=[];for(let Pe=0;Pe<g;Pe+=1){var De,ie;const Me=w[Pe],$e=r[_e].field,Ke=(De=A.current.unstable_getColumnGroupPath($e)[Pe])!=null?De:null,Ne=Me.findIndex(({groupId:ct,columnFields:it})=>ct===Ke&&it.includes($e)),be=r[le-1].field,Ie=(ie=A.current.unstable_getColumnGroupPath(be)[Pe])!=null?ie:null,Le=Me.findIndex(({groupId:ct,columnFields:it})=>ct===Ie&&it.includes(be)),Ve=Me.slice(Ne,Le+1).map(ct=>T({},ct,{columnFields:ct.columnFields.filter(it=>x[it]!==!1)})).filter(ct=>ct.columnFields.length>0),Qe=Ve[0].columnFields.indexOf($e),et=Ve[0].columnFields.slice(0,Qe).reduce((ct,it)=>{var jt;const Ot=A.current.getColumn(it);return ct+((jt=Ot.computedWidth)!=null?jt:0)},0);let Je=_e;const Pt=Ve.map(({groupId:ct,columnFields:it})=>{const jt=m!==null&&m.depth===Pe&&it.includes(m.field),Ot=h!==null&&h.depth===Pe&&it.includes(h.field)?0:-1,Ht={groupId:ct,width:it.reduce((qt,ln)=>qt+A.current.getColumn(ln).computedWidth,0),fields:it,colIndex:Je,hasFocus:jt,tabIndex:Ot};return Je+=it.length,Ht});Te.push({leftOverflow:et,elements:Pt})}return Te.forEach((Pe,Me)=>{ye.push(p.jsx(up,{style:{height:`${W}px`,transform:`translateX(-${Pe.leftOverflow}px)`},role:"row","aria-rowindex":Me+1,ownerState:F,children:Pe.elements.map(({groupId:$e,width:Ke,fields:Ne,colIndex:be,hasFocus:Ie,tabIndex:Le},Ve)=>p.jsx(OT,{groupId:$e,width:Ke,fields:Ne,colIndex:be,depth:Me,isLastColumn:be===r.length-Ne.length,maxDepth:Te.length,height:W,hasFocus:Ie,tabIndex:Le},Ve))},Me))}),ye},ve={minHeight:j,maxHeight:j,lineHeight:`${W}px`};return{renderContext:$,getColumnHeaders:ne,getColumnsToRender:U,getColumnGroupHeaders:ce,isDragging:!!P,getRootProps:(fe={})=>T({style:ve},fe),getInnerProps:()=>({ref:O,role:"rowgroup"}),headerHeight:W}},$T=["className"],jT=e=>{const{classes:t}=e;return Dt({root:["columnHeaders","withBorderColor"]},Et,t)},BT=Mn("div",{name:"MuiDataGrid",slot:"ColumnHeaders",overridesResolver:(e,t)=>t.columnHeaders})({position:"relative",overflow:"hidden",display:"flex",alignItems:"center",boxSizing:"border-box",borderBottom:"1px solid",borderTopLeftRadius:"var(--unstable_DataGrid-radius)",borderTopRightRadius:"var(--unstable_DataGrid-radius)"}),HT=l.forwardRef(function(t,o){const{className:r}=t,i=He(t,$T),a=We(),c=jT(a);return p.jsx(BT,T({ref:o,className:Oe(r,c.root),ownerState:a},i,{role:"presentation"}))}),GT=["isDragging","className"],VT=e=>{const{isDragging:t,hasScrollX:o,classes:r}=e;return Dt({root:["columnHeadersInner",t&&"columnHeaderDropZone",o&&"columnHeadersInner--scrollable"]},Et,r)},WT=Mn("div",{name:"MuiDataGrid",slot:"columnHeadersInner",overridesResolver:(e,t)=>[{[`&.${Y.columnHeaderDropZone}`]:t.columnHeaderDropZone},t.columnHeadersInner]})(()=>({display:"flex",alignItems:"flex-start",flexDirection:"column",[`&.${Y.columnHeaderDropZone} .${Y.columnHeaderDraggableContainer}`]:{cursor:"move"},[`&.${Y["columnHeadersInner--scrollable"]} .${Y.columnHeader}:last-child`]:{borderRight:"none"}})),ZT=l.forwardRef(function(t,o){var r,i;const{isDragging:a,className:c}=t,d=He(t,GT),h=At(),v=We(),m=T({},v,{isDragging:a,hasScrollX:(r=(i=h.current.getRootDimensions())==null?void 0:i.hasScrollX)!=null?r:!1}),f=VT(m);return p.jsx(WT,T({ref:o,className:Oe(c,f.root),ownerState:m},d))}),UT=["innerRef","className","visibleColumns","sortColumnLookup","filterColumnLookup","columnPositions","columnHeaderTabIndexState","columnGroupHeaderTabIndexState","columnHeaderFocus","columnGroupHeaderFocus","densityFactor","headerGroupingMaxDepth","columnMenuState","columnVisibility","columnGroupsHeaderStructure","hasOtherElementInTabSequence"],KT=l.forwardRef(function(t,o){const{innerRef:r,visibleColumns:i,sortColumnLookup:a,filterColumnLookup:c,columnPositions:d,columnHeaderTabIndexState:h,columnGroupHeaderTabIndexState:v,columnHeaderFocus:m,columnGroupHeaderFocus:f,densityFactor:g,headerGroupingMaxDepth:b,columnMenuState:x,columnVisibility:w,columnGroupsHeaderStructure:C,hasOtherElementInTabSequence:_}=t,P=He(t,UT),{isDragging:R,getRootProps:D,getInnerProps:V,getColumnHeaders:A,getColumnGroupHeaders:k}=zT({innerRef:r,visibleColumns:i,sortColumnLookup:a,filterColumnLookup:c,columnPositions:d,columnHeaderTabIndexState:h,columnGroupHeaderTabIndexState:v,columnHeaderFocus:m,columnGroupHeaderFocus:f,densityFactor:g,headerGroupingMaxDepth:b,columnMenuState:x,columnVisibility:w,columnGroupsHeaderStructure:C,hasOtherElementInTabSequence:_});return p.jsx(HT,T({ref:o},D(P),{children:p.jsxs(ZT,T({isDragging:R},V(),{children:[k(),A()]}))}))}),JT=Oa(KT),qT=l.forwardRef(function(t,o){const i=At().current.getLocaleText("noResultsOverlayLabel");return p.jsx($c,T({ref:o},t,{children:i}))}),XT=["sortingOrder"],YT=l.memo(function(t){const{sortingOrder:o}=t,r=He(t,XT),i=We(),[a]=o,c=a==="asc"?i.slots.columnSortedAscendingIcon:i.slots.columnSortedDescendingIcon;return c?p.jsx(c,T({},r)):null}),QT=["native"];function ek(e){let{native:t}=e,o=He(e,QT);return t?p.jsx("option",T({},o)):p.jsx(pn,T({},o))}const tk={BooleanCellTrueIcon:V1,BooleanCellFalseIcon:Tl,ColumnMenuIcon:j1,OpenFilterButtonIcon:R1,FilterPanelDeleteIcon:Tl,ColumnFilteredIcon:Hd,ColumnSelectorIcon:F1,ColumnUnsortedIcon:YT,ColumnSortedAscendingIcon:zd,ColumnSortedDescendingIcon:$d,ColumnResizeIcon:O1,DensityCompactIcon:N1,DensityStandardIcon:z1,DensityComfortableIcon:$1,ExportIcon:G1,MoreActionsIcon:W1,TreeDataCollapseIcon:Bd,TreeDataExpandIcon:jd,GroupingCriteriaCollapseIcon:Bd,GroupingCriteriaExpandIcon:jd,DetailPanelExpandIcon:Gd,DetailPanelCollapseIcon:B1,RowReorderIcon:Vd,QuickFilterIcon:L1,QuickFilterClearIcon:Tl,ColumnMenuHideIcon:Z1,ColumnMenuSortAscendingIcon:zd,ColumnMenuSortDescendingIcon:$d,ColumnMenuFilterIcon:Hd,ColumnMenuManageColumnsIcon:U1,ColumnMenuClearIcon:K1,LoadIcon:H1,FilterPanelAddIcon:Gd,FilterPanelRemoveAllIcon:J1,ColumnReorderIcon:Vd},nk=T({},tk,{BaseCheckbox:qi,BaseTextField:_n,BaseFormControl:Wp,BaseSelect:uc,BaseSwitch:Zb,BaseButton:an,BaseIconButton:mn,BaseInputAdornment:Qs,BaseTooltip:Hp,BasePopper:hs,BaseInputLabel:Vp,BaseSelectOption:ek,BaseChip:rs}),ok=T({},nk,{Cell:Jl,SkeletonCell:pS,ColumnHeaderFilterIconButton:P1,ColumnMenu:u_,ColumnHeaders:JT,Footer:vP,FooterRowCount:IP,Toolbar:null,PreferencesPanel:N_,LoadingOverlay:bP,NoResultsOverlay:qT,NoRowsOverlay:xP,Pagination:wP,FilterPanel:rP,ColumnsPanel:D_,Panel:O_,Row:ZP}),Gm=e=>{if(e!==void 0)return Object.keys(e).reduce((t,o)=>T({},t,{[`${o.charAt(0).toLowerCase()}${o.slice(1)}`]:e[o]}),{})};function rk({defaultSlots:e,slots:t,components:o}){const r=t??(o?Gm(o):null);if(!r||Object.keys(r).length===0)return e;const i=T({},e);return Object.keys(r).forEach(a=>{const c=a;r[c]!==void 0&&(i[c]=r[c])}),i}const sk=["components","componentsProps"];function ik(e){var t;const o=Object.keys(e);if(!o.some(a=>a.startsWith("aria-")||a.startsWith("data-")))return e;const r={},i=(t=e.forwardedProps)!=null?t:{};for(let a=0;a<o.length;a+=1){const c=o[a];c.startsWith("aria-")||c.startsWith("data-")?i[c]=e[c]:r[c]=e[c]}return r.forwardedProps=i,r}function ak(e){return l.useMemo(()=>{const{components:t,componentsProps:o}=e,r=He(e,sk);return[t,o,ik(r)]},[e])}const lk={disableMultipleColumnsFiltering:!0,disableMultipleColumnsSorting:!0,disableMultipleRowSelection:!0,throttleRowsMs:void 0,hideFooterRowCount:!1,pagination:!0,checkboxSelectionVisibleOnly:!1,disableColumnReorder:!0,disableColumnResize:!0,keepColumnPositionIfDraggedOutside:!1,signature:"DataGrid"},za={autoHeight:!1,autoPageSize:!1,checkboxSelection:!1,checkboxSelectionVisibleOnly:!1,columnBuffer:3,rowBuffer:3,columnThreshold:3,rowThreshold:3,rowSelection:!0,density:"standard",disableColumnFilter:!1,disableColumnMenu:!1,disableColumnSelector:!1,disableDensitySelector:!1,disableEval:!1,disableMultipleColumnsFiltering:!1,disableMultipleRowSelection:!1,disableMultipleColumnsSorting:!1,disableRowSelectionOnClick:!1,disableVirtualization:!1,editMode:ko.Cell,filterMode:"client",filterDebounceMs:150,columnHeaderHeight:56,hideFooter:!1,hideFooterPagination:!1,hideFooterRowCount:!1,hideFooterSelectedRowCount:!1,ignoreDiacritics:!1,logger:console,logLevel:"error",pagination:!1,paginationMode:"client",rowHeight:52,pageSizeOptions:[25,50,100],rowSpacingType:"margin",showCellVerticalBorder:!1,showColumnVerticalBorder:!1,sortingOrder:["asc","desc",null],sortingMode:"client",throttleRowsMs:0,disableColumnReorder:!1,disableColumnResize:!1,keepNonExistentRowsSelected:!1,keepColumnPositionIfDraggedOutside:!1,unstable_ignoreValueFormatterDuringExport:!1,clipboardCopyCellDelimiter:"	",rowPositionsDebounceMs:166},ck=Gm(ok),uk=e=>{const[t,o,r]=ak(xv({props:e,name:"MuiDataGrid"})),i=l.useMemo(()=>T({},CT,r.localeText),[r.localeText]),a=l.useMemo(()=>rk({defaultSlots:ck,slots:r.slots,components:t}),[t,r.slots]);return l.useMemo(()=>{var c;return T({},za,r,{localeText:i,slots:a,slotProps:(c=r.slotProps)!=null?c:o},lk)},[r,i,a,o])},dk=e=>T({},e,{rowsMeta:{currentPageTotalHeight:0,positions:[]}}),dp=(e,t,o)=>typeof e=="number"&&e>0?e:t,pk=(e,t)=>{const{getRowHeight:o,getRowSpacing:r,getEstimatedRowHeight:i}=t,a=l.useRef(Object.create(null)),c=l.useRef(-1),d=l.useRef(!1),h=ze(e,gs),v=ze(e,Sn),m=ze(e,Bc),f=ze(e,eo),g=Lr(e,t),b=ze(e,fs),x=dp(t.rowHeight,za.rowHeight),w=Math.floor(x*h),C=l.useCallback(()=>{var H,B;d.current=!1;const I=W=>{a.current[W.id]||(a.current[W.id]={sizes:{baseCenter:w},isResized:!1,autoHeight:!1,needsFirstMeasurement:!0});const{isResized:E,needsFirstMeasurement:G,sizes:Z}=a.current[W.id];let q=typeof w=="number"&&w>0?w:52;const te=Z.baseCenter;if(E)q=te;else if(o){const ne=o(T({},W,{densityFactor:h}));if(ne==="auto"){if(G){const ce=i?i(T({},W,{densityFactor:h})):w;q=ce??w}else q=te;d.current=!0,a.current[W.id].autoHeight=!0}else q=dp(ne,w),a.current[W.id].needsFirstMeasurement=!1,a.current[W.id].autoHeight=!1}else a.current[W.id].needsFirstMeasurement=!1;const J={};for(const ne in Z)/^base[A-Z]/.test(ne)&&(J[ne]=Z[ne]);if(J.baseCenter=q,r){var oe,X;const ne=e.current.getRowIndexRelativeToVisibleRows(W.id),ce=r(T({},W,{isFirstVisible:ne===0,isLastVisible:ne===g.rows.length-1,indexRelativeToCurrentPage:ne}));J.spacingTop=(oe=ce.top)!=null?oe:0,J.spacingBottom=(X=ce.bottom)!=null?X:0}const U=e.current.unstable_applyPipeProcessors("rowHeight",J,W);return a.current[W.id].sizes=U,U},M=[],j=g.rows.reduce((W,E)=>{M.push(W);let G=0,Z=0;const q=I(E);for(const te in q){const J=q[te];/^base[A-Z]/.test(te)?G=J>G?J:G:Z+=J}return W+G+Z},0);b==null||(H=b.top)==null||H.forEach(W=>{I(W)}),b==null||(B=b.bottom)==null||B.forEach(W=>{I(W)}),e.current.setState(W=>T({},W,{rowsMeta:{currentPageTotalHeight:j,positions:M}})),d.current||(c.current=1/0),e.current.forceUpdate()},[e,g.rows,w,o,r,i,b,h]),_=l.useCallback(H=>{const B=a.current[H];return B?B.sizes.baseCenter:w},[w]),P=H=>{var B;return(B=a.current[H])==null?void 0:B.sizes},R=l.useCallback((H,B)=>{a.current[H].sizes.baseCenter=B,a.current[H].isResized=!0,a.current[H].needsFirstMeasurement=!1,C()},[C]),D=l.useMemo(()=>Eh(C,t.rowPositionsDebounceMs),[C,t.rowPositionsDebounceMs]),V=l.useCallback((H,B,I)=>{if(!a.current[H]||!a.current[H].autoHeight)return;const M=a.current[H].sizes[`base${Vo(I)}`]!==B;a.current[H].needsFirstMeasurement=!1,a.current[H].sizes[`base${Vo(I)}`]=B,M&&D()},[D]),A=l.useCallback(H=>{var B;return((B=a.current[H])==null?void 0:B.autoHeight)||!1},[]),k=l.useCallback(()=>c.current,[]),F=l.useCallback(H=>{d.current&&H>c.current&&(c.current=H)},[]),z=l.useCallback(()=>{a.current={},C()},[C]);l.useEffect(()=>{C()},[w,v,m,f,C]),Kc(e,"rowHeight",C);const O={unstable_setLastMeasuredRowIndex:F,unstable_getRowHeight:_,unstable_getRowInternalSizes:P,unstable_setRowHeight:R,unstable_storeRowHeightMeasurement:V,resetRowHeights:z},$={getLastMeasuredRowIndex:k,rowHasAutoHeight:A};bt(e,O,"public"),bt(e,$,"private")},hk=e=>{const t=l.useCallback((i={})=>e.current.unstable_applyPipeProcessors("exportState",{},i),[e]),o=l.useCallback(i=>{e.current.unstable_applyPipeProcessors("restoreState",{callbacks:[]},{stateToRestore:i}).callbacks.forEach(c=>{c()}),e.current.forceUpdate()},[e]);bt(e,{exportState:t,restoreState:o},"public")},mk=e=>{const t=l.useRef({}),o=l.useCallback((v,m,f)=>{const g=t.current;g[v]||(g[v]={}),g[v][m]=f},[]),r=l.useCallback((v,m)=>{var f;return(f=t.current[v])==null?void 0:f[m]},[]),i=l.useCallback(v=>{const{columnIndex:m,rowId:f,minFirstColumnIndex:g,maxLastColumnIndex:b,columns:x}=v,w=x.length,C=x[m],_=typeof C.colSpan=="function"?C.colSpan(e.current.getCellParams(f,C.field)):C.colSpan;if(!_||_===1)return o(f,m,{spannedByColSpan:!1,cellProps:{colSpan:1,width:C.computedWidth}}),{colSpan:1};let P=C.computedWidth;for(let R=1;R<_;R+=1){const D=m+R;if(D>=g&&D<b){const V=x[D];P+=V.computedWidth,o(f,m+R,{spannedByColSpan:!0,rightVisibleCellIndex:Math.min(m+_,w-1),leftVisibleCellIndex:m})}o(f,m,{spannedByColSpan:!1,cellProps:{colSpan:_,width:P}})}return{colSpan:_}},[e,o]),a=l.useCallback(({rowId:v,minFirstColumn:m,maxLastColumn:f,columns:g})=>{for(let b=m;b<f;b+=1){const x=i({columnIndex:b,rowId:v,minFirstColumnIndex:m,maxLastColumnIndex:f,columns:g});x.colSpan>1&&(b+=x.colSpan-1)}},[i]),c={unstable_getCellColSpanInfo:r},d={calculateColSpan:a};bt(e,c,"public"),bt(e,d,"private");const h=l.useCallback(()=>{t.current={}},[]);Ze(e,"columnOrderChange",h)},Vm=(e,t,o)=>{if(em(e)){if(o[e.field]!==void 0)throw new Error(["MUI: columnGroupingModel contains duplicated field",`column field ${e.field} occurs two times in the grouping model:`,`- ${o[e.field].join(" > ")}`,`- ${t.join(" > ")}`].join(`
`));o[e.field]=t;return}const{groupId:r,children:i}=e;i.forEach(a=>{Vm(a,[...t,r],o)})},oc=e=>{if(!e)return{};const t={};return e.forEach(o=>{Vm(o,[],t)}),t},rc=(e,t,o)=>{const r=h=>{var v;return(v=t[h])!=null?v:[]},i=[],a=Math.max(...e.map(h=>r(h).length)),c=(h,v,m)=>kr(r(h).slice(0,m+1),r(v).slice(0,m+1)),d=(h,v)=>!!(o!=null&&o.left&&o.left.includes(h)&&!o.left.includes(v)||o!=null&&o.right&&!o.right.includes(h)&&o.right.includes(v));for(let h=0;h<a;h+=1){const v=e.reduce((m,f)=>{var g;const b=(g=r(f)[h])!=null?g:null;if(m.length===0)return[{columnFields:[f],groupId:b}];const x=m[m.length-1],w=x.columnFields[x.columnFields.length-1];return x.groupId!==b||!c(w,f,h)||d(w,f)?[...m,{columnFields:[f],groupId:b}]:[...m.slice(0,m.length-1),{columnFields:[...x.columnFields,f],groupId:b}]},[]);i.push(v)}return i},fk=["groupId","children"],qc=e=>{let t={};return e.forEach(o=>{if(em(o))return;const{groupId:r,children:i}=o,a=He(o,fk);if(!r)throw new Error("MUI: An element of the columnGroupingModel does not have either `field` or `groupId`.");i||console.warn(`MUI: group groupId=${r} has no children.`);const c=T({},a,{groupId:r}),d=qc(i);if(d[r]!==void 0||t[r]!==void 0)throw new Error(`MUI: The groupId ${r} is used multiple times in the columnGroupingModel.`);t=T({},t,d,{[r]:c})}),T({},t)},gk=(e,t,o)=>{var r,i,a,c;if(!((r=t.experimentalFeatures)!=null&&r.columnGrouping))return e;const d=Go(o),h=Aa(o),v=qc((i=t.columnGroupingModel)!=null?i:[]),m=oc((a=t.columnGroupingModel)!=null?a:[]),f=rc(d,m,(c=o.current.state.pinnedColumns)!=null?c:{}),g=h.length===0?0:Math.max(...h.map(b=>{var x,w;return(x=(w=m[b])==null?void 0:w.length)!=null?x:0}));return T({},e,{columnGrouping:{lookup:v,unwrappedGroupingModel:m,headerStructure:f,maxDepth:g}})},vk=(e,t)=>{var o;const r=l.useCallback(h=>{var v;return(v=zC(e)[h])!=null?v:[]},[e]),i=l.useCallback(()=>Hh(e),[e]);bt(e,{unstable_getColumnGroupPath:r,unstable_getAllGroupDetails:i},"public");const c=l.useCallback(()=>{var h;const v=oc((h=t.columnGroupingModel)!=null?h:[]);e.current.setState(m=>{var f,g,b;const x=(f=(g=m.columns)==null?void 0:g.orderedFields)!=null?f:[],w=(b=m.pinnedColumns)!=null?b:{},C=rc(x,v,w);return T({},m,{columnGrouping:T({},m.columnGrouping,{headerStructure:C})})})},[e,t.columnGroupingModel]),d=l.useCallback(h=>{var v,m,f,g;if(!((v=t.experimentalFeatures)!=null&&v.columnGrouping))return;const b=(m=(f=(g=e.current).getPinnedColumns)==null?void 0:f.call(g))!=null?m:{},x=Go(e),w=Aa(e),C=qc(h??[]),_=oc(h??[]),P=rc(x,_,b),R=w.length===0?0:Math.max(...w.map(D=>{var V,A;return(V=(A=_[D])==null?void 0:A.length)!=null?V:0}));e.current.setState(D=>T({},D,{columnGrouping:{lookup:C,unwrappedGroupingModel:_,headerStructure:P,maxDepth:R}}))},[e,(o=t.experimentalFeatures)==null?void 0:o.columnGrouping]);Ze(e,"columnIndexChange",c),Ze(e,"columnsChange",()=>{d(t.columnGroupingModel)}),Ze(e,"columnVisibilityModelChange",()=>{d(t.columnGroupingModel)}),l.useEffect(()=>{d(t.columnGroupingModel)},[d,t.columnGroupingModel])},yk=(e,t)=>{const o=iI(e,t);return ST(o,t),yT(o),$n(bT,o,t),$n(DI,o,t),$n(hT,o,t),$n(dT,o,t),$n(KI,o,t),$n(_T,o,t),$n(tT,o,t),$n(VI,o,t),$n(FI,o,t),$n(QI,o,t),$n(dk,o,t),$n(II,o,t),$n(gk,o,t),$n(C1,o,t),XI(o,t),xT(o,t),EI(o,t),mT(o,t),bw(o,t),mk(o),vk(o,t),pT(o,t),JI(o,t),nT(o,t),UI(o,t),PT(o,t),OI(o,t),eT(o,t),pk(o,t),IT(o,t),TI(o),$I(o,t),GI(o,t),PI(o,t),MT(o,t),TT(o,t),hk(o),w1(o,t),o},bk=e=>{const{classes:t}=e;return Dt({root:["virtualScroller"]},Et,t)},xk=Mn("div",{name:"MuiDataGrid",slot:"VirtualScroller",overridesResolver:(e,t)=>t.virtualScroller})({overflow:"auto",height:"100%",position:"relative","@media print":{overflow:"hidden"},zIndex:0}),Ck=l.forwardRef(function(t,o){const r=We(),i=bk(r);return p.jsx(xk,T({ref:o},t,{className:Oe(i.root,t.className),ownerState:r}))}),wk=(e,t)=>{const{classes:o}=e;return Dt({root:["virtualScrollerContent",t&&"virtualScrollerContent--overflowed"]},Et,o)},Sk=Mn("div",{name:"MuiDataGrid",slot:"VirtualScrollerContent",overridesResolver:(e,t)=>t.virtualScrollerContent})({}),_k=l.forwardRef(function(t,o){var r;const i=We(),a=!i.autoHeight&&((r=t.style)==null?void 0:r.minHeight)==="auto",c=wk(i,a);return p.jsx(Sk,T({ref:o},t,{ownerState:i,className:Oe(c.root,t.className)}))}),Pk=["className"],Ik=e=>{const{classes:t}=e;return Dt({root:["virtualScrollerRenderZone"]},Et,t)},Tk=Mn("div",{name:"MuiDataGrid",slot:"VirtualScrollerRenderZone",overridesResolver:(e,t)=>t.virtualScrollerRenderZone})({position:"absolute",display:"flex",flexDirection:"column"}),kk=l.forwardRef(function(t,o){const{className:r}=t,i=He(t,Pk),a=We(),c=Ik(a);return p.jsx(Tk,T({ref:o,className:Oe(c.root,r),ownerState:a},i))}),Mk=["className"],Ak=l.forwardRef(function(t,o){const{className:r}=t,i=He(t,Mk),{getRootProps:a,getContentProps:c,getRenderZoneProps:d,getRows:h}=LT({ref:o});return p.jsxs(Ck,T({className:r},a(i),{children:[p.jsx(pw,{}),p.jsx(_k,T({},c(),{children:p.jsx(kk,T({},d(),{children:h()}))}))]}))}),Wm=l.forwardRef(function(t,o){const r=uk(t),i=yk(r.apiRef,r);return p.jsx(UP,{privateApiRef:i,props:r,children:p.jsxs(vS,T({className:r.className,style:r.style,sx:r.sx,ref:o},r.forwardedProps,{children:[p.jsx(yP,{}),p.jsx(ow,{VirtualScrollerComponent:Ak}),p.jsx(rw,{})]}))})}),Dk=l.memo(Wm);za.filterDebounceMs;za.filterDebounceMs;Wm.propTypes={apiRef:se.shape({current:se.object.isRequired}),"aria-label":se.string,"aria-labelledby":se.string,autoHeight:se.bool,autoPageSize:se.bool,cellModesModel:se.object,checkboxSelection:se.bool,classes:se.object,clipboardCopyCellDelimiter:se.string,columnBuffer:se.number,columnGroupingModel:se.arrayOf(se.object),columnHeaderHeight:se.number,columns:ux(se.array.isRequired),columnThreshold:se.number,columnVisibilityModel:se.object,components:se.object,componentsProps:se.object,density:se.oneOf(["comfortable","compact","standard"]),disableColumnFilter:se.bool,disableColumnMenu:se.bool,disableColumnSelector:se.bool,disableDensitySelector:se.bool,disableEval:se.bool,disableRowSelectionOnClick:se.bool,disableVirtualization:se.bool,editMode:se.oneOf(["cell","row"]),experimentalFeatures:se.shape({ariaV7:se.bool,columnGrouping:se.bool,warnIfFocusStateIsNotSynced:se.bool}),filterDebounceMs:se.number,filterMode:se.oneOf(["client","server"]),filterModel:se.shape({items:se.arrayOf(se.shape({field:se.string.isRequired,id:se.oneOfType([se.number,se.string]),operator:se.string.isRequired,value:se.any})).isRequired,logicOperator:se.oneOf(["and","or"]),quickFilterExcludeHiddenColumns:se.bool,quickFilterLogicOperator:se.oneOf(["and","or"]),quickFilterValues:se.array}),forwardedProps:se.object,getCellClassName:se.func,getDetailPanelContent:se.func,getEstimatedRowHeight:se.func,getRowClassName:se.func,getRowHeight:se.func,getRowId:se.func,getRowSpacing:se.func,hideFooter:se.bool,hideFooterPagination:se.bool,hideFooterSelectedRowCount:se.bool,ignoreDiacritics:se.bool,initialState:se.object,isCellEditable:se.func,isRowSelectable:se.func,keepNonExistentRowsSelected:se.bool,loading:se.bool,localeText:se.object,logger:se.shape({debug:se.func.isRequired,error:se.func.isRequired,info:se.func.isRequired,warn:se.func.isRequired}),logLevel:se.oneOf(["debug","error","info","warn",!1]),nonce:se.string,onCellClick:se.func,onCellDoubleClick:se.func,onCellEditStart:se.func,onCellEditStop:se.func,onCellKeyDown:se.func,onCellModesModelChange:se.func,onClipboardCopy:se.func,onColumnHeaderClick:se.func,onColumnHeaderDoubleClick:se.func,onColumnHeaderEnter:se.func,onColumnHeaderLeave:se.func,onColumnHeaderOut:se.func,onColumnHeaderOver:se.func,onColumnOrderChange:se.func,onColumnVisibilityModelChange:se.func,onFilterModelChange:se.func,onMenuClose:se.func,onMenuOpen:se.func,onPaginationModelChange:se.func,onPreferencePanelClose:se.func,onPreferencePanelOpen:se.func,onProcessRowUpdateError:se.func,onResize:se.func,onRowClick:se.func,onRowCountChange:se.func,onRowDoubleClick:se.func,onRowEditStart:se.func,onRowEditStop:se.func,onRowModesModelChange:se.func,onRowSelectionModelChange:se.func,onSortModelChange:se.func,onStateChange:se.func,pageSizeOptions:se.arrayOf(se.oneOfType([se.number,se.shape({label:se.string.isRequired,value:se.number.isRequired})]).isRequired),pagination:e=>e.pagination===!1?new Error(["MUI: `<DataGrid pagination={false} />` is not a valid prop.","Infinite scrolling is not available in the MIT version.","","You need to upgrade to DataGridPro or DataGridPremium component to disable the pagination."].join(`
`)):null,paginationMode:se.oneOf(["client","server"]),paginationModel:se.shape({page:se.number.isRequired,pageSize:se.number.isRequired}),processRowUpdate:se.func,rowBuffer:se.number,rowCount:se.number,rowHeight:se.number,rowModesModel:se.object,rowPositionsDebounceMs:se.number,rows:se.arrayOf(se.object).isRequired,rowSelection:se.bool,rowSelectionModel:se.oneOfType([se.arrayOf(se.oneOfType([se.number,se.string]).isRequired),se.number,se.string]),rowSpacingType:se.oneOf(["border","margin"]),rowThreshold:se.number,scrollbarSize:se.number,showCellVerticalBorder:se.bool,showColumnVerticalBorder:se.bool,slotProps:se.object,slots:se.object,sortingMode:se.oneOf(["client","server"]),sortingOrder:se.arrayOf(se.oneOf(["asc","desc"])),sortModel:se.arrayOf(se.shape({field:se.string.isRequired,sort:se.oneOf(["asc","desc"])})),sx:se.oneOfType([se.arrayOf(se.oneOfType([se.func,se.object,se.bool])),se.func,se.object]),unstable_ignoreValueFormatterDuringExport:se.oneOfType([se.shape({clipboardExport:se.bool,csvExport:se.bool}),se.bool])};function Ek(e){const{reserveBottom:t=140,minHeight:o=220,containerRef:r,autoReserveBottom:i=!0,debug:a=!1,sx:c,...d}=e,h=l.useRef(null),v=r??h,[m,f]=l.useState(o);return l.useEffect(()=>{function g(){try{const x=v&&v.current||h.current;if(!x){f(o);return}const w=x.getBoundingClientRect(),C=w.top,_=Math.max(0,window.innerHeight-w.bottom),P=t+(i?Math.round(_):0),R=Math.max(o,window.innerHeight-C-P),D=Math.round(R);a&&console.debug("ResponsiveDataGrid.compute",{top:C,bottom:w.bottom,windowInnerHeight:window.innerHeight,reserveBottom:t,footerSpace:_,effectiveReserve:P,computed:D}),f(D)}catch{f(o)}}g();const b=new ResizeObserver(()=>g());return b.observe(document.body),window.addEventListener("resize",g),()=>{b.disconnect(),window.removeEventListener("resize",g)}},[t,o,v]),p.jsx(Ue,{ref:h,sx:{width:"100%",height:m,position:"relative",...c||{}},children:p.jsx(Dk,{...d,autoHeight:!1,sx:{height:"100%","& .MuiDataGrid-viewport":{height:"100%"},...d.sx||{}}})})}const Zm="taskTable_columns_v1";function Ai(){try{const e=localStorage.getItem(Zm);return e?JSON.parse(e):null}catch{return null}}function Al(e){try{localStorage.setItem(Zm,JSON.stringify(e))}catch{}}function Rk(e,t){if(!t)return e;const o=t.widths||{},r=new Set(t.hidden||[]),i=t.order||[];if(i.length){const a=new Map(e.map(d=>[d.field,d])),c=[];i.forEach(d=>{a.has(d)&&c.push({...a.get(d)})}),e.forEach(d=>{i.includes(d.field)||c.push({...d})}),e=c}else e=e.map(a=>({...a}));return e.map(a=>({...a,width:o[a.field]??a.width,hide:r.has(a.field)}))}function Lk({rows:e,headerNames:t,tableHeight:o=600,containerRef:r,reserveBottom:i=160,debug:a=!1,onOpenPopout:c,onSelectionChange:d}){const[h,v]=l.useState([]),m=Jt(),f=typeof window<"u"&&localStorage.getItem("taskTableDensity")||"compact",g=l.useMemo(()=>Object.keys(t).map(C=>({field:C,headerName:t[C]??C,flex:1,minWidth:120,sortable:!0,resizable:!0})),[t]),b=l.useMemo(()=>e.map((C,_)=>({id:C.taskId??C.workId??_,...C})),[e]),[x,w]=l.useState(()=>g);return l.useEffect(()=>{w(g)},[g]),l.useEffect(()=>{try{const C=Ai();if(C){const _=Rk(g,C);w(_)}}catch{}},[]),l.useEffect(()=>{if(d){const C=b.filter(_=>h.includes(_.id));d(C)}},[h]),p.jsx(Ue,{sx:{width:"100%",display:"flex",flex:1,minHeight:0},children:p.jsx(Ek,{rows:b,columns:x,containerRef:r,debug:a,checkboxSelection:!0,disableColumnMenu:!0,density:f,onRowSelectionModelChange:C=>v(C),rowSelectionModel:h,pageSizeOptions:[25,50,100],initialState:{pagination:{paginationModel:{pageSize:100}}},onRowDoubleClick:(C,_)=>{c&&c([C.row],_.screenX??0,_.screenY??0)},reserveBottom:i,sx:{"& .MuiDataGrid-cell":{py:f==="compact"?.5:1},"& .MuiDataGrid-columnHeader":{py:1},"& .MuiDataGrid-columnHeaders":{backgroundColor:m.palette.action.hover}},onColumnResize:C=>{const{colDef:_,width:P}=C;w(R=>R.map(D=>D.field===_.field?{...D,width:P}:D));try{const R=Ai()||{},D={...R.widths||{}};D[_.field]=P,Al({...R,widths:D})}catch{}},onColumnVisibilityModelChange:C=>{try{const _=Ai()||{},P=Object.keys(C).filter(R=>!C[R]);Al({..._,hidden:P})}catch{}},onColumnOrderChange:C=>{try{const _=Ai()||{},P=C.columnFields||C.items||[];Al({..._,order:P})}catch{}}})})}const ns=["Assigned","Dispatched","Accepted","In Progress","Incomplete","Complete"],Um=["On Hold","Cancelled","Deferred","Rejected","Other"],wo=[...ns,...Um],xr=e=>e?e.trim().toLowerCase():"",pp=e=>{const t=xr(e);if(!t)return{nextStatus:wo[0],progressed:!0};const o=ns.findIndex(r=>r.toLowerCase()===t);return o===-1?{nextStatus:e&&wo.includes(e)?e:wo[0],progressed:!e}:o>=ns.length-1?{nextStatus:ns[o],progressed:!1}:{nextStatus:ns[o+1],progressed:!0}},Fk=e=>Array.isArray(e)?e.map(o=>{if(!o)return null;const r=typeof o.text=="string"?o.text.trim():"";if(!r)return null;const i=o.ts;return{ts:typeof i=="string"&&i?i:new Date().toISOString(),status:typeof o.status=="string"?o.status:void 0,text:r,source:typeof o.source=="string"?o.source:void 0}}).filter(o=>!!o).sort((o,r)=>{const i=new Date(o.ts).getTime();return new Date(r.ts).getTime()-i}):typeof e=="string"&&e.trim()?[{ts:new Date().toISOString(),status:void 0,text:e.trim(),source:"Imported"}]:[],Ok=70;function hp(e){var t;if(e==null)return"string";if(typeof e=="number")return"number";if(typeof e=="string"){const o=Number(((t=e.replace)==null?void 0:t.call(e,/[, ]/g,""))??e);if(!Number.isNaN(o)&&e.trim()!=="")return"number";const r=new Date(e);return!Number.isNaN(r.getTime())&&/\d/.test(e)?"date":"string"}return e instanceof Date?"date":"string"}function Nk(e,t,o){const r=hp(e),i=hp(t);let a=0;if(r==="number"&&i==="number"){const c=typeof e=="number"?e:Number(String(e).replace(/[, ]/g,"")),d=typeof t=="number"?t:Number(String(t).replace(/[, ]/g,""));a=c-d}else if(r==="date"&&i==="date"){const c=e instanceof Date?e.getTime():new Date(e).getTime(),d=t instanceof Date?t.getTime():new Date(t).getTime();a=c-d}else a=String(e??"").localeCompare(String(t??""),void 0,{sensitivity:"base",numeric:!0});return o==="asc"?a:-a}function Xc({rows:e,headerNames:t,tableHeight:o,sx:r,onOpenTask:i,onOpenMultiple:a,clearSelectionTrigger:c,onOpenPopout:d,onOpenCalloutIncident:h,onSelectionChange:v,rowIdKey:m,controlledSelectedRowIds:f}){const g=Jt(),b=typeof window<"u"&&typeof document<"u",[x,w]=l.useState(null),[C,_]=l.useState(null),P=l.useMemo(()=>Object.keys(t),[t]),[R,D]=l.useState(P),[V,A]=l.useState({}),[k,F]=l.useState(!1),z=l.useRef(null),O=l.useRef(0),$=l.useRef(0),[H,B]=l.useState(null),[I,M]=l.useState(null),[j,W]=l.useState(new Set),[E,G]=l.useState(null),Z=l.useRef(!1),[q,te]=l.useState({x:0,y:0,visible:!1,clickedRow:null,clickedColumnKey:null}),[J,oe]=l.useState({open:!1,tasks:[]}),[X,U]=l.useState(wo[0]),[ne,ce]=l.useState(""),[ve,fe]=l.useState(""),[ke,_e]=l.useState(!1),[le,ye]=l.useState(null),[Te,De]=l.useState(null),[ie,Pe]=l.useState({open:!1,tasks:[]}),[Me,$e]=l.useState(""),[Ke,Ne]=l.useState(!1),[be,Ie]=l.useState(null),[Le,Ve]=l.useState(null),[Qe,rt]=l.useState({open:!1,task:null,notes:[]}),[et,Je]=l.useState(""),[Pt,ct]=l.useState(!1),[it,jt]=l.useState(null),[Ot,Ht]=l.useState(null),[qt,ln]=l.useState({x:0,y:0,visible:!1,key:null}),[rn,en]=l.useState(""),[Ce,Q]=l.useState(()=>window.innerHeight||900);l.useEffect(()=>{const ee=()=>Q(window.innerHeight);return window.addEventListener("resize",ee),()=>window.removeEventListener("resize",ee)},[]);const pe=l.useMemo(()=>Ce<600?"calc(var(--vh, 1vh) * 20)":Ce<800?"calc(var(--vh, 1vh) * 22)":"calc(var(--vh, 1vh) * 24)",[Ce]),Fe=l.useRef(null),yt=l.useRef(null),lt=l.useRef(null),Ye=l.useRef(null),[ft,ge]=l.useState(0),[he,xe]=l.useState(0),[Se,pt]=l.useState(1),[Ct,Re]=l.useState(100),Xt=Math.max(1,Math.ceil(e.length/Ct)),[xn,zt]=l.useState(()=>localStorage.getItem("taskTableDensity")==="comfortable"?"comfortable":"compact");l.useEffect(()=>{localStorage.setItem("taskTableDensity",xn)},[xn]);const It=l.useCallback(()=>{W(new Set),G(null)},[]);l.useEffect(()=>{D(P)},[P]),l.useEffect(()=>{Se>Xt&&pt(Xt)},[Se,Xt]),l.useEffect(()=>{if(!e.length||!R.length){F(!0);return}const Ae=document.createElement("canvas").getContext("2d");if(!Ae)return;Ae.font="12px Inter, sans-serif";const qe={};for(const Xe of R){const nt=Ae.measureText(t[Xe]??Xe).width,wt=e.slice(0,10).map(Rt=>Ae.measureText(String(Rt[Xe]??"")).width).reduce((Rt,vn)=>Math.max(Rt,vn),0);qe[Xe]=Math.min(Math.max(nt,wt)+Ok,380)}A(qe),setTimeout(()=>F(!0),120)},[e,t,R]);const hn=l.useMemo(()=>e.length?!x||!C?e:[...e].sort((ee,Ae)=>Nk(ee[x],Ae[x],C)):[],[e,x,C]),Hn=l.useMemo(()=>{const ee=(Se-1)*Ct;return hn.slice(ee,ee+Ct)},[hn,Se,Ct]);l.useEffect(()=>{if(Z.current){console.log("ðŸ”µ TABLE: User selecting manually â€” ignore controlled update");return}if(!f||!m){console.log("ðŸ”µ TABLE: No controlled selection (map â†’ table) triggered");return}console.log("ðŸ”µ TABLE: Controlled selection received:",Array.from(f));const ee=new Set;Hn.forEach((Ae,qe)=>{const Xe=String(Ae[m]);f.has(Xe)&&(console.log("ðŸ”µ TABLE: Match found on page index:",qe,"id:",Xe),ee.add(qe))}),console.log("ðŸ”µ TABLE: Final row set:",Array.from(ee)),W(ee)},[f,Hn,m]),l.useEffect(()=>{const ee=setTimeout(()=>{Z.current=!1},50);return()=>clearTimeout(ee)},[j]),l.useEffect(()=>{const ee=qe=>{if(!z.current)return;const Xe=z.current,nt=qe.clientX-O.current;A(wt=>({...wt,[Xe]:Math.max(80,$.current+nt)}))},Ae=()=>{z.current=null,document.body.style.cursor="default"};return window.addEventListener("mousemove",ee),window.addEventListener("mouseup",Ae),()=>{window.removeEventListener("mousemove",ee),window.removeEventListener("mouseup",Ae)}},[]);const ue=l.useCallback(()=>{ln(ee=>({...ee,visible:!1,key:null}))},[]),de=ee=>{D(Ae=>{const qe=Ae.includes(ee);if(qe&&Ae.length===1)return Ae;if(qe){const Xe=Ae.filter(nt=>nt!==ee);return x===ee&&(w(null),_(null)),Xe}else{const Xe=[...Ae],nt=P.indexOf(ee);if(nt===-1)return Xe;let wt=Xe.length;for(let Rt=0;Rt<Xe.length;Rt++)if(P.indexOf(Xe[Rt])>nt){wt=Rt;break}return Xe.splice(wt,0,ee),Xe}})},je=()=>{D(P),w(null),_(null),A({})},at=l.useCallback(()=>{te(ee=>({...ee,visible:!1,clickedRow:null,clickedColumnKey:null}))},[]),tt=l.useCallback(ee=>ee?ee.taskId??ee.TaskID??ee.TaskId??ee.id??ee.ID??ee.Id??null:null,[]),ht=l.useCallback(ee=>ee?ee.taskStatus??ee.TaskStatus??ee.status??ee.Status??"":"",[]),$t=l.useCallback(ee=>{if(!(ee!=null&&ee.length))return[];const Ae=[],qe=new Set;for(const Xe of ee){if(!Xe)continue;const nt=tt(Xe);if(nt!=null){const wt=String(nt);if(qe.has(wt))continue;qe.add(wt)}Ae.push(Xe)}return Ae.length?Ae:ee},[tt]),In=l.useCallback(ee=>{if(!ee)return[];const Ae=ee.progressNotes??ee.ProgressNotes??ee.progress_notes??ee.quickNotes??[];return Fk(Ae)},[]),io=l.useCallback(ee=>{if(!(ee!=null&&ee.length))return;const Ae=$t(ee),qe=Ae[0],Xe=(()=>{if(!qe)return wo[0];const nt=ht(qe),wt=pp(nt).nextStatus;return wo.includes(wt)?wt:nt&&wo.includes(nt)?nt:wo[0]})();U(Xe),oe({open:!0,tasks:Ae}),fe(""),ye(null),De(null)},[$t,ht]),Jn=l.useCallback(()=>{oe({open:!1,tasks:[]}),fe(""),ye(null),De(null),U(wo[0])},[]),pr=l.useCallback(ee=>{const Ae=In(ee);rt({open:!0,task:ee,notes:Ae}),Je(""),jt(null),Ht(null)},[In]),Gn=l.useCallback(()=>{rt({open:!1,task:null,notes:[]}),Je(""),jt(null),Ht(null)},[]),Ao=l.useCallback(ee=>{const Ae=$t(ee);Ae.length&&(Pe({open:!0,tasks:Ae}),$e(""),Ie(null),Ve(null))},[$t]),gt=l.useCallback(()=>{Pe({open:!1,tasks:[]}),$e(""),Ie(null),Ve(null)},[]),Dn=l.useCallback(ee=>{io(ee)},[io]),En=l.useCallback(ee=>{const Ae=$t(ee);if(Ae.length){if(Ae.length===1){pr(Ae[0]);return}Ao(Ae)}},[$t,Ao,pr]),vo=l.useCallback(async()=>{const ee=ve.trim();if(!ee){ye("Enter a quick note before saving.");return}if(ke)return;_e(!0),ye(null),De(null);const Ae=[],qe=[],Xe=[];for(const nt of J.tasks){const wt=tt(nt);if(!wt){Ae.push("(missing id)");continue}const Rt=String(wt),vn=ht(nt),qn=(X&&X.trim()?X:pp(vn).nextStatus)||vn,yo=new Date().toISOString(),zr=xr(vn)!==xr(qn)?`${ee} (Status â†’ ${qn})`:ee;try{const Eo={taskId:Rt,text:zr,taskStatus:qn};ne&&String(ne).trim()&&(Eo.resourceId=String(ne).trim());const $r=await fetch("http://localhost:5179/progress-notes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Eo)});if(!$r.ok)throw new Error(`HTTP ${$r.status}`);qe.push(Rt),Xe.push({taskId:Rt,previousStatus:vn,nextStatus:qn,note:zr,timestamp:yo})}catch(Eo){console.warn("Quick note sync failed",Eo),Ae.push(Rt)}}if(_e(!1),Ae.length){ye(`Unable to update ${Ae.length} task${Ae.length===1?"":"s"}: ${Ae.join(",")}`),qe.length&&De(`Saved ${qe.length} task${qe.length===1?"":"s"}`);return}if(Xe.length&&typeof window<"u"&&document.dispatchEvent(new CustomEvent("taskforce:tasks-progressed",{detail:{items:Xe}})),qe.length){const nt=Xe.filter(wt=>xr(wt.previousStatus)!==xr(wt.nextStatus)).length;nt>0?De(`Updated ${qe.length} task${qe.length===1?"":"s"} (${nt} progressed)`):De(`Saved ${qe.length} task${qe.length===1?"":"s"}`)}else De("Saved");fe(""),setTimeout(()=>{Jn()},900)},[Jn,tt,ht,J.tasks,ve,ke,X]),Fr=l.useCallback(async()=>{const ee=et.trim();if(!ee){jt("Enter a note before saving.");return}if(Pt||!Qe.task)return;ct(!0),jt(null),Ht(null);const Ae=tt(Qe.task);if(!Ae){ct(!1),jt("Task identifier missing.");return}const qe=String(Ae),Xe=ht(Qe.task),nt=Xe||"Updated",wt=new Date().toISOString();try{const Rt=await fetch("http://localhost:5179/progress-notes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({taskId:qe,text:ee,taskStatus:nt})});if(!Rt.ok)throw new Error(`HTTP ${Rt.status}`);const vn={ts:wt,status:nt,text:ee,source:"Quick Progress"};rt(Ln=>Ln.task?{open:Ln.open,task:{...Ln.task,progressNotes:[vn,...Array.isArray(Ln.task.progressNotes)?Ln.task.progressNotes:[]]},notes:[vn,...Ln.notes]}:Ln),typeof document<"u"&&document.dispatchEvent(new CustomEvent("taskforce:tasks-progressed",{detail:{items:[{taskId:qe,previousStatus:Xe,nextStatus:nt,note:ee,timestamp:wt}]}})),Ht("Saved note"),Je("")}catch(Rt){console.warn("Single progress note sync failed",Rt),jt("Unable to save note. Try again.")}finally{ct(!1)}},[tt,ht,Qe.task,Pt,et]),hr=l.useCallback(async()=>{const ee=Me.trim();if(!ee){Ie("Enter a note before saving.");return}if(Ke)return;Ne(!0),Ie(null),Ve(null);const Ae=[],qe=[],Xe=[];for(const nt of ie.tasks){const wt=tt(nt);if(!wt){Ae.push("(missing id)");continue}const Rt=String(wt),vn=ht(nt),Ln=vn||"Updated",qn=new Date().toISOString();try{const yo=await fetch("http://localhost:5179/progress-notes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({taskId:Rt,text:ee,taskStatus:Ln})});if(!yo.ok)throw new Error(`HTTP ${yo.status}`);qe.push(Rt),Xe.push({taskId:Rt,previousStatus:vn,nextStatus:Ln,note:ee,timestamp:qn})}catch(yo){console.warn("Bulk progress note sync failed",yo),Ae.push(Rt)}}if(Ne(!1),Ae.length){Ie(`Unable to update ${Ae.length} task${Ae.length===1?"":"s"}: ${Ae.join(",")}`),qe.length&&Ve(`Saved ${qe.length} task${qe.length===1?"":"s"}`);return}Xe.length&&typeof document<"u"&&document.dispatchEvent(new CustomEvent("taskforce:tasks-progressed",{detail:{items:Xe}})),qe.length?Ve(`Saved ${qe.length} task${qe.length===1?"":"s"}`):Ve("Saved"),$e(""),setTimeout(()=>{gt()},900)},[gt,tt,ht,ie.tasks,Ke,Me]);l.useEffect(()=>{if(!J.open)return;const ee=Ae=>{Ae.key==="Escape"&&Jn()};return window.addEventListener("keydown",ee),()=>window.removeEventListener("keydown",ee)},[Jn,J.open]),l.useEffect(()=>{if(!ie.open)return;const ee=Ae=>{Ae.key==="Escape"&&gt()};return window.addEventListener("keydown",ee),()=>window.removeEventListener("keydown",ee)},[gt,ie.open]),l.useEffect(()=>{if(!Qe.open)return;const ee=Ae=>{Ae.key==="Escape"&&Gn()};return window.addEventListener("keydown",ee),()=>window.removeEventListener("keydown",ee)},[Gn,Qe.open]),l.useEffect(()=>{c!==void 0&&It()},[c,It]),l.useEffect(()=>{It()},[e,It]),l.useEffect(()=>{It()},[x,C,It]),l.useEffect(()=>{It()},[Se,Ct,It]),l.useEffect(()=>{It()},[R,It]),l.useEffect(()=>{const ee=qe=>{qe.key==="Escape"&&(at(),ue())},Ae=qe=>{var nt;const Xe=qe.target;if(qt.visible){const wt=(nt=yt.current)==null?void 0:nt.contains(Xe),Rt=Xe.closest('[data-column-button="true"]');!wt&&!Rt&&ue()}if(q.visible){const wt=document.querySelector(".task-context-menu");if(((wt==null?void 0:wt.contains(Xe))??!1)||qe.button===2)return;at()}if(Fe.current&&!Fe.current.contains(Xe)){const wt=Xe.closest("[data-table]"),Rt=Xe.closest(`[data-table="${m}"]`),vn=Xe.closest('[data-map-root="true"]');if(wt&&!Rt||vn)return;It()}};return window.addEventListener("keydown",ee),window.addEventListener("mousedown",Ae),()=>{window.removeEventListener("keydown",ee),window.removeEventListener("mousedown",Ae)}},[q.visible,qt.visible,at,ue,It]),qt.visible;const[Ft,tn]=l.useState(!1);l.useEffect(()=>{const ee=lt.current;if(!ee)return;const Ae=()=>tn(ee.scrollTop>0);return ee.addEventListener("scroll",Ae),()=>ee.removeEventListener("scroll",Ae)},[]);const Uo=Array.from(j).map(ee=>{const Ae=(Se-1)*Ct+ee;return hn[Ae]}).filter(Boolean);l.useEffect(()=>{Z.current&&v&&v(Uo)},[Uo,v]);const Ko=q.clickedRow??null,Do=l.useMemo(()=>{const ee=X&&X.trim()?X:wo[0];return J.tasks.map(Ae=>{const qe=tt(Ae),Xe=ht(Ae);return{id:qe,currentStatus:Xe,nextStatus:ee,willChange:xr(Xe)!==xr(ee)}})},[tt,ht,J.tasks,X]),Or=l.useMemo(()=>ie.tasks.map(ee=>{const Ae=tt(ee),qe=ht(ee);return{id:Ae,currentStatus:qe}}),[tt,ht,ie.tasks]),ut=l.useMemo(()=>{if(!Qe.task)return{id:null,status:""};const ee=tt(Qe.task),Ae=ht(Qe.task);return{id:ee?String(ee):null,status:Ae}},[tt,ht,Qe.task]),sn=l.useCallback(ee=>{try{return new Date(ee).toLocaleString("en-GB",{year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit"})}catch{return ee}},[]),Jo=l.useMemo(()=>({width:"100%",display:"flex",flexDirection:"column",flex:1,minHeight:0,position:"relative",overflow:"hidden",borderRadius:3,border:`1px solid ${me(g.palette.primary.main,.12)}`,boxShadow:"0 20px 50px rgba(8, 58, 97, 0.12)",backgroundColor:me(g.palette.background.paper,.94),outline:"none"}),[g]),Nr=l.useMemo(()=>r?Array.isArray(r)?[Jo,...r]:[Jo,r]:Jo,[Jo,r]);return l.useEffect(()=>{if(!Ye.current||E==null)return;const ee=Ye.current.querySelector(`tbody tr:nth-child(${E+1})`);ee==null||ee.scrollIntoView({block:"nearest"})},[E]),p.jsxs(Nt,{ref:Fe,"data-table":m,component:"section",elevation:0,square:!1,tabIndex:0,sx:Nr,onKeyDown:ee=>{},onClick:ee=>ee.stopPropagation(),children:[p.jsx(Ue,{ref:lt,sx:{display:"flex",flexDirection:"column",flex:1,minHeight:0,overflow:"hidden"},children:p.jsx(Lk,{rows:e,headerNames:t,containerRef:lt,reserveBottom:160,debug:!0,onOpenPopout:d,onSelectionChange:ee=>{v&&v(ee)}})}),p.jsx(wr,{children:qt.visible&&qt.key&&p.jsx(jn.div,{ref:yt,initial:{opacity:0,y:-4,scale:.97},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-4,scale:.97},transition:{duration:.15},style:{position:"absolute",top:qt.y,left:qt.x,width:"clamp(220px,22vw,320px)",zIndex:99999},onClick:ee=>ee.stopPropagation(),children:p.jsxs(Nt,{elevation:10,sx:{borderRadius:2,border:`1px solid ${me(g.palette.primary.main,.12)}`,boxShadow:"0 18px 40px rgba(8, 58, 97, 0.28)",py:1.5},children:[p.jsxs(ot,{spacing:1.5,sx:{px:2},children:[p.jsx(Ge,{variant:"overline",sx:{color:g.palette.text.secondary,letterSpacing:.8,fontWeight:700},children:"Header Settings"}),p.jsx(_n,{size:"small",placeholder:"Filter columnsâ€¦",value:rn,onChange:ee=>en(ee.target.value),InputProps:{startAdornment:p.jsx(Qs,{position:"start",children:p.jsx(wa,{size:16})})}})]}),p.jsx(Po,{sx:{my:1.5}}),p.jsx(Ue,{sx:{maxHeight:pe,overflowY:"auto",px:1.5,pb:1},children:p.jsx(ot,{spacing:.25,children:P.filter(ee=>rn.trim()?(t[ee]??ee).toLowerCase().includes(rn.toLowerCase()):!0).map(ee=>{const Ae=R.includes(ee);return p.jsx(hh,{control:p.jsx(qi,{size:"small",checked:Ae,onChange:()=>de(ee)}),label:p.jsx(Ge,{variant:"body2",noWrap:!0,children:t[ee]??ee}),sx:{m:0,px:1,py:.75,borderRadius:2,gap:1.5,alignItems:"center","&:hover":{bgcolor:me(g.palette.primary.main,.06)},"& .MuiFormControlLabel-label":{width:"100%"}}},ee)})})}),p.jsx(Po,{}),p.jsxs(ot,{direction:"row",spacing:1,justifyContent:"flex-end",sx:{px:2,py:1.5},children:[p.jsx(an,{size:"small",variant:"outlined",onClick:()=>{const ee=R.length>0;D(ee?[]:P)},sx:{borderRadius:2},children:R.length>0?"Unselect All":"Select All"}),p.jsx(an,{size:"small",variant:"contained",onClick:je,sx:{borderRadius:2},children:"Reset Columns"})]})]})})}),p.jsx(cx,{visible:q.visible,x:q.x,y:q.y,selectedRows:Uo,clickedColumnKey:q.clickedColumnKey,clickedRow:Ko,onClose:at,mouseScreenX:ft,mouseScreenY:he,onOpenPopout:(ee,Ae,qe)=>{d&&d(ee,Ae,qe)},onOpenCalloutIncident:ee=>{h&&h(ee)},onProgressTasks:Dn,onProgressNotes:En}),b&&lr.createPortal(p.jsx(wr,{children:J.open&&p.jsx(jn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.18},onClick:Jn,style:{position:"fixed",inset:0,zIndex:12e4,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0,0,0,0.45)",padding:"16px"},children:p.jsx(jn.div,{initial:{opacity:0,y:18,scale:.96},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:18,scale:.96},transition:{duration:.18},onClick:ee=>ee.stopPropagation(),style:{width:"100%",maxWidth:"880px"},children:p.jsxs(xl,{open:!0,onClose:Jn,maxWidth:"lg",hideBackdrop:!0,disablePortal:!0,keepMounted:!0,PaperProps:{sx:{borderRadius:4,border:`1px solid ${me(g.palette.primary.main,.18)}`,boxShadow:"0 40px 120px rgba(8,58,97,0.35)",backgroundImage:"linear-gradient(180deg, rgba(255,255,255,0.98), rgba(245,247,250,0.96))",overflow:"hidden"}},children:[p.jsxs(Sl,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:2},children:[p.jsxs(ot,{direction:"row",spacing:2,alignItems:"center",children:[p.jsx(Ue,{sx:{height:48,width:48,borderRadius:"50%",bgcolor:g.palette.primary.main,color:g.palette.primary.contrastText,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 8px 20px rgba(8,58,97,0.35)"},children:p.jsx(Ca,{size:22})}),p.jsxs("div",{children:[p.jsx(Ge,{variant:"h6",fontWeight:600,color:"text.primary",children:"Progress Tasks"}),p.jsxs(Ge,{variant:"body2",color:"text.secondary",children:[J.tasks.length," task",J.tasks.length===1?"":"s"," selected"]})]})]}),p.jsx(mn,{onClick:Jn,children:p.jsx(zs,{size:20})})]}),p.jsxs(wl,{dividers:!0,sx:{display:"grid",gap:3,gridTemplateColumns:{lg:"1.6fr 1fr",xs:"1fr"}},children:[p.jsxs(ot,{spacing:2,children:[p.jsx(Ge,{variant:"overline",sx:{color:"text.secondary",letterSpacing:1},children:"Selected Tasks"}),p.jsx(Nt,{variant:"outlined",sx:{maxHeight:180,overflowY:"auto",borderRadius:3,borderColor:me(g.palette.primary.main,.12),bgcolor:me(g.palette.primary.main,.03),p:2},children:p.jsx(ot,{spacing:1.5,children:Do.length===0?p.jsx(Ge,{variant:"caption",color:"text.secondary",children:"No task identifiers."}):Do.map(({id:ee,currentStatus:Ae,nextStatus:qe},Xe)=>p.jsxs(ot,{direction:"row",spacing:2,alignItems:"center",justifyContent:"space-between",sx:{borderRadius:2,border:`1px solid ${me(g.palette.primary.main,.12)}`,bgcolor:g.palette.background.paper,px:2,py:1.25},children:[p.jsx(Ge,{variant:"subtitle2",color:"primary",noWrap:!0,children:ee??"Unknown Task"}),p.jsxs(Ge,{variant:"caption",color:"text.secondary",noWrap:!0,children:[Ae||"â€”",p.jsx(Ge,{component:"span",sx:{mx:1,color:"text.disabled"},children:"â†’"}),qe]})]},ee??`task-${Xe}`))})})]}),p.jsxs(ot,{spacing:2.5,children:[p.jsxs(Wp,{fullWidth:!0,size:"small",children:[p.jsx(Vp,{id:"target-status-label",children:"Target Status"}),p.jsxs(uc,{labelId:"target-status-label",label:"Target Status",value:X,onChange:ee=>U(ee.target.value),children:[p.jsx(pn,{disabled:!0,value:"__CORE__",children:p.jsx(Ge,{variant:"caption",sx:{fontWeight:700,color:"text.secondary"},children:"Core progression"})}),ns.map(ee=>p.jsx(pn,{value:ee,children:ee},ee)),p.jsx(Po,{component:"li",sx:{my:.5}}),p.jsx(pn,{disabled:!0,value:"__ADDITIONAL__",children:p.jsx(Ge,{variant:"caption",sx:{fontWeight:700,color:"text.secondary"},children:"Additional statuses"})}),Um.map(ee=>p.jsx(pn,{value:ee,children:ee},ee))]})]}),p.jsxs(_i,{severity:"info",variant:"outlined",sx:{borderRadius:3},children:["Selected tasks will be stamped with the note below and updated to",p.jsxs("strong",{children:[" ",X," "]}),"unless they already match."]})]}),p.jsxs(ot,{spacing:1.5,sx:{gridColumn:"1 / -1"},children:[p.jsx(Ge,{variant:"overline",sx:{letterSpacing:1,color:"text.secondary"},children:"Quick Note"}),p.jsx(_n,{multiline:!0,minRows:4,value:ve,onChange:ee=>fe(ee.target.value),placeholder:"Share the next steps, blockers, or field updates for these tasksâ€¦"})]}),(le||Te)&&p.jsx(_i,{severity:le?"error":"success",sx:{gridColumn:"1 / -1"},children:le||Te})]}),p.jsxs(Cl,{sx:{px:3,py:2,gap:1.5},children:[p.jsx(an,{variant:"outlined",onClick:Jn,disabled:ke,sx:{borderRadius:2},children:"Cancel"}),p.jsx(an,{variant:"contained",onClick:vo,disabled:!ve.trim()||ke,sx:{borderRadius:2},startIcon:ke?p.jsx(Oi,{color:"inherit",size:18,thickness:5}):void 0,children:"Save Note"})]})]})},"progress-dialog")},"progress-backdrop")}),document.body),b&&lr.createPortal(p.jsx(wr,{children:ie.open&&p.jsx(jn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.18},onClick:gt,style:{position:"fixed",inset:0,zIndex:12e4,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0,0,0,0.45)",padding:"16px"},children:p.jsx(jn.div,{initial:{opacity:0,y:18,scale:.96},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:18,scale:.96},transition:{duration:.18},onClick:ee=>ee.stopPropagation(),style:{width:"100%",maxWidth:"760px"},children:p.jsxs(xl,{open:!0,onClose:gt,fullWidth:!0,maxWidth:"md",hideBackdrop:!0,disablePortal:!0,keepMounted:!0,PaperProps:{sx:{borderRadius:4,border:`1px solid ${me(g.palette.primary.main,.18)}`,boxShadow:"0 32px 90px rgba(8,58,97,0.34)",backgroundImage:"linear-gradient(180deg, rgba(255,255,255,0.98), rgba(245,247,250,0.96))",overflow:"hidden"}},children:[p.jsxs(Sl,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:2},children:[p.jsxs(ot,{direction:"row",spacing:2,alignItems:"center",children:[p.jsx(Ue,{sx:{height:48,width:48,borderRadius:"50%",bgcolor:g.palette.primary.main,color:g.palette.primary.contrastText,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 8px 20px rgba(8,58,97,0.35)"},children:p.jsx(zl,{size:22})}),p.jsxs(Ue,{children:[p.jsx(Ge,{variant:"h6",fontWeight:600,color:"text.primary",children:"Bulk Progress Notes"}),p.jsxs(Ge,{variant:"body2",color:"text.secondary",children:[ie.tasks.length," task",ie.tasks.length===1?"":"s"," selected"]})]})]}),p.jsx(mn,{onClick:gt,"aria-label":"Close bulk notes dialog",children:p.jsx(zs,{size:20})})]}),p.jsxs(wl,{dividers:!0,sx:{display:"flex",flexDirection:"column",gap:3},children:[p.jsxs(ot,{spacing:2,children:[p.jsx(Ge,{variant:"overline",sx:{color:"text.secondary",letterSpacing:1},children:"Selected Tasks"}),p.jsx(Nt,{variant:"outlined",sx:{maxHeight:180,overflowY:"auto",borderRadius:3,borderColor:me(g.palette.primary.main,.12),bgcolor:me(g.palette.primary.main,.03),p:2},children:p.jsx(ot,{spacing:1.5,children:Or.length===0?p.jsx(Ge,{variant:"caption",color:"text.secondary",children:"No task identifiers."}):Or.map(({id:ee,currentStatus:Ae},qe)=>p.jsxs(ot,{direction:"row",spacing:2,alignItems:"center",justifyContent:"space-between",sx:{borderRadius:2,border:`1px solid ${me(g.palette.primary.main,.12)}`,bgcolor:g.palette.background.paper,px:2,py:1.25},children:[p.jsx(Ge,{variant:"subtitle2",color:"primary",noWrap:!0,children:ee??"Unknown Task"}),p.jsx(rs,{size:"small",label:Ae||"-",variant:"outlined",sx:{borderRadius:2}})]},ee??`multi-note-${qe}`))})})]}),p.jsxs(ot,{spacing:1.5,children:[p.jsx(Ge,{variant:"overline",sx:{color:"text.secondary",letterSpacing:1},children:"Quick Note"}),p.jsx(_n,{multiline:!0,minRows:4,value:Me,onChange:ee=>$e(ee.target.value),placeholder:"Share context that applies to all selected tasksâ€¦"}),p.jsx(Ge,{variant:"caption",color:"text.secondary",children:"This note will be added to each selected task without changing its current status."})]}),(be||Le)&&p.jsx(_i,{severity:be?"error":"success",children:be||Le})]}),p.jsxs(Cl,{sx:{px:3,py:2,gap:1.5},children:[p.jsx(an,{variant:"outlined",onClick:gt,disabled:Ke,sx:{borderRadius:2},children:"Cancel"}),p.jsx(an,{variant:"contained",onClick:hr,disabled:!Me.trim()||Ke,sx:{borderRadius:2},startIcon:Ke?p.jsx(Oi,{color:"inherit",size:18,thickness:5}):void 0,children:"Save Note"})]})]})},"progress-note-dialog")},"progress-note-backdrop")}),document.body),b&&lr.createPortal(p.jsx(wr,{children:Qe.open&&p.jsx(jn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.18},onClick:Gn,style:{position:"fixed",inset:0,zIndex:12e4,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0,0,0,0.45)",padding:"16px"},children:p.jsx(jn.div,{initial:{opacity:0,y:18,scale:.96},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:18,scale:.96},transition:{duration:.18},onClick:ee=>ee.stopPropagation(),style:{width:"100%",maxWidth:"960px"},children:p.jsxs(xl,{open:!0,onClose:Gn,fullWidth:!0,maxWidth:"lg",hideBackdrop:!0,disablePortal:!0,keepMounted:!0,PaperProps:{sx:{borderRadius:4,border:`1px solid ${me(g.palette.primary.main,.18)}`,boxShadow:"0 32px 90px rgba(8,58,97,0.34)",backgroundImage:"linear-gradient(180deg, rgba(255,255,255,0.98), rgba(245,247,250,0.96))",overflow:"hidden"}},children:[p.jsxs(Sl,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:2},children:[p.jsxs(ot,{direction:"row",spacing:2,alignItems:"center",children:[p.jsx(Ue,{sx:{height:48,width:48,borderRadius:"50%",bgcolor:g.palette.primary.main,color:g.palette.primary.contrastText,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 8px 20px rgba(8,58,97,0.35)"},children:p.jsx(zl,{size:22})}),p.jsxs(Ue,{children:[p.jsx(Ge,{variant:"h6",fontWeight:600,color:"text.primary",children:"Progress Notes"}),p.jsx(Ge,{variant:"body2",color:"text.secondary",children:ut.id?`Task ${ut.id}`:"Selected task"})]})]}),p.jsx(mn,{onClick:Gn,"aria-label":"Close progress note dialog",children:p.jsx(zs,{size:20})})]}),p.jsxs(wl,{dividers:!0,sx:{display:"grid",gap:3,gridTemplateColumns:{lg:"1.6fr 1fr",xs:"1fr"}},children:[p.jsxs(ot,{spacing:2,children:[p.jsx(Ge,{variant:"overline",sx:{color:"text.secondary",letterSpacing:1},children:"Existing Notes"}),p.jsx(Nt,{variant:"outlined",sx:{maxHeight:240,overflowY:"auto",borderRadius:3,borderColor:me(g.palette.primary.main,.12),bgcolor:me(g.palette.primary.main,.03),p:2},children:p.jsx(ot,{spacing:1.5,children:Qe.notes.length===0?p.jsx(Ge,{variant:"body2",color:"text.secondary",children:"No progress notes captured yet."}):Qe.notes.map((ee,Ae)=>p.jsxs(ot,{spacing:1,sx:{borderRadius:2,border:`1px solid ${me(g.palette.primary.main,.12)}`,bgcolor:g.palette.background.paper,px:2,py:1.5,boxShadow:"0 10px 24px rgba(8,58,97,0.1)"},children:[p.jsxs(ot,{direction:"row",alignItems:"center",justifyContent:"space-between",spacing:2,children:[p.jsx(Ge,{variant:"caption",color:"text.secondary",sx:{fontWeight:600},children:sn(ee.ts)}),p.jsx(rs,{size:"small",label:ee.status||"Logged",color:"primary",sx:{borderRadius:2}})]}),ee.source&&p.jsxs(Ge,{variant:"caption",sx:{textTransform:"uppercase",letterSpacing:.6,color:"text.secondary"},children:["Source: ",ee.source]}),p.jsx(Ge,{variant:"body2",sx:{whiteSpace:"pre-wrap",color:"text.primary"},children:ee.text})]},`${ee.ts}-${Ae}`))})})]}),p.jsxs(ot,{spacing:2,children:[p.jsx(Ge,{variant:"overline",sx:{color:"text.secondary",letterSpacing:1},children:"Selected Task"}),p.jsx(Nt,{variant:"outlined",sx:{borderRadius:3,borderColor:me(g.palette.primary.main,.12),bgcolor:me(g.palette.primary.main,.03),p:2},children:p.jsxs(ot,{direction:"row",spacing:2,alignItems:"center",justifyContent:"space-between",sx:{borderRadius:2,border:`1px solid ${me(g.palette.primary.main,.12)}`,bgcolor:g.palette.background.paper,px:2,py:1.25},children:[p.jsx(Ge,{variant:"subtitle2",color:"primary",noWrap:!0,children:ut.id??"Unknown Task"}),p.jsx(rs,{size:"small",label:ut.status||"â€”",variant:"outlined",sx:{borderRadius:2}})]})}),p.jsxs(Ue,{sx:{borderRadius:3,border:`1px dashed ${me(g.palette.primary.main,.25)}`,bgcolor:me(g.palette.primary.main,.06),p:3},children:[p.jsxs(Ge,{variant:"body2",color:"primary",children:["Current status remains",p.jsx(Ge,{component:"span",sx:{fontWeight:600,ml:.5},children:ut.status||"Unknown"}),"."]}),p.jsx(Ge,{variant:"caption",color:"text.secondary",sx:{display:"block",mt:1.5},children:"Add a quick note without progressing the task status."})]})]}),p.jsxs(ot,{spacing:1.5,sx:{gridColumn:"1 / -1"},children:[p.jsx(Ge,{variant:"overline",sx:{color:"text.secondary",letterSpacing:1},children:"Quick Note"}),p.jsx(_n,{multiline:!0,minRows:4,value:et,onChange:ee=>Je(ee.target.value),placeholder:"Share new updates, blockers, or field activityâ€¦"}),p.jsx(Ge,{variant:"caption",color:"text.secondary",children:"This note will be appended to the task timeline immediately."})]}),(it||Ot)&&p.jsx(_i,{severity:it?"error":"success",sx:{gridColumn:"1 / -1"},children:it||Ot})]}),p.jsxs(Cl,{sx:{px:3,py:2,gap:1.5},children:[p.jsx(an,{variant:"outlined",onClick:Gn,disabled:Pt,sx:{borderRadius:2},children:"Close"}),p.jsx(an,{variant:"contained",onClick:Fr,disabled:!et.trim()||Pt,sx:{borderRadius:2},startIcon:Pt?p.jsx(Oi,{color:"inherit",size:18,thickness:5}):void 0,children:"Save Note"})]})]})},"progress-note-single-dialog")},"progress-note-single-backdrop")}),document.body)]})}const mp=["taskId","taskStatus","resourceName","commitmentType","postCode","customerAddress","taskType","primarySkill","importanceScore","taskCreated","appointmentStartDate"];function zk(e){return e.replace(/[_\-]+/g," ").replace(/([a-z0-9])([A-Z])/g,"$1 $2").replace(/\s+/g," ").trim().replace(/^./,t=>t.toUpperCase())}function $k({data:e,selectedTasks:t,onSelectionChange:o}){const r=Jt(),i={height:"100%",display:"flex",flexDirection:"column",borderRadius:3,px:3,py:2.5,border:`1px solid ${me(r.palette.primary.main,.18)}`,boxShadow:"0 18px 46px rgba(8,58,97,0.18)",backgroundImage:"none"},a=l.useMemo(()=>{if(!e||e.length===0)return{};const d=new Set;e.forEach(m=>Object.keys(m).forEach(f=>d.add(f)));const h=[...mp.filter(m=>d.has(m)),...[...d].filter(m=>!mp.includes(m))],v={};return h.forEach(m=>v[m]=zk(m)),v},[e]),c=l.useMemo(()=>t!=null&&t.length?new Set(t.map(d=>String(d.taskId))):new Set,[t]);return!e||e.length===0?p.jsx(Nt,{elevation:0,sx:i,children:p.jsx(ot,{spacing:1,alignItems:"center",justifyContent:"center",sx:{flex:1},children:p.jsx(Ge,{variant:"body2",color:"text.secondary",textAlign:"center",children:"No tasks loaded yet. Please define filters and press Search."})})}):p.jsx(Nt,{elevation:0,sx:i,children:p.jsx(Ue,{sx:{flex:1,display:"flex",flexDirection:"column"},children:p.jsx(Xc,{rows:e,headerNames:a,sx:{height:"100%"},tableHeight:"100%",rowIdKey:"taskId",controlledSelectedRowIds:c,onSelectionChange:d=>o(d)})})})}const fp=["resourceId","name","status","calloutGroup","primarySkill","availableAgainAt"];function jk(e){return e.replace(/[_\-]+/g," ").replace(/([a-z0-9])([A-Z])/g,"$1 $2").replace(/\s+/g," ").trim().replace(/^./,t=>t.toUpperCase())}function Bk({data:e,selectedResources:t,onSelectionChange:o}){const r=Jt(),i={height:"100%",display:"flex",flexDirection:"column",borderRadius:3,px:3,py:2.5,border:`1px solid ${me(r.palette.primary.main,.18)}`,boxShadow:"0 18px 46px rgba(8,58,97,0.18)",backgroundImage:"none"},a=l.useMemo(()=>{if(!(e!=null&&e.length))return{};const d=new Set;e.forEach(m=>Object.keys(m).forEach(f=>d.add(f)));const h=[...fp.filter(m=>d.has(m)),...[...d].filter(m=>!fp.includes(m))],v={};return h.forEach(m=>v[m]=jk(m)),v},[e]),c=l.useMemo(()=>new Set(t.map(d=>String(d.resourceId))),[t]);return!e||e.length===0?p.jsx(Nt,{elevation:0,sx:i,children:p.jsx(ot,{spacing:1,alignItems:"center",justifyContent:"center",sx:{flex:1},children:p.jsx(Ge,{variant:"body2",color:"text.secondary",textAlign:"center",children:"No resources loaded. Please define filters and press Search."})})}):p.jsx(Nt,{elevation:0,sx:i,children:p.jsx(Ue,{sx:{flex:1,display:"flex",flexDirection:"column"},children:p.jsx(Xc,{rows:e,headerNames:a,sx:{height:"100%"},tableHeight:"100%",rowIdKey:"resourceId",controlledSelectedRowIds:c,onSelectionChange:d=>o(d)})})})}const $a=l.createContext(null);$a.displayName="PanelGroupContext";const dn={group:"data-panel-group",groupDirection:"data-panel-group-direction",groupId:"data-panel-group-id",panel:"data-panel",panelCollapsible:"data-panel-collapsible",panelId:"data-panel-id",panelSize:"data-panel-size",resizeHandle:"data-resize-handle",resizeHandleActive:"data-resize-handle-active",resizeHandleEnabled:"data-panel-resize-handle-enabled",resizeHandleId:"data-panel-resize-handle-id",resizeHandleState:"data-resize-handle-state"},Yc=10,Mr=l.useLayoutEffect,gp=qp.useId,Hk=typeof gp=="function"?gp:()=>null;let Gk=0;function Qc(e=null){const t=Hk(),o=l.useRef(e||t||null);return o.current===null&&(o.current=""+Gk++),e??o.current}function Km({children:e,className:t="",collapsedSize:o,collapsible:r,defaultSize:i,forwardedRef:a,id:c,maxSize:d,minSize:h,onCollapse:v,onExpand:m,onResize:f,order:g,style:b,tagName:x="div",...w}){const C=l.useContext($a);if(C===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:_,expandPanel:P,getPanelSize:R,getPanelStyle:D,groupId:V,isPanelCollapsed:A,reevaluatePanelConstraints:k,registerPanel:F,resizePanel:z,unregisterPanel:O}=C,$=Qc(c),H=l.useRef({callbacks:{onCollapse:v,onExpand:m,onResize:f},constraints:{collapsedSize:o,collapsible:r,defaultSize:i,maxSize:d,minSize:h},id:$,idIsFromProps:c!==void 0,order:g});l.useRef({didLogMissingDefaultSizeWarning:!1}),Mr(()=>{const{callbacks:I,constraints:M}=H.current,j={...M};H.current.id=$,H.current.idIsFromProps=c!==void 0,H.current.order=g,I.onCollapse=v,I.onExpand=m,I.onResize=f,M.collapsedSize=o,M.collapsible=r,M.defaultSize=i,M.maxSize=d,M.minSize=h,(j.collapsedSize!==M.collapsedSize||j.collapsible!==M.collapsible||j.maxSize!==M.maxSize||j.minSize!==M.minSize)&&k(H.current,j)}),Mr(()=>{const I=H.current;return F(I),()=>{O(I)}},[g,$,F,O]),l.useImperativeHandle(a,()=>({collapse:()=>{_(H.current)},expand:I=>{P(H.current,I)},getId(){return $},getSize(){return R(H.current)},isCollapsed(){return A(H.current)},isExpanded(){return!A(H.current)},resize:I=>{z(H.current,I)}}),[_,P,R,A,$,z]);const B=D(H.current,i);return l.createElement(x,{...w,children:e,className:t,id:$,style:{...B,...b},[dn.groupId]:V,[dn.panel]:"",[dn.panelCollapsible]:r||void 0,[dn.panelId]:$,[dn.panelSize]:parseFloat(""+B.flexGrow).toFixed(1)})}const Ls=l.forwardRef((e,t)=>l.createElement(Km,{...e,forwardedRef:t}));Km.displayName="Panel";Ls.displayName="forwardRef(Panel)";let sc=null,Gi=-1,or=null;function Vk(e,t,o){const r=(t&Qm)!==0,i=(t&ef)!==0,a=(t&tf)!==0,c=(t&nf)!==0;if(t){if(r)return a?"se-resize":c?"ne-resize":"e-resize";if(i)return a?"sw-resize":c?"nw-resize":"w-resize";if(a)return"s-resize";if(c)return"n-resize"}switch(e){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function Wk(){or!==null&&(document.head.removeChild(or),sc=null,or=null,Gi=-1)}function Dl(e,t,o){var r,i;const a=Vk(e,t);if(sc!==a){if(sc=a,or===null&&(or=document.createElement("style"),document.head.appendChild(or)),Gi>=0){var c;(c=or.sheet)===null||c===void 0||c.removeRule(Gi)}Gi=(r=(i=or.sheet)===null||i===void 0?void 0:i.insertRule(`*{cursor: ${a} !important;}`))!==null&&r!==void 0?r:-1}}function Jm(e){return e.type==="keydown"}function qm(e){return e.type.startsWith("pointer")}function Xm(e){return e.type.startsWith("mouse")}function ja(e){if(qm(e)){if(e.isPrimary)return{x:e.clientX,y:e.clientY}}else if(Xm(e))return{x:e.clientX,y:e.clientY};return{x:1/0,y:1/0}}function Zk(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function Uk(e,t,o){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y}function Kk(e,t){if(e===t)throw new Error("Cannot compare node with itself");const o={a:bp(e),b:bp(t)};let r;for(;o.a.at(-1)===o.b.at(-1);)e=o.a.pop(),t=o.b.pop(),r=e;_t(r,"Stacking order can only be calculated for elements with a common ancestor");const i={a:yp(vp(o.a)),b:yp(vp(o.b))};if(i.a===i.b){const a=r.childNodes,c={a:o.a.at(-1),b:o.b.at(-1)};let d=a.length;for(;d--;){const h=a[d];if(h===c.a)return 1;if(h===c.b)return-1}}return Math.sign(i.a-i.b)}const Jk=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function qk(e){var t;const o=getComputedStyle((t=Ym(e))!==null&&t!==void 0?t:e).display;return o==="flex"||o==="inline-flex"}function Xk(e){const t=getComputedStyle(e);return!!(t.position==="fixed"||t.zIndex!=="auto"&&(t.position!=="static"||qk(e))||+t.opacity<1||"transform"in t&&t.transform!=="none"||"webkitTransform"in t&&t.webkitTransform!=="none"||"mixBlendMode"in t&&t.mixBlendMode!=="normal"||"filter"in t&&t.filter!=="none"||"webkitFilter"in t&&t.webkitFilter!=="none"||"isolation"in t&&t.isolation==="isolate"||Jk.test(t.willChange)||t.webkitOverflowScrolling==="touch")}function vp(e){let t=e.length;for(;t--;){const o=e[t];if(_t(o,"Missing node"),Xk(o))return o}return null}function yp(e){return e&&Number(getComputedStyle(e).zIndex)||0}function bp(e){const t=[];for(;e;)t.push(e),e=Ym(e);return t}function Ym(e){const{parentNode:t}=e;return t&&t instanceof ShadowRoot?t.host:t}const Qm=1,ef=2,tf=4,nf=8,Yk=Zk()==="coarse";let fo=[],cs=!1,rr=new Map,Ba=new Map;const qs=new Set;function Qk(e,t,o,r,i){var a;const{ownerDocument:c}=t,d={direction:o,element:t,hitAreaMargins:r,setResizeHandlerState:i},h=(a=rr.get(c))!==null&&a!==void 0?a:0;return rr.set(c,h+1),qs.add(d),pa(),function(){var m;Ba.delete(e),qs.delete(d);const f=(m=rr.get(c))!==null&&m!==void 0?m:1;if(rr.set(c,f-1),pa(),f===1&&rr.delete(c),fo.includes(d)){const g=fo.indexOf(d);g>=0&&fo.splice(g,1),Ha(),i("up",!0,null)}}}function eM(e){const{target:t}=e,{x:o,y:r}=ja(e);cs=!0,eu({target:t,x:o,y:r}),pa(),fo.length>0&&(ha("down",e),Ha(),e.preventDefault(),of(t)||e.stopImmediatePropagation())}function El(e){const{x:t,y:o}=ja(e);if(cs&&e.type!=="pointerleave"&&e.buttons===0&&(cs=!1,ha("up",e)),!cs){const{target:r}=e;eu({target:r,x:t,y:o})}ha("move",e),Ha(),fo.length>0&&e.preventDefault()}function Rl(e){const{target:t}=e,{x:o,y:r}=ja(e);Ba.clear(),cs=!1,fo.length>0&&(e.preventDefault(),of(t)||e.stopImmediatePropagation()),ha("up",e),eu({target:t,x:o,y:r}),Ha(),pa()}function of(e){let t=e;for(;t;){if(t.hasAttribute(dn.resizeHandle))return!0;t=t.parentElement}return!1}function eu({target:e,x:t,y:o}){fo.splice(0);let r=null;(e instanceof HTMLElement||e instanceof SVGElement)&&(r=e),qs.forEach(i=>{const{element:a,hitAreaMargins:c}=i,d=a.getBoundingClientRect(),{bottom:h,left:v,right:m,top:f}=d,g=Yk?c.coarse:c.fine;if(t>=v-g&&t<=m+g&&o>=f-g&&o<=h+g){if(r!==null&&document.contains(r)&&a!==r&&!a.contains(r)&&!r.contains(a)&&Kk(r,a)>0){let x=r,w=!1;for(;x&&!x.contains(a);){if(Uk(x.getBoundingClientRect(),d)){w=!0;break}x=x.parentElement}if(w)return}fo.push(i)}})}function Ll(e,t){Ba.set(e,t)}function Ha(){let e=!1,t=!1;fo.forEach(r=>{const{direction:i}=r;i==="horizontal"?e=!0:t=!0});let o=0;Ba.forEach(r=>{o|=r}),e&&t?Dl("intersection",o):e?Dl("horizontal",o):t?Dl("vertical",o):Wk()}let Fl;function pa(){var e;(e=Fl)===null||e===void 0||e.abort(),Fl=new AbortController;const t={capture:!0,signal:Fl.signal};qs.size&&(cs?(fo.length>0&&rr.forEach((o,r)=>{const{body:i}=r;o>0&&(i.addEventListener("contextmenu",Rl,t),i.addEventListener("pointerleave",El,t),i.addEventListener("pointermove",El,t))}),rr.forEach((o,r)=>{const{body:i}=r;i.addEventListener("pointerup",Rl,t),i.addEventListener("pointercancel",Rl,t)})):rr.forEach((o,r)=>{const{body:i}=r;o>0&&(i.addEventListener("pointerdown",eM,t),i.addEventListener("pointermove",El,t))}))}function ha(e,t){qs.forEach(o=>{const{setResizeHandlerState:r}=o,i=fo.includes(o);r(e,i,t)})}function tM(){const[e,t]=l.useState(0);return l.useCallback(()=>t(o=>o+1),[])}function _t(e,t){if(!e)throw console.error(t),Error(t)}function Er(e,t,o=Yc){return e.toFixed(o)===t.toFixed(o)?0:e>t?1:-1}function jo(e,t,o=Yc){return Er(e,t,o)===0}function Wn(e,t,o){return Er(e,t,o)===0}function nM(e,t,o){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){const i=e[r],a=t[r];if(!Wn(i,a,o))return!1}return!0}function os({panelConstraints:e,panelIndex:t,size:o}){const r=e[t];_t(r!=null,`Panel constraints not found for index ${t}`);let{collapsedSize:i=0,collapsible:a,maxSize:c=100,minSize:d=0}=r;if(Er(o,d)<0)if(a){const h=(i+d)/2;Er(o,h)<0?o=i:o=d}else o=d;return o=Math.min(c,o),o=parseFloat(o.toFixed(Yc)),o}function Fs({delta:e,initialLayout:t,panelConstraints:o,pivotIndices:r,prevLayout:i,trigger:a}){if(Wn(e,0))return t;const c=[...t],[d,h]=r;_t(d!=null,"Invalid first pivot index"),_t(h!=null,"Invalid second pivot index");let v=0;if(a==="keyboard"){{const f=e<0?h:d,g=o[f];_t(g,`Panel constraints not found for index ${f}`);const{collapsedSize:b=0,collapsible:x,minSize:w=0}=g;if(x){const C=t[f];if(_t(C!=null,`Previous layout not found for panel index ${f}`),Wn(C,b)){const _=w-C;Er(_,Math.abs(e))>0&&(e=e<0?0-_:_)}}}{const f=e<0?d:h,g=o[f];_t(g,`No panel constraints found for index ${f}`);const{collapsedSize:b=0,collapsible:x,minSize:w=0}=g;if(x){const C=t[f];if(_t(C!=null,`Previous layout not found for panel index ${f}`),Wn(C,w)){const _=C-b;Er(_,Math.abs(e))>0&&(e=e<0?0-_:_)}}}}{const f=e<0?1:-1;let g=e<0?h:d,b=0;for(;;){const w=t[g];_t(w!=null,`Previous layout not found for panel index ${g}`);const _=os({panelConstraints:o,panelIndex:g,size:100})-w;if(b+=_,g+=f,g<0||g>=o.length)break}const x=Math.min(Math.abs(e),Math.abs(b));e=e<0?0-x:x}{let g=e<0?d:h;for(;g>=0&&g<o.length;){const b=Math.abs(e)-Math.abs(v),x=t[g];_t(x!=null,`Previous layout not found for panel index ${g}`);const w=x-b,C=os({panelConstraints:o,panelIndex:g,size:w});if(!Wn(x,C)&&(v+=x-C,c[g]=C,v.toFixed(3).localeCompare(Math.abs(e).toFixed(3),void 0,{numeric:!0})>=0))break;e<0?g--:g++}}if(nM(i,c))return i;{const f=e<0?h:d,g=t[f];_t(g!=null,`Previous layout not found for panel index ${f}`);const b=g+v,x=os({panelConstraints:o,panelIndex:f,size:b});if(c[f]=x,!Wn(x,b)){let w=b-x,_=e<0?h:d;for(;_>=0&&_<o.length;){const P=c[_];_t(P!=null,`Previous layout not found for panel index ${_}`);const R=P+w,D=os({panelConstraints:o,panelIndex:_,size:R});if(Wn(P,D)||(w-=D-P,c[_]=D),Wn(w,0))break;e>0?_--:_++}}}const m=c.reduce((f,g)=>g+f,0);return Wn(m,100)?c:i}function oM({layout:e,panelsArray:t,pivotIndices:o}){let r=0,i=100,a=0,c=0;const d=o[0];_t(d!=null,"No pivot index found"),t.forEach((f,g)=>{const{constraints:b}=f,{maxSize:x=100,minSize:w=0}=b;g===d?(r=w,i=x):(a+=w,c+=x)});const h=Math.min(i,100-a),v=Math.max(r,100-c),m=e[d];return{valueMax:h,valueMin:v,valueNow:m}}function Xs(e,t=document){return Array.from(t.querySelectorAll(`[${dn.resizeHandleId}][data-panel-group-id="${e}"]`))}function rf(e,t,o=document){const i=Xs(e,o).findIndex(a=>a.getAttribute(dn.resizeHandleId)===t);return i??null}function sf(e,t,o){const r=rf(e,t,o);return r!=null?[r,r+1]:[-1,-1]}function rM(e){return e instanceof HTMLElement?!0:typeof e=="object"&&e!==null&&"tagName"in e&&"getAttribute"in e}function af(e,t=document){if(rM(t)&&t.dataset.panelGroupId==e)return t;const o=t.querySelector(`[data-panel-group][data-panel-group-id="${e}"]`);return o||null}function Ga(e,t=document){const o=t.querySelector(`[${dn.resizeHandleId}="${e}"]`);return o||null}function sM(e,t,o,r=document){var i,a,c,d;const h=Ga(t,r),v=Xs(e,r),m=h?v.indexOf(h):-1,f=(i=(a=o[m])===null||a===void 0?void 0:a.id)!==null&&i!==void 0?i:null,g=(c=(d=o[m+1])===null||d===void 0?void 0:d.id)!==null&&c!==void 0?c:null;return[f,g]}function iM({committedValuesRef:e,eagerValuesRef:t,groupId:o,layout:r,panelDataArray:i,panelGroupElement:a,setLayout:c}){l.useRef({didWarnAboutMissingResizeHandle:!1}),Mr(()=>{if(!a)return;const d=Xs(o,a);for(let h=0;h<i.length-1;h++){const{valueMax:v,valueMin:m,valueNow:f}=oM({layout:r,panelsArray:i,pivotIndices:[h,h+1]}),g=d[h];if(g!=null){const b=i[h];_t(b,`No panel data found for index "${h}"`),g.setAttribute("aria-controls",b.id),g.setAttribute("aria-valuemax",""+Math.round(v)),g.setAttribute("aria-valuemin",""+Math.round(m)),g.setAttribute("aria-valuenow",f!=null?""+Math.round(f):"")}}return()=>{d.forEach((h,v)=>{h.removeAttribute("aria-controls"),h.removeAttribute("aria-valuemax"),h.removeAttribute("aria-valuemin"),h.removeAttribute("aria-valuenow")})}},[o,r,i,a]),l.useEffect(()=>{if(!a)return;const d=t.current;_t(d,"Eager values not found");const{panelDataArray:h}=d,v=af(o,a);_t(v!=null,`No group found for id "${o}"`);const m=Xs(o,a);_t(m,`No resize handles found for group id "${o}"`);const f=m.map(g=>{const b=g.getAttribute(dn.resizeHandleId);_t(b,"Resize handle element has no handle id attribute");const[x,w]=sM(o,b,h,a);if(x==null||w==null)return()=>{};const C=_=>{if(!_.defaultPrevented)switch(_.key){case"Enter":{_.preventDefault();const P=h.findIndex(R=>R.id===x);if(P>=0){const R=h[P];_t(R,`No panel data found for index ${P}`);const D=r[P],{collapsedSize:V=0,collapsible:A,minSize:k=0}=R.constraints;if(D!=null&&A){const F=Fs({delta:Wn(D,V)?k-V:V-D,initialLayout:r,panelConstraints:h.map(z=>z.constraints),pivotIndices:sf(o,b,a),prevLayout:r,trigger:"keyboard"});r!==F&&c(F)}}break}}};return g.addEventListener("keydown",C),()=>{g.removeEventListener("keydown",C)}});return()=>{f.forEach(g=>g())}},[a,e,t,o,r,i,c])}function xp(e,t){if(e.length!==t.length)return!1;for(let o=0;o<e.length;o++)if(e[o]!==t[o])return!1;return!0}function lf(e,t){const o=e==="horizontal",{x:r,y:i}=ja(t);return o?r:i}function aM(e,t,o,r,i){const a=o==="horizontal",c=Ga(t,i);_t(c,`No resize handle element found for id "${t}"`);const d=c.getAttribute(dn.groupId);_t(d,"Resize handle element has no group id attribute");let{initialCursorPosition:h}=r;const v=lf(o,e),m=af(d,i);_t(m,`No group element found for id "${d}"`);const f=m.getBoundingClientRect(),g=a?f.width:f.height;return(v-h)/g*100}function lM(e,t,o,r,i,a){if(Jm(e)){const c=o==="horizontal";let d=0;e.shiftKey?d=100:i!=null?d=i:d=10;let h=0;switch(e.key){case"ArrowDown":h=c?0:d;break;case"ArrowLeft":h=c?-d:0;break;case"ArrowRight":h=c?d:0;break;case"ArrowUp":h=c?0:-d;break;case"End":h=100;break;case"Home":h=-100;break}return h}else return r==null?0:aM(e,t,o,r,a)}function cM({panelDataArray:e}){const t=Array(e.length),o=e.map(a=>a.constraints);let r=0,i=100;for(let a=0;a<e.length;a++){const c=o[a];_t(c,`Panel constraints not found for index ${a}`);const{defaultSize:d}=c;d!=null&&(r++,t[a]=d,i-=d)}for(let a=0;a<e.length;a++){const c=o[a];_t(c,`Panel constraints not found for index ${a}`);const{defaultSize:d}=c;if(d!=null)continue;const h=e.length-r,v=i/h;r++,t[a]=v,i-=v}return t}function Xr(e,t,o){t.forEach((r,i)=>{const a=e[i];_t(a,`Panel data not found for index ${i}`);const{callbacks:c,constraints:d,id:h}=a,{collapsedSize:v=0,collapsible:m}=d,f=o[h];if(f==null||r!==f){o[h]=r;const{onCollapse:g,onExpand:b,onResize:x}=c;x&&x(r,f),m&&(g||b)&&(b&&(f==null||jo(f,v))&&!jo(r,v)&&b(),g&&(f==null||!jo(f,v))&&jo(r,v)&&g())}})}function Di(e,t){if(e.length!==t.length)return!1;for(let o=0;o<e.length;o++)if(e[o]!=t[o])return!1;return!0}function uM({defaultSize:e,dragState:t,layout:o,panelData:r,panelIndex:i,precision:a=3}){const c=o[i];let d;return c==null?d=e!=null?e.toFixed(a):"1":r.length===1?d="1":d=c.toFixed(a),{flexBasis:0,flexGrow:d,flexShrink:1,overflow:"hidden",pointerEvents:t!==null?"none":void 0}}function dM(e,t=10){let o=null;return(...i)=>{o!==null&&clearTimeout(o),o=setTimeout(()=>{e(...i)},t)}}function Cp(e){try{if(typeof localStorage<"u")e.getItem=t=>localStorage.getItem(t),e.setItem=(t,o)=>{localStorage.setItem(t,o)};else throw new Error("localStorage not supported in this environment")}catch(t){console.error(t),e.getItem=()=>null,e.setItem=()=>{}}}function cf(e){return`react-resizable-panels:${e}`}function uf(e){return e.map(t=>{const{constraints:o,id:r,idIsFromProps:i,order:a}=t;return i?r:a?`${a}:${JSON.stringify(o)}`:JSON.stringify(o)}).sort((t,o)=>t.localeCompare(o)).join(",")}function df(e,t){try{const o=cf(e),r=t.getItem(o);if(r){const i=JSON.parse(r);if(typeof i=="object"&&i!=null)return i}}catch{}return null}function pM(e,t,o){var r,i;const a=(r=df(e,o))!==null&&r!==void 0?r:{},c=uf(t);return(i=a[c])!==null&&i!==void 0?i:null}function hM(e,t,o,r,i){var a;const c=cf(e),d=uf(t),h=(a=df(e,i))!==null&&a!==void 0?a:{};h[d]={expandToSizes:Object.fromEntries(o.entries()),layout:r};try{i.setItem(c,JSON.stringify(h))}catch(v){console.error(v)}}function wp({layout:e,panelConstraints:t}){const o=[...e],r=o.reduce((a,c)=>a+c,0);if(o.length!==t.length)throw Error(`Invalid ${t.length} panel layout: ${o.map(a=>`${a}%`).join(", ")}`);if(!Wn(r,100)&&o.length>0)for(let a=0;a<t.length;a++){const c=o[a];_t(c!=null,`No layout data found for index ${a}`);const d=100/r*c;o[a]=d}let i=0;for(let a=0;a<t.length;a++){const c=o[a];_t(c!=null,`No layout data found for index ${a}`);const d=os({panelConstraints:t,panelIndex:a,size:c});c!=d&&(i+=c-d,o[a]=d)}if(!Wn(i,0))for(let a=0;a<t.length;a++){const c=o[a];_t(c!=null,`No layout data found for index ${a}`);const d=c+i,h=os({panelConstraints:t,panelIndex:a,size:d});if(c!==h&&(i-=h-c,o[a]=h,Wn(i,0)))break}return o}const mM=100,Os={getItem:e=>(Cp(Os),Os.getItem(e)),setItem:(e,t)=>{Cp(Os),Os.setItem(e,t)}},Sp={};function pf({autoSaveId:e=null,children:t,className:o="",direction:r,forwardedRef:i,id:a=null,onLayout:c=null,keyboardResizeBy:d=null,storage:h=Os,style:v,tagName:m="div",...f}){const g=Qc(a),b=l.useRef(null),[x,w]=l.useState(null),[C,_]=l.useState([]),P=tM(),R=l.useRef({}),D=l.useRef(new Map),V=l.useRef(0),A=l.useRef({autoSaveId:e,direction:r,dragState:x,id:g,keyboardResizeBy:d,onLayout:c,storage:h}),k=l.useRef({layout:C,panelDataArray:[],panelDataArrayChanged:!1});l.useRef({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),l.useImperativeHandle(i,()=>({getId:()=>A.current.id,getLayout:()=>{const{layout:J}=k.current;return J},setLayout:J=>{const{onLayout:oe}=A.current,{layout:X,panelDataArray:U}=k.current,ne=wp({layout:J,panelConstraints:U.map(ce=>ce.constraints)});xp(X,ne)||(_(ne),k.current.layout=ne,oe&&oe(ne),Xr(U,ne,R.current))}}),[]),Mr(()=>{A.current.autoSaveId=e,A.current.direction=r,A.current.dragState=x,A.current.id=g,A.current.onLayout=c,A.current.storage=h}),iM({committedValuesRef:A,eagerValuesRef:k,groupId:g,layout:C,panelDataArray:k.current.panelDataArray,setLayout:_,panelGroupElement:b.current}),l.useEffect(()=>{const{panelDataArray:J}=k.current;if(e){if(C.length===0||C.length!==J.length)return;let oe=Sp[e];oe==null&&(oe=dM(hM,mM),Sp[e]=oe);const X=[...J],U=new Map(D.current);oe(e,X,U,C,h)}},[e,C,h]),l.useEffect(()=>{});const F=l.useCallback(J=>{const{onLayout:oe}=A.current,{layout:X,panelDataArray:U}=k.current;if(J.constraints.collapsible){const ne=U.map(ke=>ke.constraints),{collapsedSize:ce=0,panelSize:ve,pivotIndices:fe}=yr(U,J,X);if(_t(ve!=null,`Panel size not found for panel "${J.id}"`),!jo(ve,ce)){D.current.set(J.id,ve);const _e=Qr(U,J)===U.length-1?ve-ce:ce-ve,le=Fs({delta:_e,initialLayout:X,panelConstraints:ne,pivotIndices:fe,prevLayout:X,trigger:"imperative-api"});Di(X,le)||(_(le),k.current.layout=le,oe&&oe(le),Xr(U,le,R.current))}}},[]),z=l.useCallback((J,oe)=>{const{onLayout:X}=A.current,{layout:U,panelDataArray:ne}=k.current;if(J.constraints.collapsible){const ce=ne.map(ye=>ye.constraints),{collapsedSize:ve=0,panelSize:fe=0,minSize:ke=0,pivotIndices:_e}=yr(ne,J,U),le=oe??ke;if(jo(fe,ve)){const ye=D.current.get(J.id),Te=ye!=null&&ye>=le?ye:le,ie=Qr(ne,J)===ne.length-1?fe-Te:Te-fe,Pe=Fs({delta:ie,initialLayout:U,panelConstraints:ce,pivotIndices:_e,prevLayout:U,trigger:"imperative-api"});Di(U,Pe)||(_(Pe),k.current.layout=Pe,X&&X(Pe),Xr(ne,Pe,R.current))}}},[]),O=l.useCallback(J=>{const{layout:oe,panelDataArray:X}=k.current,{panelSize:U}=yr(X,J,oe);return _t(U!=null,`Panel size not found for panel "${J.id}"`),U},[]),$=l.useCallback((J,oe)=>{const{panelDataArray:X}=k.current,U=Qr(X,J);return uM({defaultSize:oe,dragState:x,layout:C,panelData:X,panelIndex:U})},[x,C]),H=l.useCallback(J=>{const{layout:oe,panelDataArray:X}=k.current,{collapsedSize:U=0,collapsible:ne,panelSize:ce}=yr(X,J,oe);return _t(ce!=null,`Panel size not found for panel "${J.id}"`),ne===!0&&jo(ce,U)},[]),B=l.useCallback(J=>{const{layout:oe,panelDataArray:X}=k.current,{collapsedSize:U=0,collapsible:ne,panelSize:ce}=yr(X,J,oe);return _t(ce!=null,`Panel size not found for panel "${J.id}"`),!ne||Er(ce,U)>0},[]),I=l.useCallback(J=>{const{panelDataArray:oe}=k.current;oe.push(J),oe.sort((X,U)=>{const ne=X.order,ce=U.order;return ne==null&&ce==null?0:ne==null?-1:ce==null?1:ne-ce}),k.current.panelDataArrayChanged=!0,P()},[P]);Mr(()=>{if(k.current.panelDataArrayChanged){k.current.panelDataArrayChanged=!1;const{autoSaveId:J,onLayout:oe,storage:X}=A.current,{layout:U,panelDataArray:ne}=k.current;let ce=null;if(J){const fe=pM(J,ne,X);fe&&(D.current=new Map(Object.entries(fe.expandToSizes)),ce=fe.layout)}ce==null&&(ce=cM({panelDataArray:ne}));const ve=wp({layout:ce,panelConstraints:ne.map(fe=>fe.constraints)});xp(U,ve)||(_(ve),k.current.layout=ve,oe&&oe(ve),Xr(ne,ve,R.current))}}),Mr(()=>{const J=k.current;return()=>{J.layout=[]}},[]);const M=l.useCallback(J=>{let oe=!1;const X=b.current;return X&&window.getComputedStyle(X,null).getPropertyValue("direction")==="rtl"&&(oe=!0),function(ne){ne.preventDefault();const ce=b.current;if(!ce)return()=>null;const{direction:ve,dragState:fe,id:ke,keyboardResizeBy:_e,onLayout:le}=A.current,{layout:ye,panelDataArray:Te}=k.current,{initialLayout:De}=fe??{},ie=sf(ke,J,ce);let Pe=lM(ne,J,ve,fe,_e,ce);const Me=ve==="horizontal";Me&&oe&&(Pe=-Pe);const $e=Te.map(be=>be.constraints),Ke=Fs({delta:Pe,initialLayout:De??ye,panelConstraints:$e,pivotIndices:ie,prevLayout:ye,trigger:Jm(ne)?"keyboard":"mouse-or-touch"}),Ne=!Di(ye,Ke);(qm(ne)||Xm(ne))&&V.current!=Pe&&(V.current=Pe,!Ne&&Pe!==0?Me?Ll(J,Pe<0?Qm:ef):Ll(J,Pe<0?tf:nf):Ll(J,0)),Ne&&(_(Ke),k.current.layout=Ke,le&&le(Ke),Xr(Te,Ke,R.current))}},[]),j=l.useCallback((J,oe)=>{const{onLayout:X}=A.current,{layout:U,panelDataArray:ne}=k.current,ce=ne.map(ye=>ye.constraints),{panelSize:ve,pivotIndices:fe}=yr(ne,J,U);_t(ve!=null,`Panel size not found for panel "${J.id}"`);const _e=Qr(ne,J)===ne.length-1?ve-oe:oe-ve,le=Fs({delta:_e,initialLayout:U,panelConstraints:ce,pivotIndices:fe,prevLayout:U,trigger:"imperative-api"});Di(U,le)||(_(le),k.current.layout=le,X&&X(le),Xr(ne,le,R.current))},[]),W=l.useCallback((J,oe)=>{const{layout:X,panelDataArray:U}=k.current,{collapsedSize:ne=0,collapsible:ce}=oe,{collapsedSize:ve=0,collapsible:fe,maxSize:ke=100,minSize:_e=0}=J.constraints,{panelSize:le}=yr(U,J,X);le!=null&&(ce&&fe&&jo(le,ne)?jo(ne,ve)||j(J,ve):le<_e?j(J,_e):le>ke&&j(J,ke))},[j]),E=l.useCallback((J,oe)=>{const{direction:X}=A.current,{layout:U}=k.current;if(!b.current)return;const ne=Ga(J,b.current);_t(ne,`Drag handle element not found for id "${J}"`);const ce=lf(X,oe);w({dragHandleId:J,dragHandleRect:ne.getBoundingClientRect(),initialCursorPosition:ce,initialLayout:U})},[]),G=l.useCallback(()=>{w(null)},[]),Z=l.useCallback(J=>{const{panelDataArray:oe}=k.current,X=Qr(oe,J);X>=0&&(oe.splice(X,1),delete R.current[J.id],k.current.panelDataArrayChanged=!0,P())},[P]),q=l.useMemo(()=>({collapsePanel:F,direction:r,dragState:x,expandPanel:z,getPanelSize:O,getPanelStyle:$,groupId:g,isPanelCollapsed:H,isPanelExpanded:B,reevaluatePanelConstraints:W,registerPanel:I,registerResizeHandle:M,resizePanel:j,startDragging:E,stopDragging:G,unregisterPanel:Z,panelGroupElement:b.current}),[F,x,r,z,O,$,g,H,B,W,I,M,j,E,G,Z]),te={display:"flex",flexDirection:r==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return l.createElement($a.Provider,{value:q},l.createElement(m,{...f,children:t,className:o,id:a,ref:b,style:{...te,...v},[dn.group]:"",[dn.groupDirection]:r,[dn.groupId]:g}))}const Vi=l.forwardRef((e,t)=>l.createElement(pf,{...e,forwardedRef:t}));pf.displayName="PanelGroup";Vi.displayName="forwardRef(PanelGroup)";function Qr(e,t){return e.findIndex(o=>o===t||o.id===t.id)}function yr(e,t,o){const r=Qr(e,t),a=r===e.length-1?[r-1,r]:[r,r+1],c=o[r];return{...t.constraints,panelSize:c,pivotIndices:a}}function fM({disabled:e,handleId:t,resizeHandler:o,panelGroupElement:r}){l.useEffect(()=>{if(e||o==null||r==null)return;const i=Ga(t,r);if(i==null)return;const a=c=>{if(!c.defaultPrevented)switch(c.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{c.preventDefault(),o(c);break}case"F6":{c.preventDefault();const d=i.getAttribute(dn.groupId);_t(d,`No group element found for id "${d}"`);const h=Xs(d,r),v=rf(d,t,r);_t(v!==null,`No resize element found for id "${t}"`);const m=c.shiftKey?v>0?v-1:h.length-1:v+1<h.length?v+1:0;h[m].focus();break}}};return i.addEventListener("keydown",a),()=>{i.removeEventListener("keydown",a)}},[r,e,t,o])}function Wi({children:e=null,className:t="",disabled:o=!1,hitAreaMargins:r,id:i,onBlur:a,onClick:c,onDragging:d,onFocus:h,onPointerDown:v,onPointerUp:m,style:f={},tabIndex:g=0,tagName:b="div",...x}){var w,C;const _=l.useRef(null),P=l.useRef({onClick:c,onDragging:d,onPointerDown:v,onPointerUp:m});l.useEffect(()=>{P.current.onClick=c,P.current.onDragging=d,P.current.onPointerDown=v,P.current.onPointerUp=m});const R=l.useContext($a);if(R===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:D,groupId:V,registerResizeHandle:A,startDragging:k,stopDragging:F,panelGroupElement:z}=R,O=Qc(i),[$,H]=l.useState("inactive"),[B,I]=l.useState(!1),[M,j]=l.useState(null),W=l.useRef({state:$});Mr(()=>{W.current.state=$}),l.useEffect(()=>{if(o)j(null);else{const q=A(O);j(()=>q)}},[o,O,A]);const E=(w=r==null?void 0:r.coarse)!==null&&w!==void 0?w:15,G=(C=r==null?void 0:r.fine)!==null&&C!==void 0?C:5;l.useEffect(()=>{if(o||M==null)return;const q=_.current;_t(q,"Element ref not attached");let te=!1;return Qk(O,q,D,{coarse:E,fine:G},(oe,X,U)=>{if(!X){H("inactive");return}switch(oe){case"down":{H("drag"),te=!1,_t(U,'Expected event to be defined for "down" action'),k(O,U);const{onDragging:ne,onPointerDown:ce}=P.current;ne==null||ne(!0),ce==null||ce();break}case"move":{const{state:ne}=W.current;te=!0,ne!=="drag"&&H("hover"),_t(U,'Expected event to be defined for "move" action'),M(U);break}case"up":{H("hover"),F();const{onClick:ne,onDragging:ce,onPointerUp:ve}=P.current;ce==null||ce(!1),ve==null||ve(),te||ne==null||ne();break}}})},[E,D,o,G,A,O,M,k,F]),fM({disabled:o,handleId:O,resizeHandler:M,panelGroupElement:z});const Z={touchAction:"none",userSelect:"none"};return l.createElement(b,{...x,children:e,className:t,id:i,onBlur:()=>{I(!1),a==null||a()},onFocus:()=>{I(!0),h==null||h()},ref:_,role:"separator",style:{...Z,...f},tabIndex:g,[dn.groupDirection]:D,[dn.groupId]:V,[dn.resizeHandle]:"",[dn.resizeHandleActive]:$==="drag"?"pointer":B?"keyboard":void 0,[dn.resizeHandleEnabled]:!o,[dn.resizeHandleId]:O,[dn.resizeHandleState]:$})}Wi.displayName="PanelResizeHandle";function gM(e=["timeline","map","resources","tasks"]){const[t,o]=l.useState(e),[r,i]=l.useState(null),a=m=>{o(f=>f.includes(m)?f.filter(g=>g!==m):[...f,m])},c=m=>{o(f=>f.filter(g=>g!==m)),r===m&&i(null)},d=m=>{t.length<=1||i(f=>f===m?null:m)},h=l.useMemo(()=>e.filter(m=>!t.includes(m)),[t,e]);return{visiblePanels:t,maximizedPanel:r,collapsedPanels:h,isPanelMaximized:m=>r===m,togglePanel:a,closePanel:c,maximizePanel:d}}function _p({title:e,icon:t,isMaximized:o,onMaximize:r,onClose:i,children:a,visibleCount:c}){const d=Jt(),h=me(d.palette.primary.main,.12),v=me(d.palette.primary.main,.05),m=me(d.palette.text.primary,.6);return p.jsxs(Nt,{elevation:o?6:1,sx:{display:"flex",flexDirection:"column",height:"100%",width:"100%",borderRadius:2,border:`1px solid ${h}`,overflow:"hidden",backgroundImage:"none"},children:[p.jsxs(ot,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{px:1.5,py:.75,borderBottom:`1px solid ${h}`,backgroundColor:v},children:[p.jsxs(ot,{direction:"row",spacing:1,alignItems:"center",children:[p.jsx(t,{size:16,color:m}),p.jsx(Ge,{variant:"subtitle2",sx:{fontWeight:600,color:d.palette.text.primary},children:e})]}),p.jsxs(ot,{direction:"row",alignItems:"center",spacing:.5,children:[c>1&&p.jsx(mn,{size:"small",onClick:r,title:o?"Restore":"Maximize",sx:{borderRadius:1.5,border:`1px solid ${me(d.palette.primary.main,.12)}`,bgcolor:o?me(d.palette.primary.main,.12):d.palette.common.white,"&:hover":{bgcolor:me(d.palette.primary.main,.18)}},children:p.jsx(Zg,{size:16,color:d.palette.text.primary,style:{transform:o?"rotate(180deg)":"none",transition:"transform 150ms ease"}})}),p.jsx(mn,{size:"small",onClick:i,title:"Close",sx:{borderRadius:1.5,border:`1px solid ${me(d.palette.primary.main,.12)}`,bgcolor:d.palette.common.white,"&:hover":{bgcolor:me(d.palette.primary.main,.18)}},children:p.jsx(zs,{size:16,color:d.palette.text.primary})})]})]}),p.jsx(Ue,{sx:{flex:1,minHeight:0,overflow:"hidden"},children:a})]})}const br=[{id:"tasksByCommit",label:"Active Tasks by Commit",group:"task"},{id:"resource-active",label:"Active Resources",group:"resource"}];function vM(){var m;const[e,t]=l.useState("task"),[o,r]=l.useState(((m=br.find(f=>f.group==="task"))==null?void 0:m.id)??br[0].id),i=f=>{t(f);const g=br.find(b=>b.group===f);g&&r(g.id)},a=f=>e===f,c=f=>{r(f);const g=br.find(b=>b.id===f);g&&t(g.group)},d=f=>f===o,h=br.filter(f=>f.group==="task"),v=br.filter(f=>f.group==="resource");return{MENU:br,activeTab:e,selectedMode:o,selectTab:i,isTab:a,select:c,isActive:d,taskItems:h,resourceItems:v}}function yM(){const[e,t]=l.useState([]),[o,r]=l.useState([]),[i,a]=l.useState(!0),c=l.useRef(null),d=l.useRef(!1),h=l.useRef(!1),v=l.useRef(0),m=200,f=e.length===1?e[0]:null,g=o.length===1?o[0]:null;l.useEffect(()=>{console.log("â†’ SELECTED TASKS:",e.map(V=>V.taskId)),console.log("â†’ SELECTED RESOURCES:",o.map(V=>V.resourceId))},[e,o]);const b=(V,A,k)=>{console.log("APPLY SELECTION (origin:",k,")",V),c.current=k,A(V),setTimeout(()=>{c.current=null},0)};return{selectedTasks:e,selectedTask:f,handleTaskMapClick:(V,A=!1)=>{console.log("MAP CLICK TASK:",V.taskId,"multi:",A),a(!1),c.current="map",d.current=!0,v.current=Date.now(),t(k=>A?k.some(z=>z.taskId===V.taskId)?k.filter(z=>z.taskId!==V.taskId):[...k,V]:[V]),setTimeout(()=>{c.current=null,d.current=!1},30)},handleTaskTableSelect:V=>{if(console.log("TABLE SELECT TASKS:",V.map(k=>k.taskId)),!V||V.length===0){console.log("TABLE SELECT TASKS ignored (empty selection)");return}const A=Date.now()-v.current<m;if(d.current||c.current==="map"||h.current||A){console.log("TABLE IGNORED â€” map is selecting/dragging/suppress window");return}a(!0),b(V,t,"table")},selectedResources:o,selectedResource:g,handleResourceMapClick:(V,A=!1)=>{console.log("MAP CLICK RESOURCE:",V.resourceId,"multi:",A),a(!1),c.current="map",d.current=!0,v.current=Date.now(),r(k=>A?k.some(z=>z.resourceId===V.resourceId)?k.filter(z=>z.resourceId!==V.resourceId):[...k,V]:[V]),setTimeout(()=>{c.current=null,d.current=!1},30)},handleResourceTableSelect:V=>{if(console.log("TABLE SELECT RESOURCES:",V.map(k=>k.resourceId)),!V||V.length===0){console.log("TABLE SELECT RESOURCES ignored (empty selection)");return}const A=Date.now()-v.current<m;if(d.current||c.current==="map"||h.current||A){console.log("TABLE IGNORED â€” map is selecting/dragging/suppress window");return}a(!0),b(V,r,"table")},shouldZoom:i,notifyMapDragStart:()=>{console.log("MAP DRAG START"),h.current=!0,v.current=Date.now()},notifyMapDragEnd:()=>{console.log("MAP DRAG END"),setTimeout(()=>{h.current=!1},80)},clearAll:()=>{console.log("CLEAR ALL"),c.current="clear",t([]),r([]),a(!0),setTimeout(()=>{c.current=null},0)}}}const ks={timeline:{label:"Gantt Timeline",icon:Xg},map:{label:"Map View",icon:qg},resources:{label:"Resource Table",icon:xa},tasks:{label:"Task Table",icon:hc}};function Pp(e){return e==="resource-active"?"resource-active":"task-default"}function bM(){const e=Jt(),t=e.palette.primary.main,o=e.palette.primary.dark,r=me(t,.1),i=me(t,.18),a="0 24px 54px rgba(8,58,97,0.22)",[c,d]=l.useState(""),[h,v]=l.useState(""),[m,f]=l.useState(!1),[g,b]=l.useState(!1),[x,w]=l.useState(!1),[C,_]=l.useState(!1),P=l.useRef(null),[R,D]=l.useState(""),V=l.useRef({}),[A,k]=l.useState([]),[F,z]=l.useState([]),O=bh,[$,H]=l.useState({statuses:[],pwa:[],capabilities:[],commitmentTypes:[]}),[B,I]=l.useState(0),{selectedMode:M,select:j,isActive:W,taskItems:E,resourceItems:G}=vM(),{selectedTasks:Z,selectedTask:q,handleTaskMapClick:te,handleTaskTableSelect:J,selectedResources:oe,selectedResource:X,handleResourceMapClick:U,handleResourceTableSelect:ne,shouldZoom:ce,clearAll:ve,notifyMapDragStart:fe,notifyMapDragEnd:ke}=yM(),_e=l.useMemo(()=>{const Q=new Set;return Cn.forEach(pe=>pe.division&&Q.add(pe.division)),Array.from(Q).sort()},[]),le=l.useMemo(()=>{const Q=new Set;return Cn.forEach(pe=>pe.domain&&Q.add(String(pe.domain).toUpperCase())),Array.from(Q).sort()},[]);function ye(Q){const pe=new Set,Fe=new Set,yt=new Set,lt=new Set;for(const Ye of Q)Ye.taskStatus&&pe.add(Ye.taskStatus),Ye.pwa&&Fe.add(Ye.pwa),Array.isArray(Ye.capabilities)&&Ye.capabilities.forEach(ft=>yt.add(ft)),Ye.commitmentType&&lt.add(Ye.commitmentType);return{statuses:[...pe].sort(),pwa:[...Fe].sort(),capabilities:[...yt].sort(),commitmentTypes:[...lt].sort()}}const Te=Q=>{if(v(Q),k([]),z([]),I(pe=>pe+1),Q){const pe=Cn.filter(Fe=>Fe.division===Q);H(ye(pe))}else H({statuses:[],pwa:[],capabilities:[],commitmentTypes:[]});D("")},De=Q=>{d(Q),k([]),z([]),I(Fe=>Fe+1);let pe=[...Cn];Q&&(pe=pe.filter(Fe=>String(Fe.domain).toUpperCase()===Q)),h&&(pe=pe.filter(Fe=>Fe.division===h)),H(ye(pe)),D("")},{visiblePanels:ie,maximizedPanel:Pe,collapsedPanels:Me,isPanelMaximized:$e,togglePanel:Ke,closePanel:Ne,maximizePanel:be}=gM(),Ie=()=>{w(!1),_(!1)},Le=()=>{h&&w(Q=>{const pe=!Q;return _(pe),pe})},Ve=P.current,Qe=!!(x&&h&&Ve),rt=Q=>{Ve&&Ve.contains(Q.target)||Ie()},et=Q=>{var Fe,yt,lt,Ye;let pe=[...Cn];c&&(pe=pe.filter(ft=>String(ft.domain).toUpperCase()===c)),h&&(pe=pe.filter(ft=>ft.division===h)),(Fe=Q.statuses)!=null&&Fe.length&&(pe=pe.filter(ft=>Q.statuses.includes(ft.taskStatus))),(yt=Q.pwa)!=null&&yt.length&&(pe=pe.filter(ft=>Q.pwa.includes(ft.pwa))),(lt=Q.capabilities)!=null&&lt.length&&(pe=pe.filter(ft=>{var ge;return(ge=ft.capabilities)==null?void 0:ge.some(he=>Q.capabilities.includes(he))})),(Ye=Q.commitmentTypes)!=null&&Ye.length&&(pe=pe.filter(ft=>Q.commitmentTypes.includes(ft.commitmentType))),pe.sort((ft,ge)=>{const he=Number(ft.importanceScore??0),xe=Number(ge.importanceScore??0);if(xe!==he)return xe-he;const Se=ft.appointmentStartDate?new Date(ft.appointmentStartDate).getTime():0,pt=ge.appointmentStartDate?new Date(ge.appointmentStartDate).getTime():0;return Se-pt}),k(pe),Ie()},Je=Q=>{var yt,lt;if(!h){z([]),Ie();return}let pe=[...O];pe=pe.filter(Ye=>Ye.division===h),c&&(pe=pe.filter(Ye=>String(Ye.domain).toUpperCase()===c)),(yt=Q.statuses)!=null&&yt.length&&(pe=pe.filter(Ye=>Q.statuses.includes(Ye.status))),(lt=Q.pwa)!=null&&lt.length&&(pe=pe.filter(Ye=>Q.pwa.includes(Ye.pwa)));const Fe={Available:1,Busy:2,Offline:3};pe.sort((Ye,ft)=>{const ge=Fe[Ye.status]??99,he=Fe[ft.status]??99;if(ge!==he)return ge-he;const xe=Ye.availableAgainAt?new Date(Ye.availableAgainAt).getTime():Number.POSITIVE_INFINITY,Se=ft.availableAgainAt?new Date(ft.availableAgainAt).getTime():Number.POSITIVE_INFINITY;return xe-Se}),z(pe),Ie()},Pt=()=>{const Q=R.trim().toLowerCase();if(!Q)return;let pe=!1;const Fe=Cn.filter(lt=>lt.taskId&&lt.taskId.toLowerCase()===Q);Fe.length&&(k(Fe),pe=!0);const yt=O.filter(lt=>lt.resourceId&&String(lt.resourceId).toLowerCase()===Q);yt.length&&(z(yt),pe=!0),pe||console.log("No match found."),Ie()},ct=()=>{if(ve(),D(""),k([]),z([]),I(Q=>Q+1),h){const Q=Cn.filter(pe=>pe.division===h);H(ye(Q))}else H({statuses:[],pwa:[],capabilities:[],commitmentTypes:[]});Ie()},it=Q=>{switch(Q){case"timeline":return p.jsx(j0,{});case"map":return p.jsx(lx,{tasks:A,resources:F,selectedTask:q,selectedTasks:Z,selectedResource:X,selectedResources:oe,shouldZoom:ce,handleTaskMapClick:te,handleResourceMapClick:U,notifyMapDragStart:fe,notifyMapDragEnd:ke});case"resources":return p.jsx(Bk,{data:F,selectedResources:oe,onSelectionChange:ne});case"tasks":return p.jsx($k,{data:A,selectedTasks:Z,onSelectionChange:J});default:return null}},jt=["timeline","map"],Ot=["resources","tasks"],Ht=jt.filter(Q=>ie.includes(Q)),qt=Ot.filter(Q=>ie.includes(Q)),ln=Pe?[Pe]:Ht,rn=Pe?[]:qt,en=p.jsxs(Nt,{elevation:0,sx:{width:"100%",borderBottom:`1px solid ${me(e.palette.primary.main,.1)}`,px:2.5,py:1.5,display:"flex",alignItems:"center",gap:2,backgroundImage:"none",borderRadius:0},children:[p.jsxs(_n,{select:!0,size:"small",value:h,onChange:Q=>Te(Q.target.value),sx:{minWidth:{xs:e.spacing(14),sm:e.spacing(18)}},SelectProps:{displayEmpty:!0,renderValue:Q=>Q?String(Q):"Division"},children:[p.jsx(pn,{value:"",children:"All"}),_e.map(Q=>p.jsx(pn,{value:Q,children:Q},Q))]}),p.jsxs(_n,{select:!0,size:"small",value:c,onChange:Q=>De(Q.target.value),sx:{minWidth:{xs:e.spacing(14),sm:e.spacing(18)}},SelectProps:{displayEmpty:!0,renderValue:Q=>Q?String(Q):"Domain"},children:[p.jsx(pn,{value:"",children:"All"}),le.map(Q=>p.jsx(pn,{value:Q,children:Q},Q))]}),p.jsx(_n,{size:"small",value:R,onChange:Q=>D(Q.target.value),onKeyDown:Q=>Q.key==="Enter"&&Pt(),placeholder:"Search anywhereâ€¦",sx:{minWidth:{xs:e.spacing(20),sm:e.spacing(30)}},InputProps:{startAdornment:p.jsx(Qs,{position:"start",sx:{color:me(e.palette.text.primary,.6)},children:p.jsx(wa,{size:16})})}}),p.jsx(an,{ref:P,onClick:Le,variant:C?"contained":"outlined",color:"primary",size:"small",startIcon:p.jsx(Ug,{size:16}),disabled:!h,sx:{boxShadow:C?"0 14px 36px rgba(8,58,97,0.25)":"none",bgcolor:C?r:void 0,borderColor:C?t:void 0},children:"Search Tool"}),p.jsx(mn,{size:"small",onClick:()=>f(Q=>!Q),sx:{borderRadius:2,border:`1px solid ${i}`,boxShadow:m?"0 14px 36px rgba(8,58,97,0.2)":"none",bgcolor:m?t:"white",color:m?e.palette.common.white:e.palette.text.primary,"&:hover":{bgcolor:m?o:me(t,.08)}},children:p.jsx(Kg,{size:16})}),p.jsx(mn,{size:"small",onClick:()=>b(Q=>!Q),sx:{borderRadius:2,border:`1px solid ${i}`,boxShadow:g?"0 14px 36px rgba(8,58,97,0.2)":"none",bgcolor:g?t:"white",color:g?e.palette.common.white:e.palette.text.primary,"&:hover":{bgcolor:g?o:me(t,.08)}},title:"Map Legend",children:p.jsx(Jg,{size:16})}),p.jsx(Ue,{sx:{flexGrow:1}}),p.jsx(an,{variant:"outlined",size:"small",onClick:ct,children:"Clear All"}),Me.length>0&&p.jsx(ot,{direction:"row",spacing:1.5,ml:2,alignItems:"center",children:Me.map(Q=>p.jsx(mn,{size:"small",onClick:()=>Ke(Q),sx:{width:32,height:32,borderRadius:1.5,border:`1px solid ${me(e.palette.primary.main,.12)}`,bgcolor:"white","&:hover":{bgcolor:me(e.palette.primary.main,.08)}},children:Kn.createElement(ks[Q].icon,{size:15})},Q))})]}),Ce=p.jsx(hs,{open:Qe,anchorEl:Ve,placement:"bottom-start",transition:!0,modifiers:[{name:"offset",options:{offset:[0,10]}}],children:({TransitionProps:Q})=>p.jsx(Ui,{...Q,timeout:160,children:p.jsx(Ue,{children:p.jsx(yc,{onClickAway:rt,children:p.jsxs(Nt,{elevation:16,sx:{borderRadius:3,p:3,border:`1px solid ${i}`,boxShadow:a,backgroundImage:"none",display:"flex",flexDirection:"column",gap:3},style:{width:"min(95vw, 760px)"},children:[p.jsxs(ot,{direction:{xs:"column",md:"row"},spacing:3,children:[p.jsxs(Nt,{elevation:0,sx:{width:{xs:"100%",md:"clamp(200px,24vw,240px)"},borderRadius:2,border:`1px solid ${me(t,.12)}`,boxShadow:"0 18px 42px rgba(8,58,97,0.18)",backgroundImage:"none",p:2.5,display:"flex",flexDirection:"column",gap:3},children:[p.jsxs(Ue,{children:[p.jsx(Ge,{variant:"overline",sx:{fontWeight:700,color:me(e.palette.text.secondary,.9)},children:"Task Searches"}),p.jsx(ot,{spacing:1,mt:1.5,children:E.map(pe=>p.jsx(an,{onClick:()=>j(pe.id),fullWidth:!0,size:"small",variant:W(pe.id)?"contained":"outlined",color:"primary",sx:{justifyContent:"flex-start",textTransform:"none",fontSize:12,fontWeight:600,borderRadius:1.5},children:pe.label},pe.id))})]}),p.jsx(Po,{flexItem:!0,sx:{my:1}}),p.jsxs(Ue,{children:[p.jsx(Ge,{variant:"overline",sx:{fontWeight:700,color:me(e.palette.text.secondary,.9)},children:"Resource Searches"}),p.jsx(ot,{spacing:1,mt:1.5,children:G.map(pe=>p.jsx(an,{onClick:()=>j(pe.id),fullWidth:!0,size:"small",variant:W(pe.id)?"contained":"outlined",color:"primary",sx:{justifyContent:"flex-start",textTransform:"none",fontSize:12,fontWeight:600,borderRadius:1.5},children:pe.label},pe.id))})]})]}),p.jsx(Nt,{elevation:0,sx:{flex:1,borderRadius:2,border:`1px solid ${me(t,.12)}`,boxShadow:"0 18px 42px rgba(8,58,97,0.18)",backgroundImage:"none",p:3},children:p.jsx($0,{mode:Pp(M),onSearch:pe=>{V.current=pe},onClear:()=>{k([]),z([]),I(pe=>pe+1)},dropdownData:{...$,resourceStatuses:Array.from(new Set(O.map(pe=>pe.status))).sort()},resetKey:B})})]}),p.jsx(ot,{direction:"row",justifyContent:"flex-end",children:p.jsx(an,{variant:"contained",size:"medium",onClick:()=>{const pe=V.current;Pp(M).startsWith("task")?et(pe):Je(pe)},sx:{px:3.5,fontWeight:700,boxShadow:"0 18px 38px rgba(8,58,97,0.24)"},children:"Search"})})]})})})})});return p.jsxs(Ue,{sx:{flex:1,minHeight:0,display:"flex",flexDirection:"column",position:"relative",backgroundColor:me(e.palette.primary.light,.08)},children:[en,p.jsx(R0,{visible:g,onClose:()=>b(!1)}),Ce,p.jsx(Ue,{sx:{flex:1,minHeight:0,px:1,pt:1},children:p.jsxs(Vi,{direction:"vertical",style:{height:"100%"},children:[ln.length>0&&p.jsxs(p.Fragment,{children:[p.jsx(Ls,{defaultSize:50,children:p.jsx(Vi,{direction:"horizontal",style:{height:"100%"},children:ln.map((Q,pe)=>p.jsxs(Kn.Fragment,{children:[pe>0&&p.jsx(Wi,{style:{width:4,backgroundColor:me(e.palette.primary.main,.08),cursor:"col-resize"}}),p.jsx(Ls,{children:p.jsx(_p,{title:ks[Q].label,icon:ks[Q].icon,isMaximized:$e(Q),onMaximize:()=>be(Q),onClose:()=>Ne(Q),visibleCount:ie.length,children:it(Q)})})]},Q))})}),rn.length>0&&p.jsx(Wi,{style:{height:4,backgroundColor:me(e.palette.primary.main,.08),cursor:"row-resize"}})]}),rn.length>0&&p.jsx(Ls,{defaultSize:50,children:p.jsx(Vi,{direction:"horizontal",style:{height:"100%"},children:rn.map((Q,pe)=>p.jsxs(Kn.Fragment,{children:[pe>0&&p.jsx(Wi,{style:{width:4,backgroundColor:me(e.palette.primary.main,.08),cursor:"col-resize"}}),p.jsx(Ls,{children:p.jsx(_p,{title:ks[Q].label,icon:ks[Q].icon,isMaximized:$e(Q),onMaximize:()=>be(Q),onClose:()=>Ne(Q),visibleCount:ie.length,children:it(Q)})})]},Q))})})]},ie.join("-"))})]})}let xM={data:""},CM=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||xM},wM=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,SM=/\/\*[^]*?\*\/|  +/g,Ip=/\n+/g,sr=(e,t)=>{let o="",r="",i="";for(let a in e){let c=e[a];a[0]=="@"?a[1]=="i"?o=a+" "+c+";":r+=a[1]=="f"?sr(c,a):a+"{"+sr(c,a[1]=="k"?"":t)+"}":typeof c=="object"?r+=sr(c,t?t.replace(/([^,])+/g,d=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,h=>/&/.test(h)?h.replace(/&/g,d):d?d+" "+h:h)):a):c!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=sr.p?sr.p(a,c):a+":"+c+";")}return o+(t&&i?t+"{"+i+"}":i)+r},No={},hf=e=>{if(typeof e=="object"){let t="";for(let o in e)t+=o+hf(e[o]);return t}return e},_M=(e,t,o,r,i)=>{let a=hf(e),c=No[a]||(No[a]=(h=>{let v=0,m=11;for(;v<h.length;)m=101*m+h.charCodeAt(v++)>>>0;return"go"+m})(a));if(!No[c]){let h=a!==e?e:(v=>{let m,f,g=[{}];for(;m=wM.exec(v.replace(SM,""));)m[4]?g.shift():m[3]?(f=m[3].replace(Ip," ").trim(),g.unshift(g[0][f]=g[0][f]||{})):g[0][m[1]]=m[2].replace(Ip," ").trim();return g[0]})(e);No[c]=sr(i?{["@keyframes "+c]:h}:h,o?"":"."+c)}let d=o&&No.g?No.g:null;return o&&(No.g=No[c]),((h,v,m,f)=>{f?v.data=v.data.replace(f,h):v.data.indexOf(h)===-1&&(v.data=m?h+v.data:v.data+h)})(No[c],t,r,d),c},PM=(e,t,o)=>e.reduce((r,i,a)=>{let c=t[a];if(c&&c.call){let d=c(o),h=d&&d.props&&d.props.className||/^go/.test(d)&&d;c=h?"."+h:d&&typeof d=="object"?d.props?"":sr(d,""):d===!1?"":d}return r+i+(c??"")},"");function Va(e){let t=this||{},o=e.call?e(t.p):e;return _M(o.unshift?o.raw?PM(o,[].slice.call(arguments,1),t.p):o.reduce((r,i)=>Object.assign(r,i&&i.call?i(t.p):i),{}):o,CM(t.target),t.g,t.o,t.k)}let mf,ic,ac;Va.bind({g:1});let Zo=Va.bind({k:1});function IM(e,t,o,r){sr.p=t,mf=e,ic=o,ac=r}function dr(e,t){let o=this||{};return function(){let r=arguments;function i(a,c){let d=Object.assign({},a),h=d.className||i.className;o.p=Object.assign({theme:ic&&ic()},d),o.o=/ *go\d+/.test(h),d.className=Va.apply(o,r)+(h?" "+h:"");let v=e;return e[0]&&(v=d.as||e,delete d.as),ac&&v[0]&&ac(d),mf(v,d)}return i}}var TM=e=>typeof e=="function",ma=(e,t)=>TM(e)?e(t):e,kM=(()=>{let e=0;return()=>(++e).toString()})(),ff=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),MM=20,tu="default",gf=(e,t)=>{let{toastLimit:o}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,o)};case 1:return{...e,toasts:e.toasts.map(c=>c.id===t.toast.id?{...c,...t.toast}:c)};case 2:let{toast:r}=t;return gf(e,{type:e.toasts.find(c=>c.id===r.id)?1:0,toast:r});case 3:let{toastId:i}=t;return{...e,toasts:e.toasts.map(c=>c.id===i||i===void 0?{...c,dismissed:!0,visible:!1}:c)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(c=>c.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let a=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(c=>({...c,pauseDuration:c.pauseDuration+a}))}}},Zi=[],vf={toasts:[],pausedAt:void 0,settings:{toastLimit:MM}},_o={},yf=(e,t=tu)=>{_o[t]=gf(_o[t]||vf,e),Zi.forEach(([o,r])=>{o===t&&r(_o[t])})},bf=e=>Object.keys(_o).forEach(t=>yf(e,t)),AM=e=>Object.keys(_o).find(t=>_o[t].toasts.some(o=>o.id===e)),Wa=(e=tu)=>t=>{yf(t,e)},DM={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},EM=(e={},t=tu)=>{let[o,r]=l.useState(_o[t]||vf),i=l.useRef(_o[t]);l.useEffect(()=>(i.current!==_o[t]&&r(_o[t]),Zi.push([t,r]),()=>{let c=Zi.findIndex(([d])=>d===t);c>-1&&Zi.splice(c,1)}),[t]);let a=o.toasts.map(c=>{var d,h,v;return{...e,...e[c.type],...c,removeDelay:c.removeDelay||((d=e[c.type])==null?void 0:d.removeDelay)||(e==null?void 0:e.removeDelay),duration:c.duration||((h=e[c.type])==null?void 0:h.duration)||(e==null?void 0:e.duration)||DM[c.type],style:{...e.style,...(v=e[c.type])==null?void 0:v.style,...c.style}}});return{...o,toasts:a}},RM=(e,t="blank",o)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...o,id:(o==null?void 0:o.id)||kM()}),ui=e=>(t,o)=>{let r=RM(t,e,o);return Wa(r.toasterId||AM(r.id))({type:2,toast:r}),r.id},Vt=(e,t)=>ui("blank")(e,t);Vt.error=ui("error");Vt.success=ui("success");Vt.loading=ui("loading");Vt.custom=ui("custom");Vt.dismiss=(e,t)=>{let o={type:3,toastId:e};t?Wa(t)(o):bf(o)};Vt.dismissAll=e=>Vt.dismiss(void 0,e);Vt.remove=(e,t)=>{let o={type:4,toastId:e};t?Wa(t)(o):bf(o)};Vt.removeAll=e=>Vt.remove(void 0,e);Vt.promise=(e,t,o)=>{let r=Vt.loading(t.loading,{...o,...o==null?void 0:o.loading});return typeof e=="function"&&(e=e()),e.then(i=>{let a=t.success?ma(t.success,i):void 0;return a?Vt.success(a,{id:r,...o,...o==null?void 0:o.success}):Vt.dismiss(r),i}).catch(i=>{let a=t.error?ma(t.error,i):void 0;a?Vt.error(a,{id:r,...o,...o==null?void 0:o.error}):Vt.dismiss(r)}),e};var LM=1e3,FM=(e,t="default")=>{let{toasts:o,pausedAt:r}=EM(e,t),i=l.useRef(new Map).current,a=l.useCallback((f,g=LM)=>{if(i.has(f))return;let b=setTimeout(()=>{i.delete(f),c({type:4,toastId:f})},g);i.set(f,b)},[]);l.useEffect(()=>{if(r)return;let f=Date.now(),g=o.map(b=>{if(b.duration===1/0)return;let x=(b.duration||0)+b.pauseDuration-(f-b.createdAt);if(x<0){b.visible&&Vt.dismiss(b.id);return}return setTimeout(()=>Vt.dismiss(b.id,t),x)});return()=>{g.forEach(b=>b&&clearTimeout(b))}},[o,r,t]);let c=l.useCallback(Wa(t),[t]),d=l.useCallback(()=>{c({type:5,time:Date.now()})},[c]),h=l.useCallback((f,g)=>{c({type:1,toast:{id:f,height:g}})},[c]),v=l.useCallback(()=>{r&&c({type:6,time:Date.now()})},[r,c]),m=l.useCallback((f,g)=>{let{reverseOrder:b=!1,gutter:x=8,defaultPosition:w}=g||{},C=o.filter(R=>(R.position||w)===(f.position||w)&&R.height),_=C.findIndex(R=>R.id===f.id),P=C.filter((R,D)=>D<_&&R.visible).length;return C.filter(R=>R.visible).slice(...b?[P+1]:[0,P]).reduce((R,D)=>R+(D.height||0)+x,0)},[o]);return l.useEffect(()=>{o.forEach(f=>{if(f.dismissed)a(f.id,f.removeDelay);else{let g=i.get(f.id);g&&(clearTimeout(g),i.delete(f.id))}})},[o,a]),{toasts:o,handlers:{updateHeight:h,startPause:d,endPause:v,calculateOffset:m}}},OM=Zo`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,NM=Zo`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,zM=Zo`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,$M=dr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${OM} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${NM} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${zM} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,jM=Zo`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,BM=dr("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${jM} 1s linear infinite;
`,HM=Zo`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,GM=Zo`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,VM=dr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${HM} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${GM} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,WM=dr("div")`
  position: absolute;
`,ZM=dr("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,UM=Zo`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,KM=dr("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${UM} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,JM=({toast:e})=>{let{icon:t,type:o,iconTheme:r}=e;return t!==void 0?typeof t=="string"?l.createElement(KM,null,t):t:o==="blank"?null:l.createElement(ZM,null,l.createElement(BM,{...r}),o!=="loading"&&l.createElement(WM,null,o==="error"?l.createElement($M,{...r}):l.createElement(VM,{...r})))},qM=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,XM=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,YM="0%{opacity:0;} 100%{opacity:1;}",QM="0%{opacity:1;} 100%{opacity:0;}",eA=dr("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,tA=dr("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,nA=(e,t)=>{let o=e.includes("top")?1:-1,[r,i]=ff()?[YM,QM]:[qM(o),XM(o)];return{animation:t?`${Zo(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Zo(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},oA=l.memo(({toast:e,position:t,style:o,children:r})=>{let i=e.height?nA(e.position||t||"top-center",e.visible):{opacity:0},a=l.createElement(JM,{toast:e}),c=l.createElement(tA,{...e.ariaProps},ma(e.message,e));return l.createElement(eA,{className:e.className,style:{...i,...o,...e.style}},typeof r=="function"?r({icon:a,message:c}):l.createElement(l.Fragment,null,a,c))});IM(l.createElement);var rA=({id:e,className:t,style:o,onHeightUpdate:r,children:i})=>{let a=l.useCallback(c=>{if(c){let d=()=>{let h=c.getBoundingClientRect().height;r(e,h)};d(),new MutationObserver(d).observe(c,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return l.createElement("div",{ref:a,className:t,style:o},i)},sA=(e,t)=>{let o=e.includes("top"),r=o?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:ff()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(o?1:-1)}px)`,...r,...i}},iA=Va`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Ei=16,aA=({reverseOrder:e,position:t="top-center",toastOptions:o,gutter:r,children:i,toasterId:a,containerStyle:c,containerClassName:d})=>{let{toasts:h,handlers:v}=FM(o,a);return l.createElement("div",{"data-rht-toaster":a||"",style:{position:"fixed",zIndex:9999,top:Ei,left:Ei,right:Ei,bottom:Ei,pointerEvents:"none",...c},className:d,onMouseEnter:v.startPause,onMouseLeave:v.endPause},h.map(m=>{let f=m.position||t,g=v.calculateOffset(m,{reverseOrder:e,gutter:r,defaultPosition:t}),b=sA(f,g);return l.createElement(rA,{id:m.id,key:m.id,onHeightUpdate:v.updateHeight,className:m.visible?iA:"",style:b},m.type==="custom"?ma(m.message,m):i?i(m):l.createElement(oA,{toast:m,position:f}))}))},Ri=Vt;const lA=[{label:"Operation Toolkit",icon:hc},{label:"General Settings",icon:Ji}],cA=[{label:"Task Admin",icon:Ca},{label:"Jeopardy Admin",icon:pc}],uA=[{label:"Resource Admin",icon:xa},{label:"Self Service Admin",icon:Ji},{label:"User Admin",icon:Yp}],dA=[{label:"Domain Admin",icon:Qp},{label:"Schedule Admin",icon:eh},{label:"System Admin",icon:th}],pA=l.memo(function({currentMenu:t,onMenuClick:o,activeSubPage:r}){const i=Jt(),[a,c]=l.useState(!1),[d,h]=l.useState(null),v=l.useRef(a);l.useEffect(()=>{t!=null&&t.label&&h(t.label.trim())},[t]);const m=l.useCallback(()=>{c(b=>!b)},[]);l.useEffect(()=>{const b=()=>m();return window.addEventListener("toggleSidebar",b),()=>window.removeEventListener("toggleSidebar",b)},[m]),l.useEffect(()=>{const b=()=>h(null);return window.addEventListener("resetSidebarSelection",b),()=>window.removeEventListener("resetSidebarSelection",b)},[]),l.useEffect(()=>(a&&!v.current&&document.body.classList.add("sidebar-open"),!a&&v.current&&document.body.classList.remove("sidebar-open"),v.current=a,()=>{document.body.classList.remove("sidebar-open")}),[a]);const f=l.useMemo(()=>[{title:"User Section",menus:lA},{title:"Task Admin",menus:cA},{title:"People Admin",menus:uA},{title:"System Admin",menus:dA}],[]),g=l.useCallback(b=>{const x=b.label.trim();if(d===x&&!(r!==null)){c(!1);return}h(x),o({...b,label:x}),c(!1)},[d,r,o]);return p.jsxs(pb,{variant:"temporary",open:a,onClose:()=>c(!1),ModalProps:{keepMounted:!0},PaperProps:{sx:{width:{xs:"80vw",sm:i.spacing(40)},maxWidth:"100vw",minWidth:0,minHeight:0,backgroundColor:"background.paper",borderRight:`1px solid ${me(i.palette.text.primary,.08)}`,boxShadow:"8px 0 24px rgba(0,0,0,0.16)",display:"flex",flexDirection:"column"}},children:[p.jsx(Ue,{sx:{px:3,py:2.5,borderBottom:`1px solid ${me(i.palette.text.primary,.12)}`},children:p.jsx(Ge,{variant:"h6",fontWeight:600,color:"text.primary",children:"Navigation"})}),p.jsx(Ue,{sx:{flex:1,overflowY:"auto",py:1},children:f.map(({title:b,menus:x})=>p.jsxs(Kn.Fragment,{children:[p.jsx(hA,{title:b,menus:x,activeMenuLabel:d,onMenuClick:g}),p.jsx(Po,{sx:{mx:2,my:2,borderColor:me(i.palette.text.primary,.08)}})]},b))}),p.jsx(mA,{})]})}),hA=l.memo(function({title:t,menus:o,activeMenuLabel:r,onMenuClick:i}){const a=Jt();return p.jsxs(Ue,{sx:{px:2,py:1},children:[p.jsx(Ge,{variant:"overline",color:"text.secondary",sx:{px:1.5,mb:1,letterSpacing:1.4},children:t}),p.jsx(Zp,{disablePadding:!0,children:o.map(c=>{const d=c.icon,h=r===c.label;return p.jsxs(Up,{onClick:()=>i(c),selected:h,sx:{borderRadius:2,mb:1,alignItems:"center",px:2.5,py:1.5,position:"relative",...h?{backgroundColor:me(a.palette.primary.main,.12),color:a.palette.primary.main,"&::before":{content:'""',position:"absolute",left:12,top:10,bottom:10,width:4,borderRadius:999,backgroundColor:a.palette.primary.main}}:{color:a.palette.text.primary,"&:hover":{backgroundColor:me(a.palette.primary.main,.08)}}},children:[p.jsx(Ho,{sx:{minWidth:a.spacing(4.5),color:"inherit"},children:Kn.createElement(d,{size:18,strokeWidth:2.2})}),p.jsx(ro,{primary:c.label,primaryTypographyProps:{fontSize:14,fontWeight:h?600:500}})]},c.label)})})]})}),mA=l.memo(function(){const t=Jt();return p.jsxs(Ue,{sx:{px:3,py:2.5,borderTop:`1px solid ${me(t.palette.text.primary,.1)}`,backgroundColor:me(t.palette.background.paper,.85)},children:[p.jsxs(ot,{direction:"row",alignItems:"center",justifyContent:"space-between",mb:1.5,children:[p.jsx(Ge,{variant:"subtitle2",fontWeight:600,color:"text.primary",children:"System Info"}),p.jsx(Ue,{sx:{color:"text.secondary"},children:p.jsx(Yg,{size:16})})]}),p.jsxs(ot,{spacing:.5,sx:{color:"text.secondary",fontSize:12},children:[p.jsxs("span",{children:[p.jsx("strong",{children:"Client Version:"})," 1"]}),p.jsxs("span",{children:[p.jsx("strong",{children:"Build #:"})," 11.11.2025"]}),p.jsxs("span",{children:[p.jsx("strong",{children:"Node:"})," 20.0.0"]})]}),p.jsx(Po,{sx:{my:1.5,borderColor:me(t.palette.text.primary,.08)}}),p.jsx(Ge,{variant:"caption",color:"text.secondary",display:"block",textAlign:"center",children:"Brandon Virtual | Â© 2025"})]})}),fA=xt(p.jsx("path",{d:"M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2"}),"Bookmark"),gA=xt(p.jsx("path",{d:"M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2m0 15-5-2.18L7 18V5h10z"}),"BookmarkBorder"),vA=xt(p.jsx("path",{d:"M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 16H5V8h14zM7 10h5v5H7z"}),"Today"),yA=xt(p.jsx("path",{d:"M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 16H5V9h14zm0-12H5V5h14zM7 11h5v5H7z"}),"TodayOutlined");function bA({anchorEl:e,open:t,onClose:o,fromDate:r,fromTime:i,toDate:a,toTime:c,onChangeField:d,onClear:h}){return p.jsx(dc,{anchorEl:e,open:t,onClose:o,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:p.jsxs(Ue,{sx:{p:1,display:"flex",flexDirection:"column",gap:1,minWidth:220},children:[p.jsxs(ot,{direction:"row",spacing:1,alignItems:"center",children:[p.jsx(_n,{type:"date",name:"fromDate",label:"From",value:r,onChange:v=>d("fromDate",v.target.value),size:"small",InputLabelProps:{shrink:!0}}),p.jsx(_n,{type:"time",name:"fromTime",value:i,onChange:v=>d("fromTime",v.target.value),size:"small"})]}),p.jsxs(ot,{direction:"row",spacing:1,alignItems:"center",children:[p.jsx(_n,{type:"date",name:"toDate",label:"To",value:a,onChange:v=>d("toDate",v.target.value),size:"small",InputLabelProps:{shrink:!0}}),p.jsx(_n,{type:"time",name:"toTime",value:c,onChange:v=>d("toTime",v.target.value),size:"small"})]}),p.jsxs(Ue,{sx:{display:"flex",gap:1,justifyContent:"flex-end"},children:[p.jsx(an,{variant:"text",size:"small",onClick:()=>{h&&h()},children:"Clear"}),p.jsx(an,{variant:"contained",size:"small",onClick:o,children:"Apply"})]})]})})}const xA=jn(Kp),Tp={taskSearch:"",division:[],domainId:[],taskStatuses:[],requester:"",responseCode:[],commitType:[],capabilities:[],pwa:[],jobType:"",scoreCondition:"",scoreValue:"",locationType:"",locationValue:"",fromDate:"",fromTime:"",toDate:"",toTime:""},Ms={taskSearch:"Search",division:"Division",domainId:"Domain",taskStatuses:"Task Status",requester:"Requester",responseCode:"Response",commitType:"Commitment",capabilities:"Capabilities",pwa:"PWA",jobType:"Job Type",scoreCondition:"IMP Condition",scoreValue:"IMP Value",locationType:"Location Type",locationValue:"Location Value",fromDate:"From Date",fromTime:"From Time",toDate:"To Date",toTime:"To Time"};function CA({onSearch:e,onClear:t,onCopy:o,onExport:r,canCopy:i=!1,forceCollapsed:a=!1}){const c=Jt(),[d,h]=l.useState(()=>({...Tp})),[v,m]=l.useState(!1),[f,g]=l.useState(!1),[b,x]=l.useState("basic"),[w,C]=l.useState(null),[_,P]=l.useState(null),R=U=>Array.from(new Set(U.filter(Boolean))),D=l.useMemo(()=>R(Cn.map(U=>U.division)).sort(),[]),V=l.useMemo(()=>R(Cn.map(U=>U.domain)).sort(),[]),A=l.useMemo(()=>R(Cn.map(ne=>ne.taskStatus)).sort((ne,ce)=>{const ve=ne.match(/\(([^)]+)\)\s*$/),fe=ce.match(/\(([^)]+)\)\s*$/),ke=(ve==null?void 0:ve[1])??ne,_e=(fe==null?void 0:fe[1])??ce;return ke.localeCompare(_e)}),[]),k=l.useMemo(()=>R(Cn.map(U=>U.responseCode)).sort(),[]),F=l.useMemo(()=>R(Cn.map(U=>U.commitmentType)).sort(),[]),z=l.useMemo(()=>R(Cn.flatMap(U=>U.capabilities||[])).sort(),[]),O=l.useMemo(()=>R(Cn.map(U=>U.pwa)).sort(),[]),$=l.useMemo(()=>R(Cn.map(U=>U.resourceName)).sort(),[]),H=l.useMemo(()=>R(Cn.map(U=>U.taskType)).sort(),[]),B=l.useMemo(()=>"Search by Task ID, Work ID, Estimate Number, Employee ID",[]),[I,M]=Kn.useState({});Kn.useEffect(()=>{if(!(typeof window>"u"))try{const ne=document.createElement("canvas").getContext("2d");if(!ne)return;const ce=getComputedStyle(document.body);ne.font=ce.font||"14px Roboto, sans-serif";const ve=["division","domainId","taskStatuses","commitType","responseCode","pwa","capabilities","requester","jobType","locationValue"],fe=6,ke=6,_e=ye=>{const Te=j[ye];if(Te){const $e="0".repeat(Te+fe+ke);return Math.ceil(ne.measureText($e).width)}const ie=($e=>{switch($e){case"division":return D;case"domainId":return V;case"taskStatuses":return A;case"responseCode":return k;case"commitType":return F;case"capabilities":return z;case"pwa":return O;case"requester":return $;case"jobType":return H;default:return}})(ye);let Pe=Ms[ye]??ye;ie&&ie.length&&(Pe=ie.reduce(($e,Ke)=>String(Ke).length>$e.length?String(Ke):$e,Pe));const Me=Pe+" ".repeat(fe+ke);return Math.ceil(ne.measureText(Me).width)},le={};ve.forEach(ye=>{try{le[ye]=_e(ye)}catch{}}),M(le)}catch{}},[D,V,A,k,F,z,O,$,H]);const j={division:36,domainId:14,taskStatuses:24,commitType:22,responseCode:10,pwa:20,capabilities:28,requester:28,jobType:22,locationValue:32,locationType:16,scoreValue:6},W=l.useMemo(()=>d.taskSearch.trim().length>0?!0:d.division.length>0&&d.domainId.length>0,[d.division.length,d.domainId.length,d.taskSearch]);l.useMemo(()=>{const U=[];return["taskSearch","requester","jobType","scoreCondition","scoreValue","locationType","locationValue"].forEach(ve=>{const fe=d[ve];typeof fe=="string"&&fe.trim()&&U.push({key:ve,label:Ms[ve],displayValue:fe,isArray:!1})}),["division","domainId","taskStatuses","responseCode","commitType","capabilities","pwa"].forEach(ve=>{const fe=d[ve];fe.length&&U.push({key:ve,label:Ms[ve],displayValue:fe.join(", "),isArray:!0})}),d.fromDate&&U.push({key:"fromDate",label:Ms.fromDate,displayValue:d.fromDate,isArray:!1}),d.toDate&&U.push({key:"toDate",label:Ms.toDate,displayValue:d.toDate,isArray:!1}),U},[d]);const E=l.useCallback(U=>{const{name:ne,value:ce}=U.target;h(ve=>({...ve,[ne]:ce}))},[]),G=l.useCallback((U,ne)=>{h(ce=>({...ce,[U]:ne}))},[]),Z=l.useCallback(()=>{e(d)},[d,e]),q=l.useCallback(()=>{h({...Tp}),t()},[t]);Kn.useEffect(()=>{a&&m(!0)},[a]);const te=l.useCallback(U=>{C(U.currentTarget)},[]),J=l.useCallback(()=>{C(null)},[]),oe=l.useCallback(()=>{i&&o?o():Ri.error("No data to copy"),J()},[i,J,o]),X=l.useCallback(()=>{i&&r?r():Ri.error("No data to export"),J()},[i,J,r]);return l.useMemo(()=>[{label:"My Tasks",action:()=>Ri("Preset: My Tasks")},{label:"Due Today",action:()=>Ri("Preset: Due Today")},{label:"High IMP",action:()=>h(U=>({...U,scoreCondition:"greater",scoreValue:"80"}))}],[]),p.jsxs(xA,{initial:{opacity:0,y:-6},animate:{opacity:1,y:0},transition:{duration:.25},sx:{borderRadius:"12px 12px 0 0",boxShadow:"0 18px 35px rgba(10, 74, 122, 0.12)",overflow:"hidden",width:"100%",maxWidth:"100%",mx:0},children:[p.jsx(Ue,{sx:{px:{xs:2,md:3},py:.5,bgcolor:"transparent"},children:p.jsxs(Ue,{sx:{display:"flex",alignItems:"center",gap:1},children:[p.jsxs(k0,{value:b,onChange:(U,ne)=>x(ne),variant:"standard",sx:{minHeight:36},children:[p.jsx(ld,{value:"basic",label:"Basic",sx:{minHeight:36,px:1}}),p.jsx(ld,{value:"advanced",label:"Advanced",sx:{minHeight:36,px:1}})]}),p.jsx(Ue,{sx:{flex:1}}),p.jsx(Ue,{sx:{width:{xs:"100%",sm:420,md:720}},children:p.jsx(_n,{name:"taskSearch",value:d.taskSearch,onChange:E,placeholder:B,size:"small",fullWidth:!0,sx:{"& input::placeholder":{color:c.palette.text.secondary},"& .MuiInputBase-input":{paddingTop:0,paddingBottom:0,fontSize:13,lineHeight:"32px"}},InputProps:{startAdornment:p.jsx(Qs,{position:"start",children:p.jsx(wa,{size:16})}),sx:{height:48}}})}),p.jsx(mn,{onClick:U=>P(U.currentTarget),size:"small",sx:{ml:1},"aria-label":"date-filter",children:d.fromDate||d.toDate||d.fromTime||d.toTime?p.jsx(vA,{sx:{fontSize:20,color:c.palette.primary.main}}):p.jsx(yA,{sx:{fontSize:20}})}),p.jsx(mn,{onClick:()=>g(U=>!U),size:"small",sx:{ml:1},"aria-label":"favourite",children:f?p.jsx(fA,{sx:{fontSize:20,color:c.palette.primary.main}}):p.jsx(gA,{sx:{fontSize:20}})})]})}),p.jsxs(Jp,{sx:{pt:.5,pb:2,px:2,maxHeight:"none",overflowY:"visible"},children:[b==="basic"&&p.jsxs(Ue,{mt:1,children:[p.jsx(Ue,{sx:{display:"flex",justifyContent:"flex-end",mb:.25}}),p.jsxs(Gt,{container:!0,spacing:1.5,alignItems:"center",children:[p.jsx(Gt,{item:!0,xs:12,sm:"auto",md:"auto",children:p.jsx(Zn,{label:"Division",options:D,value:d.division,onChange:U=>G("division",U),showSelectAllIcon:!0,required:!0})}),p.jsx(Gt,{item:!0,xs:12,sm:"auto",md:"auto",children:p.jsx(Zn,{label:"Domain ID",options:V,value:d.domainId,onChange:U=>G("domainId",U),showSelectAllIcon:!0,required:!0})}),p.jsx(Gt,{item:!0,xs:12,sm:"auto",md:"auto",children:p.jsx(Zn,{label:"Task Status",options:A,value:d.taskStatuses,onChange:U=>G("taskStatuses",U),showSelectAllIcon:!0})}),p.jsx(Gt,{item:!0,xs:12,sm:"auto",md:"auto",children:p.jsx(Zn,{label:"Commit Type",options:F,value:d.commitType,onChange:U=>G("commitType",U),showSelectAllIcon:!0})}),p.jsx(Gt,{item:!0,xs:12,sm:"auto",md:"auto",children:p.jsx(Zn,{label:"Response Code",options:k,value:d.responseCode,onChange:U=>G("responseCode",U),showSelectAllIcon:!0})}),p.jsx(Gt,{item:!0,xs:12,sm:"auto",md:"auto",children:p.jsx(Zn,{label:"PWA Selector",options:O,value:d.pwa,onChange:U=>G("pwa",U),showSelectAllIcon:!0})}),p.jsx(Gt,{item:!0,xs:12,sm:"auto",md:"auto",children:p.jsx(Zn,{label:"Capabilities",options:z,value:d.capabilities,onChange:U=>G("capabilities",U),showSelectAllIcon:!0})})]})]}),b==="advanced"&&p.jsx(Ue,{mt:1,children:p.jsxs(Gt,{container:!0,spacing:1.5,alignItems:"center",children:[p.jsx(Gt,{item:!0,xs:12,sm:"auto",md:"auto",children:p.jsx(ki,{label:"Requester",options:$,value:d.requester,onChange:U=>h(ne=>({...ne,requester:U}))})}),p.jsx(Gt,{item:!0,xs:12,sm:"auto",md:"auto",children:p.jsx(ki,{label:"Job Type",options:H,value:d.jobType,onChange:U=>h(ne=>({...ne,jobType:U}))})}),p.jsx(Gt,{item:!0,xs:12,sm:"auto",md:"auto",children:p.jsx(Gl,{label:"Location Type",options:[{label:"Postcode",value:"postCode"},{label:"Location",value:"location"},{label:"Group Code",value:"groupCode"}],value:d.locationType||null,onChange:U=>h(ne=>({...ne,locationType:U??""}))})}),p.jsx(Gt,{item:!0,xs:12,sm:"auto",md:"auto",children:p.jsx(ki,{label:"Location Value",options:[],value:d.locationValue,onChange:U=>h(ne=>({...ne,locationValue:U}))})}),p.jsx(Gt,{item:!0,xs:12,sm:"auto",md:"auto",children:p.jsx(Gl,{label:"IMP Condition",options:[{label:"Greater Than",value:"greater"},{label:"Less Than",value:"less"}],value:d.scoreCondition||null,onChange:U=>h(ne=>({...ne,scoreCondition:U??""}))})}),p.jsx(Gt,{item:!0,xs:12,sm:"auto",md:"auto",children:p.jsx(ki,{label:"IMP Value",options:[],value:d.scoreValue,onChange:U=>h(ne=>({...ne,scoreValue:U}))})})]})})]}),p.jsx(bA,{anchorEl:_,open:!!_,onClose:()=>P(null),fromDate:d.fromDate,fromTime:d.fromTime,toDate:d.toDate,toTime:d.toTime,onChangeField:(U,ne)=>h(ce=>({...ce,[U]:ne})),onClear:()=>h(U=>({...U,fromDate:"",fromTime:"",toDate:"",toTime:""}))}),p.jsx(Po,{}),p.jsxs(gy,{sx:{px:2,py:1,bgcolor:c.palette.grey[50],display:"flex",justifyContent:"space-between",alignItems:"center"},children:[p.jsxs(Ue,{children:[p.jsx(an,{variant:"outlined",size:"small",onClick:te,endIcon:p.jsx(Xp,{size:16}),sx:{borderRadius:2,textTransform:"none"},children:"More"}),p.jsxs(dc,{anchorEl:w,open:!!w,onClose:J,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:[p.jsx(pn,{onClick:oe,children:i?"Copy":"Copy (empty)"}),p.jsx(pn,{onClick:X,children:i?"Export":"Export (empty)"})]})]}),p.jsxs(ot,{direction:"row",spacing:1,alignItems:"center",children:[!W&&p.jsx(Ge,{variant:"caption",color:"text.secondary",children:"Select Division and Domain ID, or type in the global search."}),p.jsx(an,{variant:"outlined",size:"small",onClick:q,sx:{borderRadius:2,textTransform:"none"},children:"Clear"}),p.jsx(an,{variant:"contained",size:"small",onClick:Z,disabled:!W,sx:{borderRadius:2,textTransform:"none",boxShadow:"none"},children:"Search"})]})]})]})}const Ns={"Operation Toolkit":[{name:"Resource Management",description:"Manage all available resources, teams, and assets."},{name:"Task Management",description:"Oversee and assign operational tasks efficiently."},{name:"Schedule Live",description:"Monitor and adjust live schedules in real-time."},{name:"Schedule Explorer",description:"Browse and analyze upcoming schedules and plans."},{name:"Callout Overview",description:"Review all ongoing and past callout events."},{name:"Callout Launch",description:"Initiate and configure new callout operations."}],"General Settings":[{name:"System Preferences",description:"Modify user-level settings, preferences, and themes."},{name:"API Keys",description:"Manage access tokens and integrations securely."}],"Task Admin":[{name:"Task Type",description:"Define and manage task categories and types."},{name:"Task Routing",description:"Configure task routing and escalation rules."},{name:"Task Importance",description:"Set and manage task priority and importance levels."}],"Jeopardy Admin":[{name:"Alert Definitions",description:"Define and manage all alert templates."},{name:"Alert Action Definition",description:"Configure automated or manual alert responses."},{name:"Alert Parameter Definition",description:"Set up variable parameters and alert thresholds."},{name:"Alert Ranking",description:"Prioritize and rank alerts by severity or impact."},{name:"Alert Exclusion",description:"Manage exceptions and exclusion rules for alerts."}],"Resource Admin":[{name:"Rota Day Record",description:"Manage and track individual rota day records."},{name:"Rota Week Record",description:"Oversee weekly rota summaries and status tracking."},{name:"Rota Template Record",description:"Design and configure rota templates for scheduling."},{name:"Closure User Group",description:"Administer closure groups for specific operations."},{name:"Access Restriction",description:"Set user and role-based access limitations."},{name:"Personal Overtime",description:"Monitor and manage personal overtime records."},{name:"Business Overtime",description:"Control and review business-wide overtime data."}],"Self Service Admin":[{name:"Self Selection Settings Admin",description:"Configure system-wide self-selection settings."},{name:"Self Selection Task Rating Admin",description:"Manage task rating parameters."},{name:"Self Selection Patch Admin",description:"Handle patch management for self-selection."},{name:"Self Selection Work Type Admin",description:"Control available work types."}],"User Admin":[{name:"User Account",description:"Create and manage system user accounts and credentials."},{name:"User ID",description:"View and assign unique user identification numbers."},{name:"Unbar User",description:"Unblock or reinstate restricted user accounts."},{name:"User Role Profile",description:"Define user roles and associated permissions."},{name:"Supervisor Change Password",description:"Allow supervisors to reset/change passwords."}],"Domain Admin":[{name:"Domain Building",description:"Configure and structure operational domains."},{name:"Post Areas",description:"Define post boundaries, checkpoints, and zones."},{name:"Travel Areas",description:"Set travel regions and mobility zones."},{name:"Asset",description:"Manage fixed and movable assets."},{name:"Workforce",description:"Assign and monitor domain workforce allocations."},{name:"Division",description:"Oversee structural divisions."}],"Schedule Admin":[{name:"MSS Admin",description:"Manage and configure the Master Schedule System."},{name:"SRM Admin",description:"Administer SRM modules & permissions."},{name:"SRM Audit",description:"Audit SRM changes and scheduling history."}],"System Admin":[{name:"Algorithm Parameters",description:"Configure algorithm behaviors & weights."},{name:"System Code Editor",description:"Maintain scripts, triggers & automation."},{name:"Record Audit",description:"Review detailed audit trails."},{name:"Public Holiday",description:"Manage holiday dates affecting schedules."},{name:"General Travel Times",description:"Configure default travel time settings."}]};Object.entries(Ns).flatMap(([e,t])=>t.map(o=>({...o,menuLabel:e})));function wA(){const e=l.useRef(null),[t,o]=l.useState(null),[r,i]=l.useState(null),[a,c]=l.useState([]),d=520,h=720,v=16,m=24,f=1900,g=1e3,b=900,x=760,w=820,C=(D,V)=>{const A=window.screen.availWidth,k=window.screen.availHeight;if(D==="resource"){const H=Math.min(x,A-40,f),B=Math.min(w,k-80,g);return{width:H,height:B}}if(V===1){const H=Math.min(h+m*2,A-40,f),B=Math.min(b,k-80,g);return{width:H,height:B}}const F=Math.min(V,3),z=d*F+v*(F-1)+m*2,O=Math.min(z,A-40,f),$=Math.min(g,k-80);return{width:O,height:$}},_=l.useCallback(()=>{const D=e.current;D&&!D.closed&&D.close(),e.current=null,o(null),i(null),c([])},[]),P=l.useCallback((D,V,A)=>{if(!D||D.length===0)return;e.current&&!e.current.closed&&e.current.close();const{width:k,height:F}=C("tasks",D.length),z=window.screen.availWidth,O=window.screen.availHeight,$=Math.max(0,(z-k)/2),H=Math.max(0,(O-F)/2),B=`
        width=${k},
        height=${F},
        left=${$},
        top=${H},
        toolbar=0,
        menubar=0,
        location=0,
        status=0,
        scrollbars=1,
        resizable=1
      `,I=window.open("/popup.html","_blank",B);if(!I)return;e.current=I;const M={mode:"tasks",tasks:D,expanded:a};I.__POPUP_DATA__=M,I.__POPUP_CLOSE__=()=>_(),I.onload=()=>{try{I.__POPUP_DATA__=M}catch{}},i(D),c([]),o(null)},[a,_]),R=l.useCallback((D,V)=>{if(!D)return;e.current&&!e.current.closed&&e.current.close();const{width:A,height:k}=C("resource",1),F=window.screen.availWidth,z=window.screen.availHeight,O=Math.max(0,(F-A)/2),$=Math.max(0,(z-k)/2),H=`
        width=${A},
        height=${k},
        left=${O},
        top=${$},
        toolbar=0,
        menubar=0,
        location=0,
        status=0,
        scrollbars=1,
        resizable=1
      `,B=window.open("/popup.html","_blank",H);if(!B)return;e.current=B;const I={mode:"resource",resource:D,history:V,expanded:[]};B.__POPUP_DATA__=I,B.__POPUP_CLOSE__=()=>_(),B.onload=()=>{try{B.__POPUP_DATA__=I}catch{}},i(null),c([]),o(null)},[_]);return{externalContainer:t,externalTasks:r,externalExpandedSections:a,openExternalWindow:P,openResourceWindow:R,closeExternalWindow:_,setExternalExpandedSections:c}}const kp=[{id:"DEMO-001",taskId:"RG-AB30001",workId:"WK-790218",resourceId:"SWBXA12",outcome:"CalloutDispatchedAWI",status:"Dispatched (AWI)",availableAgainAt:null,note:"John Evans (SWBXA12) outcome set to Callout â†’ Dispatched (AWI).",timestamp:"2025-12-08T11:00:00.000Z"},{id:"DEMO-002",taskId:"RG-AB30002",workId:"WK-729320",resourceId:"QWERB33",outcome:"Unavailable",status:"Awaiting Resource",availableAgainAt:"2025-12-08T13:30:00.000Z",note:"Ffion Hughes (QWERB33) outcome set to Unavailable.",timestamp:"2025-12-08T10:51:00.000Z"},{id:"DEMO-003",taskId:"RG-AB30003",workId:"WK-703093",resourceId:"PLMKC14",outcome:"NoReply",status:"Callout Failed",availableAgainAt:null,note:"Owain Roberts (PLMKC14) outcome set to No Reply.",timestamp:"2025-12-08T10:42:00.000Z"},{id:"DEMO-004",taskId:"RG-AB30004",workId:"WK-746808",resourceId:"GHJTQ55",outcome:"AssignDispatchedAWI",status:"Dispatched (AWI)",availableAgainAt:null,note:"Carys Morgan (GHJTQ55) outcome set to Assignment â†’ Dispatched (AWI).",timestamp:"2025-12-08T10:33:00.000Z"},{id:"DEMO-005",taskId:"RG-AB30005",workId:"WK-734734",resourceId:"MNBGD82",outcome:"Disturbance",status:"Incident Flagged",availableAgainAt:null,note:"Rhys Davies (MNBGD82) outcome set to Disturbance.",timestamp:"2025-12-08T10:24:00.000Z"},{id:"DEMO-006",taskId:"RG-AB30006",workId:"WK-728071",resourceId:"LKJHF22",outcome:"CalloutDispatchedAWI",status:"Dispatched (AWI)",availableAgainAt:null,note:"Lowri Jenkins (LKJHF22) outcome set to Callout â†’ Dispatched (AWI).",timestamp:"2025-12-08T10:15:00.000Z"},{id:"DEMO-007",taskId:"RG-AB30007",workId:"WK-781809",resourceId:"ASDFR91",outcome:"Refusal",status:"Refused",availableAgainAt:null,note:"Tomos Hughes (ASDFR91) outcome set to Refusal.",timestamp:"2025-12-08T10:06:00.000Z"},{id:"DEMO-008",taskId:"RG-AB30008",workId:"WK-764130",resourceId:"ZXCVS67",outcome:"CalloutDispatchedAWI",status:"Dispatched (AWI)",availableAgainAt:null,note:"Bethan Evans (ZXCVS67) outcome set to Callout â†’ Dispatched (AWI).",timestamp:"2025-12-08T09:57:00.000Z"},{id:"DEMO-009",taskId:"RG-AB30009",workId:"WK-797851",resourceId:"BNMAS49",outcome:"Refusal",status:"Refused",availableAgainAt:null,note:"Steffan Price (BNMAS49) outcome set to Refusal.",timestamp:"2025-12-08T09:48:00.000Z"},{id:"DEMO-010",taskId:"RG-AB30010",workId:"WK-728959",resourceId:"POIUY73",outcome:"Disturbance",status:"Incident Flagged",availableAgainAt:null,note:"Aled Thomas (POIUY73) outcome set to Disturbance.",timestamp:"2025-12-08T09:39:00.000Z"},{id:"DEMO-011",taskId:"RG-AB30011",workId:"WK-775917",resourceId:"UJMKL89",outcome:"CalloutDispatchedAWI",status:"Dispatched (AWI)",availableAgainAt:null,note:"Lauren Evans (UJMKL89) outcome set to Callout â†’ Dispatched (AWI).",timestamp:"2025-12-08T09:30:00.000Z"},{id:"DEMO-012",taskId:"RG-AB30012",workId:"WK-758165",resourceId:"KJHGF02",outcome:"CalloutDispatchedAWI",status:"Dispatched (AWI)",availableAgainAt:null,note:"Nia James (KJHGF02) outcome set to Callout â†’ Dispatched (AWI).",timestamp:"2025-12-08T09:21:00.000Z"},{id:"DEMO-013",taskId:"RG-AB30013",workId:"WK-790116",resourceId:"RTYHN44",outcome:"NoReply",status:"Callout Failed",availableAgainAt:null,note:"Chloe Davies (RTYHN44) outcome set to No Reply.",timestamp:"2025-12-08T09:12:00.000Z"},{id:"DEMO-014",taskId:"RG-AB30014",workId:"WK-785274",resourceId:"SDNEW21",outcome:"Refusal",status:"Refused",availableAgainAt:null,note:"Gareth Bowen (SDNEW21) outcome set to Refusal.",timestamp:"2025-12-08T09:03:00.000Z"},{id:"DEMO-015",taskId:"RG-AB30015",workId:"WK-703787",resourceId:"SDNEW22",outcome:"Unavailable",status:"Awaiting Resource",availableAgainAt:"2025-12-08T20:00:00.000Z",note:"Megan Griffiths (SDNEW22) outcome set to Unavailable.",timestamp:"2025-12-08T08:54:00.000Z"},{id:"DEMO-016",taskId:"RG-AB30016",workId:"WK-723933",resourceId:"SDNEW23",outcome:"CalloutDispatchedAWI",status:"Dispatched (AWI)",availableAgainAt:null,note:"Ieuan Watkins (SDNEW23) outcome set to Callout â†’ Dispatched (AWI).",timestamp:"2025-12-08T08:45:00.000Z"},{id:"DEMO-017",taskId:"RG-AB30017",workId:"WK-705434",resourceId:"SDNEW24",outcome:"AssignDispatchedAWI",status:"Dispatched (AWI)",availableAgainAt:null,note:"Seren Powell (SDNEW24) outcome set to Assignment â†’ Dispatched (AWI).",timestamp:"2025-12-08T08:36:00.000Z"},{id:"DEMO-018",taskId:"RG-AB30018",workId:"WK-772532",resourceId:"SDNEW25",outcome:"Unavailable",status:"Awaiting Resource",availableAgainAt:"2025-12-08T21:30:00.000Z",note:"Rhys Llewellyn (SDNEW25) outcome set to Unavailable.",timestamp:"2025-12-08T08:27:00.000Z"},{id:"DEMO-019",taskId:"RG-AB30019",workId:"WK-765705",resourceId:"SDNEW26",outcome:"Refusal",status:"Refused",availableAgainAt:null,note:"Catrin Rees (SDNEW26) outcome set to Refusal.",timestamp:"2025-12-08T08:18:00.000Z"},{id:"DEMO-020",taskId:"RG-AB30020",workId:"WK-731785",resourceId:"SDNEW27",outcome:"Disturbance",status:"Incident Flagged",availableAgainAt:null,note:"Gwenllian Thomas (SDNEW27) outcome set to Disturbance.",timestamp:"2025-12-08T08:09:00.000Z"},{id:"DEMO-021",taskId:"RG-AB30021",workId:"WK-716640",resourceId:"FJNEW28",outcome:"CalloutDispatchedAWI",status:"Dispatched (AWI)",availableAgainAt:null,note:"Eleri Hopkins (FJNEW28) outcome set to Callout â†’ Dispatched (AWI).",timestamp:"2025-12-08T08:00:00.000Z"},{id:"DEMO-022",taskId:"RG-AB30022",workId:"WK-783470",resourceId:"FJNEW29",outcome:"PendingACT",status:"Assigned (ACT)",availableAgainAt:null,note:"Geraint Morgan (FJNEW29) outcome set to Pending Callout â†’ Assigned (ACT).",timestamp:"2025-12-08T07:51:00.000Z"},{id:"DEMO-023",taskId:"RG-AB30023",workId:"WK-736499",resourceId:"FJNEW30",outcome:"CalloutDispatchedAWI",status:"Dispatched (AWI)",availableAgainAt:null,note:"Non Davies (FJNEW30) outcome set to Callout â†’ Dispatched (AWI).",timestamp:"2025-12-08T07:42:00.000Z"}];function xf(e){if(!e)return null;const t=typeof e.resourceId=="string"?e.resourceId:String(e.resourceId??"").trim();if(!t)return null;const o=typeof e.id=="string"?e.id:String(e.id??`${t}-${Date.now()}`),r=typeof e.timestamp=="string"&&e.timestamp?e.timestamp:new Date().toISOString();return{id:o,taskId:e.taskId??null,workId:e.workId??null,resourceId:t,outcome:e.outcome??"",status:e.status??null,availableAgainAt:e.availableAgainAt??null,note:e.note??null,timestamp:r}}function Mp(){const t=(Array.isArray(kp)?kp:[]).map(o=>xf(o)).filter(o=>!!o);return t.sort((o,r)=>{const i=Date.parse(o.timestamp),a=Date.parse(r.timestamp),c=!Number.isNaN(i),d=!Number.isNaN(a);return c&&d?a-i:c?-1:d?1:0}),t}function SA(){const[e,t]=l.useState(()=>Mp()),[o,r]=l.useState(!1),[i,a]=l.useState(null),c=l.useCallback(async()=>(r(!0),a(null),new Promise(m=>{setTimeout(()=>{t(Mp()),r(!1),m()},120)})),[]),d=l.useCallback(m=>{t(f=>{const g=xf(m);if(!g)return f;const b=f.filter(x=>x.id!==g.id);return[g,...b]})},[]),h=l.useCallback(m=>{if(!m&&m!==0)return[];const f=String(m);return e.filter(g=>String(g.taskId??"")===f)},[e]),v=l.useCallback(m=>{if(!m&&m!==0)return[];const f=String(m);return e.filter(g=>String(g.workId??"")===f)},[e]);return l.useMemo(()=>({history:e,loading:o,error:i,refresh:c,appendLocal:d,getByTaskId:h,getByWorkId:v}),[d,i,h,v,e,o,c])}const Ol={"Operation Toolkit":hc,"General Settings":Ji,"Task Admin":Ca,"Jeopardy Admin":pc,"Resource Admin":xa,"Self Service Admin":Ji,"User Admin":Yp,"Domain Admin":Qp,"Schedule Admin":eh,"System Admin":th},Bs={taskId:"Task ID",taskStatus:"Task Status",taskType:"Task Type",primarySkill:"Primary Skill",importanceScore:"Importance Score",msc:"MSC",taskCreated:"Task Created",groupCode:"Group Code",systemType:"System Type",employeeId:"Employee ID",resourceName:"Resource Name",asset:"Asset",assetName:"Asset Name",commitmentDate:"Commitment Date",commitmentType:"Commitment Type",arrivedAtDate:"Arrived At Date",domain:"Domain",estimatedDuration:"Estimated Duration",lastProgression:"Last Progression",category:"Category",description:"Description",responseCode:"Response Code",postCode:"Post Code",appointmentStartDate:"Appointment Start Date",linkedTask:"Linked Task",customerAddress:"Customer Address",expectedStartDate:"Expected Start Date",expectedFinishDate:"Expected Finish Date",externalQueueId:"External Queue Id",workId:"Work Id",estimateNumber:"Estimate Number",startDate:"Start Date"},_A=["Work Details","Commitments / Customer / Location","Scheduling / Resources","Access Restrictions","Job Notes","Progress Notes","Closure"],PA=jn(Kp);function IA(e,t){var r,i,a,c,d,h,v,m,f;let o=[...e];if((r=t.taskSearch)!=null&&r.trim()){const g=t.taskSearch.toLowerCase();o=o.filter(b=>[b.taskId,b.resourceName,b.workId,b.assetName,b.description].join(" ").toLowerCase().includes(g))}if((i=t.division)!=null&&i.length&&(o=o.filter(g=>t.division.includes(g.groupCode))),(a=t.domainId)!=null&&a.length&&(o=o.filter(g=>t.domainId.includes(String(g.domain||"").toUpperCase()))),(c=t.taskStatuses)!=null&&c.length&&(o=o.filter(g=>t.taskStatuses.includes(g.taskStatus))),(d=t.responseCode)!=null&&d.length&&(o=o.filter(g=>t.responseCode.includes(g.responseCode))),(h=t.requester)!=null&&h.trim()){const g=t.requester.toLowerCase();o=o.filter(b=>String(b.resourceName||"").toLowerCase().includes(g))}if((v=t.commitType)!=null&&v.length&&(o=o.filter(g=>t.commitType.includes(g.commitmentType))),(m=t.capabilities)!=null&&m.length&&(o=o.filter(g=>t.capabilities.includes(g.primarySkill))),(f=t.jobType)!=null&&f.trim()){const g=t.jobType.toLowerCase();o=o.filter(b=>String(b.taskType||"").toLowerCase().includes(g))}return o}function TA(e,t){return`
    <table border="1" cellpadding="4" cellspacing="0">
      <thead><tr>${e.map(o=>`<th>${Bs[o]}</th>`).join("")}</tr></thead>
      <tbody>${t.map(o=>`<tr>${e.map(r=>`<td>${o[r]??""}</td>`).join("")}</tr>`).join("")}</tbody>
    </table>`}function kA(e,t){const o=e.map(i=>Bs[i]).join(","),r=t.map(i=>e.map(a=>i[a]??"").join(","));return[o,...r].join(`
`)}const Cf=l.memo(({currentMenu:e,windowWidth:t,searchQuery:o,setSearchQuery:r,globalResults:i,showDropdown:a,setShowDropdown:c,onSelectResult:d,onToggleSidebar:h,overrideTitle:v,whiteBackground:m=!1})=>{const f=Jt(),g=l.useMemo(()=>v||(e!=null&&e.label?t<950?e.label.split(" ")[0]:e.label:"Dashboard"),[e,t]);return p.jsx(kv,{position:"sticky",color:m?"default":"primary",sx:{zIndex:f.zIndex.drawer+1,boxShadow:m?"0 4px 10px rgba(2,6,23,0.06)":"0 18px 35px rgba(0,0,0,0.22)",backgroundColor:m?f.palette.background.paper:void 0,"&::after":m?void 0:{content:'""',position:"absolute",left:0,right:0,bottom:-10,height:10,background:`linear-gradient(to bottom, ${me(f.palette.common.black,.18)}, transparent)`,pointerEvents:"none"}},children:p.jsxs(fh,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",minHeight:70,px:{xs:2,sm:3}},children:[p.jsxs(Ue,{sx:{display:"flex",alignItems:"center",gap:2},children:[p.jsx(mn,{edge:"start",onClick:h,sx:{width:f.spacing(5.5),height:f.spacing(5.5),borderRadius:2,bgcolor:me(f.palette.common.white,.12),color:f.palette.common.white,"&:hover":{bgcolor:me(f.palette.common.white,.2)}},children:p.jsx(Qg,{size:26,strokeWidth:3})}),p.jsx(Ge,{variant:"h6",sx:{fontWeight:600,letterSpacing:.2,display:{xs:"none",sm:"block"}},children:g})]}),p.jsxs(Ue,{sx:{display:"flex",alignItems:"center",gap:3},children:[p.jsxs(Ue,{sx:{position:"relative",minWidth:{xs:f.spacing(20),sm:f.spacing(24)}},children:[p.jsx(_n,{value:o,size:"small",onChange:b=>r(b.target.value),onFocus:()=>c(i.length>0),placeholder:"Search anywhere...",variant:"outlined",InputProps:{startAdornment:p.jsx(Qs,{position:"start",children:p.jsx(wa,{size:18,color:m?me(f.palette.text.primary,.45):me(f.palette.common.white,.75)})}),sx:{color:m?f.palette.text.primary:f.palette.common.white,"& .MuiOutlinedInput-notchedOutline":{borderColor:m?me(f.palette.text.primary,.12):me(f.palette.common.white,.3)},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:m?me(f.palette.text.primary,.2):me(f.palette.common.white,.5)},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:m?me(f.palette.primary.main,.32):me(f.palette.common.white,.6)},"& input::placeholder":{color:m?me(f.palette.text.primary,.45):me(f.palette.common.white,.7)},backgroundColor:m?me(f.palette.background.paper,.92):me(f.palette.common.white,.1),borderRadius:2}},sx:{width:{xs:210,sm:520}}}),p.jsx(Ui,{in:a&&i.length>0,timeout:120,unmountOnExit:!0,children:p.jsx(Nt,{elevation:8,sx:{position:"absolute",right:0,left:0,mt:1,borderRadius:2,overflow:"hidden",zIndex:f.zIndex.tooltip},children:p.jsx(Zp,{dense:!0,disablePadding:!0,children:i.map((b,x)=>p.jsx(Up,{onMouseDown:()=>d(b),sx:{alignItems:"flex-start"},children:p.jsx(ro,{primary:p.jsx(Ge,{variant:"subtitle2",fontWeight:600,children:b.name}),secondary:p.jsx(Ge,{component:"span",variant:"caption",sx:{color:"text.secondary"},children:b.category})})},x))})})})]}),p.jsx(ny,{sx:{width:f.spacing(5.25),height:f.spacing(5.25),bgcolor:me(f.palette.common.black,.85),border:`1px solid ${me(f.palette.common.white,.25)}`,boxShadow:"0px 0px 0px 2px rgba(255,255,255,0.08)"},children:p.jsx(ev,{size:18,color:"#FFFFFF"})})]})]})})});Cf.displayName="Header";const wf=l.memo(({currentMenu:e,filteredItems:t,windowWidth:o,onCardClick:r})=>{var c;const i=Jt(),a=((c=e==null?void 0:e.label)==null?void 0:c.split(" ")[0])??"Dashboard";return p.jsxs(Ue,{sx:{width:"100%",maxWidth:{xs:"100%",md:"1200px"},mx:"auto",px:{xs:3,sm:6,md:8},py:{xs:6,md:8}},children:[p.jsxs(Ue,{textAlign:"center",mb:6,children:[p.jsxs(Ue,{sx:{display:"flex",alignItems:"center",justifyContent:"center",gap:2,mb:1.5},children:[Kn.createElement((e==null?void 0:e.icon)||Ni,{size:32,color:i.palette.primary.main}),p.jsx(Ge,{component:"h1",variant:"h4",fontWeight:700,children:o<950?a:e==null?void 0:e.label})]}),p.jsx(Ge,{variant:"body2",color:"text.secondary",children:e!=null&&e.label?`${e.label} Overview`:"Overview of your workspace"})]}),p.jsx(wr,{mode:"wait",children:p.jsx(jn.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},exit:{opacity:0,y:-12},transition:{duration:.25},children:p.jsx(Gt,{container:!0,spacing:{xs:3,md:4},justifyContent:"center",children:t.length?t.map((d,h)=>p.jsx(Gt,{item:!0,xs:12,sm:6,md:4,children:p.jsx(PA,{whileHover:{scale:1.02},transition:{duration:.2},elevation:3,children:p.jsx(py,{onClick:()=>r(d),children:p.jsxs(Jp,{sx:{minHeight:150,display:"flex",flexDirection:"column",gap:1.5,textAlign:"center",px:4,py:3},children:[p.jsx(Ge,{variant:"h6",fontWeight:600,children:d.name}),p.jsx(Ge,{variant:"body2",color:"text.secondary",children:d.description})]})})})},h)):p.jsx(Gt,{item:!0,xs:12,children:p.jsx(Nt,{variant:"outlined",sx:{py:8,textAlign:"center",color:"text.secondary"},children:p.jsx(Ge,{variant:"body2",children:"No results found."})})})})},(e==null?void 0:e.label)||"default")})]})});wf.displayName="MainContent";function MA(){const e="Operation Toolkit",[t,o]=l.useState({label:e,icon:Ol[e]||Ni}),[r,i]=l.useState(Ns[e]||[]),[a,c]=l.useState(null),[d,h]=l.useState(""),[v,m]=l.useState([]),[f,g]=l.useState(!1),[b,x]=l.useState(""),[w,C]=l.useState(""),[_,P]=l.useState(window.innerWidth),[R,D]=l.useState(window.innerHeight),[V,A]=l.useState(1),[k,F]=l.useState([]),[z,O]=l.useState([]),[$,H]=l.useState(!1),[B,I]=l.useState([]),[M,j]=l.useState(!1),W=l.useMemo(()=>{const Ce=B.map(Q=>Q.calloutGroup).filter(Q=>!!Q);return Array.from(new Set(Ce)).sort()},[B]),[E,G]=l.useState([]),{externalContainer:Z,externalTasks:q,externalExpandedSections:te,openExternalWindow:J,openResourceWindow:oe,closeExternalWindow:X,setExternalExpandedSections:U}=wA(),[ne,ce]=l.useState(!1),[ve,fe]=l.useState(null);l.useEffect(()=>()=>X(),[X]),l.useEffect(()=>{const Ce=Q=>{const Fe=Q.detail||{},yt=Fe.taskId,lt=Fe.workId;let Ye;if(yt){const he=String(yt);Ye=k.find(xe=>{const Se=(xe==null?void 0:xe.taskId)??(xe==null?void 0:xe.TaskID)??(xe==null?void 0:xe.TaskId)??(xe==null?void 0:xe.id)??null;return Se!=null&&String(Se)===he})}if(!Ye&&lt){const he=String(lt);Ye=k.find(xe=>{const Se=(xe==null?void 0:xe.workId)??(xe==null?void 0:xe.WorkID)??(xe==null?void 0:xe.WorkId)??(xe==null?void 0:xe.workID)??null;return Se!=null&&String(Se)===he})}if(!Ye)return;U(["Progress Notes"]);const ft=window.innerWidth/2,ge=window.innerHeight/2;J([Ye],ft,ge)};return window.addEventListener("taskforce:view-progress-notes",Ce),()=>{window.removeEventListener("taskforce:view-progress-notes",Ce)}},[k,J,U]),l.useEffect(()=>{const Ce=Q=>{var ft;const Fe=((ft=Q.detail)==null?void 0:ft.items)??[];if(!Fe.length)return;const yt=new Map;for(const ge of Fe)ge!=null&&ge.taskId&&yt.set(String(ge.taskId),ge);if(!yt.size)return;const lt=(ge,he)=>{const xe={ts:he.timestamp,status:he.nextStatus||he.previousStatus||"Updated",text:he.note,source:"Quick Progress"},Se=ge.progressNotes;return Array.isArray(Se)?[...Se,xe]:typeof Se=="string"&&Se.trim()?[{ts:ge.taskCreated??he.timestamp,status:ge.taskStatus??ge.status??"",text:Se.trim(),source:"Imported"},xe]:[xe]},Ye=ge=>ge.map(he=>{const xe=(he==null?void 0:he.taskId)??(he==null?void 0:he.TaskID)??(he==null?void 0:he.TaskId)??(he==null?void 0:he.id)??(he==null?void 0:he.ID)??(he==null?void 0:he.Id)??null;if(xe==null)return he;const Se=yt.get(String(xe));if(!Se)return he;const pt=Se.nextStatus||he.taskStatus||he.status;return{...he,taskStatus:pt,lastProgression:pt||he.lastProgression,updatedAt:Se.timestamp,progressNotes:lt(he,Se)}});F(ge=>Ye(ge)),O(ge=>Ye(ge))};return document.addEventListener("taskforce:tasks-progressed",Ce),()=>{document.removeEventListener("taskforce:tasks-progressed",Ce)}},[F,O]);const[ke,_e]=l.useState(!1),[le,ye]=l.useState([]),[Te,De]=l.useState(null),{history:ie,loading:Pe,error:Me,refresh:$e,appendLocal:Ke}=SA(),Ne=l.useCallback(Ce=>{fe(Ce),_e(!1),ce(!0)},[]);l.useEffect(()=>{F(Cn),H(!0)},[]),l.useEffect(()=>{try{I(bh),j(!0)}catch{Vt.error("Error loading resource data.")}},[]),l.useEffect(()=>{const Ce=()=>{const lt=window.innerHeight*.01;document.documentElement.style.setProperty("--vh",`${lt}px`)},Q=()=>{P(window.innerWidth),D(window.innerHeight),Ce();const lt=window.innerHeight,Ye=Math.max(.75,Math.min(1,lt/900));A(Number(Ye.toFixed(2))),document.documentElement.style.setProperty("--ui-scale",String(Ye));const ft=Math.max(13,Math.min(16,Math.round(lt/60)));document.documentElement.style.fontSize=`${ft}px`};Ce();const pe=window.innerHeight,Fe=Math.max(.75,Math.min(1,pe/900));A(Number(Fe.toFixed(2))),document.documentElement.style.setProperty("--ui-scale",String(Fe));const yt=Math.max(13,Math.min(16,Math.round(pe/60)));return document.documentElement.style.fontSize=`${yt}px`,window.addEventListener("resize",Q),()=>window.removeEventListener("resize",Q)},[]);const be=l.useMemo(()=>Object.entries(Ns).flatMap(([Ce,Q])=>Q.map(pe=>({...pe,category:Ce}))),[]);l.useEffect(()=>{if(!d.trim()){m([]),g(!1);return}const Ce=be.filter(Q=>Q.name.toLowerCase().includes(d.toLowerCase()));m(Ce),g(Ce.length>0)},[d,be]);const Ie=l.useCallback(Ce=>{const Q=Ce.label;o({label:Q,icon:Ol[Q]||Ni}),i(Ns[Q]||[]),O([]),c(null),h(""),m([]),g(!1)},[]),Le=l.useCallback(Ce=>{Ce.name==="Task Management"&&(c("TaskManagement"),O([])),Ce.name==="Schedule Live"&&c("ScheduleLive")},[]),Ve=l.useCallback(Ce=>{if(!$){Vt.error("Data not loaded yet.");return}const Q=IA(k,Ce);if(Q.length===0){O([]),Vt.error("No matching tasks found.");return}O(Q)},[k,$]),Qe=l.useCallback(()=>{O([]),G([]),Vt.success("Filters cleared.",{id:"clear-toast",icon:"ðŸ§¹"})},[]),rt=z.length>0,et=l.useCallback(async()=>{if(!rt){Vt.error("No data to copy.");return}const Ce=Object.keys(Bs),Q=TA(Ce,z);await navigator.clipboard.writeText(Q),Vt.success("Copied",{icon:"ðŸ“‹"})},[z,rt]),Je=l.useCallback(()=>{if(!rt){Vt.error("No data to export.");return}const Ce=Object.keys(Bs),Q=kA(Ce,z),pe=new Blob([Q],{type:"text/csv;charset=utf-8;"}),Fe=document.createElement("a");Fe.href=URL.createObjectURL(pe),Fe.download="FilteredTasks.csv",Fe.click(),Vt.success("Exported",{icon:"ðŸ’¾"})},[z,rt]),Pt=l.useCallback(Ce=>{h(""),g(!1);const Q=Ce.category,pe=Ns[Q]||[];o({label:Q,icon:Ol[Q]||Ni}),i(pe),c(Ce.name==="Task Management"?"TaskManagement":null)},[]);l.useMemo(()=>{const Ce=new Set;return Cn.forEach(Q=>{const pe=String(Q.domain||"").toUpperCase();pe&&Ce.add(pe)}),Array.from(Ce).sort()},[]),l.useMemo(()=>{const Ce=new Set;return Cn.forEach(Q=>{const pe=String(Q.groupCode||"").toUpperCase();pe&&Ce.add(pe)}),Array.from(Ce).sort()},[]),l.useCallback(Ce=>{x(Ce)},[]),l.useCallback(Ce=>{C(Ce)},[]);const ct=l.useCallback((Ce,Q,pe)=>{!Ce||Ce.length===0||J(Ce,Q,pe)},[J]),it=l.useCallback((Ce,Q)=>{if(!Ce)return;const pe=Q.length?Q:ie.filter(Fe=>Fe.resourceId===Ce.resourceId);oe(Ce,pe)},[ie,oe]),jt=l.useCallback(()=>{if(!ve)return;const Ce=window.innerWidth/2,Q=window.innerHeight/2;J([ve],Ce,Q)},[ve,J]),Ot=(Ce,Q)=>{switch(Q){case"AssignDispatchedAWI":case"CalloutDispatchedAWI":return"Dispatched (AWI)";case"PendingACT":return"Assigned (ACT)";case"Disturbance":case"NoReply":return"Callout Failed";case"Refusal":return"Refused";case"Unavailable":return"Awaiting Resource";default:return Ce}},Ht=(Ce,Q)=>{switch(Q){case"AssignDispatchedAWI":case"CalloutDispatchedAWI":return"Busy";case"PendingACT":return"Pending";case"Disturbance":return"Flagged";case"NoReply":return"No Reply";case"Refusal":return"Refused";case"Unavailable":return"Unavailable";default:return Ce||"Available"}},qt=l.useCallback(async Ce=>{const{taskId:Q,resourceId:pe,outcome:Fe,availableAgainAt:yt}=Ce,lt=new Date().toISOString(),Ye=xe=>{if(!xe)return null;try{const Se=new Date(xe);if(Number.isNaN(Se.getTime()))return xe;const pt=String(Se.getDate()).padStart(2,"0"),Ct=String(Se.getMonth()+1).padStart(2,"0"),Re=Se.getFullYear(),Xt=String(Se.getHours()).padStart(2,"0"),xn=String(Se.getMinutes()).padStart(2,"0");return`${pt}/${Ct}/${Re} ${Xt}:${xn}`}catch{return xe}},ft=(xe,Se)=>Se?[...Array.isArray(xe.progressNotes)?[...xe.progressNotes]:typeof xe.progressNotes=="string"&&xe.progressNotes.trim()?[{ts:xe.taskCreated||lt,status:"",text:xe.progressNotes.trim(),source:"Imported"}]:[],Se]:xe.progressNotes;let ge=null;I(xe=>xe.map(Se=>{if(Se.resourceId!==pe)return Se;const pt=Se.lastOutcome??null,Ct=Se.availableAgainAt??null;return{...Se,status:Ht(Se.status,Fe),lastOutcome:Fe,availableAgainAt:Fe==="Unavailable"?yt??null:null,history:[...Se.history??[],{previousOutcome:pt,previousAvailableAgainAt:Ct,changedAt:lt,taskIdUsed:Q??null,outcomeApplied:Fe,availableAgainAt:Fe==="Unavailable"?yt??null:null}]}}));const he=xe=>xe.map(Se=>{var hn;if(Se.taskId!==Q)return Se;const pt=Se.taskStatus,Ct=Se.employeeId??null,Re=Ot(Se.taskStatus,Fe),Xt=Se.resourceName?`${Se.resourceName} (${pe})`:pe,xn=((hn=Bg[Fe])==null?void 0:hn.label)??String(Fe);let zt=null,It=`${Xt} outcome set to ${xn}.`;if(Q){if(Fe==="Unavailable"){const Hn=Ye(yt);zt={ts:lt,status:"Unavailable",text:Hn?`${Xt} marked unavailable. Next availability ${Hn}.`:`${Xt} marked unavailable.`,source:"Callout"},It=zt.text}else Re&&Re.includes("AWI")&&(zt={ts:lt,status:Fe,text:`${Xt} set to ${xn}.`,source:"Callout"},It=zt.text);ge||(ge={taskId:Q,workId:Se.workId??null,resourceId:pe,outcome:Fe,status:Re??null,availableAgainAt:Fe==="Unavailable"?yt??null:null,note:It,timestamp:lt})}return{...Se,taskStatus:Re,employeeId:pe,lastOutcome:Fe,availableAgainAt:Fe==="Unavailable"?yt??null:null,updatedAt:lt,history:[...Se.history??[],{previousTaskStatus:pt,previousEmployeeId:Ct,changedAt:lt,outcomeApplied:Fe,resourceIdUsed:pe,availableAgainAt:Fe==="Unavailable"?yt??null:null}],progressNotes:ft(Se,zt)}});if(F(xe=>he(xe)),O(xe=>he(xe)),ge){const xe=ge,Se={id:`SESSION-${pe}-${Date.now()}`,...xe};Ke(Se)}},[Ke]),ln=l.useCallback(Ce=>{U(Q=>Q.includes(Ce)?Q.filter(pe=>pe!==Ce):[...Q,Ce])},[U]),rn=l.useCallback(()=>{U(_A)},[U]),en=l.useCallback(()=>{U([])},[U]);return p.jsxs(Ue,{sx:{position:"relative",overflow:"hidden",bgcolor:"background.default",color:"text.primary",fontFamily:'"Inter", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif',width:"100%",height:"100vh",minHeight:0,minWidth:0,display:"flex",flexDirection:"row",overflowX:"hidden"},children:[p.jsx(aA,{position:"top-center"}),p.jsx(pA,{currentMenu:t,onMenuClick:Ie,activeSubPage:a}),p.jsxs(Ue,{component:"main",sx:{display:"flex",flexDirection:"column",minWidth:0,height:"100%",width:"100%"},children:[p.jsx(Cf,{currentMenu:t,windowWidth:_,searchQuery:d,setSearchQuery:h,globalResults:v,showDropdown:f,setShowDropdown:g,onSelectResult:Pt,onToggleSidebar:()=>window.dispatchEvent(new CustomEvent("toggleSidebar"))}),p.jsxs(Ue,{sx:{flex:1,minHeight:0,bgcolor:"background.paper",display:"flex",flexDirection:"column"},children:[a==="TaskManagement"&&p.jsxs(Ue,{component:"section",sx:{py:{xs:3,md:5},px:{xs:2,md:4},display:"flex",flexDirection:"column",gap:0},children:[p.jsx(CA,{onSearch:Ve,onClear:Qe,onCopy:et,onExport:Je,canCopy:rt}),$?z.length>0?p.jsx(Xc,{rows:z,headerNames:Bs,onOpenPopout:ct,onOpenCalloutIncident:Ne,sx:{borderRadius:"0 0 12px 12px",mt:0}}):p.jsx(Nt,{variant:"outlined",sx:{p:6,textAlign:"center",borderStyle:"dashed",borderColor:"divider",bgcolor:"background.default"},children:p.jsxs(Ge,{variant:"body2",color:"text.secondary",children:["No tasks loaded yet. Please apply filters and press ",p.jsx("b",{children:"Search"}),"."]})}):p.jsx(Nt,{variant:"outlined",sx:{p:6,textAlign:"center",color:"text.secondary"},children:p.jsx(Ge,{variant:"body2",children:"Loading task data..."})})]}),a==="ScheduleLive"&&p.jsx(bM,{}),!a&&p.jsx(wf,{currentMenu:t,filteredItems:r,windowWidth:_,onCardClick:Le})]})]}),ke&&p.jsx(D0,{allResources:B,calloutGroups:W,onStart:Ce=>{const pe=B.filter(Fe=>Fe.calloutGroup===Ce).slice(0,6);ye(pe),De(Ce),_e(!1),ce(!0)},onDismiss:()=>{_e(!1),ye([]),De(null)}}),p.jsx($g,{open:ne,task:ve,resources:B,primaryResourceIds:le.map(Ce=>Ce.resourceId),selectedGroup:Te,onOpenResourcePopout:it,onOpenTaskPopout:jt,onClose:()=>{ce(!1),ye([]),De(null)},history:ie,historyLoading:Pe,historyError:Me,onRefreshHistory:$e,onSaveRow:qt}),Z&&q&&q.length>0&&lr.createPortal(p.jsx(jg,{open:!0,tasks:q,expanded:te,onToggleSection:ln,onExpandAll:rn,onCollapseAll:en,onClose:X}),Z)]})}function AA(){return p.jsx(MA,{})}const DA="#0F2740",EA="#304862",RA="#0A1A2A",LA="#3BE089",FA="#1EA46A",Ap="#F3F6F8",OA=Ep({palette:{mode:"light",primary:{main:DA,light:EA,dark:RA,contrastText:"#FFFFFF"},secondary:{main:LA,light:"#7FF2B6",dark:FA,contrastText:"#052035"},background:{default:Ap,paper:"#FFFFFF"},text:{primary:"#0B2233",secondary:"#475569"},divider:"rgba(15, 39, 64, 0.08)"},typography:{fontFamily:'"Inter", "Roboto", "Helvetica", "Arial", sans-serif',h1:{fontWeight:600},h2:{fontWeight:600},h3:{fontWeight:600},button:{textTransform:"none",fontWeight:600},subtitle1:{color:"#394B59"},subtitle2:{color:"#52606D"}},shape:{borderRadius:6},components:{MuiCssBaseline:{styleOverrides:{body:{backgroundColor:Ap}}},MuiPaper:{styleOverrides:{root:{borderRadius:6}}},MuiButton:{styleOverrides:{root:{borderRadius:6}}},MuiCard:{styleOverrides:{root:{borderRadius:8,boxShadow:"0 6px 18px rgba(45, 24, 88, 0.06)"}}},MuiAppBar:{styleOverrides:{root:{boxShadow:"0 6px 12px rgba(0, 0, 0, 0.08)"}}}}});Hg.createRoot(document.getElementById("root")).render(p.jsxs(_v,{theme:OA,children:[p.jsx(Fy,{}),p.jsx(AA,{})]}));
