import{r as x,j as m,c as Ee,C as Nc,a as vf,R as Ht,g as _f,b as xf,U as bf,T as wf,d as Sf}from"./index-CiwGMbqz.js";const rr=x.createContext({});function ar(t){const n=x.useRef(null);return n.current===null&&(n.current=t()),n.current}const lr=typeof window<"u",Ic=lr?x.useLayoutEffect:x.useEffect,As=x.createContext(null);function cr(t,n){t.indexOf(n)===-1&&t.push(n)}function ur(t,n){const s=t.indexOf(n);s>-1&&t.splice(s,1)}const Gt=(t,n,s)=>s>n?n:s<t?t:s;let dr=()=>{};const Jt={},Rc=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function Oc(t){return typeof t=="object"&&t!==null}const jc=t=>/^0[^.\s]+$/u.test(t);function hr(t){let n;return()=>(n===void 0&&(n=t()),n)}const yt=t=>t,Tf=(t,n)=>s=>n(t(s)),Di=(...t)=>t.reduce(Tf),wi=(t,n,s)=>{const o=n-t;return o===0?1:(s-t)/o};class fr{constructor(){this.subscriptions=[]}add(n){return cr(this.subscriptions,n),()=>ur(this.subscriptions,n)}notify(n,s,o){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](n,s,o);else for(let u=0;u<a;u++){const l=this.subscriptions[u];l&&l(n,s,o)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Nt=t=>t*1e3,gt=t=>t/1e3;function zc(t,n){return n?t*(1e3/n):0}const Bc=(t,n,s)=>(((1-3*s+3*n)*t+(3*s-6*n))*t+3*n)*t,Af=1e-7,Cf=12;function Pf(t,n,s,o,a){let u,l,d=0;do l=n+(s-n)/2,u=Bc(l,o,a)-t,u>0?s=l:n=l;while(Math.abs(u)>Af&&++d<Cf);return l}function Li(t,n,s,o){if(t===n&&s===o)return yt;const a=u=>Pf(u,0,1,t,s);return u=>u===0||u===1?u:Bc(a(u),n,o)}const Fc=t=>n=>n<=.5?t(2*n)/2:(2-t(2*(1-n)))/2,Vc=t=>n=>1-t(1-n),Zc=Li(.33,1.53,.69,.99),mr=Vc(Zc),Wc=Fc(mr),Hc=t=>(t*=2)<1?.5*mr(t):.5*(2-Math.pow(2,-10*(t-1))),pr=t=>1-Math.sin(Math.acos(t)),Gc=Vc(pr),Jc=Fc(pr),kf=Li(.42,0,1,1),Mf=Li(0,0,.58,1),Uc=Li(.42,0,.58,1),Df=t=>Array.isArray(t)&&typeof t[0]!="number",$c=t=>Array.isArray(t)&&typeof t[0]=="number",Lf={linear:yt,easeIn:kf,easeInOut:Uc,easeOut:Mf,circIn:pr,circInOut:Jc,circOut:Gc,backIn:mr,backInOut:Wc,backOut:Zc,anticipate:Hc},Ef=t=>typeof t=="string",Ka=t=>{if($c(t)){dr(t.length===4);const[n,s,o,a]=t;return Li(n,s,o,a)}else if(Ef(t))return Lf[t];return t},es=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Nf(t,n){let s=new Set,o=new Set,a=!1,u=!1;const l=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function f(p){l.has(p)&&(g.schedule(p),t()),p(d)}const g={schedule:(p,v=!1,y=!1)=>{const A=y&&a?s:o;return v&&l.add(p),A.has(p)||A.add(p),p},cancel:p=>{o.delete(p),l.delete(p)},process:p=>{if(d=p,a){u=!0;return}a=!0,[s,o]=[o,s],s.forEach(f),s.clear(),a=!1,u&&(u=!1,g.process(p))}};return g}const If=40;function Kc(t,n){let s=!1,o=!0;const a={delta:0,timestamp:0,isProcessing:!1},u=()=>s=!0,l=es.reduce((T,k)=>(T[k]=Nf(u),T),{}),{setup:d,read:f,resolveKeyframes:g,preUpdate:p,update:v,preRender:y,render:b,postRender:A}=l,S=()=>{const T=Jt.useManualTiming?a.timestamp:performance.now();s=!1,Jt.useManualTiming||(a.delta=o?1e3/60:Math.max(Math.min(T-a.timestamp,If),1)),a.timestamp=T,a.isProcessing=!0,d.process(a),f.process(a),g.process(a),p.process(a),v.process(a),y.process(a),b.process(a),A.process(a),a.isProcessing=!1,s&&n&&(o=!1,t(S))},M=()=>{s=!0,o=!0,a.isProcessing||t(S)};return{schedule:es.reduce((T,k)=>{const E=l[k];return T[k]=(z,O=!1,V=!1)=>(s||M(),E.schedule(z,O,V)),T},{}),cancel:T=>{for(let k=0;k<es.length;k++)l[es[k]].cancel(T)},state:a,steps:l}}const{schedule:ze,cancel:tn,state:Qe,steps:fo}=Kc(typeof requestAnimationFrame<"u"?requestAnimationFrame:yt,!0);let as;function Rf(){as=void 0}const at={now:()=>(as===void 0&&at.set(Qe.isProcessing||Jt.useManualTiming?Qe.timestamp:performance.now()),as),set:t=>{as=t,queueMicrotask(Rf)}},Xc=t=>n=>typeof n=="string"&&n.startsWith(t),gr=Xc("--"),Of=Xc("var(--"),yr=t=>Of(t)?jf.test(t.split("/*")[0].trim()):!1,jf=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Jn={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Si={...Jn,transform:t=>Gt(0,1,t)},ts={...Jn,default:1},gi=t=>Math.round(t*1e5)/1e5,vr=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function zf(t){return t==null}const Bf=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,_r=(t,n)=>s=>!!(typeof s=="string"&&Bf.test(s)&&s.startsWith(t)||n&&!zf(s)&&Object.prototype.hasOwnProperty.call(s,n)),qc=(t,n,s)=>o=>{if(typeof o!="string")return o;const[a,u,l,d]=o.match(vr);return{[t]:parseFloat(a),[n]:parseFloat(u),[s]:parseFloat(l),alpha:d!==void 0?parseFloat(d):1}},Ff=t=>Gt(0,255,t),mo={...Jn,transform:t=>Math.round(Ff(t))},vn={test:_r("rgb","red"),parse:qc("red","green","blue"),transform:({red:t,green:n,blue:s,alpha:o=1})=>"rgba("+mo.transform(t)+", "+mo.transform(n)+", "+mo.transform(s)+", "+gi(Si.transform(o))+")"};function Vf(t){let n="",s="",o="",a="";return t.length>5?(n=t.substring(1,3),s=t.substring(3,5),o=t.substring(5,7),a=t.substring(7,9)):(n=t.substring(1,2),s=t.substring(2,3),o=t.substring(3,4),a=t.substring(4,5),n+=n,s+=s,o+=o,a+=a),{red:parseInt(n,16),green:parseInt(s,16),blue:parseInt(o,16),alpha:a?parseInt(a,16)/255:1}}const Io={test:_r("#"),parse:Vf,transform:vn.transform},Ei=t=>({test:n=>typeof n=="string"&&n.endsWith(t)&&n.split(" ").length===1,parse:parseFloat,transform:n=>`${n}${t}`}),qt=Ei("deg"),It=Ei("%"),re=Ei("px"),Zf=Ei("vh"),Wf=Ei("vw"),Xa={...It,parse:t=>It.parse(t)/100,transform:t=>It.transform(t*100)},On={test:_r("hsl","hue"),parse:qc("hue","saturation","lightness"),transform:({hue:t,saturation:n,lightness:s,alpha:o=1})=>"hsla("+Math.round(t)+", "+It.transform(gi(n))+", "+It.transform(gi(s))+", "+gi(Si.transform(o))+")"},$e={test:t=>vn.test(t)||Io.test(t)||On.test(t),parse:t=>vn.test(t)?vn.parse(t):On.test(t)?On.parse(t):Io.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?vn.transform(t):On.transform(t),getAnimatableNone:t=>{const n=$e.parse(t);return n.alpha=0,$e.transform(n)}},Hf=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Gf(t){var n,s;return isNaN(t)&&typeof t=="string"&&(((n=t.match(vr))==null?void 0:n.length)||0)+(((s=t.match(Hf))==null?void 0:s.length)||0)>0}const Yc="number",Qc="color",Jf="var",Uf="var(",qa="${}",$f=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ti(t){const n=t.toString(),s=[],o={color:[],number:[],var:[]},a=[];let u=0;const d=n.replace($f,f=>($e.test(f)?(o.color.push(u),a.push(Qc),s.push($e.parse(f))):f.startsWith(Uf)?(o.var.push(u),a.push(Jf),s.push(f)):(o.number.push(u),a.push(Yc),s.push(parseFloat(f))),++u,qa)).split(qa);return{values:s,split:d,indexes:o,types:a}}function eu(t){return Ti(t).values}function tu(t){const{split:n,types:s}=Ti(t),o=n.length;return a=>{let u="";for(let l=0;l<o;l++)if(u+=n[l],a[l]!==void 0){const d=s[l];d===Yc?u+=gi(a[l]):d===Qc?u+=$e.transform(a[l]):u+=a[l]}return u}}const Kf=t=>typeof t=="number"?0:$e.test(t)?$e.getAnimatableNone(t):t;function Xf(t){const n=eu(t);return tu(t)(n.map(Kf))}const nn={test:Gf,parse:eu,createTransformer:tu,getAnimatableNone:Xf};function po(t,n,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?t+(n-t)*6*s:s<1/2?n:s<2/3?t+(n-t)*(2/3-s)*6:t}function qf({hue:t,saturation:n,lightness:s,alpha:o}){t/=360,n/=100,s/=100;let a=0,u=0,l=0;if(!n)a=u=l=s;else{const d=s<.5?s*(1+n):s+n-s*n,f=2*s-d;a=po(f,d,t+1/3),u=po(f,d,t),l=po(f,d,t-1/3)}return{red:Math.round(a*255),green:Math.round(u*255),blue:Math.round(l*255),alpha:o}}function gs(t,n){return s=>s>0?n:t}const Fe=(t,n,s)=>t+(n-t)*s,go=(t,n,s)=>{const o=t*t,a=s*(n*n-o)+o;return a<0?0:Math.sqrt(a)},Yf=[Io,vn,On],Qf=t=>Yf.find(n=>n.test(t));function Ya(t){const n=Qf(t);if(!n)return!1;let s=n.parse(t);return n===On&&(s=qf(s)),s}const Qa=(t,n)=>{const s=Ya(t),o=Ya(n);if(!s||!o)return gs(t,n);const a={...s};return u=>(a.red=go(s.red,o.red,u),a.green=go(s.green,o.green,u),a.blue=go(s.blue,o.blue,u),a.alpha=Fe(s.alpha,o.alpha,u),vn.transform(a))},Ro=new Set(["none","hidden"]);function em(t,n){return Ro.has(t)?s=>s<=0?t:n:s=>s>=1?n:t}function tm(t,n){return s=>Fe(t,n,s)}function xr(t){return typeof t=="number"?tm:typeof t=="string"?yr(t)?gs:$e.test(t)?Qa:sm:Array.isArray(t)?nu:typeof t=="object"?$e.test(t)?Qa:nm:gs}function nu(t,n){const s=[...t],o=s.length,a=t.map((u,l)=>xr(u)(u,n[l]));return u=>{for(let l=0;l<o;l++)s[l]=a[l](u);return s}}function nm(t,n){const s={...t,...n},o={};for(const a in s)t[a]!==void 0&&n[a]!==void 0&&(o[a]=xr(t[a])(t[a],n[a]));return a=>{for(const u in o)s[u]=o[u](a);return s}}function im(t,n){const s=[],o={color:0,var:0,number:0};for(let a=0;a<n.values.length;a++){const u=n.types[a],l=t.indexes[u][o[u]],d=t.values[l]??0;s[a]=d,o[u]++}return s}const sm=(t,n)=>{const s=nn.createTransformer(n),o=Ti(t),a=Ti(n);return o.indexes.var.length===a.indexes.var.length&&o.indexes.color.length===a.indexes.color.length&&o.indexes.number.length>=a.indexes.number.length?Ro.has(t)&&!a.values.length||Ro.has(n)&&!o.values.length?em(t,n):Di(nu(im(o,a),a.values),s):gs(t,n)};function iu(t,n,s){return typeof t=="number"&&typeof n=="number"&&typeof s=="number"?Fe(t,n,s):xr(t)(t,n)}const om=t=>{const n=({timestamp:s})=>t(s);return{start:(s=!0)=>ze.update(n,s),stop:()=>tn(n),now:()=>Qe.isProcessing?Qe.timestamp:at.now()}},su=(t,n,s=10)=>{let o="";const a=Math.max(Math.round(n/s),2);for(let u=0;u<a;u++)o+=Math.round(t(u/(a-1))*1e4)/1e4+", ";return`linear(${o.substring(0,o.length-2)})`},ys=2e4;function br(t){let n=0;const s=50;let o=t.next(n);for(;!o.done&&n<ys;)n+=s,o=t.next(n);return n>=ys?1/0:n}function rm(t,n=100,s){const o=s({...t,keyframes:[0,n]}),a=Math.min(br(o),ys);return{type:"keyframes",ease:u=>o.next(a*u).value/n,duration:gt(a)}}const am=5;function ou(t,n,s){const o=Math.max(n-am,0);return zc(s-t(o),n-o)}const Ze={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},yo=.001;function lm({duration:t=Ze.duration,bounce:n=Ze.bounce,velocity:s=Ze.velocity,mass:o=Ze.mass}){let a,u,l=1-n;l=Gt(Ze.minDamping,Ze.maxDamping,l),t=Gt(Ze.minDuration,Ze.maxDuration,gt(t)),l<1?(a=g=>{const p=g*l,v=p*t,y=p-s,b=Oo(g,l),A=Math.exp(-v);return yo-y/b*A},u=g=>{const v=g*l*t,y=v*s+s,b=Math.pow(l,2)*Math.pow(g,2)*t,A=Math.exp(-v),S=Oo(Math.pow(g,2),l);return(-a(g)+yo>0?-1:1)*((y-b)*A)/S}):(a=g=>{const p=Math.exp(-g*t),v=(g-s)*t+1;return-yo+p*v},u=g=>{const p=Math.exp(-g*t),v=(s-g)*(t*t);return p*v});const d=5/t,f=um(a,u,d);if(t=Nt(t),isNaN(f))return{stiffness:Ze.stiffness,damping:Ze.damping,duration:t};{const g=Math.pow(f,2)*o;return{stiffness:g,damping:l*2*Math.sqrt(o*g),duration:t}}}const cm=12;function um(t,n,s){let o=s;for(let a=1;a<cm;a++)o=o-t(o)/n(o);return o}function Oo(t,n){return t*Math.sqrt(1-n*n)}const dm=["duration","bounce"],hm=["stiffness","damping","mass"];function el(t,n){return n.some(s=>t[s]!==void 0)}function fm(t){let n={velocity:Ze.velocity,stiffness:Ze.stiffness,damping:Ze.damping,mass:Ze.mass,isResolvedFromDuration:!1,...t};if(!el(t,hm)&&el(t,dm))if(t.visualDuration){const s=t.visualDuration,o=2*Math.PI/(s*1.2),a=o*o,u=2*Gt(.05,1,1-(t.bounce||0))*Math.sqrt(a);n={...n,mass:Ze.mass,stiffness:a,damping:u}}else{const s=lm(t);n={...n,...s,mass:Ze.mass},n.isResolvedFromDuration=!0}return n}function vs(t=Ze.visualDuration,n=Ze.bounce){const s=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:n}:t;let{restSpeed:o,restDelta:a}=s;const u=s.keyframes[0],l=s.keyframes[s.keyframes.length-1],d={done:!1,value:u},{stiffness:f,damping:g,mass:p,duration:v,velocity:y,isResolvedFromDuration:b}=fm({...s,velocity:-gt(s.velocity||0)}),A=y||0,S=g/(2*Math.sqrt(f*p)),M=l-u,C=gt(Math.sqrt(f/p)),R=Math.abs(M)<5;o||(o=R?Ze.restSpeed.granular:Ze.restSpeed.default),a||(a=R?Ze.restDelta.granular:Ze.restDelta.default);let T;if(S<1){const E=Oo(C,S);T=z=>{const O=Math.exp(-S*C*z);return l-O*((A+S*C*M)/E*Math.sin(E*z)+M*Math.cos(E*z))}}else if(S===1)T=E=>l-Math.exp(-C*E)*(M+(A+C*M)*E);else{const E=C*Math.sqrt(S*S-1);T=z=>{const O=Math.exp(-S*C*z),V=Math.min(E*z,300);return l-O*((A+S*C*M)*Math.sinh(V)+E*M*Math.cosh(V))/E}}const k={calculatedDuration:b&&v||null,next:E=>{const z=T(E);if(b)d.done=E>=v;else{let O=E===0?A:0;S<1&&(O=E===0?Nt(A):ou(T,E,z));const V=Math.abs(O)<=o,Y=Math.abs(l-z)<=a;d.done=V&&Y}return d.value=d.done?l:z,d},toString:()=>{const E=Math.min(br(k),ys),z=su(O=>k.next(E*O).value,E,30);return E+"ms "+z},toTransition:()=>{}};return k}vs.applyToOptions=t=>{const n=rm(t,100,vs);return t.ease=n.ease,t.duration=Nt(n.duration),t.type="keyframes",t};function jo({keyframes:t,velocity:n=0,power:s=.8,timeConstant:o=325,bounceDamping:a=10,bounceStiffness:u=500,modifyTarget:l,min:d,max:f,restDelta:g=.5,restSpeed:p}){const v=t[0],y={done:!1,value:v},b=V=>d!==void 0&&V<d||f!==void 0&&V>f,A=V=>d===void 0?f:f===void 0||Math.abs(d-V)<Math.abs(f-V)?d:f;let S=s*n;const M=v+S,C=l===void 0?M:l(M);C!==M&&(S=C-v);const R=V=>-S*Math.exp(-V/o),T=V=>C+R(V),k=V=>{const Y=R(V),ee=T(V);y.done=Math.abs(Y)<=g,y.value=y.done?C:ee};let E,z;const O=V=>{b(y.value)&&(E=V,z=vs({keyframes:[y.value,A(y.value)],velocity:ou(T,V,y.value),damping:a,stiffness:u,restDelta:g,restSpeed:p}))};return O(0),{calculatedDuration:null,next:V=>{let Y=!1;return!z&&E===void 0&&(Y=!0,k(V),O(V)),E!==void 0&&V>=E?z.next(V-E):(!Y&&k(V),y)}}}function mm(t,n,s){const o=[],a=s||Jt.mix||iu,u=t.length-1;for(let l=0;l<u;l++){let d=a(t[l],t[l+1]);if(n){const f=Array.isArray(n)?n[l]||yt:n;d=Di(f,d)}o.push(d)}return o}function pm(t,n,{clamp:s=!0,ease:o,mixer:a}={}){const u=t.length;if(dr(u===n.length),u===1)return()=>n[0];if(u===2&&n[0]===n[1])return()=>n[1];const l=t[0]===t[1];t[0]>t[u-1]&&(t=[...t].reverse(),n=[...n].reverse());const d=mm(n,o,a),f=d.length,g=p=>{if(l&&p<t[0])return n[0];let v=0;if(f>1)for(;v<t.length-2&&!(p<t[v+1]);v++);const y=wi(t[v],t[v+1],p);return d[v](y)};return s?p=>g(Gt(t[0],t[u-1],p)):g}function gm(t,n){const s=t[t.length-1];for(let o=1;o<=n;o++){const a=wi(0,n,o);t.push(Fe(s,1,a))}}function ym(t){const n=[0];return gm(n,t.length-1),n}function vm(t,n){return t.map(s=>s*n)}function _m(t,n){return t.map(()=>n||Uc).splice(0,t.length-1)}function yi({duration:t=300,keyframes:n,times:s,ease:o="easeInOut"}){const a=Df(o)?o.map(Ka):Ka(o),u={done:!1,value:n[0]},l=vm(s&&s.length===n.length?s:ym(n),t),d=pm(l,n,{ease:Array.isArray(a)?a:_m(n,a)});return{calculatedDuration:t,next:f=>(u.value=d(f),u.done=f>=t,u)}}const xm=t=>t!==null;function wr(t,{repeat:n,repeatType:s="loop"},o,a=1){const u=t.filter(xm),d=a<0||n&&s!=="loop"&&n%2===1?0:u.length-1;return!d||o===void 0?u[d]:o}const bm={decay:jo,inertia:jo,tween:yi,keyframes:yi,spring:vs};function ru(t){typeof t.type=="string"&&(t.type=bm[t.type])}class Sr{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(n=>{this.resolve=n})}notifyFinished(){this.resolve()}then(n,s){return this.finished.then(n,s)}}const wm=t=>t/100;class Tr extends Sr{constructor(n){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var o,a;const{motionValue:s}=this.options;s&&s.updatedAt!==at.now()&&this.tick(at.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(o=this.options).onStop)==null||a.call(o))},this.options=n,this.initAnimation(),this.play(),n.autoplay===!1&&this.pause()}initAnimation(){const{options:n}=this;ru(n);const{type:s=yi,repeat:o=0,repeatDelay:a=0,repeatType:u,velocity:l=0}=n;let{keyframes:d}=n;const f=s||yi;f!==yi&&typeof d[0]!="number"&&(this.mixKeyframes=Di(wm,iu(d[0],d[1])),d=[0,100]);const g=f({...n,keyframes:d});u==="mirror"&&(this.mirroredGenerator=f({...n,keyframes:[...d].reverse(),velocity:-l})),g.calculatedDuration===null&&(g.calculatedDuration=br(g));const{calculatedDuration:p}=g;this.calculatedDuration=p,this.resolvedDuration=p+a,this.totalDuration=this.resolvedDuration*(o+1)-a,this.generator=g}updateTime(n){const s=Math.round(n-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(n,s=!1){const{generator:o,totalDuration:a,mixKeyframes:u,mirroredGenerator:l,resolvedDuration:d,calculatedDuration:f}=this;if(this.startTime===null)return o.next(0);const{delay:g=0,keyframes:p,repeat:v,repeatType:y,repeatDelay:b,type:A,onUpdate:S,finalKeyframe:M}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,n):this.speed<0&&(this.startTime=Math.min(n-a/this.speed,this.startTime)),s?this.currentTime=n:this.updateTime(n);const C=this.currentTime-g*(this.playbackSpeed>=0?1:-1),R=this.playbackSpeed>=0?C<0:C>a;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let T=this.currentTime,k=o;if(v){const V=Math.min(this.currentTime,a)/d;let Y=Math.floor(V),ee=V%1;!ee&&V>=1&&(ee=1),ee===1&&Y--,Y=Math.min(Y,v+1),!!(Y%2)&&(y==="reverse"?(ee=1-ee,b&&(ee-=b/d)):y==="mirror"&&(k=l)),T=Gt(0,1,ee)*d}const E=R?{done:!1,value:p[0]}:k.next(T);u&&(E.value=u(E.value));let{done:z}=E;!R&&f!==null&&(z=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&z);return O&&A!==jo&&(E.value=wr(p,this.options,M,this.speed)),S&&S(E.value),O&&this.finish(),E}then(n,s){return this.finished.then(n,s)}get duration(){return gt(this.calculatedDuration)}get iterationDuration(){const{delay:n=0}=this.options||{};return this.duration+gt(n)}get time(){return gt(this.currentTime)}set time(n){var s;n=Nt(n),this.currentTime=n,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=n:this.driver&&(this.startTime=this.driver.now()-n/this.playbackSpeed),(s=this.driver)==null||s.start(!1)}get speed(){return this.playbackSpeed}set speed(n){this.updateTime(at.now());const s=this.playbackSpeed!==n;this.playbackSpeed=n,s&&(this.time=gt(this.currentTime))}play(){var a,u;if(this.isStopped)return;const{driver:n=om,startTime:s}=this.options;this.driver||(this.driver=n(l=>this.tick(l))),(u=(a=this.options).onPlay)==null||u.call(a);const o=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=o):this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime||(this.startTime=s??o),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(at.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var n,s;this.notifyFinished(),this.teardown(),this.state="finished",(s=(n=this.options).onComplete)==null||s.call(n)}cancel(){var n,s;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(s=(n=this.options).onCancel)==null||s.call(n)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(n){return this.startTime=0,this.tick(n,!0)}attachTimeline(n){var s;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(s=this.driver)==null||s.stop(),n.observe(this)}}function Sm(t){for(let n=1;n<t.length;n++)t[n]??(t[n]=t[n-1])}const _n=t=>t*180/Math.PI,zo=t=>{const n=_n(Math.atan2(t[1],t[0]));return Bo(n)},Tm={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:zo,rotateZ:zo,skewX:t=>_n(Math.atan(t[1])),skewY:t=>_n(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Bo=t=>(t=t%360,t<0&&(t+=360),t),tl=zo,nl=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),il=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Am={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:nl,scaleY:il,scale:t=>(nl(t)+il(t))/2,rotateX:t=>Bo(_n(Math.atan2(t[6],t[5]))),rotateY:t=>Bo(_n(Math.atan2(-t[2],t[0]))),rotateZ:tl,rotate:tl,skewX:t=>_n(Math.atan(t[4])),skewY:t=>_n(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Fo(t){return t.includes("scale")?1:0}function Vo(t,n){if(!t||t==="none")return Fo(n);const s=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let o,a;if(s)o=Am,a=s;else{const d=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);o=Tm,a=d}if(!a)return Fo(n);const u=o[n],l=a[1].split(",").map(Pm);return typeof u=="function"?u(l):l[u]}const Cm=(t,n)=>{const{transform:s="none"}=getComputedStyle(t);return Vo(s,n)};function Pm(t){return parseFloat(t.trim())}const Un=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],$n=new Set(Un),sl=t=>t===Jn||t===re,km=new Set(["x","y","z"]),Mm=Un.filter(t=>!km.has(t));function Dm(t){const n=[];return Mm.forEach(s=>{const o=t.getValue(s);o!==void 0&&(n.push([s,o.get()]),o.set(s.startsWith("scale")?1:0))}),n}const xn={width:({x:t},{paddingLeft:n="0",paddingRight:s="0"})=>t.max-t.min-parseFloat(n)-parseFloat(s),height:({y:t},{paddingTop:n="0",paddingBottom:s="0"})=>t.max-t.min-parseFloat(n)-parseFloat(s),top:(t,{top:n})=>parseFloat(n),left:(t,{left:n})=>parseFloat(n),bottom:({y:t},{top:n})=>parseFloat(n)+(t.max-t.min),right:({x:t},{left:n})=>parseFloat(n)+(t.max-t.min),x:(t,{transform:n})=>Vo(n,"x"),y:(t,{transform:n})=>Vo(n,"y")};xn.translateX=xn.x;xn.translateY=xn.y;const bn=new Set;let Zo=!1,Wo=!1,Ho=!1;function au(){if(Wo){const t=Array.from(bn).filter(o=>o.needsMeasurement),n=new Set(t.map(o=>o.element)),s=new Map;n.forEach(o=>{const a=Dm(o);a.length&&(s.set(o,a),o.render())}),t.forEach(o=>o.measureInitialState()),n.forEach(o=>{o.render();const a=s.get(o);a&&a.forEach(([u,l])=>{var d;(d=o.getValue(u))==null||d.set(l)})}),t.forEach(o=>o.measureEndState()),t.forEach(o=>{o.suspendedScrollY!==void 0&&window.scrollTo(0,o.suspendedScrollY)})}Wo=!1,Zo=!1,bn.forEach(t=>t.complete(Ho)),bn.clear()}function lu(){bn.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Wo=!0)})}function Lm(){Ho=!0,lu(),au(),Ho=!1}class Ar{constructor(n,s,o,a,u,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...n],this.onComplete=s,this.name=o,this.motionValue=a,this.element=u,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(bn.add(this),Zo||(Zo=!0,ze.read(lu),ze.resolveKeyframes(au))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:n,name:s,element:o,motionValue:a}=this;if(n[0]===null){const u=a==null?void 0:a.get(),l=n[n.length-1];if(u!==void 0)n[0]=u;else if(o&&s){const d=o.readValue(s,l);d!=null&&(n[0]=d)}n[0]===void 0&&(n[0]=l),a&&u===void 0&&a.set(n[0])}Sm(n)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(n=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,n),bn.delete(this)}cancel(){this.state==="scheduled"&&(bn.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Em=t=>t.startsWith("--");function Nm(t,n,s){Em(n)?t.style.setProperty(n,s):t.style[n]=s}const Im=hr(()=>window.ScrollTimeline!==void 0),Rm={};function Om(t,n){const s=hr(t);return()=>Rm[n]??s()}const cu=Om(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ui=([t,n,s,o])=>`cubic-bezier(${t}, ${n}, ${s}, ${o})`,ol={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ui([0,.65,.55,1]),circOut:ui([.55,0,1,.45]),backIn:ui([.31,.01,.66,-.59]),backOut:ui([.33,1.53,.69,.99])};function uu(t,n){if(t)return typeof t=="function"?cu()?su(t,n):"ease-out":$c(t)?ui(t):Array.isArray(t)?t.map(s=>uu(s,n)||ol.easeOut):ol[t]}function jm(t,n,s,{delay:o=0,duration:a=300,repeat:u=0,repeatType:l="loop",ease:d="easeOut",times:f}={},g=void 0){const p={[n]:s};f&&(p.offset=f);const v=uu(d,a);Array.isArray(v)&&(p.easing=v);const y={delay:o,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:u+1,direction:l==="reverse"?"alternate":"normal"};return g&&(y.pseudoElement=g),t.animate(p,y)}function du(t){return typeof t=="function"&&"applyToOptions"in t}function zm({type:t,...n}){return du(t)&&cu()?t.applyToOptions(n):(n.duration??(n.duration=300),n.ease??(n.ease="easeOut"),n)}class Bm extends Sr{constructor(n){if(super(),this.finishedTime=null,this.isStopped=!1,!n)return;const{element:s,name:o,keyframes:a,pseudoElement:u,allowFlatten:l=!1,finalKeyframe:d,onComplete:f}=n;this.isPseudoElement=!!u,this.allowFlatten=l,this.options=n,dr(typeof n.type!="string");const g=zm(n);this.animation=jm(s,o,a,g,u),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const p=wr(a,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(p):Nm(s,o,p),this.animation.cancel()}f==null||f(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var n,s;(s=(n=this.animation).finish)==null||s.call(n)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:n}=this;n==="idle"||n==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var n,s;this.isPseudoElement||(s=(n=this.animation).commitStyles)==null||s.call(n)}get duration(){var s,o;const n=((o=(s=this.animation.effect)==null?void 0:s.getComputedTiming)==null?void 0:o.call(s).duration)||0;return gt(Number(n))}get iterationDuration(){const{delay:n=0}=this.options||{};return this.duration+gt(n)}get time(){return gt(Number(this.animation.currentTime)||0)}set time(n){this.finishedTime=null,this.animation.currentTime=Nt(n)}get speed(){return this.animation.playbackRate}set speed(n){n<0&&(this.finishedTime=null),this.animation.playbackRate=n}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(n){this.animation.startTime=n}attachTimeline({timeline:n,observe:s}){var o;return this.allowFlatten&&((o=this.animation.effect)==null||o.updateTiming({easing:"linear"})),this.animation.onfinish=null,n&&Im()?(this.animation.timeline=n,yt):s(this)}}const hu={anticipate:Hc,backInOut:Wc,circInOut:Jc};function Fm(t){return t in hu}function Vm(t){typeof t.ease=="string"&&Fm(t.ease)&&(t.ease=hu[t.ease])}const rl=10;class Zm extends Bm{constructor(n){Vm(n),ru(n),super(n),n.startTime&&(this.startTime=n.startTime),this.options=n}updateMotionValue(n){const{motionValue:s,onUpdate:o,onComplete:a,element:u,...l}=this.options;if(!s)return;if(n!==void 0){s.set(n);return}const d=new Tr({...l,autoplay:!1}),f=Nt(this.finishedTime??this.time);s.setWithVelocity(d.sample(f-rl).value,d.sample(f).value,rl),d.stop()}}const al=(t,n)=>n==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(nn.test(t)||t==="0")&&!t.startsWith("url("));function Wm(t){const n=t[0];if(t.length===1)return!0;for(let s=0;s<t.length;s++)if(t[s]!==n)return!0}function Hm(t,n,s,o){const a=t[0];if(a===null)return!1;if(n==="display"||n==="visibility")return!0;const u=t[t.length-1],l=al(a,n),d=al(u,n);return!l||!d?!1:Wm(t)||(s==="spring"||du(s))&&o}function Go(t){t.duration=0,t.type="keyframes"}const Gm=new Set(["opacity","clipPath","filter","transform"]),Jm=hr(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Um(t){var p;const{motionValue:n,name:s,repeatDelay:o,repeatType:a,damping:u,type:l}=t;if(!(((p=n==null?void 0:n.owner)==null?void 0:p.current)instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:g}=n.owner.getProps();return Jm()&&s&&Gm.has(s)&&(s!=="transform"||!g)&&!f&&!o&&a!=="mirror"&&u!==0&&l!=="inertia"}const $m=40;class Km extends Sr{constructor({autoplay:n=!0,delay:s=0,type:o="keyframes",repeat:a=0,repeatDelay:u=0,repeatType:l="loop",keyframes:d,name:f,motionValue:g,element:p,...v}){var A;super(),this.stop=()=>{var S,M;this._animation&&(this._animation.stop(),(S=this.stopTimeline)==null||S.call(this)),(M=this.keyframeResolver)==null||M.cancel()},this.createdAt=at.now();const y={autoplay:n,delay:s,type:o,repeat:a,repeatDelay:u,repeatType:l,name:f,motionValue:g,element:p,...v},b=(p==null?void 0:p.KeyframeResolver)||Ar;this.keyframeResolver=new b(d,(S,M,C)=>this.onKeyframesResolved(S,M,y,!C),f,g,p),(A=this.keyframeResolver)==null||A.scheduleResolve()}onKeyframesResolved(n,s,o,a){this.keyframeResolver=void 0;const{name:u,type:l,velocity:d,delay:f,isHandoff:g,onUpdate:p}=o;this.resolvedAt=at.now(),Hm(n,u,l,d)||((Jt.instantAnimations||!f)&&(p==null||p(wr(n,o,s))),n[0]=n[n.length-1],Go(o),o.repeat=0);const y={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>$m?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...o,keyframes:n},b=!g&&Um(y)?new Zm({...y,element:y.motionValue.owner.current}):new Tr(y);b.finished.then(()=>this.notifyFinished()).catch(yt),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(n,s){return this.finished.finally(n).then(()=>{})}get animation(){var n;return this._animation||((n=this.keyframeResolver)==null||n.resume(),Lm()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(n){this.animation.time=n}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(n){this.animation.speed=n}get startTime(){return this.animation.startTime}attachTimeline(n){return this._animation?this.stopTimeline=this.animation.attachTimeline(n):this.pendingTimeline=n,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var n;this._animation&&this.animation.cancel(),(n=this.keyframeResolver)==null||n.cancel()}}const Xm=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function qm(t){const n=Xm.exec(t);if(!n)return[,];const[,s,o,a]=n;return[`--${s??o}`,a]}function fu(t,n,s=1){const[o,a]=qm(t);if(!o)return;const u=window.getComputedStyle(n).getPropertyValue(o);if(u){const l=u.trim();return Rc(l)?parseFloat(l):l}return yr(a)?fu(a,n,s+1):a}function Cr(t,n){return(t==null?void 0:t[n])??(t==null?void 0:t.default)??t}const mu=new Set(["width","height","top","left","right","bottom",...Un]),Ym={test:t=>t==="auto",parse:t=>t},pu=t=>n=>n.test(t),gu=[Jn,re,It,qt,Wf,Zf,Ym],ll=t=>gu.find(pu(t));function Qm(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||jc(t):!0}const ep=new Set(["brightness","contrast","saturate","opacity"]);function tp(t){const[n,s]=t.slice(0,-1).split("(");if(n==="drop-shadow")return t;const[o]=s.match(vr)||[];if(!o)return t;const a=s.replace(o,"");let u=ep.has(n)?1:0;return o!==s&&(u*=100),n+"("+u+a+")"}const np=/\b([a-z-]*)\(.*?\)/gu,Jo={...nn,getAnimatableNone:t=>{const n=t.match(np);return n?n.map(tp).join(" "):t}},cl={...Jn,transform:Math.round},ip={rotate:qt,rotateX:qt,rotateY:qt,rotateZ:qt,scale:ts,scaleX:ts,scaleY:ts,scaleZ:ts,skew:qt,skewX:qt,skewY:qt,distance:re,translateX:re,translateY:re,translateZ:re,x:re,y:re,z:re,perspective:re,transformPerspective:re,opacity:Si,originX:Xa,originY:Xa,originZ:re},Pr={borderWidth:re,borderTopWidth:re,borderRightWidth:re,borderBottomWidth:re,borderLeftWidth:re,borderRadius:re,radius:re,borderTopLeftRadius:re,borderTopRightRadius:re,borderBottomRightRadius:re,borderBottomLeftRadius:re,width:re,maxWidth:re,height:re,maxHeight:re,top:re,right:re,bottom:re,left:re,padding:re,paddingTop:re,paddingRight:re,paddingBottom:re,paddingLeft:re,margin:re,marginTop:re,marginRight:re,marginBottom:re,marginLeft:re,backgroundPositionX:re,backgroundPositionY:re,...ip,zIndex:cl,fillOpacity:Si,strokeOpacity:Si,numOctaves:cl},sp={...Pr,color:$e,backgroundColor:$e,outlineColor:$e,fill:$e,stroke:$e,borderColor:$e,borderTopColor:$e,borderRightColor:$e,borderBottomColor:$e,borderLeftColor:$e,filter:Jo,WebkitFilter:Jo},yu=t=>sp[t];function vu(t,n){let s=yu(t);return s!==Jo&&(s=nn),s.getAnimatableNone?s.getAnimatableNone(n):void 0}const op=new Set(["auto","none","0"]);function rp(t,n,s){let o=0,a;for(;o<t.length&&!a;){const u=t[o];typeof u=="string"&&!op.has(u)&&Ti(u).values.length&&(a=t[o]),o++}if(a&&s)for(const u of n)t[u]=vu(s,a)}class ap extends Ar{constructor(n,s,o,a,u){super(n,s,o,a,u,!0)}readKeyframes(){const{unresolvedKeyframes:n,element:s,name:o}=this;if(!s||!s.current)return;super.readKeyframes();for(let f=0;f<n.length;f++){let g=n[f];if(typeof g=="string"&&(g=g.trim(),yr(g))){const p=fu(g,s.current);p!==void 0&&(n[f]=p),f===n.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!mu.has(o)||n.length!==2)return;const[a,u]=n,l=ll(a),d=ll(u);if(l!==d)if(sl(l)&&sl(d))for(let f=0;f<n.length;f++){const g=n[f];typeof g=="string"&&(n[f]=parseFloat(g))}else xn[o]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:n,name:s}=this,o=[];for(let a=0;a<n.length;a++)(n[a]===null||Qm(n[a]))&&o.push(a);o.length&&rp(n,o,s)}measureInitialState(){const{element:n,unresolvedKeyframes:s,name:o}=this;if(!n||!n.current)return;o==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=xn[o](n.measureViewportBox(),window.getComputedStyle(n.current)),s[0]=this.measuredOrigin;const a=s[s.length-1];a!==void 0&&n.getValue(o,a).jump(a,!1)}measureEndState(){var d;const{element:n,name:s,unresolvedKeyframes:o}=this;if(!n||!n.current)return;const a=n.getValue(s);a&&a.jump(this.measuredOrigin,!1);const u=o.length-1,l=o[u];o[u]=xn[s](n.measureViewportBox(),window.getComputedStyle(n.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),(d=this.removedTransforms)!=null&&d.length&&this.removedTransforms.forEach(([f,g])=>{n.getValue(f).set(g)}),this.resolveNoneKeyframes()}}function lp(t,n,s){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let o=document;const a=(s==null?void 0:s[t])??o.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const _u=(t,n)=>n&&typeof t=="number"?n.transform(t):t;function xu(t){return Oc(t)&&"offsetHeight"in t}const ul=30,cp=t=>!isNaN(parseFloat(t));class up{constructor(n,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=o=>{var u;const a=at.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(o),this.current!==this.prev&&((u=this.events.change)==null||u.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(n),this.owner=s.owner}setCurrent(n){this.current=n,this.updatedAt=at.now(),this.canTrackVelocity===null&&n!==void 0&&(this.canTrackVelocity=cp(this.current))}setPrevFrameValue(n=this.current){this.prevFrameValue=n,this.prevUpdatedAt=this.updatedAt}onChange(n){return this.on("change",n)}on(n,s){this.events[n]||(this.events[n]=new fr);const o=this.events[n].add(s);return n==="change"?()=>{o(),ze.read(()=>{this.events.change.getSize()||this.stop()})}:o}clearListeners(){for(const n in this.events)this.events[n].clear()}attach(n,s){this.passiveEffect=n,this.stopPassiveEffect=s}set(n){this.passiveEffect?this.passiveEffect(n,this.updateAndNotify):this.updateAndNotify(n)}setWithVelocity(n,s,o){this.set(s),this.prev=void 0,this.prevFrameValue=n,this.prevUpdatedAt=this.updatedAt-o}jump(n,s=!0){this.updateAndNotify(n),this.prev=n,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var n;(n=this.events.change)==null||n.notify(this.current)}addDependent(n){this.dependents||(this.dependents=new Set),this.dependents.add(n)}removeDependent(n){this.dependents&&this.dependents.delete(n)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const n=at.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||n-this.updatedAt>ul)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,ul);return zc(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(n){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=n(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var n,s;(n=this.dependents)==null||n.clear(),(s=this.events.destroy)==null||s.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Hn(t,n){return new up(t,n)}const{schedule:kr}=Kc(queueMicrotask,!1),xt={x:!1,y:!1};function bu(){return xt.x||xt.y}function dp(t){return t==="x"||t==="y"?xt[t]?null:(xt[t]=!0,()=>{xt[t]=!1}):xt.x||xt.y?null:(xt.x=xt.y=!0,()=>{xt.x=xt.y=!1})}function wu(t,n){const s=lp(t),o=new AbortController,a={passive:!0,...n,signal:o.signal};return[s,a,()=>o.abort()]}function dl(t){return!(t.pointerType==="touch"||bu())}function hp(t,n,s={}){const[o,a,u]=wu(t,s),l=d=>{if(!dl(d))return;const{target:f}=d,g=n(f,d);if(typeof g!="function"||!f)return;const p=v=>{dl(v)&&(g(v),f.removeEventListener("pointerleave",p))};f.addEventListener("pointerleave",p,a)};return o.forEach(d=>{d.addEventListener("pointerenter",l,a)}),u}const Su=(t,n)=>n?t===n?!0:Su(t,n.parentElement):!1,Mr=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,fp=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function mp(t){return fp.has(t.tagName)||t.tabIndex!==-1}const ls=new WeakSet;function hl(t){return n=>{n.key==="Enter"&&t(n)}}function vo(t,n){t.dispatchEvent(new PointerEvent("pointer"+n,{isPrimary:!0,bubbles:!0}))}const pp=(t,n)=>{const s=t.currentTarget;if(!s)return;const o=hl(()=>{if(ls.has(s))return;vo(s,"down");const a=hl(()=>{vo(s,"up")}),u=()=>vo(s,"cancel");s.addEventListener("keyup",a,n),s.addEventListener("blur",u,n)});s.addEventListener("keydown",o,n),s.addEventListener("blur",()=>s.removeEventListener("keydown",o),n)};function fl(t){return Mr(t)&&!bu()}function gp(t,n,s={}){const[o,a,u]=wu(t,s),l=d=>{const f=d.currentTarget;if(!fl(d))return;ls.add(f);const g=n(f,d),p=(b,A)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",y),ls.has(f)&&ls.delete(f),fl(b)&&typeof g=="function"&&g(b,{success:A})},v=b=>{p(b,f===window||f===document||s.useGlobalTarget||Su(f,b.target))},y=b=>{p(b,!1)};window.addEventListener("pointerup",v,a),window.addEventListener("pointercancel",y,a)};return o.forEach(d=>{(s.useGlobalTarget?window:d).addEventListener("pointerdown",l,a),xu(d)&&(d.addEventListener("focus",g=>pp(g,a)),!mp(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),u}function Tu(t){return Oc(t)&&"ownerSVGElement"in t}function yp(t){return Tu(t)&&t.tagName==="svg"}const it=t=>!!(t&&t.getVelocity),vp=[...gu,$e,nn],_p=t=>vp.find(pu(t)),Dr=x.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function ml(t,n){if(typeof t=="function")return t(n);t!=null&&(t.current=n)}function xp(...t){return n=>{let s=!1;const o=t.map(a=>{const u=ml(a,n);return!s&&typeof u=="function"&&(s=!0),u});if(s)return()=>{for(let a=0;a<o.length;a++){const u=o[a];typeof u=="function"?u():ml(t[a],null)}}}}function bp(...t){return x.useCallback(xp(...t),t)}class wp extends x.Component{getSnapshotBeforeUpdate(n){const s=this.props.childRef.current;if(s&&n.isPresent&&!this.props.isPresent){const o=s.offsetParent,a=xu(o)&&o.offsetWidth||0,u=this.props.sizeRef.current;u.height=s.offsetHeight||0,u.width=s.offsetWidth||0,u.top=s.offsetTop,u.left=s.offsetLeft,u.right=a-u.width-u.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Sp({children:t,isPresent:n,anchorX:s,root:o}){const a=x.useId(),u=x.useRef(null),l=x.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=x.useContext(Dr),f=bp(u,t==null?void 0:t.ref);return x.useInsertionEffect(()=>{const{width:g,height:p,top:v,left:y,right:b}=l.current;if(n||!u.current||!g||!p)return;const A=s==="left"?`left: ${y}`:`right: ${b}`;u.current.dataset.motionPopId=a;const S=document.createElement("style");d&&(S.nonce=d);const M=o??document.head;return M.appendChild(S),S.sheet&&S.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${p}px !important;
            ${A}px !important;
            top: ${v}px !important;
          }
        `),()=>{M.contains(S)&&M.removeChild(S)}},[n]),m.jsx(wp,{isPresent:n,childRef:u,sizeRef:l,children:x.cloneElement(t,{ref:f})})}const Tp=({children:t,initial:n,isPresent:s,onExitComplete:o,custom:a,presenceAffectsLayout:u,mode:l,anchorX:d,root:f})=>{const g=ar(Ap),p=x.useId();let v=!0,y=x.useMemo(()=>(v=!1,{id:p,initial:n,isPresent:s,custom:a,onExitComplete:b=>{g.set(b,!0);for(const A of g.values())if(!A)return;o&&o()},register:b=>(g.set(b,!1),()=>g.delete(b))}),[s,g,o]);return u&&v&&(y={...y}),x.useMemo(()=>{g.forEach((b,A)=>g.set(A,!1))},[s]),x.useEffect(()=>{!s&&!g.size&&o&&o()},[s]),l==="popLayout"&&(t=m.jsx(Sp,{isPresent:s,anchorX:d,root:f,children:t})),m.jsx(As.Provider,{value:y,children:t})};function Ap(){return new Map}function Au(t=!0){const n=x.useContext(As);if(n===null)return[!0,null];const{isPresent:s,onExitComplete:o,register:a}=n,u=x.useId();x.useEffect(()=>{if(t)return a(u)},[t]);const l=x.useCallback(()=>t&&o&&o(u),[u,o,t]);return!s&&o?[!1,l]:[!0]}const ns=t=>t.key||"";function pl(t){const n=[];return x.Children.forEach(t,s=>{x.isValidElement(s)&&n.push(s)}),n}const wt=({children:t,custom:n,initial:s=!0,onExitComplete:o,presenceAffectsLayout:a=!0,mode:u="sync",propagate:l=!1,anchorX:d="left",root:f})=>{const[g,p]=Au(l),v=x.useMemo(()=>pl(t),[t]),y=l&&!g?[]:v.map(ns),b=x.useRef(!0),A=x.useRef(v),S=ar(()=>new Map),[M,C]=x.useState(v),[R,T]=x.useState(v);Ic(()=>{b.current=!1,A.current=v;for(let z=0;z<R.length;z++){const O=ns(R[z]);y.includes(O)?S.delete(O):S.get(O)!==!0&&S.set(O,!1)}},[R,y.length,y.join("-")]);const k=[];if(v!==M){let z=[...v];for(let O=0;O<R.length;O++){const V=R[O],Y=ns(V);y.includes(Y)||(z.splice(O,0,V),k.push(V))}return u==="wait"&&k.length&&(z=k),T(pl(z)),C(v),null}const{forceRender:E}=x.useContext(rr);return m.jsx(m.Fragment,{children:R.map(z=>{const O=ns(z),V=l&&!g?!1:v===R||y.includes(O),Y=()=>{if(S.has(O))S.set(O,!0);else return;let ee=!0;S.forEach(K=>{K||(ee=!1)}),ee&&(E==null||E(),T(A.current),l&&(p==null||p()),o&&o())};return m.jsx(Tp,{isPresent:V,initial:!b.current||s?void 0:!1,custom:n,presenceAffectsLayout:a,mode:u,root:f,onExitComplete:V?void 0:Y,anchorX:d,children:z},O)})})},Cu=x.createContext({strict:!1}),gl={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Gn={};for(const t in gl)Gn[t]={isEnabled:n=>gl[t].some(s=>!!n[s])};function Cp(t){for(const n in t)Gn[n]={...Gn[n],...t[n]}}const Pp=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function _s(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Pp.has(t)}let Pu=t=>!_s(t);function kp(t){typeof t=="function"&&(Pu=n=>n.startsWith("on")?!_s(n):t(n))}try{kp(require("@emotion/is-prop-valid").default)}catch{}function Mp(t,n,s){const o={};for(const a in t)a==="values"&&typeof t.values=="object"||(Pu(a)||s===!0&&_s(a)||!n&&!_s(a)||t.draggable&&a.startsWith("onDrag"))&&(o[a]=t[a]);return o}const Cs=x.createContext({});function Ps(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Ai(t){return typeof t=="string"||Array.isArray(t)}const Lr=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Er=["initial",...Lr];function ks(t){return Ps(t.animate)||Er.some(n=>Ai(t[n]))}function ku(t){return!!(ks(t)||t.variants)}function Dp(t,n){if(ks(t)){const{initial:s,animate:o}=t;return{initial:s===!1||Ai(s)?s:void 0,animate:Ai(o)?o:void 0}}return t.inherit!==!1?n:{}}function Lp(t){const{initial:n,animate:s}=Dp(t,x.useContext(Cs));return x.useMemo(()=>({initial:n,animate:s}),[yl(n),yl(s)])}function yl(t){return Array.isArray(t)?t.join(" "):t}const Ci={};function Ep(t){for(const n in t)Ci[n]=t[n],gr(n)&&(Ci[n].isCSSVariable=!0)}function Mu(t,{layout:n,layoutId:s}){return $n.has(t)||t.startsWith("origin")||(n||s!==void 0)&&(!!Ci[t]||t==="opacity")}const Np={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Ip=Un.length;function Rp(t,n,s){let o="",a=!0;for(let u=0;u<Ip;u++){const l=Un[u],d=t[l];if(d===void 0)continue;let f=!0;if(typeof d=="number"?f=d===(l.startsWith("scale")?1:0):f=parseFloat(d)===0,!f||s){const g=_u(d,Pr[l]);if(!f){a=!1;const p=Np[l]||l;o+=`${p}(${g}) `}s&&(n[l]=g)}}return o=o.trim(),s?o=s(n,a?"":o):a&&(o="none"),o}function Nr(t,n,s){const{style:o,vars:a,transformOrigin:u}=t;let l=!1,d=!1;for(const f in n){const g=n[f];if($n.has(f)){l=!0;continue}else if(gr(f)){a[f]=g;continue}else{const p=_u(g,Pr[f]);f.startsWith("origin")?(d=!0,u[f]=p):o[f]=p}}if(n.transform||(l||s?o.transform=Rp(n,t.transform,s):o.transform&&(o.transform="none")),d){const{originX:f="50%",originY:g="50%",originZ:p=0}=u;o.transformOrigin=`${f} ${g} ${p}`}}const Ir=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Du(t,n,s){for(const o in n)!it(n[o])&&!Mu(o,s)&&(t[o]=n[o])}function Op({transformTemplate:t},n){return x.useMemo(()=>{const s=Ir();return Nr(s,n,t),Object.assign({},s.vars,s.style)},[n])}function jp(t,n){const s=t.style||{},o={};return Du(o,s,t),Object.assign(o,Op(t,n)),o}function zp(t,n){const s={},o=jp(t,n);return t.drag&&t.dragListener!==!1&&(s.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(s.tabIndex=0),s.style=o,s}const Bp={offset:"stroke-dashoffset",array:"stroke-dasharray"},Fp={offset:"strokeDashoffset",array:"strokeDasharray"};function Vp(t,n,s=1,o=0,a=!0){t.pathLength=1;const u=a?Bp:Fp;t[u.offset]=re.transform(-o);const l=re.transform(n),d=re.transform(s);t[u.array]=`${l} ${d}`}function Lu(t,{attrX:n,attrY:s,attrScale:o,pathLength:a,pathSpacing:u=1,pathOffset:l=0,...d},f,g,p){if(Nr(t,d,g),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:y}=t;v.transform&&(y.transform=v.transform,delete v.transform),(y.transform||v.transformOrigin)&&(y.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),y.transform&&(y.transformBox=(p==null?void 0:p.transformBox)??"fill-box",delete v.transformBox),n!==void 0&&(v.x=n),s!==void 0&&(v.y=s),o!==void 0&&(v.scale=o),a!==void 0&&Vp(v,a,u,l,!1)}const Eu=()=>({...Ir(),attrs:{}}),Nu=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Zp(t,n,s,o){const a=x.useMemo(()=>{const u=Eu();return Lu(u,n,Nu(o),t.transformTemplate,t.style),{...u.attrs,style:{...u.style}}},[n]);if(t.style){const u={};Du(u,t.style,t),a.style={...u,...a.style}}return a}const Wp=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Rr(t){return typeof t!="string"||t.includes("-")?!1:!!(Wp.indexOf(t)>-1||/[A-Z]/u.test(t))}function Hp(t,n,s,{latestValues:o},a,u=!1){const d=(Rr(t)?Zp:zp)(n,o,a,t),f=Mp(n,typeof t=="string",u),g=t!==x.Fragment?{...f,...d,ref:s}:{},{children:p}=n,v=x.useMemo(()=>it(p)?p.get():p,[p]);return x.createElement(t,{...g,children:v})}function vl(t){const n=[{},{}];return t==null||t.values.forEach((s,o)=>{n[0][o]=s.get(),n[1][o]=s.getVelocity()}),n}function Or(t,n,s,o){if(typeof n=="function"){const[a,u]=vl(o);n=n(s!==void 0?s:t.custom,a,u)}if(typeof n=="string"&&(n=t.variants&&t.variants[n]),typeof n=="function"){const[a,u]=vl(o);n=n(s!==void 0?s:t.custom,a,u)}return n}function cs(t){return it(t)?t.get():t}function Gp({scrapeMotionValuesFromProps:t,createRenderState:n},s,o,a){return{latestValues:Jp(s,o,a,t),renderState:n()}}function Jp(t,n,s,o){const a={},u=o(t,{});for(const y in u)a[y]=cs(u[y]);let{initial:l,animate:d}=t;const f=ks(t),g=ku(t);n&&g&&!f&&t.inherit!==!1&&(l===void 0&&(l=n.initial),d===void 0&&(d=n.animate));let p=s?s.initial===!1:!1;p=p||l===!1;const v=p?d:l;if(v&&typeof v!="boolean"&&!Ps(v)){const y=Array.isArray(v)?v:[v];for(let b=0;b<y.length;b++){const A=Or(t,y[b]);if(A){const{transitionEnd:S,transition:M,...C}=A;for(const R in C){let T=C[R];if(Array.isArray(T)){const k=p?T.length-1:0;T=T[k]}T!==null&&(a[R]=T)}for(const R in S)a[R]=S[R]}}}return a}const Iu=t=>(n,s)=>{const o=x.useContext(Cs),a=x.useContext(As),u=()=>Gp(t,n,o,a);return s?u():ar(u)};function jr(t,n,s){var u;const{style:o}=t,a={};for(const l in o)(it(o[l])||n.style&&it(n.style[l])||Mu(l,t)||((u=s==null?void 0:s.getValue(l))==null?void 0:u.liveStyle)!==void 0)&&(a[l]=o[l]);return a}const Up=Iu({scrapeMotionValuesFromProps:jr,createRenderState:Ir});function Ru(t,n,s){const o=jr(t,n,s);for(const a in t)if(it(t[a])||it(n[a])){const u=Un.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;o[u]=t[a]}return o}const $p=Iu({scrapeMotionValuesFromProps:Ru,createRenderState:Eu}),Kp=Symbol.for("motionComponentSymbol");function jn(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Xp(t,n,s){return x.useCallback(o=>{o&&t.onMount&&t.onMount(o),n&&(o?n.mount(o):n.unmount()),s&&(typeof s=="function"?s(o):jn(s)&&(s.current=o))},[n])}const zr=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),qp="framerAppearId",Ou="data-"+zr(qp),ju=x.createContext({});function Yp(t,n,s,o,a){var S,M;const{visualElement:u}=x.useContext(Cs),l=x.useContext(Cu),d=x.useContext(As),f=x.useContext(Dr).reducedMotion,g=x.useRef(null);o=o||l.renderer,!g.current&&o&&(g.current=o(t,{visualState:n,parent:u,props:s,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:f}));const p=g.current,v=x.useContext(ju);p&&!p.projection&&a&&(p.type==="html"||p.type==="svg")&&Qp(g.current,s,a,v);const y=x.useRef(!1);x.useInsertionEffect(()=>{p&&y.current&&p.update(s,d)});const b=s[Ou],A=x.useRef(!!b&&!((S=window.MotionHandoffIsComplete)!=null&&S.call(window,b))&&((M=window.MotionHasOptimisedAnimation)==null?void 0:M.call(window,b)));return Ic(()=>{p&&(y.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),p.scheduleRenderMicrotask(),A.current&&p.animationState&&p.animationState.animateChanges())}),x.useEffect(()=>{p&&(!A.current&&p.animationState&&p.animationState.animateChanges(),A.current&&(queueMicrotask(()=>{var C;(C=window.MotionHandoffMarkAsComplete)==null||C.call(window,b)}),A.current=!1),p.enteringChildren=void 0)}),p}function Qp(t,n,s,o){const{layoutId:a,layout:u,drag:l,dragConstraints:d,layoutScroll:f,layoutRoot:g,layoutCrossfade:p}=n;t.projection=new s(t.latestValues,n["data-framer-portal-id"]?void 0:zu(t.parent)),t.projection.setOptions({layoutId:a,layout:u,alwaysMeasureLayout:!!l||d&&jn(d),visualElement:t,animationType:typeof u=="string"?u:"both",initialPromotionConfig:o,crossfade:p,layoutScroll:f,layoutRoot:g})}function zu(t){if(t)return t.options.allowProjection!==!1?t.projection:zu(t.parent)}function _o(t,{forwardMotionProps:n=!1}={},s,o){s&&Cp(s);const a=Rr(t)?$p:Up;function u(d,f){let g;const p={...x.useContext(Dr),...d,layoutId:eg(d)},{isStatic:v}=p,y=Lp(d),b=a(d,v);if(!v&&lr){tg();const A=ng(p);g=A.MeasureLayout,y.visualElement=Yp(t,b,p,o,A.ProjectionNode)}return m.jsxs(Cs.Provider,{value:y,children:[g&&y.visualElement?m.jsx(g,{visualElement:y.visualElement,...p}):null,Hp(t,d,Xp(b,y.visualElement,f),b,v,n)]})}u.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const l=x.forwardRef(u);return l[Kp]=t,l}function eg({layoutId:t}){const n=x.useContext(rr).id;return n&&t!==void 0?n+"-"+t:t}function tg(t,n){x.useContext(Cu).strict}function ng(t){const{drag:n,layout:s}=Gn;if(!n&&!s)return{};const o={...n,...s};return{MeasureLayout:n!=null&&n.isEnabled(t)||s!=null&&s.isEnabled(t)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}function ig(t,n){if(typeof Proxy>"u")return _o;const s=new Map,o=(u,l)=>_o(u,l,t,n),a=(u,l)=>o(u,l);return new Proxy(a,{get:(u,l)=>l==="create"?o:(s.has(l)||s.set(l,_o(l,void 0,t,n)),s.get(l))})}function Bu({top:t,left:n,right:s,bottom:o}){return{x:{min:n,max:s},y:{min:t,max:o}}}function sg({x:t,y:n}){return{top:n.min,right:t.max,bottom:n.max,left:t.min}}function og(t,n){if(!n)return t;const s=n({x:t.left,y:t.top}),o=n({x:t.right,y:t.bottom});return{top:s.y,left:s.x,bottom:o.y,right:o.x}}function xo(t){return t===void 0||t===1}function Uo({scale:t,scaleX:n,scaleY:s}){return!xo(t)||!xo(n)||!xo(s)}function gn(t){return Uo(t)||Fu(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Fu(t){return _l(t.x)||_l(t.y)}function _l(t){return t&&t!=="0%"}function xs(t,n,s){const o=t-s,a=n*o;return s+a}function xl(t,n,s,o,a){return a!==void 0&&(t=xs(t,a,o)),xs(t,s,o)+n}function $o(t,n=0,s=1,o,a){t.min=xl(t.min,n,s,o,a),t.max=xl(t.max,n,s,o,a)}function Vu(t,{x:n,y:s}){$o(t.x,n.translate,n.scale,n.originPoint),$o(t.y,s.translate,s.scale,s.originPoint)}const bl=.999999999999,wl=1.0000000000001;function rg(t,n,s,o=!1){const a=s.length;if(!a)return;n.x=n.y=1;let u,l;for(let d=0;d<a;d++){u=s[d],l=u.projectionDelta;const{visualElement:f}=u.options;f&&f.props.style&&f.props.style.display==="contents"||(o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Bn(t,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),l&&(n.x*=l.x.scale,n.y*=l.y.scale,Vu(t,l)),o&&gn(u.latestValues)&&Bn(t,u.latestValues))}n.x<wl&&n.x>bl&&(n.x=1),n.y<wl&&n.y>bl&&(n.y=1)}function zn(t,n){t.min=t.min+n,t.max=t.max+n}function Sl(t,n,s,o,a=.5){const u=Fe(t.min,t.max,a);$o(t,n,s,u,o)}function Bn(t,n){Sl(t.x,n.x,n.scaleX,n.scale,n.originX),Sl(t.y,n.y,n.scaleY,n.scale,n.originY)}function Zu(t,n){return Bu(og(t.getBoundingClientRect(),n))}function ag(t,n,s){const o=Zu(t,s),{scroll:a}=n;return a&&(zn(o.x,a.offset.x),zn(o.y,a.offset.y)),o}const Tl=()=>({translate:0,scale:1,origin:0,originPoint:0}),Fn=()=>({x:Tl(),y:Tl()}),Al=()=>({min:0,max:0}),Ge=()=>({x:Al(),y:Al()}),Ko={current:null},Wu={current:!1};function lg(){if(Wu.current=!0,!!lr)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),n=()=>Ko.current=t.matches;t.addEventListener("change",n),n()}else Ko.current=!1}const cg=new WeakMap;function ug(t,n,s){for(const o in n){const a=n[o],u=s[o];if(it(a))t.addValue(o,a);else if(it(u))t.addValue(o,Hn(a,{owner:t}));else if(u!==a)if(t.hasValue(o)){const l=t.getValue(o);l.liveStyle===!0?l.jump(a):l.hasAnimated||l.set(a)}else{const l=t.getStaticValue(o);t.addValue(o,Hn(l!==void 0?l:a,{owner:t}))}}for(const o in s)n[o]===void 0&&t.removeValue(o);return n}const Cl=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class dg{scrapeMotionValuesFromProps(n,s,o){return{}}constructor({parent:n,props:s,presenceContext:o,reducedMotionConfig:a,blockInitialAnimation:u,visualState:l},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ar,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=at.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,ze.render(this.render,!1,!0))};const{latestValues:f,renderState:g}=l;this.latestValues=f,this.baseTarget={...f},this.initialValues=s.initial?{...f}:{},this.renderState=g,this.parent=n,this.props=s,this.presenceContext=o,this.depth=n?n.depth+1:0,this.reducedMotionConfig=a,this.options=d,this.blockInitialAnimation=!!u,this.isControllingVariants=ks(s),this.isVariantNode=ku(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(n&&n.current);const{willChange:p,...v}=this.scrapeMotionValuesFromProps(s,{},this);for(const y in v){const b=v[y];f[y]!==void 0&&it(b)&&b.set(f[y])}}mount(n){var s;this.current=n,cg.set(n,this),this.projection&&!this.projection.instance&&this.projection.mount(n),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((o,a)=>this.bindToMotionValue(a,o)),Wu.current||lg(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ko.current,(s=this.parent)==null||s.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var n;this.projection&&this.projection.unmount(),tn(this.notifyUpdate),tn(this.render),this.valueSubscriptions.forEach(s=>s()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(n=this.parent)==null||n.removeChild(this);for(const s in this.events)this.events[s].clear();for(const s in this.features){const o=this.features[s];o&&(o.unmount(),o.isMounted=!1)}this.current=null}addChild(n){this.children.add(n),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(n)}removeChild(n){this.children.delete(n),this.enteringChildren&&this.enteringChildren.delete(n)}bindToMotionValue(n,s){this.valueSubscriptions.has(n)&&this.valueSubscriptions.get(n)();const o=$n.has(n);o&&this.onBindTransform&&this.onBindTransform();const a=s.on("change",l=>{this.latestValues[n]=l,this.props.onUpdate&&ze.preRender(this.notifyUpdate),o&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,n,s)),this.valueSubscriptions.set(n,()=>{a(),u&&u(),s.owner&&s.stop()})}sortNodePosition(n){return!this.current||!this.sortInstanceNodePosition||this.type!==n.type?0:this.sortInstanceNodePosition(this.current,n.current)}updateFeatures(){let n="animation";for(n in Gn){const s=Gn[n];if(!s)continue;const{isEnabled:o,Feature:a}=s;if(!this.features[n]&&a&&o(this.props)&&(this.features[n]=new a(this)),this.features[n]){const u=this.features[n];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ge()}getStaticValue(n){return this.latestValues[n]}setStaticValue(n,s){this.latestValues[n]=s}update(n,s){(n.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=n,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let o=0;o<Cl.length;o++){const a=Cl[o];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const u="on"+a,l=n[u];l&&(this.propEventSubscriptions[a]=this.on(a,l))}this.prevMotionValues=ug(this,this.scrapeMotionValuesFromProps(n,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(n){return this.props.variants?this.props.variants[n]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(n){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(n),()=>s.variantChildren.delete(n)}addValue(n,s){const o=this.values.get(n);s!==o&&(o&&this.removeValue(n),this.bindToMotionValue(n,s),this.values.set(n,s),this.latestValues[n]=s.get())}removeValue(n){this.values.delete(n);const s=this.valueSubscriptions.get(n);s&&(s(),this.valueSubscriptions.delete(n)),delete this.latestValues[n],this.removeValueFromRenderState(n,this.renderState)}hasValue(n){return this.values.has(n)}getValue(n,s){if(this.props.values&&this.props.values[n])return this.props.values[n];let o=this.values.get(n);return o===void 0&&s!==void 0&&(o=Hn(s===null?void 0:s,{owner:this}),this.addValue(n,o)),o}readValue(n,s){let o=this.latestValues[n]!==void 0||!this.current?this.latestValues[n]:this.getBaseTargetFromProps(this.props,n)??this.readValueFromInstance(this.current,n,this.options);return o!=null&&(typeof o=="string"&&(Rc(o)||jc(o))?o=parseFloat(o):!_p(o)&&nn.test(s)&&(o=vu(n,s)),this.setBaseTarget(n,it(o)?o.get():o)),it(o)?o.get():o}setBaseTarget(n,s){this.baseTarget[n]=s}getBaseTarget(n){var u;const{initial:s}=this.props;let o;if(typeof s=="string"||typeof s=="object"){const l=Or(this.props,s,(u=this.presenceContext)==null?void 0:u.custom);l&&(o=l[n])}if(s&&o!==void 0)return o;const a=this.getBaseTargetFromProps(this.props,n);return a!==void 0&&!it(a)?a:this.initialValues[n]!==void 0&&o===void 0?void 0:this.baseTarget[n]}on(n,s){return this.events[n]||(this.events[n]=new fr),this.events[n].add(s)}notify(n,...s){this.events[n]&&this.events[n].notify(...s)}scheduleRenderMicrotask(){kr.render(this.render)}}class Hu extends dg{constructor(){super(...arguments),this.KeyframeResolver=ap}sortInstanceNodePosition(n,s){return n.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(n,s){return n.style?n.style[s]:void 0}removeValueFromRenderState(n,{vars:s,style:o}){delete s[n],delete o[n]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:n}=this.props;it(n)&&(this.childSubscription=n.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function Gu(t,{style:n,vars:s},o,a){const u=t.style;let l;for(l in n)u[l]=n[l];a==null||a.applyProjectionStyles(u,o);for(l in s)u.setProperty(l,s[l])}function hg(t){return window.getComputedStyle(t)}class fg extends Hu{constructor(){super(...arguments),this.type="html",this.renderInstance=Gu}readValueFromInstance(n,s){var o;if($n.has(s))return(o=this.projection)!=null&&o.isProjecting?Fo(s):Cm(n,s);{const a=hg(n),u=(gr(s)?a.getPropertyValue(s):a[s])||0;return typeof u=="string"?u.trim():u}}measureInstanceViewportBox(n,{transformPagePoint:s}){return Zu(n,s)}build(n,s,o){Nr(n,s,o.transformTemplate)}scrapeMotionValuesFromProps(n,s,o){return jr(n,s,o)}}const Ju=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function mg(t,n,s,o){Gu(t,n,void 0,o);for(const a in n.attrs)t.setAttribute(Ju.has(a)?a:zr(a),n.attrs[a])}class pg extends Hu{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ge}getBaseTargetFromProps(n,s){return n[s]}readValueFromInstance(n,s){if($n.has(s)){const o=yu(s);return o&&o.default||0}return s=Ju.has(s)?s:zr(s),n.getAttribute(s)}scrapeMotionValuesFromProps(n,s,o){return Ru(n,s,o)}build(n,s,o){Lu(n,s,this.isSVGTag,o.transformTemplate,o.style)}renderInstance(n,s,o,a){mg(n,s,o,a)}mount(n){this.isSVGTag=Nu(n.tagName),super.mount(n)}}const gg=(t,n)=>Rr(t)?new pg(n):new fg(n,{allowProjection:t!==x.Fragment});function Zn(t,n,s){const o=t.getProps();return Or(o,n,s!==void 0?s:o.custom,t)}const Xo=t=>Array.isArray(t);function yg(t,n,s){t.hasValue(n)?t.getValue(n).set(s):t.addValue(n,Hn(s))}function vg(t){return Xo(t)?t[t.length-1]||0:t}function _g(t,n){const s=Zn(t,n);let{transitionEnd:o={},transition:a={},...u}=s||{};u={...u,...o};for(const l in u){const d=vg(u[l]);yg(t,l,d)}}function xg(t){return!!(it(t)&&t.add)}function qo(t,n){const s=t.getValue("willChange");if(xg(s))return s.add(n);if(!s&&Jt.WillChange){const o=new Jt.WillChange("auto");t.addValue("willChange",o),o.add(n)}}function Uu(t){return t.props[Ou]}const bg=t=>t!==null;function wg(t,{repeat:n,repeatType:s="loop"},o){const a=t.filter(bg),u=n&&s!=="loop"&&n%2===1?0:a.length-1;return a[u]}const Sg={type:"spring",stiffness:500,damping:25,restSpeed:10},Tg=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Ag={type:"keyframes",duration:.8},Cg={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Pg=(t,{keyframes:n})=>n.length>2?Ag:$n.has(t)?t.startsWith("scale")?Tg(n[1]):Sg:Cg;function kg({when:t,delay:n,delayChildren:s,staggerChildren:o,staggerDirection:a,repeat:u,repeatType:l,repeatDelay:d,from:f,elapsed:g,...p}){return!!Object.keys(p).length}const Br=(t,n,s,o={},a,u)=>l=>{const d=Cr(o,t)||{},f=d.delay||o.delay||0;let{elapsed:g=0}=o;g=g-Nt(f);const p={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:n.getVelocity(),...d,delay:-g,onUpdate:y=>{n.set(y),d.onUpdate&&d.onUpdate(y)},onComplete:()=>{l(),d.onComplete&&d.onComplete()},name:t,motionValue:n,element:u?void 0:a};kg(d)||Object.assign(p,Pg(t,p)),p.duration&&(p.duration=Nt(p.duration)),p.repeatDelay&&(p.repeatDelay=Nt(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let v=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(Go(p),p.delay===0&&(v=!0)),(Jt.instantAnimations||Jt.skipAnimations)&&(v=!0,Go(p),p.delay=0),p.allowFlatten=!d.type&&!d.ease,v&&!u&&n.get()!==void 0){const y=wg(p.keyframes,d);if(y!==void 0){ze.update(()=>{p.onUpdate(y),p.onComplete()});return}}return d.isSync?new Tr(p):new Km(p)};function Mg({protectedKeys:t,needsAnimating:n},s){const o=t.hasOwnProperty(s)&&n[s]!==!0;return n[s]=!1,o}function $u(t,n,{delay:s=0,transitionOverride:o,type:a}={}){let{transition:u=t.getDefaultTransition(),transitionEnd:l,...d}=n;o&&(u=o);const f=[],g=a&&t.animationState&&t.animationState.getState()[a];for(const p in d){const v=t.getValue(p,t.latestValues[p]??null),y=d[p];if(y===void 0||g&&Mg(g,p))continue;const b={delay:s,...Cr(u||{},p)},A=v.get();if(A!==void 0&&!v.isAnimating&&!Array.isArray(y)&&y===A&&!b.velocity)continue;let S=!1;if(window.MotionHandoffAnimation){const C=Uu(t);if(C){const R=window.MotionHandoffAnimation(C,p,ze);R!==null&&(b.startTime=R,S=!0)}}qo(t,p),v.start(Br(p,v,y,t.shouldReduceMotion&&mu.has(p)?{type:!1}:b,t,S));const M=v.animation;M&&f.push(M)}return l&&Promise.all(f).then(()=>{ze.update(()=>{l&&_g(t,l)})}),f}function Ku(t,n,s,o=0,a=1){const u=Array.from(t).sort((g,p)=>g.sortNodePosition(p)).indexOf(n),l=t.size,d=(l-1)*o;return typeof s=="function"?s(u,l):a===1?u*o:d-u*o}function Yo(t,n,s={}){var f;const o=Zn(t,n,s.type==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=o||{};s.transitionOverride&&(a=s.transitionOverride);const u=o?()=>Promise.all($u(t,o,s)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(g=0)=>{const{delayChildren:p=0,staggerChildren:v,staggerDirection:y}=a;return Dg(t,n,g,p,v,y,s)}:()=>Promise.resolve(),{when:d}=a;if(d){const[g,p]=d==="beforeChildren"?[u,l]:[l,u];return g().then(()=>p())}else return Promise.all([u(),l(s.delay)])}function Dg(t,n,s=0,o=0,a=0,u=1,l){const d=[];for(const f of t.variantChildren)f.notify("AnimationStart",n),d.push(Yo(f,n,{...l,delay:s+(typeof o=="function"?0:o)+Ku(t.variantChildren,f,o,a,u)}).then(()=>f.notify("AnimationComplete",n)));return Promise.all(d)}function Lg(t,n,s={}){t.notify("AnimationStart",n);let o;if(Array.isArray(n)){const a=n.map(u=>Yo(t,u,s));o=Promise.all(a)}else if(typeof n=="string")o=Yo(t,n,s);else{const a=typeof n=="function"?Zn(t,n,s.custom):n;o=Promise.all($u(t,a,s))}return o.then(()=>{t.notify("AnimationComplete",n)})}function Xu(t,n){if(!Array.isArray(n))return!1;const s=n.length;if(s!==t.length)return!1;for(let o=0;o<s;o++)if(n[o]!==t[o])return!1;return!0}const Eg=Er.length;function qu(t){if(!t)return;if(!t.isControllingVariants){const s=t.parent?qu(t.parent)||{}:{};return t.props.initial!==void 0&&(s.initial=t.props.initial),s}const n={};for(let s=0;s<Eg;s++){const o=Er[s],a=t.props[o];(Ai(a)||a===!1)&&(n[o]=a)}return n}const Ng=[...Lr].reverse(),Ig=Lr.length;function Rg(t){return n=>Promise.all(n.map(({animation:s,options:o})=>Lg(t,s,o)))}function Og(t){let n=Rg(t),s=Pl(),o=!0;const a=f=>(g,p)=>{var y;const v=Zn(t,p,f==="exit"?(y=t.presenceContext)==null?void 0:y.custom:void 0);if(v){const{transition:b,transitionEnd:A,...S}=v;g={...g,...S,...A}}return g};function u(f){n=f(t)}function l(f){const{props:g}=t,p=qu(t.parent)||{},v=[],y=new Set;let b={},A=1/0;for(let M=0;M<Ig;M++){const C=Ng[M],R=s[C],T=g[C]!==void 0?g[C]:p[C],k=Ai(T),E=C===f?R.isActive:null;E===!1&&(A=M);let z=T===p[C]&&T!==g[C]&&k;if(z&&o&&t.manuallyAnimateOnMount&&(z=!1),R.protectedKeys={...b},!R.isActive&&E===null||!T&&!R.prevProp||Ps(T)||typeof T=="boolean")continue;const O=jg(R.prevProp,T);let V=O||C===f&&R.isActive&&!z&&k||M>A&&k,Y=!1;const ee=Array.isArray(T)?T:[T];let K=ee.reduce(a(C),{});E===!1&&(K={});const{prevResolvedValues:U={}}=R,ge={...U,...K},ie=ue=>{V=!0,y.has(ue)&&(Y=!0,y.delete(ue)),R.needsAnimating[ue]=!0;const $=t.getValue(ue);$&&($.liveStyle=!1)};for(const ue in ge){const $=K[ue],Ce=U[ue];if(b.hasOwnProperty(ue))continue;let Q=!1;Xo($)&&Xo(Ce)?Q=!Xu($,Ce):Q=$!==Ce,Q?$!=null?ie(ue):y.add(ue):$!==void 0&&y.has(ue)?ie(ue):R.protectedKeys[ue]=!0}R.prevProp=T,R.prevResolvedValues=K,R.isActive&&(b={...b,...K}),o&&t.blockInitialAnimation&&(V=!1);const de=z&&O;V&&(!de||Y)&&v.push(...ee.map(ue=>{const $={type:C};if(typeof ue=="string"&&o&&!de&&t.manuallyAnimateOnMount&&t.parent){const{parent:Ce}=t,Q=Zn(Ce,ue);if(Ce.enteringChildren&&Q){const{delayChildren:I}=Q.transition||{};$.delay=Ku(Ce.enteringChildren,t,I)}}return{animation:ue,options:$}}))}if(y.size){const M={};if(typeof g.initial!="boolean"){const C=Zn(t,Array.isArray(g.initial)?g.initial[0]:g.initial);C&&C.transition&&(M.transition=C.transition)}y.forEach(C=>{const R=t.getBaseTarget(C),T=t.getValue(C);T&&(T.liveStyle=!0),M[C]=R??null}),v.push({animation:M})}let S=!!v.length;return o&&(g.initial===!1||g.initial===g.animate)&&!t.manuallyAnimateOnMount&&(S=!1),o=!1,S?n(v):Promise.resolve()}function d(f,g){var v;if(s[f].isActive===g)return Promise.resolve();(v=t.variantChildren)==null||v.forEach(y=>{var b;return(b=y.animationState)==null?void 0:b.setActive(f,g)}),s[f].isActive=g;const p=l(f);for(const y in s)s[y].protectedKeys={};return p}return{animateChanges:l,setActive:d,setAnimateFunction:u,getState:()=>s,reset:()=>{s=Pl()}}}function jg(t,n){return typeof n=="string"?n!==t:Array.isArray(n)?!Xu(n,t):!1}function hn(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Pl(){return{animate:hn(!0),whileInView:hn(),whileHover:hn(),whileTap:hn(),whileDrag:hn(),whileFocus:hn(),exit:hn()}}class sn{constructor(n){this.isMounted=!1,this.node=n}update(){}}class zg extends sn{constructor(n){super(n),n.animationState||(n.animationState=Og(n))}updateAnimationControlsSubscription(){const{animate:n}=this.node.getProps();Ps(n)&&(this.unmountControls=n.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:n}=this.node.getProps(),{animate:s}=this.node.prevProps||{};n!==s&&this.updateAnimationControlsSubscription()}unmount(){var n;this.node.animationState.reset(),(n=this.unmountControls)==null||n.call(this)}}let Bg=0;class Fg extends sn{constructor(){super(...arguments),this.id=Bg++}update(){if(!this.node.presenceContext)return;const{isPresent:n,onExitComplete:s}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||n===o)return;const a=this.node.animationState.setActive("exit",!n);s&&!n&&a.then(()=>{s(this.id)})}mount(){const{register:n,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),n&&(this.unmount=n(this.id))}unmount(){}}const Vg={animation:{Feature:zg},exit:{Feature:Fg}};function Pi(t,n,s,o={passive:!0}){return t.addEventListener(n,s,o),()=>t.removeEventListener(n,s)}function Ni(t){return{point:{x:t.pageX,y:t.pageY}}}const Zg=t=>n=>Mr(n)&&t(n,Ni(n));function vi(t,n,s,o){return Pi(t,n,Zg(s),o)}const Yu=1e-4,Wg=1-Yu,Hg=1+Yu,Qu=.01,Gg=0-Qu,Jg=0+Qu;function ot(t){return t.max-t.min}function Ug(t,n,s){return Math.abs(t-n)<=s}function kl(t,n,s,o=.5){t.origin=o,t.originPoint=Fe(n.min,n.max,t.origin),t.scale=ot(s)/ot(n),t.translate=Fe(s.min,s.max,t.origin)-t.originPoint,(t.scale>=Wg&&t.scale<=Hg||isNaN(t.scale))&&(t.scale=1),(t.translate>=Gg&&t.translate<=Jg||isNaN(t.translate))&&(t.translate=0)}function _i(t,n,s,o){kl(t.x,n.x,s.x,o?o.originX:void 0),kl(t.y,n.y,s.y,o?o.originY:void 0)}function Ml(t,n,s){t.min=s.min+n.min,t.max=t.min+ot(n)}function $g(t,n,s){Ml(t.x,n.x,s.x),Ml(t.y,n.y,s.y)}function Dl(t,n,s){t.min=n.min-s.min,t.max=t.min+ot(n)}function xi(t,n,s){Dl(t.x,n.x,s.x),Dl(t.y,n.y,s.y)}function pt(t){return[t("x"),t("y")]}const ed=({current:t})=>t?t.ownerDocument.defaultView:null,Ll=(t,n)=>Math.abs(t-n);function Kg(t,n){const s=Ll(t.x,n.x),o=Ll(t.y,n.y);return Math.sqrt(s**2+o**2)}class td{constructor(n,s,{transformPagePoint:o,contextWindow:a=window,dragSnapToOrigin:u=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=wo(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,A=Kg(y.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!A)return;const{point:S}=y,{timestamp:M}=Qe;this.history.push({...S,timestamp:M});const{onStart:C,onMove:R}=this.handlers;b||(C&&C(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),R&&R(this.lastMoveEvent,y)},this.handlePointerMove=(y,b)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=bo(b,this.transformPagePoint),ze.update(this.updatePoint,!0)},this.handlePointerUp=(y,b)=>{this.end();const{onEnd:A,onSessionEnd:S,resumeAnimation:M}=this.handlers;if(this.dragSnapToOrigin&&M&&M(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=wo(y.type==="pointercancel"?this.lastMoveEventInfo:bo(b,this.transformPagePoint),this.history);this.startEvent&&A&&A(y,C),S&&S(y,C)},!Mr(n))return;this.dragSnapToOrigin=u,this.handlers=s,this.transformPagePoint=o,this.distanceThreshold=l,this.contextWindow=a||window;const d=Ni(n),f=bo(d,this.transformPagePoint),{point:g}=f,{timestamp:p}=Qe;this.history=[{...g,timestamp:p}];const{onSessionStart:v}=s;v&&v(n,wo(f,this.history)),this.removeListeners=Di(vi(this.contextWindow,"pointermove",this.handlePointerMove),vi(this.contextWindow,"pointerup",this.handlePointerUp),vi(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(n){this.handlers=n}end(){this.removeListeners&&this.removeListeners(),tn(this.updatePoint)}}function bo(t,n){return n?{point:n(t.point)}:t}function El(t,n){return{x:t.x-n.x,y:t.y-n.y}}function wo({point:t},n){return{point:t,delta:El(t,nd(n)),offset:El(t,Xg(n)),velocity:qg(n,.1)}}function Xg(t){return t[0]}function nd(t){return t[t.length-1]}function qg(t,n){if(t.length<2)return{x:0,y:0};let s=t.length-1,o=null;const a=nd(t);for(;s>=0&&(o=t[s],!(a.timestamp-o.timestamp>Nt(n)));)s--;if(!o)return{x:0,y:0};const u=gt(a.timestamp-o.timestamp);if(u===0)return{x:0,y:0};const l={x:(a.x-o.x)/u,y:(a.y-o.y)/u};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function Yg(t,{min:n,max:s},o){return n!==void 0&&t<n?t=o?Fe(n,t,o.min):Math.max(t,n):s!==void 0&&t>s&&(t=o?Fe(s,t,o.max):Math.min(t,s)),t}function Nl(t,n,s){return{min:n!==void 0?t.min+n:void 0,max:s!==void 0?t.max+s-(t.max-t.min):void 0}}function Qg(t,{top:n,left:s,bottom:o,right:a}){return{x:Nl(t.x,s,a),y:Nl(t.y,n,o)}}function Il(t,n){let s=n.min-t.min,o=n.max-t.max;return n.max-n.min<t.max-t.min&&([s,o]=[o,s]),{min:s,max:o}}function ey(t,n){return{x:Il(t.x,n.x),y:Il(t.y,n.y)}}function ty(t,n){let s=.5;const o=ot(t),a=ot(n);return a>o?s=wi(n.min,n.max-o,t.min):o>a&&(s=wi(t.min,t.max-a,n.min)),Gt(0,1,s)}function ny(t,n){const s={};return n.min!==void 0&&(s.min=n.min-t.min),n.max!==void 0&&(s.max=n.max-t.min),s}const Qo=.35;function iy(t=Qo){return t===!1?t=0:t===!0&&(t=Qo),{x:Rl(t,"left","right"),y:Rl(t,"top","bottom")}}function Rl(t,n,s){return{min:Ol(t,n),max:Ol(t,s)}}function Ol(t,n){return typeof t=="number"?t:t[n]||0}const sy=new WeakMap;class oy{constructor(n){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ge(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=n}start(n,{snapToCursor:s=!1,distanceThreshold:o}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const u=v=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(Ni(v).point)},l=(v,y)=>{const{drag:b,dragPropagation:A,onDragStart:S}=this.getProps();if(b&&!A&&(this.openDragLock&&this.openDragLock(),this.openDragLock=dp(b),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=y,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),pt(C=>{let R=this.getAxisMotionValue(C).get()||0;if(It.test(R)){const{projection:T}=this.visualElement;if(T&&T.layout){const k=T.layout.layoutBox[C];k&&(R=ot(k)*(parseFloat(R)/100))}}this.originPoint[C]=R}),S&&ze.postRender(()=>S(v,y)),qo(this.visualElement,"transform");const{animationState:M}=this.visualElement;M&&M.setActive("whileDrag",!0)},d=(v,y)=>{this.latestPointerEvent=v,this.latestPanInfo=y;const{dragPropagation:b,dragDirectionLock:A,onDirectionLock:S,onDrag:M}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:C}=y;if(A&&this.currentDirection===null){this.currentDirection=ry(C),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",y.point,C),this.updateAxis("y",y.point,C),this.visualElement.render(),M&&M(v,y)},f=(v,y)=>{this.latestPointerEvent=v,this.latestPanInfo=y,this.stop(v,y),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>pt(v=>{var y;return this.getAnimationState(v)==="paused"&&((y=this.getAxisMotionValue(v).animation)==null?void 0:y.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new td(n,{onSessionStart:u,onStart:l,onMove:d,onSessionEnd:f,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:o,contextWindow:ed(this.visualElement)})}stop(n,s){const o=n||this.latestPointerEvent,a=s||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!a||!o)return;const{velocity:l}=a;this.startAnimation(l);const{onDragEnd:d}=this.getProps();d&&ze.postRender(()=>d(o,a))}cancel(){this.isDragging=!1;const{projection:n,animationState:s}=this.visualElement;n&&(n.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:o}=this.getProps();!o&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(n,s,o){const{drag:a}=this.getProps();if(!o||!is(n,a,this.currentDirection))return;const u=this.getAxisMotionValue(n);let l=this.originPoint[n]+o[n];this.constraints&&this.constraints[n]&&(l=Yg(l,this.constraints[n],this.elastic[n])),u.set(l)}resolveConstraints(){var u;const{dragConstraints:n,dragElastic:s}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(u=this.visualElement.projection)==null?void 0:u.layout,a=this.constraints;n&&jn(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&o?this.constraints=Qg(o.layoutBox,n):this.constraints=!1,this.elastic=iy(s),a!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&pt(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=ny(o.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:n,onMeasureDragConstraints:s}=this.getProps();if(!n||!jn(n))return!1;const o=n.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const u=ag(o,a.root,this.visualElement.getTransformPagePoint());let l=ey(a.layout.layoutBox,u);if(s){const d=s(sg(l));this.hasMutatedConstraints=!!d,d&&(l=Bu(d))}return l}startAnimation(n){const{drag:s,dragMomentum:o,dragElastic:a,dragTransition:u,dragSnapToOrigin:l,onDragTransitionEnd:d}=this.getProps(),f=this.constraints||{},g=pt(p=>{if(!is(p,s,this.currentDirection))return;let v=f&&f[p]||{};l&&(v={min:0,max:0});const y=a?200:1e6,b=a?40:1e7,A={type:"inertia",velocity:o?n[p]:0,bounceStiffness:y,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...u,...v};return this.startAxisValueAnimation(p,A)});return Promise.all(g).then(d)}startAxisValueAnimation(n,s){const o=this.getAxisMotionValue(n);return qo(this.visualElement,n),o.start(Br(n,o,0,s,this.visualElement,!1))}stopAnimation(){pt(n=>this.getAxisMotionValue(n).stop())}pauseAnimation(){pt(n=>{var s;return(s=this.getAxisMotionValue(n).animation)==null?void 0:s.pause()})}getAnimationState(n){var s;return(s=this.getAxisMotionValue(n).animation)==null?void 0:s.state}getAxisMotionValue(n){const s=`_drag${n.toUpperCase()}`,o=this.visualElement.getProps(),a=o[s];return a||this.visualElement.getValue(n,(o.initial?o.initial[n]:void 0)||0)}snapToCursor(n){pt(s=>{const{drag:o}=this.getProps();if(!is(s,o,this.currentDirection))return;const{projection:a}=this.visualElement,u=this.getAxisMotionValue(s);if(a&&a.layout){const{min:l,max:d}=a.layout.layoutBox[s];u.set(n[s]-Fe(l,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:n,dragConstraints:s}=this.getProps(),{projection:o}=this.visualElement;if(!jn(s)||!o||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};pt(l=>{const d=this.getAxisMotionValue(l);if(d&&this.constraints!==!1){const f=d.get();a[l]=ty({min:f,max:f},this.constraints[l])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",o.root&&o.root.updateScroll(),o.updateLayout(),this.resolveConstraints(),pt(l=>{if(!is(l,n,null))return;const d=this.getAxisMotionValue(l),{min:f,max:g}=this.constraints[l];d.set(Fe(f,g,a[l]))})}addListeners(){if(!this.visualElement.current)return;sy.set(this.visualElement,this);const n=this.visualElement.current,s=vi(n,"pointerdown",f=>{const{drag:g,dragListener:p=!0}=this.getProps();g&&p&&this.start(f)}),o=()=>{const{dragConstraints:f}=this.getProps();jn(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,u=a.addEventListener("measure",o);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),ze.read(o);const l=Pi(window,"resize",()=>this.scalePositionWithinConstraints()),d=a.addEventListener("didUpdate",({delta:f,hasLayoutChanged:g})=>{this.isDragging&&g&&(pt(p=>{const v=this.getAxisMotionValue(p);v&&(this.originPoint[p]+=f[p].translate,v.set(v.get()+f[p].translate))}),this.visualElement.render())});return()=>{l(),s(),u(),d&&d()}}getProps(){const n=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:o=!1,dragPropagation:a=!1,dragConstraints:u=!1,dragElastic:l=Qo,dragMomentum:d=!0}=n;return{...n,drag:s,dragDirectionLock:o,dragPropagation:a,dragConstraints:u,dragElastic:l,dragMomentum:d}}}function is(t,n,s){return(n===!0||n===t)&&(s===null||s===t)}function ry(t,n=10){let s=null;return Math.abs(t.y)>n?s="y":Math.abs(t.x)>n&&(s="x"),s}class ay extends sn{constructor(n){super(n),this.removeGroupControls=yt,this.removeListeners=yt,this.controls=new oy(n)}mount(){const{dragControls:n}=this.node.getProps();n&&(this.removeGroupControls=n.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||yt}unmount(){this.removeGroupControls(),this.removeListeners()}}const jl=t=>(n,s)=>{t&&ze.postRender(()=>t(n,s))};class ly extends sn{constructor(){super(...arguments),this.removePointerDownListener=yt}onPointerDown(n){this.session=new td(n,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ed(this.node)})}createPanHandlers(){const{onPanSessionStart:n,onPanStart:s,onPan:o,onPanEnd:a}=this.node.getProps();return{onSessionStart:jl(n),onStart:jl(s),onMove:o,onEnd:(u,l)=>{delete this.session,a&&ze.postRender(()=>a(u,l))}}}mount(){this.removePointerDownListener=vi(this.node.current,"pointerdown",n=>this.onPointerDown(n))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const us={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function zl(t,n){return n.max===n.min?0:t/(n.max-n.min)*100}const ai={correct:(t,n)=>{if(!n.target)return t;if(typeof t=="string")if(re.test(t))t=parseFloat(t);else return t;const s=zl(t,n.target.x),o=zl(t,n.target.y);return`${s}% ${o}%`}},cy={correct:(t,{treeScale:n,projectionDelta:s})=>{const o=t,a=nn.parse(t);if(a.length>5)return o;const u=nn.createTransformer(t),l=typeof a[0]!="number"?1:0,d=s.x.scale*n.x,f=s.y.scale*n.y;a[0+l]/=d,a[1+l]/=f;const g=Fe(d,f,.5);return typeof a[2+l]=="number"&&(a[2+l]/=g),typeof a[3+l]=="number"&&(a[3+l]/=g),u(a)}};let So=!1;class uy extends x.Component{componentDidMount(){const{visualElement:n,layoutGroup:s,switchLayoutGroup:o,layoutId:a}=this.props,{projection:u}=n;Ep(dy),u&&(s.group&&s.group.add(u),o&&o.register&&a&&o.register(u),So&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),us.hasEverUpdated=!0}getSnapshotBeforeUpdate(n){const{layoutDependency:s,visualElement:o,drag:a,isPresent:u}=this.props,{projection:l}=o;return l&&(l.isPresent=u,So=!0,a||n.layoutDependency!==s||s===void 0||n.isPresent!==u?l.willUpdate():this.safeToRemove(),n.isPresent!==u&&(u?l.promote():l.relegate()||ze.postRender(()=>{const d=l.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:n}=this.props.visualElement;n&&(n.root.didUpdate(),kr.postRender(()=>{!n.currentAnimation&&n.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:n,layoutGroup:s,switchLayoutGroup:o}=this.props,{projection:a}=n;So=!0,a&&(a.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(a),o&&o.deregister&&o.deregister(a))}safeToRemove(){const{safeToRemove:n}=this.props;n&&n()}render(){return null}}function id(t){const[n,s]=Au(),o=x.useContext(rr);return m.jsx(uy,{...t,layoutGroup:o,switchLayoutGroup:x.useContext(ju),isPresent:n,safeToRemove:s})}const dy={borderRadius:{...ai,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ai,borderTopRightRadius:ai,borderBottomLeftRadius:ai,borderBottomRightRadius:ai,boxShadow:cy};function hy(t,n,s){const o=it(t)?t:Hn(t);return o.start(Br("",o,n,s)),o.animation}const fy=(t,n)=>t.depth-n.depth;class my{constructor(){this.children=[],this.isDirty=!1}add(n){cr(this.children,n),this.isDirty=!0}remove(n){ur(this.children,n),this.isDirty=!0}forEach(n){this.isDirty&&this.children.sort(fy),this.isDirty=!1,this.children.forEach(n)}}function py(t,n){const s=at.now(),o=({timestamp:a})=>{const u=a-s;u>=n&&(tn(o),t(u-n))};return ze.setup(o,!0),()=>tn(o)}const sd=["TopLeft","TopRight","BottomLeft","BottomRight"],gy=sd.length,Bl=t=>typeof t=="string"?parseFloat(t):t,Fl=t=>typeof t=="number"||re.test(t);function yy(t,n,s,o,a,u){a?(t.opacity=Fe(0,s.opacity??1,vy(o)),t.opacityExit=Fe(n.opacity??1,0,_y(o))):u&&(t.opacity=Fe(n.opacity??1,s.opacity??1,o));for(let l=0;l<gy;l++){const d=`border${sd[l]}Radius`;let f=Vl(n,d),g=Vl(s,d);if(f===void 0&&g===void 0)continue;f||(f=0),g||(g=0),f===0||g===0||Fl(f)===Fl(g)?(t[d]=Math.max(Fe(Bl(f),Bl(g),o),0),(It.test(g)||It.test(f))&&(t[d]+="%")):t[d]=g}(n.rotate||s.rotate)&&(t.rotate=Fe(n.rotate||0,s.rotate||0,o))}function Vl(t,n){return t[n]!==void 0?t[n]:t.borderRadius}const vy=od(0,.5,Gc),_y=od(.5,.95,yt);function od(t,n,s){return o=>o<t?0:o>n?1:s(wi(t,n,o))}function Zl(t,n){t.min=n.min,t.max=n.max}function mt(t,n){Zl(t.x,n.x),Zl(t.y,n.y)}function Wl(t,n){t.translate=n.translate,t.scale=n.scale,t.originPoint=n.originPoint,t.origin=n.origin}function Hl(t,n,s,o,a){return t-=n,t=xs(t,1/s,o),a!==void 0&&(t=xs(t,1/a,o)),t}function xy(t,n=0,s=1,o=.5,a,u=t,l=t){if(It.test(n)&&(n=parseFloat(n),n=Fe(l.min,l.max,n/100)-l.min),typeof n!="number")return;let d=Fe(u.min,u.max,o);t===u&&(d-=n),t.min=Hl(t.min,n,s,d,a),t.max=Hl(t.max,n,s,d,a)}function Gl(t,n,[s,o,a],u,l){xy(t,n[s],n[o],n[a],n.scale,u,l)}const by=["x","scaleX","originX"],wy=["y","scaleY","originY"];function Jl(t,n,s,o){Gl(t.x,n,by,s?s.x:void 0,o?o.x:void 0),Gl(t.y,n,wy,s?s.y:void 0,o?o.y:void 0)}function Ul(t){return t.translate===0&&t.scale===1}function rd(t){return Ul(t.x)&&Ul(t.y)}function $l(t,n){return t.min===n.min&&t.max===n.max}function Sy(t,n){return $l(t.x,n.x)&&$l(t.y,n.y)}function Kl(t,n){return Math.round(t.min)===Math.round(n.min)&&Math.round(t.max)===Math.round(n.max)}function ad(t,n){return Kl(t.x,n.x)&&Kl(t.y,n.y)}function Xl(t){return ot(t.x)/ot(t.y)}function ql(t,n){return t.translate===n.translate&&t.scale===n.scale&&t.originPoint===n.originPoint}class Ty{constructor(){this.members=[]}add(n){cr(this.members,n),n.scheduleRender()}remove(n){if(ur(this.members,n),n===this.prevLead&&(this.prevLead=void 0),n===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(n){const s=this.members.findIndex(a=>n===a);if(s===0)return!1;let o;for(let a=s;a>=0;a--){const u=this.members[a];if(u.isPresent!==!1){o=u;break}}return o?(this.promote(o),!0):!1}promote(n,s){const o=this.lead;if(n!==o&&(this.prevLead=o,this.lead=n,n.show(),o)){o.instance&&o.scheduleRender(),n.scheduleRender(),n.resumeFrom=o,s&&(n.resumeFrom.preserveOpacity=!0),o.snapshot&&(n.snapshot=o.snapshot,n.snapshot.latestValues=o.animationValues||o.latestValues),n.root&&n.root.isUpdating&&(n.isLayoutDirty=!0);const{crossfade:a}=n.options;a===!1&&o.hide()}}exitAnimationComplete(){this.members.forEach(n=>{const{options:s,resumingFrom:o}=n;s.onExitComplete&&s.onExitComplete(),o&&o.options.onExitComplete&&o.options.onExitComplete()})}scheduleRender(){this.members.forEach(n=>{n.instance&&n.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Ay(t,n,s){let o="";const a=t.x.translate/n.x,u=t.y.translate/n.y,l=(s==null?void 0:s.z)||0;if((a||u||l)&&(o=`translate3d(${a}px, ${u}px, ${l}px) `),(n.x!==1||n.y!==1)&&(o+=`scale(${1/n.x}, ${1/n.y}) `),s){const{transformPerspective:g,rotate:p,rotateX:v,rotateY:y,skewX:b,skewY:A}=s;g&&(o=`perspective(${g}px) ${o}`),p&&(o+=`rotate(${p}deg) `),v&&(o+=`rotateX(${v}deg) `),y&&(o+=`rotateY(${y}deg) `),b&&(o+=`skewX(${b}deg) `),A&&(o+=`skewY(${A}deg) `)}const d=t.x.scale*n.x,f=t.y.scale*n.y;return(d!==1||f!==1)&&(o+=`scale(${d}, ${f})`),o||"none"}const To=["","X","Y","Z"],Cy=1e3;let Py=0;function Ao(t,n,s,o){const{latestValues:a}=n;a[t]&&(s[t]=a[t],n.setStaticValue(t,0),o&&(o[t]=0))}function ld(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:n}=t.options;if(!n)return;const s=Uu(n);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:a,layoutId:u}=t.options;window.MotionCancelOptimisedAnimation(s,"transform",ze,!(a||u))}const{parent:o}=t;o&&!o.hasCheckedOptimisedAppear&&ld(o)}function cd({attachResizeListener:t,defaultParent:n,measureScroll:s,checkIsScrollRoot:o,resetTransform:a}){return class{constructor(l={},d=n==null?void 0:n()){this.id=Py++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Dy),this.nodes.forEach(Iy),this.nodes.forEach(Ry),this.nodes.forEach(Ly)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new my)}addEventListener(l,d){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new fr),this.eventHandlers.get(l).add(d)}notifyListeners(l,...d){const f=this.eventHandlers.get(l);f&&f.notify(...d)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=Tu(l)&&!yp(l),this.instance=l;const{layoutId:d,layout:f,visualElement:g}=this.options;if(g&&!g.current&&g.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||d)&&(this.isLayoutDirty=!0),t){let p,v=0;const y=()=>this.root.updateBlockedByResize=!1;ze.read(()=>{v=window.innerWidth}),t(l,()=>{const b=window.innerWidth;b!==v&&(v=b,this.root.updateBlockedByResize=!0,p&&p(),p=py(y,250),us.hasAnimatedSinceResize&&(us.hasAnimatedSinceResize=!1,this.nodes.forEach(ec)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&g&&(d||f)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:v,hasRelativeLayoutChanged:y,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const A=this.options.transition||g.getDefaultTransition()||Fy,{onLayoutAnimationStart:S,onLayoutAnimationComplete:M}=g.getProps(),C=!this.targetLayout||!ad(this.targetLayout,b),R=!v&&y;if(this.options.layoutRoot||this.resumeFrom||R||v&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const T={...Cr(A,"layout"),onPlay:S,onComplete:M};(g.shouldReduceMotion||this.options.layoutRoot)&&(T.delay=0,T.type=!1),this.startAnimation(T),this.setAnimationOrigin(p,R)}else v||ec(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),tn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Oy),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&ld(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const v=this.path[p];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:d,layout:f}=this.options;if(d===void 0&&!f)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Yl);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Ql);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Ny),this.nodes.forEach(ky),this.nodes.forEach(My)):this.nodes.forEach(Ql),this.clearAllSnapshots();const d=at.now();Qe.delta=Gt(0,1e3/60,d-Qe.timestamp),Qe.timestamp=d,Qe.isProcessing=!0,fo.update.process(Qe),fo.preRender.process(Qe),fo.render.process(Qe),Qe.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,kr.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Ey),this.sharedNodes.forEach(jy)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ze.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ze.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ot(this.snapshot.measuredBox.x)&&!ot(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ge(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(d=!1),d&&this.instance){const f=o(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:f,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!a)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!rd(this.projectionDelta),f=this.getTransformTemplate(),g=f?f(this.latestValues,""):void 0,p=g!==this.prevTransformTemplateValue;l&&this.instance&&(d||gn(this.latestValues)||p)&&(a(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const d=this.measurePageBox();let f=this.removeElementScroll(d);return l&&(f=this.removeTransform(f)),Vy(f),{animationId:this.root.animationId,measuredBox:d,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var g;const{visualElement:l}=this.options;if(!l)return Ge();const d=l.measureViewportBox();if(!(((g=this.scroll)==null?void 0:g.wasRoot)||this.path.some(Zy))){const{scroll:p}=this.root;p&&(zn(d.x,p.offset.x),zn(d.y,p.offset.y))}return d}removeElementScroll(l){var f;const d=Ge();if(mt(d,l),(f=this.scroll)!=null&&f.wasRoot)return d;for(let g=0;g<this.path.length;g++){const p=this.path[g],{scroll:v,options:y}=p;p!==this.root&&v&&y.layoutScroll&&(v.wasRoot&&mt(d,l),zn(d.x,v.offset.x),zn(d.y,v.offset.y))}return d}applyTransform(l,d=!1){const f=Ge();mt(f,l);for(let g=0;g<this.path.length;g++){const p=this.path[g];!d&&p.options.layoutScroll&&p.scroll&&p!==p.root&&Bn(f,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),gn(p.latestValues)&&Bn(f,p.latestValues)}return gn(this.latestValues)&&Bn(f,this.latestValues),f}removeTransform(l){const d=Ge();mt(d,l);for(let f=0;f<this.path.length;f++){const g=this.path[f];if(!g.instance||!gn(g.latestValues))continue;Uo(g.latestValues)&&g.updateSnapshot();const p=Ge(),v=g.measurePageBox();mt(p,v),Jl(d,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,p)}return gn(this.latestValues)&&Jl(d,this.latestValues),d}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Qe.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var y;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==d;if(!(l||f&&this.isSharedProjectionDirty||this.isProjectionDirty||(y=this.parent)!=null&&y.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:v}=this.options;if(!(!this.layout||!(p||v))){if(this.resolvedRelativeTargetAt=Qe.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ge(),this.relativeTargetOrigin=Ge(),xi(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),mt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ge(),this.targetWithTransforms=Ge()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),$g(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):mt(this.target,this.layout.layoutBox),Vu(this.target,this.targetDelta)):mt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ge(),this.relativeTargetOrigin=Ge(),xi(this.relativeTargetOrigin,this.target,b.target),mt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Uo(this.parent.latestValues)||Fu(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var A;const l=this.getLead(),d=!!this.resumingFrom||this!==l;let f=!0;if((this.isProjectionDirty||(A=this.parent)!=null&&A.isProjectionDirty)&&(f=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===Qe.timestamp&&(f=!1),f)return;const{layout:g,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||p))return;mt(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,y=this.treeScale.y;rg(this.layoutCorrected,this.treeScale,this.path,d),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Ge());const{target:b}=l;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Wl(this.prevProjectionDelta.x,this.projectionDelta.x),Wl(this.prevProjectionDelta.y,this.projectionDelta.y)),_i(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==y||!ql(this.projectionDelta.x,this.prevProjectionDelta.x)||!ql(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var d;if((d=this.options.visualElement)==null||d.scheduleRender(),l){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Fn(),this.projectionDelta=Fn(),this.projectionDeltaWithTransform=Fn()}setAnimationOrigin(l,d=!1){const f=this.snapshot,g=f?f.latestValues:{},p={...this.latestValues},v=Fn();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const y=Ge(),b=f?f.source:void 0,A=this.layout?this.layout.source:void 0,S=b!==A,M=this.getStack(),C=!M||M.members.length<=1,R=!!(S&&!C&&this.options.crossfade===!0&&!this.path.some(By));this.animationProgress=0;let T;this.mixTargetDelta=k=>{const E=k/1e3;tc(v.x,l.x,E),tc(v.y,l.y,E),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(xi(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),zy(this.relativeTarget,this.relativeTargetOrigin,y,E),T&&Sy(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=Ge()),mt(T,this.relativeTarget)),S&&(this.animationValues=p,yy(p,g,this.latestValues,E,R,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){var d,f,g;this.notifyListeners("animationStart"),(d=this.currentAnimation)==null||d.stop(),(g=(f=this.resumingFrom)==null?void 0:f.currentAnimation)==null||g.stop(),this.pendingAnimation&&(tn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ze.update(()=>{us.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Hn(0)),this.currentAnimation=hy(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:p=>{this.mixTargetDelta(p),l.onUpdate&&l.onUpdate(p)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Cy),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:d,target:f,layout:g,latestValues:p}=l;if(!(!d||!f||!g)){if(this!==l&&this.layout&&g&&ud(this.options.animationType,this.layout.layoutBox,g.layoutBox)){f=this.target||Ge();const v=ot(this.layout.layoutBox.x);f.x.min=l.target.x.min,f.x.max=f.x.min+v;const y=ot(this.layout.layoutBox.y);f.y.min=l.target.y.min,f.y.max=f.y.min+y}mt(d,f),Bn(d,p),_i(this.projectionDeltaWithTransform,this.layoutCorrected,d,p)}}registerSharedNode(l,d){this.sharedNodes.has(l)||this.sharedNodes.set(l,new Ty),this.sharedNodes.get(l).add(d);const g=d.options.initialPromotionConfig;d.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(d):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var d;const{layoutId:l}=this.options;return l?((d=this.getStack())==null?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:l}=this.options;return l?(d=this.getStack())==null?void 0:d.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:d,preserveFollowOpacity:f}={}){const g=this.getStack();g&&g.promote(this,f),l&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let d=!1;const{latestValues:f}=l;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(d=!0),!d)return;const g={};f.z&&Ao("z",l,g,this.animationValues);for(let p=0;p<To.length;p++)Ao(`rotate${To[p]}`,l,g,this.animationValues),Ao(`skew${To[p]}`,l,g,this.animationValues);l.render();for(const p in g)l.setStaticValue(p,g[p]),this.animationValues&&(this.animationValues[p]=g[p]);l.scheduleRender()}applyProjectionStyles(l,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=cs(d==null?void 0:d.pointerEvents)||"",l.transform=f?f(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=cs(d==null?void 0:d.pointerEvents)||""),this.hasProjected&&!gn(this.latestValues)&&(l.transform=f?f({},""):"none",this.hasProjected=!1);return}l.visibility="";const p=g.animationValues||g.latestValues;this.applyTransformsToTarget();let v=Ay(this.projectionDeltaWithTransform,this.treeScale,p);f&&(v=f(p,v)),l.transform=v;const{x:y,y:b}=this.projectionDelta;l.transformOrigin=`${y.origin*100}% ${b.origin*100}% 0`,g.animationValues?l.opacity=g===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:l.opacity=g===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const A in Ci){if(p[A]===void 0)continue;const{correct:S,applyTo:M,isCSSVariable:C}=Ci[A],R=v==="none"?p[A]:S(p[A],g);if(M){const T=M.length;for(let k=0;k<T;k++)l[M[k]]=R}else C?this.options.visualElement.renderState.vars[A]=R:l[A]=R}this.options.layoutId&&(l.pointerEvents=g===this?cs(d==null?void 0:d.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var d;return(d=l.currentAnimation)==null?void 0:d.stop()}),this.root.nodes.forEach(Yl),this.root.sharedNodes.clear()}}}function ky(t){t.updateLayout()}function My(t){var s;const n=((s=t.resumeFrom)==null?void 0:s.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:o,measuredBox:a}=t.layout,{animationType:u}=t.options,l=n.source!==t.layout.source;u==="size"?pt(v=>{const y=l?n.measuredBox[v]:n.layoutBox[v],b=ot(y);y.min=o[v].min,y.max=y.min+b}):ud(u,n.layoutBox,o)&&pt(v=>{const y=l?n.measuredBox[v]:n.layoutBox[v],b=ot(o[v]);y.max=y.min+b,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+b)});const d=Fn();_i(d,o,n.layoutBox);const f=Fn();l?_i(f,t.applyTransform(a,!0),n.measuredBox):_i(f,o,n.layoutBox);const g=!rd(d);let p=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:y,layout:b}=v;if(y&&b){const A=Ge();xi(A,n.layoutBox,y.layoutBox);const S=Ge();xi(S,o,b.layoutBox),ad(A,S)||(p=!0),v.options.layoutRoot&&(t.relativeTarget=S,t.relativeTargetOrigin=A,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:o,snapshot:n,delta:f,layoutDelta:d,hasLayoutChanged:g,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:o}=t.options;o&&o()}t.options.transition=void 0}function Dy(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Ly(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Ey(t){t.clearSnapshot()}function Yl(t){t.clearMeasurements()}function Ql(t){t.isLayoutDirty=!1}function Ny(t){const{visualElement:n}=t.options;n&&n.getProps().onBeforeLayoutMeasure&&n.notify("BeforeLayoutMeasure"),t.resetTransform()}function ec(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Iy(t){t.resolveTargetDelta()}function Ry(t){t.calcProjection()}function Oy(t){t.resetSkewAndRotation()}function jy(t){t.removeLeadSnapshot()}function tc(t,n,s){t.translate=Fe(n.translate,0,s),t.scale=Fe(n.scale,1,s),t.origin=n.origin,t.originPoint=n.originPoint}function nc(t,n,s,o){t.min=Fe(n.min,s.min,o),t.max=Fe(n.max,s.max,o)}function zy(t,n,s,o){nc(t.x,n.x,s.x,o),nc(t.y,n.y,s.y,o)}function By(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Fy={duration:.45,ease:[.4,0,.1,1]},ic=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),sc=ic("applewebkit/")&&!ic("chrome/")?Math.round:yt;function oc(t){t.min=sc(t.min),t.max=sc(t.max)}function Vy(t){oc(t.x),oc(t.y)}function ud(t,n,s){return t==="position"||t==="preserve-aspect"&&!Ug(Xl(n),Xl(s),.2)}function Zy(t){var n;return t!==t.root&&((n=t.scroll)==null?void 0:n.wasRoot)}const Wy=cd({attachResizeListener:(t,n)=>Pi(t,"resize",n),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Co={current:void 0},dd=cd({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Co.current){const t=new Wy({});t.mount(window),t.setOptions({layoutScroll:!0}),Co.current=t}return Co.current},resetTransform:(t,n)=>{t.style.transform=n!==void 0?n:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Hy={pan:{Feature:ly},drag:{Feature:ay,ProjectionNode:dd,MeasureLayout:id}};function rc(t,n,s){const{props:o}=t;t.animationState&&o.whileHover&&t.animationState.setActive("whileHover",s==="Start");const a="onHover"+s,u=o[a];u&&ze.postRender(()=>u(n,Ni(n)))}class Gy extends sn{mount(){const{current:n}=this.node;n&&(this.unmount=hp(n,(s,o)=>(rc(this.node,o,"Start"),a=>rc(this.node,a,"End"))))}unmount(){}}class Jy extends sn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let n=!1;try{n=this.node.current.matches(":focus-visible")}catch{n=!0}!n||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Di(Pi(this.node.current,"focus",()=>this.onFocus()),Pi(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function ac(t,n,s){const{props:o}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&o.whileTap&&t.animationState.setActive("whileTap",s==="Start");const a="onTap"+(s==="End"?"":s),u=o[a];u&&ze.postRender(()=>u(n,Ni(n)))}class Uy extends sn{mount(){const{current:n}=this.node;n&&(this.unmount=gp(n,(s,o)=>(ac(this.node,o,"Start"),(a,{success:u})=>ac(this.node,a,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const er=new WeakMap,Po=new WeakMap,$y=t=>{const n=er.get(t.target);n&&n(t)},Ky=t=>{t.forEach($y)};function Xy({root:t,...n}){const s=t||document;Po.has(s)||Po.set(s,{});const o=Po.get(s),a=JSON.stringify(n);return o[a]||(o[a]=new IntersectionObserver(Ky,{root:t,...n})),o[a]}function qy(t,n,s){const o=Xy(n);return er.set(t,s),o.observe(t),()=>{er.delete(t),o.unobserve(t)}}const Yy={some:0,all:1};class Qy extends sn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:n={}}=this.node.getProps(),{root:s,margin:o,amount:a="some",once:u}=n,l={root:s?s.current:void 0,rootMargin:o,threshold:typeof a=="number"?a:Yy[a]},d=f=>{const{isIntersecting:g}=f;if(this.isInView===g||(this.isInView=g,u&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:p,onViewportLeave:v}=this.node.getProps(),y=g?p:v;y&&y(f)};return qy(this.node.current,l,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:n,prevProps:s}=this.node;["amount","margin","root"].some(e0(n,s))&&this.startObserver()}unmount(){}}function e0({viewport:t={}},{viewport:n={}}={}){return s=>t[s]!==n[s]}const t0={inView:{Feature:Qy},tap:{Feature:Uy},focus:{Feature:Jy},hover:{Feature:Gy}},n0={layout:{ProjectionNode:dd,MeasureLayout:id}},i0={...Vg,...t0,...Hy,...n0},et=ig(i0,gg);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s0=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],hd=Ee("calendar",s0);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o0=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],r0=Ee("chevron-right",o0);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a0=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Ms=Ee("clipboard-list",a0);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l0=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],fd=Ee("clock",l0);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c0=[["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["circle",{cx:"12",cy:"12",r:"8",key:"46899m"}]],md=Ee("cog",c0);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u0=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],pd=Ee("copy",u0);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d0=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],h0=Ee("eye-off",d0);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f0=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],gd=Ee("eye",f0);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m0=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],ds=Ee("folder",m0);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p0=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],yd=Ee("globe",p0);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g0=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],y0=Ee("info",g0);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v0=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}]],vd=Ee("list-checks",v0);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _0=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],x0=Ee("loader-circle",_0);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b0=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],w0=Ee("log-out",b0);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S0=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],T0=Ee("map",S0);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A0=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],lc=Ee("maximize-2",A0);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C0=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],P0=Ee("menu",C0);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k0=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Fr=Ee("search",k0);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M0=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],bs=Ee("settings",M0);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D0=[["path",{d:"M10 5H3",key:"1qgfaw"}],["path",{d:"M12 19H3",key:"yhmn1j"}],["path",{d:"M14 3v4",key:"1sua03"}],["path",{d:"M16 17v4",key:"1q0r14"}],["path",{d:"M21 12h-9",key:"1o4lsq"}],["path",{d:"M21 19h-5",key:"1rlt1p"}],["path",{d:"M21 5h-7",key:"1oszz2"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M8 12H3",key:"a7s4jb"}]],L0=Ee("sliders-horizontal",D0);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E0=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],_d=Ee("square-check-big",E0);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N0=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],xd=Ee("square-x",N0);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I0=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],bd=Ee("star",I0);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R0=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ds=Ee("triangle-alert",R0);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],wd=Ee("user-cog",O0);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ls=Ee("users",j0);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z0=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Sd=Ee("x",z0),B0=({allResources:t,calloutGroups:n,onStart:s})=>{const[o,a]=x.useState(""),u=o?t.filter(d=>d.calloutGroup===o):[],l=!o;return m.jsx(et.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"fixed inset-0 z-[10000] flex items-center justify-center bg-black/60 backdrop-blur-sm",children:m.jsxs("div",{className:"w-full max-w-3xl mx-auto rounded-2xl bg-white shadow-2xl border border-gray-200 p-8",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[m.jsx("div",{className:"h-10 w-10 flex items-center justify-center rounded-full bg-blue-600 text-white",children:m.jsx(Ls,{size:20})}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Select Callout List"}),m.jsx("p",{className:"text-xs text-gray-600",children:"Choose a callout group to begin the workflow."})]})]}),m.jsxs("div",{className:"mb-6",children:[m.jsx("label",{className:"text-xs font-semibold text-gray-700",children:"Callout Group"}),m.jsxs("select",{className:"mt-1 w-full px-3 py-2 text-sm border rounded-lg",value:o,onChange:d=>{a(d.target.value)},children:[m.jsx("option",{value:"",children:"Select group"}),n.map(d=>m.jsx("option",{value:d,children:d},d))]})]}),o&&m.jsxs("div",{className:"mb-6 text-sm text-gray-700 border rounded-lg bg-gray-50 px-4 py-3",children:[m.jsx("b",{children:u.length})," resources in this callout group."]}),m.jsx("div",{className:"flex justify-end",children:m.jsxs("button",{onClick:()=>s(o),disabled:l,className:`
              inline-flex items-center gap-2 px-4 py-2 text-sm rounded-lg 
              text-white bg-blue-600 hover:bg-blue-700
              disabled:bg-gray-300 disabled:cursor-not-allowed
            `,children:["Continue",m.jsx(r0,{size:16})]})})]})})},yn=JSON.parse('[{"taskId":"RG-AB30001","division":"Admin","taskStatus":"Not Assigned (ACT)","pwa":"ZB-ALPHA-12","taskType":"Admin Review","primarySkill":"ADMIN1","capabilities":["ADMIN1"],"importanceScore":97,"msc":"Y","taskCreated":"Mon 6 Jan, 10:40 AM","groupCode":"Admin Group","systemType":"FSM","employeeId":"T6344","resourceName":"Dylan Lewis","asset":"OFF-8247","assetName":"Document Verification Queue","commitmentDate":"Fri 7 Jan, 1:15 PM","commitmentType":"Complete By","arrivedAtDate":"","domain":"CF","estimatedDuration":150,"lastProgression":"On Site","category":"Administration","description":"Administration task for broadband/FTTP service in local area.","responseCode":"AD02","postCode":"CF44 8AU","appointmentStartDate":"","linkedTask":"","customerAddress":"","expectedStartDate":"Sat 7 Jan, 8:15 AM","expectedFinishDate":"Wed 8 Jan, 10:45 AM","externalQueueId":"EXT-441440","workId":"WK-790218","estimateNumber":"EST-55784","startDate":"","lat":51.70832,"lng":-3.44613,"expectedWindow":"8am10:30am","history":[]},{"taskId":"RG-AB30002","division":"Service Delivery","taskStatus":"Assigned (ACT)","pwa":"ZB-OMEGA-09","taskType":"Survey","primarySkill":"RISDN2","capabilities":["RISDN2"],"importanceScore":45,"msc":"Y","taskCreated":"Thu 7 Jan, 10:40 AM","groupCode":"Service Delivery","systemType":"NW","employeeId":"T7690","resourceName":"John Edwards","asset":"MH-5541","assetName":"Route Survey Node","commitmentDate":"Fri 10 Jan, 3:30 PM","commitmentType":"Future","arrivedAtDate":"","domain":"MN","estimatedDuration":90,"lastProgression":"On Site","category":"Survey","description":"Survey task for broadband/FTTP service in local area.","responseCode":"SH05","postCode":"CF44 7IW","appointmentStartDate":"","linkedTask":"","customerAddress":"111 Hirwaun Road, Aberdare","expectedStartDate":"Sat 8 Jan, 10:40 AM","expectedFinishDate":"Thu 11 Jan, 11:10 AM","externalQueueId":"EXT-441998","workId":"WK-729320","estimateNumber":"EST-55739","startDate":"","lat":51.70624,"lng":-3.44051,"expectedWindow":"10am11:30am","history":[]},{"taskId":"RG-AB30003","division":"Service Delivery","taskStatus":"Dispatched (AWI)","pwa":"ZB-ALPHA-02","taskType":"Repair","primarySkill":"RISDN2","capabilities":["RISDN2"],"importanceScore":90,"msc":"N","taskCreated":"Wed 11 Jan, 10:40 AM","groupCode":"Service Delivery","systemType":"OR","employeeId":"T6721","resourceName":"Ryan Jenkins","asset":"CAB-8837","assetName":"DP Pole","commitmentDate":"Wed 13 Jan, 11:20 AM","commitmentType":"Future","arrivedAtDate":"Thu 11 Jan, 8:15 AM","domain":"SE","estimatedDuration":120,"lastProgression":"On Site","category":"Repair","description":"Repair task for broadband/FTTP service in local area.","responseCode":"SH03","postCode":"CF44 7SL","appointmentStartDate":"","linkedTask":"","customerAddress":"108 Victoria Street, Aberdare","expectedStartDate":"Sat 11 Jan, 8:15 AM","expectedFinishDate":"Wed 14 Jan, 10:15 AM","externalQueueId":"EXT-441215","workId":"WK-703093","estimateNumber":"EST-55777","startDate":"Sat 11 Jan, 8:15 AM","lat":51.7204,"lng":-3.44196,"expectedWindow":"8am10am","history":[]},{"taskId":"RG-AB30004","division":"Complex Engineering","taskStatus":"Accepted (ISS)","pwa":"ZB-GAMMA-05","taskType":"Survey","primarySkill":"RFTTP1","capabilities":["RFTTP1"],"importanceScore":54,"msc":"Y","taskCreated":"Fri 3 Jan, 3:30 PM","groupCode":"Complex Engineering","systemType":"NW","employeeId":"T8224","resourceName":"Nia Brown","asset":"AS-1941","assetName":"Joint Box","commitmentDate":"Mon 5 Jan, 8:15 AM","commitmentType":"Start By","arrivedAtDate":"Mon 6 Jan, 4:10 PM","domain":"CF","estimatedDuration":45,"lastProgression":"Completed","category":"Survey","description":"Survey task for broadband/FTTP service in local area.","responseCode":"SH01","postCode":"CF44 6IQ","appointmentStartDate":"","linkedTask":"","customerAddress":"28 Aberaman Road, Aberdare","expectedStartDate":"Wed 7 Jan, 3:30 PM","expectedFinishDate":"Fri 10 Jan, 4:15 PM","externalQueueId":"EXT-441801","workId":"WK-746808","estimateNumber":"EST-55786","startDate":"Wed 7 Jan, 3:30 PM","lat":51.70576,"lng":-3.43954,"expectedWindow":"3pm3:45pm","history":[]},{"taskId":"RG-AB30005","division":"Admin","taskStatus":"In Progress (EXC)","pwa":"ZB-OMEGA-06","taskType":"Admin Review","primarySkill":"ADMIN2","capabilities":["ADMIN2"],"importanceScore":64,"msc":"Y","taskCreated":"Fri 13 Jan, 9:05 AM","groupCode":"Admin Group","systemType":"OR","employeeId":"T7544","resourceName":"Harvey Rees","asset":"OFF-3588","assetName":"Document Verification Queue","commitmentDate":"Sat 15 Jan, 3:30 PM","commitmentType":"Complete By","arrivedAtDate":"Wed 16 Jan, 11:20 AM","domain":"SE","estimatedDuration":60,"lastProgression":"Accepted","category":"Administration","description":"Administration task for broadband/FTTP service in local area.","responseCode":"AD02","postCode":"CF44 7NZ","appointmentStartDate":"","linkedTask":"","customerAddress":"","expectedStartDate":"Thu 16 Jan, 11:20 AM","expectedFinishDate":"Fri 19 Jan, 12:20 PM","externalQueueId":"EXT-441383","workId":"WK-734734","estimateNumber":"EST-55767","startDate":"Thu 16 Jan, 11:20 AM","lat":51.70775,"lng":-3.44796,"expectedWindow":"11am12pm","history":[]},{"taskId":"RG-AB30006","division":"Admin","taskStatus":"Completed (COM)","pwa":"ZB-GAMMA-07","taskType":"Admin Review","primarySkill":"ADMIN1","capabilities":["ADMIN1"],"importanceScore":56,"msc":"Y","taskCreated":"Thu 10 Jan, 9:05 AM","groupCode":"Admin Group","systemType":"FSM","employeeId":"T5414","resourceName":"Ffion Davies","asset":"OFF-8718","assetName":"Admin Processing Queue","commitmentDate":"Fri 13 Jan, 11:20 AM","commitmentType":"Appointment","arrivedAtDate":"Sat 16 Jan, 4:10 PM","domain":"MN","estimatedDuration":90,"lastProgression":"Completed","category":"Administration","description":"Administration task for broadband/FTTP service in local area.","responseCode":"AD01","postCode":"CF44 7TJ","appointmentStartDate":"Sun 16 Jan, 8:15 AM","linkedTask":"","customerAddress":"","expectedStartDate":"Sat 16 Jan, 8:15 AM","expectedFinishDate":"Thu 19 Jan, 9:45 AM","externalQueueId":"EXT-441404","workId":"WK-728071","estimateNumber":"EST-55763","startDate":"Sat 16 Jan, 8:15 AM","lat":51.70737,"lng":-3.45195,"expectedWindow":"8am9:30am","history":[]},{"taskId":"RG-AB30007","division":"Complex Engineering","taskStatus":"Not Assigned (ACT)","pwa":"ZB-DELTA-07","taskType":"Survey","primarySkill":"ADMIN1","capabilities":["ADMIN1"],"importanceScore":74,"msc":"Y","taskCreated":"Mon 12 Jan, 8:15 AM","groupCode":"Complex Engineering","systemType":"OR","employeeId":"T1258","resourceName":"Nia Hughes","asset":"CAB-1922","assetName":"Route Survey Node","commitmentDate":"Tue 14 Jan, 2:00 PM","commitmentType":"Complete By","arrivedAtDate":"","domain":"SE","estimatedDuration":120,"lastProgression":"En Route","category":"Survey","description":"Survey task for broadband/FTTP service in local area.","responseCode":"SH05","postCode":"CF44 6XQ","appointmentStartDate":"","linkedTask":"","customerAddress":"75 Cardiff Road, Aberdare","expectedStartDate":"Fri 14 Jan, 2:00 PM","expectedFinishDate":"Sun 17 Jan, 4:00 PM","externalQueueId":"EXT-441499","workId":"WK-781809","estimateNumber":"EST-55797","startDate":"","lat":51.71928,"lng":-3.44445,"expectedWindow":"2pm4pm","history":[]},{"taskId":"RG-AB30008","division":"Service Delivery","taskStatus":"Assigned (ACT)","pwa":"ZB-GAMMA-10","taskType":"Emergency","primarySkill":"RISDN3","capabilities":["RISDN3"],"importanceScore":89,"msc":"N","taskCreated":"Sat 8 Jan, 10:40 AM","groupCode":"Service Delivery","systemType":"OR","employeeId":"T9306","resourceName":"Ryan Lewis","asset":"AS-4107","assetName":"Backhaul Joint","commitmentDate":"Tue 10 Jan, 2:00 PM","commitmentType":"Future","arrivedAtDate":"","domain":"MN","estimatedDuration":90,"lastProgression":"On Site","category":"Emergency","description":"Emergency task for broadband/FTTP service in local area.","responseCode":"SH01","postCode":"CF44 8IN","appointmentStartDate":"","linkedTask":"RG-AB30003","customerAddress":"63 Brook Street, Aberdare","expectedStartDate":"Thu 10 Jan, 2:00 PM","expectedFinishDate":"Sun 13 Jan, 3:30 PM","externalQueueId":"EXT-441318","workId":"WK-764130","estimateNumber":"EST-55734","startDate":"","lat":51.70599,"lng":-3.44795,"expectedWindow":"2pm3:30pm","history":[]},{"taskId":"RG-AB30009","division":"Service Delivery","taskStatus":"Dispatched (AWI)","pwa":"ZB-ALPHA-06","taskType":"Emergency","primarySkill":"RISDN1","capabilities":["RISDN1"],"importanceScore":77,"msc":"Y","taskCreated":"Wed 8 Jan, 7:30 AM","groupCode":"Service Delivery","systemType":"OR","employeeId":"T2730","resourceName":"Nia Edwards","asset":"AS-1363","assetName":"Backhaul Joint","commitmentDate":"Thu 10 Jan, 7:30 AM","commitmentType":"Appointment","arrivedAtDate":"Thu 10 Jan, 11:20 AM","domain":"SE","estimatedDuration":150,"lastProgression":"On Site","category":"Emergency","description":"Emergency task for broadband/FTTP service in local area.","responseCode":"SH01","postCode":"CF44 7MH","appointmentStartDate":"Fri 10 Jan, 7:30 AM","linkedTask":"RG-AB30006","customerAddress":"71 Gadlys Road, Aberdare","expectedStartDate":"Fri 10 Jan, 7:30 AM","expectedFinishDate":"Sun 13 Jan, 10:00 AM","externalQueueId":"EXT-441511","workId":"WK-797851","estimateNumber":"EST-55735","startDate":"Fri 10 Jan, 7:30 AM","lat":51.7155,"lng":-3.45247,"expectedWindow":"7am9:30am","history":[]},{"taskId":"RG-AB30010","division":"Complex Engineering","taskStatus":"Accepted (ISS)","pwa":"ZB-DELTA-05","taskType":"Inspection","primarySkill":"RISDN3","capabilities":["RISDN3"],"importanceScore":97,"msc":"Y","taskCreated":"Tue 11 Jan, 4:10 PM","groupCode":"Complex Engineering","systemType":"FSM","employeeId":"T9864","resourceName":"Nia Jenkins","asset":"AS-5489","assetName":"Distribution Point","commitmentDate":"Tue 13 Jan, 2:00 PM","commitmentType":"Appointment","arrivedAtDate":"Thu 15 Jan, 11:20 AM","domain":"MN","estimatedDuration":90,"lastProgression":"On Site","category":"Inspection","description":"Inspection task for broadband/FTTP service in local area.","responseCode":"SH04","postCode":"CF44 8JK","appointmentStartDate":"Thu 15 Jan, 2:00 PM","linkedTask":"","customerAddress":"91 Robertstown Road, Aberdare","expectedStartDate":"Thu 15 Jan, 2:00 PM","expectedFinishDate":"Sat 18 Jan, 3:30 PM","externalQueueId":"EXT-441812","workId":"WK-728959","estimateNumber":"EST-55777","startDate":"Thu 15 Jan, 2:00 PM","lat":51.70787,"lng":-3.44639,"expectedWindow":"2pm3:30pm","history":[]},{"taskId":"RG-AB30011","division":"Admin","taskStatus":"In Progress (EXC)","pwa":"ZB-OMEGA-02","taskType":"Admin Review","primarySkill":"ADMIN2","capabilities":["ADMIN2"],"importanceScore":45,"msc":"Y","taskCreated":"Wed 3 Jan, 10:40 AM","groupCode":"Admin Group","systemType":"FSM","employeeId":"T8103","resourceName":"Rhys Hughes","asset":"OFF-7322","assetName":"Document Verification Queue","commitmentDate":"Thu 5 Jan, 2:00 PM","commitmentType":"Appointment","arrivedAtDate":"Fri 8 Jan, 11:20 AM","domain":"CF","estimatedDuration":60,"lastProgression":"Completed","category":"Administration","description":"Administration task for broadband/FTTP service in local area.","responseCode":"AD01","postCode":"CF44 7JR","appointmentStartDate":"Sat 8 Jan, 2:00 PM","linkedTask":"RG-AB30003","customerAddress":"","expectedStartDate":"Sat 8 Jan, 2:00 PM","expectedFinishDate":"Tue 11 Jan, 3:00 PM","externalQueueId":"EXT-441888","workId":"WK-775917","estimateNumber":"EST-55728","startDate":"Sat 8 Jan, 2:00 PM","lat":51.7254,"lng":-3.50534,"expectedWindow":"2pm3pm","history":[]},{"taskId":"RG-AB30012","division":"Complex Engineering","taskStatus":"Completed (COM)","pwa":"ZB-ALPHA-04","taskType":"Inspection","primarySkill":"RFTTP2","capabilities":["RFTTP2"],"importanceScore":49,"msc":"Y","taskCreated":"Sat 11 Jan, 9:05 AM","groupCode":"Complex Engineering","systemType":"NW","employeeId":"T8443","resourceName":"Lowri Jenkins","asset":"AS-8859","assetName":"Distribution Point","commitmentDate":"Sat 14 Jan, 1:15 PM","commitmentType":"Complete By","arrivedAtDate":"Mon 16 Jan, 4:10 PM","domain":"MN","estimatedDuration":90,"lastProgression":"Completed","category":"Inspection","description":"Inspection task for broadband/FTTP service in local area.","responseCode":"SH05","postCode":"CF44 7DZ","appointmentStartDate":"","linkedTask":"RG-AB30007","customerAddress":"109 High Street, Aberdare","expectedStartDate":"Tue 16 Jan, 4:10 PM","expectedFinishDate":"Fri 19 Jan, 5:40 PM","externalQueueId":"EXT-441590","workId":"WK-758165","estimateNumber":"EST-55792","startDate":"Tue 16 Jan, 4:10 PM","lat":51.72091,"lng":-3.52057,"expectedWindow":"4pm5:30pm","history":[]},{"taskId":"RG-AB30013","division":"Service Delivery","taskStatus":"Not Assigned (ACT)","pwa":"ZB-ALPHA-04","taskType":"Inspection","primarySkill":"RISDN2","capabilities":["RISDN2"],"importanceScore":82,"msc":"Y","taskCreated":"Tue 7 Jan, 10:40 AM","groupCode":"Service Delivery","systemType":"NW","employeeId":"T9526","resourceName":"Lauren Evans","asset":"AS-9446","assetName":"Underground Joint Chamber","commitmentDate":"Wed 9 Jan, 11:20 AM","commitmentType":"Appointment","arrivedAtDate":"","domain":"CF","estimatedDuration":120,"lastProgression":"On Site","category":"Inspection","description":"Inspection task for broadband/FTTP service in local area.","responseCode":"SH01","postCode":"CF44 6EV","appointmentStartDate":"Thu 9 Jan, 11:20 AM","linkedTask":"RG-AB30003","customerAddress":"81 Cardiff Road, Aberdare","expectedStartDate":"Thu 9 Jan, 11:20 AM","expectedFinishDate":"Sun 12 Jan, 1:20 PM","externalQueueId":"EXT-441954","workId":"WK-790116","estimateNumber":"EST-55766","startDate":"","lat":51.72224,"lng":-3.51289,"expectedWindow":"11am1pm","history":[]},{"taskId":"RG-AB30014","division":"Complex Engineering","taskStatus":"Assigned (ACT)","pwa":"ZB-GAMMA-02","taskType":"Emergency","primarySkill":"RISDN3","capabilities":["RISDN3"],"importanceScore":88,"msc":"N","taskCreated":"Wed 13 Jan, 9:05 AM","groupCode":"Complex Engineering","systemType":"OR","employeeId":"T5309","resourceName":"Aled Evans","asset":"AS-9906","assetName":"Priority Splice Enclosure","commitmentDate":"Thu 16 Jan, 11:20 AM","commitmentType":"Appointment","arrivedAtDate":"","domain":"CF","estimatedDuration":90,"lastProgression":"Allocated","category":"Emergency","description":"Emergency task for broadband/FTTP service in local area.","responseCode":"SH05","postCode":"CF44 7AV","appointmentStartDate":"Fri 16 Jan, 11:20 AM","linkedTask":"","customerAddress":"77 Canon Street, Aberdare","expectedStartDate":"Fri 16 Jan, 11:20 AM","expectedFinishDate":"Mon 19 Jan, 12:50 PM","externalQueueId":"EXT-441587","workId":"WK-785274","estimateNumber":"EST-55720","startDate":"","lat":51.71383,"lng":-3.44986,"expectedWindow":"11am12:30pm","history":[]},{"taskId":"RG-AB30015","division":"Service Delivery","taskStatus":"Dispatched (AWI)","pwa":"ZB-GAMMA-04","taskType":"Repair","primarySkill":"RISDN1","capabilities":["RISDN1"],"importanceScore":76,"msc":"N","taskCreated":"Sat 3 Jan, 7:30 AM","groupCode":"Service Delivery","systemType":"OR","employeeId":"T8571","resourceName":"Ffion Hughes","asset":"AS-8163","assetName":"Drop Wire","commitmentDate":"Mon 6 Jan, 9:05 AM","commitmentType":"Complete By","arrivedAtDate":"Wed 8 Jan, 10:40 AM","domain":"SE","estimatedDuration":60,"lastProgression":"Completed","category":"Repair","description":"Repair task for broadband/FTTP service in local area.","responseCode":"SH05","postCode":"CF44 8BQ","appointmentStartDate":"","linkedTask":"","customerAddress":"86 Albert Street, Aberdare","expectedStartDate":"Thu 8 Jan, 10:40 AM","expectedFinishDate":"Sun 11 Jan, 11:40 AM","externalQueueId":"EXT-441968","workId":"WK-703787","estimateNumber":"EST-55733","startDate":"Thu 8 Jan, 10:40 AM","lat":51.71159,"lng":-3.44429,"expectedWindow":"10am11am","history":[]},{"taskId":"RG-AB30016","division":"Complex Engineering","taskStatus":"Accepted (ISS)","pwa":"ZB-ALPHA-02","taskType":"Survey","primarySkill":"RFTTP1","capabilities":["RFTTP1"],"importanceScore":60,"msc":"Y","taskCreated":"Tue 5 Jan, 2:00 PM","groupCode":"Complex Engineering","systemType":"NW","employeeId":"T7749","resourceName":"Ryan Morgan","asset":"MH-8437","assetName":"Manhole Access Point","commitmentDate":"Wed 7 Jan, 3:30 PM","commitmentType":"Start By","arrivedAtDate":"Thu 9 Jan, 11:20 AM","domain":"MN","estimatedDuration":150,"lastProgression":"On Site","category":"Survey","description":"Survey task for broadband/FTTP service in local area.","responseCode":"SH05","postCode":"CF44 8WX","appointmentStartDate":"","linkedTask":"","customerAddress":"44 Commercial Street, Aberdare","expectedStartDate":"Thu 9 Jan, 11:20 AM","expectedFinishDate":"Sun 12 Jan, 1:50 PM","externalQueueId":"EXT-441720","workId":"WK-723933","estimateNumber":"EST-55754","startDate":"Thu 9 Jan, 11:20 AM","lat":51.71966,"lng":-3.44275,"expectedWindow":"11am1:30pm","history":[]},{"taskId":"RG-AB30017","division":"Admin","taskStatus":"In Progress (EXC)","pwa":"ZB-OMEGA-01","taskType":"Admin Review","primarySkill":"ADMIN2","capabilities":["ADMIN2"],"importanceScore":86,"msc":"Y","taskCreated":"Wed 7 Jan, 1:15 PM","groupCode":"Admin Group","systemType":"OR","employeeId":"T9344","resourceName":"Lauren Roberts","asset":"OFF-4090","assetName":"Admin Processing Queue","commitmentDate":"Thu 9 Jan, 3:30 PM","commitmentType":"Future","arrivedAtDate":"Sat 11 Jan, 11:20 AM","domain":"SE","estimatedDuration":40,"lastProgression":"Allocated","category":"Administration","description":"Administration task for broadband/FTTP service in local area.","responseCode":"AD02","postCode":"CF44 8PT","appointmentStartDate":"","linkedTask":"","customerAddress":"","expectedStartDate":"Sun 11 Jan, 11:20 AM","expectedFinishDate":"Wed 14 Jan, 12:00 PM","externalQueueId":"EXT-441249","workId":"WK-705434","estimateNumber":"EST-55758","startDate":"Sun 11 Jan, 11:20 AM","lat":51.7063,"lng":-3.50452,"expectedWindow":"11am12pm","history":[]},{"taskId":"RG-AB30018","division":"Service Delivery","taskStatus":"Completed (COM)","pwa":"ZB-OMEGA-11","taskType":"Emergency","primarySkill":"RISDN1","capabilities":["RISDN1"],"importanceScore":68,"msc":"Y","taskCreated":"Wed 9 Jan, 1:15 PM","groupCode":"Service Delivery","systemType":"OR","employeeId":"T9810","resourceName":"Ffion Smith","asset":"AS-7197","assetName":"Priority Splice Enclosure","commitmentDate":"Fri 11 Jan, 2:00 PM","commitmentType":"Future","arrivedAtDate":"Sun 13 Jan, 8:15 AM","domain":"CF","estimatedDuration":150,"lastProgression":"Completed","category":"Emergency","description":"Emergency task for broadband/FTTP service in local area.","responseCode":"SH01","postCode":"CF44 7WA","appointmentStartDate":"","linkedTask":"","customerAddress":"29 Robertstown Road, Aberdare","expectedStartDate":"Mon 13 Jan, 8:15 AM","expectedFinishDate":"Thu 16 Jan, 10:45 AM","externalQueueId":"EXT-441790","workId":"WK-772532","estimateNumber":"EST-55737","startDate":"Mon 13 Jan, 8:15 AM","lat":51.70622,"lng":-3.5041,"expectedWindow":"8am10:30am","history":[]},{"taskId":"RG-AB30019","division":"Admin","taskStatus":"Assigned (ACT)","pwa":"ZB-GAMMA-09","taskType":"Admin Review","primarySkill":"ADMIN2","capabilities":["ADMIN2"],"importanceScore":71,"msc":"N","taskCreated":"Thu 13 Jan, 11:20 AM","groupCode":"Admin Group","systemType":"NW","employeeId":"T6541","resourceName":"Chloe Jenkins","asset":"OFF-1456","assetName":"Document Verification Queue","commitmentDate":"Fri 15 Jan, 2:00 PM","commitmentType":"Appointment","arrivedAtDate":"","domain":"SE","estimatedDuration":60,"lastProgression":"On Site","category":"Administration","description":"Administration task for broadband/FTTP service in local area.","responseCode":"AD02","postCode":"CF44 7XT","appointmentStartDate":"Sat 15 Jan, 2:00 PM","linkedTask":"","customerAddress":"","expectedStartDate":"Sat 15 Jan, 2:00 PM","expectedFinishDate":"Tue 18 Jan, 3:00 PM","externalQueueId":"EXT-441495","workId":"WK-765705","estimateNumber":"EST-55794","startDate":"","lat":51.70445,"lng":-3.4997,"expectedWindow":"2pm3pm","history":[]},{"taskId":"RG-AB30020","division":"Service Delivery","taskStatus":"Dispatched (AWI)","pwa":"ZB-GAMMA-10","taskType":"Repair","primarySkill":"RISDN3","capabilities":["RISDN3"],"importanceScore":31,"msc":"Y","taskCreated":"Thu 5 Jan, 2:00 PM","groupCode":"Service Delivery","systemType":"OR","employeeId":"T9129","resourceName":"Chloe Hughes","asset":"CAB-1198","assetName":"Copper Joint Enclosure","commitmentDate":"Sat 7 Jan, 3:30 PM","commitmentType":"Start By","arrivedAtDate":"Sun 9 Jan, 10:40 AM","domain":"SE","estimatedDuration":45,"lastProgression":"Completed","category":"Repair","description":"Repair task for broadband/FTTP service in local area.","responseCode":"SH03","postCode":"CF44 7KB","appointmentStartDate":"","linkedTask":"RG-AB30018","customerAddress":"118 Cardiff Road, Aberdare","expectedStartDate":"Mon 9 Jan, 10:40 AM","expectedFinishDate":"Thu 12 Jan, 11:25 AM","externalQueueId":"EXT-441992","workId":"WK-731785","estimateNumber":"EST-55771","startDate":"Mon 9 Jan, 10:40 AM","lat":51.72207,"lng":-3.5099,"expectedWindow":"10am11:15am","history":[]},{"taskId":"RG-AB30021","division":"Complex Engineering","taskStatus":"Accepted (ISS)","pwa":"ZB-ALPHA-10","taskType":"Survey","primarySkill":"RFTTP1","capabilities":["RFTTP1"],"importanceScore":68,"msc":"Y","taskCreated":"Fri 9 Jan, 8:15 AM","groupCode":"Complex Engineering","systemType":"FSM","employeeId":"T7859","resourceName":"Tomos Hughes","asset":"AS-6348","assetName":"Route Survey Node","commitmentDate":"Sun 11 Jan, 3:30 PM","commitmentType":"Complete By","arrivedAtDate":"Mon 13 Jan, 11:20 AM","domain":"CF","estimatedDuration":90,"lastProgression":"Scheduled","category":"Survey","description":"Survey task for broadband/FTTP service in local area.","responseCode":"SH03","postCode":"CF44 6US","appointmentStartDate":"","linkedTask":"","customerAddress":"16 Brook Street, Aberdare","expectedStartDate":"Mon 13 Jan, 11:20 AM","expectedFinishDate":"Thu 16 Jan, 12:50 PM","externalQueueId":"EXT-441467","workId":"WK-716640","estimateNumber":"EST-55776","startDate":"Mon 13 Jan, 11:20 AM","lat":51.71882,"lng":-3.4518,"expectedWindow":"11am12:30pm","history":[]},{"taskId":"RG-AB30022","division":"Service Delivery","taskStatus":"Not Assigned (ACT)","pwa":"ZB-DELTA-10","taskType":"Inspection","primarySkill":"RISDN3","capabilities":["RISDN3"],"importanceScore":69,"msc":"Y","taskCreated":"Mon 10 Jan, 9:05 AM","groupCode":"Service Delivery","systemType":"NW","employeeId":"T3909","resourceName":"Chloe Hughes","asset":"AS-7695","assetName":"Underground Joint Chamber","commitmentDate":"Tue 12 Jan, 1:15 PM","commitmentType":"Appointment","arrivedAtDate":"","domain":"MN","estimatedDuration":90,"lastProgression":"Allocated","category":"Inspection","description":"Inspection task for broadband/FTTP service in local area.","responseCode":"SH01","postCode":"CF44 7TT","appointmentStartDate":"Wed 12 Jan, 1:15 PM","linkedTask":"","customerAddress":"40 Cardif Road, Aberdare","expectedStartDate":"Wed 12 Jan, 1:15 PM","expectedFinishDate":"Sat 15 Jan, 2:45 PM","externalQueueId":"EXT-441413","workId":"WK-783470","estimateNumber":"EST-55797","startDate":"","lat":51.71277,"lng":-3.44368,"expectedWindow":"1pm2:30pm","history":[]},{"taskId":"RG-AB30023","division":"Admin","taskStatus":"Assigned (ACT)","pwa":"ZB-DELTA-03","taskType":"Admin Review","primarySkill":"ADMIN1","capabilities":["ADMIN1"],"importanceScore":71,"msc":"Y","taskCreated":"Wed 13 Jan, 4:10 PM","groupCode":"Admin Group","systemType":"OR","employeeId":"T9772","resourceName":"Rhys Thomas","asset":"OFF-3119","assetName":"Admin Processing Queue","commitmentDate":"Fri 15 Jan, 1:15 PM","commitmentType":"Future","arrivedAtDate":"","domain":"MN","estimatedDuration":40,"lastProgression":"Scheduled","category":"Administration","description":"Administration task for broadband/FTTP service in local area.","responseCode":"AD02","postCode":"CF44 7ZV","appointmentStartDate":"","linkedTask":"RG-AB30010","customerAddress":"","expectedStartDate":"Sat 15 Jan, 1:15 PM","expectedFinishDate":"Tue 18 Jan, 1:55 PM","externalQueueId":"EXT-441695","workId":"WK-736499","estimateNumber":"EST-55740","startDate":"","lat":51.70499,"lng":-3.44123,"expectedWindow":"1pm1:40pm","history":[]},{"taskId":"RG-AB30024","division":"Complex Engineering","taskStatus":"Dispatched (AWI)","pwa":"ZB-GAMMA-04","taskType":"Emergency","primarySkill":"RFTTP2","capabilities":["RFTTP2"],"importanceScore":90,"msc":"N","taskCreated":"Sat 7 Jan, 7:30 AM","groupCode":"Complex Engineering","systemType":"OR","employeeId":"T6493","resourceName":"Tomos Hughes","asset":"AS-8145","assetName":"Core Node Cabinet","commitmentDate":"Sun 9 Jan, 8:15 AM","commitmentType":"Start By","arrivedAtDate":"Tue 11 Jan, 9:05 AM","domain":"MN","estimatedDuration":90,"lastProgression":"On Site","category":"Emergency","description":"Emergency task for broadband/FTTP service in local area.","responseCode":"SH03","postCode":"CF44 8ER","appointmentStartDate":"","linkedTask":"RG-AB30002","customerAddress":"96 Aberaman Road, Aberdare","expectedStartDate":"Tue 11 Jan, 9:05 AM","expectedFinishDate":"Fri 14 Jan, 10:35 AM","externalQueueId":"EXT-441684","workId":"WK-766702","estimateNumber":"EST-55764","startDate":"Tue 11 Jan, 9:05 AM","lat":51.7206,"lng":-3.4474,"expectedWindow":"9am10:30am","history":[]},{"taskId":"RG-AB30025","division":"Service Delivery","taskStatus":"Accepted (ISS)","pwa":"ZB-DELTA-09","taskType":"Inspection","primarySkill":"RISDN1","capabilities":["RISDN1"],"importanceScore":45,"msc":"N","taskCreated":"Thu 6 Jan, 10:40 AM","groupCode":"Service Delivery","systemType":"FSM","employeeId":"T6815","resourceName":"Chloe Hughes","asset":"AS-4500","assetName":"Underground Joint Chamber","commitmentDate":"Sat 8 Jan, 11:20 AM","commitmentType":"Appointment","arrivedAtDate":"Sun 10 Jan, 4:10 PM","domain":"SE","estimatedDuration":120,"lastProgression":"Allocated","category":"Inspection","description":"Inspection task for broadband/FTTP service in local area.","responseCode":"SH04","postCode":"CF44 8KO","appointmentStartDate":"Mon 10 Jan, 11:20 AM","linkedTask":"RG-AB30010","customerAddress":"32 Cwmbach Road, Aberdare","expectedStartDate":"Mon 10 Jan, 11:20 AM","expectedFinishDate":"Thu 13 Jan, 1:20 PM","externalQueueId":"EXT-441842","workId":"WK-701053","estimateNumber":"EST-55742","startDate":"Mon 10 Jan, 11:20 AM","lat":51.70871,"lng":-3.51393,"expectedWindow":"11am1pm","history":[]},{"taskId":"RG-AB30026","division":"Admin","taskStatus":"In Progress (EXC)","pwa":"ZB-OMEGA-05","taskType":"Admin Review","primarySkill":"ADMIN1","capabilities":["ADMIN1"],"importanceScore":76,"msc":"N","taskCreated":"Tue 11 Jan, 1:15 PM","groupCode":"Admin Group","systemType":"NW","employeeId":"T8841","resourceName":"Steffan Hughes","asset":"OFF-5507","assetName":"Document Verification Queue","commitmentDate":"Thu 13 Jan, 2:00 PM","commitmentType":"Complete By","arrivedAtDate":"Fri 15 Jan, 2:00 PM","domain":"SE","estimatedDuration":60,"lastProgression":"Completed","category":"Administration","description":"Administration task for broadband/FTTP service in local area.","responseCode":"AD02","postCode":"CF44 8ZX","appointmentStartDate":"","linkedTask":"RG-AB30021","customerAddress":"","expectedStartDate":"Sat 15 Jan, 2:00 PM","expectedFinishDate":"Tue 18 Jan, 3:00 PM","externalQueueId":"EXT-441963","workId":"WK-794249","estimateNumber":"EST-55717","startDate":"Sat 15 Jan, 2:00 PM","lat":51.71019,"lng":-3.44802,"expectedWindow":"2pm3pm","history":[]},{"taskId":"RG-AB30027","division":"Service Delivery","taskStatus":"Completed (COM)","pwa":"ZB-GAMMA-09","taskType":"Repair","primarySkill":"RISDN3","capabilities":["RISDN3"],"importanceScore":70,"msc":"N","taskCreated":"Fri 8 Jan, 3:30 PM","groupCode":"Service Delivery","systemType":"OR","employeeId":"T9031","resourceName":"Carys Jones","asset":"AS-6004","assetName":"Drop Wire","commitmentDate":"Sun 10 Jan, 8:15 AM","commitmentType":"Complete By","arrivedAtDate":"Tue 12 Jan, 10:40 AM","domain":"CF","estimatedDuration":60,"lastProgression":"Completed","category":"Repair","description":"Repair task for broadband/FTTP service in local area.","responseCode":"SH01","postCode":"CF44 7ZQ","appointmentStartDate":"","linkedTask":"","customerAddress":"53 King Street, Aberdare","expectedStartDate":"Tue 12 Jan, 10:40 AM","expectedFinishDate":"Fri 15 Jan, 11:40 AM","externalQueueId":"EXT-441878","workId":"WK-730760","estimateNumber":"EST-55777","startDate":"Tue 12 Jan, 10:40 AM","lat":51.70939,"lng":-3.43749,"expectedWindow":"10am11am","history":[]},{"taskId":"RG-AB30028","division":"Complex Engineering","taskStatus":"Not Assigned (ACT)","pwa":"ZB-OMEGA-10","taskType":"Survey","primarySkill":"RFTTP2","capabilities":["RFTTP2"],"importanceScore":96,"msc":"Y","taskCreated":"Wed 6 Jan, 7:30 AM","groupCode":"Complex Engineering","systemType":"NW","employeeId":"T7833","resourceName":"Bethan Hughes","asset":"AS-6244","assetName":"Route Survey Node","commitmentDate":"Thu 8 Jan, 8:15 AM","commitmentType":"Start By","arrivedAtDate":"","domain":"MN","estimatedDuration":150,"lastProgression":"Allocated","category":"Survey","description":"Survey task for broadband/FTTP service in local area.","responseCode":"SH01","postCode":"CF44 6BZ","appointmentStartDate":"","linkedTask":"","customerAddress":"13 Maesyffynnon Terrace, Aberdare","expectedStartDate":"Fri 8 Jan, 8:15 AM","expectedFinishDate":"Mon 11 Jan, 10:45 AM","externalQueueId":"EXT-441114","workId":"WK-741322","estimateNumber":"EST-55718","startDate":"","lat":51.72907,"lng":-3.5087,"expectedWindow":"8am10:30am","history":[]},{"taskId":"RG-AB30029","division":"Service Delivery","taskStatus":"Assigned (ACT)","pwa":"ZB-ALPHA-03","taskType":"Inspection","primarySkill":"RISDN2","capabilities":["RISDN2"],"importanceScore":70,"msc":"Y","taskCreated":"Thu 11 Jan, 8:15 AM","groupCode":"Service Delivery","systemType":"FSM","employeeId":"T7794","resourceName":"Steffan James","asset":"AS-1291","assetName":"Distribution Point","commitmentDate":"Fri 13 Jan, 3:30 PM","commitmentType":"Appointment","arrivedAtDate":"","domain":"MN","estimatedDuration":90,"lastProgression":"En Route","category":"Inspection","description":"Inspection task for broadband/FTTP service in local area.","responseCode":"SH02","postCode":"CF44 6TK","appointmentStartDate":"Sat 13 Jan, 3:30 PM","linkedTask":"","customerAddress":"79 High Street, Aberdare","expectedStartDate":"Sat 13 Jan, 3:30 PM","expectedFinishDate":"Tue 16 Jan, 5:00 PM","externalQueueId":"EXT-441706","workId":"WK-708703","estimateNumber":"EST-55738","startDate":"","lat":51.7162,"lng":-3.45003,"expectedWindow":"3pm4:30pm","history":[]},{"taskId":"RG-AB30030","division":"Admin","taskStatus":"Dispatched (AWI)","pwa":"ZB-GAMMA-05","taskType":"Admin Review","primarySkill":"ADMIN2","capabilities":["ADMIN2"],"importanceScore":83,"msc":"Y","taskCreated":"Fri 8 Jan, 9:05 AM","groupCode":"Admin Group","systemType":"OR","employeeId":"T7728","resourceName":"Harvey Roberts","asset":"OFF-4119","assetName":"Admin Processing Queue","commitmentDate":"Sun 10 Jan, 1:15 PM","commitmentType":"Appointment","arrivedAtDate":"Tue 12 Jan, 4:10 PM","domain":"MN","estimatedDuration":40,"lastProgression":"On Site","category":"Administration","description":"Administration task for broadband/FTTP service in local area.","responseCode":"AD01","postCode":"CF44 7OD","appointmentStartDate":"Mon 10 Jan, 1:15 PM","linkedTask":"RG-AB30012","customerAddress":"","expectedStartDate":"Mon 10 Jan, 1:15 PM","expectedFinishDate":"Thu 13 Jan, 1:55 PM","externalQueueId":"EXT-441300","workId":"WK-719881","estimateNumber":"EST-55750","startDate":"Mon 10 Jan, 1:15 PM","lat":51.71655,"lng":-3.45119,"expectedWindow":"1pm1:40pm","history":[]},{"taskId":"RG-AB30031","division":"Complex Engineering","taskStatus":"Accepted (ISS)","pwa":"ZB-DELTA-06","taskType":"Survey","primarySkill":"RFTTP2","capabilities":["RFTTP2"],"importanceScore":85,"msc":"N","taskCreated":"Mon 3 Jan, 10:40 AM","groupCode":"Complex Engineering","systemType":"NW","employeeId":"T3673","resourceName":"Owain Roberts","asset":"AS-3212","assetName":"Route Survey Node","commitmentDate":"Tue 5 Jan, 11:20 AM","commitmentType":"Start By","arrivedAtDate":"Thu 7 Jan, 4:10 PM","domain":"SE","estimatedDuration":150,"lastProgression":"Completed","category":"Survey","description":"Survey task for broadband/FTTP service in local area.","responseCode":"SH02","postCode":"CF44 7ED","appointmentStartDate":"","linkedTask":"","customerAddress":"11 Commercial Street, Aberdare","expectedStartDate":"Thu 7 Jan, 4:10 PM","expectedFinishDate":"Sun 10 Jan, 6:40 PM","externalQueueId":"EXT-441744","workId":"WK-733281","estimateNumber":"EST-55731","startDate":"Thu 7 Jan, 4:10 PM","lat":51.7242,"lng":-3.51178,"expectedWindow":"4pm6:30pm","history":[]},{"taskId":"RG-AB30032","division":"Service Delivery","taskStatus":"In Progress (EXC)","pwa":"ZB-ALPHA-11","taskType":"Repair","primarySkill":"RISDN1","capabilities":["RISDN1"],"importanceScore":80,"msc":"Y","taskCreated":"Tue 4 Jan, 1:15 PM","groupCode":"Service Delivery","systemType":"OR","employeeId":"T4561","resourceName":"Chloe Price","asset":"AS-4599","assetName":"FTTC Cabinet","commitmentDate":"Thu 6 Jan, 2:00 PM","commitmentType":"Complete By","arrivedAtDate":"Fri 8 Jan, 8:15 AM","domain":"CF","estimatedDuration":90,"lastProgression":"On Site","category":"Repair","description":"Repair task for broadband/FTTP service in local area.","responseCode":"SH03","postCode":"CF44 8KL","appointmentStartDate":"","linkedTask":"","customerAddress":"22 Albert Street, Aberdare","expectedStartDate":"Sat 8 Jan, 8:15 AM","expectedFinishDate":"Tue 11 Jan, 9:45 AM","externalQueueId":"EXT-441728","workId":"WK-748868","estimateNumber":"EST-55729","startDate":"Sat 8 Jan, 8:15 AM","lat":51.71934,"lng":-3.44587,"expectedWindow":"8am9:30am","history":[]},{"taskId":"RG-AB30033","division":"Admin","taskStatus":"Completed (COM)","pwa":"ZB-DELTA-08","taskType":"Admin Review","primarySkill":"ADMIN1","capabilities":["ADMIN1"],"importanceScore":67,"msc":"Y","taskCreated":"Wed 10 Jan, 9:05 AM","groupCode":"Admin Group","systemType":"FSM","employeeId":"T5944","resourceName":"Steffan Price","asset":"OFF-4311","assetName":"Document Verification Queue","commitmentDate":"Fri 12 Jan, 1:15 PM","commitmentType":"Complete By","arrivedAtDate":"Sun 14 Jan, 2:00 PM","domain":"CF","estimatedDuration":60,"lastProgression":"Completed","category":"Administration","description":"Administration task for broadband/FTTP service in local area.","responseCode":"AD01","postCode":"CF44 7TR","appointmentStartDate":"","linkedTask":"RG-AB30024","customerAddress":"","expectedStartDate":"Mon 14 Jan, 2:00 PM","expectedFinishDate":"Thu 17 Jan, 3:00 PM","externalQueueId":"EXT-441332","workId":"WK-725196","estimateNumber":"EST-55750","startDate":"Mon 14 Jan, 2:00 PM","lat":51.71125,"lng":-3.44951,"expectedWindow":"2pm3pm","history":[]},{"taskId":"RG-AB30034","division":"Service Delivery","taskStatus":"Not Assigned (ACT)","pwa":"ZB-ALPHA-07","taskType":"Inspection","primarySkill":"RISDN3","capabilities":["RISDN3"],"importanceScore":51,"msc":"N","taskCreated":"Thu 9 Jan, 8:15 AM","groupCode":"Service Delivery","systemType":"OR","employeeId":"T5103","resourceName":"Rhys Thomas","asset":"AS-9476","assetName":"Underground Joint Chamber","commitmentDate":"Sat 11 Jan, 9:05 AM","commitmentType":"Future","arrivedAtDate":"","domain":"SE","estimatedDuration":90,"lastProgression":"Allocated","category":"Inspection","description":"Inspection task for broadband/FTTP service in local area.","responseCode":"SH02","postCode":"CF44 7DK","appointmentStartDate":"","linkedTask":"RG-AB30024","customerAddress":"62 High Street, Aberdare","expectedStartDate":"Sun 11 Jan, 9:05 AM","expectedFinishDate":"Wed 14 Jan, 10:35 AM","externalQueueId":"EXT-441935","workId":"WK-717714","estimateNumber":"EST-55793","startDate":"","lat":51.71377,"lng":-3.44688,"expectedWindow":"9am10:30am","history":[]},{"taskId":"RG-AB30035","division":"Complex Engineering","taskStatus":"Assigned (ACT)","pwa":"ZB-DELTA-02","taskType":"Survey","primarySkill":"RFTTP2","capabilities":["RFTTP2"],"importanceScore":58,"msc":"Y","taskCreated":"Fri 8 Jan, 1:15 PM","groupCode":"Complex Engineering","systemType":"NW","employeeId":"T6650","resourceName":"Carys Morgan","asset":"AS-4821","assetName":"Joint Box","commitmentDate":"Sun 10 Jan, 3:30 PM","commitmentType":"Start By","arrivedAtDate":"","domain":"CF","estimatedDuration":150,"lastProgression":"On Site","category":"Survey","description":"Survey task for broadband/FTTP service in local area.","responseCode":"SH02","postCode":"CF44 7RA","appointmentStartDate":"","linkedTask":"","customerAddress":"66 Brook Street, Aberdare","expectedStartDate":"Mon 10 Jan, 3:30 PM","expectedFinishDate":"Thu 13 Jan, 6:00 PM","externalQueueId":"EXT-441144","workId":"WK-711545","estimateNumber":"EST-55786","startDate":"","lat":51.7161,"lng":-3.44434,"expectedWindow":"3pm5:30pm","history":[]},{"taskId":"RG-AB30036","division":"Admin","taskStatus":"Dispatched (AWI)","pwa":"ZB-DELTA-01","taskType":"Admin Review","primarySkill":"ADMIN2","capabilities":["ADMIN2"],"importanceScore":62,"msc":"Y","taskCreated":"Sat 9 Jan, 9:05 AM","groupCode":"Admin Group","systemType":"OR","employeeId":"T7855","resourceName":"Steffan Jenkins","asset":"OFF-4023","assetName":"Admin Processing Queue","commitmentDate":"Mon 11 Jan, 1:15 PM","commitmentType":"Appointment","arrivedAtDate":"Wed 13 Jan, 2:00 PM","domain":"CF","estimatedDuration":40,"lastProgression":"Scheduled","category":"Administration","description":"Administration task for broadband/FTTP service in local area.","responseCode":"AD02","postCode":"CF44 8DW","appointmentStartDate":"Sun 11 Jan, 1:15 PM","linkedTask":"","customerAddress":"","expectedStartDate":"Sun 11 Jan, 1:15 PM","expectedFinishDate":"Wed 14 Jan, 1:55 PM","externalQueueId":"EXT-441939","workId":"WK-790818","estimateNumber":"EST-55733","startDate":"Sun 11 Jan, 1:15 PM","lat":51.70823,"lng":-3.50376,"expectedWindow":"1pm1:40pm","history":[]},{"taskId":"RG-AB30037","division":"Service Delivery","taskStatus":"Accepted (ISS)","pwa":"ZB-ALPHA-09","taskType":"Emergency","primarySkill":"RISDN3","capabilities":["RISDN3"],"importanceScore":92,"msc":"Y","taskCreated":"Sun 10 Jan, 8:15 AM","groupCode":"Service Delivery","systemType":"OR","employeeId":"T9012","resourceName":"Nia Davies","asset":"AS-5211","assetName":"Core Node Cabinet","commitmentDate":"Tue 12 Jan, 2:00 PM","commitmentType":"Tail","arrivedAtDate":"Wed 14 Jan, 11:20 AM","domain":"MN","estimatedDuration":150,"lastProgression":"En Route","category":"Emergency","description":"Emergency task for broadband/FTTP service in local area.","responseCode":"SH05","postCode":"CF44 7UU","appointmentStartDate":"","linkedTask":"RG-AB30032","customerAddress":"58 Cwmbach Road, Aberdare","expectedStartDate":"Thu 14 Jan, 11:20 AM","expectedFinishDate":"Sun 17 Jan, 1:50 PM","externalQueueId":"EXT-441306","workId":"WK-791918","estimateNumber":"EST-55790","startDate":"Thu 14 Jan, 11:20 AM","lat":51.71803,"lng":-3.44716,"expectedWindow":"11am1:30pm","history":[]},{"taskId":"RG-AB30038","division":"Complex Engineering","taskStatus":"In Progress (EXC)","pwa":"ZB-GAMMA-12","taskType":"Survey","primarySkill":"RFTTP1","capabilities":["RFTTP1"],"importanceScore":78,"msc":"N","taskCreated":"Mon 11 Jan, 9:05 AM","groupCode":"Complex Engineering","systemType":"NW","employeeId":"T6772","resourceName":"Owain James","asset":"AS-5987","assetName":"Manhole Access Point","commitmentDate":"Wed 13 Jan, 1:15 PM","commitmentType":"Start By","arrivedAtDate":"Thu 15 Jan, 10:40 AM","domain":"CF","estimatedDuration":150,"lastProgression":"On Site","category":"Survey","description":"Survey task for broadband/FTTP service in local area.","responseCode":"SH04","postCode":"CF44 7LV","appointmentStartDate":"","linkedTask":"RG-AB30024","customerAddress":"19 Canon Street, Aberdare","expectedStartDate":"Thu 15 Jan, 10:40 AM","expectedFinishDate":"Sun 18 Jan, 1:10 PM","externalQueueId":"EXT-441653","workId":"WK-744988","estimateNumber":"EST-55779","startDate":"Thu 15 Jan, 10:40 AM","lat":51.72651,"lng":-3.45205,"expectedWindow":"10am12:30pm","history":[]},{"taskId":"RG-AB30039","division":"Admin","taskStatus":"Completed (COM)","pwa":"ZB-ALPHA-01","taskType":"Admin Review","primarySkill":"ADMIN1","capabilities":["ADMIN1"],"importanceScore":63,"msc":"N","taskCreated":"Tue 12 Jan, 1:15 PM","groupCode":"Admin Group","systemType":"FSM","employeeId":"T7339","resourceName":"Harvey Price","asset":"OFF-6697","assetName":"Document Verification Queue","commitmentDate":"Thu 14 Jan, 3:30 PM","commitmentType":"Tail","arrivedAtDate":"Sat 16 Jan, 2:00 PM","domain":"MN","estimatedDuration":60,"lastProgression":"Completed","category":"Administration","description":"Administration task for broadband/FTTP service in local area.","responseCode":"AD02","postCode":"CF44 6TS","appointmentStartDate":"","linkedTask":"","customerAddress":"","expectedStartDate":"Sat 16 Jan, 2:00 PM","expectedFinishDate":"Tue 19 Jan, 3:00 PM","externalQueueId":"EXT-441923","workId":"WK-791162","estimateNumber":"EST-55748","startDate":"Sat 16 Jan, 2:00 PM","lat":51.7245,"lng":-3.44809,"expectedWindow":"2pm3pm","history":[]},{"taskId":"RG-AB30040","division":"Service Delivery","taskStatus":"Not Assigned (ACT)","pwa":"ZB-GAMMA-08","taskType":"Repair","primarySkill":"RISDN2","capabilities":["RISDN2"],"importanceScore":59,"msc":"Y","taskCreated":"Wed 13 Jan, 2:00 PM","groupCode":"Service Delivery","systemType":"OR","employeeId":"T6142","resourceName":"Ffion James","asset":"AS-6883","assetName":"FTTC Cabinet","commitmentDate":"Fri 15 Jan, 3:30 PM","commitmentType":"Future","arrivedAtDate":"","domain":"CF","estimatedDuration":110,"lastProgression":"Allocated","category":"Repair","description":"Repair task for broadband/FTTP service in local area.","responseCode":"SH04","postCode":"CF44 7QA","appointmentStartDate":"","linkedTask":"RG-AB30034","customerAddress":"88 Victoria Street, Aberdare","expectedStartDate":"Sat 15 Jan, 3:30 PM","expectedFinishDate":"Tue 18 Jan, 5:20 PM","externalQueueId":"EXT-441548","workId":"WK-742382","estimateNumber":"EST-55781","startDate":"","lat":51.71294,"lng":-3.44307,"expectedWindow":"3pm5:20pm","history":[]}]'),Td=JSON.parse('[{"resourceId":"SWBXA12","name":"John Evans","division":"Service Delivery","primarySkill":"RISDN2","secondarySkill":"RISDN1","status":"Available","pwa":"ZB-ALPHA-06","calloutGroup":"FJ","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900101","notes":"","history":[],"updatedAt":null,"homePostCode":"CF44 7AA","homeLat":51.71352,"homeLng":-3.44879},{"resourceId":"QWERB33","name":"Ffion Hughes","division":"Service Delivery","primarySkill":"RISDN3","secondarySkill":null,"status":"Unavailable","pwa":"ZB-GAMMA-04","calloutGroup":"ISDN","lastOutcome":"Unavailable","availableAgainAt":"2025-01-18T14:00","contactNumber":"07700900102","notes":"Medical appointment","history":[{"previousOutcome":null,"previousAvailableAgainAt":null,"changedAt":"2025-01-18T14:00:00Z"}],"updatedAt":"2025-01-18T14:00:00Z","homePostCode":"CF44 6ET","homeLat":51.71114,"homeLng":-3.43291},{"resourceId":"PLMKC14","name":"Owain Roberts","division":"Service Delivery","primarySkill":"RISDN1","secondarySkill":"RISDN2","status":"Available","pwa":"ZB-OMEGA-11","calloutGroup":"FJ","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900103","notes":"","history":[],"updatedAt":null,"homePostCode":"CF44 8NN","homeLat":51.72127,"homeLng":-3.44844},{"resourceId":"GHJTQ55","name":"Carys Morgan","division":"Service Delivery","primarySkill":"RISDN3","secondarySkill":null,"status":"On Task","pwa":"ZB-GAMMA-10","calloutGroup":"SD","lastOutcome":"Assigned","availableAgainAt":null,"contactNumber":"07700900104","notes":"","history":[],"updatedAt":"2025-01-17T09:30:00Z","homePostCode":"CF44 0AG","homeLat":51.69994,"homeLng":-3.43041},{"resourceId":"MNBGD82","name":"Rhys Davies","division":"Service Delivery","primarySkill":"RISDN2","secondarySkill":null,"status":"Available","pwa":"ZB-DELTA-10","calloutGroup":"FJ","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900105","notes":"","history":[],"updatedAt":null,"homePostCode":"CF44 9SW","homeLat":51.73152,"homeLng":-3.50623},{"resourceId":"LKJHF22","name":"Lowri Jenkins","division":"Complex Engineering","primarySkill":"RFTTP1","secondarySkill":"RFTTP2","status":"Available","pwa":"ZB-GAMMA-12","calloutGroup":"CE","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900106","notes":"","history":[],"updatedAt":null,"homePostCode":"CF45 3HD","homeLat":51.68691,"homeLng":-3.37852},{"resourceId":"ASDFR91","name":"Tomos Hughes","division":"Complex Engineering","primarySkill":"RFTTP2","secondarySkill":null,"status":"Unavailable","pwa":"ZB-DELTA-07","calloutGroup":"CE","lastOutcome":"Refusal","availableAgainAt":"2025-01-19T16:00","contactNumber":"07700900107","notes":"Family emergency","history":[{"previousOutcome":null,"previousAvailableAgainAt":null,"changedAt":"2025-01-17T12:00:00Z"}],"updatedAt":"2025-01-17T12:00:00Z","homePostCode":"CF47 8EL","homeLat":51.74842,"homeLng":-3.38123},{"resourceId":"ZXCVS67","name":"Bethan Evans","division":"Complex Engineering","primarySkill":"RFTTP2","secondarySkill":"RFTTP1","status":"On Task","pwa":"ZB-OMEGA-10","calloutGroup":"CE","lastOutcome":"Dispatched","availableAgainAt":null,"contactNumber":"07700900108","notes":"","history":[],"updatedAt":"2025-01-18T08:30:00Z","homePostCode":"CF44 6EA","homeLat":51.70887,"homeLng":-3.43811},{"resourceId":"BNMAS49","name":"Steffan Price","division":"Complex Engineering","primarySkill":"RFTTP1","secondarySkill":null,"status":"Available","pwa":"ZB-DELTA-05","calloutGroup":"CE","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900109","notes":"","history":[],"updatedAt":null,"homePostCode":"CF42 6UP","homeLat":51.65761,"homeLng":-3.50744},{"resourceId":"POIUY73","name":"Aled Thomas","division":"Complex Engineering","primarySkill":"RFTTP2","secondarySkill":null,"status":"Available","pwa":"ZB-ALPHA-02","calloutGroup":"CE","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900110","notes":"","history":[],"updatedAt":null,"homePostCode":"CF44 7AY","homeLat":51.71601,"homeLng":-3.45192},{"resourceId":"UJMKL89","name":"Lauren Evans","division":"Service Delivery","primarySkill":"RISDN2","secondarySkill":"RISDN3","status":"Available","pwa":"ZB-ALPHA-04","calloutGroup":"SD","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900116","notes":"","history":[],"updatedAt":null,"homePostCode":"CF44 7RP","homeLat":51.71074,"homeLng":-3.44591},{"resourceId":"KJHGF02","name":"Nia James","division":"Service Delivery","primarySkill":"RISDN1","secondarySkill":null,"status":"On Task","pwa":"ZB-GAMMA-09","calloutGroup":"ISDN","lastOutcome":"Dispatched","availableAgainAt":null,"contactNumber":"07700900117","notes":"","history":[],"updatedAt":"2025-01-18T08:50:00Z","homePostCode":"CF44 6AB","homeLat":51.70818,"homeLng":-3.42742},{"resourceId":"RTYHN44","name":"Chloe Davies","division":"Service Delivery","primarySkill":"RISDN3","secondarySkill":null,"status":"Available","pwa":"ZB-ALPHA-09","calloutGroup":"SD","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900120","notes":"","history":[],"updatedAt":null,"homePostCode":"CF44 9DL","homeLat":51.72475,"homeLng":-3.4862},{"resourceId":"SDNEW21","name":"Gareth Bowen","division":"Service Delivery","primarySkill":"RISDN1","secondarySkill":"RISDN2","status":"Available","pwa":"ZB-ALPHA-15","calloutGroup":"FJ","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900130","notes":"","history":[],"updatedAt":null,"homePostCode":"CF44 8HA","homeLat":51.71955,"homeLng":-3.45591},{"resourceId":"SDNEW22","name":"Megan Griffiths","division":"Service Delivery","primarySkill":"RISDN3","secondarySkill":"RISDN1","status":"Unavailable","pwa":"ZB-OMEGA-17","calloutGroup":"SD","lastOutcome":"Unavailable","availableAgainAt":"2025-01-20T09:00:00Z","contactNumber":"07700900131","notes":"Childcare","history":[],"updatedAt":"2025-01-18T13:15:00Z","homePostCode":"CF44 0SW","homeLat":51.70082,"homeLng":-3.4211},{"resourceId":"SDNEW23","name":"Ieuan Watkins","division":"Service Delivery","primarySkill":"RISDN1","secondarySkill":null,"status":"Available","pwa":"ZB-GAMMA-18","calloutGroup":"FJ","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900132","notes":"","history":[],"updatedAt":null,"homePostCode":"CF44 6LA","homeLat":51.70692,"homeLng":-3.43092},{"resourceId":"SDNEW24","name":"Seren Powell","division":"Service Delivery","primarySkill":"RISDN2","secondarySkill":"RISDN3","status":"On Task","pwa":"ZB-OMEGA-13","calloutGroup":"SD","lastOutcome":"Assigned","availableAgainAt":null,"contactNumber":"07700900133","notes":"","history":[],"updatedAt":"2025-01-18T10:10:00Z","homePostCode":"CF44 7PP","homeLat":51.71381,"homeLng":-3.45514},{"resourceId":"SDNEW25","name":"Rhys Llewellyn","division":"Service Delivery","primarySkill":"RISDN3","secondarySkill":"RISDN1","status":"Unavailable","pwa":"ZB-DELTA-11","calloutGroup":"ISDN","lastOutcome":"NoReply","availableAgainAt":"2025-01-21T08:00:00Z","contactNumber":"07700900134","notes":"Missed several calls","history":[{"previousOutcome":null,"previousAvailableAgainAt":null,"changedAt":"2025-01-18T12:45:00Z"}],"updatedAt":"2025-01-18T12:45:00Z","homePostCode":"CF44 9DJ","homeLat":51.7261,"homeLng":-3.49125},{"resourceId":"SDNEW26","name":"Catrin Rees","division":"Service Delivery","primarySkill":"RISDN2","secondarySkill":null,"status":"Available","pwa":"ZB-ALPHA-22","calloutGroup":"SD","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900135","notes":"","history":[],"updatedAt":null,"homePostCode":"CF44 0AJ","homeLat":51.70102,"homeLng":-3.43274},{"resourceId":"SDNEW27","name":"Gwenllian Thomas","division":"Service Delivery","primarySkill":"RISDN1","secondarySkill":"RISDN2","status":"Available","pwa":"ZB-GAMMA-22","calloutGroup":"FJ","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900136","notes":"","history":[],"updatedAt":null,"homePostCode":"CF44 9NH","homeLat":51.72982,"homeLng":-3.50008}]'),Ad={Appointment:"#F59E0B","Start By":"#EC4899","Complete By":"#3B82F6",Future:"#10B981",Tail:"#6B7280"},tr={Available:"#10B981",Unavailable:"#EF4444","On Task":"#3B82F6",Default:"#6B7280"},Cd=36,Pd=50;function kd(t,n){const s=F0(t,.35);return`
    <svg width="${Cd}" height="${Pd}" viewBox="0 0 40 56">
      ${n?`
        <rect x="1.5" y="1.5" width="37" height="53"
              rx="8" ry="8"
              fill="none"
              stroke="#DC2626"
              stroke-width="3" />`:""}

      <!-- Outer teardrop -->
      <path
        d="M20 2 C 11 2, 4 9, 4 18 C 4 29, 20 52, 20 52 C 20 52, 36 29, 36 18 C 36 9, 29 2, 20 2 Z"
        fill="#FFFFFF"
        stroke="#1F2937"
        stroke-width="2.5"
      />

      <!-- Inner coloured area (task commitment colour) -->
      <path
        d="M20 10 C 14 10, 9 15, 9 21 C 9 29, 20 44, 20 44 C 20 44, 31 29, 31 21 C 31 15, 26 10, 20 10 Z"
        fill="${t}"
        stroke="${s}"
        stroke-width="2.5"
      />
    </svg>
  `}function Md(t,n){const s=tr[t]||tr.Default;return`
    <svg width="${Cd}" height="${Pd}" viewBox="0 0 40 56">
      ${n?`
        <rect x="1.5" y="1.5" width="37" height="53"
              rx="8" ry="8"
              fill="none"
              stroke="#DC2626"
              stroke-width="3" />`:""}

      <!-- Outer teardrop -->
      <path
        d="M20 2 C 11 2, 4 9, 4 18 C 4 29, 20 52, 20 52 C 20 52, 36 29, 36 18 C 36 9, 29 2, 20 2 Z"
        fill="#FFFFFF"
        stroke="#1F2937"
        stroke-width="2.5"
      />

      <!-- Inner panel (light grey) to give contrast for the person icon -->
      <path
        d="M20 10 C 14 10, 9 15, 9 21 C 9 29, 20 44, 20 44 C 20 44, 31 29, 31 21 C 31 15, 26 10, 20 10 Z"
        fill="#E5E7EB"
        stroke="#D1D5DB"
        stroke-width="2"
      />

      <!-- Person / engineer silhouette -->
      <g transform="translate(8,6)" fill="#111827">
        <circle cx="12" cy="8" r="5.2" />
        <path d="M4.5 24.5c0-4.6 3.8-8.2 7.5-8.2s7.5 3.6 7.5 8.2v5.5H4.5v-5.5z" />
      </g>

      <!-- Status dot -->
      <circle
        cx="20"
        cy="39"
        r="5"
        fill="${s}"
        stroke="#FFFFFF"
        stroke-width="2"
      />
    </svg>
  `}function F0(t,n=.35){const s=t.replace("#",""),o=parseInt(s.substring(0,2),16),a=parseInt(s.substring(2,4),16),u=parseInt(s.substring(4,6),16);return`rgb(${Math.floor(o*(1-n))}, ${Math.floor(a*(1-n))}, ${Math.floor(u*(1-n))})`}function V0({visible:t,onClose:n}){return t?m.jsxs("div",{className:`
        absolute top-14 right-4 z-[9999]
        bg-white border border-gray-200
        rounded-xl shadow-lg p-4 w-72 text-sm
      `,children:[m.jsxs("div",{className:"flex justify-between items-center mb-3",children:[m.jsx("h2",{className:"font-semibold text-gray-800 text-sm",children:"Map Legend"}),m.jsx("button",{className:"text-gray-500 hover:text-gray-700",onClick:n,children:""})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("h3",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide mb-2",children:"Resources"}),m.jsx("div",{className:"space-y-3",children:Object.entries(tr).map(([s,o])=>m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"scale-75 origin-left",dangerouslySetInnerHTML:{__html:Md(s,!1)}}),m.jsx("span",{className:"text-gray-700 text-xs",children:s})]},s))})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide mb-2",children:"Tasks"}),m.jsx("div",{className:"space-y-3",children:Object.entries(Ad).map(([s,o])=>m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"scale-75 origin-left",dangerouslySetInnerHTML:{__html:kd(o,!1)}}),m.jsx("span",{className:"text-gray-700 text-xs",children:s})]},s))})]})]}):null}function cc(t){const n=t.match(/\(([^)]+)\)/);return n?n[1]:""}function uc(t){return[...t].sort((n,s)=>{const o=cc(n),a=cc(s);return o===a?n.localeCompare(s):o.localeCompare(a)})}const Z0=({mode:t="task-default",onSearch:n,onClear:s,dropdownData:o,resetKey:a,hideActions:u})=>{const[l,d]=x.useState({statuses:[],pwa:[],capabilities:[],commitmentTypes:[],responseCodes:[],impCondition:"",impValue:""}),[f,g]=x.useState(null),p=x.useRef(null),[v,y]=x.useState({statuses:"",pwa:"",capabilities:"",commitmentTypes:"",responseCodes:"",resourceStatuses:""});x.useEffect(()=>{d({statuses:[],pwa:[],capabilities:[],commitmentTypes:[],responseCodes:[],impCondition:"",impValue:""}),y({statuses:"",pwa:"",capabilities:"",commitmentTypes:"",responseCodes:"",resourceStatuses:""}),g(null)},[a]),x.useEffect(()=>{const U=ge=>{p.current&&(p.current.contains(ge.target)||g(null))};return document.addEventListener("mousedown",U),()=>document.removeEventListener("mousedown",U)},[]),x.useEffect(()=>{u&&n(l)},[l,u,n]);const b=U=>U??[],A=(U,ge)=>U.filter(ie=>ie.toLowerCase().includes(ge.toLowerCase())),S={statuses:A(uc(b(o.statuses)),v.statuses),pwa:A(b(o.pwa),v.pwa),capabilities:A(b(o.capabilities),v.capabilities),commitmentTypes:A(b(o.commitmentTypes),v.commitmentTypes),responseCodes:A(b(o.responseCodes),v.responseCodes),resourceStatuses:A(uc(b(o.resourceStatuses)),v.resourceStatuses)},M=(U,ge)=>{d(ie=>{const de=Array.isArray(ie[U])?ie[U]:[],ue=de.includes(ge)?de.filter($=>$!==ge):[...de,ge];return{...ie,[U]:ue}})},C=(U,ge)=>{d(ie=>{const ae=(Array.isArray(ie[U])?ie[U]:[]).length===ge.length&&ge.length>0;return{...ie,[U]:ae?[]:[...ge]}})},R=U=>m.jsx("div",{className:"font-semibold text-[11px] text-gray-700 mb-1",children:U}),T=m.jsx(Nn,{id:"statuses",label:"Task Status",options:S.statuses,selected:l.statuses,openDropdown:f,setOpenDropdown:g,query:v,setQuery:y,onToggle:U=>M("statuses",U),onSelectAll:()=>C("statuses",S.statuses)}),k=m.jsx(Nn,{id:"pwa",label:"PWA",options:S.pwa,selected:l.pwa,openDropdown:f,setOpenDropdown:g,query:v,setQuery:y,onToggle:U=>M("pwa",U),onSelectAll:()=>C("pwa",S.pwa)}),E=m.jsx(Nn,{id:"capabilities",label:"Capabilities",options:S.capabilities,selected:l.capabilities,openDropdown:f,setOpenDropdown:g,query:v,setQuery:y,onToggle:U=>M("capabilities",U),onSelectAll:()=>C("capabilities",S.capabilities)}),z=m.jsx(Nn,{id:"commitmentTypes",label:"Commit Type",options:S.commitmentTypes,selected:l.commitmentTypes,openDropdown:f,setOpenDropdown:g,query:v,setQuery:y,onToggle:U=>M("commitmentTypes",U),onSelectAll:()=>C("commitmentTypes",S.commitmentTypes)}),O=m.jsx(Nn,{id:"responseCodes",label:"Response Code",options:S.responseCodes,selected:l.responseCodes??[],openDropdown:f,setOpenDropdown:g,query:v,setQuery:y,onToggle:U=>M("responseCodes",U),onSelectAll:()=>C("responseCodes",S.responseCodes)}),V=m.jsxs("div",{className:"flex flex-col",children:[R("IMP Score"),m.jsxs("div",{className:"flex gap-2",children:[m.jsxs("select",{className:"border border-gray-300 rounded-md text-[12px] px-2 h-[32px] bg-white",value:l.impCondition??"",onChange:U=>d(ge=>({...ge,impCondition:U.target.value})),style:{minWidth:"clamp(100px,12vw,140px)"},children:[m.jsx("option",{value:"",children:"Condition"}),m.jsx("option",{value:"greater",children:"Greater Than"}),m.jsx("option",{value:"less",children:"Less Than"})]}),m.jsx("input",{type:"number",className:"border border-gray-300 rounded-md text-[12px] px-2 h-[32px] bg-white",value:l.impValue??"",onChange:U=>d(ge=>({...ge,impValue:U.target.value})),placeholder:"Value",style:{width:"clamp(80px,8vw,100px)"}})]})]}),Y=m.jsx(Nn,{id:"resourceStatuses",label:"Status",options:S.resourceStatuses,selected:l.statuses,openDropdown:f,setOpenDropdown:g,query:v,setQuery:y,onToggle:U=>M("statuses",U),onSelectAll:()=>C("statuses",b(o.resourceStatuses))}),ee=t==="resource-active"?"resource-active":"task-default",K=()=>ee==="task-default"?m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[T,k,E,z,O,V]}):ee==="resource-active"?m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[Y,k]}):null;return m.jsxs(et.div,{ref:p,initial:{opacity:0,y:-4},animate:{opacity:1,y:0},className:"flex flex-col gap-3 w-full",children:[K(),!u&&m.jsxs("div",{className:"flex justify-end pt-2 border-t border-gray-200 mt-2",children:[m.jsx("button",{className:"px-4 py-1.5 text-sm bg-[#0A4A7A] text-white rounded-md mr-2 hover:bg-[#08385E]",onClick:()=>n(l),children:"Search"}),m.jsx("button",{className:"px-4 py-1.5 text-sm bg-white border border-gray-300 rounded-md hover:bg-gray-50",onClick:s,children:"Clear"})]})]})};function Nn({id:t,label:n,options:s,selected:o,openDropdown:a,setOpenDropdown:u,query:l,setQuery:d,onToggle:f,onSelectAll:g}){const p=a===t,v=l[t]??"",y=s.length>0&&o.length===s.length,b=o.length>0?`${o.length} selected`:n;return m.jsxs("div",{className:"relative",children:[m.jsxs("div",{onClick:()=>u(p?null:t),className:`w-full h-[34px] px-3 text-[12px] border border-gray-300 rounded-md
                   bg-white text-gray-900 shadow-sm cursor-pointer flex items-center justify-between
                   hover:border-gray-400`,children:[m.jsx("span",{className:"truncate w-full pr-3",children:b}),m.jsx(Nc,{size:14,className:"text-gray-600 flex-shrink-0"})]}),m.jsx(wt,{children:p&&m.jsxs(et.div,{initial:{opacity:0,y:-6},animate:{opacity:1,y:0},exit:{opacity:0,y:-6},transition:{duration:.2},className:`absolute z-[9999] mt-1 p-2 text-[12px] bg-white border border-gray-300
                     rounded-lg shadow-2xl w-full`,style:{minWidth:"min(90vw,320px)"},children:[m.jsx("input",{type:"text",placeholder:`Filter ${n.toLowerCase()}`,value:v,onChange:A=>d(S=>({...S,[t]:A.target.value})),autoFocus:!0,className:`w-full mb-2 px-2 py-1 text-[12px] border border-gray-300 rounded-md
                         bg-white focus:ring-2 focus:ring-blue-500/70 focus:border-blue-500
                         text-center placeholder:text-center`}),m.jsxs("div",{className:"sticky top-0 flex justify-between bg-slate-50 px-2 py-1 border border-gray-200 rounded mt-1 mb-1 text-[12px] items-center",children:[m.jsx("span",{children:y?"Clear All Results":"Select All Results"}),y?m.jsx(xd,{size:16,onClick:g,className:"cursor-pointer text-[#0A4A7A]"}):m.jsx(_d,{size:16,onClick:g,className:"cursor-pointer text-[#0A4A7A]"})]}),m.jsxs("div",{className:"overflow-y-auto",style:{maxHeight:"calc(var(--vh, 1vh) * 40)",scrollbarWidth:"thin",scrollbarColor:"#9ca3af #e5e7eb"},children:[s.map(A=>m.jsxs("label",{className:"flex items-center gap-2 px-2 py-1 hover:bg-blue-50 cursor-pointer border-b border-gray-100 last:border-b-0",children:[m.jsx("input",{type:"checkbox",checked:o.includes(A),onChange:()=>f(A),className:"accent-[#0A4A7A]"}),m.jsx("span",{className:"text-gray-900",children:A})]},A)),s.length===0&&m.jsx("div",{className:"px-2 py-1 text-gray-500 italic",children:"No results"})]})]})})]})}function W0({mode:t,onSearch:n,onClear:s,dropdownData:o,resetKey:a}){return m.jsx(Z0,{mode:t,onSearch:n,onClear:s,dropdownData:o,resetKey:a,hideActions:!0})}function H0(){return m.jsx("div",{className:"bg-white border h-full rounded-lg shadow-sm p-4"})}function Dd(t,n){const s=x.useRef(n);x.useEffect(function(){n!==s.current&&t.attributionControl!=null&&(s.current!=null&&t.attributionControl.removeAttribution(s.current),n!=null&&t.attributionControl.addAttribution(n)),s.current=n},[t,n])}var Vr=vf();const G0=1;function J0(t){return Object.freeze({__version:G0,map:t})}function U0(t,n){return Object.freeze({...t,...n})}const Zr=x.createContext(null);function Wr(){const t=x.use(Zr);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function $0(t){function n(s,o){const{instance:a,context:u}=t(s).current;x.useImperativeHandle(o,()=>a);const{children:l}=s;return l==null?null:Ht.createElement(Zr,{value:u},l)}return x.forwardRef(n)}function K0(t){function n(s,o){const[a,u]=x.useState(!1),{instance:l}=t(s,u).current;x.useImperativeHandle(o,()=>l),x.useEffect(function(){a&&l.update()},[l,a,s.children]);const d=l._contentNode;return d?Vr.createPortal(s.children,d):null}return x.forwardRef(n)}function X0(t){function n(s,o){const{instance:a}=t(s).current;return x.useImperativeHandle(o,()=>a),null}return x.forwardRef(n)}function Ld(t,n){const s=x.useRef(void 0);x.useEffect(function(){return n!=null&&t.instance.on(n),s.current=n,function(){s.current!=null&&t.instance.off(s.current),s.current=null}},[t,n])}function Hr(t,n){const s=t.pane??n.pane;return s?{...t,pane:s}:t}function q0(t,n){return function(o,a){const u=Wr(),l=t(Hr(o,u),u);return Dd(u.map,o.attribution),Ld(l.current,o.eventHandlers),n(l.current,u,o,a),l}}var di={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var Y0=di.exports,dc;function Q0(){return dc||(dc=1,function(t,n){(function(s,o){o(n)})(Y0,function(s){var o="1.9.4";function a(e){var i,r,c,h;for(r=1,c=arguments.length;r<c;r++){h=arguments[r];for(i in h)e[i]=h[i]}return e}var u=Object.create||function(){function e(){}return function(i){return e.prototype=i,new e}}();function l(e,i){var r=Array.prototype.slice;if(e.bind)return e.bind.apply(e,r.call(arguments,1));var c=r.call(arguments,2);return function(){return e.apply(i,c.length?c.concat(r.call(arguments)):arguments)}}var d=0;function f(e){return"_leaflet_id"in e||(e._leaflet_id=++d),e._leaflet_id}function g(e,i,r){var c,h,_,w;return w=function(){c=!1,h&&(_.apply(r,h),h=!1)},_=function(){c?h=arguments:(e.apply(r,arguments),setTimeout(w,i),c=!0)},_}function p(e,i,r){var c=i[1],h=i[0],_=c-h;return e===c&&r?e:((e-h)%_+_)%_+h}function v(){return!1}function y(e,i){if(i===!1)return e;var r=Math.pow(10,i===void 0?6:i);return Math.round(e*r)/r}function b(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function A(e){return b(e).split(/\s+/)}function S(e,i){Object.prototype.hasOwnProperty.call(e,"options")||(e.options=e.options?u(e.options):{});for(var r in i)e.options[r]=i[r];return e.options}function M(e,i,r){var c=[];for(var h in e)c.push(encodeURIComponent(r?h.toUpperCase():h)+"="+encodeURIComponent(e[h]));return(!i||i.indexOf("?")===-1?"?":"&")+c.join("&")}var C=/\{ *([\w_ -]+) *\}/g;function R(e,i){return e.replace(C,function(r,c){var h=i[c];if(h===void 0)throw new Error("No value provided for variable "+r);return typeof h=="function"&&(h=h(i)),h})}var T=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};function k(e,i){for(var r=0;r<e.length;r++)if(e[r]===i)return r;return-1}var E="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function z(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}var O=0;function V(e){var i=+new Date,r=Math.max(0,16-(i-O));return O=i+r,window.setTimeout(e,r)}var Y=window.requestAnimationFrame||z("RequestAnimationFrame")||V,ee=window.cancelAnimationFrame||z("CancelAnimationFrame")||z("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)};function K(e,i,r){if(r&&Y===V)e.call(i);else return Y.call(window,l(e,i))}function U(e){e&&ee.call(window,e)}var ge={__proto__:null,extend:a,create:u,bind:l,get lastId(){return d},stamp:f,throttle:g,wrapNum:p,falseFn:v,formatNum:y,trim:b,splitWords:A,setOptions:S,getParamString:M,template:R,isArray:T,indexOf:k,emptyImageUrl:E,requestFn:Y,cancelFn:ee,requestAnimFrame:K,cancelAnimFrame:U};function ie(){}ie.extend=function(e){var i=function(){S(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},r=i.__super__=this.prototype,c=u(r);c.constructor=i,i.prototype=c;for(var h in this)Object.prototype.hasOwnProperty.call(this,h)&&h!=="prototype"&&h!=="__super__"&&(i[h]=this[h]);return e.statics&&a(i,e.statics),e.includes&&(de(e.includes),a.apply(null,[c].concat(e.includes))),a(c,e),delete c.statics,delete c.includes,c.options&&(c.options=r.options?u(r.options):{},a(c.options,e.options)),c._initHooks=[],c.callInitHooks=function(){if(!this._initHooksCalled){r.callInitHooks&&r.callInitHooks.call(this),this._initHooksCalled=!0;for(var _=0,w=c._initHooks.length;_<w;_++)c._initHooks[_].call(this)}},i},ie.include=function(e){var i=this.prototype.options;return a(this.prototype,e),e.options&&(this.prototype.options=i,this.mergeOptions(e.options)),this},ie.mergeOptions=function(e){return a(this.prototype.options,e),this},ie.addInitHook=function(e){var i=Array.prototype.slice.call(arguments,1),r=typeof e=="function"?e:function(){this[e].apply(this,i)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(r),this};function de(e){if(!(typeof L>"u"||!L||!L.Mixin)){e=T(e)?e:[e];for(var i=0;i<e.length;i++)e[i]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ae={on:function(e,i,r){if(typeof e=="object")for(var c in e)this._on(c,e[c],i);else{e=A(e);for(var h=0,_=e.length;h<_;h++)this._on(e[h],i,r)}return this},off:function(e,i,r){if(!arguments.length)delete this._events;else if(typeof e=="object")for(var c in e)this._off(c,e[c],i);else{e=A(e);for(var h=arguments.length===1,_=0,w=e.length;_<w;_++)h?this._off(e[_]):this._off(e[_],i,r)}return this},_on:function(e,i,r,c){if(typeof i!="function"){console.warn("wrong listener type: "+typeof i);return}if(this._listens(e,i,r)===!1){r===this&&(r=void 0);var h={fn:i,ctx:r};c&&(h.once=!0),this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(h)}},_off:function(e,i,r){var c,h,_;if(this._events&&(c=this._events[e],!!c)){if(arguments.length===1){if(this._firingCount)for(h=0,_=c.length;h<_;h++)c[h].fn=v;delete this._events[e];return}if(typeof i!="function"){console.warn("wrong listener type: "+typeof i);return}var w=this._listens(e,i,r);if(w!==!1){var P=c[w];this._firingCount&&(P.fn=v,this._events[e]=c=c.slice()),c.splice(w,1)}}},fire:function(e,i,r){if(!this.listens(e,r))return this;var c=a({},i,{type:e,target:this,sourceTarget:i&&i.sourceTarget||this});if(this._events){var h=this._events[e];if(h){this._firingCount=this._firingCount+1||1;for(var _=0,w=h.length;_<w;_++){var P=h[_],D=P.fn;P.once&&this.off(e,D,P.ctx),D.call(P.ctx||this,c)}this._firingCount--}}return r&&this._propagateEvent(c),this},listens:function(e,i,r,c){typeof e!="string"&&console.warn('"string" type argument expected');var h=i;typeof i!="function"&&(c=!!i,h=void 0,r=void 0);var _=this._events&&this._events[e];if(_&&_.length&&this._listens(e,h,r)!==!1)return!0;if(c){for(var w in this._eventParents)if(this._eventParents[w].listens(e,i,r,c))return!0}return!1},_listens:function(e,i,r){if(!this._events)return!1;var c=this._events[e]||[];if(!i)return!!c.length;r===this&&(r=void 0);for(var h=0,_=c.length;h<_;h++)if(c[h].fn===i&&c[h].ctx===r)return h;return!1},once:function(e,i,r){if(typeof e=="object")for(var c in e)this._on(c,e[c],i,!0);else{e=A(e);for(var h=0,_=e.length;h<_;h++)this._on(e[h],i,r,!0)}return this},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[f(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[f(e)],this},_propagateEvent:function(e){for(var i in this._eventParents)this._eventParents[i].fire(e.type,a({layer:e.target,propagatedFrom:e.target},e),!0)}};ae.addEventListener=ae.on,ae.removeEventListener=ae.clearAllEventListeners=ae.off,ae.addOneTimeEventListener=ae.once,ae.fireEvent=ae.fire,ae.hasEventListeners=ae.listens;var ue=ie.extend(ae);function $(e,i,r){this.x=r?Math.round(e):e,this.y=r?Math.round(i):i}var Ce=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};$.prototype={clone:function(){return new $(this.x,this.y)},add:function(e){return this.clone()._add(Q(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(Q(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new $(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new $(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Ce(this.x),this.y=Ce(this.y),this},distanceTo:function(e){e=Q(e);var i=e.x-this.x,r=e.y-this.y;return Math.sqrt(i*i+r*r)},equals:function(e){return e=Q(e),e.x===this.x&&e.y===this.y},contains:function(e){return e=Q(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+y(this.x)+", "+y(this.y)+")"}};function Q(e,i,r){return e instanceof $?e:T(e)?new $(e[0],e[1]):e==null?e:typeof e=="object"&&"x"in e&&"y"in e?new $(e.x,e.y):new $(e,i,r)}function I(e,i){if(e)for(var r=i?[e,i]:e,c=0,h=r.length;c<h;c++)this.extend(r[c])}I.prototype={extend:function(e){var i,r;if(!e)return this;if(e instanceof $||typeof e[0]=="number"||"x"in e)i=r=Q(e);else if(e=le(e),i=e.min,r=e.max,!i||!r)return this;return!this.min&&!this.max?(this.min=i.clone(),this.max=r.clone()):(this.min.x=Math.min(i.x,this.min.x),this.max.x=Math.max(r.x,this.max.x),this.min.y=Math.min(i.y,this.min.y),this.max.y=Math.max(r.y,this.max.y)),this},getCenter:function(e){return Q((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return Q(this.min.x,this.max.y)},getTopRight:function(){return Q(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var i,r;return typeof e[0]=="number"||e instanceof $?e=Q(e):e=le(e),e instanceof I?(i=e.min,r=e.max):i=r=e,i.x>=this.min.x&&r.x<=this.max.x&&i.y>=this.min.y&&r.y<=this.max.y},intersects:function(e){e=le(e);var i=this.min,r=this.max,c=e.min,h=e.max,_=h.x>=i.x&&c.x<=r.x,w=h.y>=i.y&&c.y<=r.y;return _&&w},overlaps:function(e){e=le(e);var i=this.min,r=this.max,c=e.min,h=e.max,_=h.x>i.x&&c.x<r.x,w=h.y>i.y&&c.y<r.y;return _&&w},isValid:function(){return!!(this.min&&this.max)},pad:function(e){var i=this.min,r=this.max,c=Math.abs(i.x-r.x)*e,h=Math.abs(i.y-r.y)*e;return le(Q(i.x-c,i.y-h),Q(r.x+c,r.y+h))},equals:function(e){return e?(e=le(e),this.min.equals(e.getTopLeft())&&this.max.equals(e.getBottomRight())):!1}};function le(e,i){return!e||e instanceof I?e:new I(e,i)}function F(e,i){if(e)for(var r=i?[e,i]:e,c=0,h=r.length;c<h;c++)this.extend(r[c])}F.prototype={extend:function(e){var i=this._southWest,r=this._northEast,c,h;if(e instanceof H)c=e,h=e;else if(e instanceof F){if(c=e._southWest,h=e._northEast,!c||!h)return this}else return e?this.extend(Z(e)||G(e)):this;return!i&&!r?(this._southWest=new H(c.lat,c.lng),this._northEast=new H(h.lat,h.lng)):(i.lat=Math.min(c.lat,i.lat),i.lng=Math.min(c.lng,i.lng),r.lat=Math.max(h.lat,r.lat),r.lng=Math.max(h.lng,r.lng)),this},pad:function(e){var i=this._southWest,r=this._northEast,c=Math.abs(i.lat-r.lat)*e,h=Math.abs(i.lng-r.lng)*e;return new F(new H(i.lat-c,i.lng-h),new H(r.lat+c,r.lng+h))},getCenter:function(){return new H((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new H(this.getNorth(),this.getWest())},getSouthEast:function(){return new H(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){typeof e[0]=="number"||e instanceof H||"lat"in e?e=Z(e):e=G(e);var i=this._southWest,r=this._northEast,c,h;return e instanceof F?(c=e.getSouthWest(),h=e.getNorthEast()):c=h=e,c.lat>=i.lat&&h.lat<=r.lat&&c.lng>=i.lng&&h.lng<=r.lng},intersects:function(e){e=G(e);var i=this._southWest,r=this._northEast,c=e.getSouthWest(),h=e.getNorthEast(),_=h.lat>=i.lat&&c.lat<=r.lat,w=h.lng>=i.lng&&c.lng<=r.lng;return _&&w},overlaps:function(e){e=G(e);var i=this._southWest,r=this._northEast,c=e.getSouthWest(),h=e.getNorthEast(),_=h.lat>i.lat&&c.lat<r.lat,w=h.lng>i.lng&&c.lng<r.lng;return _&&w},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,i){return e?(e=G(e),this._southWest.equals(e.getSouthWest(),i)&&this._northEast.equals(e.getNorthEast(),i)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function G(e,i){return e instanceof F?e:new F(e,i)}function H(e,i,r){if(isNaN(e)||isNaN(i))throw new Error("Invalid LatLng object: ("+e+", "+i+")");this.lat=+e,this.lng=+i,r!==void 0&&(this.alt=+r)}H.prototype={equals:function(e,i){if(!e)return!1;e=Z(e);var r=Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng));return r<=(i===void 0?1e-9:i)},toString:function(e){return"LatLng("+y(this.lat,e)+", "+y(this.lng,e)+")"},distanceTo:function(e){return te.distance(this,Z(e))},wrap:function(){return te.wrapLatLng(this)},toBounds:function(e){var i=180*e/40075017,r=i/Math.cos(Math.PI/180*this.lat);return G([this.lat-i,this.lng-r],[this.lat+i,this.lng+r])},clone:function(){return new H(this.lat,this.lng,this.alt)}};function Z(e,i,r){return e instanceof H?e:T(e)&&typeof e[0]!="object"?e.length===3?new H(e[0],e[1],e[2]):e.length===2?new H(e[0],e[1]):null:e==null?e:typeof e=="object"&&"lat"in e?new H(e.lat,"lng"in e?e.lng:e.lon,e.alt):i===void 0?null:new H(e,i,r)}var X={latLngToPoint:function(e,i){var r=this.projection.project(e),c=this.scale(i);return this.transformation._transform(r,c)},pointToLatLng:function(e,i){var r=this.scale(i),c=this.transformation.untransform(e,r);return this.projection.unproject(c)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var i=this.projection.bounds,r=this.scale(e),c=this.transformation.transform(i.min,r),h=this.transformation.transform(i.max,r);return new I(c,h)},infinite:!1,wrapLatLng:function(e){var i=this.wrapLng?p(e.lng,this.wrapLng,!0):e.lng,r=this.wrapLat?p(e.lat,this.wrapLat,!0):e.lat,c=e.alt;return new H(r,i,c)},wrapLatLngBounds:function(e){var i=e.getCenter(),r=this.wrapLatLng(i),c=i.lat-r.lat,h=i.lng-r.lng;if(c===0&&h===0)return e;var _=e.getSouthWest(),w=e.getNorthEast(),P=new H(_.lat-c,_.lng-h),D=new H(w.lat-c,w.lng-h);return new F(P,D)}},te=a({},X,{wrapLng:[-180,180],R:6371e3,distance:function(e,i){var r=Math.PI/180,c=e.lat*r,h=i.lat*r,_=Math.sin((i.lat-e.lat)*r/2),w=Math.sin((i.lng-e.lng)*r/2),P=_*_+Math.cos(c)*Math.cos(h)*w*w,D=2*Math.atan2(Math.sqrt(P),Math.sqrt(1-P));return this.R*D}}),oe=6378137,we={R:oe,MAX_LATITUDE:85.0511287798,project:function(e){var i=Math.PI/180,r=this.MAX_LATITUDE,c=Math.max(Math.min(r,e.lat),-r),h=Math.sin(c*i);return new $(this.R*e.lng*i,this.R*Math.log((1+h)/(1-h))/2)},unproject:function(e){var i=180/Math.PI;return new H((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*i,e.x*i/this.R)},bounds:function(){var e=oe*Math.PI;return new I([-e,-e],[e,e])}()};function ke(e,i,r,c){if(T(e)){this._a=e[0],this._b=e[1],this._c=e[2],this._d=e[3];return}this._a=e,this._b=i,this._c=r,this._d=c}ke.prototype={transform:function(e,i){return this._transform(e.clone(),i)},_transform:function(e,i){return i=i||1,e.x=i*(this._a*e.x+this._b),e.y=i*(this._c*e.y+this._d),e},untransform:function(e,i){return i=i||1,new $((e.x/i-this._b)/this._a,(e.y/i-this._d)/this._c)}};function Ve(e,i,r,c){return new ke(e,i,r,c)}var xe=a({},te,{code:"EPSG:3857",projection:we,transformation:function(){var e=.5/(Math.PI*we.R);return Ve(e,.5,-e,.5)}()}),Me=a({},xe,{code:"EPSG:900913"});function tt(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Re(e,i){var r="",c,h,_,w,P,D;for(c=0,_=e.length;c<_;c++){for(P=e[c],h=0,w=P.length;h<w;h++)D=P[h],r+=(h?"L":"M")+D.x+" "+D.y;r+=i?ne.svg?"z":"x":""}return r||"M0 0"}var lt=document.documentElement.style,Ie="ActiveXObject"in window,St=Ie&&!document.addEventListener,Tt="msLaunchUri"in navigator&&!("documentMode"in document),nt=kt("webkit"),ct=kt("android"),At=kt("android 2")||kt("android 3"),Ct=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),$t=ct&&kt("Google")&&Ct<537&&!("AudioNode"in window),Pt=!!window.opera,N=!Tt&&kt("chrome"),W=kt("gecko")&&!nt&&!Pt&&!Ie,ye=!N&&kt("safari"),Se=kt("phantom"),Le="OTransition"in lt,Oe=navigator.platform.indexOf("Win")===0,je=Ie&&"transition"in lt,Xe="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!At,j="MozPerspective"in lt,J=!window.L_DISABLE_3D&&(je||Xe||j)&&!Le&&!Se,ce=typeof orientation<"u"||kt("mobile"),fe=ce&&nt,ve=ce&&Xe,Ae=!window.PointerEvent&&window.MSPointerEvent,be=!!(window.PointerEvent||Ae),Ke="ontouchstart"in window||!!window.TouchEvent,Rt=!window.L_NO_TOUCH&&(Ke||be),Ot=ce&&Pt,rn=ce&&W,Qr=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,rh=function(){var e=!1;try{var i=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveEventSupport",v,i),window.removeEventListener("testPassiveEventSupport",v,i)}catch{}return e}(),ah=function(){return!!document.createElement("canvas").getContext}(),Bs=!!(document.createElementNS&&tt("svg").createSVGRect),lh=!!Bs&&function(){var e=document.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),ch=!Bs&&function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var i=e.firstChild;return i.style.behavior="url(#default#VML)",i&&typeof i.adj=="object"}catch{return!1}}(),uh=navigator.platform.indexOf("Mac")===0,dh=navigator.platform.indexOf("Linux")===0;function kt(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}var ne={ie:Ie,ielt9:St,edge:Tt,webkit:nt,android:ct,android23:At,androidStock:$t,opera:Pt,chrome:N,gecko:W,safari:ye,phantom:Se,opera12:Le,win:Oe,ie3d:je,webkit3d:Xe,gecko3d:j,any3d:J,mobile:ce,mobileWebkit:fe,mobileWebkit3d:ve,msPointer:Ae,pointer:be,touch:Rt,touchNative:Ke,mobileOpera:Ot,mobileGecko:rn,retina:Qr,passiveEvents:rh,canvas:ah,svg:Bs,vml:ch,inlineSvg:lh,mac:uh,linux:dh},ea=ne.msPointer?"MSPointerDown":"pointerdown",ta=ne.msPointer?"MSPointerMove":"pointermove",na=ne.msPointer?"MSPointerUp":"pointerup",ia=ne.msPointer?"MSPointerCancel":"pointercancel",Fs={touchstart:ea,touchmove:ta,touchend:na,touchcancel:ia},sa={touchstart:yh,touchmove:Oi,touchend:Oi,touchcancel:Oi},Tn={},oa=!1;function hh(e,i,r){return i==="touchstart"&&gh(),sa[i]?(r=sa[i].bind(this,r),e.addEventListener(Fs[i],r,!1),r):(console.warn("wrong event specified:",i),v)}function fh(e,i,r){if(!Fs[i]){console.warn("wrong event specified:",i);return}e.removeEventListener(Fs[i],r,!1)}function mh(e){Tn[e.pointerId]=e}function ph(e){Tn[e.pointerId]&&(Tn[e.pointerId]=e)}function ra(e){delete Tn[e.pointerId]}function gh(){oa||(document.addEventListener(ea,mh,!0),document.addEventListener(ta,ph,!0),document.addEventListener(na,ra,!0),document.addEventListener(ia,ra,!0),oa=!0)}function Oi(e,i){if(i.pointerType!==(i.MSPOINTER_TYPE_MOUSE||"mouse")){i.touches=[];for(var r in Tn)i.touches.push(Tn[r]);i.changedTouches=[i],e(i)}}function yh(e,i){i.MSPOINTER_TYPE_TOUCH&&i.pointerType===i.MSPOINTER_TYPE_TOUCH&&Ye(i),Oi(e,i)}function vh(e){var i={},r,c;for(c in e)r=e[c],i[c]=r&&r.bind?r.bind(e):r;return e=i,i.type="dblclick",i.detail=2,i.isTrusted=!1,i._simulated=!0,i}var _h=200;function xh(e,i){e.addEventListener("dblclick",i);var r=0,c;function h(_){if(_.detail!==1){c=_.detail;return}if(!(_.pointerType==="mouse"||_.sourceCapabilities&&!_.sourceCapabilities.firesTouchEvents)){var w=da(_);if(!(w.some(function(D){return D instanceof HTMLLabelElement&&D.attributes.for})&&!w.some(function(D){return D instanceof HTMLInputElement||D instanceof HTMLSelectElement}))){var P=Date.now();P-r<=_h?(c++,c===2&&i(vh(_))):c=1,r=P}}}return e.addEventListener("click",h),{dblclick:i,simDblclick:h}}function bh(e,i){e.removeEventListener("dblclick",i.dblclick),e.removeEventListener("click",i.simDblclick)}var Vs=Bi(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Kn=Bi(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),aa=Kn==="webkitTransition"||Kn==="OTransition"?Kn+"End":"transitionend";function la(e){return typeof e=="string"?document.getElementById(e):e}function Xn(e,i){var r=e.style[i]||e.currentStyle&&e.currentStyle[i];if((!r||r==="auto")&&document.defaultView){var c=document.defaultView.getComputedStyle(e,null);r=c?c[i]:null}return r==="auto"?null:r}function Pe(e,i,r){var c=document.createElement(e);return c.className=i||"",r&&r.appendChild(c),c}function Be(e){var i=e.parentNode;i&&i.removeChild(e)}function ji(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function An(e){var i=e.parentNode;i&&i.lastChild!==e&&i.appendChild(e)}function Cn(e){var i=e.parentNode;i&&i.firstChild!==e&&i.insertBefore(e,i.firstChild)}function Zs(e,i){if(e.classList!==void 0)return e.classList.contains(i);var r=zi(e);return r.length>0&&new RegExp("(^|\\s)"+i+"(\\s|$)").test(r)}function me(e,i){if(e.classList!==void 0)for(var r=A(i),c=0,h=r.length;c<h;c++)e.classList.add(r[c]);else if(!Zs(e,i)){var _=zi(e);Ws(e,(_?_+" ":"")+i)}}function He(e,i){e.classList!==void 0?e.classList.remove(i):Ws(e,b((" "+zi(e)+" ").replace(" "+i+" "," ")))}function Ws(e,i){e.className.baseVal===void 0?e.className=i:e.className.baseVal=i}function zi(e){return e.correspondingElement&&(e=e.correspondingElement),e.className.baseVal===void 0?e.className:e.className.baseVal}function dt(e,i){"opacity"in e.style?e.style.opacity=i:"filter"in e.style&&wh(e,i)}function wh(e,i){var r=!1,c="DXImageTransform.Microsoft.Alpha";try{r=e.filters.item(c)}catch{if(i===1)return}i=Math.round(i*100),r?(r.Enabled=i!==100,r.Opacity=i):e.style.filter+=" progid:"+c+"(opacity="+i+")"}function Bi(e){for(var i=document.documentElement.style,r=0;r<e.length;r++)if(e[r]in i)return e[r];return!1}function an(e,i,r){var c=i||new $(0,0);e.style[Vs]=(ne.ie3d?"translate("+c.x+"px,"+c.y+"px)":"translate3d("+c.x+"px,"+c.y+"px,0)")+(r?" scale("+r+")":"")}function Je(e,i){e._leaflet_pos=i,ne.any3d?an(e,i):(e.style.left=i.x+"px",e.style.top=i.y+"px")}function ln(e){return e._leaflet_pos||new $(0,0)}var qn,Yn,Hs;if("onselectstart"in document)qn=function(){he(window,"selectstart",Ye)},Yn=function(){Ne(window,"selectstart",Ye)};else{var Qn=Bi(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);qn=function(){if(Qn){var e=document.documentElement.style;Hs=e[Qn],e[Qn]="none"}},Yn=function(){Qn&&(document.documentElement.style[Qn]=Hs,Hs=void 0)}}function Gs(){he(window,"dragstart",Ye)}function Js(){Ne(window,"dragstart",Ye)}var Fi,Us;function $s(e){for(;e.tabIndex===-1;)e=e.parentNode;e.style&&(Vi(),Fi=e,Us=e.style.outlineStyle,e.style.outlineStyle="none",he(window,"keydown",Vi))}function Vi(){Fi&&(Fi.style.outlineStyle=Us,Fi=void 0,Us=void 0,Ne(window,"keydown",Vi))}function ca(e){do e=e.parentNode;while((!e.offsetWidth||!e.offsetHeight)&&e!==document.body);return e}function Ks(e){var i=e.getBoundingClientRect();return{x:i.width/e.offsetWidth||1,y:i.height/e.offsetHeight||1,boundingClientRect:i}}var Sh={__proto__:null,TRANSFORM:Vs,TRANSITION:Kn,TRANSITION_END:aa,get:la,getStyle:Xn,create:Pe,remove:Be,empty:ji,toFront:An,toBack:Cn,hasClass:Zs,addClass:me,removeClass:He,setClass:Ws,getClass:zi,setOpacity:dt,testProp:Bi,setTransform:an,setPosition:Je,getPosition:ln,get disableTextSelection(){return qn},get enableTextSelection(){return Yn},disableImageDrag:Gs,enableImageDrag:Js,preventOutline:$s,restoreOutline:Vi,getSizedParentNode:ca,getScale:Ks};function he(e,i,r,c){if(i&&typeof i=="object")for(var h in i)qs(e,h,i[h],r);else{i=A(i);for(var _=0,w=i.length;_<w;_++)qs(e,i[_],r,c)}return this}var Mt="_leaflet_events";function Ne(e,i,r,c){if(arguments.length===1)ua(e),delete e[Mt];else if(i&&typeof i=="object")for(var h in i)Ys(e,h,i[h],r);else if(i=A(i),arguments.length===2)ua(e,function(P){return k(i,P)!==-1});else for(var _=0,w=i.length;_<w;_++)Ys(e,i[_],r,c);return this}function ua(e,i){for(var r in e[Mt]){var c=r.split(/\d/)[0];(!i||i(c))&&Ys(e,c,null,null,r)}}var Xs={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function qs(e,i,r,c){var h=i+f(r)+(c?"_"+f(c):"");if(e[Mt]&&e[Mt][h])return this;var _=function(P){return r.call(c||e,P||window.event)},w=_;!ne.touchNative&&ne.pointer&&i.indexOf("touch")===0?_=hh(e,i,_):ne.touch&&i==="dblclick"?_=xh(e,_):"addEventListener"in e?i==="touchstart"||i==="touchmove"||i==="wheel"||i==="mousewheel"?e.addEventListener(Xs[i]||i,_,ne.passiveEvents?{passive:!1}:!1):i==="mouseenter"||i==="mouseleave"?(_=function(P){P=P||window.event,eo(e,P)&&w(P)},e.addEventListener(Xs[i],_,!1)):e.addEventListener(i,w,!1):e.attachEvent("on"+i,_),e[Mt]=e[Mt]||{},e[Mt][h]=_}function Ys(e,i,r,c,h){h=h||i+f(r)+(c?"_"+f(c):"");var _=e[Mt]&&e[Mt][h];if(!_)return this;!ne.touchNative&&ne.pointer&&i.indexOf("touch")===0?fh(e,i,_):ne.touch&&i==="dblclick"?bh(e,_):"removeEventListener"in e?e.removeEventListener(Xs[i]||i,_,!1):e.detachEvent("on"+i,_),e[Mt][h]=null}function cn(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,this}function Qs(e){return qs(e,"wheel",cn),this}function ei(e){return he(e,"mousedown touchstart dblclick contextmenu",cn),e._leaflet_disable_click=!0,this}function Ye(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function un(e){return Ye(e),cn(e),this}function da(e){if(e.composedPath)return e.composedPath();for(var i=[],r=e.target;r;)i.push(r),r=r.parentNode;return i}function ha(e,i){if(!i)return new $(e.clientX,e.clientY);var r=Ks(i),c=r.boundingClientRect;return new $((e.clientX-c.left)/r.x-i.clientLeft,(e.clientY-c.top)/r.y-i.clientTop)}var Th=ne.linux&&ne.chrome?window.devicePixelRatio:ne.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function fa(e){return ne.edge?e.wheelDeltaY/2:e.deltaY&&e.deltaMode===0?-e.deltaY/Th:e.deltaY&&e.deltaMode===1?-e.deltaY*20:e.deltaY&&e.deltaMode===2?-e.deltaY*60:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?-e.detail*20:e.detail?e.detail/-32765*60:0}function eo(e,i){var r=i.relatedTarget;if(!r)return!0;try{for(;r&&r!==e;)r=r.parentNode}catch{return!1}return r!==e}var Ah={__proto__:null,on:he,off:Ne,stopPropagation:cn,disableScrollPropagation:Qs,disableClickPropagation:ei,preventDefault:Ye,stop:un,getPropagationPath:da,getMousePosition:ha,getWheelDelta:fa,isExternalTarget:eo,addListener:he,removeListener:Ne},ma=ue.extend({run:function(e,i,r,c){this.stop(),this._el=e,this._inProgress=!0,this._duration=r||.25,this._easeOutPower=1/Math.max(c||.5,.2),this._startPos=ln(e),this._offset=i.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=K(this._animate,this),this._step()},_step:function(e){var i=+new Date-this._startTime,r=this._duration*1e3;i<r?this._runFrame(this._easeOut(i/r),e):(this._runFrame(1),this._complete())},_runFrame:function(e,i){var r=this._startPos.add(this._offset.multiplyBy(e));i&&r._round(),Je(this._el,r),this.fire("step")},_complete:function(){U(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),Te=ue.extend({options:{crs:xe,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,i){i=S(this,i),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(e),this._initLayout(),this._onResize=l(this._onResize,this),this._initEvents(),i.maxBounds&&this.setMaxBounds(i.maxBounds),i.zoom!==void 0&&(this._zoom=this._limitZoom(i.zoom)),i.center&&i.zoom!==void 0&&this.setView(Z(i.center),i.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Kn&&ne.any3d&&!ne.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),he(this._proxy,aa,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,i,r){if(i=i===void 0?this._zoom:this._limitZoom(i),e=this._limitCenter(Z(e),i,this.options.maxBounds),r=r||{},this._stop(),this._loaded&&!r.reset&&r!==!0){r.animate!==void 0&&(r.zoom=a({animate:r.animate},r.zoom),r.pan=a({animate:r.animate,duration:r.duration},r.pan));var c=this._zoom!==i?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,i,r.zoom):this._tryAnimatedPan(e,r.pan);if(c)return clearTimeout(this._sizeTimer),this}return this._resetView(e,i,r.pan&&r.pan.noMoveStart),this},setZoom:function(e,i){return this._loaded?this.setView(this.getCenter(),e,{zoom:i}):(this._zoom=e,this)},zoomIn:function(e,i){return e=e||(ne.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+e,i)},zoomOut:function(e,i){return e=e||(ne.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-e,i)},setZoomAround:function(e,i,r){var c=this.getZoomScale(i),h=this.getSize().divideBy(2),_=e instanceof $?e:this.latLngToContainerPoint(e),w=_.subtract(h).multiplyBy(1-1/c),P=this.containerPointToLatLng(h.add(w));return this.setView(P,i,{zoom:r})},_getBoundsCenterZoom:function(e,i){i=i||{},e=e.getBounds?e.getBounds():G(e);var r=Q(i.paddingTopLeft||i.padding||[0,0]),c=Q(i.paddingBottomRight||i.padding||[0,0]),h=this.getBoundsZoom(e,!1,r.add(c));if(h=typeof i.maxZoom=="number"?Math.min(i.maxZoom,h):h,h===1/0)return{center:e.getCenter(),zoom:h};var _=c.subtract(r).divideBy(2),w=this.project(e.getSouthWest(),h),P=this.project(e.getNorthEast(),h),D=this.unproject(w.add(P).divideBy(2).add(_),h);return{center:D,zoom:h}},fitBounds:function(e,i){if(e=G(e),!e.isValid())throw new Error("Bounds are not valid.");var r=this._getBoundsCenterZoom(e,i);return this.setView(r.center,r.zoom,i)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,i){return this.setView(e,this._zoom,{pan:i})},panBy:function(e,i){if(e=Q(e).round(),i=i||{},!e.x&&!e.y)return this.fire("moveend");if(i.animate!==!0&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new ma,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),i.noMoveStart||this.fire("movestart"),i.animate!==!1){me(this._mapPane,"leaflet-pan-anim");var r=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,r,i.duration||.25,i.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},flyTo:function(e,i,r){if(r=r||{},r.animate===!1||!ne.any3d)return this.setView(e,i,r);this._stop();var c=this.project(this.getCenter()),h=this.project(e),_=this.getSize(),w=this._zoom;e=Z(e),i=i===void 0?w:i;var P=Math.max(_.x,_.y),D=P*this.getZoomScale(w,i),B=h.distanceTo(c)||1,q=1.42,se=q*q;function _e(Ue){var Qi=Ue?-1:1,mf=Ue?D:P,pf=D*D-P*P+Qi*se*se*B*B,gf=2*mf*se*B,ho=pf/gf,$a=Math.sqrt(ho*ho+1)-ho,yf=$a<1e-9?-18:Math.log($a);return yf}function st(Ue){return(Math.exp(Ue)-Math.exp(-Ue))/2}function qe(Ue){return(Math.exp(Ue)+Math.exp(-Ue))/2}function ft(Ue){return st(Ue)/qe(Ue)}var rt=_e(0);function En(Ue){return P*(qe(rt)/qe(rt+q*Ue))}function uf(Ue){return P*(qe(rt)*ft(rt+q*Ue)-st(rt))/se}function df(Ue){return 1-Math.pow(1-Ue,1.5)}var hf=Date.now(),Ja=(_e(1)-rt)/q,ff=r.duration?1e3*r.duration:1e3*Ja*.8;function Ua(){var Ue=(Date.now()-hf)/ff,Qi=df(Ue)*Ja;Ue<=1?(this._flyToFrame=K(Ua,this),this._move(this.unproject(c.add(h.subtract(c).multiplyBy(uf(Qi)/B)),w),this.getScaleZoom(P/En(Qi),w),{flyTo:!0})):this._move(e,i)._moveEnd(!0)}return this._moveStart(!0,r.noMoveStart),Ua.call(this),this},flyToBounds:function(e,i){var r=this._getBoundsCenterZoom(e,i);return this.flyTo(r.center,r.zoom,i)},setMaxBounds:function(e){return e=G(e),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),e.isValid()?(this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(e){var i=this.options.minZoom;return this.options.minZoom=e,this._loaded&&i!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var i=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&i!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,i){this._enforcingBounds=!0;var r=this.getCenter(),c=this._limitCenter(r,this._zoom,G(e));return r.equals(c)||this.panTo(c,i),this._enforcingBounds=!1,this},panInside:function(e,i){i=i||{};var r=Q(i.paddingTopLeft||i.padding||[0,0]),c=Q(i.paddingBottomRight||i.padding||[0,0]),h=this.project(this.getCenter()),_=this.project(e),w=this.getPixelBounds(),P=le([w.min.add(r),w.max.subtract(c)]),D=P.getSize();if(!P.contains(_)){this._enforcingBounds=!0;var B=_.subtract(P.getCenter()),q=P.extend(_).getSize().subtract(D);h.x+=B.x<0?-q.x:q.x,h.y+=B.y<0?-q.y:q.y,this.panTo(this.unproject(h),i),this._enforcingBounds=!1}return this},invalidateSize:function(e){if(!this._loaded)return this;e=a({animate:!1,pan:!0},e===!0?{animate:!0}:e);var i=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var r=this.getSize(),c=i.divideBy(2).round(),h=r.divideBy(2).round(),_=c.subtract(h);return!_.x&&!_.y?this:(e.animate&&e.pan?this.panBy(_):(e.pan&&this._rawPanBy(_),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:i,newSize:r}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=a({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var i=l(this._handleGeolocationResponse,this),r=l(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(i,r,e):navigator.geolocation.getCurrentPosition(i,r,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){if(this._container._leaflet_id){var i=e.code,r=e.message||(i===1?"permission denied":i===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:i,message:"Geolocation error: "+r+"."})}},_handleGeolocationResponse:function(e){if(this._container._leaflet_id){var i=e.coords.latitude,r=e.coords.longitude,c=new H(i,r),h=c.toBounds(e.coords.accuracy*2),_=this._locateOptions;if(_.setView){var w=this.getBoundsZoom(h);this.setView(c,_.maxZoom?Math.min(w,_.maxZoom):w)}var P={latlng:c,bounds:h,timestamp:e.timestamp};for(var D in e.coords)typeof e.coords[D]=="number"&&(P[D]=e.coords[D]);this.fire("locationfound",P)}},addHandler:function(e,i){if(!i)return this;var r=this[e]=new i(this);return this._handlers.push(r),this.options[e]&&r.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Be(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(U(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var e;for(e in this._layers)this._layers[e].remove();for(e in this._panes)Be(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,i){var r="leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),c=Pe("div",r,i||this._mapPane);return e&&(this._panes[e]=c),c},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds(),i=this.unproject(e.getBottomLeft()),r=this.unproject(e.getTopRight());return new F(i,r)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,i,r){e=G(e),r=Q(r||[0,0]);var c=this.getZoom()||0,h=this.getMinZoom(),_=this.getMaxZoom(),w=e.getNorthWest(),P=e.getSouthEast(),D=this.getSize().subtract(r),B=le(this.project(P,c),this.project(w,c)).getSize(),q=ne.any3d?this.options.zoomSnap:1,se=D.x/B.x,_e=D.y/B.y,st=i?Math.max(se,_e):Math.min(se,_e);return c=this.getScaleZoom(st,c),q&&(c=Math.round(c/(q/100))*(q/100),c=i?Math.ceil(c/q)*q:Math.floor(c/q)*q),Math.max(h,Math.min(_,c))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new $(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,i){var r=this._getTopLeftPoint(e,i);return new I(r,r.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(e===void 0?this.getZoom():e)},getPane:function(e){return typeof e=="string"?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,i){var r=this.options.crs;return i=i===void 0?this._zoom:i,r.scale(e)/r.scale(i)},getScaleZoom:function(e,i){var r=this.options.crs;i=i===void 0?this._zoom:i;var c=r.zoom(e*r.scale(i));return isNaN(c)?1/0:c},project:function(e,i){return i=i===void 0?this._zoom:i,this.options.crs.latLngToPoint(Z(e),i)},unproject:function(e,i){return i=i===void 0?this._zoom:i,this.options.crs.pointToLatLng(Q(e),i)},layerPointToLatLng:function(e){var i=Q(e).add(this.getPixelOrigin());return this.unproject(i)},latLngToLayerPoint:function(e){var i=this.project(Z(e))._round();return i._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(Z(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(G(e))},distance:function(e,i){return this.options.crs.distance(Z(e),Z(i))},containerPointToLayerPoint:function(e){return Q(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return Q(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var i=this.containerPointToLayerPoint(Q(e));return this.layerPointToLatLng(i)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Z(e)))},mouseEventToContainerPoint:function(e){return ha(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var i=this._container=la(e);if(i){if(i._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");he(i,"scroll",this._onScroll,this),this._containerId=f(i)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&ne.any3d,me(e,"leaflet-container"+(ne.touch?" leaflet-touch":"")+(ne.retina?" leaflet-retina":"")+(ne.ielt9?" leaflet-oldie":"")+(ne.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var i=Xn(e,"position");i!=="absolute"&&i!=="relative"&&i!=="fixed"&&i!=="sticky"&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Je(this._mapPane,new $(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(me(e.markerPane,"leaflet-zoom-hide"),me(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,i,r){Je(this._mapPane,new $(0,0));var c=!this._loaded;this._loaded=!0,i=this._limitZoom(i),this.fire("viewprereset");var h=this._zoom!==i;this._moveStart(h,r)._move(e,i)._moveEnd(h),this.fire("viewreset"),c&&this.fire("load")},_moveStart:function(e,i){return e&&this.fire("zoomstart"),i||this.fire("movestart"),this},_move:function(e,i,r,c){i===void 0&&(i=this._zoom);var h=this._zoom!==i;return this._zoom=i,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),c?r&&r.pinch&&this.fire("zoom",r):((h||r&&r.pinch)&&this.fire("zoom",r),this.fire("move",r)),this},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return U(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){Je(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={},this._targets[f(this._container)]=this;var i=e?Ne:he;i(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&i(window,"resize",this._onResize,this),ne.any3d&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){U(this._resizeRequest),this._resizeRequest=K(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,i){for(var r=[],c,h=i==="mouseout"||i==="mouseover",_=e.target||e.srcElement,w=!1;_;){if(c=this._targets[f(_)],c&&(i==="click"||i==="preclick")&&this._draggableMoved(c)){w=!0;break}if(c&&c.listens(i,!0)&&(h&&!eo(_,e)||(r.push(c),h))||_===this._container)break;_=_.parentNode}return!r.length&&!w&&!h&&this.listens(i,!0)&&(r=[this]),r},_isClickDisabled:function(e){for(;e&&e!==this._container;){if(e._leaflet_disable_click)return!0;e=e.parentNode}},_handleDOMEvent:function(e){var i=e.target||e.srcElement;if(!(!this._loaded||i._leaflet_disable_events||e.type==="click"&&this._isClickDisabled(i))){var r=e.type;r==="mousedown"&&$s(i),this._fireDOMEvent(e,r)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,i,r){if(e.type==="click"){var c=a({},e);c.type="preclick",this._fireDOMEvent(c,c.type,r)}var h=this._findEventTargets(e,i);if(r){for(var _=[],w=0;w<r.length;w++)r[w].listens(i,!0)&&_.push(r[w]);h=_.concat(h)}if(h.length){i==="contextmenu"&&Ye(e);var P=h[0],D={originalEvent:e};if(e.type!=="keypress"&&e.type!=="keydown"&&e.type!=="keyup"){var B=P.getLatLng&&(!P._radius||P._radius<=10);D.containerPoint=B?this.latLngToContainerPoint(P.getLatLng()):this.mouseEventToContainerPoint(e),D.layerPoint=this.containerPointToLayerPoint(D.containerPoint),D.latlng=B?P.getLatLng():this.layerPointToLatLng(D.layerPoint)}for(w=0;w<h.length;w++)if(h[w].fire(i,D,!0),D.originalEvent._stopped||h[w].options.bubblingMouseEvents===!1&&k(this._mouseEvents,i)!==-1)return}},_draggableMoved:function(e){return e=e.dragging&&e.dragging.enabled()?e:this,e.dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,i=this._handlers.length;e<i;e++)this._handlers[e].disable()},whenReady:function(e,i){return this._loaded?e.call(i||this,{target:this}):this.on("load",e,i),this},_getMapPanePos:function(){return ln(this._mapPane)||new $(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,i){var r=e&&i!==void 0?this._getNewPixelOrigin(e,i):this.getPixelOrigin();return r.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,i){var r=this.getSize()._divideBy(2);return this.project(e,i)._subtract(r)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,i,r){var c=this._getNewPixelOrigin(r,i);return this.project(e,i)._subtract(c)},_latLngBoundsToNewLayerBounds:function(e,i,r){var c=this._getNewPixelOrigin(r,i);return le([this.project(e.getSouthWest(),i)._subtract(c),this.project(e.getNorthWest(),i)._subtract(c),this.project(e.getSouthEast(),i)._subtract(c),this.project(e.getNorthEast(),i)._subtract(c)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,i,r){if(!r)return e;var c=this.project(e,i),h=this.getSize().divideBy(2),_=new I(c.subtract(h),c.add(h)),w=this._getBoundsOffset(_,r,i);return Math.abs(w.x)<=1&&Math.abs(w.y)<=1?e:this.unproject(c.add(w),i)},_limitOffset:function(e,i){if(!i)return e;var r=this.getPixelBounds(),c=new I(r.min.add(e),r.max.add(e));return e.add(this._getBoundsOffset(c,i))},_getBoundsOffset:function(e,i,r){var c=le(this.project(i.getNorthEast(),r),this.project(i.getSouthWest(),r)),h=c.min.subtract(e.min),_=c.max.subtract(e.max),w=this._rebound(h.x,-_.x),P=this._rebound(h.y,-_.y);return new $(w,P)},_rebound:function(e,i){return e+i>0?Math.round(e-i)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(i))},_limitZoom:function(e){var i=this.getMinZoom(),r=this.getMaxZoom(),c=ne.any3d?this.options.zoomSnap:1;return c&&(e=Math.round(e/c)*c),Math.max(i,Math.min(r,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){He(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,i){var r=this._getCenterOffset(e)._trunc();return(i&&i.animate)!==!0&&!this.getSize().contains(r)?!1:(this.panBy(r,i),!0)},_createAnimProxy:function(){var e=this._proxy=Pe("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",function(i){var r=Vs,c=this._proxy.style[r];an(this._proxy,this.project(i.center,i.zoom),this.getZoomScale(i.zoom,1)),c===this._proxy.style[r]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Be(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var e=this.getCenter(),i=this.getZoom();an(this._proxy,this.project(e,i),this.getZoomScale(i,1))},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,i,r){if(this._animatingZoom)return!0;if(r=r||{},!this._zoomAnimated||r.animate===!1||this._nothingToAnimate()||Math.abs(i-this._zoom)>this.options.zoomAnimationThreshold)return!1;var c=this.getZoomScale(i),h=this._getCenterOffset(e)._divideBy(1-1/c);return r.animate!==!0&&!this.getSize().contains(h)?!1:(K(function(){this._moveStart(!0,r.noMoveStart||!1)._animateZoom(e,i,!0)},this),!0)},_animateZoom:function(e,i,r,c){this._mapPane&&(r&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=i,me(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:i,noUpdate:c}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(l(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&He(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Ch(e,i){return new Te(e,i)}var vt=ie.extend({options:{position:"topright"},initialize:function(e){S(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var i=this._map;return i&&i.removeControl(this),this.options.position=e,i&&i.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var i=this._container=this.onAdd(e),r=this.getPosition(),c=e._controlCorners[r];return me(i,"leaflet-control"),r.indexOf("bottom")!==-1?c.insertBefore(i,c.firstChild):c.appendChild(i),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Be(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),ti=function(e){return new vt(e)};Te.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){var e=this._controlCorners={},i="leaflet-",r=this._controlContainer=Pe("div",i+"control-container",this._container);function c(h,_){var w=i+h+" "+i+_;e[h+_]=Pe("div",w,r)}c("top","left"),c("top","right"),c("bottom","left"),c("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)Be(this._controlCorners[e]);Be(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var pa=vt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,i,r,c){return r<c?-1:c<r?1:0}},initialize:function(e,i,r){S(this,r),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var c in e)this._addLayer(e[c],c);for(c in i)this._addLayer(i[c],c,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return vt.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,i){return this._addLayer(e,i),this._map?this._update():this},addOverlay:function(e,i){return this._addLayer(e,i,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var i=this._getLayer(f(e));return i&&this._layers.splice(this._layers.indexOf(i),1),this._map?this._update():this},expand:function(){me(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._section.clientHeight?(me(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=e+"px"):He(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return He(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",i=this._container=Pe("div",e),r=this.options.collapsed;i.setAttribute("aria-haspopup",!0),ei(i),Qs(i);var c=this._section=Pe("section",e+"-list");r&&(this._map.on("click",this.collapse,this),he(i,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var h=this._layersLink=Pe("a",e+"-toggle",i);h.href="#",h.title="Layers",h.setAttribute("role","button"),he(h,{keydown:function(_){_.keyCode===13&&this._expandSafely()},click:function(_){Ye(_),this._expandSafely()}},this),r||this.expand(),this._baseLayersList=Pe("div",e+"-base",c),this._separator=Pe("div",e+"-separator",c),this._overlaysList=Pe("div",e+"-overlays",c),i.appendChild(c)},_getLayer:function(e){for(var i=0;i<this._layers.length;i++)if(this._layers[i]&&f(this._layers[i].layer)===e)return this._layers[i]},_addLayer:function(e,i,r){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:i,overlay:r}),this.options.sortLayers&&this._layers.sort(l(function(c,h){return this.options.sortFunction(c.layer,h.layer,c.name,h.name)},this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ji(this._baseLayersList),ji(this._overlaysList),this._layerControlInputs=[];var e,i,r,c,h=0;for(r=0;r<this._layers.length;r++)c=this._layers[r],this._addItem(c),i=i||c.overlay,e=e||!c.overlay,h+=c.overlay?0:1;return this.options.hideSingleBase&&(e=e&&h>1,this._baseLayersList.style.display=e?"":"none"),this._separator.style.display=i&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var i=this._getLayer(f(e.target)),r=i.overlay?e.type==="add"?"overlayadd":"overlayremove":e.type==="add"?"baselayerchange":null;r&&this._map.fire(r,i)},_createRadioElement:function(e,i){var r='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(i?' checked="checked"':"")+"/>",c=document.createElement("div");return c.innerHTML=r,c.firstChild},_addItem:function(e){var i=document.createElement("label"),r=this._map.hasLayer(e.layer),c;e.overlay?(c=document.createElement("input"),c.type="checkbox",c.className="leaflet-control-layers-selector",c.defaultChecked=r):c=this._createRadioElement("leaflet-base-layers_"+f(this),r),this._layerControlInputs.push(c),c.layerId=f(e.layer),he(c,"click",this._onInputClick,this);var h=document.createElement("span");h.innerHTML=" "+e.name;var _=document.createElement("span");i.appendChild(_),_.appendChild(c),_.appendChild(h);var w=e.overlay?this._overlaysList:this._baseLayersList;return w.appendChild(i),this._checkDisabledLayers(),i},_onInputClick:function(){if(!this._preventClick){var e=this._layerControlInputs,i,r,c=[],h=[];this._handlingClick=!0;for(var _=e.length-1;_>=0;_--)i=e[_],r=this._getLayer(i.layerId).layer,i.checked?c.push(r):i.checked||h.push(r);for(_=0;_<h.length;_++)this._map.hasLayer(h[_])&&this._map.removeLayer(h[_]);for(_=0;_<c.length;_++)this._map.hasLayer(c[_])||this._map.addLayer(c[_]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var e=this._layerControlInputs,i,r,c=this._map.getZoom(),h=e.length-1;h>=0;h--)i=e[h],r=this._getLayer(i.layerId).layer,i.disabled=r.options.minZoom!==void 0&&c<r.options.minZoom||r.options.maxZoom!==void 0&&c>r.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var e=this._section;this._preventClick=!0,he(e,"click",Ye),this.expand();var i=this;setTimeout(function(){Ne(e,"click",Ye),i._preventClick=!1})}}),Ph=function(e,i,r){return new pa(e,i,r)},to=vt.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(e){var i="leaflet-control-zoom",r=Pe("div",i+" leaflet-bar"),c=this.options;return this._zoomInButton=this._createButton(c.zoomInText,c.zoomInTitle,i+"-in",r,this._zoomIn),this._zoomOutButton=this._createButton(c.zoomOutText,c.zoomOutTitle,i+"-out",r,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),r},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,i,r,c,h){var _=Pe("a",r,c);return _.innerHTML=e,_.href="#",_.title=i,_.setAttribute("role","button"),_.setAttribute("aria-label",i),ei(_),he(_,"click",un),he(_,"click",h,this),he(_,"click",this._refocusOnMap,this),_},_updateDisabled:function(){var e=this._map,i="leaflet-disabled";He(this._zoomInButton,i),He(this._zoomOutButton,i),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||e._zoom===e.getMinZoom())&&(me(this._zoomOutButton,i),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||e._zoom===e.getMaxZoom())&&(me(this._zoomInButton,i),this._zoomInButton.setAttribute("aria-disabled","true"))}});Te.mergeOptions({zoomControl:!0}),Te.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new to,this.addControl(this.zoomControl))});var kh=function(e){return new to(e)},ga=vt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var i="leaflet-control-scale",r=Pe("div",i),c=this.options;return this._addScales(c,i+"-line",r),e.on(c.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),r},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,i,r){e.metric&&(this._mScale=Pe("div",i,r)),e.imperial&&(this._iScale=Pe("div",i,r))},_update:function(){var e=this._map,i=e.getSize().y/2,r=e.distance(e.containerPointToLatLng([0,i]),e.containerPointToLatLng([this.options.maxWidth,i]));this._updateScales(r)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var i=this._getRoundNum(e),r=i<1e3?i+" m":i/1e3+" km";this._updateScale(this._mScale,r,i/e)},_updateImperial:function(e){var i=e*3.2808399,r,c,h;i>5280?(r=i/5280,c=this._getRoundNum(r),this._updateScale(this._iScale,c+" mi",c/r)):(h=this._getRoundNum(i),this._updateScale(this._iScale,h+" ft",h/i))},_updateScale:function(e,i,r){e.style.width=Math.round(this.options.maxWidth*r)+"px",e.innerHTML=i},_getRoundNum:function(e){var i=Math.pow(10,(Math.floor(e)+"").length-1),r=e/i;return r=r>=10?10:r>=5?5:r>=3?3:r>=2?2:1,i*r}}),Mh=function(e){return new ga(e)},Dh='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',no=vt.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ne.inlineSvg?Dh+" ":"")+"Leaflet</a>"},initialize:function(e){S(this,e),this._attributions={}},onAdd:function(e){e.attributionControl=this,this._container=Pe("div","leaflet-control-attribution"),ei(this._container);for(var i in e._layers)e._layers[i].getAttribution&&this.addAttribution(e._layers[i].getAttribution());return this._update(),e.on("layeradd",this._addAttribution,this),this._container},onRemove:function(e){e.off("layeradd",this._addAttribution,this)},_addAttribution:function(e){e.layer.getAttribution&&(this.addAttribution(e.layer.getAttribution()),e.layer.once("remove",function(){this.removeAttribution(e.layer.getAttribution())},this))},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(this._map){var e=[];for(var i in this._attributions)this._attributions[i]&&e.push(i);var r=[];this.options.prefix&&r.push(this.options.prefix),e.length&&r.push(e.join(", ")),this._container.innerHTML=r.join(' <span aria-hidden="true">|</span> ')}}});Te.mergeOptions({attributionControl:!0}),Te.addInitHook(function(){this.options.attributionControl&&new no().addTo(this)});var Lh=function(e){return new no(e)};vt.Layers=pa,vt.Zoom=to,vt.Scale=ga,vt.Attribution=no,ti.layers=Ph,ti.zoom=kh,ti.scale=Mh,ti.attribution=Lh;var Dt=ie.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Dt.addTo=function(e,i){return e.addHandler(i,this),this};var Eh={Events:ae},ya=ne.touch?"touchstart mousedown":"mousedown",Kt=ue.extend({options:{clickTolerance:3},initialize:function(e,i,r,c){S(this,c),this._element=e,this._dragStartTarget=i||e,this._preventOutline=r},enable:function(){this._enabled||(he(this._dragStartTarget,ya,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Kt._dragging===this&&this.finishDrag(!0),Ne(this._dragStartTarget,ya,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(this._enabled&&(this._moved=!1,!Zs(this._element,"leaflet-zoom-anim"))){if(e.touches&&e.touches.length!==1){Kt._dragging===this&&this.finishDrag();return}if(!(Kt._dragging||e.shiftKey||e.which!==1&&e.button!==1&&!e.touches)&&(Kt._dragging=this,this._preventOutline&&$s(this._element),Gs(),qn(),!this._moving)){this.fire("down");var i=e.touches?e.touches[0]:e,r=ca(this._element);this._startPoint=new $(i.clientX,i.clientY),this._startPos=ln(this._element),this._parentScale=Ks(r);var c=e.type==="mousedown";he(document,c?"mousemove":"touchmove",this._onMove,this),he(document,c?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(e){if(this._enabled){if(e.touches&&e.touches.length>1){this._moved=!0;return}var i=e.touches&&e.touches.length===1?e.touches[0]:e,r=new $(i.clientX,i.clientY)._subtract(this._startPoint);!r.x&&!r.y||Math.abs(r.x)+Math.abs(r.y)<this.options.clickTolerance||(r.x/=this._parentScale.x,r.y/=this._parentScale.y,Ye(e),this._moved||(this.fire("dragstart"),this._moved=!0,me(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),me(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(r),this._moving=!0,this._lastEvent=e,this._updatePosition())}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),Je(this._element,this._newPos),this.fire("drag",e)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(e){He(document.body,"leaflet-dragging"),this._lastTarget&&(He(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ne(document,"mousemove touchmove",this._onMove,this),Ne(document,"mouseup touchend touchcancel",this._onUp,this),Js(),Yn();var i=this._moved&&this._moving;this._moving=!1,Kt._dragging=!1,i&&this.fire("dragend",{noInertia:e,distance:this._newPos.distanceTo(this._startPos)})}});function va(e,i,r){var c,h=[1,4,2,8],_,w,P,D,B,q,se,_e;for(_=0,q=e.length;_<q;_++)e[_]._code=dn(e[_],i);for(P=0;P<4;P++){for(se=h[P],c=[],_=0,q=e.length,w=q-1;_<q;w=_++)D=e[_],B=e[w],D._code&se?B._code&se||(_e=Zi(B,D,se,i,r),_e._code=dn(_e,i),c.push(_e)):(B._code&se&&(_e=Zi(B,D,se,i,r),_e._code=dn(_e,i),c.push(_e)),c.push(D));e=c}return e}function _a(e,i){var r,c,h,_,w,P,D,B,q;if(!e||e.length===0)throw new Error("latlngs not passed");ht(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var se=Z([0,0]),_e=G(e),st=_e.getNorthWest().distanceTo(_e.getSouthWest())*_e.getNorthEast().distanceTo(_e.getNorthWest());st<1700&&(se=io(e));var qe=e.length,ft=[];for(r=0;r<qe;r++){var rt=Z(e[r]);ft.push(i.project(Z([rt.lat-se.lat,rt.lng-se.lng])))}for(P=D=B=0,r=0,c=qe-1;r<qe;c=r++)h=ft[r],_=ft[c],w=h.y*_.x-_.y*h.x,D+=(h.x+_.x)*w,B+=(h.y+_.y)*w,P+=w*3;P===0?q=ft[0]:q=[D/P,B/P];var En=i.unproject(Q(q));return Z([En.lat+se.lat,En.lng+se.lng])}function io(e){for(var i=0,r=0,c=0,h=0;h<e.length;h++){var _=Z(e[h]);i+=_.lat,r+=_.lng,c++}return Z([i/c,r/c])}var Nh={__proto__:null,clipPolygon:va,polygonCenter:_a,centroid:io};function xa(e,i){if(!i||!e.length)return e.slice();var r=i*i;return e=Oh(e,r),e=Rh(e,r),e}function ba(e,i,r){return Math.sqrt(ni(e,i,r,!0))}function Ih(e,i,r){return ni(e,i,r)}function Rh(e,i){var r=e.length,c=typeof Uint8Array<"u"?Uint8Array:Array,h=new c(r);h[0]=h[r-1]=1,so(e,h,i,0,r-1);var _,w=[];for(_=0;_<r;_++)h[_]&&w.push(e[_]);return w}function so(e,i,r,c,h){var _=0,w,P,D;for(P=c+1;P<=h-1;P++)D=ni(e[P],e[c],e[h],!0),D>_&&(w=P,_=D);_>r&&(i[w]=1,so(e,i,r,c,w),so(e,i,r,w,h))}function Oh(e,i){for(var r=[e[0]],c=1,h=0,_=e.length;c<_;c++)jh(e[c],e[h])>i&&(r.push(e[c]),h=c);return h<_-1&&r.push(e[_-1]),r}var wa;function Sa(e,i,r,c,h){var _=c?wa:dn(e,r),w=dn(i,r),P,D,B;for(wa=w;;){if(!(_|w))return[e,i];if(_&w)return!1;P=_||w,D=Zi(e,i,P,r,h),B=dn(D,r),P===_?(e=D,_=B):(i=D,w=B)}}function Zi(e,i,r,c,h){var _=i.x-e.x,w=i.y-e.y,P=c.min,D=c.max,B,q;return r&8?(B=e.x+_*(D.y-e.y)/w,q=D.y):r&4?(B=e.x+_*(P.y-e.y)/w,q=P.y):r&2?(B=D.x,q=e.y+w*(D.x-e.x)/_):r&1&&(B=P.x,q=e.y+w*(P.x-e.x)/_),new $(B,q,h)}function dn(e,i){var r=0;return e.x<i.min.x?r|=1:e.x>i.max.x&&(r|=2),e.y<i.min.y?r|=4:e.y>i.max.y&&(r|=8),r}function jh(e,i){var r=i.x-e.x,c=i.y-e.y;return r*r+c*c}function ni(e,i,r,c){var h=i.x,_=i.y,w=r.x-h,P=r.y-_,D=w*w+P*P,B;return D>0&&(B=((e.x-h)*w+(e.y-_)*P)/D,B>1?(h=r.x,_=r.y):B>0&&(h+=w*B,_+=P*B)),w=e.x-h,P=e.y-_,c?w*w+P*P:new $(h,_)}function ht(e){return!T(e[0])||typeof e[0][0]!="object"&&typeof e[0][0]<"u"}function Ta(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),ht(e)}function Aa(e,i){var r,c,h,_,w,P,D,B;if(!e||e.length===0)throw new Error("latlngs not passed");ht(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var q=Z([0,0]),se=G(e),_e=se.getNorthWest().distanceTo(se.getSouthWest())*se.getNorthEast().distanceTo(se.getNorthWest());_e<1700&&(q=io(e));var st=e.length,qe=[];for(r=0;r<st;r++){var ft=Z(e[r]);qe.push(i.project(Z([ft.lat-q.lat,ft.lng-q.lng])))}for(r=0,c=0;r<st-1;r++)c+=qe[r].distanceTo(qe[r+1])/2;if(c===0)B=qe[0];else for(r=0,_=0;r<st-1;r++)if(w=qe[r],P=qe[r+1],h=w.distanceTo(P),_+=h,_>c){D=(_-c)/h,B=[P.x-D*(P.x-w.x),P.y-D*(P.y-w.y)];break}var rt=i.unproject(Q(B));return Z([rt.lat+q.lat,rt.lng+q.lng])}var zh={__proto__:null,simplify:xa,pointToSegmentDistance:ba,closestPointOnSegment:Ih,clipSegment:Sa,_getEdgeIntersection:Zi,_getBitCode:dn,_sqClosestPointOnSegment:ni,isFlat:ht,_flat:Ta,polylineCenter:Aa},oo={project:function(e){return new $(e.lng,e.lat)},unproject:function(e){return new H(e.y,e.x)},bounds:new I([-180,-90],[180,90])},ro={R:6378137,R_MINOR:6356752314245179e-9,bounds:new I([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(e){var i=Math.PI/180,r=this.R,c=e.lat*i,h=this.R_MINOR/r,_=Math.sqrt(1-h*h),w=_*Math.sin(c),P=Math.tan(Math.PI/4-c/2)/Math.pow((1-w)/(1+w),_/2);return c=-r*Math.log(Math.max(P,1e-10)),new $(e.lng*i*r,c)},unproject:function(e){for(var i=180/Math.PI,r=this.R,c=this.R_MINOR/r,h=Math.sqrt(1-c*c),_=Math.exp(-e.y/r),w=Math.PI/2-2*Math.atan(_),P=0,D=.1,B;P<15&&Math.abs(D)>1e-7;P++)B=h*Math.sin(w),B=Math.pow((1-B)/(1+B),h/2),D=Math.PI/2-2*Math.atan(_*B)-w,w+=D;return new H(w*i,e.x*i/r)}},Bh={__proto__:null,LonLat:oo,Mercator:ro,SphericalMercator:we},Fh=a({},te,{code:"EPSG:3395",projection:ro,transformation:function(){var e=.5/(Math.PI*ro.R);return Ve(e,.5,-e,.5)}()}),Ca=a({},te,{code:"EPSG:4326",projection:oo,transformation:Ve(1/180,1,-1/180,.5)}),Vh=a({},X,{projection:oo,transformation:Ve(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,i){var r=i.lng-e.lng,c=i.lat-e.lat;return Math.sqrt(r*r+c*c)},infinite:!0});X.Earth=te,X.EPSG3395=Fh,X.EPSG3857=xe,X.EPSG900913=Me,X.EPSG4326=Ca,X.Simple=Vh;var _t=ue.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[f(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[f(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var i=e.target;if(i.hasLayer(this)){if(this._map=i,this._zoomAnimated=i._zoomAnimated,this.getEvents){var r=this.getEvents();i.on(r,this),this.once("remove",function(){i.off(r,this)},this)}this.onAdd(i),this.fire("add"),i.fire("layeradd",{layer:this})}}});Te.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var i=f(e);return this._layers[i]?this:(this._layers[i]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e),this)},removeLayer:function(e){var i=f(e);return this._layers[i]?(this._loaded&&e.onRemove(this),delete this._layers[i],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return f(e)in this._layers},eachLayer:function(e,i){for(var r in this._layers)e.call(i,this._layers[r]);return this},_addLayers:function(e){e=e?T(e)?e:[e]:[];for(var i=0,r=e.length;i<r;i++)this.addLayer(e[i])},_addZoomLimit:function(e){(!isNaN(e.options.maxZoom)||!isNaN(e.options.minZoom))&&(this._zoomBoundLayers[f(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var i=f(e);this._zoomBoundLayers[i]&&(delete this._zoomBoundLayers[i],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,i=-1/0,r=this._getZoomSpan();for(var c in this._zoomBoundLayers){var h=this._zoomBoundLayers[c].options;e=h.minZoom===void 0?e:Math.min(e,h.minZoom),i=h.maxZoom===void 0?i:Math.max(i,h.maxZoom)}this._layersMaxZoom=i===-1/0?void 0:i,this._layersMinZoom=e===1/0?void 0:e,r!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Pn=_t.extend({initialize:function(e,i){S(this,i),this._layers={};var r,c;if(e)for(r=0,c=e.length;r<c;r++)this.addLayer(e[r])},addLayer:function(e){var i=this.getLayerId(e);return this._layers[i]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var i=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[i]&&this._map.removeLayer(this._layers[i]),delete this._layers[i],this},hasLayer:function(e){var i=typeof e=="number"?e:this.getLayerId(e);return i in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var i=Array.prototype.slice.call(arguments,1),r,c;for(r in this._layers)c=this._layers[r],c[e]&&c[e].apply(c,i);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,i){for(var r in this._layers)e.call(i,this._layers[r]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return f(e)}}),Zh=function(e,i){return new Pn(e,i)},jt=Pn.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),Pn.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),Pn.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new F;for(var i in this._layers){var r=this._layers[i];e.extend(r.getBounds?r.getBounds():r.getLatLng())}return e}}),Wh=function(e,i){return new jt(e,i)},kn=ie.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(e){S(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,i){var r=this._getIconUrl(e);if(!r){if(e==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var c=this._createImg(r,i&&i.tagName==="IMG"?i:null);return this._setIconStyles(c,e),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),c},_setIconStyles:function(e,i){var r=this.options,c=r[i+"Size"];typeof c=="number"&&(c=[c,c]);var h=Q(c),_=Q(i==="shadow"&&r.shadowAnchor||r.iconAnchor||h&&h.divideBy(2,!0));e.className="leaflet-marker-"+i+" "+(r.className||""),_&&(e.style.marginLeft=-_.x+"px",e.style.marginTop=-_.y+"px"),h&&(e.style.width=h.x+"px",e.style.height=h.y+"px")},_createImg:function(e,i){return i=i||document.createElement("img"),i.src=e,i},_getIconUrl:function(e){return ne.retina&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}});function Hh(e){return new kn(e)}var ii=kn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return typeof ii.imagePath!="string"&&(ii.imagePath=this._detectIconPath()),(this.options.imagePath||ii.imagePath)+kn.prototype._getIconUrl.call(this,e)},_stripUrl:function(e){var i=function(r,c,h){var _=c.exec(r);return _&&_[h]};return e=i(e,/^url\((['"])?(.+)\1\)$/,2),e&&i(e,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var e=Pe("div","leaflet-default-icon-path",document.body),i=Xn(e,"background-image")||Xn(e,"backgroundImage");if(document.body.removeChild(e),i=this._stripUrl(i),i)return i;var r=document.querySelector('link[href$="leaflet.css"]');return r?r.href.substring(0,r.href.length-11-1):""}}),Pa=Dt.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new Kt(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),me(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&He(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var i=this._marker,r=i._map,c=this._marker.options.autoPanSpeed,h=this._marker.options.autoPanPadding,_=ln(i._icon),w=r.getPixelBounds(),P=r.getPixelOrigin(),D=le(w.min._subtract(P).add(h),w.max._subtract(P).subtract(h));if(!D.contains(_)){var B=Q((Math.max(D.max.x,_.x)-D.max.x)/(w.max.x-D.max.x)-(Math.min(D.min.x,_.x)-D.min.x)/(w.min.x-D.min.x),(Math.max(D.max.y,_.y)-D.max.y)/(w.max.y-D.max.y)-(Math.min(D.min.y,_.y)-D.min.y)/(w.min.y-D.min.y)).multiplyBy(c);r.panBy(B,{animate:!1}),this._draggable._newPos._add(B),this._draggable._startPos._add(B),Je(i._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=K(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&(U(this._panRequest),this._panRequest=K(this._adjustPan.bind(this,e)))},_onDrag:function(e){var i=this._marker,r=i._shadow,c=ln(i._icon),h=i._map.layerPointToLatLng(c);r&&Je(r,c),i._latlng=h,e.latlng=h,e.oldLatLng=this._oldLatLng,i.fire("move",e).fire("drag",e)},_onDragEnd:function(e){U(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),Wi=_t.extend({options:{icon:new ii,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(e,i){S(this,i),this._latlng=Z(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var i=this._latlng;return this._latlng=Z(e),this.update(),this.fire("move",{oldLatLng:i,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},getIcon:function(){return this.options.icon},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,i="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),r=e.icon.createIcon(this._icon),c=!1;r!==this._icon&&(this._icon&&this._removeIcon(),c=!0,e.title&&(r.title=e.title),r.tagName==="IMG"&&(r.alt=e.alt||"")),me(r,i),e.keyboard&&(r.tabIndex="0",r.setAttribute("role","button")),this._icon=r,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&he(r,"focus",this._panOnFocus,this);var h=e.icon.createShadow(this._shadow),_=!1;h!==this._shadow&&(this._removeShadow(),_=!0),h&&(me(h,i),h.alt=""),this._shadow=h,e.opacity<1&&this._updateOpacity(),c&&this.getPane().appendChild(this._icon),this._initInteraction(),h&&_&&this.getPane(e.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ne(this._icon,"focus",this._panOnFocus,this),Be(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Be(this._shadow),this._shadow=null},_setPos:function(e){this._icon&&Je(this._icon,e),this._shadow&&Je(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon&&(this._icon.style.zIndex=this._zIndex+e)},_animateZoom:function(e){var i=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(i)},_initInteraction:function(){if(this.options.interactive&&(me(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Pa)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Pa(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;this._icon&&dt(this._icon,e),this._shadow&&dt(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var e=this._map;if(e){var i=this.options.icon.options,r=i.iconSize?Q(i.iconSize):Q(0,0),c=i.iconAnchor?Q(i.iconAnchor):Q(0,0);e.panInside(this._latlng,{paddingTopLeft:c,paddingBottomRight:r.subtract(c)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Gh(e,i){return new Wi(e,i)}var Xt=_t.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return S(this,e),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&e&&Object.prototype.hasOwnProperty.call(e,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Hi=Xt.extend({options:{fill:!0,radius:10},initialize:function(e,i){S(this,i),this._latlng=Z(e),this._radius=this.options.radius},setLatLng:function(e){var i=this._latlng;return this._latlng=Z(e),this.redraw(),this.fire("move",{oldLatLng:i,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var i=e&&e.radius||this._radius;return Xt.prototype.setStyle.call(this,e),this.setRadius(i),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,i=this._radiusY||e,r=this._clickTolerance(),c=[e+r,i+r];this._pxBounds=new I(this._point.subtract(c),this._point.add(c))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Jh(e,i){return new Hi(e,i)}var ao=Hi.extend({initialize:function(e,i,r){if(typeof i=="number"&&(i=a({},r,{radius:i})),S(this,i),this._latlng=Z(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new F(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:Xt.prototype.setStyle,_project:function(){var e=this._latlng.lng,i=this._latlng.lat,r=this._map,c=r.options.crs;if(c.distance===te.distance){var h=Math.PI/180,_=this._mRadius/te.R/h,w=r.project([i+_,e]),P=r.project([i-_,e]),D=w.add(P).divideBy(2),B=r.unproject(D).lat,q=Math.acos((Math.cos(_*h)-Math.sin(i*h)*Math.sin(B*h))/(Math.cos(i*h)*Math.cos(B*h)))/h;(isNaN(q)||q===0)&&(q=_/Math.cos(Math.PI/180*i)),this._point=D.subtract(r.getPixelOrigin()),this._radius=isNaN(q)?0:D.x-r.project([B,e-q]).x,this._radiusY=D.y-w.y}else{var se=c.unproject(c.project(this._latlng).subtract([this._mRadius,0]));this._point=r.latLngToLayerPoint(this._latlng),this._radius=this._point.x-r.latLngToLayerPoint(se).x}this._updateBounds()}});function Uh(e,i,r){return new ao(e,i,r)}var zt=Xt.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,i){S(this,i),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var i=1/0,r=null,c=ni,h,_,w=0,P=this._parts.length;w<P;w++)for(var D=this._parts[w],B=1,q=D.length;B<q;B++){h=D[B-1],_=D[B];var se=c(e,h,_,!0);se<i&&(i=se,r=c(e,h,_))}return r&&(r.distance=Math.sqrt(i)),r},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Aa(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(e,i){return i=i||this._defaultShape(),e=Z(e),i.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new F,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return ht(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var i=[],r=ht(e),c=0,h=e.length;c<h;c++)r?(i[c]=Z(e[c]),this._bounds.extend(i[c])):i[c]=this._convertLatLngs(e[c]);return i},_project:function(){var e=new I;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e),this._bounds.isValid()&&e.isValid()&&(this._rawPxBounds=e,this._updateBounds())},_updateBounds:function(){var e=this._clickTolerance(),i=new $(e,e);this._rawPxBounds&&(this._pxBounds=new I([this._rawPxBounds.min.subtract(i),this._rawPxBounds.max.add(i)]))},_projectLatlngs:function(e,i,r){var c=e[0]instanceof H,h=e.length,_,w;if(c){for(w=[],_=0;_<h;_++)w[_]=this._map.latLngToLayerPoint(e[_]),r.extend(w[_]);i.push(w)}else for(_=0;_<h;_++)this._projectLatlngs(e[_],i,r)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}var i=this._parts,r,c,h,_,w,P,D;for(r=0,h=0,_=this._rings.length;r<_;r++)for(D=this._rings[r],c=0,w=D.length;c<w-1;c++)P=Sa(D[c],D[c+1],e,c,!0),P&&(i[h]=i[h]||[],i[h].push(P[0]),(P[1]!==D[c+1]||c===w-2)&&(i[h].push(P[1]),h++))}},_simplifyPoints:function(){for(var e=this._parts,i=this.options.smoothFactor,r=0,c=e.length;r<c;r++)e[r]=xa(e[r],i)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,i){var r,c,h,_,w,P,D=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(r=0,_=this._parts.length;r<_;r++)for(P=this._parts[r],c=0,w=P.length,h=w-1;c<w;h=c++)if(!(!i&&c===0)&&ba(e,P[h],P[c])<=D)return!0;return!1}});function $h(e,i){return new zt(e,i)}zt._flat=Ta;var Mn=zt.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return _a(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(e){var i=zt.prototype._convertLatLngs.call(this,e),r=i.length;return r>=2&&i[0]instanceof H&&i[0].equals(i[r-1])&&i.pop(),i},_setLatLngs:function(e){zt.prototype._setLatLngs.call(this,e),ht(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return ht(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,i=this.options.weight,r=new $(i,i);if(e=new I(e.min.subtract(r),e.max.add(r)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}for(var c=0,h=this._rings.length,_;c<h;c++)_=va(this._rings[c],e,!0),_.length&&this._parts.push(_)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var i=!1,r,c,h,_,w,P,D,B;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(_=0,D=this._parts.length;_<D;_++)for(r=this._parts[_],w=0,B=r.length,P=B-1;w<B;P=w++)c=r[w],h=r[P],c.y>e.y!=h.y>e.y&&e.x<(h.x-c.x)*(e.y-c.y)/(h.y-c.y)+c.x&&(i=!i);return i||zt.prototype._containsPoint.call(this,e,!0)}});function Kh(e,i){return new Mn(e,i)}var Bt=jt.extend({initialize:function(e,i){S(this,i),this._layers={},e&&this.addData(e)},addData:function(e){var i=T(e)?e:e.features,r,c,h;if(i){for(r=0,c=i.length;r<c;r++)h=i[r],(h.geometries||h.geometry||h.features||h.coordinates)&&this.addData(h);return this}var _=this.options;if(_.filter&&!_.filter(e))return this;var w=Gi(e,_);return w?(w.feature=$i(e),w.defaultOptions=w.options,this.resetStyle(w),_.onEachFeature&&_.onEachFeature(e,w),this.addLayer(w)):this},resetStyle:function(e){return e===void 0?this.eachLayer(this.resetStyle,this):(e.options=a({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this)},setStyle:function(e){return this.eachLayer(function(i){this._setLayerStyle(i,e)},this)},_setLayerStyle:function(e,i){e.setStyle&&(typeof i=="function"&&(i=i(e.feature)),e.setStyle(i))}});function Gi(e,i){var r=e.type==="Feature"?e.geometry:e,c=r?r.coordinates:null,h=[],_=i&&i.pointToLayer,w=i&&i.coordsToLatLng||lo,P,D,B,q;if(!c&&!r)return null;switch(r.type){case"Point":return P=w(c),ka(_,e,P,i);case"MultiPoint":for(B=0,q=c.length;B<q;B++)P=w(c[B]),h.push(ka(_,e,P,i));return new jt(h);case"LineString":case"MultiLineString":return D=Ji(c,r.type==="LineString"?0:1,w),new zt(D,i);case"Polygon":case"MultiPolygon":return D=Ji(c,r.type==="Polygon"?1:2,w),new Mn(D,i);case"GeometryCollection":for(B=0,q=r.geometries.length;B<q;B++){var se=Gi({geometry:r.geometries[B],type:"Feature",properties:e.properties},i);se&&h.push(se)}return new jt(h);case"FeatureCollection":for(B=0,q=r.features.length;B<q;B++){var _e=Gi(r.features[B],i);_e&&h.push(_e)}return new jt(h);default:throw new Error("Invalid GeoJSON object.")}}function ka(e,i,r,c){return e?e(i,r):new Wi(r,c&&c.markersInheritOptions&&c)}function lo(e){return new H(e[1],e[0],e[2])}function Ji(e,i,r){for(var c=[],h=0,_=e.length,w;h<_;h++)w=i?Ji(e[h],i-1,r):(r||lo)(e[h]),c.push(w);return c}function co(e,i){return e=Z(e),e.alt!==void 0?[y(e.lng,i),y(e.lat,i),y(e.alt,i)]:[y(e.lng,i),y(e.lat,i)]}function Ui(e,i,r,c){for(var h=[],_=0,w=e.length;_<w;_++)h.push(i?Ui(e[_],ht(e[_])?0:i-1,r,c):co(e[_],c));return!i&&r&&h.length>0&&h.push(h[0].slice()),h}function Dn(e,i){return e.feature?a({},e.feature,{geometry:i}):$i(i)}function $i(e){return e.type==="Feature"||e.type==="FeatureCollection"?e:{type:"Feature",properties:{},geometry:e}}var uo={toGeoJSON:function(e){return Dn(this,{type:"Point",coordinates:co(this.getLatLng(),e)})}};Wi.include(uo),ao.include(uo),Hi.include(uo),zt.include({toGeoJSON:function(e){var i=!ht(this._latlngs),r=Ui(this._latlngs,i?1:0,!1,e);return Dn(this,{type:(i?"Multi":"")+"LineString",coordinates:r})}}),Mn.include({toGeoJSON:function(e){var i=!ht(this._latlngs),r=i&&!ht(this._latlngs[0]),c=Ui(this._latlngs,r?2:i?1:0,!0,e);return i||(c=[c]),Dn(this,{type:(r?"Multi":"")+"Polygon",coordinates:c})}}),Pn.include({toMultiPoint:function(e){var i=[];return this.eachLayer(function(r){i.push(r.toGeoJSON(e).geometry.coordinates)}),Dn(this,{type:"MultiPoint",coordinates:i})},toGeoJSON:function(e){var i=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(i==="MultiPoint")return this.toMultiPoint(e);var r=i==="GeometryCollection",c=[];return this.eachLayer(function(h){if(h.toGeoJSON){var _=h.toGeoJSON(e);if(r)c.push(_.geometry);else{var w=$i(_);w.type==="FeatureCollection"?c.push.apply(c,w.features):c.push(w)}}}),r?Dn(this,{geometries:c,type:"GeometryCollection"}):{type:"FeatureCollection",features:c}}});function Ma(e,i){return new Bt(e,i)}var Xh=Ma,Ki=_t.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,i,r){this._url=e,this._bounds=G(i),S(this,r)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(me(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Be(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&An(this._image),this},bringToBack:function(){return this._map&&Cn(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=G(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e=this._url.tagName==="IMG",i=this._image=e?this._url:Pe("img");if(me(i,"leaflet-image-layer"),this._zoomAnimated&&me(i,"leaflet-zoom-animated"),this.options.className&&me(i,this.options.className),i.onselectstart=v,i.onmousemove=v,i.onload=l(this.fire,this,"load"),i.onerror=l(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(i.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e){this._url=i.src;return}i.src=this._url,i.alt=this.options.alt},_animateZoom:function(e){var i=this._map.getZoomScale(e.zoom),r=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;an(this._image,r,i)},_reset:function(){var e=this._image,i=new I(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),r=i.getSize();Je(e,i.min),e.style.width=r.x+"px",e.style.height=r.y+"px"},_updateOpacity:function(){dt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)},getCenter:function(){return this._bounds.getCenter()}}),qh=function(e,i,r){return new Ki(e,i,r)},Da=Ki.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var e=this._url.tagName==="VIDEO",i=this._image=e?this._url:Pe("video");if(me(i,"leaflet-image-layer"),this._zoomAnimated&&me(i,"leaflet-zoom-animated"),this.options.className&&me(i,this.options.className),i.onselectstart=v,i.onmousemove=v,i.onloadeddata=l(this.fire,this,"load"),e){for(var r=i.getElementsByTagName("source"),c=[],h=0;h<r.length;h++)c.push(r[h].src);this._url=r.length>0?c:[i.src];return}T(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(i.style,"objectFit")&&(i.style.objectFit="fill"),i.autoplay=!!this.options.autoplay,i.loop=!!this.options.loop,i.muted=!!this.options.muted,i.playsInline=!!this.options.playsInline;for(var _=0;_<this._url.length;_++){var w=Pe("source");w.src=this._url[_],i.appendChild(w)}}});function Yh(e,i,r){return new Da(e,i,r)}var La=Ki.extend({_initImage:function(){var e=this._image=this._url;me(e,"leaflet-image-layer"),this._zoomAnimated&&me(e,"leaflet-zoom-animated"),this.options.className&&me(e,this.options.className),e.onselectstart=v,e.onmousemove=v}});function Qh(e,i,r){return new La(e,i,r)}var Lt=_t.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(e,i){e&&(e instanceof H||T(e))?(this._latlng=Z(e),S(this,i)):(S(this,e),this._source=i),this.options.content&&(this._content=this.options.content)},openOn:function(e){return e=arguments.length?e:this._source._map,e.hasLayer(this)||e.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(e){return this._map?this.close():(arguments.length?this._source=e:e=this._source,this._prepareOpen(),this.openOn(e._map)),this},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&dt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&dt(this._container,1),this.bringToFront(),this.options.interactive&&(me(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(e){e._fadeAnimated?(dt(this._container,0),this._removeTimeout=setTimeout(l(Be,void 0,this._container),200)):Be(this._container),this.options.interactive&&(He(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=Z(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&An(this._container),this},bringToBack:function(){return this._map&&Cn(this._container),this},_prepareOpen:function(e){var i=this._source;if(!i._map)return!1;if(i instanceof jt){i=null;var r=this._source._layers;for(var c in r)if(r[c]._map){i=r[c];break}if(!i)return!1;this._source=i}if(!e)if(i.getCenter)e=i.getCenter();else if(i.getLatLng)e=i.getLatLng();else if(i.getBounds)e=i.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(e),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var e=this._contentNode,i=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof i=="string")e.innerHTML=i;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(i)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),i=Q(this.options.offset),r=this._getAnchor();this._zoomAnimated?Je(this._container,e.add(r)):i=i.add(e).add(r);var c=this._containerBottom=-i.y,h=this._containerLeft=-Math.round(this._containerWidth/2)+i.x;this._container.style.bottom=c+"px",this._container.style.left=h+"px"}},_getAnchor:function(){return[0,0]}});Te.include({_initOverlay:function(e,i,r,c){var h=i;return h instanceof e||(h=new e(c).setContent(i)),r&&h.setLatLng(r),h}}),_t.include({_initOverlay:function(e,i,r,c){var h=r;return h instanceof e?(S(h,c),h._source=this):(h=i&&!c?i:new e(c,this),h.setContent(r)),h}});var Xi=Lt.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return e=arguments.length?e:this._source._map,!e.hasLayer(this)&&e._popup&&e._popup.options.autoClose&&e.removeLayer(e._popup),e._popup=this,Lt.prototype.openOn.call(this,e)},onAdd:function(e){Lt.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Xt||this._source.on("preclick",cn))},onRemove:function(e){Lt.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Xt||this._source.off("preclick",cn))},getEvents:function(){var e=Lt.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this.close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_initLayout:function(){var e="leaflet-popup",i=this._container=Pe("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),r=this._wrapper=Pe("div",e+"-content-wrapper",i);if(this._contentNode=Pe("div",e+"-content",r),ei(i),Qs(this._contentNode),he(i,"contextmenu",cn),this._tipContainer=Pe("div",e+"-tip-container",i),this._tip=Pe("div",e+"-tip",this._tipContainer),this.options.closeButton){var c=this._closeButton=Pe("a",e+"-close-button",i);c.setAttribute("role","button"),c.setAttribute("aria-label","Close popup"),c.href="#close",c.innerHTML='<span aria-hidden="true">&#215;</span>',he(c,"click",function(h){Ye(h),this.close()},this)}},_updateLayout:function(){var e=this._contentNode,i=e.style;i.width="",i.whiteSpace="nowrap";var r=e.offsetWidth;r=Math.min(r,this.options.maxWidth),r=Math.max(r,this.options.minWidth),i.width=r+1+"px",i.whiteSpace="",i.height="";var c=e.offsetHeight,h=this.options.maxHeight,_="leaflet-popup-scrolled";h&&c>h?(i.height=h+"px",me(e,_)):He(e,_),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var i=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),r=this._getAnchor();Je(this._container,i.add(r))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var e=this._map,i=parseInt(Xn(this._container,"marginBottom"),10)||0,r=this._container.offsetHeight+i,c=this._containerWidth,h=new $(this._containerLeft,-r-this._containerBottom);h._add(ln(this._container));var _=e.layerPointToContainerPoint(h),w=Q(this.options.autoPanPadding),P=Q(this.options.autoPanPaddingTopLeft||w),D=Q(this.options.autoPanPaddingBottomRight||w),B=e.getSize(),q=0,se=0;_.x+c+D.x>B.x&&(q=_.x+c-B.x+D.x),_.x-q-P.x<0&&(q=_.x-P.x),_.y+r+D.y>B.y&&(se=_.y+r-B.y+D.y),_.y-se-P.y<0&&(se=_.y-P.y),(q||se)&&(this.options.keepInView&&(this._autopanning=!0),e.fire("autopanstart").panBy([q,se]))}},_getAnchor:function(){return Q(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),ef=function(e,i){return new Xi(e,i)};Te.mergeOptions({closePopupOnClick:!0}),Te.include({openPopup:function(e,i,r){return this._initOverlay(Xi,e,i,r).openOn(this),this},closePopup:function(e){return e=arguments.length?e:this._popup,e&&e.close(),this}}),_t.include({bindPopup:function(e,i){return this._popup=this._initOverlay(Xi,this._popup,e,i),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e){return this._popup&&(this instanceof jt||(this._popup._source=this),this._popup._prepareOpen(e||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){if(!(!this._popup||!this._map)){un(e);var i=e.layer||e.target;if(this._popup._source===i&&!(i instanceof Xt)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(e.latlng);return}this._popup._source=i,this.openPopup(e.latlng)}},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){e.originalEvent.keyCode===13&&this._openPopup(e)}});var qi=Lt.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(e){Lt.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(e){Lt.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var e=Lt.prototype.getEvents.call(this);return this.options.permanent||(e.preclick=this.close),e},_initLayout:function(){var e="leaflet-tooltip",i=e+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Pe("div",i),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+f(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var i,r,c=this._map,h=this._container,_=c.latLngToContainerPoint(c.getCenter()),w=c.layerPointToContainerPoint(e),P=this.options.direction,D=h.offsetWidth,B=h.offsetHeight,q=Q(this.options.offset),se=this._getAnchor();P==="top"?(i=D/2,r=B):P==="bottom"?(i=D/2,r=0):P==="center"?(i=D/2,r=B/2):P==="right"?(i=0,r=B/2):P==="left"?(i=D,r=B/2):w.x<_.x?(P="right",i=0,r=B/2):(P="left",i=D+(q.x+se.x)*2,r=B/2),e=e.subtract(Q(i,r,!0)).add(q).add(se),He(h,"leaflet-tooltip-right"),He(h,"leaflet-tooltip-left"),He(h,"leaflet-tooltip-top"),He(h,"leaflet-tooltip-bottom"),me(h,"leaflet-tooltip-"+P),Je(h,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&dt(this._container,e)},_animateZoom:function(e){var i=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(i)},_getAnchor:function(){return Q(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),tf=function(e,i){return new qi(e,i)};Te.include({openTooltip:function(e,i,r){return this._initOverlay(qi,e,i,r).openOn(this),this},closeTooltip:function(e){return e.close(),this}}),_t.include({bindTooltip:function(e,i){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(qi,this._tooltip,e,i),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(!(!e&&this._tooltipHandlersAdded)){var i=e?"off":"on",r={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?r.add=this._openTooltip:(r.mouseover=this._openTooltip,r.mouseout=this.closeTooltip,r.click=this._openTooltip,this._map?this._addFocusListeners():r.add=this._addFocusListeners),this._tooltip.options.sticky&&(r.mousemove=this._moveTooltip),this[i](r),this._tooltipHandlersAdded=!e}},openTooltip:function(e){return this._tooltip&&(this instanceof jt||(this._tooltip._source=this),this._tooltip._prepareOpen(e)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(e){var i=typeof e.getElement=="function"&&e.getElement();i&&(he(i,"focus",function(){this._tooltip._source=e,this.openTooltip()},this),he(i,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(e){var i=typeof e.getElement=="function"&&e.getElement();i&&i.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(e){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var i=this;this._map.once("moveend",function(){i._openOnceFlag=!1,i._openTooltip(e)});return}this._tooltip._source=e.layer||e.target,this.openTooltip(this._tooltip.options.sticky?e.latlng:void 0)}},_moveTooltip:function(e){var i=e.latlng,r,c;this._tooltip.options.sticky&&e.originalEvent&&(r=this._map.mouseEventToContainerPoint(e.originalEvent),c=this._map.containerPointToLayerPoint(r),i=this._map.layerPointToLatLng(c)),this._tooltip.setLatLng(i)}});var Ea=kn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var i=e&&e.tagName==="DIV"?e:document.createElement("div"),r=this.options;if(r.html instanceof Element?(ji(i),i.appendChild(r.html)):i.innerHTML=r.html!==!1?r.html:"",r.bgPos){var c=Q(r.bgPos);i.style.backgroundPosition=-c.x+"px "+-c.y+"px"}return this._setIconStyles(i,"icon"),i},createShadow:function(){return null}});function nf(e){return new Ea(e)}kn.Default=ii;var si=_t.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ne.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){S(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),Be(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(An(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Cn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var e=this._clampZoom(this._map.getZoom());e!==this._tileZoom&&(this._tileZoom=e,this._updateLevels()),this._update()}return this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=g(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof $?e:new $(e,e)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var i=this.getPane().children,r=-e(-1/0,1/0),c=0,h=i.length,_;c<h;c++)_=i[c].style.zIndex,i[c]!==this._container&&_&&(r=e(r,+_));isFinite(r)&&(this.options.zIndex=r+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ne.ielt9){dt(this._container,this.options.opacity);var e=+new Date,i=!1,r=!1;for(var c in this._tiles){var h=this._tiles[c];if(!(!h.current||!h.loaded)){var _=Math.min(1,(e-h.loaded)/200);dt(h.el,_),_<1?i=!0:(h.active?r=!0:this._onOpaqueTile(h),h.active=!0)}}r&&!this._noPrune&&this._pruneTiles(),i&&(U(this._fadeFrame),this._fadeFrame=K(this._updateOpacity,this))}},_onOpaqueTile:v,_initContainer:function(){this._container||(this._container=Pe("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,i=this.options.maxZoom;if(e!==void 0){for(var r in this._levels)r=Number(r),this._levels[r].el.children.length||r===e?(this._levels[r].el.style.zIndex=i-Math.abs(e-r),this._onUpdateLevel(r)):(Be(this._levels[r].el),this._removeTilesAtZoom(r),this._onRemoveLevel(r),delete this._levels[r]);var c=this._levels[e],h=this._map;return c||(c=this._levels[e]={},c.el=Pe("div","leaflet-tile-container leaflet-zoom-animated",this._container),c.el.style.zIndex=i,c.origin=h.project(h.unproject(h.getPixelOrigin()),e).round(),c.zoom=e,this._setZoomTransform(c,h.getCenter(),h.getZoom()),v(c.el.offsetWidth),this._onCreateLevel(c)),this._level=c,c}},_onUpdateLevel:v,_onRemoveLevel:v,_onCreateLevel:v,_pruneTiles:function(){if(this._map){var e,i,r=this._map.getZoom();if(r>this.options.maxZoom||r<this.options.minZoom){this._removeAllTiles();return}for(e in this._tiles)i=this._tiles[e],i.retain=i.current;for(e in this._tiles)if(i=this._tiles[e],i.current&&!i.active){var c=i.coords;this._retainParent(c.x,c.y,c.z,c.z-5)||this._retainChildren(c.x,c.y,c.z,c.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}},_removeTilesAtZoom:function(e){for(var i in this._tiles)this._tiles[i].coords.z===e&&this._removeTile(i)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)Be(this._levels[e].el),this._onRemoveLevel(Number(e)),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,i,r,c){var h=Math.floor(e/2),_=Math.floor(i/2),w=r-1,P=new $(+h,+_);P.z=+w;var D=this._tileCoordsToKey(P),B=this._tiles[D];return B&&B.active?(B.retain=!0,!0):(B&&B.loaded&&(B.retain=!0),w>c?this._retainParent(h,_,w,c):!1)},_retainChildren:function(e,i,r,c){for(var h=2*e;h<2*e+2;h++)for(var _=2*i;_<2*i+2;_++){var w=new $(h,_);w.z=r+1;var P=this._tileCoordsToKey(w),D=this._tiles[P];if(D&&D.active){D.retain=!0;continue}else D&&D.loaded&&(D.retain=!0);r+1<c&&this._retainChildren(h,_,r+1,c)}},_resetView:function(e){var i=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),i,i)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var i=this.options;return i.minNativeZoom!==void 0&&e<i.minNativeZoom?i.minNativeZoom:i.maxNativeZoom!==void 0&&i.maxNativeZoom<e?i.maxNativeZoom:e},_setView:function(e,i,r,c){var h=Math.round(i);this.options.maxZoom!==void 0&&h>this.options.maxZoom||this.options.minZoom!==void 0&&h<this.options.minZoom?h=void 0:h=this._clampZoom(h);var _=this.options.updateWhenZooming&&h!==this._tileZoom;(!c||_)&&(this._tileZoom=h,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),h!==void 0&&this._update(e),r||this._pruneTiles(),this._noPrune=!!r),this._setZoomTransforms(e,i)},_setZoomTransforms:function(e,i){for(var r in this._levels)this._setZoomTransform(this._levels[r],e,i)},_setZoomTransform:function(e,i,r){var c=this._map.getZoomScale(r,e.zoom),h=e.origin.multiplyBy(c).subtract(this._map._getNewPixelOrigin(i,r)).round();ne.any3d?an(e.el,h,c):Je(e.el,h)},_resetGrid:function(){var e=this._map,i=e.options.crs,r=this._tileSize=this.getTileSize(),c=this._tileZoom,h=this._map.getPixelWorldBounds(this._tileZoom);h&&(this._globalTileRange=this._pxBoundsToTileRange(h)),this._wrapX=i.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,i.wrapLng[0]],c).x/r.x),Math.ceil(e.project([0,i.wrapLng[1]],c).x/r.y)],this._wrapY=i.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([i.wrapLat[0],0],c).y/r.x),Math.ceil(e.project([i.wrapLat[1],0],c).y/r.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(e){var i=this._map,r=i._animatingZoom?Math.max(i._animateToZoom,i.getZoom()):i.getZoom(),c=i.getZoomScale(r,this._tileZoom),h=i.project(e,this._tileZoom).floor(),_=i.getSize().divideBy(c*2);return new I(h.subtract(_),h.add(_))},_update:function(e){var i=this._map;if(i){var r=this._clampZoom(i.getZoom());if(e===void 0&&(e=i.getCenter()),this._tileZoom!==void 0){var c=this._getTiledPixelBounds(e),h=this._pxBoundsToTileRange(c),_=h.getCenter(),w=[],P=this.options.keepBuffer,D=new I(h.getBottomLeft().subtract([P,-P]),h.getTopRight().add([P,-P]));if(!(isFinite(h.min.x)&&isFinite(h.min.y)&&isFinite(h.max.x)&&isFinite(h.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var B in this._tiles){var q=this._tiles[B].coords;(q.z!==this._tileZoom||!D.contains(new $(q.x,q.y)))&&(this._tiles[B].current=!1)}if(Math.abs(r-this._tileZoom)>1){this._setView(e,r);return}for(var se=h.min.y;se<=h.max.y;se++)for(var _e=h.min.x;_e<=h.max.x;_e++){var st=new $(_e,se);if(st.z=this._tileZoom,!!this._isValidTile(st)){var qe=this._tiles[this._tileCoordsToKey(st)];qe?qe.current=!0:w.push(st)}}if(w.sort(function(rt,En){return rt.distanceTo(_)-En.distanceTo(_)}),w.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var ft=document.createDocumentFragment();for(_e=0;_e<w.length;_e++)this._addTile(w[_e],ft);this._level.el.appendChild(ft)}}}},_isValidTile:function(e){var i=this._map.options.crs;if(!i.infinite){var r=this._globalTileRange;if(!i.wrapLng&&(e.x<r.min.x||e.x>r.max.x)||!i.wrapLat&&(e.y<r.min.y||e.y>r.max.y))return!1}if(!this.options.bounds)return!0;var c=this._tileCoordsToBounds(e);return G(this.options.bounds).overlaps(c)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var i=this._map,r=this.getTileSize(),c=e.scaleBy(r),h=c.add(r),_=i.unproject(c,e.z),w=i.unproject(h,e.z);return[_,w]},_tileCoordsToBounds:function(e){var i=this._tileCoordsToNwSe(e),r=new F(i[0],i[1]);return this.options.noWrap||(r=this._map.wrapLatLngBounds(r)),r},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var i=e.split(":"),r=new $(+i[0],+i[1]);return r.z=+i[2],r},_removeTile:function(e){var i=this._tiles[e];i&&(Be(i.el),delete this._tiles[e],this.fire("tileunload",{tile:i.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){me(e,"leaflet-tile");var i=this.getTileSize();e.style.width=i.x+"px",e.style.height=i.y+"px",e.onselectstart=v,e.onmousemove=v,ne.ielt9&&this.options.opacity<1&&dt(e,this.options.opacity)},_addTile:function(e,i){var r=this._getTilePos(e),c=this._tileCoordsToKey(e),h=this.createTile(this._wrapCoords(e),l(this._tileReady,this,e));this._initTile(h),this.createTile.length<2&&K(l(this._tileReady,this,e,null,h)),Je(h,r),this._tiles[c]={el:h,coords:e,current:!0},i.appendChild(h),this.fire("tileloadstart",{tile:h,coords:e})},_tileReady:function(e,i,r){i&&this.fire("tileerror",{error:i,tile:r,coords:e});var c=this._tileCoordsToKey(e);r=this._tiles[c],r&&(r.loaded=+new Date,this._map._fadeAnimated?(dt(r.el,0),U(this._fadeFrame),this._fadeFrame=K(this._updateOpacity,this)):(r.active=!0,this._pruneTiles()),i||(me(r.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:r.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ne.ielt9||!this._map._fadeAnimated?K(this._pruneTiles,this):setTimeout(l(this._pruneTiles,this),250)))},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var i=new $(this._wrapX?p(e.x,this._wrapX):e.x,this._wrapY?p(e.y,this._wrapY):e.y);return i.z=e.z,i},_pxBoundsToTileRange:function(e){var i=this.getTileSize();return new I(e.min.unscaleBy(i).floor(),e.max.unscaleBy(i).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}});function sf(e){return new si(e)}var Ln=si.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(e,i){this._url=e,i=S(this,i),i.detectRetina&&ne.retina&&i.maxZoom>0?(i.tileSize=Math.floor(i.tileSize/2),i.zoomReverse?(i.zoomOffset--,i.minZoom=Math.min(i.maxZoom,i.minZoom+1)):(i.zoomOffset++,i.maxZoom=Math.max(i.minZoom,i.maxZoom-1)),i.minZoom=Math.max(0,i.minZoom)):i.zoomReverse?i.minZoom=Math.min(i.maxZoom,i.minZoom):i.maxZoom=Math.max(i.minZoom,i.maxZoom),typeof i.subdomains=="string"&&(i.subdomains=i.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(e,i){return this._url===e&&i===void 0&&(i=!0),this._url=e,i||this.redraw(),this},createTile:function(e,i){var r=document.createElement("img");return he(r,"load",l(this._tileOnLoad,this,i,r)),he(r,"error",l(this._tileOnError,this,i,r)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(r.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(r.referrerPolicy=this.options.referrerPolicy),r.alt="",r.src=this.getTileUrl(e),r},getTileUrl:function(e){var i={r:ne.retina?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var r=this._globalTileRange.max.y-e.y;this.options.tms&&(i.y=r),i["-y"]=r}return R(this._url,a(i,this.options))},_tileOnLoad:function(e,i){ne.ielt9?setTimeout(l(e,this,null,i),0):e(null,i)},_tileOnError:function(e,i,r){var c=this.options.errorTileUrl;c&&i.getAttribute("src")!==c&&(i.src=c),e(r,i)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,i=this.options.maxZoom,r=this.options.zoomReverse,c=this.options.zoomOffset;return r&&(e=i-e),e+c},_getSubdomain:function(e){var i=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[i]},_abortLoading:function(){var e,i;for(e in this._tiles)if(this._tiles[e].coords.z!==this._tileZoom&&(i=this._tiles[e].el,i.onload=v,i.onerror=v,!i.complete)){i.src=E;var r=this._tiles[e].coords;Be(i),delete this._tiles[e],this.fire("tileabort",{tile:i,coords:r})}},_removeTile:function(e){var i=this._tiles[e];if(i)return i.el.setAttribute("src",E),si.prototype._removeTile.call(this,e)},_tileReady:function(e,i,r){if(!(!this._map||r&&r.getAttribute("src")===E))return si.prototype._tileReady.call(this,e,i,r)}});function Na(e,i){return new Ln(e,i)}var Ia=Ln.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,i){this._url=e;var r=a({},this.defaultWmsParams);for(var c in i)c in this.options||(r[c]=i[c]);i=S(this,i);var h=i.detectRetina&&ne.retina?2:1,_=this.getTileSize();r.width=_.x*h,r.height=_.y*h,this.wmsParams=r},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var i=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[i]=this._crs.code,Ln.prototype.onAdd.call(this,e)},getTileUrl:function(e){var i=this._tileCoordsToNwSe(e),r=this._crs,c=le(r.project(i[0]),r.project(i[1])),h=c.min,_=c.max,w=(this._wmsVersion>=1.3&&this._crs===Ca?[h.y,h.x,_.y,_.x]:[h.x,h.y,_.x,_.y]).join(","),P=Ln.prototype.getTileUrl.call(this,e);return P+M(this.wmsParams,P,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+w},setParams:function(e,i){return a(this.wmsParams,e),i||this.redraw(),this}});function of(e,i){return new Ia(e,i)}Ln.WMS=Ia,Na.wms=of;var Ft=_t.extend({options:{padding:.1},initialize:function(e){S(this,e),f(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),me(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,i){var r=this._map.getZoomScale(i,this._zoom),c=this._map.getSize().multiplyBy(.5+this.options.padding),h=this._map.project(this._center,i),_=c.multiplyBy(-r).add(h).subtract(this._map._getNewPixelOrigin(e,i));ne.any3d?an(this._container,_,r):Je(this._container,_)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var e in this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,i=this._map.getSize(),r=this._map.containerPointToLayerPoint(i.multiplyBy(-e)).round();this._bounds=new I(r,r.add(i.multiplyBy(1+e*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Ra=Ft.extend({options:{tolerance:0},getEvents:function(){var e=Ft.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ft.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");he(e,"mousemove",this._onMouseMove,this),he(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),he(e,"mouseout",this._handleMouseOut,this),e._leaflet_disable_events=!0,this._ctx=e.getContext("2d")},_destroyContainer:function(){U(this._redrawRequest),delete this._ctx,Be(this._container),Ne(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var e;this._redrawBounds=null;for(var i in this._layers)e=this._layers[i],e._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ft.prototype._update.call(this);var e=this._bounds,i=this._container,r=e.getSize(),c=ne.retina?2:1;Je(i,e.min),i.width=c*r.x,i.height=c*r.y,i.style.width=r.x+"px",i.style.height=r.y+"px",ne.retina&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_reset:function(){Ft.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[f(e)]=e;var i=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=i),this._drawLast=i,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var i=e._order,r=i.next,c=i.prev;r?r.prev=c:this._drawLast=c,c?c.next=r:this._drawFirst=r,delete e._order,delete this._layers[f(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if(typeof e.options.dashArray=="string"){var i=e.options.dashArray.split(/[, ]+/),r=[],c,h;for(h=0;h<i.length;h++){if(c=Number(i[h]),isNaN(c))return;r.push(c)}e.options._dashArray=r}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||K(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var i=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new I,this._redrawBounds.extend(e._pxBounds.min.subtract([i,i])),this._redrawBounds.extend(e._pxBounds.max.add([i,i]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var i=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,i.x,i.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var e,i=this._redrawBounds;if(this._ctx.save(),i){var r=i.getSize();this._ctx.beginPath(),this._ctx.rect(i.min.x,i.min.y,r.x,r.y),this._ctx.clip()}this._drawing=!0;for(var c=this._drawFirst;c;c=c.next)e=c.layer,(!i||e._pxBounds&&e._pxBounds.intersects(i))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,i){if(this._drawing){var r,c,h,_,w=e._parts,P=w.length,D=this._ctx;if(P){for(D.beginPath(),r=0;r<P;r++){for(c=0,h=w[r].length;c<h;c++)_=w[r][c],D[c?"lineTo":"moveTo"](_.x,_.y);i&&D.closePath()}this._fillStroke(D,e)}}},_updateCircle:function(e){if(!(!this._drawing||e._empty())){var i=e._point,r=this._ctx,c=Math.max(Math.round(e._radius),1),h=(Math.max(Math.round(e._radiusY),1)||c)/c;h!==1&&(r.save(),r.scale(1,h)),r.beginPath(),r.arc(i.x,i.y/h,c,0,Math.PI*2,!1),h!==1&&r.restore(),this._fillStroke(r,e)}},_fillStroke:function(e,i){var r=i.options;r.fill&&(e.globalAlpha=r.fillOpacity,e.fillStyle=r.fillColor||r.color,e.fill(r.fillRule||"evenodd")),r.stroke&&r.weight!==0&&(e.setLineDash&&e.setLineDash(i.options&&i.options._dashArray||[]),e.globalAlpha=r.opacity,e.lineWidth=r.weight,e.strokeStyle=r.color,e.lineCap=r.lineCap,e.lineJoin=r.lineJoin,e.stroke())},_onClick:function(e){for(var i=this._map.mouseEventToLayerPoint(e),r,c,h=this._drawFirst;h;h=h.next)r=h.layer,r.options.interactive&&r._containsPoint(i)&&(!(e.type==="click"||e.type==="preclick")||!this._map._draggableMoved(r))&&(c=r);this._fireEvent(c?[c]:!1,e)},_onMouseMove:function(e){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var i=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,i)}},_handleMouseOut:function(e){var i=this._hoveredLayer;i&&(He(this._container,"leaflet-interactive"),this._fireEvent([i],e,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(e,i){if(!this._mouseHoverThrottled){for(var r,c,h=this._drawFirst;h;h=h.next)r=h.layer,r.options.interactive&&r._containsPoint(i)&&(c=r);c!==this._hoveredLayer&&(this._handleMouseOut(e),c&&(me(this._container,"leaflet-interactive"),this._fireEvent([c],e,"mouseover"),this._hoveredLayer=c)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,e),this._mouseHoverThrottled=!0,setTimeout(l(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(e,i,r){this._map._fireDOMEvent(i,r||i.type,e)},_bringToFront:function(e){var i=e._order;if(i){var r=i.next,c=i.prev;if(r)r.prev=c;else return;c?c.next=r:r&&(this._drawFirst=r),i.prev=this._drawLast,this._drawLast.next=i,i.next=null,this._drawLast=i,this._requestRedraw(e)}},_bringToBack:function(e){var i=e._order;if(i){var r=i.next,c=i.prev;if(c)c.next=r;else return;r?r.prev=c:c&&(this._drawLast=c),i.prev=null,i.next=this._drawFirst,this._drawFirst.prev=i,this._drawFirst=i,this._requestRedraw(e)}}});function Oa(e){return ne.canvas?new Ra(e):null}var oi=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch{}return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),rf={_initContainer:function(){this._container=Pe("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ft.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var i=e._container=oi("shape");me(i,"leaflet-vml-shape "+(this.options.className||"")),i.coordsize="1 1",e._path=oi("path"),i.appendChild(e._path),this._updateStyle(e),this._layers[f(e)]=e},_addPath:function(e){var i=e._container;this._container.appendChild(i),e.options.interactive&&e.addInteractiveTarget(i)},_removePath:function(e){var i=e._container;Be(i),e.removeInteractiveTarget(i),delete this._layers[f(e)]},_updateStyle:function(e){var i=e._stroke,r=e._fill,c=e.options,h=e._container;h.stroked=!!c.stroke,h.filled=!!c.fill,c.stroke?(i||(i=e._stroke=oi("stroke")),h.appendChild(i),i.weight=c.weight+"px",i.color=c.color,i.opacity=c.opacity,c.dashArray?i.dashStyle=T(c.dashArray)?c.dashArray.join(" "):c.dashArray.replace(/( *, *)/g," "):i.dashStyle="",i.endcap=c.lineCap.replace("butt","flat"),i.joinstyle=c.lineJoin):i&&(h.removeChild(i),e._stroke=null),c.fill?(r||(r=e._fill=oi("fill")),h.appendChild(r),r.color=c.fillColor||c.color,r.opacity=c.fillOpacity):r&&(h.removeChild(r),e._fill=null)},_updateCircle:function(e){var i=e._point.round(),r=Math.round(e._radius),c=Math.round(e._radiusY||r);this._setPath(e,e._empty()?"M0 0":"AL "+i.x+","+i.y+" "+r+","+c+" 0,"+65535*360)},_setPath:function(e,i){e._path.v=i},_bringToFront:function(e){An(e._container)},_bringToBack:function(e){Cn(e._container)}},Yi=ne.vml?oi:tt,ri=Ft.extend({_initContainer:function(){this._container=Yi("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Yi("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Be(this._container),Ne(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ft.prototype._update.call(this);var e=this._bounds,i=e.getSize(),r=this._container;(!this._svgSize||!this._svgSize.equals(i))&&(this._svgSize=i,r.setAttribute("width",i.x),r.setAttribute("height",i.y)),Je(r,e.min),r.setAttribute("viewBox",[e.min.x,e.min.y,i.x,i.y].join(" ")),this.fire("update")}},_initPath:function(e){var i=e._path=Yi("path");e.options.className&&me(i,e.options.className),e.options.interactive&&me(i,"leaflet-interactive"),this._updateStyle(e),this._layers[f(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){Be(e._path),e.removeInteractiveTarget(e._path),delete this._layers[f(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var i=e._path,r=e.options;i&&(r.stroke?(i.setAttribute("stroke",r.color),i.setAttribute("stroke-opacity",r.opacity),i.setAttribute("stroke-width",r.weight),i.setAttribute("stroke-linecap",r.lineCap),i.setAttribute("stroke-linejoin",r.lineJoin),r.dashArray?i.setAttribute("stroke-dasharray",r.dashArray):i.removeAttribute("stroke-dasharray"),r.dashOffset?i.setAttribute("stroke-dashoffset",r.dashOffset):i.removeAttribute("stroke-dashoffset")):i.setAttribute("stroke","none"),r.fill?(i.setAttribute("fill",r.fillColor||r.color),i.setAttribute("fill-opacity",r.fillOpacity),i.setAttribute("fill-rule",r.fillRule||"evenodd")):i.setAttribute("fill","none"))},_updatePoly:function(e,i){this._setPath(e,Re(e._parts,i))},_updateCircle:function(e){var i=e._point,r=Math.max(Math.round(e._radius),1),c=Math.max(Math.round(e._radiusY),1)||r,h="a"+r+","+c+" 0 1,0 ",_=e._empty()?"M0 0":"M"+(i.x-r)+","+i.y+h+r*2+",0 "+h+-r*2+",0 ";this._setPath(e,_)},_setPath:function(e,i){e._path.setAttribute("d",i)},_bringToFront:function(e){An(e._path)},_bringToBack:function(e){Cn(e._path)}});ne.vml&&ri.include(rf);function ja(e){return ne.svg||ne.vml?new ri(e):null}Te.include({getRenderer:function(e){var i=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return i||(i=this._renderer=this._createRenderer()),this.hasLayer(i)||this.addLayer(i),i},_getPaneRenderer:function(e){if(e==="overlayPane"||e===void 0)return!1;var i=this._paneRenderers[e];return i===void 0&&(i=this._createRenderer({pane:e}),this._paneRenderers[e]=i),i},_createRenderer:function(e){return this.options.preferCanvas&&Oa(e)||ja(e)}});var za=Mn.extend({initialize:function(e,i){Mn.prototype.initialize.call(this,this._boundsToLatLngs(e),i)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return e=G(e),[e.getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});function af(e,i){return new za(e,i)}ri.create=Yi,ri.pointsToPath=Re,Bt.geometryToLayer=Gi,Bt.coordsToLatLng=lo,Bt.coordsToLatLngs=Ji,Bt.latLngToCoords=co,Bt.latLngsToCoords=Ui,Bt.getFeature=Dn,Bt.asFeature=$i,Te.mergeOptions({boxZoom:!0});var Ba=Dt.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){he(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ne(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Be(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||e.which!==1&&e.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),qn(),Gs(),this._startPoint=this._map.mouseEventToContainerPoint(e),he(document,{contextmenu:un,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=Pe("div","leaflet-zoom-box",this._container),me(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var i=new I(this._point,this._startPoint),r=i.getSize();Je(this._box,i.min),this._box.style.width=r.x+"px",this._box.style.height=r.y+"px"},_finish:function(){this._moved&&(Be(this._box),He(this._container,"leaflet-crosshair")),Yn(),Js(),Ne(document,{contextmenu:un,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if(!(e.which!==1&&e.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(l(this._resetState,this),0);var i=new F(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(i).fire("boxzoomend",{boxZoomBounds:i})}},_onKeyDown:function(e){e.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Te.addInitHook("addHandler","boxZoom",Ba),Te.mergeOptions({doubleClickZoom:!0});var Fa=Dt.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var i=this._map,r=i.getZoom(),c=i.options.zoomDelta,h=e.originalEvent.shiftKey?r-c:r+c;i.options.doubleClickZoom==="center"?i.setZoom(h):i.setZoomAround(e.containerPoint,h)}});Te.addInitHook("addHandler","doubleClickZoom",Fa),Te.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Va=Dt.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new Kt(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}me(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){He(this._map._container,"leaflet-grab"),He(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var i=G(this._map.options.maxBounds);this._offsetLimit=le(this._map.latLngToContainerPoint(i.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(i.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var i=this._lastTime=+new Date,r=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(r),this._times.push(i),this._prunePositions(i)}this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){for(;this._positions.length>1&&e-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),i=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=i.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,i){return e-(e-i)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var e=this._draggable._newPos.subtract(this._draggable._startPos),i=this._offsetLimit;e.x<i.min.x&&(e.x=this._viscousLimit(e.x,i.min.x)),e.y<i.min.y&&(e.y=this._viscousLimit(e.y,i.min.y)),e.x>i.max.x&&(e.x=this._viscousLimit(e.x,i.max.x)),e.y>i.max.y&&(e.y=this._viscousLimit(e.y,i.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,i=Math.round(e/2),r=this._initialWorldOffset,c=this._draggable._newPos.x,h=(c-i+r)%e+i-r,_=(c+i+r)%e-i-r,w=Math.abs(h+r)<Math.abs(_+r)?h:_;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=w},_onDragEnd:function(e){var i=this._map,r=i.options,c=!r.inertia||e.noInertia||this._times.length<2;if(i.fire("dragend",e),c)i.fire("moveend");else{this._prunePositions(+new Date);var h=this._lastPos.subtract(this._positions[0]),_=(this._lastTime-this._times[0])/1e3,w=r.easeLinearity,P=h.multiplyBy(w/_),D=P.distanceTo([0,0]),B=Math.min(r.inertiaMaxSpeed,D),q=P.multiplyBy(B/D),se=B/(r.inertiaDeceleration*w),_e=q.multiplyBy(-se/2).round();!_e.x&&!_e.y?i.fire("moveend"):(_e=i._limitOffset(_e,i.options.maxBounds),K(function(){i.panBy(_e,{duration:se,easeLinearity:w,noMoveStart:!0,animate:!0})}))}}});Te.addInitHook("addHandler","dragging",Va),Te.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Za=Dt.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),he(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ne(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,i=document.documentElement,r=e.scrollTop||i.scrollTop,c=e.scrollLeft||i.scrollLeft;this._map._container.focus(),window.scrollTo(c,r)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var i=this._panKeys={},r=this.keyCodes,c,h;for(c=0,h=r.left.length;c<h;c++)i[r.left[c]]=[-1*e,0];for(c=0,h=r.right.length;c<h;c++)i[r.right[c]]=[e,0];for(c=0,h=r.down.length;c<h;c++)i[r.down[c]]=[0,e];for(c=0,h=r.up.length;c<h;c++)i[r.up[c]]=[0,-1*e]},_setZoomDelta:function(e){var i=this._zoomKeys={},r=this.keyCodes,c,h;for(c=0,h=r.zoomIn.length;c<h;c++)i[r.zoomIn[c]]=e;for(c=0,h=r.zoomOut.length;c<h;c++)i[r.zoomOut[c]]=-e},_addHooks:function(){he(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ne(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var i=e.keyCode,r=this._map,c;if(i in this._panKeys){if(!r._panAnim||!r._panAnim._inProgress)if(c=this._panKeys[i],e.shiftKey&&(c=Q(c).multiplyBy(3)),r.options.maxBounds&&(c=r._limitOffset(Q(c),r.options.maxBounds)),r.options.worldCopyJump){var h=r.wrapLatLng(r.unproject(r.project(r.getCenter()).add(c)));r.panTo(h)}else r.panBy(c)}else if(i in this._zoomKeys)r.setZoom(r.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[i]);else if(i===27&&r._popup&&r._popup.options.closeOnEscapeKey)r.closePopup();else return;un(e)}}});Te.addInitHook("addHandler","keyboard",Za),Te.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Wa=Dt.extend({addHooks:function(){he(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ne(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var i=fa(e),r=this._map.options.wheelDebounceTime;this._delta+=i,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var c=Math.max(r-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(l(this._performZoom,this),c),un(e)},_performZoom:function(){var e=this._map,i=e.getZoom(),r=this._map.options.zoomSnap||0;e._stop();var c=this._delta/(this._map.options.wheelPxPerZoomLevel*4),h=4*Math.log(2/(1+Math.exp(-Math.abs(c))))/Math.LN2,_=r?Math.ceil(h/r)*r:h,w=e._limitZoom(i+(this._delta>0?_:-_))-i;this._delta=0,this._startTime=null,w&&(e.options.scrollWheelZoom==="center"?e.setZoom(i+w):e.setZoomAround(this._lastMousePos,i+w))}});Te.addInitHook("addHandler","scrollWheelZoom",Wa);var lf=600;Te.mergeOptions({tapHold:ne.touchNative&&ne.safari&&ne.mobile,tapTolerance:15});var Ha=Dt.extend({addHooks:function(){he(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ne(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(clearTimeout(this._holdTimeout),e.touches.length===1){var i=e.touches[0];this._startPos=this._newPos=new $(i.clientX,i.clientY),this._holdTimeout=setTimeout(l(function(){this._cancel(),this._isTapValid()&&(he(document,"touchend",Ye),he(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",i))},this),lf),he(document,"touchend touchcancel contextmenu",this._cancel,this),he(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function e(){Ne(document,"touchend",Ye),Ne(document,"touchend touchcancel",e)},_cancel:function(){clearTimeout(this._holdTimeout),Ne(document,"touchend touchcancel contextmenu",this._cancel,this),Ne(document,"touchmove",this._onMove,this)},_onMove:function(e){var i=e.touches[0];this._newPos=new $(i.clientX,i.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(e,i){var r=new MouseEvent(e,{bubbles:!0,cancelable:!0,view:window,screenX:i.screenX,screenY:i.screenY,clientX:i.clientX,clientY:i.clientY});r._simulated=!0,i.target.dispatchEvent(r)}});Te.addInitHook("addHandler","tapHold",Ha),Te.mergeOptions({touchZoom:ne.touch,bounceAtZoomLimits:!0});var Ga=Dt.extend({addHooks:function(){me(this._map._container,"leaflet-touch-zoom"),he(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){He(this._map._container,"leaflet-touch-zoom"),Ne(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var i=this._map;if(!(!e.touches||e.touches.length!==2||i._animatingZoom||this._zooming)){var r=i.mouseEventToContainerPoint(e.touches[0]),c=i.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=i.getSize()._divideBy(2),this._startLatLng=i.containerPointToLatLng(this._centerPoint),i.options.touchZoom!=="center"&&(this._pinchStartLatLng=i.containerPointToLatLng(r.add(c)._divideBy(2))),this._startDist=r.distanceTo(c),this._startZoom=i.getZoom(),this._moved=!1,this._zooming=!0,i._stop(),he(document,"touchmove",this._onTouchMove,this),he(document,"touchend touchcancel",this._onTouchEnd,this),Ye(e)}},_onTouchMove:function(e){if(!(!e.touches||e.touches.length!==2||!this._zooming)){var i=this._map,r=i.mouseEventToContainerPoint(e.touches[0]),c=i.mouseEventToContainerPoint(e.touches[1]),h=r.distanceTo(c)/this._startDist;if(this._zoom=i.getScaleZoom(h,this._startZoom),!i.options.bounceAtZoomLimits&&(this._zoom<i.getMinZoom()&&h<1||this._zoom>i.getMaxZoom()&&h>1)&&(this._zoom=i._limitZoom(this._zoom)),i.options.touchZoom==="center"){if(this._center=this._startLatLng,h===1)return}else{var _=r._add(c)._divideBy(2)._subtract(this._centerPoint);if(h===1&&_.x===0&&_.y===0)return;this._center=i.unproject(i.project(this._pinchStartLatLng,this._zoom).subtract(_),this._zoom)}this._moved||(i._moveStart(!0,!1),this._moved=!0),U(this._animRequest);var w=l(i._move,i,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=K(w,this,!0),Ye(e)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,U(this._animRequest),Ne(document,"touchmove",this._onTouchMove,this),Ne(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Te.addInitHook("addHandler","touchZoom",Ga),Te.BoxZoom=Ba,Te.DoubleClickZoom=Fa,Te.Drag=Va,Te.Keyboard=Za,Te.ScrollWheelZoom=Wa,Te.TapHold=Ha,Te.TouchZoom=Ga,s.Bounds=I,s.Browser=ne,s.CRS=X,s.Canvas=Ra,s.Circle=ao,s.CircleMarker=Hi,s.Class=ie,s.Control=vt,s.DivIcon=Ea,s.DivOverlay=Lt,s.DomEvent=Ah,s.DomUtil=Sh,s.Draggable=Kt,s.Evented=ue,s.FeatureGroup=jt,s.GeoJSON=Bt,s.GridLayer=si,s.Handler=Dt,s.Icon=kn,s.ImageOverlay=Ki,s.LatLng=H,s.LatLngBounds=F,s.Layer=_t,s.LayerGroup=Pn,s.LineUtil=zh,s.Map=Te,s.Marker=Wi,s.Mixin=Eh,s.Path=Xt,s.Point=$,s.PolyUtil=Nh,s.Polygon=Mn,s.Polyline=zt,s.Popup=Xi,s.PosAnimation=ma,s.Projection=Bh,s.Rectangle=za,s.Renderer=Ft,s.SVG=ri,s.SVGOverlay=La,s.TileLayer=Ln,s.Tooltip=qi,s.Transformation=ke,s.Util=ge,s.VideoOverlay=Da,s.bind=l,s.bounds=le,s.canvas=Oa,s.circle=Uh,s.circleMarker=Jh,s.control=ti,s.divIcon=nf,s.extend=a,s.featureGroup=Wh,s.geoJSON=Ma,s.geoJson=Xh,s.gridLayer=sf,s.icon=Hh,s.imageOverlay=qh,s.latLng=Z,s.latLngBounds=G,s.layerGroup=Zh,s.map=Ch,s.marker=Gh,s.point=Q,s.polygon=Kh,s.polyline=$h,s.popup=ef,s.rectangle=af,s.setOptions=S,s.stamp=f,s.svg=ja,s.svgOverlay=Qh,s.tileLayer=Na,s.tooltip=tf,s.transformation=Ve,s.version=o,s.videoOverlay=Yh;var cf=window.L;s.noConflict=function(){return window.L=cf,this},window.L=s})}(di,di.exports)),di.exports}var Ii=Q0();const nr=_f(Ii);function Gr(t,n,s){return Object.freeze({instance:t,context:n,container:s})}function Jr(t,n){return n==null?function(o,a){const u=x.useRef(void 0);return u.current||(u.current=t(o,a)),u}:function(o,a){const u=x.useRef(void 0);u.current||(u.current=t(o,a));const l=x.useRef(o),{instance:d}=u.current;return x.useEffect(function(){l.current!==o&&(n(d,o,l.current),l.current=o)},[d,o,n]),u}}function ev(t,n){x.useEffect(function(){return(n.layerContainer??n.map).addLayer(t.instance),function(){var u;(u=n.layerContainer)==null||u.removeLayer(t.instance),n.map.removeLayer(t.instance)}},[n,t])}function Ed(t){return function(s){const o=Wr(),a=t(Hr(s,o),o);return Dd(o.map,s.attribution),Ld(a.current,s.eventHandlers),ev(a.current,o),a}}function tv(t,n){const s=Jr(t,n),o=Ed(s);return $0(o)}function nv(t,n){const s=Jr(t),o=q0(s,n);return K0(o)}function iv(t,n){const s=Jr(t,n),o=Ed(s);return X0(o)}function sv(t,n,s){const{opacity:o,zIndex:a}=n;o!=null&&o!==s.opacity&&t.setOpacity(o),a!=null&&a!==s.zIndex&&t.setZIndex(a)}function Ur(){return Wr().map}function ov(t){const n=Ur();return x.useEffect(function(){return n.on(t),function(){n.off(t)}},[n,t]),n}function rv({bounds:t,boundsOptions:n,center:s,children:o,className:a,id:u,placeholder:l,style:d,whenReady:f,zoom:g,...p},v){const[y]=x.useState({className:a,id:u,style:d}),[b,A]=x.useState(null),S=x.useRef(void 0);x.useImperativeHandle(v,()=>(b==null?void 0:b.map)??null,[b]);const M=x.useCallback(R=>{if(R!==null&&!S.current){const T=new Ii.Map(R,p);S.current=T,s!=null&&g!=null?T.setView(s,g):t!=null&&T.fitBounds(t,n),f!=null&&T.whenReady(f),A(J0(T))}},[]);x.useEffect(()=>()=>{b==null||b.map.remove()},[b]);const C=b?Ht.createElement(Zr,{value:b},o):l??null;return Ht.createElement("div",{...y,ref:M},C)}const av=x.forwardRef(rv),hc=tv(function({position:n,...s},o){const a=new Ii.Marker(n,s);return Gr(a,U0(o,{overlayContainer:a}))},function(n,s,o){s.position!==o.position&&n.setLatLng(s.position),s.icon!=null&&s.icon!==o.icon&&n.setIcon(s.icon),s.zIndexOffset!=null&&s.zIndexOffset!==o.zIndexOffset&&n.setZIndexOffset(s.zIndexOffset),s.opacity!=null&&s.opacity!==o.opacity&&n.setOpacity(s.opacity),n.dragging!=null&&s.draggable!==o.draggable&&(s.draggable===!0?n.dragging.enable():n.dragging.disable())}),fc=nv(function(n,s){const o=new Ii.Popup(n,s.overlayContainer);return Gr(o,s)},function(n,s,{position:o},a){x.useEffect(function(){const{instance:l}=n;function d(g){g.popup===l&&(l.update(),a(!0))}function f(g){g.popup===l&&a(!1)}return s.map.on({popupopen:d,popupclose:f}),s.overlayContainer==null?(o!=null&&l.setLatLng(o),l.openOn(s.map)):s.overlayContainer.bindPopup(l),function(){var p;s.map.off({popupopen:d,popupclose:f}),(p=s.overlayContainer)==null||p.unbindPopup(),s.map.removeLayer(l)}},[n,s,a,o])}),lv=iv(function({url:n,...s},o){const a=new Ii.TileLayer(n,Hr(s,o));return Gr(a,o)},function(n,s,o){sv(n,s,o);const{url:a}=s;a!=null&&a!==o.url&&n.setUrl(a)});function cv(){const t=Ur();return x.useEffect(()=>{const n=t.getContainer(),s=new ResizeObserver(()=>{t.invalidateSize({animate:!1})});return s.observe(n),()=>s.disconnect()},[t]),null}function uv({onMapDragStart:t,onMapDragEnd:n}){return ov({dragstart(){t()},dragend(){n()},mousedown(){t()},mouseup(){n()}}),null}function dv({selectedTask:t,selectedTasks:n,selectedResource:s,selectedResources:o,shouldZoom:a}){const u=Ur(),l=Ht.useRef("");return x.useEffect(()=>{if(!a)return;const d=n.length?n:t?[t]:[],f=o.length?o:s?[s]:[],g=[...d.filter(y=>y.lat&&y.lng),...f.filter(y=>y.homeLat&&y.homeLng)];if(!g.length)return;const p=g.map(y=>y.taskId?y.taskId:y.resourceId).join(",");if(p===l.current)return;if(l.current=p,g.length===1){const y=g[0];u.setView([Number(y.lat??y.homeLat),Number(y.lng??y.homeLng)],15,{animate:!1});return}const v=nr.latLngBounds(g.map(y=>[Number(y.lat??y.homeLat),Number(y.lng??y.homeLng)]));u.fitBounds(v,{padding:[60,60],animate:!1})},[t,n,s,o,a,u]),null}function hv({tasks:t,resources:n,selectedTask:s,selectedTasks:o,selectedResource:a,selectedResources:u,shouldZoom:l,handleTaskMapClick:d,handleResourceMapClick:f,notifyMapDragStart:g,notifyMapDragEnd:p}){const v=x.useMemo(()=>t.filter(S=>S.lat&&S.lng),[t]),y=x.useMemo(()=>n.filter(S=>S.homeLat&&S.homeLng),[n]),b=new Set(o.map(S=>S.taskId)),A=new Set(u.map(S=>S.resourceId));return m.jsx("div",{className:"bg-white border h-full rounded-lg shadow-sm p-4 flex flex-col",children:m.jsx("div",{className:"flex-1 rounded overflow-hidden relative",children:m.jsxs(av,{center:[51.713,-3.449],zoom:12,style:{width:"100%",height:"100%"},children:[m.jsx(cv,{}),m.jsx(uv,{onMapDragStart:g,onMapDragEnd:p}),m.jsx(dv,{selectedTask:s,selectedTasks:o,selectedResource:a,selectedResources:u,shouldZoom:l}),m.jsx(lv,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),v.map(S=>{const M=!!(b.has(S.taskId)||s&&s.taskId===S.taskId),C=nr.divIcon({className:"custom-pin",iconSize:[36,50],iconAnchor:[18,46],html:kd(Ad[S.commitmentType]??"#6B7280",M)});return m.jsx(hc,{position:[S.lat,S.lng],icon:C,eventHandlers:{click:R=>{var k,E;const T=((k=R.originalEvent)==null?void 0:k.ctrlKey)||((E=R.originalEvent)==null?void 0:E.metaKey)||!1;d(S,T)}},children:m.jsxs(fc,{children:[m.jsx("b",{children:S.taskId}),m.jsx("br",{}),S.customerAddress]})},S.taskId)}),y.map(S=>{const M=!!(A.has(S.resourceId)||a&&a.resourceId===S.resourceId),C=nr.divIcon({className:"custom-pin",iconSize:[36,50],iconAnchor:[18,46],html:Md(S.status,M)});return m.jsx(hc,{position:[S.homeLat,S.homeLng],icon:C,eventHandlers:{click:R=>{var k,E;const T=((k=R.originalEvent)==null?void 0:k.ctrlKey)||((E=R.originalEvent)==null?void 0:E.metaKey)||!1;f(S,T)}},children:m.jsxs(fc,{children:[m.jsx("b",{children:S.name}),m.jsx("br",{}),S.homePostCode,m.jsx("br",{}),"Status: ",S.status]})},S.resourceId)})]})})})}function fv({visible:t,x:n,y:s,selectedRows:o,clickedColumnKey:a,clickedRow:u,onClose:l,onOpenPopout:d,onOpenCalloutIncident:f,mouseScreenX:g,mouseScreenY:p}){if(!t)return null;const v=o.length,y=v>1?`Open Viewer (${v})`:"Open Viewer",b=()=>{if(o!=null&&o.length){try{d(o,g,p)}catch(k){console.error("ContextMenu  onOpenPopout error:",k)}l()}},A=async()=>{if(!u||!a)return;const k=u[a],E=k==null?"":String(k);try{await navigator.clipboard.writeText(E)}catch(z){console.error("Clipboard write error:",z)}l()},S=u&&a?String(u[a]??""):"",M=()=>{if(u){try{f(u)}catch(k){console.error("ContextMenu  onOpenCalloutIncident error:",k)}l()}},C=(u==null?void 0:u.taskId)??(u==null?void 0:u.TaskID)??(u==null?void 0:u.TaskId)??(u==null?void 0:u.id)??null,R=C?`Callout Incident: ${C}`:"Callout Incident",T=m.jsx(wt,{children:t&&m.jsxs(et.ul,{initial:{opacity:0,scale:.96},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.96},transition:{duration:.12},style:{position:"fixed",top:p,left:g,minWidth:"min(90vw,340px)",zIndex:99999},className:"rounded-xl border border-gray-200 bg-white shadow-xl backdrop-blur-md text-sm text-gray-800 py-1 overflow-hidden",onMouseDown:k=>k.stopPropagation(),children:[m.jsxs("li",{onClick:b,className:`px-4 py-2.5 flex items-center gap-3 cursor-pointer 
                       hover:bg-gray-50 transition-all`,children:[m.jsx(gd,{size:15,className:"text-gray-700"}),m.jsx("span",{className:"font-medium text-gray-800",children:y})]}),a&&u&&m.jsxs("li",{onClick:A,className:`px-4 py-2.5 flex items-center gap-3 cursor-pointer 
                         hover:bg-gray-50 transition-all`,children:[m.jsx(pd,{size:15,className:"text-gray-700"}),m.jsxs("span",{className:"text-gray-800",children:["Copy value:"," ",m.jsx("span",{className:"font-semibold",children:S})]})]}),u&&m.jsxs("li",{onClick:M,className:`px-4 py-2.5 flex items-center gap-3 cursor-pointer 
                       hover:bg-red-50 transition-all text-red-700`,children:[m.jsx(Ds,{size:15,className:"text-red-600"}),m.jsx("span",{className:"font-semibold",children:R})]})]})});try{return Vr.createPortal(T,document.body)}catch{return T}}const mc=70,mv=220;function pc(t){var n;if(t==null)return"string";if(typeof t=="number")return"number";if(typeof t=="string"){const s=Number(((n=t.replace)==null?void 0:n.call(t,/[, ]/g,""))??t);if(!Number.isNaN(s)&&t.trim()!=="")return"number";const o=new Date(t);return!Number.isNaN(o.getTime())&&/\d/.test(t)?"date":"string"}return t instanceof Date?"date":"string"}function pv(t,n,s){const o=pc(t),a=pc(n);let u=0;if(o==="number"&&a==="number"){const l=typeof t=="number"?t:Number(String(t).replace(/[, ]/g,"")),d=typeof n=="number"?n:Number(String(n).replace(/[, ]/g,""));u=l-d}else if(o==="date"&&a==="date"){const l=t instanceof Date?t.getTime():new Date(t).getTime(),d=n instanceof Date?n.getTime():new Date(n).getTime();u=l-d}else u=String(t??"").localeCompare(String(n??""),void 0,{sensitivity:"base",numeric:!0});return s==="asc"?u:-u}function gv(t){return t===null?"asc":t==="asc"?"desc":null}function $r({rows:t,headerNames:n,className:s="",tableHeight:o,onOpenTask:a,onOpenMultiple:u,clearSelectionTrigger:l,onOpenPopout:d,onOpenCalloutIncident:f,onSelectionChange:g,rowIdKey:p,controlledSelectedRowIds:v}){const[y,b]=x.useState(null),[A,S]=x.useState(null),M=x.useMemo(()=>Object.keys(n),[n]),[C,R]=x.useState(M),[T,k]=x.useState({}),[E,z]=x.useState(!1),O=x.useRef(null),V=x.useRef(0),Y=x.useRef(0),[ee,K]=x.useState(null),[U,ge]=x.useState(null),[ie,de]=x.useState(new Set),[ae,ue]=x.useState(null),$=x.useRef(!1),[Ce,Q]=x.useState({x:0,y:0,visible:!1,clickedRow:null,clickedColumnKey:null}),[I,le]=x.useState({x:0,y:0,visible:!1,key:null}),F=x.useRef(null),G=x.useRef(null),[H,Z]=x.useState(0),[X,te]=x.useState(0),[oe,we]=x.useState(1),[ke,Ve]=x.useState(100),xe=Math.max(1,Math.ceil(t.length/ke)),Me=x.useCallback(()=>{de(new Set),ue(null)},[]);x.useEffect(()=>{R(M)},[M]),x.useEffect(()=>{oe>xe&&we(xe)},[oe,xe]),x.useEffect(()=>{if(!t.length||!C.length){z(!0);return}const J=document.createElement("canvas").getContext("2d");if(!J)return;J.font="12px Inter, sans-serif";const ce={};for(const fe of C){const ve=J.measureText(n[fe]??fe).width,Ae=t.slice(0,10).map(be=>J.measureText(String(be[fe]??"")).width).reduce((be,Ke)=>Math.max(be,Ke),0);ce[fe]=Math.min(Math.max(ve,Ae)+mc,380)}k(ce),setTimeout(()=>z(!0),120)},[t,n,C]);const tt=x.useMemo(()=>t.length?!y||!A?t:[...t].sort((j,J)=>pv(j[y],J[y],A)):[],[t,y,A]),Re=x.useMemo(()=>{const j=(oe-1)*ke;return tt.slice(j,j+ke)},[tt,oe,ke]);x.useEffect(()=>{if($.current){console.log(" TABLE: User selecting manually  ignore controlled update");return}if(!v||!p){console.log(" TABLE: No controlled selection (map  table) triggered");return}console.log(" TABLE: Controlled selection received:",Array.from(v));const j=new Set;Re.forEach((J,ce)=>{const fe=String(J[p]);v.has(fe)&&(console.log(" TABLE: Match found on page index:",ce,"id:",fe),j.add(ce))}),console.log(" TABLE: Final row set:",Array.from(j)),de(j)},[v,Re,p]),x.useEffect(()=>{const j=setTimeout(()=>{$.current=!1},50);return()=>clearTimeout(j)},[ie]),x.useEffect(()=>{const j=ce=>{if(!O.current)return;const fe=O.current,ve=ce.clientX-V.current;k(Ae=>({...Ae,[fe]:Math.max(80,Y.current+ve)}))},J=()=>{O.current=null,document.body.style.cursor="default"};return window.addEventListener("mousemove",j),window.addEventListener("mouseup",J),()=>{window.removeEventListener("mousemove",j),window.removeEventListener("mouseup",J)}},[]);const lt=(j,J)=>{J.preventDefault(),J.stopPropagation(),O.current=j,V.current=J.clientX,Y.current=T[j]??180,document.body.style.cursor="col-resize"},Ie=j=>{const ce=document.createElement("canvas").getContext("2d");if(!ce)return;ce.font="12px Inter, sans-serif";const fe=ce.measureText(n[j]??j).width,ve=t.map(be=>ce.measureText(String(be[j]??"")).width).reduce((be,Ke)=>Math.max(be,Ke),0),Ae=Math.min(Math.max(fe,ve)+mc,420);k(be=>({...be,[j]:Ae}))},St=(j,J)=>{K(j),ge(null),J.dataTransfer.effectAllowed="move"},Tt=(j,J)=>{J.preventDefault(),ee&&ee!==j&&ge(j)},nt=(j,J)=>{if(J.preventDefault(),!ee||ee===j){K(null),ge(null);return}R(ce=>{const fe=ce.indexOf(ee),ve=ce.indexOf(j);if(fe===-1||ve===-1)return ce;const Ae=[...ce],[be]=Ae.splice(fe,1);return Ae.splice(ve,0,be),Ae}),K(null),ge(null)},ct=()=>{K(null),ge(null)},At=(j,J)=>{J.preventDefault(),J.stopPropagation();const ce=J.currentTarget.closest("th");if(!ce)return;const fe=F.current;if(!fe)return;const ve=fe.querySelector(".table-scroll-wrapper");if(!ve)return;const Ae=fe.getBoundingClientRect(),be=ve.getBoundingClientRect(),Ke=ce.getBoundingClientRect(),Rt=be.left-Ae.left+be.width/2-mv/2,Ot=Ke.bottom-Ae.top+6;le({visible:!0,key:j,x:Rt,y:Ot})},Ct=x.useCallback(()=>{le(j=>({...j,visible:!1,key:null}))},[]),$t=j=>{R(J=>{const ce=J.includes(j);if(ce&&J.length===1)return J;if(ce){const fe=J.filter(ve=>ve!==j);return y===j&&(b(null),S(null)),fe}else{const fe=[...J],ve=M.indexOf(j);if(ve===-1)return fe;let Ae=fe.length;for(let be=0;be<fe.length;be++)if(M.indexOf(fe[be])>ve){Ae=be;break}return fe.splice(Ae,0,j),fe}})},Pt=()=>{R(M)},N=()=>{R(M),b(null),S(null),k({})},W=(j,J)=>{j.preventDefault(),j.stopPropagation();const ce=F.current;if(!ce)return;const fe=ce.getBoundingClientRect(),ve=j.clientX-fe.left,Ae=j.clientY-fe.top;Z(j.clientX),te(j.clientY);let be=null;const Ke=j.target,Rt=Ke==null?void 0:Ke.closest("td");if(Rt){const rn=Rt.getAttribute("data-colkey");rn&&(be=rn)}const Ot=Re[J]??null;Q({x:ve,y:Ae,visible:!0,clickedRow:Ot,clickedColumnKey:be}),de(rn=>rn.has(J)?rn:new Set([J]))},ye=x.useCallback(()=>{Q(j=>({...j,visible:!1,clickedRow:null,clickedColumnKey:null}))},[]);x.useEffect(()=>{l!==void 0&&Me()},[l,Me]),x.useEffect(()=>{Me()},[t,Me]),x.useEffect(()=>{Me()},[y,A,Me]),x.useEffect(()=>{Me()},[oe,ke,Me]),x.useEffect(()=>{Me()},[C,Me]),x.useEffect(()=>{const j=ce=>{ce.key==="Escape"&&(ye(),Ct())},J=ce=>{var ve;const fe=ce.target;if(I.visible){const Ae=(ve=G.current)==null?void 0:ve.contains(fe),be=fe.closest(".column-dots-button");!Ae&&!be&&Ct()}if(Ce.visible){const Ae=document.querySelector(".task-context-menu");if(((Ae==null?void 0:Ae.contains(fe))??!1)||ce.button===2)return;ye()}if(F.current&&!F.current.contains(fe)){const Ae=fe.closest("[data-table]"),be=fe.closest(`[data-table="${p}"]`);if(Ae&&!be)return;Me()}};return window.addEventListener("keydown",j),window.addEventListener("mousedown",J),()=>{window.removeEventListener("keydown",j),window.removeEventListener("mousedown",J)}},[Ce.visible,I.visible,ye,Ct,Me]);const Se=o??"calc(100vh - 600px)",Le=E?1:0,Oe=I.visible?"blur-[1.5px] pointer-events-none":"",je=Array.from(ie).map(j=>{const J=(oe-1)*ke+j;return tt[J]}).filter(Boolean);x.useEffect(()=>{$.current&&g&&g(je)},[je,g]);const Xe=Ce.clickedRow??null;return m.jsxs("div",{ref:F,"data-table":p,className:`w-full flex flex-col border border-gray-200 rounded-2xl shadow-md bg-white/80 backdrop-blur-sm overflow-hidden relative ${s}`,onClick:j=>j.stopPropagation(),children:[m.jsx("div",{className:`flex-grow overflow-auto table-scroll-wrapper transition-[filter] duration-150 ${Oe}`,style:{height:Se,minHeight:Se,maxHeight:Se},children:m.jsxs("table",{role:"grid",className:"select-none w-auto text-xs text-left text-gray-800 border-separate",style:{tableLayout:"fixed",width:"100%",borderSpacing:0,opacity:Le,transition:"opacity 0.25s ease-in-out"},children:[m.jsx("thead",{className:"bg-gray-100 text-gray-900 font-semibold sticky top-0 z-10 select-none border-b border-gray-200",children:m.jsx("tr",{children:C.map(j=>m.jsxs("th",{"aria-sort":y===j?A==="asc"?"ascending":"descending":"none",style:{width:`${T[j]??180}px`},className:`relative px-1 py-2 whitespace-nowrap select-none border-r border-gray-200 last:border-r-0 ${U===j?"bg-[#0A4A7A]/10":""}`,children:[m.jsxs("button",{type:"button",draggable:!0,onDragStart:J=>St(j,J),onDragOver:J=>Tt(j,J),onDrop:J=>nt(j,J),onDragEnd:ct,onClick:()=>{if(y!==j)b(j),S("asc");else{const J=gv(A);S(J),J===null&&b(null)}},className:"w-full flex items-center justify-between gap-2 text-left cursor-pointer",children:[m.jsx("span",{className:"truncate px-2",children:n[j]??j}),m.jsx("span",{className:"text-[9px] text-gray-500 pr-[14px]",children:y===j?A==="asc"?"":"":""})]}),m.jsxs("div",{className:"absolute top-0 right-0 h-full w-[12px] flex items-center justify-center",children:[m.jsxs("button",{type:"button",onClick:J=>At(j,J),className:"column-dots-button h-[18px] w-[10px] flex flex-col items-center justify-center cursor-pointer",children:[m.jsx("span",{className:"w-[2px] h-[2px] rounded-full bg-black mb-[1px]"}),m.jsx("span",{className:"w-[2px] h-[2px] rounded-full bg-black mb-[1px]"}),m.jsx("span",{className:"w-[2px] h-[2px] rounded-full bg-black"})]}),m.jsx("div",{onMouseDown:J=>lt(j,J),onDoubleClick:()=>Ie(j),className:"absolute right-0 top-0 h-full w-[3px] cursor-col-resize"})]})]},j))})}),m.jsx("tbody",{children:Re.length===0?m.jsx("tr",{children:m.jsx("td",{colSpan:C.length||1,className:"px-3 py-6 text-center text-gray-500",children:"No tasks loaded Please Search."})}):Re.map((j,J)=>{const ce=(oe-1)*ke+J,fe=ie.has(J);return x.createElement("tr",{"data-row-index":ce,...p?{"data-row-id":j[p]}:{},key:J,onContextMenu:ve=>W(ve,J),onDoubleClick:ve=>{if(ve.stopPropagation(),d){const Ae=ve.screenX,be=ve.screenY;d([Re[J]],Ae,be)}},onClick:ve=>{if($.current=!0,ve.preventDefault(),ve.shiftKey&&ae!==null){const be=Math.min(ae,J),Ke=Math.max(ae,J),Rt=new Set;for(let Ot=be;Ot<=Ke;Ot++)Rt.add(Ot);de(Rt);return}if(ve.ctrlKey||ve.metaKey){de(be=>{const Ke=new Set(be);return Ke.has(J)?Ke.delete(J):Ke.add(J),Ke}),ue(J);return}de(new Set([J])),ue(J);const Ae=Re[J];g&&g([Ae]),a&&a(Ae)},className:`relative cursor-pointer border-b border-gray-100 ${fe?"bg-indigo-100/70 after:content-[''] after:absolute after:left-[1px] after:top-[1px] after:h-[calc(100%-2px)] after:w-[3px] after:bg-[#0A4A7A] after:rounded-sm":J%2===0?"bg-white":"bg-gray-50"}`},C.map(ve=>m.jsx("td",{"data-colkey":ve,className:"px-3 py-1.5 whitespace-nowrap overflow-hidden text-ellipsis border-r border-gray-100 last:border-r-0",children:String(j[ve]??"")},ve)))})})]})}),t.length>0&&m.jsxs("div",{className:"flex flex-wrap justify-between items-center border-t border-gray-200 bg-gray-50 text-xs text-gray-700 px-4 py-2 gap-3",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("span",{children:["Showing ",m.jsx("b",{children:(oe-1)*ke+1})," "," ",m.jsx("b",{children:Math.min(oe*ke,t.length)})," of"," ",m.jsx("b",{children:t.length})]}),m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("label",{htmlFor:"rowsPerPage",children:"Rows per page:"}),m.jsx("select",{id:"rowsPerPage",value:ke,onChange:j=>{Ve(Number(j.target.value)),we(1)},className:"border border-gray-300 rounded-md px-2 py-1 bg-white text-gray-800",children:[25,50,100,500].map(j=>m.jsx("option",{value:j,children:j},j))})]})]}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsxs("span",{children:["Page ",oe," of ",xe]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>we(j=>Math.max(1,j-1)),disabled:oe===1,className:"px-2 py-1 border rounded-md bg-white hover:bg-gray-100 disabled:opacity-50",children:"Prev"}),m.jsx("button",{onClick:()=>we(j=>Math.min(xe,j+1)),disabled:oe===xe,className:"px-2 py-1 border rounded-md bg-white hover:bg-gray-100 disabled:opacity-50",children:"Next"})]})]})]}),m.jsx(wt,{children:I.visible&&I.key&&m.jsxs(et.div,{ref:G,initial:{opacity:0,y:-4,scale:.97},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-4,scale:.97},transition:{duration:.15},style:{top:I.y,left:I.x,width:"clamp(160px,18vw,220px)"},className:"absolute z-[9999] rounded-lg border border-gray-200 bg-white shadow-xl text-xs text-gray-800 py-2",onClick:j=>j.stopPropagation(),children:[m.jsx("div",{className:"px-3 pb-1 text-[10px] font-semibold uppercase tracking-wide text-gray-500",children:"Header Settings"}),m.jsx("div",{className:"overflow-y-auto",style:{maxHeight:"calc(var(--vh, 1vh) * 35)"},children:M.map(j=>{const J=C.includes(j);return m.jsxs("label",{className:"flex items-center gap-2 px-3 py-1 hover:bg-gray-50 cursor-pointer",children:[m.jsx("input",{type:"checkbox",checked:J,onChange:()=>$t(j),className:"accent-[#0A4A7A]"}),m.jsx("span",{className:"truncate",children:n[j]??j})]},j)})}),m.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-200 flex items-center justify-between px-3 gap-2",children:[m.jsx("button",{type:"button",onClick:Pt,className:"px-2 py-1 rounded border border-gray-300 bg-white hover:bg-gray-100 text-[11px]",children:"Show All"}),m.jsx("button",{type:"button",onClick:N,className:"px-2 py-1 rounded bg-[#0A4A7A] text-white hover:bg-[#09385D] text-[11px]",children:"Reset Columns"})]})]})}),m.jsx(fv,{visible:Ce.visible,x:Ce.x,y:Ce.y,selectedRows:je,clickedColumnKey:Ce.clickedColumnKey,clickedRow:Xe,onClose:ye,mouseScreenX:H,mouseScreenY:X,onOpenPopout:(j,J,ce)=>{d&&d(j,J,ce)},onOpenCalloutIncident:j=>{f&&f(j)}})]})}const gc=["taskId","taskStatus","resourceName","commitmentType","postCode","customerAddress","taskType","primarySkill","importanceScore","taskCreated","appointmentStartDate"];function yv(t){return t.replace(/[_\-]+/g," ").replace(/([a-z0-9])([A-Z])/g,"$1 $2").replace(/\s+/g," ").trim().replace(/^./,n=>n.toUpperCase())}function vv({data:t,selectedTasks:n,onSelectionChange:s}){const o=x.useMemo(()=>{if(!t||t.length===0)return{};const u=new Set;t.forEach(f=>Object.keys(f).forEach(g=>u.add(g)));const l=[...gc.filter(f=>u.has(f)),...[...u].filter(f=>!gc.includes(f))],d={};return l.forEach(f=>d[f]=yv(f)),d},[t]),a=x.useMemo(()=>n!=null&&n.length?new Set(n.map(u=>String(u.taskId))):new Set,[n]);return!t||t.length===0?m.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-500 text-sm border border-gray-200 rounded-2xl bg-white",children:"No tasks loaded yet. Please define filters and press Search."}):m.jsx($r,{rows:t,headerNames:o,className:"h-full",tableHeight:"100%",rowIdKey:"taskId",controlledSelectedRowIds:a,onSelectionChange:u=>s(u)})}const yc=["resourceId","name","status","calloutGroup","primarySkill","availableAgainAt"];function _v(t){return t.replace(/[_\-]+/g," ").replace(/([a-z0-9])([A-Z])/g,"$1 $2").replace(/\s+/g," ").trim().replace(/^./,n=>n.toUpperCase())}function xv({data:t,selectedResources:n,onSelectionChange:s}){const o=x.useMemo(()=>{if(!(t!=null&&t.length))return{};const u=new Set;t.forEach(f=>Object.keys(f).forEach(g=>u.add(g)));const l=[...yc.filter(f=>u.has(f)),...[...u].filter(f=>!yc.includes(f))],d={};return l.forEach(f=>d[f]=_v(f)),d},[t]),a=x.useMemo(()=>new Set(n.map(u=>String(u.resourceId))),[n]);return!t||t.length===0?m.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-500 text-sm border border-gray-200 rounded-2xl bg-white",children:"No resources loaded. Please define filters and press Search."}):m.jsx($r,{rows:t,headerNames:o,className:"h-full",tableHeight:"100%",rowIdKey:"resourceId",controlledSelectedRowIds:a,onSelectionChange:u=>s(u)})}const Es=x.createContext(null);Es.displayName="PanelGroupContext";const We={group:"data-panel-group",groupDirection:"data-panel-group-direction",groupId:"data-panel-group-id",panel:"data-panel",panelCollapsible:"data-panel-collapsible",panelId:"data-panel-id",panelSize:"data-panel-size",resizeHandle:"data-resize-handle",resizeHandleActive:"data-resize-handle-active",resizeHandleEnabled:"data-panel-resize-handle-enabled",resizeHandleId:"data-panel-resize-handle-id",resizeHandleState:"data-resize-handle-state"},Kr=10,wn=x.useLayoutEffect,vc=xf.useId,bv=typeof vc=="function"?vc:()=>null;let wv=0;function Xr(t=null){const n=bv(),s=x.useRef(t||n||null);return s.current===null&&(s.current=""+wv++),t??s.current}function Nd({children:t,className:n="",collapsedSize:s,collapsible:o,defaultSize:a,forwardedRef:u,id:l,maxSize:d,minSize:f,onCollapse:g,onExpand:p,onResize:v,order:y,style:b,tagName:A="div",...S}){const M=x.useContext(Es);if(M===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:C,expandPanel:R,getPanelSize:T,getPanelStyle:k,groupId:E,isPanelCollapsed:z,reevaluatePanelConstraints:O,registerPanel:V,resizePanel:Y,unregisterPanel:ee}=M,K=Xr(l),U=x.useRef({callbacks:{onCollapse:g,onExpand:p,onResize:v},constraints:{collapsedSize:s,collapsible:o,defaultSize:a,maxSize:d,minSize:f},id:K,idIsFromProps:l!==void 0,order:y});x.useRef({didLogMissingDefaultSizeWarning:!1}),wn(()=>{const{callbacks:ie,constraints:de}=U.current,ae={...de};U.current.id=K,U.current.idIsFromProps=l!==void 0,U.current.order=y,ie.onCollapse=g,ie.onExpand=p,ie.onResize=v,de.collapsedSize=s,de.collapsible=o,de.defaultSize=a,de.maxSize=d,de.minSize=f,(ae.collapsedSize!==de.collapsedSize||ae.collapsible!==de.collapsible||ae.maxSize!==de.maxSize||ae.minSize!==de.minSize)&&O(U.current,ae)}),wn(()=>{const ie=U.current;return V(ie),()=>{ee(ie)}},[y,K,V,ee]),x.useImperativeHandle(u,()=>({collapse:()=>{C(U.current)},expand:ie=>{R(U.current,ie)},getId(){return K},getSize(){return T(U.current)},isCollapsed(){return z(U.current)},isExpanded(){return!z(U.current)},resize:ie=>{Y(U.current,ie)}}),[C,R,T,z,K,Y]);const ge=k(U.current,a);return x.createElement(A,{...S,children:t,className:n,id:K,style:{...ge,...b},[We.groupId]:E,[We.panel]:"",[We.panelCollapsible]:o||void 0,[We.panelId]:K,[We.panelSize]:parseFloat(""+ge.flexGrow).toFixed(1)})}const hi=x.forwardRef((t,n)=>x.createElement(Nd,{...t,forwardedRef:n}));Nd.displayName="Panel";hi.displayName="forwardRef(Panel)";let ir=null,hs=-1,Yt=null;function Sv(t,n,s){const o=(n&zd)!==0,a=(n&Bd)!==0,u=(n&Fd)!==0,l=(n&Vd)!==0;if(n){if(o)return u?"se-resize":l?"ne-resize":"e-resize";if(a)return u?"sw-resize":l?"nw-resize":"w-resize";if(u)return"s-resize";if(l)return"n-resize"}switch(t){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function Tv(){Yt!==null&&(document.head.removeChild(Yt),ir=null,Yt=null,hs=-1)}function ko(t,n,s){var o,a;const u=Sv(t,n);if(ir!==u){if(ir=u,Yt===null&&(Yt=document.createElement("style"),document.head.appendChild(Yt)),hs>=0){var l;(l=Yt.sheet)===null||l===void 0||l.removeRule(hs)}hs=(o=(a=Yt.sheet)===null||a===void 0?void 0:a.insertRule(`*{cursor: ${u} !important;}`))!==null&&o!==void 0?o:-1}}function Id(t){return t.type==="keydown"}function Rd(t){return t.type.startsWith("pointer")}function Od(t){return t.type.startsWith("mouse")}function Ns(t){if(Rd(t)){if(t.isPrimary)return{x:t.clientX,y:t.clientY}}else if(Od(t))return{x:t.clientX,y:t.clientY};return{x:1/0,y:1/0}}function Av(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function Cv(t,n,s){return t.x<n.x+n.width&&t.x+t.width>n.x&&t.y<n.y+n.height&&t.y+t.height>n.y}function Pv(t,n){if(t===n)throw new Error("Cannot compare node with itself");const s={a:bc(t),b:bc(n)};let o;for(;s.a.at(-1)===s.b.at(-1);)t=s.a.pop(),n=s.b.pop(),o=t;pe(o,"Stacking order can only be calculated for elements with a common ancestor");const a={a:xc(_c(s.a)),b:xc(_c(s.b))};if(a.a===a.b){const u=o.childNodes,l={a:s.a.at(-1),b:s.b.at(-1)};let d=u.length;for(;d--;){const f=u[d];if(f===l.a)return 1;if(f===l.b)return-1}}return Math.sign(a.a-a.b)}const kv=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function Mv(t){var n;const s=getComputedStyle((n=jd(t))!==null&&n!==void 0?n:t).display;return s==="flex"||s==="inline-flex"}function Dv(t){const n=getComputedStyle(t);return!!(n.position==="fixed"||n.zIndex!=="auto"&&(n.position!=="static"||Mv(t))||+n.opacity<1||"transform"in n&&n.transform!=="none"||"webkitTransform"in n&&n.webkitTransform!=="none"||"mixBlendMode"in n&&n.mixBlendMode!=="normal"||"filter"in n&&n.filter!=="none"||"webkitFilter"in n&&n.webkitFilter!=="none"||"isolation"in n&&n.isolation==="isolate"||kv.test(n.willChange)||n.webkitOverflowScrolling==="touch")}function _c(t){let n=t.length;for(;n--;){const s=t[n];if(pe(s,"Missing node"),Dv(s))return s}return null}function xc(t){return t&&Number(getComputedStyle(t).zIndex)||0}function bc(t){const n=[];for(;t;)n.push(t),t=jd(t);return n}function jd(t){const{parentNode:n}=t;return n&&n instanceof ShadowRoot?n.host:n}const zd=1,Bd=2,Fd=4,Vd=8,Lv=Av()==="coarse";let bt=[],Wn=!1,Qt=new Map,Is=new Map;const ki=new Set;function Ev(t,n,s,o,a){var u;const{ownerDocument:l}=n,d={direction:s,element:n,hitAreaMargins:o,setResizeHandlerState:a},f=(u=Qt.get(l))!==null&&u!==void 0?u:0;return Qt.set(l,f+1),ki.add(d),ws(),function(){var p;Is.delete(t),ki.delete(d);const v=(p=Qt.get(l))!==null&&p!==void 0?p:1;if(Qt.set(l,v-1),ws(),v===1&&Qt.delete(l),bt.includes(d)){const y=bt.indexOf(d);y>=0&&bt.splice(y,1),Rs(),a("up",!0,null)}}}function Nv(t){const{target:n}=t,{x:s,y:o}=Ns(t);Wn=!0,qr({target:n,x:s,y:o}),ws(),bt.length>0&&(Ss("down",t),Rs(),t.preventDefault(),Zd(n)||t.stopImmediatePropagation())}function Mo(t){const{x:n,y:s}=Ns(t);if(Wn&&t.type!=="pointerleave"&&t.buttons===0&&(Wn=!1,Ss("up",t)),!Wn){const{target:o}=t;qr({target:o,x:n,y:s})}Ss("move",t),Rs(),bt.length>0&&t.preventDefault()}function Do(t){const{target:n}=t,{x:s,y:o}=Ns(t);Is.clear(),Wn=!1,bt.length>0&&(t.preventDefault(),Zd(n)||t.stopImmediatePropagation()),Ss("up",t),qr({target:n,x:s,y:o}),Rs(),ws()}function Zd(t){let n=t;for(;n;){if(n.hasAttribute(We.resizeHandle))return!0;n=n.parentElement}return!1}function qr({target:t,x:n,y:s}){bt.splice(0);let o=null;(t instanceof HTMLElement||t instanceof SVGElement)&&(o=t),ki.forEach(a=>{const{element:u,hitAreaMargins:l}=a,d=u.getBoundingClientRect(),{bottom:f,left:g,right:p,top:v}=d,y=Lv?l.coarse:l.fine;if(n>=g-y&&n<=p+y&&s>=v-y&&s<=f+y){if(o!==null&&document.contains(o)&&u!==o&&!u.contains(o)&&!o.contains(u)&&Pv(o,u)>0){let A=o,S=!1;for(;A&&!A.contains(u);){if(Cv(A.getBoundingClientRect(),d)){S=!0;break}A=A.parentElement}if(S)return}bt.push(a)}})}function Lo(t,n){Is.set(t,n)}function Rs(){let t=!1,n=!1;bt.forEach(o=>{const{direction:a}=o;a==="horizontal"?t=!0:n=!0});let s=0;Is.forEach(o=>{s|=o}),t&&n?ko("intersection",s):t?ko("horizontal",s):n?ko("vertical",s):Tv()}let Eo;function ws(){var t;(t=Eo)===null||t===void 0||t.abort(),Eo=new AbortController;const n={capture:!0,signal:Eo.signal};ki.size&&(Wn?(bt.length>0&&Qt.forEach((s,o)=>{const{body:a}=o;s>0&&(a.addEventListener("contextmenu",Do,n),a.addEventListener("pointerleave",Mo,n),a.addEventListener("pointermove",Mo,n))}),Qt.forEach((s,o)=>{const{body:a}=o;a.addEventListener("pointerup",Do,n),a.addEventListener("pointercancel",Do,n)})):Qt.forEach((s,o)=>{const{body:a}=o;s>0&&(a.addEventListener("pointerdown",Nv,n),a.addEventListener("pointermove",Mo,n))}))}function Ss(t,n){ki.forEach(s=>{const{setResizeHandlerState:o}=s,a=bt.includes(s);o(t,a,n)})}function Iv(){const[t,n]=x.useState(0);return x.useCallback(()=>n(s=>s+1),[])}function pe(t,n){if(!t)throw console.error(n),Error(n)}function Sn(t,n,s=Kr){return t.toFixed(s)===n.toFixed(s)?0:t>n?1:-1}function Wt(t,n,s=Kr){return Sn(t,n,s)===0}function ut(t,n,s){return Sn(t,n,s)===0}function Rv(t,n,s){if(t.length!==n.length)return!1;for(let o=0;o<t.length;o++){const a=t[o],u=n[o];if(!ut(a,u,s))return!1}return!0}function Vn({panelConstraints:t,panelIndex:n,size:s}){const o=t[n];pe(o!=null,`Panel constraints not found for index ${n}`);let{collapsedSize:a=0,collapsible:u,maxSize:l=100,minSize:d=0}=o;if(Sn(s,d)<0)if(u){const f=(a+d)/2;Sn(s,f)<0?s=a:s=d}else s=d;return s=Math.min(l,s),s=parseFloat(s.toFixed(Kr)),s}function fi({delta:t,initialLayout:n,panelConstraints:s,pivotIndices:o,prevLayout:a,trigger:u}){if(ut(t,0))return n;const l=[...n],[d,f]=o;pe(d!=null,"Invalid first pivot index"),pe(f!=null,"Invalid second pivot index");let g=0;if(u==="keyboard"){{const v=t<0?f:d,y=s[v];pe(y,`Panel constraints not found for index ${v}`);const{collapsedSize:b=0,collapsible:A,minSize:S=0}=y;if(A){const M=n[v];if(pe(M!=null,`Previous layout not found for panel index ${v}`),ut(M,b)){const C=S-M;Sn(C,Math.abs(t))>0&&(t=t<0?0-C:C)}}}{const v=t<0?d:f,y=s[v];pe(y,`No panel constraints found for index ${v}`);const{collapsedSize:b=0,collapsible:A,minSize:S=0}=y;if(A){const M=n[v];if(pe(M!=null,`Previous layout not found for panel index ${v}`),ut(M,S)){const C=M-b;Sn(C,Math.abs(t))>0&&(t=t<0?0-C:C)}}}}{const v=t<0?1:-1;let y=t<0?f:d,b=0;for(;;){const S=n[y];pe(S!=null,`Previous layout not found for panel index ${y}`);const C=Vn({panelConstraints:s,panelIndex:y,size:100})-S;if(b+=C,y+=v,y<0||y>=s.length)break}const A=Math.min(Math.abs(t),Math.abs(b));t=t<0?0-A:A}{let y=t<0?d:f;for(;y>=0&&y<s.length;){const b=Math.abs(t)-Math.abs(g),A=n[y];pe(A!=null,`Previous layout not found for panel index ${y}`);const S=A-b,M=Vn({panelConstraints:s,panelIndex:y,size:S});if(!ut(A,M)&&(g+=A-M,l[y]=M,g.toFixed(3).localeCompare(Math.abs(t).toFixed(3),void 0,{numeric:!0})>=0))break;t<0?y--:y++}}if(Rv(a,l))return a;{const v=t<0?f:d,y=n[v];pe(y!=null,`Previous layout not found for panel index ${v}`);const b=y+g,A=Vn({panelConstraints:s,panelIndex:v,size:b});if(l[v]=A,!ut(A,b)){let S=b-A,C=t<0?f:d;for(;C>=0&&C<s.length;){const R=l[C];pe(R!=null,`Previous layout not found for panel index ${C}`);const T=R+S,k=Vn({panelConstraints:s,panelIndex:C,size:T});if(ut(R,k)||(S-=k-R,l[C]=k),ut(S,0))break;t>0?C--:C++}}}const p=l.reduce((v,y)=>y+v,0);return ut(p,100)?l:a}function Ov({layout:t,panelsArray:n,pivotIndices:s}){let o=0,a=100,u=0,l=0;const d=s[0];pe(d!=null,"No pivot index found"),n.forEach((v,y)=>{const{constraints:b}=v,{maxSize:A=100,minSize:S=0}=b;y===d?(o=S,a=A):(u+=S,l+=A)});const f=Math.min(a,100-u),g=Math.max(o,100-l),p=t[d];return{valueMax:f,valueMin:g,valueNow:p}}function Mi(t,n=document){return Array.from(n.querySelectorAll(`[${We.resizeHandleId}][data-panel-group-id="${t}"]`))}function Wd(t,n,s=document){const a=Mi(t,s).findIndex(u=>u.getAttribute(We.resizeHandleId)===n);return a??null}function Hd(t,n,s){const o=Wd(t,n,s);return o!=null?[o,o+1]:[-1,-1]}function jv(t){return t instanceof HTMLElement?!0:typeof t=="object"&&t!==null&&"tagName"in t&&"getAttribute"in t}function Gd(t,n=document){if(jv(n)&&n.dataset.panelGroupId==t)return n;const s=n.querySelector(`[data-panel-group][data-panel-group-id="${t}"]`);return s||null}function Os(t,n=document){const s=n.querySelector(`[${We.resizeHandleId}="${t}"]`);return s||null}function zv(t,n,s,o=document){var a,u,l,d;const f=Os(n,o),g=Mi(t,o),p=f?g.indexOf(f):-1,v=(a=(u=s[p])===null||u===void 0?void 0:u.id)!==null&&a!==void 0?a:null,y=(l=(d=s[p+1])===null||d===void 0?void 0:d.id)!==null&&l!==void 0?l:null;return[v,y]}function Bv({committedValuesRef:t,eagerValuesRef:n,groupId:s,layout:o,panelDataArray:a,panelGroupElement:u,setLayout:l}){x.useRef({didWarnAboutMissingResizeHandle:!1}),wn(()=>{if(!u)return;const d=Mi(s,u);for(let f=0;f<a.length-1;f++){const{valueMax:g,valueMin:p,valueNow:v}=Ov({layout:o,panelsArray:a,pivotIndices:[f,f+1]}),y=d[f];if(y!=null){const b=a[f];pe(b,`No panel data found for index "${f}"`),y.setAttribute("aria-controls",b.id),y.setAttribute("aria-valuemax",""+Math.round(g)),y.setAttribute("aria-valuemin",""+Math.round(p)),y.setAttribute("aria-valuenow",v!=null?""+Math.round(v):"")}}return()=>{d.forEach((f,g)=>{f.removeAttribute("aria-controls"),f.removeAttribute("aria-valuemax"),f.removeAttribute("aria-valuemin"),f.removeAttribute("aria-valuenow")})}},[s,o,a,u]),x.useEffect(()=>{if(!u)return;const d=n.current;pe(d,"Eager values not found");const{panelDataArray:f}=d,g=Gd(s,u);pe(g!=null,`No group found for id "${s}"`);const p=Mi(s,u);pe(p,`No resize handles found for group id "${s}"`);const v=p.map(y=>{const b=y.getAttribute(We.resizeHandleId);pe(b,"Resize handle element has no handle id attribute");const[A,S]=zv(s,b,f,u);if(A==null||S==null)return()=>{};const M=C=>{if(!C.defaultPrevented)switch(C.key){case"Enter":{C.preventDefault();const R=f.findIndex(T=>T.id===A);if(R>=0){const T=f[R];pe(T,`No panel data found for index ${R}`);const k=o[R],{collapsedSize:E=0,collapsible:z,minSize:O=0}=T.constraints;if(k!=null&&z){const V=fi({delta:ut(k,E)?O-E:E-k,initialLayout:o,panelConstraints:f.map(Y=>Y.constraints),pivotIndices:Hd(s,b,u),prevLayout:o,trigger:"keyboard"});o!==V&&l(V)}}break}}};return y.addEventListener("keydown",M),()=>{y.removeEventListener("keydown",M)}});return()=>{v.forEach(y=>y())}},[u,t,n,s,o,a,l])}function wc(t,n){if(t.length!==n.length)return!1;for(let s=0;s<t.length;s++)if(t[s]!==n[s])return!1;return!0}function Jd(t,n){const s=t==="horizontal",{x:o,y:a}=Ns(n);return s?o:a}function Fv(t,n,s,o,a){const u=s==="horizontal",l=Os(n,a);pe(l,`No resize handle element found for id "${n}"`);const d=l.getAttribute(We.groupId);pe(d,"Resize handle element has no group id attribute");let{initialCursorPosition:f}=o;const g=Jd(s,t),p=Gd(d,a);pe(p,`No group element found for id "${d}"`);const v=p.getBoundingClientRect(),y=u?v.width:v.height;return(g-f)/y*100}function Vv(t,n,s,o,a,u){if(Id(t)){const l=s==="horizontal";let d=0;t.shiftKey?d=100:a!=null?d=a:d=10;let f=0;switch(t.key){case"ArrowDown":f=l?0:d;break;case"ArrowLeft":f=l?-d:0;break;case"ArrowRight":f=l?d:0;break;case"ArrowUp":f=l?0:-d;break;case"End":f=100;break;case"Home":f=-100;break}return f}else return o==null?0:Fv(t,n,s,o,u)}function Zv({panelDataArray:t}){const n=Array(t.length),s=t.map(u=>u.constraints);let o=0,a=100;for(let u=0;u<t.length;u++){const l=s[u];pe(l,`Panel constraints not found for index ${u}`);const{defaultSize:d}=l;d!=null&&(o++,n[u]=d,a-=d)}for(let u=0;u<t.length;u++){const l=s[u];pe(l,`Panel constraints not found for index ${u}`);const{defaultSize:d}=l;if(d!=null)continue;const f=t.length-o,g=a/f;o++,n[u]=g,a-=g}return n}function In(t,n,s){n.forEach((o,a)=>{const u=t[a];pe(u,`Panel data not found for index ${a}`);const{callbacks:l,constraints:d,id:f}=u,{collapsedSize:g=0,collapsible:p}=d,v=s[f];if(v==null||o!==v){s[f]=o;const{onCollapse:y,onExpand:b,onResize:A}=l;A&&A(o,v),p&&(y||b)&&(b&&(v==null||Wt(v,g))&&!Wt(o,g)&&b(),y&&(v==null||!Wt(v,g))&&Wt(o,g)&&y())}})}function ss(t,n){if(t.length!==n.length)return!1;for(let s=0;s<t.length;s++)if(t[s]!=n[s])return!1;return!0}function Wv({defaultSize:t,dragState:n,layout:s,panelData:o,panelIndex:a,precision:u=3}){const l=s[a];let d;return l==null?d=t!=null?t.toFixed(u):"1":o.length===1?d="1":d=l.toFixed(u),{flexBasis:0,flexGrow:d,flexShrink:1,overflow:"hidden",pointerEvents:n!==null?"none":void 0}}function Hv(t,n=10){let s=null;return(...a)=>{s!==null&&clearTimeout(s),s=setTimeout(()=>{t(...a)},n)}}function Sc(t){try{if(typeof localStorage<"u")t.getItem=n=>localStorage.getItem(n),t.setItem=(n,s)=>{localStorage.setItem(n,s)};else throw new Error("localStorage not supported in this environment")}catch(n){console.error(n),t.getItem=()=>null,t.setItem=()=>{}}}function Ud(t){return`react-resizable-panels:${t}`}function $d(t){return t.map(n=>{const{constraints:s,id:o,idIsFromProps:a,order:u}=n;return a?o:u?`${u}:${JSON.stringify(s)}`:JSON.stringify(s)}).sort((n,s)=>n.localeCompare(s)).join(",")}function Kd(t,n){try{const s=Ud(t),o=n.getItem(s);if(o){const a=JSON.parse(o);if(typeof a=="object"&&a!=null)return a}}catch{}return null}function Gv(t,n,s){var o,a;const u=(o=Kd(t,s))!==null&&o!==void 0?o:{},l=$d(n);return(a=u[l])!==null&&a!==void 0?a:null}function Jv(t,n,s,o,a){var u;const l=Ud(t),d=$d(n),f=(u=Kd(t,a))!==null&&u!==void 0?u:{};f[d]={expandToSizes:Object.fromEntries(s.entries()),layout:o};try{a.setItem(l,JSON.stringify(f))}catch(g){console.error(g)}}function Tc({layout:t,panelConstraints:n}){const s=[...t],o=s.reduce((u,l)=>u+l,0);if(s.length!==n.length)throw Error(`Invalid ${n.length} panel layout: ${s.map(u=>`${u}%`).join(", ")}`);if(!ut(o,100)&&s.length>0)for(let u=0;u<n.length;u++){const l=s[u];pe(l!=null,`No layout data found for index ${u}`);const d=100/o*l;s[u]=d}let a=0;for(let u=0;u<n.length;u++){const l=s[u];pe(l!=null,`No layout data found for index ${u}`);const d=Vn({panelConstraints:n,panelIndex:u,size:l});l!=d&&(a+=l-d,s[u]=d)}if(!ut(a,0))for(let u=0;u<n.length;u++){const l=s[u];pe(l!=null,`No layout data found for index ${u}`);const d=l+a,f=Vn({panelConstraints:n,panelIndex:u,size:d});if(l!==f&&(a-=f-l,s[u]=f,ut(a,0)))break}return s}const Uv=100,mi={getItem:t=>(Sc(mi),mi.getItem(t)),setItem:(t,n)=>{Sc(mi),mi.setItem(t,n)}},Ac={};function Xd({autoSaveId:t=null,children:n,className:s="",direction:o,forwardedRef:a,id:u=null,onLayout:l=null,keyboardResizeBy:d=null,storage:f=mi,style:g,tagName:p="div",...v}){const y=Xr(u),b=x.useRef(null),[A,S]=x.useState(null),[M,C]=x.useState([]),R=Iv(),T=x.useRef({}),k=x.useRef(new Map),E=x.useRef(0),z=x.useRef({autoSaveId:t,direction:o,dragState:A,id:y,keyboardResizeBy:d,onLayout:l,storage:f}),O=x.useRef({layout:M,panelDataArray:[],panelDataArrayChanged:!1});x.useRef({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),x.useImperativeHandle(a,()=>({getId:()=>z.current.id,getLayout:()=>{const{layout:F}=O.current;return F},setLayout:F=>{const{onLayout:G}=z.current,{layout:H,panelDataArray:Z}=O.current,X=Tc({layout:F,panelConstraints:Z.map(te=>te.constraints)});wc(H,X)||(C(X),O.current.layout=X,G&&G(X),In(Z,X,T.current))}}),[]),wn(()=>{z.current.autoSaveId=t,z.current.direction=o,z.current.dragState=A,z.current.id=y,z.current.onLayout=l,z.current.storage=f}),Bv({committedValuesRef:z,eagerValuesRef:O,groupId:y,layout:M,panelDataArray:O.current.panelDataArray,setLayout:C,panelGroupElement:b.current}),x.useEffect(()=>{const{panelDataArray:F}=O.current;if(t){if(M.length===0||M.length!==F.length)return;let G=Ac[t];G==null&&(G=Hv(Jv,Uv),Ac[t]=G);const H=[...F],Z=new Map(k.current);G(t,H,Z,M,f)}},[t,M,f]),x.useEffect(()=>{});const V=x.useCallback(F=>{const{onLayout:G}=z.current,{layout:H,panelDataArray:Z}=O.current;if(F.constraints.collapsible){const X=Z.map(ke=>ke.constraints),{collapsedSize:te=0,panelSize:oe,pivotIndices:we}=fn(Z,F,H);if(pe(oe!=null,`Panel size not found for panel "${F.id}"`),!Wt(oe,te)){k.current.set(F.id,oe);const Ve=Rn(Z,F)===Z.length-1?oe-te:te-oe,xe=fi({delta:Ve,initialLayout:H,panelConstraints:X,pivotIndices:we,prevLayout:H,trigger:"imperative-api"});ss(H,xe)||(C(xe),O.current.layout=xe,G&&G(xe),In(Z,xe,T.current))}}},[]),Y=x.useCallback((F,G)=>{const{onLayout:H}=z.current,{layout:Z,panelDataArray:X}=O.current;if(F.constraints.collapsible){const te=X.map(Me=>Me.constraints),{collapsedSize:oe=0,panelSize:we=0,minSize:ke=0,pivotIndices:Ve}=fn(X,F,Z),xe=G??ke;if(Wt(we,oe)){const Me=k.current.get(F.id),tt=Me!=null&&Me>=xe?Me:xe,lt=Rn(X,F)===X.length-1?we-tt:tt-we,Ie=fi({delta:lt,initialLayout:Z,panelConstraints:te,pivotIndices:Ve,prevLayout:Z,trigger:"imperative-api"});ss(Z,Ie)||(C(Ie),O.current.layout=Ie,H&&H(Ie),In(X,Ie,T.current))}}},[]),ee=x.useCallback(F=>{const{layout:G,panelDataArray:H}=O.current,{panelSize:Z}=fn(H,F,G);return pe(Z!=null,`Panel size not found for panel "${F.id}"`),Z},[]),K=x.useCallback((F,G)=>{const{panelDataArray:H}=O.current,Z=Rn(H,F);return Wv({defaultSize:G,dragState:A,layout:M,panelData:H,panelIndex:Z})},[A,M]),U=x.useCallback(F=>{const{layout:G,panelDataArray:H}=O.current,{collapsedSize:Z=0,collapsible:X,panelSize:te}=fn(H,F,G);return pe(te!=null,`Panel size not found for panel "${F.id}"`),X===!0&&Wt(te,Z)},[]),ge=x.useCallback(F=>{const{layout:G,panelDataArray:H}=O.current,{collapsedSize:Z=0,collapsible:X,panelSize:te}=fn(H,F,G);return pe(te!=null,`Panel size not found for panel "${F.id}"`),!X||Sn(te,Z)>0},[]),ie=x.useCallback(F=>{const{panelDataArray:G}=O.current;G.push(F),G.sort((H,Z)=>{const X=H.order,te=Z.order;return X==null&&te==null?0:X==null?-1:te==null?1:X-te}),O.current.panelDataArrayChanged=!0,R()},[R]);wn(()=>{if(O.current.panelDataArrayChanged){O.current.panelDataArrayChanged=!1;const{autoSaveId:F,onLayout:G,storage:H}=z.current,{layout:Z,panelDataArray:X}=O.current;let te=null;if(F){const we=Gv(F,X,H);we&&(k.current=new Map(Object.entries(we.expandToSizes)),te=we.layout)}te==null&&(te=Zv({panelDataArray:X}));const oe=Tc({layout:te,panelConstraints:X.map(we=>we.constraints)});wc(Z,oe)||(C(oe),O.current.layout=oe,G&&G(oe),In(X,oe,T.current))}}),wn(()=>{const F=O.current;return()=>{F.layout=[]}},[]);const de=x.useCallback(F=>{let G=!1;const H=b.current;return H&&window.getComputedStyle(H,null).getPropertyValue("direction")==="rtl"&&(G=!0),function(X){X.preventDefault();const te=b.current;if(!te)return()=>null;const{direction:oe,dragState:we,id:ke,keyboardResizeBy:Ve,onLayout:xe}=z.current,{layout:Me,panelDataArray:tt}=O.current,{initialLayout:Re}=we??{},lt=Hd(ke,F,te);let Ie=Vv(X,F,oe,we,Ve,te);const St=oe==="horizontal";St&&G&&(Ie=-Ie);const Tt=tt.map(At=>At.constraints),nt=fi({delta:Ie,initialLayout:Re??Me,panelConstraints:Tt,pivotIndices:lt,prevLayout:Me,trigger:Id(X)?"keyboard":"mouse-or-touch"}),ct=!ss(Me,nt);(Rd(X)||Od(X))&&E.current!=Ie&&(E.current=Ie,!ct&&Ie!==0?St?Lo(F,Ie<0?zd:Bd):Lo(F,Ie<0?Fd:Vd):Lo(F,0)),ct&&(C(nt),O.current.layout=nt,xe&&xe(nt),In(tt,nt,T.current))}},[]),ae=x.useCallback((F,G)=>{const{onLayout:H}=z.current,{layout:Z,panelDataArray:X}=O.current,te=X.map(Me=>Me.constraints),{panelSize:oe,pivotIndices:we}=fn(X,F,Z);pe(oe!=null,`Panel size not found for panel "${F.id}"`);const Ve=Rn(X,F)===X.length-1?oe-G:G-oe,xe=fi({delta:Ve,initialLayout:Z,panelConstraints:te,pivotIndices:we,prevLayout:Z,trigger:"imperative-api"});ss(Z,xe)||(C(xe),O.current.layout=xe,H&&H(xe),In(X,xe,T.current))},[]),ue=x.useCallback((F,G)=>{const{layout:H,panelDataArray:Z}=O.current,{collapsedSize:X=0,collapsible:te}=G,{collapsedSize:oe=0,collapsible:we,maxSize:ke=100,minSize:Ve=0}=F.constraints,{panelSize:xe}=fn(Z,F,H);xe!=null&&(te&&we&&Wt(xe,X)?Wt(X,oe)||ae(F,oe):xe<Ve?ae(F,Ve):xe>ke&&ae(F,ke))},[ae]),$=x.useCallback((F,G)=>{const{direction:H}=z.current,{layout:Z}=O.current;if(!b.current)return;const X=Os(F,b.current);pe(X,`Drag handle element not found for id "${F}"`);const te=Jd(H,G);S({dragHandleId:F,dragHandleRect:X.getBoundingClientRect(),initialCursorPosition:te,initialLayout:Z})},[]),Ce=x.useCallback(()=>{S(null)},[]),Q=x.useCallback(F=>{const{panelDataArray:G}=O.current,H=Rn(G,F);H>=0&&(G.splice(H,1),delete T.current[F.id],O.current.panelDataArrayChanged=!0,R())},[R]),I=x.useMemo(()=>({collapsePanel:V,direction:o,dragState:A,expandPanel:Y,getPanelSize:ee,getPanelStyle:K,groupId:y,isPanelCollapsed:U,isPanelExpanded:ge,reevaluatePanelConstraints:ue,registerPanel:ie,registerResizeHandle:de,resizePanel:ae,startDragging:$,stopDragging:Ce,unregisterPanel:Q,panelGroupElement:b.current}),[V,A,o,Y,ee,K,y,U,ge,ue,ie,de,ae,$,Ce,Q]),le={display:"flex",flexDirection:o==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return x.createElement(Es.Provider,{value:I},x.createElement(p,{...v,children:n,className:s,id:u,ref:b,style:{...le,...g},[We.group]:"",[We.groupDirection]:o,[We.groupId]:y}))}const fs=x.forwardRef((t,n)=>x.createElement(Xd,{...t,forwardedRef:n}));Xd.displayName="PanelGroup";fs.displayName="forwardRef(PanelGroup)";function Rn(t,n){return t.findIndex(s=>s===n||s.id===n.id)}function fn(t,n,s){const o=Rn(t,n),u=o===t.length-1?[o-1,o]:[o,o+1],l=s[o];return{...n.constraints,panelSize:l,pivotIndices:u}}function $v({disabled:t,handleId:n,resizeHandler:s,panelGroupElement:o}){x.useEffect(()=>{if(t||s==null||o==null)return;const a=Os(n,o);if(a==null)return;const u=l=>{if(!l.defaultPrevented)switch(l.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{l.preventDefault(),s(l);break}case"F6":{l.preventDefault();const d=a.getAttribute(We.groupId);pe(d,`No group element found for id "${d}"`);const f=Mi(d,o),g=Wd(d,n,o);pe(g!==null,`No resize element found for id "${n}"`);const p=l.shiftKey?g>0?g-1:f.length-1:g+1<f.length?g+1:0;f[p].focus();break}}};return a.addEventListener("keydown",u),()=>{a.removeEventListener("keydown",u)}},[o,t,n,s])}function ms({children:t=null,className:n="",disabled:s=!1,hitAreaMargins:o,id:a,onBlur:u,onClick:l,onDragging:d,onFocus:f,onPointerDown:g,onPointerUp:p,style:v={},tabIndex:y=0,tagName:b="div",...A}){var S,M;const C=x.useRef(null),R=x.useRef({onClick:l,onDragging:d,onPointerDown:g,onPointerUp:p});x.useEffect(()=>{R.current.onClick=l,R.current.onDragging=d,R.current.onPointerDown=g,R.current.onPointerUp=p});const T=x.useContext(Es);if(T===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:k,groupId:E,registerResizeHandle:z,startDragging:O,stopDragging:V,panelGroupElement:Y}=T,ee=Xr(a),[K,U]=x.useState("inactive"),[ge,ie]=x.useState(!1),[de,ae]=x.useState(null),ue=x.useRef({state:K});wn(()=>{ue.current.state=K}),x.useEffect(()=>{if(s)ae(null);else{const I=z(ee);ae(()=>I)}},[s,ee,z]);const $=(S=o==null?void 0:o.coarse)!==null&&S!==void 0?S:15,Ce=(M=o==null?void 0:o.fine)!==null&&M!==void 0?M:5;x.useEffect(()=>{if(s||de==null)return;const I=C.current;pe(I,"Element ref not attached");let le=!1;return Ev(ee,I,k,{coarse:$,fine:Ce},(G,H,Z)=>{if(!H){U("inactive");return}switch(G){case"down":{U("drag"),le=!1,pe(Z,'Expected event to be defined for "down" action'),O(ee,Z);const{onDragging:X,onPointerDown:te}=R.current;X==null||X(!0),te==null||te();break}case"move":{const{state:X}=ue.current;le=!0,X!=="drag"&&U("hover"),pe(Z,'Expected event to be defined for "move" action'),de(Z);break}case"up":{U("hover"),V();const{onClick:X,onDragging:te,onPointerUp:oe}=R.current;te==null||te(!1),oe==null||oe(),le||X==null||X();break}}})},[$,k,s,Ce,z,ee,de,O,V]),$v({disabled:s,handleId:ee,resizeHandler:de,panelGroupElement:Y});const Q={touchAction:"none",userSelect:"none"};return x.createElement(b,{...A,children:t,className:n,id:a,onBlur:()=>{ie(!1),u==null||u()},onFocus:()=>{ie(!0),f==null||f()},ref:C,role:"separator",style:{...Q,...v},tabIndex:y,[We.groupDirection]:k,[We.groupId]:E,[We.resizeHandle]:"",[We.resizeHandleActive]:K==="drag"?"pointer":ge?"keyboard":void 0,[We.resizeHandleEnabled]:!s,[We.resizeHandleId]:ee,[We.resizeHandleState]:K})}ms.displayName="PanelResizeHandle";function Kv(t=["timeline","map","resources","tasks"]){const[n,s]=x.useState(t),[o,a]=x.useState(null),u=p=>{s(v=>v.includes(p)?v.filter(y=>y!==p):[...v,p])},l=p=>{s(v=>v.filter(y=>y!==p)),o===p&&a(null)},d=p=>{n.length<=1||a(v=>v===p?null:p)},f=x.useMemo(()=>t.filter(p=>!n.includes(p)),[n,t]);return{visiblePanels:n,maximizedPanel:o,collapsedPanels:f,isPanelMaximized:p=>o===p,togglePanel:u,closePanel:l,maximizePanel:d}}function Cc({title:t,icon:n,isMaximized:s,onMaximize:o,onClose:a,children:u,visibleCount:l}){return m.jsxs("div",{className:"flex flex-col h-full w-full bg-white border rounded-md overflow-hidden",children:[m.jsxs("div",{className:"flex items-center justify-between px-2 py-1 bg-gray-100 border-b",children:[m.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[m.jsx(n,{size:14,className:"text-gray-500"}),t]}),m.jsxs("div",{className:"flex items-center gap-1",children:[l>1&&m.jsxs(m.Fragment,{children:[!s&&m.jsx("button",{onClick:o,className:"p-1 hover:bg-gray-200 rounded",title:"Maximize",children:m.jsx(lc,{size:14})}),s&&m.jsx("button",{onClick:o,className:"p-1 hover:bg-gray-200 rounded",title:"Restore",children:m.jsx(lc,{size:14,className:"rotate-180"})})]}),m.jsx("button",{onClick:a,className:"p-1 hover:bg-gray-200 rounded",title:"Close",children:m.jsx(Sd,{size:14})})]})]}),m.jsx("div",{className:"flex-1 min-h-0 overflow-hidden",children:u})]})}const mn=[{id:"tasksByCommit",label:"Tasks by Commit",group:"task"},{id:"notAssigned",label:"Not Assigned Tasks",group:"task"},{id:"earliestResource",label:"Earliest Resource for Task",group:"task"},{id:"closeResource",label:"Close Resource for Tasks",group:"task"},{id:"resource-active",label:"Active Resources",group:"resource"}];function Xv(){var p;const[t,n]=x.useState("task"),[s,o]=x.useState(((p=mn.find(v=>v.group==="task"))==null?void 0:p.id)??mn[0].id),a=v=>{n(v);const y=mn.find(b=>b.group===v);y&&o(y.id)},u=v=>t===v,l=v=>{o(v);const y=mn.find(b=>b.id===v);y&&n(y.group)},d=v=>v===s,f=mn.filter(v=>v.group==="task"),g=mn.filter(v=>v.group==="resource");return{MENU:mn,activeTab:t,selectedMode:s,selectTab:a,isTab:u,select:l,isActive:d,taskItems:f,resourceItems:g}}function qv(){const[t,n]=x.useState([]),[s,o]=x.useState([]),[a,u]=x.useState(!0),l=x.useRef(null),d=x.useRef(!1),f=x.useRef(!1),g=t.length===1?t[0]:null,p=s.length===1?s[0]:null;x.useEffect(()=>{console.log(" SELECTED TASKS:",t.map(T=>T.taskId)),console.log(" SELECTED RESOURCES:",s.map(T=>T.resourceId))},[t,s]);const v=(T,k,E)=>{console.log("APPLY SELECTION (origin:",E,")",T),l.current=E,k(T),setTimeout(()=>{l.current=null},0)};return{selectedTasks:t,selectedTask:g,handleTaskMapClick:(T,k=!1)=>{console.log("MAP CLICK TASK:",T.taskId,"multi:",k),u(!1),l.current="map",d.current=!0,n(E=>k?E.some(O=>O.taskId===T.taskId)?E.filter(O=>O.taskId!==T.taskId):[...E,T]:[T]),setTimeout(()=>{l.current=null,d.current=!1},30)},handleTaskTableSelect:T=>{if(console.log("TABLE SELECT TASKS:",T.map(k=>k.taskId)),d.current||l.current==="map"||f.current){console.log("TABLE IGNORED  map is selecting/dragging");return}u(!0),v(T,n,"table")},selectedResources:s,selectedResource:p,handleResourceMapClick:(T,k=!1)=>{console.log("MAP CLICK RESOURCE:",T.resourceId,"multi:",k),u(!1),l.current="map",d.current=!0,o(E=>k?E.some(O=>O.resourceId===T.resourceId)?E.filter(O=>O.resourceId!==T.resourceId):[...E,T]:[T]),setTimeout(()=>{l.current=null,d.current=!1},30)},handleResourceTableSelect:T=>{if(console.log("TABLE SELECT RESOURCES:",T.map(k=>k.resourceId)),d.current||l.current==="map"||f.current){console.log("TABLE IGNORED  map is selecting/dragging");return}u(!0),v(T,o,"table")},shouldZoom:a,notifyMapDragStart:()=>{console.log("MAP DRAG START"),f.current=!0},notifyMapDragEnd:()=>{console.log("MAP DRAG END"),setTimeout(()=>{f.current=!1,console.log("MAP DRAG CLEAR")},80)},clearAll:()=>{console.log("CLEAR ALL"),l.current="clear",n([]),o([]),u(!0),setTimeout(()=>{l.current=null},0)}}}const Vt={blue:"#0A4A7A",blueHover:"#08385E",blueSoft:"#E8F1F7",border:"#D7E0EA"},li={timeline:{label:"Gantt Timeline",icon:fd},map:{label:"Map View",icon:T0},resources:{label:"Resource Table",icon:Ls},tasks:{label:"Task Table",icon:Ms}};function Yv({children:t,onClick:n}){const s=x.useRef(null);return x.useEffect(()=>{function o(a){s.current&&(s.current.contains(a.target)||n())}return document.addEventListener("mousedown",o),()=>document.removeEventListener("mousedown",o)},[n]),m.jsx("div",{ref:s,children:t})}function Pc(t){return t==="resource-active"?"resource-active":"task-default"}function Qv(){var Ct,$t,Pt;const[t,n]=x.useState(""),[s,o]=x.useState(!1),[a,u]=x.useState(!1),[l,d]=x.useState(!1),f=x.useRef(null),[g,p]=x.useState(""),v=x.useRef({}),[y,b]=x.useState([]),[A,S]=x.useState([]),M=Td,[C,R]=x.useState({statuses:[],pwa:[],capabilities:[],commitmentTypes:[]}),[T,k]=x.useState(0),{selectedMode:E,select:z,isActive:O,taskItems:V,resourceItems:Y}=Xv(),{selectedTasks:ee,selectedTask:K,handleTaskMapClick:U,handleTaskTableSelect:ge,selectedResources:ie,selectedResource:de,handleResourceMapClick:ae,handleResourceTableSelect:ue,shouldZoom:$,clearAll:Ce,notifyMapDragStart:Q,notifyMapDragEnd:I}=qv(),le=x.useMemo(()=>{const N=new Set;return yn.forEach(W=>W.division&&N.add(W.division)),Array.from(N).sort()},[]);function F(N){const W=new Set,ye=new Set,Se=new Set,Le=new Set;for(const Oe of N)Oe.taskStatus&&W.add(Oe.taskStatus),Oe.pwa&&ye.add(Oe.pwa),Array.isArray(Oe.capabilities)&&Oe.capabilities.forEach(je=>Se.add(je)),Oe.commitmentType&&Le.add(Oe.commitmentType);return{statuses:[...W].sort(),pwa:[...ye].sort(),capabilities:[...Se].sort(),commitmentTypes:[...Le].sort()}}const G=N=>{if(n(N),b([]),S([]),k(W=>W+1),N){const W=yn.filter(ye=>ye.division===N);R(F(W))}else R({statuses:[],pwa:[],capabilities:[],commitmentTypes:[]});p("")},{visiblePanels:H,maximizedPanel:Z,collapsedPanels:X,isPanelMaximized:te,togglePanel:oe,closePanel:we,maximizePanel:ke}=Kv(),Ve=N=>{var ye,Se,Le,Oe;let W=[...yn];t&&(W=W.filter(je=>je.division===t)),(ye=N.statuses)!=null&&ye.length&&(W=W.filter(je=>N.statuses.includes(je.taskStatus))),(Se=N.pwa)!=null&&Se.length&&(W=W.filter(je=>N.pwa.includes(je.pwa))),(Le=N.capabilities)!=null&&Le.length&&(W=W.filter(je=>{var Xe;return(Xe=je.capabilities)==null?void 0:Xe.some(j=>N.capabilities.includes(j))})),(Oe=N.commitmentTypes)!=null&&Oe.length&&(W=W.filter(je=>N.commitmentTypes.includes(je.commitmentType))),b(W),u(!1),d(!1)},xe=N=>{var ye,Se;let W=[...M];t&&(W=W.filter(Le=>Le.division===t)),(ye=N.statuses)!=null&&ye.length&&(W=W.filter(Le=>N.statuses.includes(Le.status))),(Se=N.pwa)!=null&&Se.length&&(W=W.filter(Le=>N.pwa.includes(Le.pwa))),S(W),u(!1),d(!1)},Me=()=>{const N=g.trim().toLowerCase();if(!N)return;let W=!1;const ye=yn.filter(Le=>Le.taskId&&Le.taskId.toLowerCase()===N);ye.length&&(b(ye),W=!0);const Se=M.filter(Le=>Le.resourceId&&String(Le.resourceId).toLowerCase()===N);Se.length&&(S(Se),W=!0),W||console.log("No match found."),u(!1),d(!1)},tt=()=>{if(Ce(),p(""),b([]),S([]),k(N=>N+1),t){const N=yn.filter(W=>W.division===t);R(F(N))}else R({statuses:[],pwa:[],capabilities:[],commitmentTypes:[]});u(!1),d(!1)},Re=N=>{switch(N){case"timeline":return m.jsx(H0,{});case"map":return m.jsx(hv,{tasks:y,resources:A,selectedTask:K,selectedTasks:ee,selectedResource:de,selectedResources:ie,shouldZoom:$,handleTaskMapClick:U,handleResourceMapClick:ae,notifyMapDragStart:Q,notifyMapDragEnd:I});case"resources":return m.jsx(xv,{data:A,selectedResources:ie,onSelectionChange:ue});case"tasks":return m.jsx(vv,{data:y,selectedTasks:ee,onSelectionChange:ge});default:return null}},lt=["timeline","map"],Ie=["resources","tasks"],St=lt.filter(N=>H.includes(N)),Tt=Ie.filter(N=>H.includes(N)),nt=Z?[Z]:St,ct=Z?[]:Tt,At=m.jsxs("div",{className:"w-full bg-white border-b border-gray-200 px-3 py-2 flex items-center gap-3",children:[m.jsx("div",{className:"border border-gray-300 rounded-md shadow-sm bg-white px-2 py-1.5",children:m.jsxs("select",{value:t,onChange:N=>G(N.target.value),className:"text-sm bg-transparent outline-none",children:[m.jsx("option",{value:"",children:"Division"}),le.map(N=>m.jsx("option",{children:N},N))]})}),m.jsxs("div",{className:"border border-gray-300 rounded-md shadow-sm bg-white px-2 py-1.5 flex items-center gap-2",style:{minWidth:"clamp(180px,20vw,240px)"},children:[m.jsx(Fr,{size:16,className:"text-gray-500"}),m.jsx("input",{value:g,onChange:N=>p(N.target.value),onKeyDown:N=>N.key==="Enter"&&Me(),placeholder:"Search anywhere",className:"text-sm bg-transparent outline-none flex-1"})]}),m.jsxs("button",{ref:f,disabled:!t,onClick:()=>{u(!a),d(!a)},className:`border rounded-md shadow-sm px-3 py-1.5 text-sm flex items-center gap-2 ${t?"bg-white hover:bg-gray-100":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,style:t&&l?{backgroundColor:Vt.blueSoft,borderColor:Vt.blue,color:Vt.blue}:{},children:[m.jsx(L0,{size:16}),"Search Tool"]}),m.jsx("button",{className:"border border-gray-300 rounded-md shadow-sm bg-white px-2 py-1.5",children:m.jsx(bd,{size:16,className:"text-gray-600"})}),m.jsx("button",{onClick:()=>o(N=>!N),className:"border border-gray-300 rounded-md shadow-sm bg-white px-2 py-1.5",title:"Map Legend",children:m.jsx(y0,{size:16,className:"text-gray-700"})}),m.jsx("div",{className:"flex-1"}),m.jsx("button",{onClick:tt,className:"border border-gray-300 rounded-md shadow-sm bg-white px-3 py-1.5 text-sm hover:bg-gray-100",children:"Clear All"}),X.length>0&&m.jsx("div",{className:"flex items-center gap-2 ml-2",children:X.map(N=>m.jsx("button",{onClick:()=>oe(N),className:"inline-flex items-center justify-center w-8 h-8 border rounded-md bg-white hover:bg-gray-50 shadow-sm",children:Ht.createElement(li[N].icon,{size:15,className:"text-gray-700"})},N))})]});return m.jsxs("div",{className:"flex-1 min-h-0 flex flex-col bg-gray-100 relative",children:[At,m.jsx(V0,{visible:s,onClose:()=>o(!1)}),m.jsx(wt,{children:a&&t&&m.jsx(et.div,{initial:{opacity:0,y:-8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},className:"absolute z-[200]",style:{top:(((Ct=f.current)==null?void 0:Ct.offsetTop)??0)+((($t=f.current)==null?void 0:$t.offsetHeight)??0)+6,left:((Pt=f.current)==null?void 0:Pt.offsetLeft)??0,width:"min(95vw,760px)"},children:m.jsx(Yv,{onClick:()=>{u(!1),d(!1)},children:m.jsxs("div",{className:"bg-white border shadow-xl rounded-lg p-4 flex flex-col gap-4",style:{borderColor:Vt.blue,boxShadow:"0px 4px 16px rgba(0, 0, 0, 0.15)"},children:[m.jsxs("div",{className:"flex gap-4",children:[m.jsxs("div",{className:"bg-white border rounded-lg shadow-sm p-3 space-y-6",style:{width:"clamp(180px,24vw,240px)",borderColor:Vt.border},children:[m.jsxs("div",{children:[m.jsx("div",{className:"text-[10px] font-semibold text-gray-500 px-1 mb-1",children:"TASK SEARCHES"}),m.jsx("div",{className:"space-y-1",children:V.map(N=>m.jsx("button",{onClick:()=>z(N.id),className:`w-full text-left px-3 py-1.5 rounded-md border text-xs transition ${O(N.id)?"bg-[#0A4A7A] text-white border-[#08385E]":"bg-gray-50 hover:bg-gray-100 border-gray-300"}`,children:N.label},N.id))})]}),m.jsxs("div",{children:[m.jsx("div",{className:"text-[10px] font-semibold text-gray-500 px-1 mb-1",children:"RESOURCE SEARCHES"}),m.jsx("div",{className:"space-y-1",children:Y.map(N=>m.jsx("button",{onClick:()=>z(N.id),className:`w-full text-left px-3 py-1.5 rounded-md border text-xs transition ${O(N.id)?"bg-[#0A4A7A] text-white border-[#08385E]":"bg-gray-50 hover:bg-gray-100 border-gray-300"}`,children:N.label},N.id))})]})]}),m.jsx("div",{className:"flex-1",children:m.jsx("div",{className:"bg-white border rounded-lg shadow-sm p-4",style:{borderColor:Vt.border},children:m.jsx(W0,{mode:Pc(E),onSearch:N=>v.current=N,onClear:()=>{b([]),S([]),k(N=>N+1)},dropdownData:{...C,resourceStatuses:Array.from(new Set(M.map(N=>N.status))).sort()},resetKey:T})})})]}),m.jsx("div",{className:"flex justify-end mt-3",children:m.jsx("button",{onClick:()=>{const N=v.current;Pc(E).startsWith("task")?Ve(N):xe(N)},className:"px-5 py-2 rounded-md text-sm font-medium text-white",style:{background:Vt.blue},onMouseEnter:N=>N.currentTarget.style.background=Vt.blueHover,onMouseLeave:N=>N.currentTarget.style.background=Vt.blue,children:"Search"})})]})})})}),m.jsx("div",{className:"flex-1 min-h-0 px-1 pt-1",children:m.jsxs(fs,{direction:"vertical",className:"h-full",children:[nt.length>0&&m.jsxs(m.Fragment,{children:[m.jsx(hi,{defaultSize:50,children:m.jsx(fs,{direction:"horizontal",children:nt.map((N,W)=>m.jsxs(Ht.Fragment,{children:[W>0&&m.jsx(ms,{className:"w-[4px] bg-white/40"}),m.jsx(hi,{children:m.jsx(Cc,{title:li[N].label,icon:li[N].icon,isMaximized:te(N),onMaximize:()=>ke(N),onClose:()=>we(N),visibleCount:H.length,children:Re(N)})})]},N))})}),ct.length>0&&m.jsx(ms,{className:"h-[4px] bg-white/40"})]}),ct.length>0&&m.jsx(hi,{defaultSize:50,children:m.jsx(fs,{direction:"horizontal",children:ct.map((N,W)=>m.jsxs(Ht.Fragment,{children:[W>0&&m.jsx(ms,{className:"w-[4px] bg-white/40"}),m.jsx(hi,{children:m.jsx(Cc,{title:li[N].label,icon:li[N].icon,isMaximized:te(N),onMaximize:()=>ke(N),onClose:()=>we(N),visibleCount:H.length,children:Re(N)})})]},N))})})]},H.join("-"))})]})}const ci={AssignDispatchedAWI:{label:"Assignment  Dispatched (AWI)"},CalloutDispatchedAWI:{label:"Callout  Dispatched (AWI)"},PendingACT:{label:"Pending Callout  Assigned (ACT)"},Disturbance:{label:"Disturbance"},NoReply:{label:"No Reply"},Refusal:{label:"Refusal"},Unavailable:{label:"Unavailable",requiresAvailabilityTime:!0}};function e_(t){if(!t)return"";const n=new Date(t);if(Number.isNaN(n.getTime()))return"";const s=String(n.getDate()).padStart(2,"0"),o=String(n.getMonth()+1).padStart(2,"0"),a=n.getFullYear(),u=String(n.getHours()).padStart(2,"0"),l=String(n.getMinutes()).padStart(2,"0");return`${s}/${o}/${a} ${u}:${l}`}function kc(t){if(!t.history||t.history.length===0)return null;const n=t.history[t.history.length-1],s=Date.parse(n.changedAt);return Number.isNaN(s)?null:s}const t_=({open:t,task:n,resources:s,onClose:o,onSaveRow:a})=>{const u=(n==null?void 0:n.TaskID)??(n==null?void 0:n.taskId)??(n==null?void 0:n.id)??(n==null?void 0:n.TaskId)??null,[l,d]=x.useState([]),[f,g]=x.useState({}),[p,v]=x.useState({}),[y,b]=x.useState(null);x.useEffect(()=>{if(!t)return;const T=[...s].sort((E,z)=>{const O=kc(E),V=kc(z);return O===null&&V===null?E.resourceId.localeCompare(z.resourceId):O===null?-1:V===null?1:O-V});d(T.map(E=>E.resourceId));const k={};for(const E of T)k[E.resourceId]={outcome:"",availableAgainAt:""};g(k),v({})},[t]),x.useEffect(()=>{if(!y)return;const T=setTimeout(()=>b(null),2200);return()=>clearTimeout(T)},[y]);const A=T=>b(T),S=async T=>{try{await navigator.clipboard.writeText(T),A(`Copied ${T}`)}catch{A("Unable to copy")}},M=(T,k)=>{g(E=>{var z,O;return{...E,[T]:{outcome:((z=E[T])==null?void 0:z.outcome)??"",availableAgainAt:((O=E[T])==null?void 0:O.availableAgainAt)??"",...k}}})},C=async T=>{if(!a)return;const k=f[T];if(!k||!k.outcome){A("Select an outcome first");return}if(k.outcome==="Unavailable"&&(!k.availableAgainAt||k.availableAgainAt.trim()==="")){A("Set return time");return}const E={taskId:u,resourceId:T,outcome:k.outcome,availableAgainAt:k.outcome==="Unavailable"?k.availableAgainAt:void 0};try{g(Y=>({...Y,[T]:{...Y[T],saving:!0}})),await a(E);const z=new Date().toISOString(),O=s.find(Y=>Y.resourceId===T);O&&(O.history=[...O.history??[],{previousOutcome:O.lastOutcome??null,previousAvailableAgainAt:O.availableAgainAt??null,changedAt:z,taskIdUsed:u,outcomeApplied:E.outcome}],O.lastOutcome=E.outcome,O.availableAgainAt=E.availableAgainAt??null),v(Y=>({...Y,[T]:!0}));const V=ci[E.outcome].label;A(`Saved ${V}`)}catch(z){console.error("save error",z),A("Error saving")}finally{g(z=>({...z,[T]:{...z[T],saving:!1}}))}},R=T=>{var z,O;let k=null,E=null;if(T.history&&T.history.length>0){const V=T.history[T.history.length-1];k=((z=ci[V.outcomeApplied])==null?void 0:z.label)??V.outcomeApplied??null,E=V.changedAt}else if(T.lastOutcome){const V=T.lastOutcome;k=((O=ci[V])==null?void 0:O.label)??String(T.lastOutcome??""),E=null}return!k&&!E?m.jsx("span",{className:"text-[11px] text-gray-400 italic",children:"No history"}):m.jsxs("div",{className:"flex flex-col text-[11px] text-gray-800 leading-tight",children:[k&&m.jsx("span",{className:"font-medium",children:k}),E&&m.jsx("span",{className:"text-gray-500",children:e_(E)})]})};return m.jsx(wt,{children:t&&m.jsx(et.div,{className:"fixed inset-0 z-[10000] flex items-center justify-center bg-black/55 backdrop-blur-sm",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:m.jsxs(et.div,{className:`relative 
                       w-[min(1420px,100%-40px)]   /* wider */
                       max-h-[96vh] 
                       rounded-2xl bg-white 
                       shadow-2xl border border-gray-200 
                       flex flex-col overflow-hidden`,initial:{opacity:0,scale:.9,y:24},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:24},transition:{duration:.18},children:[m.jsxs("div",{className:"flex items-center justify-between px-7 py-4 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-indigo-50 relative",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"h-9 w-9 flex items-center justify-center rounded-full bg-blue-600 text-white",children:m.jsx(Ds,{size:18})}),m.jsxs("div",{className:"flex flex-col",children:[m.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:u?`Callout Workflow  ${u}`:"Callout Workflow"}),m.jsx("p",{className:"text-xs text-gray-600",children:"Set outcomes. After saving a row, it locks and stays in position until panel is closed."})]})]}),m.jsx("button",{onClick:o,className:"p-2 rounded-full hover:bg-gray-100 text-gray-500",children:m.jsx(Sd,{size:18})}),y&&m.jsx("div",{className:"absolute right-16 top-1/2 -translate-y-1/2 z-[10100]",children:m.jsx("div",{className:"rounded-lg bg-gray-900 text-white text-xs px-3 py-2 shadow-lg max-w-xs",children:y})})]}),m.jsxs("div",{className:"flex-1 overflow-auto px-7 py-4 space-y-4",children:[m.jsxs("div",{className:"text-xs text-gray-600 border border-blue-50 bg-blue-50/70 rounded-lg px-3 py-2 flex items-start gap-2",children:[m.jsx(Ms,{size:14,className:"mt-[2px] text-blue-600"}),m.jsxs("p",{children:["Choose an ",m.jsx("b",{children:"Outcome"})," for each tech. If selecting"," ",m.jsx("b",{children:"Unavailable"}),", set a return time. Press ",m.jsx("b",{children:"Save"})," to lock the row. Ordering is frozen until the panel closes."]})]}),m.jsxs("div",{className:"border border-gray-200 rounded-xl overflow-hidden",children:[m.jsxs("div",{className:"bg-gray-50 px-4 py-2 border-b border-gray-200 flex items-center justify-between",children:[m.jsx("span",{className:"text-sm font-semibold text-gray-800",children:"Callout Resource List"}),m.jsxs("span",{className:"text-xs text-gray-500",children:[s.length," resources"]})]}),m.jsx("div",{className:"max-h-[68vh] overflow-auto",children:m.jsxs("table",{className:"w-full text-xs text-left text-gray-800 border-separate border-spacing-0",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"bg-gray-100 text-gray-900 border-b border-gray-200",children:[m.jsx("th",{className:"px-4 py-2 w-[150px]",children:"Tech ID"}),m.jsx("th",{className:"px-4 py-2 w-[260px]",children:"Outcome"}),m.jsx("th",{className:"px-4 py-2 w-[260px]",children:"Unavailable Until"}),m.jsx("th",{className:"px-4 py-2 w-[220px]",children:"Last Outcome"}),m.jsx("th",{className:"px-4 py-2 w-[120px] text-center",children:"Save"})]})}),m.jsx("tbody",{children:l.length===0?m.jsx("tr",{children:m.jsx("td",{colSpan:5,className:"px-4 py-6 text-center text-gray-500",children:"No resources loaded."})}):l.map(T=>{const k=s.find(K=>K.resourceId===T)??{resourceId:T,name:""},E=f[T]||{outcome:"",availableAgainAt:""},z=!!E.saving,V=!!p[T],Y=E.outcome==="Unavailable",ee=V||!E.outcome||Y&&(!E.availableAgainAt||E.availableAgainAt.trim()==="");return m.jsxs("tr",{className:`border-b border-gray-100 last:border-b-0
                                ${V?"bg-green-50":""}
                              `,children:[m.jsx("td",{className:"px-4 py-2 align-top",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("div",{className:"font-semibold text-gray-900",children:k.resourceId}),m.jsx("div",{className:"text-[11px] text-gray-500",children:k.name})]}),m.jsxs("button",{type:"button",onClick:()=>S(k.resourceId),className:"inline-flex items-center gap-1 text-[11px] px-2 py-1 rounded-md border border-gray-300 hover:bg-gray-100 text-gray-700",children:[m.jsx(pd,{size:11}),"ID"]})]})}),m.jsx("td",{className:"px-4 py-2 align-top",children:m.jsxs("select",{className:`w-full rounded-lg border border-gray-300 px-2 py-1.5 text-xs bg-white
                                    focus:outline-none focus:ring-1 focus:ring-blue-500 disabled:bg-gray-100 disabled:text-gray-400`,disabled:V,value:E.outcome||"",onChange:K=>M(k.resourceId,{outcome:K.target.value}),children:[m.jsx("option",{value:"",children:"Select outcome"}),Object.keys(ci).map(K=>m.jsx("option",{value:K,children:ci[K].label},K))]})}),m.jsx("td",{className:"px-4 py-2 align-top",children:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(fd,{size:14,className:Y&&!V?"text-blue-600":"text-gray-400"}),m.jsx("input",{type:"datetime-local",className:`flex-1 rounded-lg border border-gray-300 px-2 py-1.5 text-xs 
                                      focus:outline-none focus:ring-1 focus:ring-blue-500 
                                      disabled:bg-gray-100 disabled:text-gray-400`,disabled:!Y||V,value:E.availableAgainAt||"",onChange:K=>M(k.resourceId,{availableAgainAt:K.target.value})})]})}),m.jsx("td",{className:"px-4 py-2 align-top",children:R(k)}),m.jsx("td",{className:"px-4 py-2 align-top text-center",children:m.jsxs("button",{type:"button",disabled:ee||z,onClick:()=>C(k.resourceId),className:`
                                    inline-flex items-center justify-center gap-1 
                                    text-[11px] px-3 py-1.5 rounded-md border  
                                    ${V?"border-green-600 bg-green-50 text-green-700":"border-blue-600 text-blue-600 hover:bg-blue-50"}
                                    disabled:opacity-50 disabled:cursor-not-allowed
                                  `,children:[z&&m.jsx(x0,{size:12,className:"animate-spin"}),V?"Saved":"Save"]})})]},T)})})]})})]})]}),m.jsx("div",{className:"flex items-center justify-end px-7 py-3 border-t border-gray-200 bg-gray-50",children:m.jsx("button",{onClick:o,className:"px-3 py-1.5 text-xs sm:text-sm rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-100",children:"Close"})})]})})})};let n_={data:""},i_=t=>{if(typeof window=="object"){let n=(t?t.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return n.nonce=window.__nonce__,n.parentNode||(t||document.head).appendChild(n),n.firstChild}return t||n_},s_=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,o_=/\/\*[^]*?\*\/|  +/g,Mc=/\n+/g,en=(t,n)=>{let s="",o="",a="";for(let u in t){let l=t[u];u[0]=="@"?u[1]=="i"?s=u+" "+l+";":o+=u[1]=="f"?en(l,u):u+"{"+en(l,u[1]=="k"?"":n)+"}":typeof l=="object"?o+=en(l,n?n.replace(/([^,])+/g,d=>u.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,f=>/&/.test(f)?f.replace(/&/g,d):d?d+" "+f:f)):u):l!=null&&(u=/^--/.test(u)?u:u.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=en.p?en.p(u,l):u+":"+l+";")}return s+(n&&a?n+"{"+a+"}":a)+o},Zt={},qd=t=>{if(typeof t=="object"){let n="";for(let s in t)n+=s+qd(t[s]);return n}return t},r_=(t,n,s,o,a)=>{let u=qd(t),l=Zt[u]||(Zt[u]=(f=>{let g=0,p=11;for(;g<f.length;)p=101*p+f.charCodeAt(g++)>>>0;return"go"+p})(u));if(!Zt[l]){let f=u!==t?t:(g=>{let p,v,y=[{}];for(;p=s_.exec(g.replace(o_,""));)p[4]?y.shift():p[3]?(v=p[3].replace(Mc," ").trim(),y.unshift(y[0][v]=y[0][v]||{})):y[0][p[1]]=p[2].replace(Mc," ").trim();return y[0]})(t);Zt[l]=en(a?{["@keyframes "+l]:f}:f,s?"":"."+l)}let d=s&&Zt.g?Zt.g:null;return s&&(Zt.g=Zt[l]),((f,g,p,v)=>{v?g.data=g.data.replace(v,f):g.data.indexOf(f)===-1&&(g.data=p?f+g.data:g.data+f)})(Zt[l],n,o,d),l},a_=(t,n,s)=>t.reduce((o,a,u)=>{let l=n[u];if(l&&l.call){let d=l(s),f=d&&d.props&&d.props.className||/^go/.test(d)&&d;l=f?"."+f:d&&typeof d=="object"?d.props?"":en(d,""):d===!1?"":d}return o+a+(l??"")},"");function js(t){let n=this||{},s=t.call?t(n.p):t;return r_(s.unshift?s.raw?a_(s,[].slice.call(arguments,1),n.p):s.reduce((o,a)=>Object.assign(o,a&&a.call?a(n.p):a),{}):s,i_(n.target),n.g,n.o,n.k)}let Yd,sr,or;js.bind({g:1});let Ut=js.bind({k:1});function l_(t,n,s,o){en.p=n,Yd=t,sr=s,or=o}function on(t,n){let s=this||{};return function(){let o=arguments;function a(u,l){let d=Object.assign({},u),f=d.className||a.className;s.p=Object.assign({theme:sr&&sr()},d),s.o=/ *go\d+/.test(f),d.className=js.apply(s,o)+(f?" "+f:"");let g=t;return t[0]&&(g=d.as||t,delete d.as),or&&g[0]&&or(d),Yd(g,d)}return a}}var c_=t=>typeof t=="function",Ts=(t,n)=>c_(t)?t(n):t,u_=(()=>{let t=0;return()=>(++t).toString()})(),Qd=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let n=matchMedia("(prefers-reduced-motion: reduce)");t=!n||n.matches}return t}})(),d_=20,Yr="default",eh=(t,n)=>{let{toastLimit:s}=t.settings;switch(n.type){case 0:return{...t,toasts:[n.toast,...t.toasts].slice(0,s)};case 1:return{...t,toasts:t.toasts.map(l=>l.id===n.toast.id?{...l,...n.toast}:l)};case 2:let{toast:o}=n;return eh(t,{type:t.toasts.find(l=>l.id===o.id)?1:0,toast:o});case 3:let{toastId:a}=n;return{...t,toasts:t.toasts.map(l=>l.id===a||a===void 0?{...l,dismissed:!0,visible:!1}:l)};case 4:return n.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(l=>l.id!==n.toastId)};case 5:return{...t,pausedAt:n.time};case 6:let u=n.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(l=>({...l,pauseDuration:l.pauseDuration+u}))}}},ps=[],th={toasts:[],pausedAt:void 0,settings:{toastLimit:d_}},Et={},nh=(t,n=Yr)=>{Et[n]=eh(Et[n]||th,t),ps.forEach(([s,o])=>{s===n&&o(Et[n])})},ih=t=>Object.keys(Et).forEach(n=>nh(t,n)),h_=t=>Object.keys(Et).find(n=>Et[n].toasts.some(s=>s.id===t)),zs=(t=Yr)=>n=>{nh(n,t)},f_={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},m_=(t={},n=Yr)=>{let[s,o]=x.useState(Et[n]||th),a=x.useRef(Et[n]);x.useEffect(()=>(a.current!==Et[n]&&o(Et[n]),ps.push([n,o]),()=>{let l=ps.findIndex(([d])=>d===n);l>-1&&ps.splice(l,1)}),[n]);let u=s.toasts.map(l=>{var d,f,g;return{...t,...t[l.type],...l,removeDelay:l.removeDelay||((d=t[l.type])==null?void 0:d.removeDelay)||(t==null?void 0:t.removeDelay),duration:l.duration||((f=t[l.type])==null?void 0:f.duration)||(t==null?void 0:t.duration)||f_[l.type],style:{...t.style,...(g=t[l.type])==null?void 0:g.style,...l.style}}});return{...s,toasts:u}},p_=(t,n="blank",s)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:n,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...s,id:(s==null?void 0:s.id)||u_()}),Ri=t=>(n,s)=>{let o=p_(n,t,s);return zs(o.toasterId||h_(o.id))({type:2,toast:o}),o.id},De=(t,n)=>Ri("blank")(t,n);De.error=Ri("error");De.success=Ri("success");De.loading=Ri("loading");De.custom=Ri("custom");De.dismiss=(t,n)=>{let s={type:3,toastId:t};n?zs(n)(s):ih(s)};De.dismissAll=t=>De.dismiss(void 0,t);De.remove=(t,n)=>{let s={type:4,toastId:t};n?zs(n)(s):ih(s)};De.removeAll=t=>De.remove(void 0,t);De.promise=(t,n,s)=>{let o=De.loading(n.loading,{...s,...s==null?void 0:s.loading});return typeof t=="function"&&(t=t()),t.then(a=>{let u=n.success?Ts(n.success,a):void 0;return u?De.success(u,{id:o,...s,...s==null?void 0:s.success}):De.dismiss(o),a}).catch(a=>{let u=n.error?Ts(n.error,a):void 0;u?De.error(u,{id:o,...s,...s==null?void 0:s.error}):De.dismiss(o)}),t};var g_=1e3,y_=(t,n="default")=>{let{toasts:s,pausedAt:o}=m_(t,n),a=x.useRef(new Map).current,u=x.useCallback((v,y=g_)=>{if(a.has(v))return;let b=setTimeout(()=>{a.delete(v),l({type:4,toastId:v})},y);a.set(v,b)},[]);x.useEffect(()=>{if(o)return;let v=Date.now(),y=s.map(b=>{if(b.duration===1/0)return;let A=(b.duration||0)+b.pauseDuration-(v-b.createdAt);if(A<0){b.visible&&De.dismiss(b.id);return}return setTimeout(()=>De.dismiss(b.id,n),A)});return()=>{y.forEach(b=>b&&clearTimeout(b))}},[s,o,n]);let l=x.useCallback(zs(n),[n]),d=x.useCallback(()=>{l({type:5,time:Date.now()})},[l]),f=x.useCallback((v,y)=>{l({type:1,toast:{id:v,height:y}})},[l]),g=x.useCallback(()=>{o&&l({type:6,time:Date.now()})},[o,l]),p=x.useCallback((v,y)=>{let{reverseOrder:b=!1,gutter:A=8,defaultPosition:S}=y||{},M=s.filter(T=>(T.position||S)===(v.position||S)&&T.height),C=M.findIndex(T=>T.id===v.id),R=M.filter((T,k)=>k<C&&T.visible).length;return M.filter(T=>T.visible).slice(...b?[R+1]:[0,R]).reduce((T,k)=>T+(k.height||0)+A,0)},[s]);return x.useEffect(()=>{s.forEach(v=>{if(v.dismissed)u(v.id,v.removeDelay);else{let y=a.get(v.id);y&&(clearTimeout(y),a.delete(v.id))}})},[s,u]),{toasts:s,handlers:{updateHeight:f,startPause:d,endPause:g,calculateOffset:p}}},v_=Ut`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,__=Ut`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,x_=Ut`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,b_=on("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${v_} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${__} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${x_} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,w_=Ut`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,S_=on("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${w_} 1s linear infinite;
`,T_=Ut`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,A_=Ut`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,C_=on("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${T_} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${A_} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,P_=on("div")`
  position: absolute;
`,k_=on("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,M_=Ut`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,D_=on("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${M_} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,L_=({toast:t})=>{let{icon:n,type:s,iconTheme:o}=t;return n!==void 0?typeof n=="string"?x.createElement(D_,null,n):n:s==="blank"?null:x.createElement(k_,null,x.createElement(S_,{...o}),s!=="loading"&&x.createElement(P_,null,s==="error"?x.createElement(b_,{...o}):x.createElement(C_,{...o})))},E_=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,N_=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,I_="0%{opacity:0;} 100%{opacity:1;}",R_="0%{opacity:1;} 100%{opacity:0;}",O_=on("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,j_=on("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,z_=(t,n)=>{let s=t.includes("top")?1:-1,[o,a]=Qd()?[I_,R_]:[E_(s),N_(s)];return{animation:n?`${Ut(o)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ut(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},B_=x.memo(({toast:t,position:n,style:s,children:o})=>{let a=t.height?z_(t.position||n||"top-center",t.visible):{opacity:0},u=x.createElement(L_,{toast:t}),l=x.createElement(j_,{...t.ariaProps},Ts(t.message,t));return x.createElement(O_,{className:t.className,style:{...a,...s,...t.style}},typeof o=="function"?o({icon:u,message:l}):x.createElement(x.Fragment,null,u,l))});l_(x.createElement);var F_=({id:t,className:n,style:s,onHeightUpdate:o,children:a})=>{let u=x.useCallback(l=>{if(l){let d=()=>{let f=l.getBoundingClientRect().height;o(t,f)};d(),new MutationObserver(d).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[t,o]);return x.createElement("div",{ref:u,className:n,style:s},a)},V_=(t,n)=>{let s=t.includes("top"),o=s?{top:0}:{bottom:0},a=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Qd()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${n*(s?1:-1)}px)`,...o,...a}},Z_=js`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,os=16,W_=({reverseOrder:t,position:n="top-center",toastOptions:s,gutter:o,children:a,toasterId:u,containerStyle:l,containerClassName:d})=>{let{toasts:f,handlers:g}=y_(s,u);return x.createElement("div",{"data-rht-toaster":u||"",style:{position:"fixed",zIndex:9999,top:os,left:os,right:os,bottom:os,pointerEvents:"none",...l},className:d,onMouseEnter:g.startPause,onMouseLeave:g.endPause},f.map(p=>{let v=p.position||n,y=g.calculateOffset(p,{reverseOrder:t,gutter:o,defaultPosition:n}),b=V_(v,y);return x.createElement(F_,{id:p.id,key:p.id,onHeightUpdate:g.updateHeight,className:p.visible?Z_:"",style:b},p.type==="custom"?Ts(p.message,p):a?a(p):x.createElement(B_,{toast:p,position:v}))}))};const H_=[{label:"Operation Toolkit",icon:Ms},{label:"General Settings",icon:bs}],G_=[{label:"Task Admin",icon:vd},{label:"Jeopardy Admin",icon:Ds}],J_=[{label:"Resource Admin",icon:Ls},{label:"Self Service Admin",icon:bs},{label:"User Admin",icon:wd}],U_=[{label:"Domain Admin",icon:yd},{label:"Schedule Admin",icon:hd},{label:"System Admin",icon:md}],$_=x.memo(function({currentMenu:n,onMenuClick:s,activeSubPage:o}){const[a,u]=x.useState(!1),[l,d]=x.useState(null),f=x.useRef(null);x.useEffect(()=>{n!=null&&n.label&&d(n.label.trim())},[n]);const g=x.useCallback(()=>{u(y=>!y)},[]);x.useEffect(()=>{const y=()=>g();return window.addEventListener("toggleSidebar",y),()=>window.removeEventListener("toggleSidebar",y)},[g]),x.useEffect(()=>{if(!a)return;const y=b=>{f.current&&!f.current.contains(b.target)&&u(!1)};return document.addEventListener("mousedown",y,!0),()=>document.removeEventListener("mousedown",y,!0)},[a]),x.useEffect(()=>{const y=()=>d(null);return window.addEventListener("resetSidebarSelection",y),()=>window.removeEventListener("resetSidebarSelection",y)},[]);const p=x.useMemo(()=>[{title:"User Section",menus:H_},{title:"Task Admin",menus:G_},{title:"People Admin",menus:J_},{title:"System Admin",menus:U_}],[]),v=x.useCallback(y=>{const b=y.label.trim();if(l===b&&!(o!==null)){u(!1);return}d(b),s({...y,label:b})},[l,o,s]);return m.jsxs(m.Fragment,{children:[m.jsx(wt,{children:a&&m.jsx(et.div,{initial:{opacity:0},animate:{opacity:.3},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 bg-black/40 backdrop-blur-sm z-20",onClick:()=>u(!1)},"overlay")}),m.jsx(wt,{children:a&&m.jsxs(et.aside,{ref:f,initial:{x:-280,opacity:0},animate:{x:0,opacity:1},exit:{x:-280,opacity:0},transition:{duration:.25,ease:[.25,1,.5,1]},className:`fixed top-0 left-0 bottom-0 w-[280px] flex flex-col justify-between
            bg-white
            border-r border-black/10
            shadow-[4px_0_16px_rgba(0,0,0,0.18)]
            z-50 rounded-none select-none`,children:[m.jsx("div",{className:"flex items-center border-b border-black/10 h-[60px] px-5 bg-white",children:m.jsx("h1",{className:"text-lg font-semibold text-gray-900 tracking-tight",children:"Navigation"})}),m.jsx("div",{className:"flex-1 overflow-y-auto py-4 scrollbar-hide",children:p.map(({title:y,menus:b})=>m.jsxs(Ht.Fragment,{children:[m.jsx(K_,{title:y,menus:b,activeMenuLabel:l,onMenuClick:v}),m.jsx(q_,{})]},y))}),m.jsx(X_,{})]},"sidebar")})]})}),K_=x.memo(function({title:n,menus:s,activeMenuLabel:o,onMenuClick:a}){return m.jsxs("div",{className:"mt-2 px-2",children:[m.jsx("h2",{className:"text-xs font-semibold text-gray-700 uppercase px-4 mb-2 tracking-wide",children:n}),m.jsx("nav",{className:"flex flex-col space-y-1",children:s.map(u=>{const l=u.icon,d=o===u.label;return m.jsxs(et.div,{whileHover:{scale:1.02},whileTap:{scale:.97},transition:{type:"spring",stiffness:260,damping:18},onClick:()=>a(u),className:`relative flex items-center cursor-pointer py-3 pl-5 pr-3 rounded-md text-sm font-medium
                ${d?"bg-gradient-to-r from-blue-100 to-blue-50 text-[#0A4A7A] border border-blue-300 shadow-inner":"text-gray-900 hover:bg-gray-200/60"}`,children:[d&&m.jsx("div",{className:"absolute left-0 top-0 h-full w-[4px] bg-[#0A4A7A] rounded-r-md shadow-[0_0_8px_rgba(10,74,122,0.7)]"}),m.jsx(l,{size:18,strokeWidth:2.4,className:"text-black/80"}),m.jsx("span",{className:"ml-3",children:u.label})]},u.label)})})]})}),X_=x.memo(function(){return m.jsxs("div",{className:"p-4 border-t border-black/10 text-xs text-gray-700 bg-white/60 backdrop-blur-md",children:[m.jsxs("div",{className:"flex items-center justify-between mb-2",children:[m.jsx("span",{className:"font-semibold text-gray-900",children:"System Info"}),m.jsx(w0,{size:14,className:"text-gray-600"})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsxs("p",{children:[m.jsx("b",{children:"Client Version:"})," 1"]}),m.jsxs("p",{children:[m.jsx("b",{children:"Build #:"})," 11.11.2025"]}),m.jsxs("p",{children:[m.jsx("b",{children:"Node:"})," 20.0.0"]})]}),m.jsx("p",{className:"text-center text-gray-500 text-[10px] mt-3 border-t border-black/10 pt-2",children:"Brandon Virtual |  2025"})]})}),q_=x.memo(()=>m.jsx("div",{className:"my-3 mx-4 border-t border-black/10"})),Dc={taskSearch:"",division:[],domainId:[],taskStatuses:[],requester:"",responseCode:[],commitType:[],capabilities:[],jobType:"",scoreCondition:"",scoreValue:"",locationType:"",locationValue:"",pwa:[]},Lc={division:"",domainId:"",taskStatuses:"",commitType:"",responseCode:"",capabilities:"",pwa:""},Y_=["Assigned (ACT)","Not Assigned (ACT)","Dispatched (AWI)","Accepted (ISS)","In Progress (EXC)"],Q_=["Admin Team","CE Build & MDU Build","CE NS/NED","CE PPO & Power","CE PoleTest & Poling","Complex Engineering","Service Delivery"].sort(),ex=["SH01","SH02","SH03","SH04","NONE"],tx=["Appointment","Start By","Complete By"],nx=["RFJBAS","RISDN1","RISDN2","RISDN3","RFTTP1","RFTTP2","SOGEA","OGGA1","OGGA2","FED"].sort(),ix=["ZB-TEST-19","ZB-ALPHA-02","ZB-BETA-03","ZB-DELTA-07","ZB-GAMMA-09"],sx="border border-gray-300 rounded-md text-[12px] px-2 h-[32px] bg-white shadow-sm focus:ring-2 focus:ring-[#0A4A7A]/70 focus:border-[#0A4A7A] text-center placeholder:text-center text-gray-900",ox="border border-gray-300 rounded-md text-[12px] px-2 h-[32px] bg-white shadow-sm focus:ring-2 focus:ring-[#0A4A7A]/70 focus:border-[#0A4A7A] text-center text-gray-900";function rx({onSearch:t,onClear:n,onCopy:s,onExport:o,canCopy:a}){const[u,l]=x.useState(Dc),[d,f]=x.useState(!1),[g,p]=x.useState(!1),[v,y]=x.useState(null),[b,A]=x.useState(Lc),S=x.useRef(null),M=x.useRef(null),C=x.useRef(null),R=x.useRef(null),T=x.useRef(null),k=x.useRef(null),E=x.useRef(null),z={division:M,domainId:E,taskStatuses:S,commitType:k,responseCode:T,capabilities:C,pwa:R},O=x.useMemo(()=>{const I=new Set;return yn.forEach(le=>{le!=null&&le.domain&&I.add(le.domain.toString().toUpperCase())}),Array.from(I).sort()},[]);x.useEffect(()=>{const I=le=>{if(!v)return;const F=le.target;Object.values(z).some(Z=>Z.current&&Z.current.contains(F))||y(null)};return document.addEventListener("mousedown",I),()=>document.removeEventListener("mousedown",I)},[v,z]);const V=I=>{const{name:le,value:F}=I.target;l(G=>({...G,[le]:F}))},Y=(I,le)=>{A(F=>({...F,[I]:le}))},ee=(I,le)=>{l(F=>{const G=Array.isArray(F[I])?F[I]:[],H=G.includes(le)?G.filter(Z=>Z!==le):[...G,le];return{...F,[I]:H}})},K=(I,le)=>{l(F=>{const G=Array.isArray(F[I])?F[I]:[],H=le.every(Z=>G.includes(Z));return{...F,[I]:H?[]:[...le]}})},U=x.useCallback(()=>{t(u)},[u,t]),ge=x.useCallback(()=>{l(Dc),A(Lc),y(null),n()},[n]),ie=x.useMemo(()=>Y_.filter(I=>I.toLowerCase().includes(b.taskStatuses.toLowerCase())),[b.taskStatuses]),de=x.useMemo(()=>Q_.filter(I=>I.toLowerCase().includes(b.division.toLowerCase())),[b.division]),ae=x.useMemo(()=>nx.filter(I=>I.toLowerCase().includes(b.capabilities.toLowerCase())),[b.capabilities]),ue=x.useMemo(()=>ix.filter(I=>I.toLowerCase().includes(b.pwa.toLowerCase())),[b.pwa]),$=x.useMemo(()=>ex.filter(I=>I.toLowerCase().includes(b.responseCode.toLowerCase())),[b.responseCode]),Ce=x.useMemo(()=>tx.filter(I=>I.toLowerCase().includes(b.commitType.toLowerCase())),[b.commitType]),Q=x.useMemo(()=>O.filter(I=>I.toLowerCase().includes(b.domainId.toLowerCase())),[O,b.domainId]);return m.jsxs(et.div,{initial:{opacity:0,y:-6},animate:{opacity:1,y:0},transition:{duration:.25},className:"bg-white border border-gray-200 rounded-xl shadow-md p-0",children:[m.jsxs("div",{className:`flex items-center justify-between gap-4 
    bg-[#0A4A7A] text-white px-5 py-3 
    border-b border-black/20 rounded-t-xl shadow-sm`,children:[m.jsx("h2",{className:"text-sm font-semibold text-white tracking-tight",children:"Search Tasks"}),m.jsxs("div",{className:"relative flex-1 max-w-[420px]",children:[m.jsx("input",{type:"text",name:"taskSearch",value:u.taskSearch,onChange:V,placeholder:"Search by Work ID, Resource ID, or Task ID",className:`w-full h-[36px] border border-white/20 rounded-lg px-9 text-sm text-center 
            bg-white/15 text-white placeholder:text-white/70
            shadow-inner focus:ring-2 focus:ring-white/40 focus:border-white`}),m.jsx(Fr,{size:16,className:"absolute left-2.5 top-2.5 text-white/80"})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("button",{onClick:()=>p(I=>!I),className:"text-white hover:text-white/90 transition",children:m.jsx(bd,{size:18,fill:g?"#facc15":"none"})}),m.jsx("button",{onClick:()=>f(I=>!I),className:"text-white hover:text-white/90 transition",children:d?m.jsx(h0,{size:18}):m.jsx(gd,{size:18})})]})]}),m.jsx(wt,{initial:!1,children:!d&&m.jsxs(et.div,{initial:"collapsed",animate:"open",exit:"collapsed",variants:{open:{opacity:1,height:"auto"},collapsed:{opacity:0,height:0}},transition:{duration:.25},className:"px-4 pb-3 pt-3 space-y-4",children:[m.jsxs("div",{className:"flex flex-wrap justify-start gap-3 bg-white py-3 px-4 border border-gray-200 shadow-sm rounded-lg",children:[m.jsx(pn,{refObj:M,open:v==="division",setOpen:I=>y(I?"division":null),query:b.division,setQuery:I=>Y("division",I),label:"Division",options:de,selected:u.division,toggle:I=>ee("division",I),handleSelectAll:()=>K("division",de),style:{width:"clamp(160px,20vw,190px)"}}),m.jsx(pn,{refObj:E,open:v==="domainId",setOpen:I=>y(I?"domainId":null),query:b.domainId,setQuery:I=>Y("domainId",I),label:"Domain ID",options:Q,selected:u.domainId,toggle:I=>ee("domainId",I),handleSelectAll:()=>K("domainId",Q),style:{width:"clamp(160px,20vw,190px)"}}),m.jsx(pn,{refObj:S,open:v==="taskStatuses",setOpen:I=>y(I?"taskStatuses":null),query:b.taskStatuses,setQuery:I=>Y("taskStatuses",I),label:"Task Status",options:ie,selected:u.taskStatuses,toggle:I=>ee("taskStatuses",I),handleSelectAll:()=>K("taskStatuses",ie),style:{width:"clamp(160px,22vw,210px)"}}),m.jsx(rs,{name:"requester",value:u.requester,onChange:V,placeholder:"Requester",style:{width:"clamp(160px,20vw,190px)"}}),m.jsx(rs,{name:"jobType",value:u.jobType,onChange:V,placeholder:"Job Type",style:{width:"clamp(160px,20vw,190px)"}}),m.jsx(pn,{refObj:k,open:v==="commitType",setOpen:I=>y(I?"commitType":null),query:b.commitType,setQuery:I=>Y("commitType",I),label:"Commit Type",options:Ce,selected:u.commitType,toggle:I=>ee("commitType",I),handleSelectAll:()=>K("commitType",Ce),style:{width:"clamp(160px,22vw,210px)"}}),m.jsx(pn,{refObj:T,open:v==="responseCode",setOpen:I=>y(I?"responseCode":null),query:b.responseCode,setQuery:I=>Y("responseCode",I),label:"Response Code",options:$,selected:u.responseCode,toggle:I=>ee("responseCode",I),handleSelectAll:()=>K("responseCode",$),style:{width:"clamp(160px,20vw,190px)"}})]}),m.jsxs("div",{className:"flex flex-wrap items-end justify-start gap-4 bg-white py-3 px-4 border border-gray-200 shadow-sm rounded-lg",children:[m.jsxs("div",{className:"flex flex-col",style:{width:"clamp(160px,16vw,200px)"},children:[m.jsx("label",{className:"text-[11px] font-semibold text-gray-800 mb-[3px]",children:"IMP Score"}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(Ec,{name:"scoreCondition",value:u.scoreCondition,onChange:V,placeholder:"Condition",options:[{value:"greater",label:"Greater Than"},{value:"less",label:"Less Than"}],style:{width:"clamp(100px,10vw,140px)"}}),m.jsx(rs,{name:"scoreValue",value:u.scoreValue,onChange:V,placeholder:"Value",style:{width:"clamp(50px,5vw,70px)"}})]})]}),m.jsxs("div",{className:"flex flex-col",style:{width:"clamp(150px,18vw,220px)"},children:[m.jsx("label",{className:"text-[11px] font-semibold text-gray-800 mb-[3px]",children:"PWA Selector"}),m.jsx(pn,{refObj:R,open:v==="pwa",setOpen:I=>y(I?"pwa":null),query:b.pwa,setQuery:I=>Y("pwa",I),label:"Select PWA",options:ue,selected:u.pwa,toggle:I=>ee("pwa",I),handleSelectAll:()=>K("pwa",ue),style:{width:"clamp(150px,18vw,220px)"}})]}),m.jsxs("div",{className:"flex flex-col",style:{width:"clamp(160px,18vw,220px)"},children:[m.jsx("label",{className:"text-[11px] font-semibold text-gray-800 mb-[3px]",children:"Location Fields"}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(Ec,{name:"locationType",value:u.locationType,onChange:V,placeholder:"Type",options:[{value:"Postcode",label:"Postcode"},{value:"Exchange",label:"Exchange"},{value:"1141",label:"1141"},{value:"GroupCode",label:"Group Code"}],className:"",style:{width:"clamp(100px,10vw,140px)"}}),m.jsx(rs,{name:"locationValue",value:u.locationValue,onChange:V,placeholder:"Value",style:{width:"clamp(50px,6vw,70px)"}})]})]}),m.jsxs("div",{className:"flex flex-col",style:{width:"clamp(150px,18vw,220px)"},children:[m.jsx("label",{className:"text-[11px] font-semibold text-gray-800 mb-[3px]",children:"Capabilities"}),m.jsx(pn,{refObj:C,open:v==="capabilities",setOpen:I=>y(I?"capabilities":null),query:b.capabilities,setQuery:I=>Y("capabilities",I),label:"Select Capabilities",options:ae,selected:u.capabilities,toggle:I=>ee("capabilities",I),handleSelectAll:()=>K("capabilities",ae),style:{width:"clamp(150px,18vw,220px)"}})]})]})]})}),m.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-gray-200 px-4 pb-3 bg-slate-50 rounded-b-xl",children:[m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>a&&s?s():De.error("No data to copy"),disabled:!a,className:`text-xs px-3 py-1.5 border rounded-md shadow-sm transition
              ${a?"border-gray-300 bg-white hover:bg-gray-100 text-gray-700":"border-gray-200 bg-gray-100 text-gray-400 cursor-not-allowed"}`,children:"Copy"}),m.jsx("button",{onClick:()=>a&&o?o():De.error("No data to export"),disabled:!a,className:`text-xs px-3 py-1.5 border rounded-md shadow-sm transition
              ${a?"border-gray-300 bg-white hover:bg-gray-100 text-gray-700":"border-gray-200 bg-gray-100 text-gray-400 cursor-not-allowed"}`,children:"CSV"})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:U,className:"text-xs px-3 py-1.5 border border-[#0A4A7A] bg-[#0A4A7A] text-white rounded-md hover:bg-[#08385E] shadow-sm",children:"Search"}),m.jsx("button",{onClick:ge,className:"text-xs px-3 py-1.5 border border-gray-300 rounded-md bg-white hover:bg-gray-100 shadow-sm",children:"Clear"})]})]})]})}const rs=({name:t,value:n,onChange:s,placeholder:o,className:a="",style:u})=>m.jsx("input",{type:"text",name:t,value:n,onChange:s,placeholder:o,className:`${sx} ${a}`,style:u}),Ec=({name:t,value:n,onChange:s,placeholder:o,options:a,className:u="",style:l})=>m.jsxs("select",{name:t,value:n,onChange:s,className:`${ox} ${u}`,style:l,children:[m.jsx("option",{value:"",disabled:!0,hidden:!0,children:o}),a.map(d=>m.jsx("option",{value:d.value,className:"text-center",children:d.label},d.value))]}),pn=({refObj:t,open:n,setOpen:s,query:o,setQuery:a,label:u,options:l,selected:d,toggle:f,handleSelectAll:g,className:p="",style:v})=>{const y=l.length>0&&l.every(b=>d.includes(b));return m.jsxs("div",{ref:t,className:`relative ${p}`,style:v,children:[m.jsxs("div",{onClick:()=>s(!n),className:"w-full h-[34px] px-3 text-[12px] border border-gray-300 rounded-md bg-white text-gray-900 shadow-sm cursor-pointer flex items-center justify-between hover:border-gray-400 focus-within:ring-2 focus-within:ring-blue-500/70",children:[m.jsx("span",{className:"truncate w-full text-center pr-4",children:d.length>0?`${d.length} selected`:u}),m.jsx(Nc,{size:14,className:"text-gray-600 flex-shrink-0"})]}),m.jsx(wt,{children:n&&m.jsxs(et.div,{initial:{opacity:0,y:-6},animate:{opacity:1,y:0},exit:{opacity:0,y:-6},transition:{duration:.2},className:"absolute z-[9999] mt-1 p-2 text-[12px] bg-white border border-gray-300 rounded-lg shadow-2xl w-full",style:{minWidth:"min(90vw,320px)"},children:[m.jsx("input",{type:"text",placeholder:`Filter ${u.toLowerCase()}...`,value:o,onChange:b=>a(b.target.value),autoFocus:!0,className:"w-full mb-2 px-2 py-1 text-[12px] border border-gray-300 rounded-md shadow-sm bg-white focus:ring-2 focus:ring-blue-500/70 focus:border-blue-500 text-center placeholder:text-center"}),m.jsxs("div",{className:"sticky top-0 px-2 py-1 mb-1 text-[12px] bg-slate-50 border border-gray-200 rounded-md flex justify-between items-center font-medium shadow-sm",children:[m.jsx("span",{className:"text-gray-800",children:y?"Clear All Results":"Select All Results"}),y?m.jsx(xd,{size:16,className:"text-[#0A4A7A] cursor-pointer",onClick:g}):m.jsx(_d,{size:16,className:"text-[#0A4A7A] cursor-pointer",onClick:g})]}),m.jsx("div",{className:"overflow-y-auto",style:{maxHeight:"calc(var(--vh, 1vh) * 45)",scrollbarWidth:"thin",scrollbarColor:"#9ca3af #e5e7eb"},children:l.map(b=>m.jsxs("label",{className:"flex items-center gap-2 px-2 py-1 hover:bg-blue-50 cursor-pointer border-b border-gray-100 last:border-b-0",children:[m.jsx("input",{type:"checkbox",checked:d.includes(b),onChange:()=>f(b),className:"accent-[#0A4A7A]"}),m.jsx("span",{className:"text-gray-900",children:b})]},b))})]})})]})},pi={"Operation Toolkit":[{name:"Resource Management",description:"Manage all available resources, teams, and assets."},{name:"Task Management",description:"Oversee and assign operational tasks efficiently."},{name:"Schedule Live",description:"Monitor and adjust live schedules in real-time."},{name:"Schedule Explorer",description:"Browse and analyze upcoming schedules and plans."},{name:"Callout Overview",description:"Review all ongoing and past callout events."},{name:"Callout Launch",description:"Initiate and configure new callout operations."}],"General Settings":[{name:"System Preferences",description:"Modify user-level settings, preferences, and themes."},{name:"API Keys",description:"Manage access tokens and integrations securely."}],"Task Admin":[{name:"Task Type",description:"Define and manage task categories and types."},{name:"Task Routing",description:"Configure task routing and escalation rules."},{name:"Task Importance",description:"Set and manage task priority and importance levels."}],"Jeopardy Admin":[{name:"Alert Definitions",description:"Define and manage all alert templates."},{name:"Alert Action Definition",description:"Configure automated or manual alert responses."},{name:"Alert Parameter Definition",description:"Set up variable parameters and alert thresholds."},{name:"Alert Ranking",description:"Prioritize and rank alerts by severity or impact."},{name:"Alert Exclusion",description:"Manage exceptions and exclusion rules for alerts."}],"Resource Admin":[{name:"Rota Day Record",description:"Manage and track individual rota day records."},{name:"Rota Week Record",description:"Oversee weekly rota summaries and status tracking."},{name:"Rota Template Record",description:"Design and configure rota templates for scheduling."},{name:"Closure User Group",description:"Administer closure groups for specific operations."},{name:"Access Restriction",description:"Set user and role-based access limitations."},{name:"Personal Overtime",description:"Monitor and manage personal overtime records."},{name:"Business Overtime",description:"Control and review business-wide overtime data."}],"Self Service Admin":[{name:"Self Selection Settings Admin",description:"Configure system-wide self-selection settings."},{name:"Self Selection Task Rating Admin",description:"Manage task rating parameters."},{name:"Self Selection Patch Admin",description:"Handle patch management for self-selection."},{name:"Self Selection Work Type Admin",description:"Control available work types."}],"User Admin":[{name:"User Account",description:"Create and manage system user accounts and credentials."},{name:"User ID",description:"View and assign unique user identification numbers."},{name:"Unbar User",description:"Unblock or reinstate restricted user accounts."},{name:"User Role Profile",description:"Define user roles and associated permissions."},{name:"Supervisor Change Password",description:"Allow supervisors to reset/change passwords."}],"Domain Admin":[{name:"Domain Building",description:"Configure and structure operational domains."},{name:"Post Areas",description:"Define post boundaries, checkpoints, and zones."},{name:"Travel Areas",description:"Set travel regions and mobility zones."},{name:"Asset",description:"Manage fixed and movable assets."},{name:"Workforce",description:"Assign and monitor domain workforce allocations."},{name:"Division",description:"Oversee structural divisions."}],"Schedule Admin":[{name:"MSS Admin",description:"Manage and configure the Master Schedule System."},{name:"SRM Admin",description:"Administer SRM modules & permissions."},{name:"SRM Audit",description:"Audit SRM changes and scheduling history."}],"System Admin":[{name:"Algorithm Parameters",description:"Configure algorithm behaviors & weights."},{name:"System Code Editor",description:"Maintain scripts, triggers & automation."},{name:"Record Audit",description:"Review detailed audit trails."},{name:"Public Holiday",description:"Manage holiday dates affecting schedules."},{name:"General Travel Times",description:"Configure default travel time settings."}]};Object.entries(pi).flatMap(([t,n])=>n.map(s=>({...s,menuLabel:t})));function ax(){const t=x.useRef(null),[n,s]=x.useState(null),[o,a]=x.useState(null),[u,l]=x.useState([]),d=520,f=720,g=16,p=24,v=1900,y=1e3,b=900,A=C=>{const R=window.screen.availWidth,T=window.screen.availHeight;if(C===1){const V=Math.min(f+p*2,R-40,v),Y=Math.min(b,T-80,y);return{width:V,height:Y}}const k=Math.min(C,3),E=d*k+g*(k-1)+p*2,z=Math.min(E,R-40,v),O=Math.min(y,T-80);return{width:z,height:O}},S=x.useCallback(()=>{const C=t.current;C&&!C.closed&&C.close(),t.current=null,s(null),a(null),l([])},[]),M=x.useCallback((C,R,T)=>{if(!C||C.length===0)return;t.current&&!t.current.closed&&t.current.close();const{width:k,height:E}=A(C.length),z=window.screen.availWidth,O=window.screen.availHeight,V=Math.max(0,(z-k)/2),Y=Math.max(0,(O-E)/2),ee=`
        width=${k},
        height=${E},
        left=${V},
        top=${Y},
        toolbar=0,
        menubar=0,
        location=0,
        status=0,
        scrollbars=1,
        resizable=1
      `,K=window.open("/popup.html","_blank",ee);K&&(t.current=K,K.__POPUP_DATA__={tasks:C,expanded:u},K.__POPUP_CLOSE__=()=>S(),K.onload=()=>{try{K.__POPUP_DATA__={tasks:C,expanded:u}}catch{}},a(C),l([]),s(null))},[u,S]);return{externalContainer:n,externalTasks:o,externalExpandedSections:u,openExternalWindow:M,closeExternalWindow:S,setExternalExpandedSections:l}}const No={"Operation Toolkit":Ms,"General Settings":bs,"Task Admin":vd,"Jeopardy Admin":Ds,"Resource Admin":Ls,"Self Service Admin":bs,"User Admin":wd,"Domain Admin":yd,"Schedule Admin":hd,"System Admin":md},bi={taskId:"Task ID",taskStatus:"Task Status",taskType:"Task Type",primarySkill:"Primary Skill",importanceScore:"Importance Score",msc:"MSC",taskCreated:"Task Created",groupCode:"Group Code",systemType:"System Type",employeeId:"Employee ID",resourceName:"Resource Name",asset:"Asset",assetName:"Asset Name",commitmentDate:"Commitment Date",commitmentType:"Commitment Type",arrivedAtDate:"Arrived At Date",domain:"Domain",estimatedDuration:"Estimated Duration",lastProgression:"Last Progression",category:"Category",description:"Description",responseCode:"Response Code",postCode:"Post Code",appointmentStartDate:"Appointment Start Date",linkedTask:"Linked Task",customerAddress:"Customer Address",expectedStartDate:"Expected Start Date",expectedFinishDate:"Expected Finish Date",externalQueueId:"External Queue Id",workId:"Work Id",estimateNumber:"Estimate Number",startDate:"Start Date"},lx=["Work Details","Commitments / Customer / Location","Scheduling / Resources","Access Restrictions","Notes","Progress Notes","Closure"];function cx(t,n){var o,a,u,l,d,f,g,p,v;let s=[...t];if((o=n.taskSearch)!=null&&o.trim()){const y=n.taskSearch.toLowerCase();s=s.filter(b=>[b.taskId,b.resourceName,b.workId,b.assetName,b.description].join(" ").toLowerCase().includes(y))}if((a=n.division)!=null&&a.length&&(s=s.filter(y=>n.division.includes(y.groupCode))),(u=n.domainId)!=null&&u.length&&(s=s.filter(y=>n.domainId.includes(String(y.domain||"").toUpperCase()))),(l=n.taskStatuses)!=null&&l.length&&(s=s.filter(y=>n.taskStatuses.includes(y.taskStatus))),(d=n.responseCode)!=null&&d.length&&(s=s.filter(y=>n.responseCode.includes(y.responseCode))),(f=n.requester)!=null&&f.trim()){const y=n.requester.toLowerCase();s=s.filter(b=>String(b.resourceName||"").toLowerCase().includes(y))}if((g=n.commitType)!=null&&g.length&&(s=s.filter(y=>n.commitType.includes(y.commitmentType))),(p=n.capabilities)!=null&&p.length&&(s=s.filter(y=>n.capabilities.includes(y.primarySkill))),(v=n.jobType)!=null&&v.trim()){const y=n.jobType.toLowerCase();s=s.filter(b=>String(b.taskType||"").toLowerCase().includes(y))}return s}function ux(t,n){return`
    <table border="1" cellpadding="4" cellspacing="0">
      <thead><tr>${t.map(s=>`<th>${bi[s]}</th>`).join("")}</tr></thead>
      <tbody>${n.map(s=>`<tr>${t.map(o=>`<td>${s[o]??""}</td>`).join("")}</tr>`).join("")}</tbody>
    </table>`}function dx(t,n){const s=t.map(a=>bi[a]).join(","),o=n.map(a=>t.map(u=>a[u]??"").join(","));return[s,...o].join(`
`)}const sh=x.memo(({currentMenu:t,windowWidth:n,searchQuery:s,setSearchQuery:o,globalResults:a,showDropdown:u,setShowDropdown:l,onSelectResult:d,onToggleSidebar:f})=>m.jsxs("header",{className:`
        relative z-30
        flex items-center justify-between
        bg-[#0A4A7A]       /* deep blue */
        text-white
        h-[70px]
        px-4 sm:px-6
        shadow-[0_2px_6px_rgba(0,0,0,0.35)]   /* MUCH deeper shadow */
      `,children:[m.jsx("div",{className:`absolute bottom-[-10px] left-0 w-full h-[10px]
                      bg-gradient-to-b from-black/15 to-transparent pointer-events-none`}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("button",{onClick:f,className:`w-[42px] h-[42px] flex items-center justify-center rounded-md 
             hover:bg-black/10 transition`,children:m.jsx(P0,{size:28,strokeWidth:3.2,className:"text-black/90"})}),m.jsx("h1",{className:"font-semibold text-lg hidden sm:block tracking-tight",children:(t==null?void 0:t.label)??"Dashboard"})]}),m.jsxs("div",{className:"flex items-center gap-4 relative",children:[m.jsxs("div",{className:"relative",children:[m.jsx(Fr,{size:18,className:"absolute left-3 top-2.5 text-white/80"}),m.jsx("input",{placeholder:"Search anywhere...",value:s,onChange:g=>o(g.target.value),onFocus:()=>l(a.length>0),className:`pl-9 pr-3 py-2 rounded-md border border-white/30 bg-white/10 
                       text-sm text-white placeholder-white/70
                       focus:outline-none focus:ring-2 focus:ring-white/40`,style:{width:"clamp(180px,22vw,280px)"}}),m.jsx(wt,{children:u&&a.length>0&&m.jsx(et.ul,{initial:{opacity:0,y:-4},animate:{opacity:1,y:0},exit:{opacity:0,y:-4},transition:{duration:.15},className:`absolute right-0 mt-2 w-full bg-white text-gray-800
                           rounded-md shadow-xl border border-gray-200 z-[9999]`,children:a.map((g,p)=>m.jsxs("li",{onMouseDown:()=>d(g),className:"px-4 py-2 hover:bg-blue-50 cursor-pointer text-sm",children:[m.jsx("div",{className:"font-medium",children:g.name}),m.jsx("div",{className:"text-xs text-gray-500",children:g.category})]},p))})})]}),m.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center
             bg-[#0A0A0A] border border-white/20 shadow-lg`,children:m.jsx(bf,{size:18,className:"text-white"})})]})]}));sh.displayName="Header";const oh=x.memo(({currentMenu:t,filteredItems:n,windowWidth:s,onCardClick:o})=>{var u;const a=((u=t==null?void 0:t.label)==null?void 0:u.split(" ")[0])??"Dashboard";return m.jsxs("div",{className:"flex flex-col w-full max-w-6xl mx-auto px-6 sm:px-10 lg:px-16 py-12",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-2",children:[Ht.createElement((t==null?void 0:t.icon)||ds,{size:30,className:"text-[#0A4A7A]"}),m.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:s<950?a:t==null?void 0:t.label})]}),m.jsx("p",{className:"text-gray-500 text-sm",children:t!=null&&t.label?`${t.label} Overview`:"Overview of your workspace"})]}),m.jsx(wt,{mode:"wait",children:m.jsx(et.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.25},className:`mt-6 grid ${s<950?"grid-cols-1":"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3"} gap-8 place-items-center`,children:n.length?n.map((l,d)=>m.jsxs(et.div,{whileHover:{scale:1.02},onClick:()=>o(l),className:`cursor-pointer bg-white rounded-xl border border-gray-200 shadow-sm 
                               p-6 w-full sm:w-72 md:w-80 min-h-[140px] text-center hover:shadow-md transition-all`,children:[m.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-900",children:l.name}),m.jsx("p",{className:"text-gray-600 text-sm",children:l.description})]},d)):m.jsx("div",{className:"col-span-full flex justify-center mt-12",children:m.jsx("p",{className:"text-gray-400 text-sm",children:"No results found."})})},(t==null?void 0:t.label)||"default")})]})});oh.displayName="MainContent";function hx(){const t="Operation Toolkit",[n,s]=x.useState({label:t,icon:No[t]||ds}),[o,a]=x.useState(pi[t]||[]),[u,l]=x.useState(null),[d,f]=x.useState(""),[g,p]=x.useState([]),[v,y]=x.useState(!1),[b,A]=x.useState(window.innerWidth),[S,M]=x.useState(window.innerHeight),[C,R]=x.useState(1),[T,k]=x.useState([]),[E,z]=x.useState([]),[O,V]=x.useState(!1),[Y,ee]=x.useState([]),[K,U]=x.useState(!1),ge=x.useMemo(()=>{const N=Y.map(W=>W.calloutGroup).filter(W=>!!W);return Array.from(new Set(N)).sort()},[Y]),[ie,de]=x.useState([]),{externalContainer:ae,externalTasks:ue,externalExpandedSections:$,openExternalWindow:Ce,closeExternalWindow:Q,setExternalExpandedSections:I}=ax(),[le,F]=x.useState(!1),[G,H]=x.useState(null),[Z,X]=x.useState(!1),[te,oe]=x.useState([]),we=x.useCallback(N=>{H(N),X(!0)},[]);x.useEffect(()=>{k(yn),V(!0)},[]),x.useEffect(()=>{try{ee(Td),U(!0)}catch{De.error("Error loading resource data.")}},[]),x.useEffect(()=>{const N=()=>{const Oe=window.innerHeight*.01;document.documentElement.style.setProperty("--vh",`${Oe}px`)},W=()=>{A(window.innerWidth),M(window.innerHeight),N();const Oe=window.innerHeight,je=Math.max(.75,Math.min(1,Oe/900));R(Number(je.toFixed(2))),document.documentElement.style.setProperty("--ui-scale",String(je));const Xe=Math.max(13,Math.min(16,Math.round(Oe/60)));document.documentElement.style.fontSize=`${Xe}px`};N();const ye=window.innerHeight,Se=Math.max(.75,Math.min(1,ye/900));R(Number(Se.toFixed(2))),document.documentElement.style.setProperty("--ui-scale",String(Se));const Le=Math.max(13,Math.min(16,Math.round(ye/60)));return document.documentElement.style.fontSize=`${Le}px`,window.addEventListener("resize",W),()=>window.removeEventListener("resize",W)},[]);const ke=x.useMemo(()=>Object.entries(pi).flatMap(([N,W])=>W.map(ye=>({...ye,category:N}))),[]);x.useEffect(()=>{if(!d.trim()){p([]),y(!1);return}const N=ke.filter(W=>W.name.toLowerCase().includes(d.toLowerCase()));p(N),y(N.length>0)},[d,ke]);const Ve=x.useCallback(N=>{const W=N.label;s({label:W,icon:No[W]||ds}),a(pi[W]||[]),z([]),l(null),f(""),p([]),y(!1)},[]),xe=x.useCallback(N=>{N.name==="Task Management"&&(l("TaskManagement"),z([])),N.name==="Schedule Live"&&l("ScheduleLive")},[]),Me=x.useCallback(N=>{if(!O){De.error("Data not loaded yet.");return}const W=cx(T,N);if(W.length===0){z([]),De.error("No matching tasks found.");return}z(W)},[T,O]),tt=x.useCallback(()=>{z([]),de([]),De.success("Filters cleared.",{id:"clear-toast",icon:""})},[]),Re=E.length>0,lt=x.useCallback(async()=>{if(!Re){De.error("No data to copy.");return}const N=Object.keys(bi),W=ux(N,E);await navigator.clipboard.writeText(W),De.success("Copied",{icon:""})},[E,Re]),Ie=x.useCallback(()=>{if(!Re){De.error("No data to export.");return}const N=Object.keys(bi),W=dx(N,E),ye=new Blob([W],{type:"text/csv;charset=utf-8;"}),Se=document.createElement("a");Se.href=URL.createObjectURL(ye),Se.download="FilteredTasks.csv",Se.click(),De.success("Exported",{icon:""})},[E,Re]),St=x.useCallback(N=>{f(""),y(!1);const W=N.category,ye=pi[W]||[];s({label:W,icon:No[W]||ds}),a(ye),l(N.name==="Task Management"?"TaskManagement":null)},[]),Tt=x.useCallback((N,W,ye)=>{!N||N.length===0||Ce(N,W,ye)},[Ce]),nt=(N,W)=>{switch(W){case"AssignDispatchedAWI":case"CalloutDispatchedAWI":return"Dispatched (AWI)";case"PendingACT":return"Assigned (ACT)";case"Disturbance":case"NoReply":return"Callout Failed";case"Refusal":return"Refused";case"Unavailable":return"Awaiting Resource";default:return N}},ct=(N,W)=>{switch(W){case"AssignDispatchedAWI":case"CalloutDispatchedAWI":return"Busy";case"PendingACT":return"Pending";case"Disturbance":return"Flagged";case"NoReply":return"No Reply";case"Refusal":return"Refused";case"Unavailable":return"Unavailable";default:return N||"Available"}},At=x.useCallback(async N=>{const{taskId:W,resourceId:ye,outcome:Se,availableAgainAt:Le}=N,Oe=new Date().toISOString();ee(Xe=>Xe.map(j=>{if(j.resourceId!==ye)return j;const J=j.lastOutcome??null,ce=j.availableAgainAt??null;return{...j,status:ct(j.status,Se),lastOutcome:Se,availableAgainAt:Se==="Unavailable"?Le??null:null,history:[...j.history??[],{previousOutcome:J,previousAvailableAgainAt:ce,changedAt:Oe,taskIdUsed:W??null,outcomeApplied:Se}]}}));const je=Xe=>Xe.map(j=>{if(j.taskId!==W)return j;const J=j.taskStatus,ce=j.employeeId??null;return{...j,taskStatus:nt(j.taskStatus,Se),employeeId:ye,lastOutcome:Se,availableAgainAt:Se==="Unavailable"?Le??null:null,updatedAt:Oe,history:[...j.history??[],{previousTaskStatus:J,previousEmployeeId:ce,changedAt:Oe,outcomeApplied:Se,resourceIdUsed:ye}]}});k(Xe=>je(Xe)),z(Xe=>je(Xe))},[]),Ct=x.useCallback(N=>{I(W=>W.includes(N)?W.filter(ye=>ye!==N):[...W,N])},[I]),$t=x.useCallback(()=>{I(lx)},[I]),Pt=x.useCallback(()=>{I([])},[I]);return m.jsxs("div",{className:"overflow-hidden bg-[#F5F7FA] text-gray-900 font-inter relative w-full",style:{height:`calc(var(--vh, 1vh) * 100 / ${C})`,width:`${100/C}vw`,transform:`scale(${C})`,transformOrigin:"top left"},children:[m.jsx(W_,{position:"top-center"}),m.jsx($_,{currentMenu:n,onMenuClick:Ve}),m.jsxs("main",{className:"flex flex-col flex-1 min-w-0 h-full",children:[m.jsx(sh,{currentMenu:n,windowWidth:b,searchQuery:d,setSearchQuery:f,globalResults:g,showDropdown:v,setShowDropdown:y,onSelectResult:St,onToggleSidebar:()=>window.dispatchEvent(new CustomEvent("toggleSidebar"))}),m.jsxs("div",{className:"flex-1 min-h-0 bg-white flex flex-col",children:[u==="TaskManagement"&&m.jsxs("section",{className:"p-8 space-y-5",children:[m.jsx(rx,{onSearch:Me,onClear:tt,onCopy:lt,onExport:Ie,canCopy:Re}),O?E.length>0?m.jsx($r,{rows:E,headerNames:bi,onOpenPopout:Tt,onOpenCalloutIncident:we}):m.jsxs("div",{className:"p-10 text-center text-gray-500 border border-dashed border-gray-300 rounded-xl bg-gray-50",children:["No tasks loaded yet. Please apply filters and press"," ",m.jsx("b",{children:"Search"}),"."]}):m.jsx("div",{className:"p-10 text-center text-gray-500",children:"Loading task data..."})]}),u==="ScheduleLive"&&m.jsx(Qv,{}),!u&&m.jsx(oh,{currentMenu:n,filteredItems:o,windowWidth:b,onCardClick:xe})]})]}),Z&&m.jsx(B0,{allResources:Y,calloutGroups:ge,onStart:N=>{const W=Y.filter(ye=>ye.calloutGroup===N);oe(W),X(!1),F(!0)}}),m.jsx(t_,{open:le,task:G,resources:te.length?te:Y,onClose:()=>{F(!1),oe([])},onSaveRow:At}),ae&&ue&&ue.length>0&&Vr.createPortal(m.jsx(wf,{open:!0,tasks:ue,expanded:$,onToggleSection:Ct,onExpandAll:$t,onCollapseAll:Pt,onClose:Q}),ae)]})}function fx(){return m.jsx(hx,{})}Sf.createRoot(document.getElementById("root")).render(m.jsx(fx,{}));
