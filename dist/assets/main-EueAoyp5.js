import{u as ol,a as sr,b as Uo,G as au,T as lu,R as cu,D as uu,c as du,d as Ei,e as sl,f as pu,s as hu,g as jt,h as Bt,i as Ft,j as Be,k as st,l as bt,m as Wt,P as vt,n as Ct,o as Js,p as Eo,q as ei,r as mu,C as fu,A as gu,t as Dt,v as rr,w as oo,x as K,y as ki,z as ai,B as ua,E as Cs,I as ln,F as ti,H as co,J as rl,K as qo,L as al,M as Ko,N as ll,O as Ro,Q as cl,S as qt,U as Wo,V as ul,W as yu,X as ye,Y as vu,Z as Xo,_ as ar,$ as da,a0 as xu,a1 as lr,a2 as _u,a3 as pi,a4 as bu,a5 as pa,a6 as Su,a7 as ha,a8 as Zo,a9 as Se,aa as an,ab as ji,ac as Ae,ad as Nt,ae as wu,af as Vs,ag as _t,ah as Ri,ai as Cu,aj as Tu,ak as Ts,al as As,am as Au,an as ks,ao as Ps,ap as Is,aq as Yo,ar as To,as as Ms,at as dl,au as pl,av as hl,aw as ml,ax as ku,ay as Pu,az as Iu,aA as Mu}from"./index-DHU7bg4n.js";import{r as u,j as a,m as hn,A as di,R as vn,a as Du}from"./vendor-motion-BQO2KiUE.js";import{U as Qo,C as Lu,X as so,a as fl,b as Eu,L as es,S as Us,E as Ru,T as cr,c as Nu,d as ts,M as Ou,e as zu,f as ju,I as Bu,g as ur,h as Fu,i as Wu,j as Ho,k as gl,G as yl,l as vl,m as xl,n as Zu,B as Hu,o as $u,p as Gu,F as No}from"./vendor-icons-CGejAD0Y.js";import{g as Ju}from"./vendor-react-DJG_os-6.js";const Vu=n=>{const i=u.useRef({});return u.useEffect(()=>{i.current=n}),i.current},_l=u.createContext(null);function dr(){return u.useContext(_l)}const Uu=typeof Symbol=="function"&&Symbol.for,qu=Uu?Symbol.for("mui.nested"):"__THEME_NESTED__";function Ku(n,i){return typeof i=="function"?i(n):{...n,...i}}function Xu(n){const{children:i,theme:s}=n,l=dr(),d=u.useMemo(()=>{const h=l===null?{...s}:Ku(l,s);return h!=null&&(h[qu]=l!==null),h},[s,l]);return a.jsx(_l.Provider,{value:d,children:i})}function Yu(n){const i=ol(),s=sr()||"",{modularCssLayers:l}=n;let d="mui.global, mui.components, mui.theme, mui.custom, mui.sx";return!l||i!==null?d="":typeof l=="string"?d=l.replace(/mui(?!\.)/g,d):d=`@layer ${d};`,Uo(()=>{var m,f;const h=document.querySelector("head");if(!h)return;const p=h.firstChild;if(d){if(p&&((m=p.hasAttribute)!=null&&m.call(p,"data-mui-layer-order"))&&p.getAttribute("data-mui-layer-order")===s)return;const _=document.createElement("style");_.setAttribute("data-mui-layer-order",s),_.textContent=d,h.prepend(_)}else(f=h.querySelector(`style[data-mui-layer-order="${s}"]`))==null||f.remove()},[d,s]),d?a.jsx(au,{styles:d}):null}const ma={};function fa(n,i,s,l=!1){return u.useMemo(()=>{const d=n&&i[n]||i;if(typeof s=="function"){const h=s(d),p=n?{...i,[n]:h}:h;return l?()=>p:p}return n?{...i,[n]:s}:{...i,...s}},[n,i,s,l])}function bl(n){const{children:i,theme:s,themeId:l}=n,d=ol(ma),h=dr()||ma,p=fa(l,d,s),m=fa(l,h,s,!0),f=(l?p[l]:p).direction==="rtl",_=Yu(p);return a.jsx(Xu,{theme:m,children:a.jsx(lu.Provider,{value:p,children:a.jsx(cu,{value:f,children:a.jsxs(uu,{value:l?p[l].components:p.components,children:[_,i]})})})})}const pr="mode",hr="color-scheme",Qu="data-color-scheme";function ed(n){const{defaultMode:i="system",defaultLightColorScheme:s="light",defaultDarkColorScheme:l="dark",modeStorageKey:d=pr,colorSchemeStorageKey:h=hr,attribute:p=Qu,colorSchemeNode:m="document.documentElement",nonce:f}=n||{};let _="",x=p;if(p==="class"&&(x=".%s"),p==="data"&&(x="[data-%s]"),x.startsWith(".")){const y=x.substring(1);_+=`${m}.classList.remove('${y}'.replace('%s', light), '${y}'.replace('%s', dark));
      ${m}.classList.add('${y}'.replace('%s', colorScheme));`}const v=x.match(/\[([^\]]+)\]/);if(v){const[y,S]=v[1].split("=");S||(_+=`${m}.removeAttribute('${y}'.replace('%s', light));
      ${m}.removeAttribute('${y}'.replace('%s', dark));`),_+=`
      ${m}.setAttribute('${y}'.replace('%s', colorScheme), ${S?`${S}.replace('%s', colorScheme)`:'""'});`}else _+=`${m}.setAttribute('${x}', colorScheme);`;return a.jsx("script",{suppressHydrationWarning:!0,nonce:typeof window>"u"?f:"",dangerouslySetInnerHTML:{__html:`(function() {
try {
  let colorScheme = '';
  const mode = localStorage.getItem('${d}') || '${i}';
  const dark = localStorage.getItem('${h}-dark') || '${l}';
  const light = localStorage.getItem('${h}-light') || '${s}';
  if (mode === 'system') {
    // handle system mode
    const mql = window.matchMedia('(prefers-color-scheme: dark)');
    if (mql.matches) {
      colorScheme = dark
    } else {
      colorScheme = light
    }
  }
  if (mode === 'light') {
    colorScheme = light;
  }
  if (mode === 'dark') {
    colorScheme = dark;
  }
  if (colorScheme) {
    ${_}
  }
} catch(e){}})();`}},"mui-color-scheme-init")}function td(){}const nd=({key:n,storageWindow:i})=>(!i&&typeof window<"u"&&(i=window),{get(s){if(typeof window>"u")return;if(!i)return s;let l;try{l=i.localStorage.getItem(n)}catch{}return l||s},set:s=>{if(i)try{i.localStorage.setItem(n,s)}catch{}},subscribe:s=>{if(!i)return td;const l=d=>{const h=d.newValue;d.key===n&&s(h)};return i.addEventListener("storage",l),()=>{i.removeEventListener("storage",l)}}});function Ds(){}function ga(n){if(typeof window<"u"&&typeof window.matchMedia=="function"&&n==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function Sl(n,i){if(n.mode==="light"||n.mode==="system"&&n.systemMode==="light")return i("light");if(n.mode==="dark"||n.mode==="system"&&n.systemMode==="dark")return i("dark")}function id(n){return Sl(n,i=>{if(i==="light")return n.lightColorScheme;if(i==="dark")return n.darkColorScheme})}function od(n){const{defaultMode:i="light",defaultLightColorScheme:s,defaultDarkColorScheme:l,supportedColorSchemes:d=[],modeStorageKey:h=pr,colorSchemeStorageKey:p=hr,storageWindow:m=typeof window>"u"?void 0:window,storageManager:f=nd,noSsr:_=!1}=n,x=d.join(","),v=d.length>1,y=u.useMemo(()=>f==null?void 0:f({key:h,storageWindow:m}),[f,h,m]),S=u.useMemo(()=>f==null?void 0:f({key:`${p}-light`,storageWindow:m}),[f,p,m]),k=u.useMemo(()=>f==null?void 0:f({key:`${p}-dark`,storageWindow:m}),[f,p,m]),[A,C]=u.useState(()=>{const Y=(y==null?void 0:y.get(i))||i,E=(S==null?void 0:S.get(s))||s,W=(k==null?void 0:k.get(l))||l;return{mode:Y,systemMode:ga(Y),lightColorScheme:E,darkColorScheme:W}}),[R,J]=u.useState(_||!v);u.useEffect(()=>{J(!0)},[]);const z=id(A),M=u.useCallback(Y=>{C(E=>{if(Y===E.mode)return E;const W=Y??i;return y==null||y.set(W),{...E,mode:W,systemMode:ga(W)}})},[y,i]),N=u.useCallback(Y=>{Y?typeof Y=="string"?Y&&!x.includes(Y)?console.error(`\`${Y}\` does not exist in \`theme.colorSchemes\`.`):C(E=>{const W={...E};return Sl(E,oe=>{oe==="light"&&(S==null||S.set(Y),W.lightColorScheme=Y),oe==="dark"&&(k==null||k.set(Y),W.darkColorScheme=Y)}),W}):C(E=>{const W={...E},oe=Y.light===null?s:Y.light,$=Y.dark===null?l:Y.dark;return oe&&(x.includes(oe)?(W.lightColorScheme=oe,S==null||S.set(oe)):console.error(`\`${oe}\` does not exist in \`theme.colorSchemes\`.`)),$&&(x.includes($)?(W.darkColorScheme=$,k==null||k.set($)):console.error(`\`${$}\` does not exist in \`theme.colorSchemes\`.`)),W}):C(E=>(S==null||S.set(s),k==null||k.set(l),{...E,lightColorScheme:s,darkColorScheme:l}))},[x,S,k,s,l]),G=u.useCallback(Y=>{A.mode==="system"&&C(E=>{const W=Y!=null&&Y.matches?"dark":"light";return E.systemMode===W?E:{...E,systemMode:W}})},[A.mode]),B=u.useRef(G);return B.current=G,u.useEffect(()=>{if(typeof window.matchMedia!="function"||!v)return;const Y=(...W)=>B.current(...W),E=window.matchMedia("(prefers-color-scheme: dark)");return E.addListener(Y),Y(E),()=>{E.removeListener(Y)}},[v]),u.useEffect(()=>{if(v){const Y=(y==null?void 0:y.subscribe(oe=>{(!oe||["light","dark","system"].includes(oe))&&M(oe||i)}))||Ds,E=(S==null?void 0:S.subscribe(oe=>{(!oe||x.match(oe))&&N({light:oe})}))||Ds,W=(k==null?void 0:k.subscribe(oe=>{(!oe||x.match(oe))&&N({dark:oe})}))||Ds;return()=>{Y(),E(),W()}}},[N,M,x,i,m,v,y,S,k]),{...A,mode:R?A.mode:void 0,systemMode:R?A.systemMode:void 0,colorScheme:R?z:void 0,setMode:M,setColorScheme:N}}const sd="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function rd(n){const{themeId:i,theme:s={},modeStorageKey:l=pr,colorSchemeStorageKey:d=hr,disableTransitionOnChange:h=!1,defaultColorScheme:p,resolveTheme:m}=n,f={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},_=u.createContext(void 0),x=()=>u.useContext(_)||f,v={},y={};function S(R){var ht,Yt,Pt,pt;const{children:J,theme:z,modeStorageKey:M=l,colorSchemeStorageKey:N=d,disableTransitionOnChange:G=h,storageManager:B,storageWindow:Y=typeof window>"u"?void 0:window,documentNode:E=typeof document>"u"?void 0:document,colorSchemeNode:W=typeof document>"u"?void 0:document.documentElement,disableNestedContext:oe=!1,disableStyleSheetGeneration:$=!1,defaultMode:he="system",noSsr:re}=R,ve=u.useRef(!1),de=dr(),Le=u.useContext(_),V=!!Le&&!oe,Ie=u.useMemo(()=>z||(typeof s=="function"?s():s),[z]),ae=Ie[i],ue=ae||Ie,{colorSchemes:ke=v,components:U=y,cssVarPrefix:ie}=ue,T=Object.keys(ke).filter(Ve=>!!ke[Ve]).join(","),D=u.useMemo(()=>T.split(","),[T]),Q=typeof p=="string"?p:p.light,se=typeof p=="string"?p:p.dark,me=ke[Q]&&ke[se]?he:((Yt=(ht=ke[ue.defaultColorScheme])==null?void 0:ht.palette)==null?void 0:Yt.mode)||((Pt=ue.palette)==null?void 0:Pt.mode),{mode:Ee,setMode:nt,systemMode:Oe,lightColorScheme:Me,darkColorScheme:Fe,colorScheme:rt,setColorScheme:at}=od({supportedColorSchemes:D,defaultLightColorScheme:Q,defaultDarkColorScheme:se,modeStorageKey:M,colorSchemeStorageKey:N,defaultMode:me,storageManager:B,storageWindow:Y,noSsr:re});let le=Ee,Pe=rt;V&&(le=Le.mode,Pe=Le.colorScheme);const we=u.useMemo(()=>{var dt;const Ve=Pe||ue.defaultColorScheme,Ge=((dt=ue.generateThemeVars)==null?void 0:dt.call(ue))||ue.vars,Re={...ue,components:U,colorSchemes:ke,cssVarPrefix:ie,vars:Ge};if(typeof Re.generateSpacing=="function"&&(Re.spacing=Re.generateSpacing()),Ve){const xt=ke[Ve];xt&&typeof xt=="object"&&Object.keys(xt).forEach(mt=>{xt[mt]&&typeof xt[mt]=="object"?Re[mt]={...Re[mt],...xt[mt]}:Re[mt]=xt[mt]})}return m?m(Re):Re},[ue,Pe,U,ke,ie]),ut=ue.colorSchemeSelector;Uo(()=>{if(Pe&&W&&ut&&ut!=="media"){const Ve=ut;let Ge=ut;if(Ve==="class"&&(Ge=".%s"),Ve==="data"&&(Ge="[data-%s]"),Ve!=null&&Ve.startsWith("data-")&&!Ve.includes("%s")&&(Ge=`[${Ve}="%s"]`),Ge.startsWith("."))W.classList.remove(...D.map(Re=>Ge.substring(1).replace("%s",Re))),W.classList.add(Ge.substring(1).replace("%s",Pe));else{const Re=Ge.replace("%s",Pe).match(/\[([^\]]+)\]/);if(Re){const[dt,xt]=Re[1].split("=");xt||D.forEach(mt=>{W.removeAttribute(dt.replace(Pe,mt))}),W.setAttribute(dt,xt?xt.replace(/"|'/g,""):"")}else W.setAttribute(Ge,Pe)}}},[Pe,ut,W,D]),u.useEffect(()=>{let Ve;if(G&&ve.current&&E){const Ge=E.createElement("style");Ge.appendChild(E.createTextNode(sd)),E.head.appendChild(Ge),window.getComputedStyle(E.body),Ve=setTimeout(()=>{E.head.removeChild(Ge)},1)}return()=>{clearTimeout(Ve)}},[Pe,G,E]),u.useEffect(()=>(ve.current=!0,()=>{ve.current=!1}),[]);const lt=u.useMemo(()=>({allColorSchemes:D,colorScheme:Pe,darkColorScheme:Fe,lightColorScheme:Me,mode:le,setColorScheme:at,setMode:nt,systemMode:Oe}),[D,Pe,Fe,Me,le,at,nt,Oe,we.colorSchemeSelector]);let kt=!0;($||ue.cssVariables===!1||V&&(de==null?void 0:de.cssVarPrefix)===ie)&&(kt=!1);const St=a.jsxs(u.Fragment,{children:[a.jsx(bl,{themeId:ae?i:void 0,theme:we,children:J}),kt&&a.jsx(du,{styles:((pt=we.generateStyleSheets)==null?void 0:pt.call(we))||[]})]});return V?St:a.jsx(_.Provider,{value:lt,children:St})}const k=typeof p=="string"?p:p.light,A=typeof p=="string"?p:p.dark;return{CssVarsProvider:S,useColorScheme:x,getInitColorSchemeScript:R=>ed({colorSchemeStorageKey:d,defaultLightColorScheme:k,defaultDarkColorScheme:A,modeStorageKey:l,...R})}}function ad({theme:n,...i}){const s=Ei in n?n[Ei]:void 0;return a.jsx(bl,{...i,themeId:s?Ei:void 0,theme:s||n})}const Ao={colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"},{CssVarsProvider:ld}=rd({themeId:Ei,theme:()=>sl({cssVariables:!0}),colorSchemeStorageKey:Ao.colorSchemeStorageKey,modeStorageKey:Ao.modeStorageKey,defaultColorScheme:{light:Ao.defaultLightColorScheme,dark:Ao.defaultDarkColorScheme},resolveTheme:n=>{const i={...n,typography:pu(n.palette,n.typography)};return i.unstable_sx=function(l){return hu({sx:l,theme:this})},i}}),cd=ld;function ud({theme:n,...i}){const s=u.useMemo(()=>{if(typeof n=="function")return n;const l=Ei in n?n[Ei]:n;return"colorSchemes"in l?null:"vars"in l?n:{...n,vars:null}},[n]);return s?a.jsx(ad,{theme:s,...i}):a.jsx(cd,{theme:n,...i})}function dd(n){return jt("MuiAppBar",n)}Bt("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const pd=n=>{const{color:i,position:s,classes:l}=n,d={root:["root",`color${bt(i)}`,`position${bt(s)}`]};return Wt(d,dd,l)},ya=(n,i)=>n?`${n==null?void 0:n.replace(")","")}, ${i})`:i,hd=Be(vt,{name:"MuiAppBar",slot:"Root",overridesResolver:(n,i)=>{const{ownerState:s}=n;return[i.root,i[`position${bt(s.position)}`],i[`color${bt(s.color)}`]]}})(Ct(({theme:n})=>({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,variants:[{props:{position:"fixed"},style:{position:"fixed",zIndex:(n.vars||n).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}}},{props:{position:"absolute"},style:{position:"absolute",zIndex:(n.vars||n).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"sticky"},style:{position:"sticky",zIndex:(n.vars||n).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"static"},style:{position:"static"}},{props:{position:"relative"},style:{position:"relative"}},{props:{color:"inherit"},style:{"--AppBar-color":"inherit"}},{props:{color:"default"},style:{"--AppBar-background":n.vars?n.vars.palette.AppBar.defaultBg:n.palette.grey[100],"--AppBar-color":n.vars?n.vars.palette.text.primary:n.palette.getContrastText(n.palette.grey[100]),...n.applyStyles("dark",{"--AppBar-background":n.vars?n.vars.palette.AppBar.defaultBg:n.palette.grey[900],"--AppBar-color":n.vars?n.vars.palette.text.primary:n.palette.getContrastText(n.palette.grey[900])})}},...Object.entries(n.palette).filter(Js(["contrastText"])).map(([i])=>({props:{color:i},style:{"--AppBar-background":(n.vars??n).palette[i].main,"--AppBar-color":(n.vars??n).palette[i].contrastText}})),{props:i=>i.enableColorOnDark===!0&&!["inherit","transparent"].includes(i.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"}},{props:i=>i.enableColorOnDark===!1&&!["inherit","transparent"].includes(i.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...n.applyStyles("dark",{backgroundColor:n.vars?ya(n.vars.palette.AppBar.darkBg,"var(--AppBar-background)"):null,color:n.vars?ya(n.vars.palette.AppBar.darkColor,"var(--AppBar-color)"):null})}},{props:{color:"transparent"},style:{"--AppBar-background":"transparent","--AppBar-color":"inherit",backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...n.applyStyles("dark",{backgroundImage:"none"})}}]}))),md=u.forwardRef(function(i,s){const l=Ft({props:i,name:"MuiAppBar"}),{className:d,color:h="primary",enableColorOnDark:p=!1,position:m="fixed",...f}=l,_={...l,color:h,position:m,enableColorOnDark:p},x=pd(_);return a.jsx(hd,{square:!0,component:"header",ownerState:_,elevation:4,className:st(x.root,d,m==="fixed"&&"mui-fixed"),ref:s,...f})});function va(n){return n.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function fd(n={}){const{ignoreAccents:i=!0,ignoreCase:s=!0,limit:l,matchFrom:d="any",stringify:h,trim:p=!1}=n;return(m,{inputValue:f,getOptionLabel:_})=>{let x=p?f.trim():f;s&&(x=x.toLowerCase()),i&&(x=va(x));const v=x?m.filter(y=>{let S=(h||_)(y);return s&&(S=S.toLowerCase()),i&&(S=va(S)),d==="start"?S.startsWith(x):S.includes(x)}):m;return typeof l=="number"?v.slice(0,l):v}}const gd=fd(),xa=5,yd=n=>{var i;return n.current!==null&&((i=n.current.parentElement)==null?void 0:i.contains(document.activeElement))},vd=[];function _a(n,i,s){if(i||n==null)return"";const l=s(n);return typeof l=="string"?l:""}function xd(n){const{unstable_isActiveElementInListbox:i=yd,unstable_classNamePrefix:s="Mui",autoComplete:l=!1,autoHighlight:d=!1,autoSelect:h=!1,blurOnSelect:p=!1,clearOnBlur:m=!n.freeSolo,clearOnEscape:f=!1,componentName:_="useAutocomplete",defaultValue:x=n.multiple?vd:null,disableClearable:v=!1,disableCloseOnSelect:y=!1,disabled:S,disabledItemsFocusable:k=!1,disableListWrap:A=!1,filterOptions:C=gd,filterSelectedOptions:R=!1,freeSolo:J=!1,getOptionDisabled:z,getOptionKey:M,getOptionLabel:N=Z=>Z.label??Z,groupBy:G,handleHomeEndKeys:B=!n.freeSolo,id:Y,includeInputInList:E=!1,inputValue:W,isOptionEqualToValue:oe=(Z,F)=>Z===F,multiple:$=!1,onChange:he,onClose:re,onHighlightChange:ve,onInputChange:de,onOpen:Le,open:V,openOnFocus:Ie=!1,options:ae,readOnly:ue=!1,selectOnFocus:ke=!n.freeSolo,value:U}=n,ie=sr(Y);let T=N;T=Z=>{const F=N(Z);return typeof F!="string"?String(F):F};const D=u.useRef(!1),Q=u.useRef(!0),se=u.useRef(null),me=u.useRef(null),[Ee,nt]=u.useState(null),[Oe,Me]=u.useState(-1),Fe=d?0:-1,rt=u.useRef(Fe),at=u.useRef(_a(x??U,$,T)).current,[le,Pe]=Eo({controlled:U,default:x,name:_}),[we,ut]=Eo({controlled:W,default:at,name:_,state:"inputValue"}),[lt,kt]=u.useState(!1),St=u.useCallback((Z,F,xe)=>{if(!($?le.length<F.length:F!==null)&&!m)return;const Ke=_a(F,$,T);we!==Ke&&(ut(Ke),de&&de(Z,Ke,xe))},[T,we,$,de,ut,m,le]),[ht,Yt]=Eo({controlled:V,default:!1,name:_,state:"open"}),[Pt,pt]=u.useState(!0),Ve=!$&&le!=null&&we===T(le),Ge=ht&&!ue,Re=Ge?C(ae.filter(Z=>!(R&&($?le:[le]).some(F=>F!==null&&oe(Z,F)))),{inputValue:Ve&&Pt?"":we,getOptionLabel:T}):[],dt=Vu({filteredOptions:Re,value:le,inputValue:we});u.useEffect(()=>{const Z=le!==dt.value;lt&&!Z||J&&!Z||St(null,le,"reset")},[le,St,lt,dt.value,J]);const xt=ht&&Re.length>0&&!ue,mt=ei(Z=>{Z===-1?se.current.focus():Ee.querySelector(`[data-tag-index="${Z}"]`).focus()});u.useEffect(()=>{$&&Oe>le.length-1&&(Me(-1),mt(-1))},[le,$,Oe,mt]);function Gt(Z,F){if(!me.current||Z<0||Z>=Re.length)return-1;let xe=Z;for(;;){const $e=me.current.querySelector(`[data-option-index="${xe}"]`),Ke=k?!1:!$e||$e.disabled||$e.getAttribute("aria-disabled")==="true";if($e&&$e.hasAttribute("tabindex")&&!Ke)return xe;if(F==="next"?xe=(xe+1)%Re.length:xe=(xe-1+Re.length)%Re.length,xe===Z)return-1}}const Lt=ei(({event:Z,index:F,reason:xe})=>{if(rt.current=F,F===-1?se.current.removeAttribute("aria-activedescendant"):se.current.setAttribute("aria-activedescendant",`${ie}-option-${F}`),ve&&["mouse","keyboard","touch"].includes(xe)&&ve(Z,F===-1?null:Re[F],xe),!me.current)return;const $e=me.current.querySelector(`[role="option"].${s}-focused`);$e&&($e.classList.remove(`${s}-focused`),$e.classList.remove(`${s}-focusVisible`));let Ke=me.current;if(me.current.getAttribute("role")!=="listbox"&&(Ke=me.current.parentElement.querySelector('[role="listbox"]')),!Ke)return;if(F===-1){Ke.scrollTop=0;return}const gt=me.current.querySelector(`[data-option-index="${F}"]`);if(gt&&(gt.classList.add(`${s}-focused`),xe==="keyboard"&&gt.classList.add(`${s}-focusVisible`),Ke.scrollHeight>Ke.clientHeight&&xe!=="mouse"&&xe!=="touch")){const It=gt,nn=Ke.clientHeight+Ke.scrollTop,In=It.offsetTop+It.offsetHeight;In>nn?Ke.scrollTop=In-Ke.clientHeight:It.offsetTop-It.offsetHeight*(G?1.3:0)<Ke.scrollTop&&(Ke.scrollTop=It.offsetTop-It.offsetHeight*(G?1.3:0))}}),Et=ei(({event:Z,diff:F,direction:xe="next",reason:$e})=>{if(!Ge)return;const gt=Gt((()=>{const It=Re.length-1;if(F==="reset")return Fe;if(F==="start")return 0;if(F==="end")return It;const nn=rt.current+F;return nn<0?nn===-1&&E?-1:A&&rt.current!==-1||Math.abs(F)>1?0:It:nn>It?nn===It+1&&E?-1:A||Math.abs(F)>1?It:0:nn})(),xe);if(Lt({index:gt,reason:$e,event:Z}),l&&F!=="reset")if(gt===-1)se.current.value=we;else{const It=T(Re[gt]);se.current.value=It,It.toLowerCase().indexOf(we.toLowerCase())===0&&we.length>0&&se.current.setSelectionRange(we.length,It.length)}}),Ot=()=>{const Z=(F,xe)=>{const $e=F?T(F):"",Ke=xe?T(xe):"";return $e===Ke};if(rt.current!==-1&&dt.filteredOptions&&dt.filteredOptions.length!==Re.length&&dt.inputValue===we&&($?le.length===dt.value.length&&dt.value.every((F,xe)=>T(le[xe])===T(F)):Z(dt.value,le))){const F=dt.filteredOptions[rt.current];if(F)return Re.findIndex(xe=>T(xe)===T(F))}return-1},en=u.useCallback(()=>{if(!Ge)return;const Z=Ot();if(Z!==-1){rt.current=Z;return}const F=$?le[0]:le;if(Re.length===0||F==null){Et({diff:"reset"});return}if(me.current){if(F!=null){const xe=Re[rt.current];if($&&xe&&le.findIndex(Ke=>oe(xe,Ke))!==-1)return;const $e=Re.findIndex(Ke=>oe(Ke,F));$e===-1?Et({diff:"reset"}):Lt({index:$e});return}if(rt.current>=Re.length-1){Lt({index:Re.length-1});return}Lt({index:rt.current})}},[Re.length,$?!1:le,R,Et,Lt,Ge,we,$]),Kt=ei(Z=>{mu(me,Z),Z&&en()});u.useEffect(()=>{en()},[en]);const Zt=Z=>{ht||(Yt(!0),pt(!0),Le&&Le(Z))},ce=(Z,F)=>{ht&&(Yt(!1),re&&re(Z,F))},P=(Z,F,xe,$e)=>{if($){if(le.length===F.length&&le.every((Ke,gt)=>Ke===F[gt]))return}else if(le===F)return;he&&he(Z,F,xe,$e),Pe(F)},H=u.useRef(!1),fe=(Z,F,xe="selectOption",$e="options")=>{let Ke=xe,gt=F;if($){gt=Array.isArray(le)?le.slice():[];const It=gt.findIndex(nn=>oe(F,nn));It===-1?gt.push(F):$e!=="freeSolo"&&(gt.splice(It,1),Ke="removeOption")}St(Z,gt,Ke),P(Z,gt,Ke,{option:F}),!y&&(!Z||!Z.ctrlKey&&!Z.metaKey)&&ce(Z,Ke),(p===!0||p==="touch"&&H.current||p==="mouse"&&!H.current)&&se.current.blur()};function Qe(Z,F){if(Z===-1)return-1;let xe=Z;for(;;){if(F==="next"&&xe===le.length||F==="previous"&&xe===-1)return-1;const $e=Ee.querySelector(`[data-tag-index="${xe}"]`);if(!$e||!$e.hasAttribute("tabindex")||$e.disabled||$e.getAttribute("aria-disabled")==="true")xe+=F==="next"?1:-1;else return xe}}const Ze=(Z,F)=>{if(!$)return;we===""&&ce(Z,"toggleInput");let xe=Oe;Oe===-1?we===""&&F==="previous"&&(xe=le.length-1):(xe+=F==="next"?1:-1,xe<0&&(xe=0),xe===le.length&&(xe=-1)),xe=Qe(xe,F),Me(xe),mt(xe)},De=Z=>{D.current=!0,ut(""),de&&de(Z,"","clear"),P(Z,$?[]:null,"clear")},Ue=Z=>F=>{if(Z.onKeyDown&&Z.onKeyDown(F),!F.defaultMuiPrevented&&(Oe!==-1&&!["ArrowLeft","ArrowRight"].includes(F.key)&&(Me(-1),mt(-1)),F.which!==229))switch(F.key){case"Home":Ge&&B&&(F.preventDefault(),Et({diff:"start",direction:"next",reason:"keyboard",event:F}));break;case"End":Ge&&B&&(F.preventDefault(),Et({diff:"end",direction:"previous",reason:"keyboard",event:F}));break;case"PageUp":F.preventDefault(),Et({diff:-xa,direction:"previous",reason:"keyboard",event:F}),Zt(F);break;case"PageDown":F.preventDefault(),Et({diff:xa,direction:"next",reason:"keyboard",event:F}),Zt(F);break;case"ArrowDown":F.preventDefault(),Et({diff:1,direction:"next",reason:"keyboard",event:F}),Zt(F);break;case"ArrowUp":F.preventDefault(),Et({diff:-1,direction:"previous",reason:"keyboard",event:F}),Zt(F);break;case"ArrowLeft":Ze(F,"previous");break;case"ArrowRight":Ze(F,"next");break;case"Enter":if(rt.current!==-1&&Ge){const xe=Re[rt.current],$e=z?z(xe):!1;if(F.preventDefault(),$e)return;fe(F,xe,"selectOption"),l&&se.current.setSelectionRange(se.current.value.length,se.current.value.length)}else J&&we!==""&&Ve===!1&&($&&F.preventDefault(),fe(F,we,"createOption","freeSolo"));break;case"Escape":Ge?(F.preventDefault(),F.stopPropagation(),ce(F,"escape")):f&&(we!==""||$&&le.length>0)&&(F.preventDefault(),F.stopPropagation(),De(F));break;case"Backspace":if($&&!ue&&we===""&&le.length>0){const xe=Oe===-1?le.length-1:Oe,$e=le.slice();$e.splice(xe,1),P(F,$e,"removeOption",{option:le[xe]})}break;case"Delete":if($&&!ue&&we===""&&le.length>0&&Oe!==-1){const xe=Oe,$e=le.slice();$e.splice(xe,1),P(F,$e,"removeOption",{option:le[xe]})}break}},X=Z=>{kt(!0),Ie&&!D.current&&Zt(Z)},q=Z=>{if(i(me)){se.current.focus();return}kt(!1),Q.current=!0,D.current=!1,h&&rt.current!==-1&&Ge?fe(Z,Re[rt.current],"blur"):h&&J&&we!==""?fe(Z,we,"blur","freeSolo"):m&&St(Z,le,"blur"),ce(Z,"blur")},te=Z=>{const F=Z.target.value;we!==F&&(ut(F),pt(!1),de&&de(Z,F,"input")),F===""?!v&&!$&&P(Z,null,"clear"):Zt(Z)},ne=Z=>{const F=Number(Z.currentTarget.getAttribute("data-option-index"));rt.current!==F&&Lt({event:Z,index:F,reason:"mouse"})},He=Z=>{Lt({event:Z,index:Number(Z.currentTarget.getAttribute("data-option-index")),reason:"touch"}),H.current=!0},qe=Z=>{const F=Number(Z.currentTarget.getAttribute("data-option-index"));fe(Z,Re[F],"selectOption"),H.current=!1},pe=Z=>F=>{const xe=le.slice();xe.splice(Z,1),P(F,xe,"removeOption",{option:le[Z]})},Tt=Z=>{ht?ce(Z,"toggleInput"):Zt(Z)},Rt=Z=>{Z.currentTarget.contains(Z.target)&&Z.target.getAttribute("id")!==ie&&Z.preventDefault()},ft=Z=>{Z.currentTarget.contains(Z.target)&&(se.current.focus(),ke&&Q.current&&se.current.selectionEnd-se.current.selectionStart===0&&se.current.select(),Q.current=!1)},it=Z=>{!S&&(we===""||!ht)&&Tt(Z)};let Jt=J&&we.length>0;Jt=Jt||($?le.length>0:le!==null);let tn=Re;return G&&(tn=Re.reduce((Z,F,xe)=>{const $e=G(F);return Z.length>0&&Z[Z.length-1].group===$e?Z[Z.length-1].options.push(F):Z.push({key:xe,index:xe,group:$e,options:[F]}),Z},[])),S&&lt&&q(),{getRootProps:(Z={})=>({...Z,onKeyDown:Ue(Z),onMouseDown:Rt,onClick:ft}),getInputLabelProps:()=>({id:`${ie}-label`,htmlFor:ie}),getInputProps:()=>({id:ie,value:we,onBlur:q,onFocus:X,onChange:te,onMouseDown:it,"aria-activedescendant":Ge?"":null,"aria-autocomplete":l?"both":"list","aria-controls":xt?`${ie}-listbox`:void 0,"aria-expanded":xt,autoComplete:"off",ref:se,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:S}),getClearProps:()=>({tabIndex:-1,type:"button",onClick:De}),getPopupIndicatorProps:()=>({tabIndex:-1,type:"button",onClick:Tt}),getTagProps:({index:Z})=>({key:Z,"data-tag-index":Z,tabIndex:-1,...!ue&&{onDelete:pe(Z)}}),getListboxProps:()=>({role:"listbox",id:`${ie}-listbox`,"aria-labelledby":`${ie}-label`,ref:Kt,onMouseDown:Z=>{Z.preventDefault()}}),getOptionProps:({index:Z,option:F})=>{const xe=($?le:[le]).some(Ke=>Ke!=null&&oe(F,Ke)),$e=z?z(F):!1;return{key:(M==null?void 0:M(F))??T(F),tabIndex:-1,role:"option",id:`${ie}-option-${Z}`,onMouseMove:ne,onClick:qe,onTouchStart:He,"data-option-index":Z,"aria-disabled":$e,"aria-selected":xe}},id:ie,inputValue:we,value:le,dirty:Jt,expanded:Ge&&Ee,popupOpen:Ge,focused:lt||Oe!==-1,anchorEl:Ee,setAnchorEl:nt,focusedTag:Oe,groupedOptions:tn}}function _d(n){return jt("MuiListSubheader",n)}Bt("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const bd=n=>{const{classes:i,color:s,disableGutters:l,inset:d,disableSticky:h}=n,p={root:["root",s!=="default"&&`color${bt(s)}`,!l&&"gutters",d&&"inset",!h&&"sticky"]};return Wt(p,_d,i)},Sd=Be("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(n,i)=>{const{ownerState:s}=n;return[i.root,s.color!=="default"&&i[`color${bt(s.color)}`],!s.disableGutters&&i.gutters,s.inset&&i.inset,!s.disableSticky&&i.sticky]}})(Ct(({theme:n})=>({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(n.vars||n).palette.text.secondary,fontFamily:n.typography.fontFamily,fontWeight:n.typography.fontWeightMedium,fontSize:n.typography.pxToRem(14),variants:[{props:{color:"primary"},style:{color:(n.vars||n).palette.primary.main}},{props:{color:"inherit"},style:{color:"inherit"}},{props:({ownerState:i})=>!i.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:i})=>i.inset,style:{paddingLeft:72}},{props:({ownerState:i})=>!i.disableSticky,style:{position:"sticky",top:0,zIndex:1,backgroundColor:(n.vars||n).palette.background.paper}}]}))),qs=u.forwardRef(function(i,s){const l=Ft({props:i,name:"MuiListSubheader"}),{className:d,color:h="default",component:p="li",disableGutters:m=!1,disableSticky:f=!1,inset:_=!1,...x}=l,v={...l,color:h,component:p,disableGutters:m,disableSticky:f,inset:_},y=bd(v);return a.jsx(Sd,{as:p,className:st(y.root,d),ref:s,ownerState:v,...x})});qs&&(qs.muiSkipListHighlight=!0);function wd(n){return jt("MuiAutocomplete",n)}const Xe=Bt("MuiAutocomplete",["root","expanded","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]);var ba,Sa;const Cd=n=>{const{classes:i,disablePortal:s,expanded:l,focused:d,fullWidth:h,hasClearIcon:p,hasPopupIcon:m,inputFocused:f,popupOpen:_,size:x}=n,v={root:["root",l&&"expanded",d&&"focused",h&&"fullWidth",p&&"hasClearIcon",m&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",f&&"inputFocused"],tag:["tag",`tagSize${bt(x)}`],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",_&&"popupIndicatorOpen"],popper:["popper",s&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return Wt(v,wd,i)},Td=Be("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(n,i)=>{const{ownerState:s}=n,{fullWidth:l,hasClearIcon:d,hasPopupIcon:h,inputFocused:p,size:m}=s;return[{[`& .${Xe.tag}`]:i.tag},{[`& .${Xe.tag}`]:i[`tagSize${bt(m)}`]},{[`& .${Xe.inputRoot}`]:i.inputRoot},{[`& .${Xe.input}`]:i.input},{[`& .${Xe.input}`]:p&&i.inputFocused},i.root,l&&i.fullWidth,h&&i.hasPopupIcon,d&&i.hasClearIcon]}})({[`&.${Xe.focused} .${Xe.clearIndicator}`]:{visibility:"visible"},"@media (pointer: fine)":{[`&:hover .${Xe.clearIndicator}`]:{visibility:"visible"}},[`& .${Xe.tag}`]:{margin:3,maxWidth:"calc(100% - 6px)"},[`& .${Xe.inputRoot}`]:{[`.${Xe.hasPopupIcon}&, .${Xe.hasClearIcon}&`]:{paddingRight:30},[`.${Xe.hasPopupIcon}.${Xe.hasClearIcon}&`]:{paddingRight:56},[`& .${Xe.input}`]:{width:0,minWidth:30}},[`& .${Cs.root}`]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},[`& .${Cs.root}.${ai.sizeSmall}`]:{[`& .${Cs.input}`]:{padding:"2px 4px 3px 0"}},[`& .${ua.root}`]:{padding:9,[`.${Xe.hasPopupIcon}&, .${Xe.hasClearIcon}&`]:{paddingRight:39},[`.${Xe.hasPopupIcon}.${Xe.hasClearIcon}&`]:{paddingRight:65},[`& .${Xe.input}`]:{padding:"7.5px 4px 7.5px 5px"},[`& .${Xe.endAdornment}`]:{right:9}},[`& .${ua.root}.${ai.sizeSmall}`]:{paddingTop:6,paddingBottom:6,paddingLeft:6,[`& .${Xe.input}`]:{padding:"2.5px 4px 2.5px 8px"}},[`& .${ki.root}`]:{paddingTop:19,paddingLeft:8,[`.${Xe.hasPopupIcon}&, .${Xe.hasClearIcon}&`]:{paddingRight:39},[`.${Xe.hasPopupIcon}.${Xe.hasClearIcon}&`]:{paddingRight:65},[`& .${ki.input}`]:{padding:"7px 4px"},[`& .${Xe.endAdornment}`]:{right:9}},[`& .${ki.root}.${ai.sizeSmall}`]:{paddingBottom:1,[`& .${ki.input}`]:{padding:"2.5px 4px"}},[`& .${ai.hiddenLabel}`]:{paddingTop:8},[`& .${ki.root}.${ai.hiddenLabel}`]:{paddingTop:0,paddingBottom:0,[`& .${Xe.input}`]:{paddingTop:16,paddingBottom:17}},[`& .${ki.root}.${ai.hiddenLabel}.${ai.sizeSmall}`]:{[`& .${Xe.input}`]:{paddingTop:8,paddingBottom:9}},[`& .${Xe.input}`]:{flexGrow:1,textOverflow:"ellipsis",opacity:0},variants:[{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{[`& .${Xe.tag}`]:{margin:2,maxWidth:"calc(100% - 4px)"}}},{props:{inputFocused:!0},style:{[`& .${Xe.input}`]:{opacity:1}}},{props:{multiple:!0},style:{[`& .${Xe.inputRoot}`]:{flexWrap:"wrap"}}}]}),Ad=Be("div",{name:"MuiAutocomplete",slot:"EndAdornment",overridesResolver:(n,i)=>i.endAdornment})({position:"absolute",right:0,top:"50%",transform:"translate(0, -50%)"}),kd=Be(ln,{name:"MuiAutocomplete",slot:"ClearIndicator",overridesResolver:(n,i)=>i.clearIndicator})({marginRight:-2,padding:4,visibility:"hidden"}),Pd=Be(ln,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:(n,i)=>{const{ownerState:s}=n;return[i.popupIndicator,s.popupOpen&&i.popupIndicatorOpen]}})({padding:2,marginRight:-2,variants:[{props:{popupOpen:!0},style:{transform:"rotate(180deg)"}}]}),Id=Be(rr,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(n,i)=>{const{ownerState:s}=n;return[{[`& .${Xe.option}`]:i.option},i.popper,s.disablePortal&&i.popperDisablePortal]}})(Ct(({theme:n})=>({zIndex:(n.vars||n).zIndex.modal,variants:[{props:{disablePortal:!0},style:{position:"absolute"}}]}))),Md=Be(vt,{name:"MuiAutocomplete",slot:"Paper",overridesResolver:(n,i)=>i.paper})(Ct(({theme:n})=>({...n.typography.body1,overflow:"auto"}))),Dd=Be("div",{name:"MuiAutocomplete",slot:"Loading",overridesResolver:(n,i)=>i.loading})(Ct(({theme:n})=>({color:(n.vars||n).palette.text.secondary,padding:"14px 16px"}))),Ld=Be("div",{name:"MuiAutocomplete",slot:"NoOptions",overridesResolver:(n,i)=>i.noOptions})(Ct(({theme:n})=>({color:(n.vars||n).palette.text.secondary,padding:"14px 16px"}))),Ed=Be("ul",{name:"MuiAutocomplete",slot:"Listbox",overridesResolver:(n,i)=>i.listbox})(Ct(({theme:n})=>({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",[`& .${Xe.option}`]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[n.breakpoints.up("sm")]:{minHeight:"auto"},[`&.${Xe.focused}`]:{backgroundColor:(n.vars||n).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(n.vars||n).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${Xe.focusVisible}`]:{backgroundColor:(n.vars||n).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / ${n.vars.palette.action.selectedOpacity})`:K(n.palette.primary.main,n.palette.action.selectedOpacity),[`&.${Xe.focused}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.hoverOpacity}))`:K(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(n.vars||n).palette.action.selected}},[`&.${Xe.focusVisible}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.focusOpacity}))`:K(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)}}}}))),Rd=Be(qs,{name:"MuiAutocomplete",slot:"GroupLabel",overridesResolver:(n,i)=>i.groupLabel})(Ct(({theme:n})=>({backgroundColor:(n.vars||n).palette.background.paper,top:-8}))),Nd=Be("ul",{name:"MuiAutocomplete",slot:"GroupUl",overridesResolver:(n,i)=>i.groupUl})({padding:0,[`& .${Xe.option}`]:{paddingLeft:24}}),mr=u.forwardRef(function(i,s){const l=Ft({props:i,name:"MuiAutocomplete"}),{autoComplete:d=!1,autoHighlight:h=!1,autoSelect:p=!1,blurOnSelect:m=!1,ChipProps:f,className:_,clearIcon:x=ba||(ba=a.jsx(fu,{fontSize:"small"})),clearOnBlur:v=!l.freeSolo,clearOnEscape:y=!1,clearText:S="Clear",closeText:k="Close",componentsProps:A,defaultValue:C=l.multiple?[]:null,disableClearable:R=!1,disableCloseOnSelect:J=!1,disabled:z=!1,disabledItemsFocusable:M=!1,disableListWrap:N=!1,disablePortal:G=!1,filterOptions:B,filterSelectedOptions:Y=!1,forcePopupIcon:E="auto",freeSolo:W=!1,fullWidth:oe=!1,getLimitTagsText:$=We=>`+${We}`,getOptionDisabled:he,getOptionKey:re,getOptionLabel:ve,isOptionEqualToValue:de,groupBy:Le,handleHomeEndKeys:V=!l.freeSolo,id:Ie,includeInputInList:ae=!1,inputValue:ue,limitTags:ke=-1,ListboxComponent:U,ListboxProps:ie,loading:T=!1,loadingText:D="Loadingâ€¦",multiple:Q=!1,noOptionsText:se="No options",onChange:me,onClose:Ee,onHighlightChange:nt,onInputChange:Oe,onOpen:Me,open:Fe,openOnFocus:rt=!1,openText:at="Open",options:le,PaperComponent:Pe,PopperComponent:we,popupIcon:ut=Sa||(Sa=a.jsx(gu,{})),readOnly:lt=!1,renderGroup:kt,renderInput:St,renderOption:ht,renderTags:Yt,selectOnFocus:Pt=!l.freeSolo,size:pt="medium",slots:Ve={},slotProps:Ge={},value:Re,...dt}=l,{getRootProps:xt,getInputProps:mt,getInputLabelProps:Gt,getPopupIndicatorProps:Lt,getClearProps:Et,getTagProps:Ot,getListboxProps:en,getOptionProps:Kt,value:Zt,dirty:ce,expanded:P,id:H,popupOpen:fe,focused:Qe,focusedTag:Ze,anchorEl:De,setAnchorEl:Ue,inputValue:X,groupedOptions:q}=xd({...l,componentName:"Autocomplete"}),te=!R&&!z&&ce&&!lt,ne=(!W||E===!0)&&E!==!1,{onMouseDown:He}=mt(),{ref:qe,...pe}=en(),Rt=ve||(We=>We.label??We),ft={...l,disablePortal:G,expanded:P,focused:Qe,fullWidth:oe,getOptionLabel:Rt,hasClearIcon:te,hasPopupIcon:ne,inputFocused:Ze===-1,popupOpen:fe,size:pt},it=Cd(ft),Jt={slots:{paper:Pe,popper:we,...Ve},slotProps:{chip:f,listbox:ie,...A,...Ge}},[tn,Z]=Dt("listbox",{elementType:Ed,externalForwardedProps:Jt,ownerState:ft,className:it.listbox,additionalProps:pe,ref:qe}),[F,xe]=Dt("paper",{elementType:vt,externalForwardedProps:Jt,ownerState:ft,className:it.paper}),[$e,Ke]=Dt("popper",{elementType:rr,externalForwardedProps:Jt,ownerState:ft,className:it.popper,additionalProps:{disablePortal:G,style:{width:De?De.clientWidth:null},role:"presentation",anchorEl:De,open:fe}});let gt;if(Q&&Zt.length>0){const We=Ut=>({className:it.tag,disabled:z,...Ot(Ut)});Yt?gt=Yt(Zt,We,ft):gt=Zt.map((Ut,sn)=>{const{key:wn,...mn}=We({index:sn});return a.jsx(oo,{label:Rt(Ut),size:pt,...mn,...Jt.slotProps.chip},wn)})}if(ke>-1&&Array.isArray(gt)){const We=gt.length-ke;!Qe&&We>0&&(gt=gt.splice(0,ke),gt.push(a.jsx("span",{className:it.tag,children:$(We)},gt.length)))}const nn=kt||(We=>a.jsxs("li",{children:[a.jsx(Rd,{className:it.groupLabel,ownerState:ft,component:"div",children:We.group}),a.jsx(Nd,{className:it.groupUl,ownerState:ft,children:We.children})]},We.key)),fi=ht||((We,Ut)=>{const{key:sn,...wn}=We;return a.jsx("li",{...wn,children:Rt(Ut)},sn)}),gi=(We,Ut)=>{const sn=Kt({option:We,index:Ut});return fi({...sn,className:it.option},We,{selected:sn["aria-selected"],index:Ut,inputValue:X},ft)},Sn=Jt.slotProps.clearIndicator,Vt=Jt.slotProps.popupIndicator;return a.jsxs(u.Fragment,{children:[a.jsx(Td,{ref:s,className:st(it.root,_),ownerState:ft,...xt(dt),children:St({id:H,disabled:z,fullWidth:!0,size:pt==="small"?"small":void 0,InputLabelProps:Gt(),InputProps:{ref:Ue,className:it.inputRoot,startAdornment:gt,onMouseDown:We=>{We.target===We.currentTarget&&He(We)},...(te||ne)&&{endAdornment:a.jsxs(Ad,{className:it.endAdornment,ownerState:ft,children:[te?a.jsx(kd,{...Et(),"aria-label":S,title:S,ownerState:ft,...Sn,className:st(it.clearIndicator,Sn==null?void 0:Sn.className),children:x}):null,ne?a.jsx(Pd,{...Lt(),disabled:z,"aria-label":fe?k:at,title:fe?k:at,ownerState:ft,...Vt,className:st(it.popupIndicator,Vt==null?void 0:Vt.className),children:ut}):null]})}},inputProps:{className:it.input,disabled:z,readOnly:lt,...mt()}})}),De?a.jsx(Id,{as:$e,...Ke,children:a.jsxs(Md,{as:F,...xe,children:[T&&q.length===0?a.jsx(Dd,{className:it.loading,ownerState:ft,children:D}):null,q.length===0&&!W&&!T?a.jsx(Ld,{className:it.noOptions,ownerState:ft,role:"presentation",onMouseDown:We=>{We.preventDefault()},children:se}):null,q.length>0?a.jsx(tn,{as:U,...Z,children:q.map((We,Ut)=>Le?nn({key:We.key,group:We.group,children:We.options.map((sn,wn)=>gi(sn,We.index+wn))}):gi(We,Ut))}):null]})}):null]})}),Od=ti(a.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function zd(n){return jt("MuiAvatar",n)}Bt("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const jd=n=>{const{classes:i,variant:s,colorDefault:l}=n;return Wt({root:["root",s,l&&"colorDefault"],img:["img"],fallback:["fallback"]},zd,i)},Bd=Be("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(n,i)=>{const{ownerState:s}=n;return[i.root,i[s.variant],s.colorDefault&&i.colorDefault]}})(Ct(({theme:n})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:n.typography.fontFamily,fontSize:n.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(n.vars||n).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:{color:(n.vars||n).palette.background.default,...n.vars?{backgroundColor:n.vars.palette.Avatar.defaultBg}:{backgroundColor:n.palette.grey[400],...n.applyStyles("dark",{backgroundColor:n.palette.grey[600]})}}}]}))),Fd=Be("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(n,i)=>i.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),Wd=Be(Od,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(n,i)=>i.fallback})({width:"75%",height:"75%"});function Zd({crossOrigin:n,referrerPolicy:i,src:s,srcSet:l}){const[d,h]=u.useState(!1);return u.useEffect(()=>{if(!s&&!l)return;h(!1);let p=!0;const m=new Image;return m.onload=()=>{p&&h("loaded")},m.onerror=()=>{p&&h("error")},m.crossOrigin=n,m.referrerPolicy=i,m.src=s,l&&(m.srcset=l),()=>{p=!1}},[n,i,s,l]),d}const Hd=u.forwardRef(function(i,s){const l=Ft({props:i,name:"MuiAvatar"}),{alt:d,children:h,className:p,component:m="div",slots:f={},slotProps:_={},imgProps:x,sizes:v,src:y,srcSet:S,variant:k="circular",...A}=l;let C=null;const R={...l,component:m,variant:k},J=Zd({...x,...typeof _.img=="function"?_.img(R):_.img,src:y,srcSet:S}),z=y||S,M=z&&J!=="error";R.colorDefault=!M,delete R.ownerState;const N=jd(R),[G,B]=Dt("img",{className:N.img,elementType:Fd,externalForwardedProps:{slots:f,slotProps:{img:{...x,..._.img}}},additionalProps:{alt:d,src:y,srcSet:S,sizes:v},ownerState:R});return M?C=a.jsx(G,{...B}):h||h===0?C=h:z&&d?C=d[0]:C=a.jsx(Wd,{ownerState:R,className:N.fallback}),a.jsx(Bd,{as:m,className:st(N.root,p),ref:s,...A,ownerState:R,children:C})});function $d(n){return jt("MuiCardActionArea",n)}const Ls=Bt("MuiCardActionArea",["root","focusVisible","focusHighlight"]),Gd=n=>{const{classes:i}=n;return Wt({root:["root"],focusHighlight:["focusHighlight"]},$d,i)},Jd=Be(co,{name:"MuiCardActionArea",slot:"Root",overridesResolver:(n,i)=>i.root})(Ct(({theme:n})=>({display:"block",textAlign:"inherit",borderRadius:"inherit",width:"100%",[`&:hover .${Ls.focusHighlight}`]:{opacity:(n.vars||n).palette.action.hoverOpacity,"@media (hover: none)":{opacity:0}},[`&.${Ls.focusVisible} .${Ls.focusHighlight}`]:{opacity:(n.vars||n).palette.action.focusOpacity}}))),Vd=Be("span",{name:"MuiCardActionArea",slot:"FocusHighlight",overridesResolver:(n,i)=>i.focusHighlight})(Ct(({theme:n})=>({overflow:"hidden",pointerEvents:"none",position:"absolute",top:0,right:0,bottom:0,left:0,borderRadius:"inherit",opacity:0,backgroundColor:"currentcolor",transition:n.transitions.create("opacity",{duration:n.transitions.duration.short})}))),Ud=u.forwardRef(function(i,s){const l=Ft({props:i,name:"MuiCardActionArea"}),{children:d,className:h,focusVisibleClassName:p,slots:m={},slotProps:f={},..._}=l,x=l,v=Gd(x),y={slots:m,slotProps:f},[S,k]=Dt("root",{elementType:Jd,externalForwardedProps:{...y,..._},shouldForwardComponentProp:!0,ownerState:x,ref:s,className:st(v.root,h),additionalProps:{focusVisibleClassName:st(p,v.focusVisible)}}),[A,C]=Dt("focusHighlight",{elementType:Vd,externalForwardedProps:y,ownerState:x,ref:s,className:v.focusHighlight});return a.jsxs(S,{...k,children:[d,a.jsx(A,{...C})]})});function qd(n){return jt("MuiCardActions",n)}Bt("MuiCardActions",["root","spacing"]);const Kd=n=>{const{classes:i,disableSpacing:s}=n;return Wt({root:["root",!s&&"spacing"]},qd,i)},Xd=Be("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(n,i)=>{const{ownerState:s}=n;return[i.root,!s.disableSpacing&&i.spacing]}})({display:"flex",alignItems:"center",padding:8,variants:[{props:{disableSpacing:!1},style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),Yd=u.forwardRef(function(i,s){const l=Ft({props:i,name:"MuiCardActions"}),{disableSpacing:d=!1,className:h,...p}=l,m={...l,disableSpacing:d},f=Kd(m);return a.jsx(Xd,{className:st(f.root,h),ownerState:m,ref:s,...p})});function Qd(n){return jt("PrivateSwitchBase",n)}Bt("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const ep=n=>{const{classes:i,checked:s,disabled:l,edge:d}=n,h={root:["root",s&&"checked",l&&"disabled",d&&`edge${bt(d)}`],input:["input"]};return Wt(h,Qd,i)},tp=Be(co,{name:"MuiSwitchBase"})({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:n,ownerState:i})=>n==="start"&&i.size!=="small",style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:n,ownerState:i})=>n==="end"&&i.size!=="small",style:{marginRight:-12}}]}),np=Be("input",{name:"MuiSwitchBase",shouldForwardProp:qo})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),ip=u.forwardRef(function(i,s){const{autoFocus:l,checked:d,checkedIcon:h,defaultChecked:p,disabled:m,disableFocusRipple:f=!1,edge:_=!1,icon:x,id:v,inputProps:y,inputRef:S,name:k,onBlur:A,onChange:C,onFocus:R,readOnly:J,required:z=!1,tabIndex:M,type:N,value:G,slots:B={},slotProps:Y={},...E}=i,[W,oe]=Eo({controlled:d,default:!!p,name:"SwitchBase",state:"checked"}),$=rl(),he=T=>{R&&R(T),$&&$.onFocus&&$.onFocus(T)},re=T=>{A&&A(T),$&&$.onBlur&&$.onBlur(T)},ve=T=>{if(T.nativeEvent.defaultPrevented)return;const D=T.target.checked;oe(D),C&&C(T,D)};let de=m;$&&typeof de>"u"&&(de=$.disabled);const Le=N==="checkbox"||N==="radio",V={...i,checked:W,disabled:de,disableFocusRipple:f,edge:_},Ie=ep(V),ae={slots:B,slotProps:{input:y,...Y}},[ue,ke]=Dt("root",{ref:s,elementType:tp,className:Ie.root,shouldForwardComponentProp:!0,externalForwardedProps:{...ae,component:"span",...E},getSlotProps:T=>({...T,onFocus:D=>{var Q;(Q=T.onFocus)==null||Q.call(T,D),he(D)},onBlur:D=>{var Q;(Q=T.onBlur)==null||Q.call(T,D),re(D)}}),ownerState:V,additionalProps:{centerRipple:!0,focusRipple:!f,disabled:de,role:void 0,tabIndex:null}}),[U,ie]=Dt("input",{ref:S,elementType:np,className:Ie.input,externalForwardedProps:ae,getSlotProps:T=>({onChange:D=>{var Q;(Q=T.onChange)==null||Q.call(T,D),ve(D)}}),ownerState:V,additionalProps:{autoFocus:l,checked:d,defaultChecked:p,disabled:de,id:Le?v:void 0,name:k,readOnly:J,required:z,tabIndex:M,type:N,...N==="checkbox"&&G===void 0?{}:{value:G}}});return a.jsxs(ue,{...ke,children:[a.jsx(U,{...ie}),W?h:x]})}),op=ti(a.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),sp=ti(a.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),rp=ti(a.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function ap(n){return jt("MuiCheckbox",n)}const Es=Bt("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),lp=n=>{const{classes:i,indeterminate:s,color:l,size:d}=n,h={root:["root",s&&"indeterminate",`color${bt(l)}`,`size${bt(d)}`]},p=Wt(h,ap,i);return{...i,...p}},cp=Be(ip,{shouldForwardProp:n=>qo(n)||n==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(n,i)=>{const{ownerState:s}=n;return[i.root,s.indeterminate&&i.indeterminate,i[`size${bt(s.size)}`],s.color!=="default"&&i[`color${bt(s.color)}`]]}})(Ct(({theme:n})=>({color:(n.vars||n).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:n.vars?`rgba(${n.vars.palette.action.activeChannel} / ${n.vars.palette.action.hoverOpacity})`:K(n.palette.action.active,n.palette.action.hoverOpacity)}}},...Object.entries(n.palette).filter(Js()).map(([i])=>({props:{color:i,disableRipple:!1},style:{"&:hover":{backgroundColor:n.vars?`rgba(${n.vars.palette[i].mainChannel} / ${n.vars.palette.action.hoverOpacity})`:K(n.palette[i].main,n.palette.action.hoverOpacity)}}})),...Object.entries(n.palette).filter(Js()).map(([i])=>({props:{color:i},style:{[`&.${Es.checked}, &.${Es.indeterminate}`]:{color:(n.vars||n).palette[i].main},[`&.${Es.disabled}`]:{color:(n.vars||n).palette.action.disabled}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}))),up=a.jsx(sp,{}),dp=a.jsx(op,{}),pp=a.jsx(rp,{}),Ks=u.forwardRef(function(i,s){const l=Ft({props:i,name:"MuiCheckbox"}),{checkedIcon:d=up,color:h="primary",icon:p=dp,indeterminate:m=!1,indeterminateIcon:f=pp,inputProps:_,size:x="medium",disableRipple:v=!1,className:y,slots:S={},slotProps:k={},...A}=l,C=m?f:p,R=m?f:d,J={...l,disableRipple:v,color:h,indeterminate:m,size:x},z=lp(J),M=k.input??_,[N,G]=Dt("root",{ref:s,elementType:cp,className:st(z.root,y),shouldForwardComponentProp:!0,externalForwardedProps:{slots:S,slotProps:k,...A},ownerState:J,additionalProps:{type:"checkbox",icon:u.cloneElement(C,{fontSize:C.props.fontSize??x}),checkedIcon:u.cloneElement(R,{fontSize:R.props.fontSize??x}),disableRipple:v,slots:S,slotProps:{input:al(typeof M=="function"?M(J):M,{"data-indeterminate":m})}}});return a.jsx(N,{...G,classes:z})});function wa(n){return n.substring(2).toLowerCase()}function hp(n,i){return i.documentElement.clientWidth<n.clientX||i.documentElement.clientHeight<n.clientY}function mp(n){const{children:i,disableReactTree:s=!1,mouseEvent:l="onClick",onClickAway:d,touchEvent:h="onTouchEnd"}=n,p=u.useRef(!1),m=u.useRef(null),f=u.useRef(!1),_=u.useRef(!1);u.useEffect(()=>(setTimeout(()=>{f.current=!0},0),()=>{f.current=!1}),[]);const x=Ko(ll(i),m),v=ei(k=>{const A=_.current;_.current=!1;const C=Ro(m.current);if(!f.current||!m.current||"clientX"in k&&hp(k,C))return;if(p.current){p.current=!1;return}let R;k.composedPath?R=k.composedPath().includes(m.current):R=!C.documentElement.contains(k.target)||m.current.contains(k.target),!R&&(s||!A)&&d(k)}),y=k=>A=>{_.current=!0;const C=i.props[k];C&&C(A)},S={ref:x};return h!==!1&&(S[h]=y(h)),u.useEffect(()=>{if(h!==!1){const k=wa(h),A=Ro(m.current),C=()=>{p.current=!0};return A.addEventListener(k,v),A.addEventListener("touchmove",C),()=>{A.removeEventListener(k,v),A.removeEventListener("touchmove",C)}}},[v,h]),l!==!1&&(S[l]=y(l)),u.useEffect(()=>{if(l!==!1){const k=wa(l),A=Ro(m.current);return A.addEventListener(k,v),()=>{A.removeEventListener(k,v)}}},[v,l]),u.cloneElement(i,S)}const Xs=typeof cl({})=="function",fp=(n,i)=>({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%",...i&&!n.vars&&{colorScheme:n.palette.mode}}),gp=n=>({color:(n.vars||n).palette.text.primary,...n.typography.body1,backgroundColor:(n.vars||n).palette.background.default,"@media print":{backgroundColor:(n.vars||n).palette.common.white}}),wl=(n,i=!1)=>{var h,p;const s={};i&&n.colorSchemes&&typeof n.getColorSchemeSelector=="function"&&Object.entries(n.colorSchemes).forEach(([m,f])=>{var x,v;const _=n.getColorSchemeSelector(m);_.startsWith("@")?s[_]={":root":{colorScheme:(x=f.palette)==null?void 0:x.mode}}:s[_.replace(/\s*&/,"")]={colorScheme:(v=f.palette)==null?void 0:v.mode}});let l={html:fp(n,i),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:n.typography.fontWeightBold},body:{margin:0,...gp(n),"&::backdrop":{backgroundColor:(n.vars||n).palette.background.default}},...s};const d=(p=(h=n.components)==null?void 0:h.MuiCssBaseline)==null?void 0:p.styleOverrides;return d&&(l=[l,d]),l},Oo="mui-ecs",yp=n=>{const i=wl(n,!1),s=Array.isArray(i)?i[0]:i;return!n.vars&&s&&(s.html[`:root:has(${Oo})`]={colorScheme:n.palette.mode}),n.colorSchemes&&Object.entries(n.colorSchemes).forEach(([l,d])=>{var p,m;const h=n.getColorSchemeSelector(l);h.startsWith("@")?s[h]={[`:root:not(:has(.${Oo}))`]:{colorScheme:(p=d.palette)==null?void 0:p.mode}}:s[h.replace(/\s*&/,"")]={[`&:not(:has(.${Oo}))`]:{colorScheme:(m=d.palette)==null?void 0:m.mode}}}),i},vp=cl(Xs?({theme:n,enableColorScheme:i})=>wl(n,i):({theme:n})=>yp(n));function xp(n){const i=Ft({props:n,name:"MuiCssBaseline"}),{children:s,enableColorScheme:l=!1}=i;return a.jsxs(u.Fragment,{children:[Xs&&a.jsx(vp,{enableColorScheme:l}),!Xs&&!l&&a.jsx("span",{className:Oo,style:{display:"none"}}),s]})}function _p(n){return jt("MuiDialog",n)}const Rs=Bt("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),Cl=u.createContext({}),bp=Be(yu,{name:"MuiDialog",slot:"Backdrop",overrides:(n,i)=>i.backdrop})({zIndex:-1}),Sp=n=>{const{classes:i,scroll:s,maxWidth:l,fullWidth:d,fullScreen:h}=n,p={root:["root"],container:["container",`scroll${bt(s)}`],paper:["paper",`paperScroll${bt(s)}`,`paperWidth${bt(String(l))}`,d&&"paperFullWidth",h&&"paperFullScreen"]};return Wt(p,_p,i)},wp=Be(ul,{name:"MuiDialog",slot:"Root",overridesResolver:(n,i)=>i.root})({"@media print":{position:"absolute !important"}}),Cp=Be("div",{name:"MuiDialog",slot:"Container",overridesResolver:(n,i)=>{const{ownerState:s}=n;return[i.container,i[`scroll${bt(s.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),Tp=Be(vt,{name:"MuiDialog",slot:"Paper",overridesResolver:(n,i)=>{const{ownerState:s}=n;return[i.paper,i[`scrollPaper${bt(s.scroll)}`],i[`paperWidth${bt(String(s.maxWidth))}`],s.fullWidth&&i.paperFullWidth,s.fullScreen&&i.paperFullScreen]}})(Ct(({theme:n})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:i})=>!i.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:n.breakpoints.unit==="px"?Math.max(n.breakpoints.values.xs,444):`max(${n.breakpoints.values.xs}${n.breakpoints.unit}, 444px)`,[`&.${Rs.paperScrollBody}`]:{[n.breakpoints.down(Math.max(n.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(n.breakpoints.values).filter(i=>i!=="xs").map(i=>({props:{maxWidth:i},style:{maxWidth:`${n.breakpoints.values[i]}${n.breakpoints.unit}`,[`&.${Rs.paperScrollBody}`]:{[n.breakpoints.down(n.breakpoints.values[i]+32*2)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:i})=>i.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:i})=>i.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${Rs.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),Ns=u.forwardRef(function(i,s){const l=Ft({props:i,name:"MuiDialog"}),d=qt(),h={enter:d.transitions.duration.enteringScreen,exit:d.transitions.duration.leavingScreen},{"aria-describedby":p,"aria-labelledby":m,"aria-modal":f=!0,BackdropComponent:_,BackdropProps:x,children:v,className:y,disableEscapeKeyDown:S=!1,fullScreen:k=!1,fullWidth:A=!1,maxWidth:C="sm",onBackdropClick:R,onClick:J,onClose:z,open:M,PaperComponent:N=vt,PaperProps:G={},scroll:B="paper",slots:Y={},slotProps:E={},TransitionComponent:W=Wo,transitionDuration:oe=h,TransitionProps:$,...he}=l,re={...l,disableEscapeKeyDown:S,fullScreen:k,fullWidth:A,maxWidth:C,scroll:B},ve=Sp(re),de=u.useRef(),Le=Fe=>{de.current=Fe.target===Fe.currentTarget},V=Fe=>{J&&J(Fe),de.current&&(de.current=null,R&&R(Fe),z&&z(Fe,"backdropClick"))},Ie=sr(m),ae=u.useMemo(()=>({titleId:Ie}),[Ie]),ue={transition:W,...Y},ke={transition:$,paper:G,backdrop:x,...E},U={slots:ue,slotProps:ke},[ie,T]=Dt("root",{elementType:wp,shouldForwardComponentProp:!0,externalForwardedProps:U,ownerState:re,className:st(ve.root,y),ref:s}),[D,Q]=Dt("backdrop",{elementType:bp,shouldForwardComponentProp:!0,externalForwardedProps:U,ownerState:re}),[se,me]=Dt("paper",{elementType:Tp,shouldForwardComponentProp:!0,externalForwardedProps:U,ownerState:re,className:st(ve.paper,G.className)}),[Ee,nt]=Dt("container",{elementType:Cp,externalForwardedProps:U,ownerState:re,className:st(ve.container)}),[Oe,Me]=Dt("transition",{elementType:Wo,externalForwardedProps:U,ownerState:re,additionalProps:{appear:!0,in:M,timeout:oe,role:"presentation"}});return a.jsx(ie,{closeAfterTransition:!0,slots:{backdrop:D},slotProps:{backdrop:{transitionDuration:oe,as:_,...Q}},disableEscapeKeyDown:S,onClose:z,open:M,onClick:V,...T,...he,children:a.jsx(Oe,{...Me,children:a.jsx(Ee,{onMouseDown:Le,...nt,children:a.jsx(se,{as:N,elevation:24,role:"dialog","aria-describedby":p,"aria-labelledby":Ie,"aria-modal":f,...me,children:a.jsx(Cl.Provider,{value:ae,children:v})})})})})});function Ap(n){return jt("MuiDialogActions",n)}Bt("MuiDialogActions",["root","spacing"]);const kp=n=>{const{classes:i,disableSpacing:s}=n;return Wt({root:["root",!s&&"spacing"]},Ap,i)},Pp=Be("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(n,i)=>{const{ownerState:s}=n;return[i.root,!s.disableSpacing&&i.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:n})=>!n.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),Os=u.forwardRef(function(i,s){const l=Ft({props:i,name:"MuiDialogActions"}),{className:d,disableSpacing:h=!1,...p}=l,m={...l,disableSpacing:h},f=kp(m);return a.jsx(Pp,{className:st(f.root,d),ownerState:m,ref:s,...p})});function Ip(n){return jt("MuiDialogContent",n)}Bt("MuiDialogContent",["root","dividers"]);function Mp(n){return jt("MuiDialogTitle",n)}const Dp=Bt("MuiDialogTitle",["root"]),Lp=n=>{const{classes:i,dividers:s}=n;return Wt({root:["root",s&&"dividers"]},Ip,i)},Ep=Be("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(n,i)=>{const{ownerState:s}=n;return[i.root,s.dividers&&i.dividers]}})(Ct(({theme:n})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:i})=>i.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(n.vars||n).palette.divider}`,borderBottom:`1px solid ${(n.vars||n).palette.divider}`}},{props:({ownerState:i})=>!i.dividers,style:{[`.${Dp.root} + &`]:{paddingTop:0}}}]}))),zs=u.forwardRef(function(i,s){const l=Ft({props:i,name:"MuiDialogContent"}),{className:d,dividers:h=!1,...p}=l,m={...l,dividers:h},f=Lp(m);return a.jsx(Ep,{className:st(f.root,d),ownerState:m,ref:s,...p})}),Rp=n=>{const{classes:i}=n;return Wt({root:["root"]},Mp,i)},Np=Be(ye,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(n,i)=>i.root})({padding:"16px 24px",flex:"0 0 auto"}),js=u.forwardRef(function(i,s){const l=Ft({props:i,name:"MuiDialogTitle"}),{className:d,id:h,...p}=l,m=l,f=Rp(m),{titleId:_=h}=u.useContext(Cl);return a.jsx(Np,{component:"h2",className:st(f.root,d),ownerState:m,ref:s,variant:"h6",id:h??_,...p})});function Op(n){return jt("MuiDivider",n)}const Ca=Bt("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),zp=n=>{const{absolute:i,children:s,classes:l,flexItem:d,light:h,orientation:p,textAlign:m,variant:f}=n;return Wt({root:["root",i&&"absolute",f,h&&"light",p==="vertical"&&"vertical",d&&"flexItem",s&&"withChildren",s&&p==="vertical"&&"withChildrenVertical",m==="right"&&p!=="vertical"&&"textAlignRight",m==="left"&&p!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",p==="vertical"&&"wrapperVertical"]},Op,l)},jp=Be("div",{name:"MuiDivider",slot:"Root",overridesResolver:(n,i)=>{const{ownerState:s}=n;return[i.root,s.absolute&&i.absolute,i[s.variant],s.light&&i.light,s.orientation==="vertical"&&i.vertical,s.flexItem&&i.flexItem,s.children&&i.withChildren,s.children&&s.orientation==="vertical"&&i.withChildrenVertical,s.textAlign==="right"&&s.orientation!=="vertical"&&i.textAlignRight,s.textAlign==="left"&&s.orientation!=="vertical"&&i.textAlignLeft]}})(Ct(({theme:n})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(n.vars||n).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:n.vars?`rgba(${n.vars.palette.dividerChannel} / 0.08)`:K(n.palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:n.spacing(2),marginRight:n.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:n.spacing(1),marginBottom:n.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:i})=>!!i.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:i})=>i.children&&i.orientation!=="vertical",style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(n.vars||n).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:i})=>i.orientation==="vertical"&&i.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(n.vars||n).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:i})=>i.textAlign==="right"&&i.orientation!=="vertical",style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:i})=>i.textAlign==="left"&&i.orientation!=="vertical",style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),Bp=Be("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(n,i)=>{const{ownerState:s}=n;return[i.wrapper,s.orientation==="vertical"&&i.wrapperVertical]}})(Ct(({theme:n})=>({display:"inline-block",paddingLeft:`calc(${n.spacing(1)} * 1.2)`,paddingRight:`calc(${n.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${n.spacing(1)} * 1.2)`,paddingBottom:`calc(${n.spacing(1)} * 1.2)`}}]}))),Zn=u.forwardRef(function(i,s){const l=Ft({props:i,name:"MuiDivider"}),{absolute:d=!1,children:h,className:p,orientation:m="horizontal",component:f=h||m==="vertical"?"div":"hr",flexItem:_=!1,light:x=!1,role:v=f!=="hr"?"separator":void 0,textAlign:y="center",variant:S="fullWidth",...k}=l,A={...l,absolute:d,component:f,flexItem:_,light:x,orientation:m,role:v,textAlign:y,variant:S},C=zp(A);return a.jsx(jp,{as:f,className:st(C.root,p),role:v,ref:s,ownerState:A,"aria-orientation":v==="separator"&&(f!=="hr"||m==="vertical")?m:void 0,...k,children:h?a.jsx(Bp,{className:C.wrapper,ownerState:A,children:h}):null})});Zn&&(Zn.muiSkipListHighlight=!0);function Fp(n,i,s){const l=i.getBoundingClientRect(),d=s&&s.getBoundingClientRect(),h=Xo(i);let p;if(i.fakeTransform)p=i.fakeTransform;else{const _=h.getComputedStyle(i);p=_.getPropertyValue("-webkit-transform")||_.getPropertyValue("transform")}let m=0,f=0;if(p&&p!=="none"&&typeof p=="string"){const _=p.split("(")[1].split(")")[0].split(",");m=parseInt(_[4],10),f=parseInt(_[5],10)}return n==="left"?d?`translateX(${d.right+m-l.left}px)`:`translateX(${h.innerWidth+m-l.left}px)`:n==="right"?d?`translateX(-${l.right-d.left-m}px)`:`translateX(-${l.left+l.width-m}px)`:n==="up"?d?`translateY(${d.bottom+f-l.top}px)`:`translateY(${h.innerHeight+f-l.top}px)`:d?`translateY(-${l.top-d.top+l.height-f}px)`:`translateY(-${l.top+l.height-f}px)`}function Wp(n){return typeof n=="function"?n():n}function ko(n,i,s){const l=Wp(s),d=Fp(n,i,l);d&&(i.style.webkitTransform=d,i.style.transform=d)}const Zp=u.forwardRef(function(i,s){const l=qt(),d={enter:l.transitions.easing.easeOut,exit:l.transitions.easing.sharp},h={enter:l.transitions.duration.enteringScreen,exit:l.transitions.duration.leavingScreen},{addEndListener:p,appear:m=!0,children:f,container:_,direction:x="down",easing:v=d,in:y,onEnter:S,onEntered:k,onEntering:A,onExit:C,onExited:R,onExiting:J,style:z,timeout:M=h,TransitionComponent:N=vu,...G}=i,B=u.useRef(null),Y=Ko(ll(f),B,s),E=V=>Ie=>{V&&(Ie===void 0?V(B.current):V(B.current,Ie))},W=E((V,Ie)=>{ko(x,V,_),xu(V),S&&S(V,Ie)}),oe=E((V,Ie)=>{const ae=da({timeout:M,style:z,easing:v},{mode:"enter"});V.style.webkitTransition=l.transitions.create("-webkit-transform",{...ae}),V.style.transition=l.transitions.create("transform",{...ae}),V.style.webkitTransform="none",V.style.transform="none",A&&A(V,Ie)}),$=E(k),he=E(J),re=E(V=>{const Ie=da({timeout:M,style:z,easing:v},{mode:"exit"});V.style.webkitTransition=l.transitions.create("-webkit-transform",Ie),V.style.transition=l.transitions.create("transform",Ie),ko(x,V,_),C&&C(V)}),ve=E(V=>{V.style.webkitTransition="",V.style.transition="",R&&R(V)}),de=V=>{p&&p(B.current,V)},Le=u.useCallback(()=>{B.current&&ko(x,B.current,_)},[x,_]);return u.useEffect(()=>{if(y||x==="down"||x==="right")return;const V=ar(()=>{B.current&&ko(x,B.current,_)}),Ie=Xo(B.current);return Ie.addEventListener("resize",V),()=>{V.clear(),Ie.removeEventListener("resize",V)}},[x,y,_]),u.useEffect(()=>{y||Le()},[y,Le]),a.jsx(N,{nodeRef:B,onEnter:W,onEntered:$,onEntering:oe,onExit:re,onExited:ve,onExiting:he,addEndListener:de,appear:m,in:y,timeout:M,...G,children:(V,{ownerState:Ie,...ae})=>u.cloneElement(f,{ref:Y,style:{visibility:V==="exited"&&!y?"hidden":void 0,...z,...f.props.style},...ae})})});function Hp(n){return jt("MuiDrawer",n)}Bt("MuiDrawer",["root","docked","paper","anchorLeft","anchorRight","anchorTop","anchorBottom","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const Tl=(n,i)=>{const{ownerState:s}=n;return[i.root,(s.variant==="permanent"||s.variant==="persistent")&&i.docked,i.modal]},$p=n=>{const{classes:i,anchor:s,variant:l}=n,d={root:["root",`anchor${bt(s)}`],docked:[(l==="permanent"||l==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${bt(s)}`,l!=="temporary"&&`paperAnchorDocked${bt(s)}`]};return Wt(d,Hp,i)},Gp=Be(ul,{name:"MuiDrawer",slot:"Root",overridesResolver:Tl})(Ct(({theme:n})=>({zIndex:(n.vars||n).zIndex.drawer}))),Jp=Be("div",{shouldForwardProp:qo,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:Tl})({flex:"0 0 auto"}),Vp=Be(vt,{name:"MuiDrawer",slot:"Paper",overridesResolver:(n,i)=>{const{ownerState:s}=n;return[i.paper,i[`paperAnchor${bt(s.anchor)}`],s.variant!=="temporary"&&i[`paperAnchorDocked${bt(s.anchor)}`]]}})(Ct(({theme:n})=>({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(n.vars||n).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0,variants:[{props:{anchor:"left"},style:{left:0}},{props:{anchor:"top"},style:{top:0,left:0,right:0,height:"auto",maxHeight:"100%"}},{props:{anchor:"right"},style:{right:0}},{props:{anchor:"bottom"},style:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"}},{props:({ownerState:i})=>i.anchor==="left"&&i.variant!=="temporary",style:{borderRight:`1px solid ${(n.vars||n).palette.divider}`}},{props:({ownerState:i})=>i.anchor==="top"&&i.variant!=="temporary",style:{borderBottom:`1px solid ${(n.vars||n).palette.divider}`}},{props:({ownerState:i})=>i.anchor==="right"&&i.variant!=="temporary",style:{borderLeft:`1px solid ${(n.vars||n).palette.divider}`}},{props:({ownerState:i})=>i.anchor==="bottom"&&i.variant!=="temporary",style:{borderTop:`1px solid ${(n.vars||n).palette.divider}`}}]}))),Al={left:"right",right:"left",top:"down",bottom:"up"};function Up(n){return["left","right"].includes(n)}function qp({direction:n},i){return n==="rtl"&&Up(i)?Al[i]:i}const Kp=u.forwardRef(function(i,s){const l=Ft({props:i,name:"MuiDrawer"}),d=qt(),h=lr(),p={enter:d.transitions.duration.enteringScreen,exit:d.transitions.duration.leavingScreen},{anchor:m="left",BackdropProps:f,children:_,className:x,elevation:v=16,hideBackdrop:y=!1,ModalProps:{BackdropProps:S,...k}={},onClose:A,open:C=!1,PaperProps:R={},SlideProps:J,TransitionComponent:z,transitionDuration:M=p,variant:N="temporary",slots:G={},slotProps:B={},...Y}=l,E=u.useRef(!1);u.useEffect(()=>{E.current=!0},[]);const W=qp({direction:h?"rtl":"ltr"},m),$={...l,anchor:m,elevation:v,open:C,variant:N,...Y},he=$p($),re={slots:{transition:z,...G},slotProps:{paper:R,transition:J,...B,backdrop:al(B.backdrop||{...f,...S},{transitionDuration:M})}},[ve,de]=Dt("root",{ref:s,elementType:Gp,className:st(he.root,he.modal,x),shouldForwardComponentProp:!0,ownerState:$,externalForwardedProps:{...re,...Y,...k},additionalProps:{open:C,onClose:A,hideBackdrop:y,slots:{backdrop:re.slots.backdrop},slotProps:{backdrop:re.slotProps.backdrop}}}),[Le,V]=Dt("paper",{elementType:Vp,shouldForwardComponentProp:!0,className:st(he.paper,R.className),ownerState:$,externalForwardedProps:re,additionalProps:{elevation:N==="temporary"?v:0,square:!0}}),[Ie,ae]=Dt("docked",{elementType:Jp,ref:s,className:st(he.root,he.docked,x),ownerState:$,externalForwardedProps:re,additionalProps:Y}),[ue,ke]=Dt("transition",{elementType:Zp,ownerState:$,externalForwardedProps:re,additionalProps:{in:C,direction:Al[W],timeout:M,appear:E.current}}),U=a.jsx(Le,{...V,children:_});if(N==="permanent")return a.jsx(Ie,{...ae,children:U});const ie=a.jsx(ue,{...ke,children:U});return N==="persistent"?a.jsx(Ie,{...ae,children:ie}):a.jsx(ve,{...de,children:ie})});function Xp(n){return jt("MuiFormControlLabel",n)}const Yi=Bt("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),Yp=n=>{const{classes:i,disabled:s,labelPlacement:l,error:d,required:h}=n,p={root:["root",s&&"disabled",`labelPlacement${bt(l)}`,d&&"error",h&&"required"],label:["label",s&&"disabled"],asterisk:["asterisk",d&&"error"]};return Wt(p,Xp,i)},Qp=Be("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(n,i)=>{const{ownerState:s}=n;return[{[`& .${Yi.label}`]:i.label},i.root,i[`labelPlacement${bt(s.labelPlacement)}`]]}})(Ct(({theme:n})=>({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${Yi.disabled}`]:{cursor:"default"},[`& .${Yi.label}`]:{[`&.${Yi.disabled}`]:{color:(n.vars||n).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:({labelPlacement:i})=>i==="start"||i==="top"||i==="bottom",style:{marginLeft:16}}]}))),eh=Be("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(n,i)=>i.asterisk})(Ct(({theme:n})=>({[`&.${Yi.error}`]:{color:(n.vars||n).palette.error.main}}))),th=u.forwardRef(function(i,s){const l=Ft({props:i,name:"MuiFormControlLabel"}),{checked:d,className:h,componentsProps:p={},control:m,disabled:f,disableTypography:_,inputRef:x,label:v,labelPlacement:y="end",name:S,onChange:k,required:A,slots:C={},slotProps:R={},value:J,...z}=l,M=rl(),N=f??m.props.disabled??(M==null?void 0:M.disabled),G=A??m.props.required,B={disabled:N,required:G};["checked","name","onChange","value","inputRef"].forEach(ve=>{typeof m.props[ve]>"u"&&typeof l[ve]<"u"&&(B[ve]=l[ve])});const Y=_u({props:l,muiFormControl:M,states:["error"]}),E={...l,disabled:N,labelPlacement:y,required:G,error:Y.error},W=Yp(E),oe={slots:C,slotProps:{...p,...R}},[$,he]=Dt("typography",{elementType:ye,externalForwardedProps:oe,ownerState:E});let re=v;return re!=null&&re.type!==ye&&!_&&(re=a.jsx($,{component:"span",...he,className:st(W.label,he==null?void 0:he.className),children:re})),a.jsxs(Qp,{className:st(W.root,h),ownerState:E,ref:s,...z,children:[u.cloneElement(m,B),G?a.jsxs("div",{children:[re,a.jsxs(eh,{ownerState:E,"aria-hidden":!0,className:W.asterisk,children:["â€‰","*"]})]}):re]})});function nh(n){return jt("MuiListItem",n)}Bt("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);function ih(n){return jt("MuiListItemSecondaryAction",n)}Bt("MuiListItemSecondaryAction",["root","disableGutters"]);const oh=n=>{const{disableGutters:i,classes:s}=n;return Wt({root:["root",i&&"disableGutters"]},ih,s)},sh=Be("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(n,i)=>{const{ownerState:s}=n;return[i.root,s.disableGutters&&i.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:({ownerState:n})=>n.disableGutters,style:{right:0}}]}),kl=u.forwardRef(function(i,s){const l=Ft({props:i,name:"MuiListItemSecondaryAction"}),{className:d,...h}=l,p=u.useContext(pi),m={...l,disableGutters:p.disableGutters},f=oh(m);return a.jsx(sh,{className:st(f.root,d),ownerState:m,ref:s,...h})});kl.muiName="ListItemSecondaryAction";const rh=(n,i)=>{const{ownerState:s}=n;return[i.root,s.dense&&i.dense,s.alignItems==="flex-start"&&i.alignItemsFlexStart,s.divider&&i.divider,!s.disableGutters&&i.gutters,!s.disablePadding&&i.padding,s.hasSecondaryAction&&i.secondaryAction]},ah=n=>{const{alignItems:i,classes:s,dense:l,disableGutters:d,disablePadding:h,divider:p,hasSecondaryAction:m}=n;return Wt({root:["root",l&&"dense",!d&&"gutters",!h&&"padding",p&&"divider",i==="flex-start"&&"alignItemsFlexStart",m&&"secondaryAction"],container:["container"]},nh,s)},lh=Be("div",{name:"MuiListItem",slot:"Root",overridesResolver:rh})(Ct(({theme:n})=>({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:({ownerState:i})=>!i.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:i})=>!i.disablePadding&&i.dense,style:{paddingTop:4,paddingBottom:4}},{props:({ownerState:i})=>!i.disablePadding&&!i.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:i})=>!i.disablePadding&&!!i.secondaryAction,style:{paddingRight:48}},{props:({ownerState:i})=>!!i.secondaryAction,style:{[`& > .${Su.root}`]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:i})=>i.divider,style:{borderBottom:`1px solid ${(n.vars||n).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:i})=>i.button,style:{transition:n.transitions.create("background-color",{duration:n.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(n.vars||n).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:({ownerState:i})=>i.hasSecondaryAction,style:{paddingRight:48}}]}))),ch=Be("li",{name:"MuiListItem",slot:"Container",overridesResolver:(n,i)=>i.container})({position:"relative"}),$o=u.forwardRef(function(i,s){const l=Ft({props:i,name:"MuiListItem"}),{alignItems:d="center",children:h,className:p,component:m,components:f={},componentsProps:_={},ContainerComponent:x="li",ContainerProps:{className:v,...y}={},dense:S=!1,disableGutters:k=!1,disablePadding:A=!1,divider:C=!1,secondaryAction:R,slotProps:J={},slots:z={},...M}=l,N=u.useContext(pi),G=u.useMemo(()=>({dense:S||N.dense||!1,alignItems:d,disableGutters:k}),[d,N.dense,S,k]),B=u.useRef(null),Y=u.Children.toArray(h),E=Y.length&&bu(Y[Y.length-1],["ListItemSecondaryAction"]),W={...l,alignItems:d,dense:G.dense,disableGutters:k,disablePadding:A,divider:C,hasSecondaryAction:E},oe=ah(W),$=Ko(B,s),he=z.root||f.Root||lh,re=J.root||_.root||{},ve={className:st(oe.root,re.className,p),...M};let de=m||"li";return E?(de=!ve.component&&!m?"div":de,x==="li"&&(de==="li"?de="div":ve.component==="li"&&(ve.component="div")),a.jsx(pi.Provider,{value:G,children:a.jsxs(ch,{as:x,className:st(oe.container,v),ref:$,ownerState:W,...y,children:[a.jsx(he,{...re,...!pa(he)&&{as:de,ownerState:{...W,...re.ownerState}},...ve,children:Y}),Y.pop()]})})):a.jsx(pi.Provider,{value:G,children:a.jsxs(he,{...re,as:de,ref:$,...!pa(he)&&{ownerState:{...W,...re.ownerState}},...ve,children:[Y,R&&a.jsx(kl,{children:R})]})})});function uh(n){return jt("MuiListItemIcon",n)}const Ta=Bt("MuiListItemIcon",["root","alignItemsFlexStart"]),dh=n=>{const{alignItems:i,classes:s}=n;return Wt({root:["root",i==="flex-start"&&"alignItemsFlexStart"]},uh,s)},ph=Be("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(n,i)=>{const{ownerState:s}=n;return[i.root,s.alignItems==="flex-start"&&i.alignItemsFlexStart]}})(Ct(({theme:n})=>({minWidth:56,color:(n.vars||n).palette.action.active,flexShrink:0,display:"inline-flex",variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}))),Ys=u.forwardRef(function(i,s){const l=Ft({props:i,name:"MuiListItemIcon"}),{className:d,...h}=l,p=u.useContext(pi),m={...l,alignItems:p.alignItems},f=dh(m);return a.jsx(ph,{className:st(f.root,d),ownerState:m,ref:s,...h})});function hh(n){return jt("MuiMenuItem",n)}const qi=Bt("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),mh=(n,i)=>{const{ownerState:s}=n;return[i.root,s.dense&&i.dense,s.divider&&i.divider,!s.disableGutters&&i.gutters]},fh=n=>{const{disabled:i,dense:s,divider:l,disableGutters:d,selected:h,classes:p}=n,f=Wt({root:["root",s&&"dense",i&&"disabled",!d&&"gutters",l&&"divider",h&&"selected"]},hh,p);return{...p,...f}},gh=Be(co,{shouldForwardProp:n=>qo(n)||n==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:mh})(Ct(({theme:n})=>({...n.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(n.vars||n).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${qi.selected}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / ${n.vars.palette.action.selectedOpacity})`:K(n.palette.primary.main,n.palette.action.selectedOpacity),[`&.${qi.focusVisible}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.focusOpacity}))`:K(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)}},[`&.${qi.selected}:hover`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.hoverOpacity}))`:K(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / ${n.vars.palette.action.selectedOpacity})`:K(n.palette.primary.main,n.palette.action.selectedOpacity)}},[`&.${qi.focusVisible}`]:{backgroundColor:(n.vars||n).palette.action.focus},[`&.${qi.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity},[`& + .${Ca.root}`]:{marginTop:n.spacing(1),marginBottom:n.spacing(1)},[`& + .${Ca.inset}`]:{marginLeft:52},[`& .${ha.root}`]:{marginTop:0,marginBottom:0},[`& .${ha.inset}`]:{paddingLeft:36},[`& .${Ta.root}`]:{minWidth:36},variants:[{props:({ownerState:i})=>!i.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:i})=>i.divider,style:{borderBottom:`1px solid ${(n.vars||n).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:i})=>!i.dense,style:{[n.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:i})=>i.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...n.typography.body2,[`& .${Ta.root} svg`]:{fontSize:"1.25rem"}}}]}))),un=u.forwardRef(function(i,s){const l=Ft({props:i,name:"MuiMenuItem"}),{autoFocus:d=!1,component:h="li",dense:p=!1,divider:m=!1,disableGutters:f=!1,focusVisibleClassName:_,role:x="menuitem",tabIndex:v,className:y,...S}=l,k=u.useContext(pi),A=u.useMemo(()=>({dense:p||k.dense||!1,disableGutters:f}),[k.dense,p,f]),C=u.useRef(null);Uo(()=>{d&&C.current&&C.current.focus()},[d]);const R={...l,dense:A.dense,divider:m,disableGutters:f},J=fh(l),z=Ko(C,s);let M;return l.disabled||(M=v!==void 0?v:-1),a.jsx(pi.Provider,{value:A,children:a.jsx(gh,{ref:z,role:x,tabIndex:M,component:h,focusVisibleClassName:st(J.focusVisible,_),className:st(J.root,y),...S,ownerState:R,classes:J})})});function yh(n){return jt("MuiTab",n)}const bn=Bt("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper","icon"]),vh=n=>{const{classes:i,textColor:s,fullWidth:l,wrapped:d,icon:h,label:p,selected:m,disabled:f}=n,_={root:["root",h&&p&&"labelIcon",`textColor${bt(s)}`,l&&"fullWidth",d&&"wrapped",m&&"selected",f&&"disabled"],icon:["iconWrapper","icon"]};return Wt(_,yh,i)},xh=Be(co,{name:"MuiTab",slot:"Root",overridesResolver:(n,i)=>{const{ownerState:s}=n;return[i.root,s.label&&s.icon&&i.labelIcon,i[`textColor${bt(s.textColor)}`],s.fullWidth&&i.fullWidth,s.wrapped&&i.wrapped,{[`& .${bn.iconWrapper}`]:i.iconWrapper},{[`& .${bn.icon}`]:i.icon}]}})(Ct(({theme:n})=>({...n.typography.button,maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center",lineHeight:1.25,variants:[{props:({ownerState:i})=>i.label&&(i.iconPosition==="top"||i.iconPosition==="bottom"),style:{flexDirection:"column"}},{props:({ownerState:i})=>i.label&&i.iconPosition!=="top"&&i.iconPosition!=="bottom",style:{flexDirection:"row"}},{props:({ownerState:i})=>i.icon&&i.label,style:{minHeight:72,paddingTop:9,paddingBottom:9}},{props:({ownerState:i,iconPosition:s})=>i.icon&&i.label&&s==="top",style:{[`& > .${bn.icon}`]:{marginBottom:6}}},{props:({ownerState:i,iconPosition:s})=>i.icon&&i.label&&s==="bottom",style:{[`& > .${bn.icon}`]:{marginTop:6}}},{props:({ownerState:i,iconPosition:s})=>i.icon&&i.label&&s==="start",style:{[`& > .${bn.icon}`]:{marginRight:n.spacing(1)}}},{props:({ownerState:i,iconPosition:s})=>i.icon&&i.label&&s==="end",style:{[`& > .${bn.icon}`]:{marginLeft:n.spacing(1)}}},{props:{textColor:"inherit"},style:{color:"inherit",opacity:.6,[`&.${bn.selected}`]:{opacity:1},[`&.${bn.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity}}},{props:{textColor:"primary"},style:{color:(n.vars||n).palette.text.secondary,[`&.${bn.selected}`]:{color:(n.vars||n).palette.primary.main},[`&.${bn.disabled}`]:{color:(n.vars||n).palette.text.disabled}}},{props:{textColor:"secondary"},style:{color:(n.vars||n).palette.text.secondary,[`&.${bn.selected}`]:{color:(n.vars||n).palette.secondary.main},[`&.${bn.disabled}`]:{color:(n.vars||n).palette.text.disabled}}},{props:({ownerState:i})=>i.fullWidth,style:{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"}},{props:({ownerState:i})=>i.wrapped,style:{fontSize:n.typography.pxToRem(12)}}]}))),Aa=u.forwardRef(function(i,s){const l=Ft({props:i,name:"MuiTab"}),{className:d,disabled:h=!1,disableFocusRipple:p=!1,fullWidth:m,icon:f,iconPosition:_="top",indicator:x,label:v,onChange:y,onClick:S,onFocus:k,selected:A,selectionFollowsFocus:C,textColor:R="inherit",value:J,wrapped:z=!1,...M}=l,N={...l,disabled:h,disableFocusRipple:p,selected:A,icon:!!f,iconPosition:_,label:!!v,fullWidth:m,textColor:R,wrapped:z},G=vh(N),B=f&&v&&u.isValidElement(f)?u.cloneElement(f,{className:st(G.icon,f.props.className)}):f,Y=W=>{!A&&y&&y(W,J),S&&S(W)},E=W=>{C&&!A&&y&&y(W,J),k&&k(W)};return a.jsxs(xh,{focusRipple:!p,className:st(G.root,d),ref:s,role:"tab","aria-selected":A,disabled:h,onClick:Y,onFocus:E,ownerState:N,tabIndex:A?0:-1,...M,children:[_==="top"||_==="start"?a.jsxs(u.Fragment,{children:[B,v]}):a.jsxs(u.Fragment,{children:[v,B]}),x]})});function _h(n){return jt("MuiToolbar",n)}Bt("MuiToolbar",["root","gutters","regular","dense"]);const bh=n=>{const{classes:i,disableGutters:s,variant:l}=n;return Wt({root:["root",!s&&"gutters",l]},_h,i)},Sh=Be("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(n,i)=>{const{ownerState:s}=n;return[i.root,!s.disableGutters&&i.gutters,i[s.variant]]}})(Ct(({theme:n})=>({position:"relative",display:"flex",alignItems:"center",variants:[{props:({ownerState:i})=>!i.disableGutters,style:{paddingLeft:n.spacing(2),paddingRight:n.spacing(2),[n.breakpoints.up("sm")]:{paddingLeft:n.spacing(3),paddingRight:n.spacing(3)}}},{props:{variant:"dense"},style:{minHeight:48}},{props:{variant:"regular"},style:n.mixins.toolbar}]}))),wh=u.forwardRef(function(i,s){const l=Ft({props:i,name:"MuiToolbar"}),{className:d,component:h="div",disableGutters:p=!1,variant:m="regular",...f}=l,_={...l,component:h,disableGutters:p,variant:m},x=bh(_);return a.jsx(Sh,{as:h,className:st(x.root,d),ref:s,ownerState:_,...f})}),Ch=ti(a.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),Th=ti(a.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");function Ah(n){return(1+Math.sin(Math.PI*n-Math.PI/2))/2}function kh(n,i,s,l={},d=()=>{}){const{ease:h=Ah,duration:p=300}=l;let m=null;const f=i[n];let _=!1;const x=()=>{_=!0},v=y=>{if(_){d(new Error("Animation cancelled"));return}m===null&&(m=y);const S=Math.min(1,(y-m)/p);if(i[n]=h(S)*(s-f)+f,S>=1){requestAnimationFrame(()=>{d(null)});return}requestAnimationFrame(v)};return f===s?(d(new Error("Element already at target position")),x):(requestAnimationFrame(v),x)}const Ph={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function Ih(n){const{onChange:i,...s}=n,l=u.useRef(),d=u.useRef(null),h=()=>{l.current=d.current.offsetHeight-d.current.clientHeight};return Uo(()=>{const p=ar(()=>{const f=l.current;h(),f!==l.current&&i(l.current)}),m=Xo(d.current);return m.addEventListener("resize",p),()=>{p.clear(),m.removeEventListener("resize",p)}},[i]),u.useEffect(()=>{h(),i(l.current)},[i]),a.jsx("div",{style:Ph,...s,ref:d})}function Mh(n){return jt("MuiTabScrollButton",n)}const Dh=Bt("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),Lh=n=>{const{classes:i,orientation:s,disabled:l}=n;return Wt({root:["root",s,l&&"disabled"]},Mh,i)},Eh=Be(co,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(n,i)=>{const{ownerState:s}=n;return[i.root,s.orientation&&i[s.orientation]]}})({width:40,flexShrink:0,opacity:.8,[`&.${Dh.disabled}`]:{opacity:0},variants:[{props:{orientation:"vertical"},style:{width:"100%",height:40,"& svg":{transform:"var(--TabScrollButton-svgRotate)"}}}]}),Rh=u.forwardRef(function(i,s){const l=Ft({props:i,name:"MuiTabScrollButton"}),{className:d,slots:h={},slotProps:p={},direction:m,orientation:f,disabled:_,...x}=l,v=lr(),y={isRtl:v,...l},S=Lh(y),k=h.StartScrollButtonIcon??Ch,A=h.EndScrollButtonIcon??Th,C=Zo({elementType:k,externalSlotProps:p.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:y}),R=Zo({elementType:A,externalSlotProps:p.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:y});return a.jsx(Eh,{component:"div",className:st(S.root,d),ref:s,role:null,ownerState:y,tabIndex:null,...x,style:{...x.style,...f==="vertical"&&{"--TabScrollButton-svgRotate":`rotate(${v?-90:90}deg)`}},children:m==="left"?a.jsx(k,{...C}):a.jsx(A,{...R})})});function Nh(n){return jt("MuiTabs",n)}const Bs=Bt("MuiTabs",["root","vertical","list","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),ka=(n,i)=>n===i?n.firstChild:i&&i.nextElementSibling?i.nextElementSibling:n.firstChild,Pa=(n,i)=>n===i?n.lastChild:i&&i.previousElementSibling?i.previousElementSibling:n.lastChild,Po=(n,i,s)=>{let l=!1,d=s(n,i);for(;d;){if(d===n.firstChild){if(l)return;l=!0}const h=d.disabled||d.getAttribute("aria-disabled")==="true";if(!d.hasAttribute("tabindex")||h)d=s(n,d);else{d.focus();return}}},Oh=n=>{const{vertical:i,fixed:s,hideScrollbar:l,scrollableX:d,scrollableY:h,centered:p,scrollButtonsHideMobile:m,classes:f}=n;return Wt({root:["root",i&&"vertical"],scroller:["scroller",s&&"fixed",l&&"hideScrollbar",d&&"scrollableX",h&&"scrollableY"],list:["list","flexContainer",i&&"flexContainerVertical",i&&"vertical",p&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",m&&"scrollButtonsHideMobile"],scrollableX:[d&&"scrollableX"],hideScrollbar:[l&&"hideScrollbar"]},Nh,f)},zh=Be("div",{name:"MuiTabs",slot:"Root",overridesResolver:(n,i)=>{const{ownerState:s}=n;return[{[`& .${Bs.scrollButtons}`]:i.scrollButtons},{[`& .${Bs.scrollButtons}`]:s.scrollButtonsHideMobile&&i.scrollButtonsHideMobile},i.root,s.vertical&&i.vertical]}})(Ct(({theme:n})=>({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex",variants:[{props:({ownerState:i})=>i.vertical,style:{flexDirection:"column"}},{props:({ownerState:i})=>i.scrollButtonsHideMobile,style:{[`& .${Bs.scrollButtons}`]:{[n.breakpoints.down("sm")]:{display:"none"}}}}]}))),jh=Be("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(n,i)=>{const{ownerState:s}=n;return[i.scroller,s.fixed&&i.fixed,s.hideScrollbar&&i.hideScrollbar,s.scrollableX&&i.scrollableX,s.scrollableY&&i.scrollableY]}})({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap",variants:[{props:({ownerState:n})=>n.fixed,style:{overflowX:"hidden",width:"100%"}},{props:({ownerState:n})=>n.hideScrollbar,style:{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}},{props:({ownerState:n})=>n.scrollableX,style:{overflowX:"auto",overflowY:"hidden"}},{props:({ownerState:n})=>n.scrollableY,style:{overflowY:"auto",overflowX:"hidden"}}]}),Bh=Be("div",{name:"MuiTabs",slot:"List",overridesResolver:(n,i)=>{const{ownerState:s}=n;return[i.list,i.flexContainer,s.vertical&&i.flexContainerVertical,s.centered&&i.centered]}})({display:"flex",variants:[{props:({ownerState:n})=>n.vertical,style:{flexDirection:"column"}},{props:({ownerState:n})=>n.centered,style:{justifyContent:"center"}}]}),Fh=Be("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(n,i)=>i.indicator})(Ct(({theme:n})=>({position:"absolute",height:2,bottom:0,width:"100%",transition:n.transitions.create(),variants:[{props:{indicatorColor:"primary"},style:{backgroundColor:(n.vars||n).palette.primary.main}},{props:{indicatorColor:"secondary"},style:{backgroundColor:(n.vars||n).palette.secondary.main}},{props:({ownerState:i})=>i.vertical,style:{height:"100%",width:2,right:0}}]}))),Wh=Be(Ih)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),Ia={},Zh=u.forwardRef(function(i,s){const l=Ft({props:i,name:"MuiTabs"}),d=qt(),h=lr(),{"aria-label":p,"aria-labelledby":m,action:f,centered:_=!1,children:x,className:v,component:y="div",allowScrollButtonsMobile:S=!1,indicatorColor:k="primary",onChange:A,orientation:C="horizontal",ScrollButtonComponent:R,scrollButtons:J="auto",selectionFollowsFocus:z,slots:M={},slotProps:N={},TabIndicatorProps:G={},TabScrollButtonProps:B={},textColor:Y="primary",value:E,variant:W="standard",visibleScrollbar:oe=!1,...$}=l,he=W==="scrollable",re=C==="vertical",ve=re?"scrollTop":"scrollLeft",de=re?"top":"left",Le=re?"bottom":"right",V=re?"clientHeight":"clientWidth",Ie=re?"height":"width",ae={...l,component:y,allowScrollButtonsMobile:S,indicatorColor:k,orientation:C,vertical:re,scrollButtons:J,textColor:Y,variant:W,visibleScrollbar:oe,fixed:!he,hideScrollbar:he&&!oe,scrollableX:he&&!re,scrollableY:he&&re,centered:_&&!he,scrollButtonsHideMobile:!S},ue=Oh(ae),ke=Zo({elementType:M.StartScrollButtonIcon,externalSlotProps:N.startScrollButtonIcon,ownerState:ae}),U=Zo({elementType:M.EndScrollButtonIcon,externalSlotProps:N.endScrollButtonIcon,ownerState:ae}),[ie,T]=u.useState(!1),[D,Q]=u.useState(Ia),[se,me]=u.useState(!1),[Ee,nt]=u.useState(!1),[Oe,Me]=u.useState(!1),[Fe,rt]=u.useState({overflow:"hidden",scrollbarWidth:0}),at=new Map,le=u.useRef(null),Pe=u.useRef(null),we={slots:M,slotProps:{indicator:G,scrollButton:B,...N}},ut=()=>{const X=le.current;let q;if(X){const ne=X.getBoundingClientRect();q={clientWidth:X.clientWidth,scrollLeft:X.scrollLeft,scrollTop:X.scrollTop,scrollWidth:X.scrollWidth,top:ne.top,bottom:ne.bottom,left:ne.left,right:ne.right}}let te;if(X&&E!==!1){const ne=Pe.current.children;if(ne.length>0){const He=ne[at.get(E)];te=He?He.getBoundingClientRect():null}}return{tabsMeta:q,tabMeta:te}},lt=ei(()=>{const{tabsMeta:X,tabMeta:q}=ut();let te=0,ne;re?(ne="top",q&&X&&(te=q.top-X.top+X.scrollTop)):(ne=h?"right":"left",q&&X&&(te=(h?-1:1)*(q[ne]-X[ne]+X.scrollLeft)));const He={[ne]:te,[Ie]:q?q[Ie]:0};if(typeof D[ne]!="number"||typeof D[Ie]!="number")Q(He);else{const qe=Math.abs(D[ne]-He[ne]),pe=Math.abs(D[Ie]-He[Ie]);(qe>=1||pe>=1)&&Q(He)}}),kt=(X,{animation:q=!0}={})=>{q?kh(ve,le.current,X,{duration:d.transitions.duration.standard}):le.current[ve]=X},St=X=>{let q=le.current[ve];re?q+=X:q+=X*(h?-1:1),kt(q)},ht=()=>{const X=le.current[V];let q=0;const te=Array.from(Pe.current.children);for(let ne=0;ne<te.length;ne+=1){const He=te[ne];if(q+He[V]>X){ne===0&&(q=X);break}q+=He[V]}return q},Yt=()=>{St(-1*ht())},Pt=()=>{St(ht())},[pt,{onChange:Ve,...Ge}]=Dt("scrollbar",{className:st(ue.scrollableX,ue.hideScrollbar),elementType:Wh,shouldForwardComponentProp:!0,externalForwardedProps:we,ownerState:ae}),Re=u.useCallback(X=>{Ve==null||Ve(X),rt({overflow:null,scrollbarWidth:X})},[Ve]),[dt,xt]=Dt("scrollButtons",{className:st(ue.scrollButtons,B.className),elementType:Rh,externalForwardedProps:we,ownerState:ae,additionalProps:{orientation:C,slots:{StartScrollButtonIcon:M.startScrollButtonIcon||M.StartScrollButtonIcon,EndScrollButtonIcon:M.endScrollButtonIcon||M.EndScrollButtonIcon},slotProps:{startScrollButtonIcon:ke,endScrollButtonIcon:U}}}),mt=()=>{const X={};X.scrollbarSizeListener=he?a.jsx(pt,{...Ge,onChange:Re}):null;const te=he&&(J==="auto"&&(se||Ee)||J===!0);return X.scrollButtonStart=te?a.jsx(dt,{direction:h?"right":"left",onClick:Yt,disabled:!se,...xt}):null,X.scrollButtonEnd=te?a.jsx(dt,{direction:h?"left":"right",onClick:Pt,disabled:!Ee,...xt}):null,X},Gt=ei(X=>{const{tabsMeta:q,tabMeta:te}=ut();if(!(!te||!q)){if(te[de]<q[de]){const ne=q[ve]+(te[de]-q[de]);kt(ne,{animation:X})}else if(te[Le]>q[Le]){const ne=q[ve]+(te[Le]-q[Le]);kt(ne,{animation:X})}}}),Lt=ei(()=>{he&&J!==!1&&Me(!Oe)});u.useEffect(()=>{const X=ar(()=>{le.current&&lt()});let q;const te=qe=>{qe.forEach(pe=>{pe.removedNodes.forEach(Tt=>{q==null||q.unobserve(Tt)}),pe.addedNodes.forEach(Tt=>{q==null||q.observe(Tt)})}),X(),Lt()},ne=Xo(le.current);ne.addEventListener("resize",X);let He;return typeof ResizeObserver<"u"&&(q=new ResizeObserver(X),Array.from(Pe.current.children).forEach(qe=>{q.observe(qe)})),typeof MutationObserver<"u"&&(He=new MutationObserver(te),He.observe(Pe.current,{childList:!0})),()=>{X.clear(),ne.removeEventListener("resize",X),He==null||He.disconnect(),q==null||q.disconnect()}},[lt,Lt]),u.useEffect(()=>{const X=Array.from(Pe.current.children),q=X.length;if(typeof IntersectionObserver<"u"&&q>0&&he&&J!==!1){const te=X[0],ne=X[q-1],He={root:le.current,threshold:.99},qe=ft=>{me(!ft[0].isIntersecting)},pe=new IntersectionObserver(qe,He);pe.observe(te);const Tt=ft=>{nt(!ft[0].isIntersecting)},Rt=new IntersectionObserver(Tt,He);return Rt.observe(ne),()=>{pe.disconnect(),Rt.disconnect()}}},[he,J,Oe,x==null?void 0:x.length]),u.useEffect(()=>{T(!0)},[]),u.useEffect(()=>{lt()}),u.useEffect(()=>{Gt(Ia!==D)},[Gt,D]),u.useImperativeHandle(f,()=>({updateIndicator:lt,updateScrollButtons:Lt}),[lt,Lt]);const[Et,Ot]=Dt("indicator",{className:st(ue.indicator,G.className),elementType:Fh,externalForwardedProps:we,ownerState:ae,additionalProps:{style:D}}),en=a.jsx(Et,{...Ot});let Kt=0;const Zt=u.Children.map(x,X=>{if(!u.isValidElement(X))return null;const q=X.props.value===void 0?Kt:X.props.value;at.set(q,Kt);const te=q===E;return Kt+=1,u.cloneElement(X,{fullWidth:W==="fullWidth",indicator:te&&!ie&&en,selected:te,selectionFollowsFocus:z,onChange:A,textColor:Y,value:q,...Kt===1&&E===!1&&!X.props.tabIndex?{tabIndex:0}:{}})}),ce=X=>{if(X.altKey||X.shiftKey||X.ctrlKey||X.metaKey)return;const q=Pe.current,te=Ro(q).activeElement;if(te.getAttribute("role")!=="tab")return;let He=C==="horizontal"?"ArrowLeft":"ArrowUp",qe=C==="horizontal"?"ArrowRight":"ArrowDown";switch(C==="horizontal"&&h&&(He="ArrowRight",qe="ArrowLeft"),X.key){case He:X.preventDefault(),Po(q,te,Pa);break;case qe:X.preventDefault(),Po(q,te,ka);break;case"Home":X.preventDefault(),Po(q,null,ka);break;case"End":X.preventDefault(),Po(q,null,Pa);break}},P=mt(),[H,fe]=Dt("root",{ref:s,className:st(ue.root,v),elementType:zh,externalForwardedProps:{...we,...$,component:y},ownerState:ae}),[Qe,Ze]=Dt("scroller",{ref:le,className:ue.scroller,elementType:jh,externalForwardedProps:we,ownerState:ae,additionalProps:{style:{overflow:Fe.overflow,[re?`margin${h?"Left":"Right"}`:"marginBottom"]:oe?void 0:-Fe.scrollbarWidth}}}),[De,Ue]=Dt("list",{ref:Pe,className:st(ue.list,ue.flexContainer),elementType:Bh,externalForwardedProps:we,ownerState:ae,getSlotProps:X=>({...X,onKeyDown:q=>{var te;ce(q),(te=X.onKeyDown)==null||te.call(X,q)}})});return a.jsxs(H,{...fe,children:[P.scrollButtonStart,P.scrollbarSizeListener,a.jsxs(Qe,{...Ze,children:[a.jsx(De,{"aria-label":p,"aria-labelledby":m,"aria-orientation":C==="vertical"?"vertical":null,role:"tablist",...Ue,children:Zt}),ie&&en]}),P.scrollButtonEnd]})}),Pl={xs:"100%",sm:"22ch",md:"28ch"},Ma=32,Ni=48,Hh={width:"100%",maxWidth:Pl,px:1,display:"flex",alignItems:"center",minHeight:Ni,flex:"0 0 auto","& .MuiInputBase-root":{minHeight:Ni},"& .MuiSelect-select":{display:"flex",alignItems:"center",minHeight:Ni},"& .MuiAutocomplete-inputRoot":{paddingTop:0,paddingBottom:0,transition:"all 120ms ease"}},Qs=({label:n,options:i,value:s,onChange:l,required:d=!1,inputValue:h,onInputChange:p,renderOption:m,wrapperSx:f})=>{const[_,x]=u.useState(""),v=h!==void 0?h:_,y=v.trim().toLowerCase(),S=u.useMemo(()=>y?i.filter(A=>(typeof A=="string"?A:A.label).toLowerCase().includes(y)):i,[y,i]),k=(A,C)=>{h===void 0&&x(C),p==null||p(C)};return a.jsx(Se,{sx:f??Hh,children:a.jsx(mr,{componentsProps:{popper:{style:{zIndex:2e3}}},disableClearable:!0,options:S,value:s==null?void 0:i.find(C=>typeof C=="string"?C===s:C.value===s)??void 0,onChange:(A,C)=>{if(C==null){l(null);return}const R=typeof C=="string"?C:C.value;l(R)},inputValue:v,onInputChange:k,getOptionLabel:A=>typeof A=="string"?A:A.label,renderOption:m??((A,C)=>a.jsx($o,{...A,dense:!0,children:a.jsx(ji,{primary:typeof C=="string"?C:C.label})})),renderInput:A=>{const C=a.jsx(a.Fragment,{children:A.InputProps.endAdornment});return a.jsx(an,{...A,placeholder:s?"":n,size:"small",required:d,"aria-label":n,InputProps:{...A.InputProps,endAdornment:C,sx:{height:Ni,transition:"all 120ms ease","& .MuiInputBase-input":{paddingTop:0,paddingBottom:0,paddingRight:"56px",fontSize:13,lineHeight:`${Ma}px`}}}})},ListboxProps:{sx:{zIndex:2e3,maxHeight:320}},sx:{width:Pl,"& .MuiAutocomplete-inputRoot":{minHeight:Ni,maxHeight:Ni,alignItems:"center",transition:"all 120ms ease","& .MuiInputBase-input":{paddingTop:0,paddingBottom:0,paddingRight:"56px",fontSize:13,lineHeight:`${Ma}px`}}}})})},$h=hn(Se),Da=hn(vt),Gh=({allResources:n,calloutGroups:i,onStart:s,onDismiss:l})=>{const d=qt(),[h,p]=u.useState(""),[m,f]=u.useState(""),[_,x]=u.useState(!1),v=u.useRef(null),y=h?n.filter(A=>A.calloutGroup===h):[];u.useMemo(()=>{if(!m.trim())return i;const A=m.toLowerCase();return i.filter(C=>C.toLowerCase().includes(A))},[i,m]);const S=u.useMemo(()=>{const A=new Map;for(const C of n){const R=C.calloutGroup??"";R&&A.set(R,(A.get(R)??0)+1)}return A},[n]);u.useEffect(()=>{if(!h){f("");return}f(h)},[h]),u.useEffect(()=>{const A=R=>{v.current&&(v.current.contains(R.target)||l())};document.addEventListener("mousedown",A);const C=R=>{R.key==="Escape"&&l()};return document.addEventListener("keydown",C),()=>{document.removeEventListener("mousedown",A),document.removeEventListener("keydown",C)}},[l]);const k=!h;return a.jsx($h,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},sx:{position:"fixed",inset:0,zIndex:1e4,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"rgba(5,20,40,0.6)",backdropFilter:"blur(8px)"},onClick:l,children:a.jsx(Da,{ref:v,elevation:18,onClick:A=>A.stopPropagation(),sx:{width:"100%",maxWidth:{xs:"100%",md:d.spacing(120)},mx:2,borderRadius:4,px:{xs:3,md:6},py:{xs:4,md:6},border:`1px solid ${K(d.palette.primary.main,.18)}`,boxShadow:"0 24px 55px rgba(10,74,122,0.28)",backgroundImage:"none"},children:a.jsxs(Ae,{spacing:6,children:[a.jsxs(Ae,{direction:"row",spacing:3,alignItems:"center",children:[a.jsx(Se,{sx:{height:d.spacing(5.5),width:d.spacing(5.5),borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",bgcolor:d.palette.primary.main,color:d.palette.primary.contrastText,boxShadow:"0 12px 28px rgba(10,74,122,0.35)"},children:a.jsx(Qo,{size:20})}),a.jsxs(Ae,{spacing:.75,children:[a.jsx(ye,{variant:"h6",fontWeight:600,color:"text.primary",children:"Select Callout List"}),a.jsx(ye,{variant:"body2",color:"text.secondary",children:"Choose a callout group to begin the workflow."})]})]}),a.jsxs(Ae,{spacing:1.5,children:[a.jsx(ye,{variant:"overline",sx:{fontWeight:700,letterSpacing:1.2,color:K(d.palette.primary.main,.8)},children:"Callout Group"}),a.jsx(Qs,{label:"Callout Group",options:i,value:h||null,inputValue:m,onInputChange:A=>{f(A),A||p("")},onChange:A=>{const C=A??"";p(C),f(C),x(!1),C&&s(C)},renderOption:(A,C)=>{const R=typeof C=="string"?C:C.label,J=S.get(R)??0;return u.createElement("li",{...A,key:R},a.jsxs(Ae,{direction:"row",spacing:1.5,alignItems:"center",justifyContent:"space-between",sx:{width:"100%"},children:[a.jsx(ye,{variant:"body2",color:"text.primary",children:R}),a.jsxs(ye,{variant:"caption",color:"text.secondary",children:[J," ",J===1?"resource":"resources"]})]}))}})]}),a.jsx(Se,{sx:{minHeight:64},children:a.jsx(di,{mode:"wait",children:h&&a.jsx(Da,{elevation:0,initial:{opacity:0,y:-6},animate:{opacity:1,y:0},exit:{opacity:0,y:-6},transition:{duration:.18},sx:{display:"inline-flex",alignItems:"center",gap:1,px:3,py:2,borderRadius:2,border:`1px solid ${K(d.palette.primary.main,.25)}`,bgcolor:K(d.palette.primary.main,.08),color:d.palette.primary.main,fontSize:"0.95rem",fontWeight:600},children:a.jsxs(ye,{variant:"body2",color:"inherit",children:[a.jsx(Se,{component:"span",sx:{fontWeight:700},children:y.length})," ",y.length===1?"resource":"resources"," in this callout group."]})},h)})}),a.jsx(Ae,{direction:"row",justifyContent:"flex-end",children:a.jsx(Nt,{onClick:()=>{x(!1),s(h)},disabled:k,variant:"contained",endIcon:a.jsx(Lu,{size:16}),sx:{textTransform:"none",fontWeight:600,px:3,py:1.25,borderRadius:2},children:"Continue"})})]})})})},Qt=JSON.parse('[{"taskId":"RG-AB30001","division":"Admin","taskStatus":"Not Assigned (ACT)","pwa":"ZB-ALPHA-12","taskType":"Admin Review","primarySkill":"ADMIN1","capabilities":["ADMIN1"],"importanceScore":97,"msc":"Y","taskCreated":"Mon 6 Jan, 10:40 AM","groupCode":"Admin Group","systemType":"FSM","employeeId":"T6344","resourceName":"Dylan Lewis","asset":"OFF-8247","assetName":"Document Verification Queue","commitmentDate":"Fri 7 Jan, 1:15 PM","commitmentType":"Complete By","arrivedAtDate":"","domain":"CF","estimatedDuration":150,"lastProgression":"On Site","category":"Administration","description":"Administration task for broadband/FTTP service in local area.","responseCode":"SH01","postCode":"CF44 8AU","appointmentStartDate":"","linkedTask":"","customerAddress":"","expectedStartDate":"Sat 7 Jan, 8:15 AM","expectedFinishDate":"Wed 8 Jan, 10:45 AM","externalQueueId":"EXT-441440","workId":"WK-790218","estimateNumber":"EST-55784","startDate":"","lat":51.70832,"lng":-3.44613,"expectedWindow":"8amâ€“10:30am","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 8AU\\n- Type Admin Review\\n- Skill ADMIN1\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Not Assigned (ACT)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Not Assigned (ACT)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30002","division":"Service Delivery","taskStatus":"Assigned (ACT)","pwa":"ZB-OMEGA-09","taskType":"Survey","primarySkill":"RISDN2","capabilities":["RISDN2"],"importanceScore":45,"msc":"Y","taskCreated":"Thu 7 Jan, 10:40 AM","groupCode":"Service Delivery","systemType":"NW","employeeId":"T7690","resourceName":"John Edwards","asset":"MH-5541","assetName":"Route Survey Node","commitmentDate":"Fri 10 Jan, 3:30 PM","commitmentType":"Future","arrivedAtDate":"","domain":"MN","estimatedDuration":90,"lastProgression":"On Site","category":"Survey","description":"Survey task for broadband/FTTP service in local area.","responseCode":"SH05","postCode":"CF44 7IW","appointmentStartDate":"","linkedTask":"","customerAddress":"111 Hirwaun Road, Aberdare","expectedStartDate":"Sat 8 Jan, 10:40 AM","expectedFinishDate":"Thu 11 Jan, 11:10 AM","externalQueueId":"EXT-441998","workId":"WK-729320","estimateNumber":"EST-55739","startDate":"","lat":51.70624,"lng":-3.44051,"expectedWindow":"10amâ€“11:30am","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7IW\\n- Type Survey\\n- Skill RISDN2\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Assigned (ACT)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Assigned (ACT)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30003","division":"Service Delivery","taskStatus":"Dispatched (AWI)","pwa":"ZB-ALPHA-02","taskType":"Repair","primarySkill":"RISDN2","capabilities":["RISDN2"],"importanceScore":90,"msc":"N","taskCreated":"Wed 11 Jan, 10:40 AM","groupCode":"Service Delivery","systemType":"OR","employeeId":"T6721","resourceName":"Ryan Jenkins","asset":"CAB-8837","assetName":"DP Pole","commitmentDate":"Wed 13 Jan, 11:20 AM","commitmentType":"Future","arrivedAtDate":"Thu 11 Jan, 8:15 AM","domain":"SE","estimatedDuration":120,"lastProgression":"On Site","category":"Repair","description":"Repair task for broadband/FTTP service in local area.","responseCode":"SH03","postCode":"CF44 7SL","appointmentStartDate":"","linkedTask":"","customerAddress":"108 Victoria Street, Aberdare","expectedStartDate":"Sat 11 Jan, 8:15 AM","expectedFinishDate":"Wed 14 Jan, 10:15 AM","externalQueueId":"EXT-441215","workId":"WK-703093","estimateNumber":"EST-55777","startDate":"Sat 11 Jan, 8:15 AM","lat":51.7204,"lng":-3.44196,"expectedWindow":"8amâ€“10am","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7SL\\n- Type Repair\\n- Skill RISDN2\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Dispatched (AWI)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Dispatched (AWI)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30004","division":"Complex Engineering","taskStatus":"Accepted (ISS)","pwa":"ZB-GAMMA-05","taskType":"Survey","primarySkill":"RFTTP1","capabilities":["RFTTP1"],"importanceScore":54,"msc":"Y","taskCreated":"Fri 3 Jan, 3:30 PM","groupCode":"Complex Engineering","systemType":"NW","employeeId":"T8224","resourceName":"Nia Brown","asset":"AS-1941","assetName":"Joint Box","commitmentDate":"Mon 5 Jan, 8:15 AM","commitmentType":"Start By","arrivedAtDate":"Mon 6 Jan, 4:10 PM","domain":"CF","estimatedDuration":45,"lastProgression":"Completed","category":"Survey","description":"Survey task for broadband/FTTP service in local area.","responseCode":"SH01","postCode":"CF44 6IQ","appointmentStartDate":"","linkedTask":"","customerAddress":"28 Aberaman Road, Aberdare","expectedStartDate":"Wed 7 Jan, 3:30 PM","expectedFinishDate":"Fri 10 Jan, 4:15 PM","externalQueueId":"EXT-441801","workId":"WK-746808","estimateNumber":"EST-55786","startDate":"Wed 7 Jan, 3:30 PM","lat":51.70576,"lng":-3.43954,"expectedWindow":"3pmâ€“3:45pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 6IQ\\n- Type Survey\\n- Skill RFTTP1\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Accepted (ISS)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Accepted (ISS)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30005","division":"Admin","taskStatus":"In Progress (EXC)","pwa":"ZB-OMEGA-06","taskType":"Admin Review","primarySkill":"ADMIN2","capabilities":["ADMIN2"],"importanceScore":64,"msc":"Y","taskCreated":"Fri 13 Jan, 9:05 AM","groupCode":"Admin Group","systemType":"OR","employeeId":"T7544","resourceName":"Harvey Rees","asset":"OFF-3588","assetName":"Document Verification Queue","commitmentDate":"Sat 15 Jan, 3:30 PM","commitmentType":"Complete By","arrivedAtDate":"Wed 16 Jan, 11:20 AM","domain":"SE","estimatedDuration":60,"lastProgression":"Accepted","category":"Administration","description":"Administration task for broadband/FTTP service in local area.","responseCode":"AD02","postCode":"CF44 7NZ","appointmentStartDate":"","linkedTask":"","customerAddress":"","expectedStartDate":"Thu 16 Jan, 11:20 AM","expectedFinishDate":"Fri 19 Jan, 12:20 PM","externalQueueId":"EXT-441383","workId":"WK-734734","estimateNumber":"EST-55767","startDate":"Thu 16 Jan, 11:20 AM","lat":51.70775,"lng":-3.44796,"expectedWindow":"11amâ€“12pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7NZ\\n- Type Admin Review\\n- Skill ADMIN2\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"In Progress (EXC)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"In Progress (EXC)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30006","division":"Admin","taskStatus":"Completed (COM)","pwa":"ZB-GAMMA-07","taskType":"Admin Review","primarySkill":"ADMIN1","capabilities":["ADMIN1"],"importanceScore":56,"msc":"Y","taskCreated":"Thu 10 Jan, 9:05 AM","groupCode":"Admin Group","systemType":"FSM","employeeId":"T5414","resourceName":"Ffion Davies","asset":"OFF-8718","assetName":"Admin Processing Queue","commitmentDate":"Fri 13 Jan, 11:20 AM","commitmentType":"Appointment","arrivedAtDate":"Sat 16 Jan, 4:10 PM","domain":"MN","estimatedDuration":90,"lastProgression":"Completed","category":"Administration","description":"Administration task for broadband/FTTP service in local area.","responseCode":"sh02","postCode":"CF44 7TJ","appointmentStartDate":"Sun 16 Jan, 8:15 AM","linkedTask":"","customerAddress":"","expectedStartDate":"Sat 16 Jan, 8:15 AM","expectedFinishDate":"Thu 19 Jan, 9:45 AM","externalQueueId":"EXT-441404","workId":"WK-728071","estimateNumber":"EST-55763","startDate":"Sat 16 Jan, 8:15 AM","lat":51.70737,"lng":-3.45195,"expectedWindow":"8amâ€“9:30am","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7TJ\\n- Type Admin Review\\n- Skill ADMIN1\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Completed (COM)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Completed (COM)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30007","division":"Complex Engineering","taskStatus":"Not Assigned (ACT)","pwa":"ZB-DELTA-07","taskType":"Survey","primarySkill":"ADMIN1","capabilities":["ADMIN1"],"importanceScore":74,"msc":"Y","taskCreated":"Mon 12 Jan, 8:15 AM","groupCode":"Complex Engineering","systemType":"OR","employeeId":"T1258","resourceName":"Nia Hughes","asset":"CAB-1922","assetName":"Route Survey Node","commitmentDate":"Tue 14 Jan, 2:00 PM","commitmentType":"Complete By","arrivedAtDate":"","domain":"SE","estimatedDuration":120,"lastProgression":"En Route","category":"Survey","description":"Survey task for broadband/FTTP service in local area.","responseCode":"SH05","postCode":"CF44 6XQ","appointmentStartDate":"","linkedTask":"","customerAddress":"75 Cardiff Road, Aberdare","expectedStartDate":"Fri 14 Jan, 2:00 PM","expectedFinishDate":"Sun 17 Jan, 4:00 PM","externalQueueId":"EXT-441499","workId":"WK-781809","estimateNumber":"EST-55797","startDate":"","lat":51.71928,"lng":-3.44445,"expectedWindow":"2pmâ€“4pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 6XQ\\n- Type Survey\\n- Skill ADMIN1\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Not Assigned (ACT)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Not Assigned (ACT)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30008","division":"Service Delivery","taskStatus":"Assigned (ACT)","pwa":"ZB-GAMMA-10","taskType":"Emergency","primarySkill":"RISDN3","capabilities":["RISDN3"],"importanceScore":89,"msc":"N","taskCreated":"Sat 8 Jan, 10:40 AM","groupCode":"Service Delivery","systemType":"OR","employeeId":"T9306","resourceName":"Ryan Lewis","asset":"AS-4107","assetName":"Backhaul Joint","commitmentDate":"Tue 10 Jan, 2:00 PM","commitmentType":"Future","arrivedAtDate":"","domain":"MN","estimatedDuration":90,"lastProgression":"On Site","category":"Emergency","description":"Emergency task for broadband/FTTP service in local area.","responseCode":"SH01","postCode":"CF44 8IN","appointmentStartDate":"","linkedTask":"RG-AB30003","customerAddress":"63 Brook Street, Aberdare","expectedStartDate":"Thu 10 Jan, 2:00 PM","expectedFinishDate":"Sun 13 Jan, 3:30 PM","externalQueueId":"EXT-441318","workId":"WK-764130","estimateNumber":"EST-55734","startDate":"","lat":51.70599,"lng":-3.44795,"expectedWindow":"2pmâ€“3:30pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 8IN\\n- Type Emergency\\n- Skill RISDN3\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Assigned (ACT)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Assigned (ACT)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30009","division":"Service Delivery","taskStatus":"Dispatched (AWI)","pwa":"ZB-ALPHA-06","taskType":"Emergency","primarySkill":"RISDN1","capabilities":["RISDN1"],"importanceScore":77,"msc":"Y","taskCreated":"Wed 8 Jan, 7:30 AM","groupCode":"Service Delivery","systemType":"OR","employeeId":"T2730","resourceName":"Nia Edwards","asset":"AS-1363","assetName":"Backhaul Joint","commitmentDate":"Thu 10 Jan, 7:30 AM","commitmentType":"Appointment","arrivedAtDate":"Thu 10 Jan, 11:20 AM","domain":"SE","estimatedDuration":150,"lastProgression":"On Site","category":"Emergency","description":"Emergency task for broadband/FTTP service in local area.","responseCode":"SH01","postCode":"CF44 7MH","appointmentStartDate":"Fri 10 Jan, 7:30 AM","linkedTask":"RG-AB30006","customerAddress":"71 Gadlys Road, Aberdare","expectedStartDate":"Fri 10 Jan, 7:30 AM","expectedFinishDate":"Sun 13 Jan, 10:00 AM","externalQueueId":"EXT-441511","workId":"WK-797851","estimateNumber":"EST-55735","startDate":"Fri 10 Jan, 7:30 AM","lat":51.7155,"lng":-3.45247,"expectedWindow":"7amâ€“9:30am","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7MH\\n- Type Emergency\\n- Skill RISDN1\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Dispatched (AWI)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Dispatched (AWI)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30010","division":"Complex Engineering","taskStatus":"Accepted (ISS)","pwa":"ZB-DELTA-05","taskType":"Inspection","primarySkill":"RISDN3","capabilities":["RISDN3"],"importanceScore":97,"msc":"Y","taskCreated":"Tue 11 Jan, 4:10 PM","groupCode":"Complex Engineering","systemType":"FSM","employeeId":"T9864","resourceName":"Nia Jenkins","asset":"AS-5489","assetName":"Distribution Point","commitmentDate":"Tue 13 Jan, 2:00 PM","commitmentType":"Appointment","arrivedAtDate":"Thu 15 Jan, 11:20 AM","domain":"MN","estimatedDuration":90,"lastProgression":"On Site","category":"Inspection","description":"Inspection task for broadband/FTTP service in local area.","responseCode":"SH04","postCode":"CF44 8JK","appointmentStartDate":"Thu 15 Jan, 2:00 PM","linkedTask":"","customerAddress":"91 Robertstown Road, Aberdare","expectedStartDate":"Thu 15 Jan, 2:00 PM","expectedFinishDate":"Sat 18 Jan, 3:30 PM","externalQueueId":"EXT-441812","workId":"WK-728959","estimateNumber":"EST-55777","startDate":"Thu 15 Jan, 2:00 PM","lat":51.70787,"lng":-3.44639,"expectedWindow":"2pmâ€“3:30pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 8JK\\n- Type Inspection\\n- Skill RISDN3\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Accepted (ISS)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Accepted (ISS)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30011","division":"Admin","taskStatus":"In Progress (EXC)","pwa":"ZB-OMEGA-02","taskType":"Admin Review","primarySkill":"ADMIN2","capabilities":["ADMIN2"],"importanceScore":45,"msc":"Y","taskCreated":"Wed 3 Jan, 10:40 AM","groupCode":"Admin Group","systemType":"FSM","employeeId":"T8103","resourceName":"Rhys Hughes","asset":"OFF-7322","assetName":"Document Verification Queue","commitmentDate":"Thu 5 Jan, 2:00 PM","commitmentType":"Appointment","arrivedAtDate":"Fri 8 Jan, 11:20 AM","domain":"CF","estimatedDuration":60,"lastProgression":"Completed","category":"Administration","description":"Administration task for broadband/FTTP service in local area.","responseCode":"SH04","postCode":"CF44 7JR","appointmentStartDate":"Sat 8 Jan, 2:00 PM","linkedTask":"RG-AB30003","customerAddress":"","expectedStartDate":"Sat 8 Jan, 2:00 PM","expectedFinishDate":"Tue 11 Jan, 3:00 PM","externalQueueId":"EXT-441888","workId":"WK-775917","estimateNumber":"EST-55728","startDate":"Sat 8 Jan, 2:00 PM","lat":51.7254,"lng":-3.50534,"expectedWindow":"2pmâ€“3pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7JR\\n- Type Admin Review\\n- Skill ADMIN2\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"In Progress (EXC)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"In Progress (EXC)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30012","division":"Complex Engineering","taskStatus":"Completed (COM)","pwa":"ZB-ALPHA-04","taskType":"Inspection","primarySkill":"RFTTP2","capabilities":["RFTTP2"],"importanceScore":49,"msc":"Y","taskCreated":"Sat 11 Jan, 9:05 AM","groupCode":"Complex Engineering","systemType":"NW","employeeId":"T8443","resourceName":"Lowri Jenkins","asset":"AS-8859","assetName":"Distribution Point","commitmentDate":"Sat 14 Jan, 1:15 PM","commitmentType":"Complete By","arrivedAtDate":"Mon 16 Jan, 4:10 PM","domain":"MN","estimatedDuration":90,"lastProgression":"Completed","category":"Inspection","description":"Inspection task for broadband/FTTP service in local area.","responseCode":"SH05","postCode":"CF44 7DZ","appointmentStartDate":"","linkedTask":"RG-AB30007","customerAddress":"109 High Street, Aberdare","expectedStartDate":"Tue 16 Jan, 4:10 PM","expectedFinishDate":"Fri 19 Jan, 5:40 PM","externalQueueId":"EXT-441590","workId":"WK-758165","estimateNumber":"EST-55792","startDate":"Tue 16 Jan, 4:10 PM","lat":51.72091,"lng":-3.52057,"expectedWindow":"4pmâ€“5:30pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7DZ\\n- Type Inspection\\n- Skill RFTTP2\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Completed (COM)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Completed (COM)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30013","division":"Service Delivery","taskStatus":"Not Assigned (ACT)","pwa":"ZB-ALPHA-04","taskType":"Inspection","primarySkill":"RISDN2","capabilities":["RISDN2"],"importanceScore":82,"msc":"Y","taskCreated":"Tue 7 Jan, 10:40 AM","groupCode":"Service Delivery","systemType":"NW","employeeId":"T9526","resourceName":"Lauren Evans","asset":"AS-9446","assetName":"Underground Joint Chamber","commitmentDate":"Wed 9 Jan, 11:20 AM","commitmentType":"Appointment","arrivedAtDate":"","domain":"CF","estimatedDuration":120,"lastProgression":"On Site","category":"Inspection","description":"Inspection task for broadband/FTTP service in local area.","responseCode":"SH01","postCode":"CF44 6EV","appointmentStartDate":"Thu 9 Jan, 11:20 AM","linkedTask":"RG-AB30003","customerAddress":"81 Cardiff Road, Aberdare","expectedStartDate":"Thu 9 Jan, 11:20 AM","expectedFinishDate":"Sun 12 Jan, 1:20 PM","externalQueueId":"EXT-441954","workId":"WK-790116","estimateNumber":"EST-55766","startDate":"","lat":51.72224,"lng":-3.51289,"expectedWindow":"11amâ€“1pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 6EV\\n- Type Inspection\\n- Skill RISDN2\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Not Assigned (ACT)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Not Assigned (ACT)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30014","division":"Complex Engineering","taskStatus":"Assigned (ACT)","pwa":"ZB-GAMMA-02","taskType":"Emergency","primarySkill":"RISDN3","capabilities":["RISDN3"],"importanceScore":88,"msc":"N","taskCreated":"Wed 13 Jan, 9:05 AM","groupCode":"Complex Engineering","systemType":"OR","employeeId":"T5309","resourceName":"Aled Evans","asset":"AS-9906","assetName":"Priority Splice Enclosure","commitmentDate":"Thu 16 Jan, 11:20 AM","commitmentType":"Appointment","arrivedAtDate":"","domain":"CF","estimatedDuration":90,"lastProgression":"Allocated","category":"Emergency","description":"Emergency task for broadband/FTTP service in local area.","responseCode":"SH05","postCode":"CF44 7AV","appointmentStartDate":"Fri 16 Jan, 11:20 AM","linkedTask":"","customerAddress":"77 Canon Street, Aberdare","expectedStartDate":"Fri 16 Jan, 11:20 AM","expectedFinishDate":"Mon 19 Jan, 12:50 PM","externalQueueId":"EXT-441587","workId":"WK-785274","estimateNumber":"EST-55720","startDate":"","lat":51.71383,"lng":-3.44986,"expectedWindow":"11amâ€“12:30pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7AV\\n- Type Emergency\\n- Skill RISDN3\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Assigned (ACT)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Assigned (ACT)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30015","division":"Service Delivery","taskStatus":"Dispatched (AWI)","pwa":"ZB-GAMMA-04","taskType":"Repair","primarySkill":"RISDN1","capabilities":["RISDN1"],"importanceScore":76,"msc":"N","taskCreated":"Sat 3 Jan, 7:30 AM","groupCode":"Service Delivery","systemType":"OR","employeeId":"T8571","resourceName":"Ffion Hughes","asset":"AS-8163","assetName":"Drop Wire","commitmentDate":"Mon 6 Jan, 9:05 AM","commitmentType":"Complete By","arrivedAtDate":"Wed 8 Jan, 10:40 AM","domain":"SE","estimatedDuration":60,"lastProgression":"Completed","category":"Repair","description":"Repair task for broadband/FTTP service in local area.","responseCode":"SH05","postCode":"CF44 8BQ","appointmentStartDate":"","linkedTask":"","customerAddress":"86 Albert Street, Aberdare","expectedStartDate":"Thu 8 Jan, 10:40 AM","expectedFinishDate":"Sun 11 Jan, 11:40 AM","externalQueueId":"EXT-441968","workId":"WK-703787","estimateNumber":"EST-55733","startDate":"Thu 8 Jan, 10:40 AM","lat":51.71159,"lng":-3.44429,"expectedWindow":"10amâ€“11am","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 8BQ\\n- Type Repair\\n- Skill RISDN1\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Dispatched (AWI)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Dispatched (AWI)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30016","division":"Complex Engineering","taskStatus":"Accepted (ISS)","pwa":"ZB-ALPHA-02","taskType":"Survey","primarySkill":"RFTTP1","capabilities":["RFTTP1"],"importanceScore":60,"msc":"Y","taskCreated":"Tue 5 Jan, 2:00 PM","groupCode":"Complex Engineering","systemType":"NW","employeeId":"T7749","resourceName":"Ryan Morgan","asset":"MH-8437","assetName":"Manhole Access Point","commitmentDate":"Wed 7 Jan, 3:30 PM","commitmentType":"Start By","arrivedAtDate":"Thu 9 Jan, 11:20 AM","domain":"MN","estimatedDuration":150,"lastProgression":"On Site","category":"Survey","description":"Survey task for broadband/FTTP service in local area.","responseCode":"SH05","postCode":"CF44 8WX","appointmentStartDate":"","linkedTask":"","customerAddress":"44 Commercial Street, Aberdare","expectedStartDate":"Thu 9 Jan, 11:20 AM","expectedFinishDate":"Sun 12 Jan, 1:50 PM","externalQueueId":"EXT-441720","workId":"WK-723933","estimateNumber":"EST-55754","startDate":"Thu 9 Jan, 11:20 AM","lat":51.71966,"lng":-3.44275,"expectedWindow":"11amâ€“1:30pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 8WX\\n- Type Survey\\n- Skill RFTTP1\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Accepted (ISS)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Accepted (ISS)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30017","division":"Admin","taskStatus":"In Progress (EXC)","pwa":"ZB-OMEGA-01","taskType":"Admin Review","primarySkill":"ADMIN2","capabilities":["ADMIN2"],"importanceScore":86,"msc":"Y","taskCreated":"Wed 7 Jan, 1:15 PM","groupCode":"Admin Group","systemType":"OR","employeeId":"T9344","resourceName":"Lauren Roberts","asset":"OFF-4090","assetName":"Admin Processing Queue","commitmentDate":"Thu 9 Jan, 3:30 PM","commitmentType":"Future","arrivedAtDate":"Sat 11 Jan, 11:20 AM","domain":"SE","estimatedDuration":40,"lastProgression":"Allocated","category":"Administration","description":"Administration task for broadband/FTTP service in local area.","responseCode":"AD02","postCode":"CF44 8PT","appointmentStartDate":"","linkedTask":"","customerAddress":"","expectedStartDate":"Sun 11 Jan, 11:20 AM","expectedFinishDate":"Wed 14 Jan, 12:00 PM","externalQueueId":"EXT-441249","workId":"WK-705434","estimateNumber":"EST-55758","startDate":"Sun 11 Jan, 11:20 AM","lat":51.7063,"lng":-3.50452,"expectedWindow":"11amâ€“12pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 8PT\\n- Type Admin Review\\n- Skill ADMIN2\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"In Progress (EXC)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"In Progress (EXC)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30018","division":"Service Delivery","taskStatus":"Completed (COM)","pwa":"ZB-OMEGA-11","taskType":"Emergency","primarySkill":"RISDN1","capabilities":["RISDN1"],"importanceScore":68,"msc":"Y","taskCreated":"Wed 9 Jan, 1:15 PM","groupCode":"Service Delivery","systemType":"OR","employeeId":"T9810","resourceName":"Ffion Smith","asset":"AS-7197","assetName":"Priority Splice Enclosure","commitmentDate":"Fri 11 Jan, 2:00 PM","commitmentType":"Future","arrivedAtDate":"Sun 13 Jan, 8:15 AM","domain":"CF","estimatedDuration":150,"lastProgression":"Completed","category":"Emergency","description":"Emergency task for broadband/FTTP service in local area.","responseCode":"SH01","postCode":"CF44 7WA","appointmentStartDate":"","linkedTask":"","customerAddress":"29 Robertstown Road, Aberdare","expectedStartDate":"Mon 13 Jan, 8:15 AM","expectedFinishDate":"Thu 16 Jan, 10:45 AM","externalQueueId":"EXT-441790","workId":"WK-772532","estimateNumber":"EST-55737","startDate":"Mon 13 Jan, 8:15 AM","lat":51.70622,"lng":-3.5041,"expectedWindow":"8amâ€“10:30am","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7WA\\n- Type Emergency\\n- Skill RISDN1\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Completed (COM)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Completed (COM)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30019","division":"Admin","taskStatus":"Assigned (ACT)","pwa":"ZB-GAMMA-09","taskType":"Admin Review","primarySkill":"ADMIN2","capabilities":["ADMIN2"],"importanceScore":71,"msc":"N","taskCreated":"Thu 13 Jan, 11:20 AM","groupCode":"Admin Group","systemType":"NW","employeeId":"T6541","resourceName":"Chloe Jenkins","asset":"OFF-1456","assetName":"Document Verification Queue","commitmentDate":"Fri 15 Jan, 2:00 PM","commitmentType":"Appointment","arrivedAtDate":"","domain":"SE","estimatedDuration":60,"lastProgression":"On Site","category":"Administration","description":"Administration task for broadband/FTTP service in local area.","responseCode":"AD02","postCode":"CF44 7XT","appointmentStartDate":"Sat 15 Jan, 2:00 PM","linkedTask":"","customerAddress":"","expectedStartDate":"Sat 15 Jan, 2:00 PM","expectedFinishDate":"Tue 18 Jan, 3:00 PM","externalQueueId":"EXT-441495","workId":"WK-765705","estimateNumber":"EST-55794","startDate":"","lat":51.70445,"lng":-3.4997,"expectedWindow":"2pmâ€“3pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7XT\\n- Type Admin Review\\n- Skill ADMIN2\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Assigned (ACT)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Assigned (ACT)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30020","division":"Service Delivery","taskStatus":"Dispatched (AWI)","pwa":"ZB-GAMMA-10","taskType":"Repair","primarySkill":"RISDN3","capabilities":["RISDN3"],"importanceScore":31,"msc":"Y","taskCreated":"Thu 5 Jan, 2:00 PM","groupCode":"Service Delivery","systemType":"OR","employeeId":"T9129","resourceName":"Chloe Hughes","asset":"CAB-1198","assetName":"Copper Joint Enclosure","commitmentDate":"Sat 7 Jan, 3:30 PM","commitmentType":"Start By","arrivedAtDate":"Sun 9 Jan, 10:40 AM","domain":"SE","estimatedDuration":45,"lastProgression":"Completed","category":"Repair","description":"Repair task for broadband/FTTP service in local area.","responseCode":"SH03","postCode":"CF44 7KB","appointmentStartDate":"","linkedTask":"RG-AB30018","customerAddress":"118 Cardiff Road, Aberdare","expectedStartDate":"Mon 9 Jan, 10:40 AM","expectedFinishDate":"Thu 12 Jan, 11:25 AM","externalQueueId":"EXT-441992","workId":"WK-731785","estimateNumber":"EST-55771","startDate":"Mon 9 Jan, 10:40 AM","lat":51.72207,"lng":-3.5099,"expectedWindow":"10amâ€“11:15am","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7KB\\n- Type Repair\\n- Skill RISDN3\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Dispatched (AWI)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Dispatched (AWI)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30021","division":"Complex Engineering","taskStatus":"Accepted (ISS)","pwa":"ZB-ALPHA-10","taskType":"Survey","primarySkill":"RFTTP1","capabilities":["RFTTP1"],"importanceScore":68,"msc":"Y","taskCreated":"Fri 9 Jan, 8:15 AM","groupCode":"Complex Engineering","systemType":"FSM","employeeId":"T7859","resourceName":"Tomos Hughes","asset":"AS-6348","assetName":"Route Survey Node","commitmentDate":"Sun 11 Jan, 3:30 PM","commitmentType":"Complete By","arrivedAtDate":"Mon 13 Jan, 11:20 AM","domain":"CF","estimatedDuration":90,"lastProgression":"Scheduled","category":"Survey","description":"Survey task for broadband/FTTP service in local area.","responseCode":"SH03","postCode":"CF44 6US","appointmentStartDate":"","linkedTask":"","customerAddress":"16 Brook Street, Aberdare","expectedStartDate":"Mon 13 Jan, 11:20 AM","expectedFinishDate":"Thu 16 Jan, 12:50 PM","externalQueueId":"EXT-441467","workId":"WK-716640","estimateNumber":"EST-55776","startDate":"Mon 13 Jan, 11:20 AM","lat":51.71882,"lng":-3.4518,"expectedWindow":"11amâ€“12:30pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 6US\\n- Type Survey\\n- Skill RFTTP1\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Accepted (ISS)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Accepted (ISS)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30022","division":"Service Delivery","taskStatus":"Not Assigned (ACT)","pwa":"ZB-DELTA-10","taskType":"Inspection","primarySkill":"RISDN3","capabilities":["RISDN3"],"importanceScore":69,"msc":"Y","taskCreated":"Mon 10 Jan, 9:05 AM","groupCode":"Service Delivery","systemType":"NW","employeeId":"T3909","resourceName":"Chloe Hughes","asset":"AS-7695","assetName":"Underground Joint Chamber","commitmentDate":"Tue 12 Jan, 1:15 PM","commitmentType":"Appointment","arrivedAtDate":"","domain":"MN","estimatedDuration":90,"lastProgression":"Allocated","category":"Inspection","description":"Inspection task for broadband/FTTP service in local area.","responseCode":"SH01","postCode":"CF44 7TT","appointmentStartDate":"Wed 12 Jan, 1:15 PM","linkedTask":"","customerAddress":"40 Cardif Road, Aberdare","expectedStartDate":"Wed 12 Jan, 1:15 PM","expectedFinishDate":"Sat 15 Jan, 2:45 PM","externalQueueId":"EXT-441413","workId":"WK-783470","estimateNumber":"EST-55797","startDate":"","lat":51.71277,"lng":-3.44368,"expectedWindow":"1pmâ€“2:30pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7TT\\n- Type Inspection\\n- Skill RISDN3\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Not Assigned (ACT)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Not Assigned (ACT)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30023","division":"Admin","taskStatus":"Assigned (ACT)","pwa":"ZB-DELTA-03","taskType":"Admin Review","primarySkill":"ADMIN1","capabilities":["ADMIN1"],"importanceScore":71,"msc":"Y","taskCreated":"Wed 13 Jan, 4:10 PM","groupCode":"Admin Group","systemType":"OR","employeeId":"T9772","resourceName":"Rhys Thomas","asset":"OFF-3119","assetName":"Admin Processing Queue","commitmentDate":"Fri 15 Jan, 1:15 PM","commitmentType":"Future","arrivedAtDate":"","domain":"MN","estimatedDuration":40,"lastProgression":"Scheduled","category":"Administration","description":"Administration task for broadband/FTTP service in local area.","responseCode":"AD02","postCode":"CF44 7ZV","appointmentStartDate":"","linkedTask":"RG-AB30010","customerAddress":"","expectedStartDate":"Sat 15 Jan, 1:15 PM","expectedFinishDate":"Tue 18 Jan, 1:55 PM","externalQueueId":"EXT-441695","workId":"WK-736499","estimateNumber":"EST-55740","startDate":"","lat":51.70499,"lng":-3.44123,"expectedWindow":"1pmâ€“1:40pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7ZV\\n- Type Admin Review\\n- Skill ADMIN1\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Assigned (ACT)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Assigned (ACT)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30024","division":"Complex Engineering","taskStatus":"Dispatched (AWI)","pwa":"ZB-GAMMA-04","taskType":"Emergency","primarySkill":"RFTTP2","capabilities":["RFTTP2"],"importanceScore":90,"msc":"N","taskCreated":"Sat 7 Jan, 7:30 AM","groupCode":"Complex Engineering","systemType":"OR","employeeId":"T6493","resourceName":"Tomos Hughes","asset":"AS-8145","assetName":"Core Node Cabinet","commitmentDate":"Sun 9 Jan, 8:15 AM","commitmentType":"Start By","arrivedAtDate":"Tue 11 Jan, 9:05 AM","domain":"MN","estimatedDuration":90,"lastProgression":"On Site","category":"Emergency","description":"Emergency task for broadband/FTTP service in local area.","responseCode":"SH03","postCode":"CF44 8ER","appointmentStartDate":"","linkedTask":"RG-AB30002","customerAddress":"96 Aberaman Road, Aberdare","expectedStartDate":"Tue 11 Jan, 9:05 AM","expectedFinishDate":"Fri 14 Jan, 10:35 AM","externalQueueId":"EXT-441684","workId":"WK-766702","estimateNumber":"EST-55764","startDate":"Tue 11 Jan, 9:05 AM","lat":51.7206,"lng":-3.4474,"expectedWindow":"9amâ€“10:30am","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 8ER\\n- Type Emergency\\n- Skill RFTTP2\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Dispatched (AWI)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Dispatched (AWI)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30025","division":"Service Delivery","taskStatus":"Accepted (ISS)","pwa":"ZB-DELTA-09","taskType":"Inspection","primarySkill":"RISDN1","capabilities":["RISDN1"],"importanceScore":45,"msc":"N","taskCreated":"Thu 6 Jan, 10:40 AM","groupCode":"Service Delivery","systemType":"FSM","employeeId":"T6815","resourceName":"Chloe Hughes","asset":"AS-4500","assetName":"Underground Joint Chamber","commitmentDate":"Sat 8 Jan, 11:20 AM","commitmentType":"Appointment","arrivedAtDate":"Sun 10 Jan, 4:10 PM","domain":"SE","estimatedDuration":120,"lastProgression":"Allocated","category":"Inspection","description":"Inspection task for broadband/FTTP service in local area.","responseCode":"SH04","postCode":"CF44 8KO","appointmentStartDate":"Mon 10 Jan, 11:20 AM","linkedTask":"RG-AB30010","customerAddress":"32 Cwmbach Road, Aberdare","expectedStartDate":"Mon 10 Jan, 11:20 AM","expectedFinishDate":"Thu 13 Jan, 1:20 PM","externalQueueId":"EXT-441842","workId":"WK-701053","estimateNumber":"EST-55742","startDate":"Mon 10 Jan, 11:20 AM","lat":51.70871,"lng":-3.51393,"expectedWindow":"11amâ€“1pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 8KO\\n- Type Inspection\\n- Skill RISDN1\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Accepted (ISS)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Accepted (ISS)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30026","division":"Admin","taskStatus":"In Progress (EXC)","pwa":"ZB-OMEGA-05","taskType":"Admin Review","primarySkill":"ADMIN1","capabilities":["ADMIN1"],"importanceScore":76,"msc":"N","taskCreated":"Tue 11 Jan, 1:15 PM","groupCode":"Admin Group","systemType":"NW","employeeId":"T8841","resourceName":"Steffan Hughes","asset":"OFF-5507","assetName":"Document Verification Queue","commitmentDate":"Thu 13 Jan, 2:00 PM","commitmentType":"Complete By","arrivedAtDate":"Fri 15 Jan, 2:00 PM","domain":"SE","estimatedDuration":60,"lastProgression":"Completed","category":"Administration","description":"Administration task for broadband/FTTP service in local area.","responseCode":"AD02","postCode":"CF44 8ZX","appointmentStartDate":"","linkedTask":"RG-AB30021","customerAddress":"","expectedStartDate":"Sat 15 Jan, 2:00 PM","expectedFinishDate":"Tue 18 Jan, 3:00 PM","externalQueueId":"EXT-441963","workId":"WK-794249","estimateNumber":"EST-55717","startDate":"Sat 15 Jan, 2:00 PM","lat":51.71019,"lng":-3.44802,"expectedWindow":"2pmâ€“3pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 8ZX\\n- Type Admin Review\\n- Skill ADMIN1\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"In Progress (EXC)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"In Progress (EXC)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30027","division":"Service Delivery","taskStatus":"Completed (COM)","pwa":"ZB-GAMMA-09","taskType":"Repair","primarySkill":"RISDN3","capabilities":["RISDN3"],"importanceScore":70,"msc":"N","taskCreated":"Fri 8 Jan, 3:30 PM","groupCode":"Service Delivery","systemType":"OR","employeeId":"T9031","resourceName":"Carys Jones","asset":"AS-6004","assetName":"Drop Wire","commitmentDate":"Sun 10 Jan, 8:15 AM","commitmentType":"Complete By","arrivedAtDate":"Tue 12 Jan, 10:40 AM","domain":"CF","estimatedDuration":60,"lastProgression":"Completed","category":"Repair","description":"Repair task for broadband/FTTP service in local area.","responseCode":"SH01","postCode":"CF44 7ZQ","appointmentStartDate":"","linkedTask":"","customerAddress":"53 King Street, Aberdare","expectedStartDate":"Tue 12 Jan, 10:40 AM","expectedFinishDate":"Fri 15 Jan, 11:40 AM","externalQueueId":"EXT-441878","workId":"WK-730760","estimateNumber":"EST-55777","startDate":"Tue 12 Jan, 10:40 AM","lat":51.70939,"lng":-3.43749,"expectedWindow":"10amâ€“11am","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7ZQ\\n- Type Repair\\n- Skill RISDN3\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Completed (COM)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Completed (COM)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30028","division":"Complex Engineering","taskStatus":"Not Assigned (ACT)","pwa":"ZB-OMEGA-10","taskType":"Survey","primarySkill":"RFTTP2","capabilities":["RFTTP2"],"importanceScore":96,"msc":"Y","taskCreated":"Wed 6 Jan, 7:30 AM","groupCode":"Complex Engineering","systemType":"NW","employeeId":"T7833","resourceName":"Bethan Hughes","asset":"AS-6244","assetName":"Route Survey Node","commitmentDate":"Thu 8 Jan, 8:15 AM","commitmentType":"Start By","arrivedAtDate":"","domain":"MN","estimatedDuration":150,"lastProgression":"Allocated","category":"Survey","description":"Survey task for broadband/FTTP service in local area.","responseCode":"SH01","postCode":"CF44 6BZ","appointmentStartDate":"","linkedTask":"","customerAddress":"13 Maesyffynnon Terrace, Aberdare","expectedStartDate":"Fri 8 Jan, 8:15 AM","expectedFinishDate":"Mon 11 Jan, 10:45 AM","externalQueueId":"EXT-441114","workId":"WK-741322","estimateNumber":"EST-55718","startDate":"","lat":51.72907,"lng":-3.5087,"expectedWindow":"8amâ€“10:30am","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 6BZ\\n- Type Survey\\n- Skill RFTTP2\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Not Assigned (ACT)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Not Assigned (ACT)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30029","division":"Service Delivery","taskStatus":"Assigned (ACT)","pwa":"ZB-ALPHA-03","taskType":"Inspection","primarySkill":"RISDN2","capabilities":["RISDN2"],"importanceScore":70,"msc":"Y","taskCreated":"Thu 11 Jan, 8:15 AM","groupCode":"Service Delivery","systemType":"FSM","employeeId":"T7794","resourceName":"Steffan James","asset":"AS-1291","assetName":"Distribution Point","commitmentDate":"Fri 13 Jan, 3:30 PM","commitmentType":"Appointment","arrivedAtDate":"","domain":"MN","estimatedDuration":90,"lastProgression":"En Route","category":"Inspection","description":"Inspection task for broadband/FTTP service in local area.","responseCode":"SH02","postCode":"CF44 6TK","appointmentStartDate":"Sat 13 Jan, 3:30 PM","linkedTask":"","customerAddress":"79 High Street, Aberdare","expectedStartDate":"Sat 13 Jan, 3:30 PM","expectedFinishDate":"Tue 16 Jan, 5:00 PM","externalQueueId":"EXT-441706","workId":"WK-708703","estimateNumber":"EST-55738","startDate":"","lat":51.7162,"lng":-3.45003,"expectedWindow":"3pmâ€“4:30pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 6TK\\n- Type Inspection\\n- Skill RISDN2\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Assigned (ACT)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Assigned (ACT)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30030","division":"Admin","taskStatus":"Dispatched (AWI)","pwa":"ZB-GAMMA-05","taskType":"Admin Review","primarySkill":"ADMIN2","capabilities":["ADMIN2"],"importanceScore":83,"msc":"Y","taskCreated":"Fri 8 Jan, 9:05 AM","groupCode":"Admin Group","systemType":"OR","employeeId":"T7728","resourceName":"Harvey Roberts","asset":"OFF-4119","assetName":"Admin Processing Queue","commitmentDate":"Sun 10 Jan, 1:15 PM","commitmentType":"Appointment","arrivedAtDate":"Tue 12 Jan, 4:10 PM","domain":"MN","estimatedDuration":40,"lastProgression":"On Site","category":"Administration","description":"Administration task for broadband/FTTP service in local area.","responseCode":"SH02","postCode":"CF44 7OD","appointmentStartDate":"Mon 10 Jan, 1:15 PM","linkedTask":"RG-AB30012","customerAddress":"","expectedStartDate":"Mon 10 Jan, 1:15 PM","expectedFinishDate":"Thu 13 Jan, 1:55 PM","externalQueueId":"EXT-441300","workId":"WK-719881","estimateNumber":"EST-55750","startDate":"Mon 10 Jan, 1:15 PM","lat":51.71655,"lng":-3.45119,"expectedWindow":"1pmâ€“1:40pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7OD\\n- Type Admin Review\\n- Skill ADMIN2\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Dispatched (AWI)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Dispatched (AWI)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30031","division":"Complex Engineering","taskStatus":"Accepted (ISS)","pwa":"ZB-DELTA-06","taskType":"Survey","primarySkill":"RFTTP2","capabilities":["RFTTP2"],"importanceScore":85,"msc":"N","taskCreated":"Mon 3 Jan, 10:40 AM","groupCode":"Complex Engineering","systemType":"NW","employeeId":"T3673","resourceName":"Owain Roberts","asset":"AS-3212","assetName":"Route Survey Node","commitmentDate":"Tue 5 Jan, 11:20 AM","commitmentType":"Start By","arrivedAtDate":"Thu 7 Jan, 4:10 PM","domain":"SE","estimatedDuration":150,"lastProgression":"Completed","category":"Survey","description":"Survey task for broadband/FTTP service in local area.","responseCode":"SH02","postCode":"CF44 7ED","appointmentStartDate":"","linkedTask":"","customerAddress":"11 Commercial Street, Aberdare","expectedStartDate":"Thu 7 Jan, 4:10 PM","expectedFinishDate":"Sun 10 Jan, 6:40 PM","externalQueueId":"EXT-441744","workId":"WK-733281","estimateNumber":"EST-55731","startDate":"Thu 7 Jan, 4:10 PM","lat":51.7242,"lng":-3.51178,"expectedWindow":"4pmâ€“6:30pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7ED\\n- Type Survey\\n- Skill RFTTP2\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Accepted (ISS)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Accepted (ISS)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30032","division":"Service Delivery","taskStatus":"In Progress (EXC)","pwa":"ZB-ALPHA-11","taskType":"Repair","primarySkill":"RISDN1","capabilities":["RISDN1"],"importanceScore":80,"msc":"Y","taskCreated":"Tue 4 Jan, 1:15 PM","groupCode":"Service Delivery","systemType":"OR","employeeId":"T4561","resourceName":"Chloe Price","asset":"AS-4599","assetName":"FTTC Cabinet","commitmentDate":"Thu 6 Jan, 2:00 PM","commitmentType":"Complete By","arrivedAtDate":"Fri 8 Jan, 8:15 AM","domain":"CF","estimatedDuration":90,"lastProgression":"On Site","category":"Repair","description":"Repair task for broadband/FTTP service in local area.","responseCode":"SH03","postCode":"CF44 8KL","appointmentStartDate":"","linkedTask":"","customerAddress":"22 Albert Street, Aberdare","expectedStartDate":"Sat 8 Jan, 8:15 AM","expectedFinishDate":"Tue 11 Jan, 9:45 AM","externalQueueId":"EXT-441728","workId":"WK-748868","estimateNumber":"EST-55729","startDate":"Sat 8 Jan, 8:15 AM","lat":51.71934,"lng":-3.44587,"expectedWindow":"8amâ€“9:30am","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 8KL\\n- Type Repair\\n- Skill RISDN1\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"In Progress (EXC)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"In Progress (EXC)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30033","division":"Admin","taskStatus":"Completed (COM)","pwa":"ZB-DELTA-08","taskType":"Admin Review","primarySkill":"ADMIN1","capabilities":["ADMIN1"],"importanceScore":67,"msc":"Y","taskCreated":"Wed 10 Jan, 9:05 AM","groupCode":"Admin Group","systemType":"FSM","employeeId":"T5944","resourceName":"Steffan Price","asset":"OFF-4311","assetName":"Document Verification Queue","commitmentDate":"Fri 12 Jan, 1:15 PM","commitmentType":"Complete By","arrivedAtDate":"Sun 14 Jan, 2:00 PM","domain":"CF","estimatedDuration":60,"lastProgression":"Completed","category":"Administration","description":"Administration task for broadband/FTTP service in local area.","responseCode":"SH02","postCode":"CF44 7JR","appointmentStartDate":"","linkedTask":"RG-AB30024","customerAddress":"","expectedStartDate":"Mon 14 Jan, 2:00 PM","expectedFinishDate":"Thu 17 Jan, 3:00 PM","externalQueueId":"EXT-441332","workId":"WK-725196","estimateNumber":"EST-55750","startDate":"Mon 14 Jan, 2:00 PM","lat":51.71125,"lng":-3.44951,"expectedWindow":"2pmâ€“3pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7TR\\n- Type Admin Review\\n- Skill ADMIN1\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Completed (COM)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Completed (COM)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30034","division":"Service Delivery","taskStatus":"Not Assigned (ACT)","pwa":"ZB-ALPHA-07","taskType":"Inspection","primarySkill":"RISDN3","capabilities":["RISDN3"],"importanceScore":51,"msc":"N","taskCreated":"Thu 9 Jan, 8:15 AM","groupCode":"Service Delivery","systemType":"OR","employeeId":"T5103","resourceName":"Rhys Thomas","asset":"AS-9476","assetName":"Underground Joint Chamber","commitmentDate":"Sat 11 Jan, 9:05 AM","commitmentType":"Future","arrivedAtDate":"","domain":"SE","estimatedDuration":90,"lastProgression":"Allocated","category":"Inspection","description":"Inspection task for broadband/FTTP service in local area.","responseCode":"SH02","postCode":"CF44 7DK","appointmentStartDate":"","linkedTask":"RG-AB30024","customerAddress":"62 High Street, Aberdare","expectedStartDate":"Sun 11 Jan, 9:05 AM","expectedFinishDate":"Wed 14 Jan, 10:35 AM","externalQueueId":"EXT-441935","workId":"WK-717714","estimateNumber":"EST-55793","startDate":"","lat":51.71377,"lng":-3.44688,"expectedWindow":"9amâ€“10:30am","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7DK\\n- Type Inspection\\n- Skill RISDN3\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Not Assigned (ACT)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Not Assigned (ACT)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30035","division":"Complex Engineering","taskStatus":"Assigned (ACT)","pwa":"ZB-DELTA-02","taskType":"Survey","primarySkill":"RFTTP2","capabilities":["RFTTP2"],"importanceScore":58,"msc":"Y","taskCreated":"Fri 8 Jan, 1:15 PM","groupCode":"Complex Engineering","systemType":"NW","employeeId":"T6650","resourceName":"Carys Morgan","asset":"AS-4821","assetName":"Joint Box","commitmentDate":"Sun 10 Jan, 3:30 PM","commitmentType":"Start By","arrivedAtDate":"","domain":"CF","estimatedDuration":150,"lastProgression":"On Site","category":"Survey","description":"Survey task for broadband/FTTP service in local area.","responseCode":"SH02","postCode":"CF44 7RA","appointmentStartDate":"","linkedTask":"","customerAddress":"66 Brook Street, Aberdare","expectedStartDate":"Mon 10 Jan, 3:30 PM","expectedFinishDate":"Thu 13 Jan, 6:00 PM","externalQueueId":"EXT-441144","workId":"WK-711545","estimateNumber":"EST-55786","startDate":"","lat":51.7161,"lng":-3.44434,"expectedWindow":"3pmâ€“5:30pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7RA\\n- Type Survey\\n- Skill RFTTP2\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Assigned (ACT)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Assigned (ACT)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30036","division":"Admin","taskStatus":"Dispatched (AWI)","pwa":"ZB-DELTA-01","taskType":"Admin Review","primarySkill":"ADMIN2","capabilities":["ADMIN2"],"importanceScore":62,"msc":"Y","taskCreated":"Sat 9 Jan, 9:05 AM","groupCode":"Admin Group","systemType":"OR","employeeId":"T7855","resourceName":"Steffan Jenkins","asset":"OFF-4023","assetName":"Admin Processing Queue","commitmentDate":"Mon 11 Jan, 1:15 PM","commitmentType":"Appointment","arrivedAtDate":"Wed 13 Jan, 2:00 PM","domain":"CF","estimatedDuration":40,"lastProgression":"Scheduled","category":"Administration","description":"Administration task for broadband/FTTP service in local area.","responseCode":"AD02","postCode":"CF44 8DW","appointmentStartDate":"Sun 11 Jan, 1:15 PM","linkedTask":"","customerAddress":"","expectedStartDate":"Sun 11 Jan, 1:15 PM","expectedFinishDate":"Wed 14 Jan, 1:55 PM","externalQueueId":"EXT-441939","workId":"WK-790818","estimateNumber":"EST-55733","startDate":"Sun 11 Jan, 1:15 PM","lat":51.70823,"lng":-3.50376,"expectedWindow":"1pmâ€“1:40pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 8DW\\n- Type Admin Review\\n- Skill ADMIN2\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Dispatched (AWI)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Dispatched (AWI)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30037","division":"Service Delivery","taskStatus":"Accepted (ISS)","pwa":"ZB-ALPHA-09","taskType":"Emergency","primarySkill":"RISDN3","capabilities":["RISDN3"],"importanceScore":92,"msc":"Y","taskCreated":"Sun 10 Jan, 8:15 AM","groupCode":"Service Delivery","systemType":"OR","employeeId":"T9012","resourceName":"Nia Davies","asset":"AS-5211","assetName":"Core Node Cabinet","commitmentDate":"Tue 12 Jan, 2:00 PM","commitmentType":"Tail","arrivedAtDate":"Wed 14 Jan, 11:20 AM","domain":"MN","estimatedDuration":150,"lastProgression":"En Route","category":"Emergency","description":"Emergency task for broadband/FTTP service in local area.","responseCode":"SH05","postCode":"CF44 7UU","appointmentStartDate":"","linkedTask":"RG-AB30032","customerAddress":"58 Cwmbach Road, Aberdare","expectedStartDate":"Thu 14 Jan, 11:20 AM","expectedFinishDate":"Sun 17 Jan, 1:50 PM","externalQueueId":"EXT-441306","workId":"WK-791918","estimateNumber":"EST-55790","startDate":"Thu 14 Jan, 11:20 AM","lat":51.71803,"lng":-3.44716,"expectedWindow":"11amâ€“1:30pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7UU\\n- Type Emergency\\n- Skill RISDN3\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Accepted (ISS)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Accepted (ISS)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30038","division":"Complex Engineering","taskStatus":"In Progress (EXC)","pwa":"ZB-GAMMA-12","taskType":"Survey","primarySkill":"RFTTP1","capabilities":["RFTTP1"],"importanceScore":78,"msc":"N","taskCreated":"Mon 11 Jan, 9:05 AM","groupCode":"Complex Engineering","systemType":"NW","employeeId":"T6772","resourceName":"Owain James","asset":"AS-5987","assetName":"Manhole Access Point","commitmentDate":"Wed 13 Jan, 1:15 PM","commitmentType":"Start By","arrivedAtDate":"Thu 15 Jan, 10:40 AM","domain":"CF","estimatedDuration":150,"lastProgression":"On Site","category":"Survey","description":"Survey task for broadband/FTTP service in local area.","responseCode":"SH04","postCode":"CF44 7LV","appointmentStartDate":"","linkedTask":"RG-AB30024","customerAddress":"19 Canon Street, Aberdare","expectedStartDate":"Thu 15 Jan, 10:40 AM","expectedFinishDate":"Sun 18 Jan, 1:10 PM","externalQueueId":"EXT-441653","workId":"WK-744988","estimateNumber":"EST-55779","startDate":"Thu 15 Jan, 10:40 AM","lat":51.72651,"lng":-3.45205,"expectedWindow":"10amâ€“12:30pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7LV\\n- Type Survey\\n- Skill RFTTP1\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"In Progress (EXC)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"In Progress (EXC)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30039","division":"Admin","taskStatus":"Completed (COM)","pwa":"ZB-ALPHA-01","taskType":"Admin Review","primarySkill":"ADMIN1","capabilities":["ADMIN1"],"importanceScore":63,"msc":"N","taskCreated":"Tue 12 Jan, 1:15 PM","groupCode":"Admin Group","systemType":"FSM","employeeId":"T7339","resourceName":"Harvey Price","asset":"OFF-6697","assetName":"Document Verification Queue","commitmentDate":"Thu 14 Jan, 3:30 PM","commitmentType":"Tail","arrivedAtDate":"Sat 16 Jan, 2:00 PM","domain":"MN","estimatedDuration":60,"lastProgression":"Completed","category":"Administration","description":"Administration task for broadband/FTTP service in local area.","responseCode":"AD02","postCode":"CF44 6TS","appointmentStartDate":"","linkedTask":"","customerAddress":"","expectedStartDate":"Sat 16 Jan, 2:00 PM","expectedFinishDate":"Tue 19 Jan, 3:00 PM","externalQueueId":"EXT-441923","workId":"WK-791162","estimateNumber":"EST-55748","startDate":"Sat 16 Jan, 2:00 PM","lat":51.7245,"lng":-3.44809,"expectedWindow":"2pmâ€“3pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 6TS\\n- Type Admin Review\\n- Skill ADMIN1\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Completed (COM)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Completed (COM)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30040","division":"Service Delivery","taskStatus":"Not Assigned (ACT)","pwa":"ZB-GAMMA-08","taskType":"Repair","primarySkill":"RISDN2","capabilities":["RISDN2"],"importanceScore":59,"msc":"Y","taskCreated":"Wed 13 Jan, 2:00 PM","groupCode":"Service Delivery","systemType":"OR","employeeId":"T6142","resourceName":"Ffion James","asset":"AS-6883","assetName":"FTTC Cabinet","commitmentDate":"Fri 15 Jan, 3:30 PM","commitmentType":"Future","arrivedAtDate":"","domain":"CF","estimatedDuration":110,"lastProgression":"Allocated","category":"Repair","description":"Repair task for broadband/FTTP service in local area.","responseCode":"SH04","postCode":"CF44 7QA","appointmentStartDate":"","linkedTask":"RG-AB30034","customerAddress":"88 Victoria Street, Aberdare","expectedStartDate":"Sat 15 Jan, 3:30 PM","expectedFinishDate":"Tue 18 Jan, 5:20 PM","externalQueueId":"EXT-441548","workId":"WK-742382","estimateNumber":"EST-55781","startDate":"","lat":51.71294,"lng":-3.44307,"expectedWindow":"3pmâ€“5:20pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7QA\\n- Type Repair\\n- Skill RISDN2\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Not Assigned (ACT)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Not Assigned (ACT)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]}]'),Il=JSON.parse('[{"resourceId":"SWBXA12","name":"John Evans","division":"Service Delivery","primarySkill":"RISDN2","secondarySkill":"RISDN1","status":"Available","pwa":"ZB-ALPHA-06","calloutGroup":"FJ","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900101","notes":"","history":[],"updatedAt":null,"homePostCode":"CF44 7AA","homeLat":51.71352,"homeLng":-3.44879},{"resourceId":"QWERB33","name":"Ffion Hughes","division":"Service Delivery","primarySkill":"RISDN3","secondarySkill":null,"status":"Unavailable","pwa":"ZB-GAMMA-04","calloutGroup":"ISDN","lastOutcome":"Unavailable","availableAgainAt":"2025-01-18T14:00","contactNumber":"07700900102","notes":"Medical appointment","history":[{"previousOutcome":null,"previousAvailableAgainAt":null,"changedAt":"2025-01-18T14:00:00Z"}],"updatedAt":"2025-01-18T14:00:00Z","homePostCode":"CF44 6ET","homeLat":51.71114,"homeLng":-3.43291},{"resourceId":"PLMKC14","name":"Owain Roberts","division":"Service Delivery","primarySkill":"RISDN1","secondarySkill":"RISDN2","status":"Available","pwa":"ZB-OMEGA-11","calloutGroup":"FJ","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900103","notes":"","history":[],"updatedAt":null,"homePostCode":"CF44 8NN","homeLat":51.72127,"homeLng":-3.44844},{"resourceId":"GHJTQ55","name":"Carys Morgan","division":"Service Delivery","primarySkill":"RISDN3","secondarySkill":null,"status":"On Task","pwa":"ZB-GAMMA-10","calloutGroup":"SD","lastOutcome":"Assigned","availableAgainAt":null,"contactNumber":"07700900104","notes":"","history":[],"updatedAt":"2025-01-17T09:30:00Z","homePostCode":"CF44 0AG","homeLat":51.69994,"homeLng":-3.43041},{"resourceId":"MNBGD82","name":"Rhys Davies","division":"Service Delivery","primarySkill":"RISDN2","secondarySkill":null,"status":"Available","pwa":"ZB-DELTA-10","calloutGroup":"FJ","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900105","notes":"","history":[],"updatedAt":null,"homePostCode":"CF44 9SW","homeLat":51.73152,"homeLng":-3.50623},{"resourceId":"LKJHF22","name":"Lowri Jenkins","division":"Complex Engineering","primarySkill":"RFTTP1","secondarySkill":"RFTTP2","status":"Available","pwa":"ZB-GAMMA-12","calloutGroup":"CE","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900106","notes":"","history":[],"updatedAt":null,"homePostCode":"CF45 3HD","homeLat":51.68691,"homeLng":-3.37852},{"resourceId":"ASDFR91","name":"Tomos Hughes","division":"Complex Engineering","primarySkill":"RFTTP2","secondarySkill":null,"status":"Unavailable","pwa":"ZB-DELTA-07","calloutGroup":"CE","lastOutcome":"Refusal","availableAgainAt":"2025-01-19T16:00","contactNumber":"07700900107","notes":"Family emergency","history":[{"previousOutcome":null,"previousAvailableAgainAt":null,"changedAt":"2025-01-17T12:00:00Z"}],"updatedAt":"2025-01-17T12:00:00Z","homePostCode":"CF47 8EL","homeLat":51.74842,"homeLng":-3.38123},{"resourceId":"ZXCVS67","name":"Bethan Evans","division":"Complex Engineering","primarySkill":"RFTTP2","secondarySkill":"RFTTP1","status":"On Task","pwa":"ZB-OMEGA-10","calloutGroup":"CE","lastOutcome":"Dispatched","availableAgainAt":null,"contactNumber":"07700900108","notes":"","history":[],"updatedAt":"2025-01-18T08:30:00Z","homePostCode":"CF44 6EA","homeLat":51.70887,"homeLng":-3.43811},{"resourceId":"BNMAS49","name":"Steffan Price","division":"Complex Engineering","primarySkill":"RFTTP1","secondarySkill":null,"status":"Available","pwa":"ZB-DELTA-05","calloutGroup":"CE","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900109","notes":"","history":[],"updatedAt":null,"homePostCode":"CF42 6UP","homeLat":51.65761,"homeLng":-3.50744},{"resourceId":"POIUY73","name":"Aled Thomas","division":"Complex Engineering","primarySkill":"RFTTP2","secondarySkill":null,"status":"Available","pwa":"ZB-ALPHA-02","calloutGroup":"CE","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900110","notes":"","history":[],"updatedAt":null,"homePostCode":"CF44 7AY","homeLat":51.71601,"homeLng":-3.45192},{"resourceId":"UJMKL89","name":"Lauren Evans","division":"Service Delivery","primarySkill":"RISDN2","secondarySkill":"RISDN3","status":"Available","pwa":"ZB-ALPHA-04","calloutGroup":"SD","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900116","notes":"","history":[],"updatedAt":null,"homePostCode":"CF44 7RP","homeLat":51.71074,"homeLng":-3.44591},{"resourceId":"KJHGF02","name":"Nia James","division":"Service Delivery","primarySkill":"RISDN1","secondarySkill":null,"status":"On Task","pwa":"ZB-GAMMA-09","calloutGroup":"ISDN","lastOutcome":"Dispatched","availableAgainAt":null,"contactNumber":"07700900117","notes":"","history":[],"updatedAt":"2025-01-18T08:50:00Z","homePostCode":"CF44 6AB","homeLat":51.70818,"homeLng":-3.42742},{"resourceId":"RTYHN44","name":"Chloe Davies","division":"Service Delivery","primarySkill":"RISDN3","secondarySkill":null,"status":"Available","pwa":"ZB-ALPHA-09","calloutGroup":"SD","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900120","notes":"","history":[],"updatedAt":null,"homePostCode":"CF44 9DL","homeLat":51.72475,"homeLng":-3.4862},{"resourceId":"SDNEW21","name":"Gareth Bowen","division":"Service Delivery","primarySkill":"RISDN1","secondarySkill":"RISDN2","status":"Available","pwa":"ZB-ALPHA-15","calloutGroup":"FJ","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900130","notes":"","history":[],"updatedAt":null,"homePostCode":"CF44 8HA","homeLat":51.71955,"homeLng":-3.45591},{"resourceId":"SDNEW22","name":"Megan Griffiths","division":"Service Delivery","primarySkill":"RISDN3","secondarySkill":"RISDN1","status":"Unavailable","pwa":"ZB-OMEGA-17","calloutGroup":"SD","lastOutcome":"Unavailable","availableAgainAt":"2025-01-20T09:00:00Z","contactNumber":"07700900131","notes":"Childcare","history":[],"updatedAt":"2025-01-18T13:15:00Z","homePostCode":"CF44 0SW","homeLat":51.70082,"homeLng":-3.4211},{"resourceId":"SDNEW23","name":"Ieuan Watkins","division":"Service Delivery","primarySkill":"RISDN1","secondarySkill":null,"status":"Available","pwa":"ZB-GAMMA-18","calloutGroup":"FJ","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900132","notes":"","history":[],"updatedAt":null,"homePostCode":"CF44 6LA","homeLat":51.70692,"homeLng":-3.43092},{"resourceId":"SDNEW24","name":"Seren Powell","division":"Service Delivery","primarySkill":"RISDN2","secondarySkill":"RISDN3","status":"On Task","pwa":"ZB-OMEGA-13","calloutGroup":"SD","lastOutcome":"Assigned","availableAgainAt":null,"contactNumber":"07700900133","notes":"","history":[],"updatedAt":"2025-01-18T10:10:00Z","homePostCode":"CF44 7PP","homeLat":51.71381,"homeLng":-3.45514},{"resourceId":"SDNEW25","name":"Rhys Llewellyn","division":"Service Delivery","primarySkill":"RISDN3","secondarySkill":"RISDN1","status":"Unavailable","pwa":"ZB-DELTA-11","calloutGroup":"ISDN","lastOutcome":"NoReply","availableAgainAt":"2025-01-21T08:00:00Z","contactNumber":"07700900134","notes":"Missed several calls","history":[{"previousOutcome":null,"previousAvailableAgainAt":null,"changedAt":"2025-01-18T12:45:00Z"}],"updatedAt":"2025-01-18T12:45:00Z","homePostCode":"CF44 9DJ","homeLat":51.7261,"homeLng":-3.49125},{"resourceId":"SDNEW26","name":"Catrin Rees","division":"Service Delivery","primarySkill":"RISDN2","secondarySkill":null,"status":"Available","pwa":"ZB-ALPHA-22","calloutGroup":"SD","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900135","notes":"","history":[],"updatedAt":null,"homePostCode":"CF44 0AJ","homeLat":51.70102,"homeLng":-3.43274},{"resourceId":"SDNEW27","name":"Gwenllian Thomas","division":"Service Delivery","primarySkill":"RISDN1","secondarySkill":"RISDN2","status":"Available","pwa":"ZB-GAMMA-22","calloutGroup":"FJ","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900136","notes":"","history":[],"updatedAt":null,"homePostCode":"CF44 9NH","homeLat":51.72982,"homeLng":-3.50008},{"resourceId":"FJNEW28","name":"Eleri Hopkins","division":"Service Delivery","primarySkill":"RISDN2","secondarySkill":"RISDN1","status":"Available","pwa":"ZB-ALPHA-18","calloutGroup":"FJ","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900137","notes":"","history":[],"updatedAt":null,"homePostCode":"CF44 7LS","homeLat":51.71743,"homeLng":-3.45271},{"resourceId":"FJNEW29","name":"Geraint Morgan","division":"Service Delivery","primarySkill":"RISDN3","secondarySkill":null,"status":"Available","pwa":"ZB-GAMMA-25","calloutGroup":"FJ","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900138","notes":"","history":[],"updatedAt":null,"homePostCode":"CF44 8PD","homeLat":51.72288,"homeLng":-3.45934},{"resourceId":"FJNEW30","name":"Non Davies","division":"Service Delivery","primarySkill":"RISDN2","secondarySkill":"RISDN3","status":"On Task","pwa":"ZB-DELTA-14","calloutGroup":"FJ","lastOutcome":"Dispatched","availableAgainAt":null,"contactNumber":"07700900139","notes":"","history":[],"updatedAt":"2025-01-18T15:10:00Z","homePostCode":"CF44 6QH","homeLat":51.70412,"homeLng":-3.42566}]'),Ml={Appointment:"#F59E0B","Start By":"#EC4899","Complete By":"#3B82F6",Future:"#10B981",Tail:"#6B7280"},er={Available:"#10B981",Unavailable:"#EF4444","On Task":"#3B82F6",Default:"#6B7280"},Dl=36,Ll=50;function El(n,i){const s=Jh(n,.35);return`
    <svg width="${Dl}" height="${Ll}" viewBox="0 0 40 56">
      ${i?`
        <rect x="1.5" y="1.5" width="37" height="53"
              rx="8" ry="8"
              fill="none"
              stroke="#DC2626"
              stroke-width="3" />`:""}

      <!-- Outer teardrop -->
      <path
        d="M20 2 C 11 2, 4 9, 4 18 C 4 29, 20 52, 20 52 C 20 52, 36 29, 36 18 C 36 9, 29 2, 20 2 Z"
        fill="#FFFFFF"
        stroke="#1F2937"
        stroke-width="2.5"
      />

      <!-- Inner coloured area (task commitment colour) -->
      <path
        d="M20 10 C 14 10, 9 15, 9 21 C 9 29, 20 44, 20 44 C 20 44, 31 29, 31 21 C 31 15, 26 10, 20 10 Z"
        fill="${n}"
        stroke="${s}"
        stroke-width="2.5"
      />
    </svg>
  `}function Rl(n,i){const s=er[n]||er.Default;return`
    <svg width="${Dl}" height="${Ll}" viewBox="0 0 40 56">
      ${i?`
        <rect x="1.5" y="1.5" width="37" height="53"
              rx="8" ry="8"
              fill="none"
              stroke="#DC2626"
              stroke-width="3" />`:""}

      <!-- Outer teardrop -->
      <path
        d="M20 2 C 11 2, 4 9, 4 18 C 4 29, 20 52, 20 52 C 20 52, 36 29, 36 18 C 36 9, 29 2, 20 2 Z"
        fill="#FFFFFF"
        stroke="#1F2937"
        stroke-width="2.5"
      />

      <!-- Inner panel (light grey) to give contrast for the person icon -->
      <path
        d="M20 10 C 14 10, 9 15, 9 21 C 9 29, 20 44, 20 44 C 20 44, 31 29, 31 21 C 31 15, 26 10, 20 10 Z"
        fill="#E5E7EB"
        stroke="#D1D5DB"
        stroke-width="2"
      />

      <!-- Person / engineer silhouette -->
      <g transform="translate(8,6)" fill="#111827">
        <circle cx="12" cy="8" r="5.2" />
        <path d="M4.5 24.5c0-4.6 3.8-8.2 7.5-8.2s7.5 3.6 7.5 8.2v5.5H4.5v-5.5z" />
      </g>

      <!-- Status dot -->
      <circle
        cx="20"
        cy="39"
        r="5"
        fill="${s}"
        stroke="#FFFFFF"
        stroke-width="2"
      />
    </svg>
  `}function Jh(n,i=.35){const s=n.replace("#",""),l=parseInt(s.substring(0,2),16),d=parseInt(s.substring(2,4),16),h=parseInt(s.substring(4,6),16);return`rgb(${Math.floor(l*(1-i))}, ${Math.floor(d*(1-i))}, ${Math.floor(h*(1-i))})`}function Vh({visible:n,onClose:i}){const s=qt();return n?a.jsx(Se,{sx:{position:"absolute",top:s.spacing(7),right:s.spacing(4),zIndex:9999},children:a.jsx(vt,{elevation:14,sx:{width:s.spacing(36),borderRadius:3,px:3,py:2.5,border:`1px solid ${K(s.palette.primary.main,.18)}`,boxShadow:"0 18px 46px rgba(8,58,97,0.22)",backgroundImage:"none"},children:a.jsxs(Ae,{spacing:3,children:[a.jsxs(Ae,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[a.jsx(ye,{variant:"subtitle2",fontWeight:600,color:"text.primary",children:"Map Legend"}),a.jsx(ln,{size:"small",onClick:i,sx:{color:K(s.palette.text.primary,.6),"&:hover":{color:s.palette.primary.main,bgcolor:K(s.palette.primary.main,.08)}},"aria-label":"Close legend",children:a.jsx(so,{size:16})})]}),a.jsxs(Ae,{spacing:1.5,children:[a.jsx(ye,{variant:"overline",sx:{fontWeight:700,letterSpacing:1.1,color:K(s.palette.text.secondary,.85)},children:"Resources"}),a.jsx(Ae,{spacing:1.5,children:Object.keys(er).map(l=>a.jsxs(Ae,{direction:"row",spacing:2,alignItems:"center",children:[a.jsx(Se,{sx:{transform:"scale(0.75)",transformOrigin:"left center"},dangerouslySetInnerHTML:{__html:Rl(l,!1)}}),a.jsx(ye,{variant:"caption",color:"text.secondary",children:l})]},l))})]}),a.jsxs(Ae,{spacing:1.5,children:[a.jsx(ye,{variant:"overline",sx:{fontWeight:700,letterSpacing:1.1,color:K(s.palette.text.secondary,.85)},children:"Tasks"}),a.jsx(Ae,{spacing:1.5,children:Object.entries(Ml).map(([l,d])=>a.jsxs(Ae,{direction:"row",spacing:2,alignItems:"center",children:[a.jsx(Se,{sx:{transform:"scale(0.75)",transformOrigin:"left center"},dangerouslySetInnerHTML:{__html:El(d,!1)}}),a.jsx(ye,{variant:"caption",color:"text.secondary",children:l})]},l))})]})]})})}):null}const Uh=ti(a.jsx("path",{d:"m18 7-1.41-1.41-6.34 6.34 1.41 1.41zm4.24-1.41L11.66 16.17 7.48 12l-1.41 1.41L11.66 19l12-12zM.41 13.41 6 19l1.41-1.41L1.83 12z"}),"DoneAll"),Pi="__SELECT_ALL__",yn=({label:n,options:i,value:s,onChange:l,required:d=!1,showSelectAllIcon:h=!0,wrapperSx:p})=>{const[m,f]=u.useState(""),_=m.trim().toLowerCase(),x=u.useMemo(()=>_?i.filter(M=>M.toLowerCase().includes(_)):i,[_,i]),v=x.filter(M=>s.includes(M)).length,y=x.length>0&&v===x.length,S=v>0&&!y,k=(M,N,G,B)=>{if((B==null?void 0:B.option)===Pi){if(!x.length)return;const E=y?s.filter(W=>!x.includes(W)):Array.from(new Set([...s,...x]));l(E);return}const Y=N.filter(E=>E!==Pi);l(Y)},A=M=>{if(M.stopPropagation(),!!x.length)if(y){const N=s.filter(G=>!x.includes(G));l(N)}else{const N=Array.from(new Set([...s,...x]));l(N)}},C={xs:"100%",sm:"22ch",md:"28ch"},R=32,J=48,z={width:"100%",maxWidth:C,px:1,display:"flex",alignItems:"center",minHeight:J,flex:"0 0 auto","& .MuiInputBase-root":{minHeight:J,transition:"all 120ms ease"},"& .MuiSelect-select":{display:"flex",alignItems:"center",minHeight:J,transition:"all 120ms ease"},"& .MuiAutocomplete-inputRoot":{paddingTop:0,paddingBottom:0,transition:"all 120ms ease"}};return a.jsx(Se,{sx:p??z,children:a.jsx(mr,{disableClearable:!0,multiple:!0,disableCloseOnSelect:!0,componentsProps:{popper:{style:{minWidth:"32ch",zIndex:2e3}}},sx:{width:C,"& .MuiAutocomplete-inputRoot":{minHeight:J,maxHeight:J,overflow:"hidden",alignItems:"center",transition:"all 120ms ease","& .MuiInputBase-input":{paddingRight:"56px",fontSize:13,lineHeight:`${R}px`,paddingTop:0,paddingBottom:0}},"& .MuiAutocomplete-tag":{display:"inline-flex",alignItems:"center",justifyContent:"center",height:R,maxWidth:"100%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},"& .MuiInputBase-root":{minHeight:J,transition:"all 120ms ease"}},options:[Pi,...i],value:s,inputValue:m,onInputChange:(M,N)=>f(N),filterOptions:M=>M.filter(N=>N===Pi||N.toLowerCase().includes(_)),onChange:k,getOptionLabel:M=>M===Pi?"Select Filtered":M,renderOption:(M,N)=>N===Pi?a.jsxs($o,{...M,dense:!0,children:[a.jsx(Ys,{sx:{minWidth:32},children:a.jsx(Ks,{edge:"start",checked:y,indeterminate:S,size:"small"})}),a.jsx(ji,{primary:y?"Clear Filtered":"Select Filtered"})]}):a.jsxs($o,{...M,dense:!0,children:[a.jsx(Ys,{sx:{minWidth:32},children:a.jsx(Ks,{edge:"start",checked:s.includes(N),size:"small"})}),a.jsx(ji,{primary:N})]}),renderTags:M=>{if(!M||M.length===0)return null;const N=M.length;return a.jsx(Se,{sx:{display:"flex",gap:.5,alignItems:"center",overflow:"hidden",height:"100%",pr:"8px"},children:a.jsx(oo,{label:`+${N}`,size:"small",variant:"outlined",sx:{flex:"0 0 auto",height:R,width:"auto",minWidth:R,display:"inline-flex",alignItems:"center",alignSelf:"center",justifyContent:"center",px:1,fontWeight:600,fontSize:13,lineHeight:`${R}px`,borderRadius:"9999px",bgcolor:"grey.100",borderColor:"rgba(0,0,0,0.08)",boxShadow:"inset 0 0 0 1px rgba(255,255,255,0.6)",border:"2px solid rgba(0,0,0,0.12)"}})})},renderInput:M=>{const N=a.jsxs(a.Fragment,{children:[h&&a.jsx(wu,{title:y?"Clear filtered":"Select filtered",arrow:!0,children:a.jsx(ln,{size:"small",onClick:A,"aria-label":y?"Clear filtered":"Select filtered",sx:{mr:.75,px:.75},children:a.jsx(Uh,{fontSize:"small",color:y?"primary":"inherit"})})}),M.InputProps.endAdornment]});return a.jsx(an,{...M,placeholder:s&&s.length?"":n,size:"small",required:d,"aria-label":n,InputProps:{...M.InputProps,endAdornment:N,sx:{height:J,transition:"all 120ms ease","& .MuiInputBase-input":{paddingTop:0,paddingBottom:0,paddingRight:"56px",fontSize:13,lineHeight:`${R}px`}}}})},ListboxProps:{sx:{maxHeight:320,zIndex:2e3}}})})},Nl={xs:"100%",sm:"22ch",md:"28ch"},La=32,Oi=48,qh={width:"100%",maxWidth:Nl,px:1,display:"flex",alignItems:"center",minHeight:Oi,flex:"0 0 auto","& .MuiInputBase-root":{minHeight:Oi},"& .MuiSelect-select":{display:"flex",alignItems:"center",minHeight:Oi},"& .MuiAutocomplete-inputRoot":{paddingTop:0,paddingBottom:0,transition:"all 120ms ease"}},Io=({label:n,options:i,value:s,onChange:l,required:d=!1,wrapperSx:h})=>{const[p,m]=u.useState(s??""),f=p.trim().toLowerCase(),_=u.useMemo(()=>f?i.filter(x=>x.toLowerCase().includes(f)):i,[f,i]);return a.jsx(Se,{sx:h??qh,children:a.jsx(mr,{freeSolo:!0,disableClearable:!0,componentsProps:{popper:{style:{zIndex:2e3}}},options:_,value:s||"",inputValue:p,onInputChange:(x,v)=>m(v),onChange:(x,v)=>l(String(v??"")),getOptionLabel:x=>typeof x=="string"?x:String(x),renderOption:(x,v)=>a.jsx($o,{...x,dense:!0,children:a.jsx(ji,{primary:v})}),renderInput:x=>{const v=a.jsx(a.Fragment,{children:x.InputProps.endAdornment});return a.jsx(an,{...x,placeholder:s?"":n,size:"small",required:d,"aria-label":n,InputProps:{...x.InputProps,endAdornment:v,sx:{height:Oi,transition:"all 120ms ease","& .MuiInputBase-input":{paddingTop:0,paddingBottom:0,paddingRight:"56px",fontSize:13,lineHeight:`${La}px`}}}})},ListboxProps:{sx:{zIndex:2e3,maxHeight:320}},sx:{width:Nl,"& .MuiAutocomplete-inputRoot":{minHeight:Oi,maxHeight:Oi,alignItems:"center",transition:"all 120ms ease","& .MuiInputBase-input":{paddingTop:0,paddingBottom:0,paddingRight:"56px",fontSize:13,lineHeight:`${La}px`}}}})})};function Ea(n){const i=n.match(/\(([^)]+)\)/);return i?i[1]:""}function Ra(n){return[...n].sort((i,s)=>{const l=Ea(i),d=Ea(s);return l===d?i.localeCompare(s):l.localeCompare(d)})}const Kh=hn(vt),Xh=({mode:n="task-default",onSearch:i,onClear:s,dropdownData:l,resetKey:d,hideActions:h})=>{const p=qt(),[m,f]=u.useState({statuses:[],pwa:[],capabilities:[],commitmentTypes:[],responseCodes:[],impCondition:"",impValue:""}),[_,x]=u.useState(null),[v,y]=u.useState({statuses:"",pwa:"",capabilities:"",commitmentTypes:"",responseCodes:"",resourceStatuses:""});u.useEffect(()=>{f({statuses:[],pwa:[],capabilities:[],commitmentTypes:[],responseCodes:[],impCondition:"",impValue:""}),y({statuses:"",pwa:"",capabilities:"",commitmentTypes:"",responseCodes:"",resourceStatuses:""}),x(null)},[d]),u.useEffect(()=>{h&&i(m)},[m,h,i]);const S=E=>E??[],k=(E,W)=>E.filter(oe=>oe.toLowerCase().includes(W.toLowerCase())),A={statuses:k(Ra(S(l.statuses)),v.statuses),pwa:k(S(l.pwa),v.pwa),capabilities:k(S(l.capabilities),v.capabilities),commitmentTypes:k(S(l.commitmentTypes),v.commitmentTypes),responseCodes:k(S(l.responseCodes),v.responseCodes),resourceStatuses:k(Ra(S(l.resourceStatuses)),v.resourceStatuses)},C=a.jsx(yn,{label:"Task Status",options:A.statuses,value:m.statuses,onChange:E=>f(W=>({...W,statuses:E}))}),R=a.jsx(yn,{label:"PWA",options:A.pwa,value:m.pwa,onChange:E=>f(W=>({...W,pwa:E}))}),J=a.jsx(yn,{label:"Capabilities",options:A.capabilities,value:m.capabilities,onChange:E=>f(W=>({...W,capabilities:E}))}),z=a.jsx(yn,{label:"Commit Type",options:A.commitmentTypes,value:m.commitmentTypes,onChange:E=>f(W=>({...W,commitmentTypes:E}))}),M=a.jsx(yn,{label:"Response Code",options:A.responseCodes,value:m.responseCodes??[],onChange:E=>f(W=>({...W,responseCodes:E}))}),N=a.jsx(Yh,{condition:m.impCondition??"",value:m.impValue??"",openDropdown:_,setOpenDropdown:x,onConditionChange:E=>f(W=>({...W,impCondition:E})),onValueChange:E=>f(W=>({...W,impValue:E}))}),G=a.jsx(yn,{label:"Status",options:A.resourceStatuses,value:m.statuses,onChange:E=>f(W=>({...W,statuses:E}))}),B=n==="resource-active"?"resource-active":"task-default",Y=()=>B==="task-default"?a.jsxs(_t,{container:!0,spacing:2,children:[a.jsx(_t,{item:!0,xs:12,sm:6,children:C}),a.jsx(_t,{item:!0,xs:12,sm:6,children:R}),a.jsx(_t,{item:!0,xs:12,sm:6,children:J}),a.jsx(_t,{item:!0,xs:12,sm:6,children:z}),a.jsx(_t,{item:!0,xs:12,sm:6,children:M}),a.jsx(_t,{item:!0,xs:12,children:N})]}):B==="resource-active"?a.jsxs(_t,{container:!0,spacing:2,children:[a.jsx(_t,{item:!0,xs:12,sm:6,children:G}),a.jsx(_t,{item:!0,xs:12,sm:6,children:R})]}):null;return a.jsxs(Kh,{initial:{opacity:0,y:-4},animate:{opacity:1,y:0},transition:{duration:.2},elevation:0,sx:{width:"100%",maxWidth:{xs:"95vw",sm:p.spacing(100)},borderRadius:3,px:3,py:3,display:"flex",flexDirection:"column",gap:3,border:`1px solid ${K(p.palette.primary.main,.18)}`,boxShadow:"0 18px 46px rgba(8,58,97,0.18)",backgroundImage:"none",overflowX:"hidden"},children:[Y(),!h&&a.jsxs(Ae,{direction:"row",justifyContent:"flex-end",spacing:1.5,pt:2,mt:2,sx:{borderTop:`1px solid ${K(p.palette.divider,.7)}`},children:[a.jsx(Nt,{variant:"contained",color:"primary",size:"small",onClick:()=>i(m),sx:{px:3,fontWeight:600,boxShadow:"none","&:hover":{boxShadow:"0 12px 28px rgba(8,58,97,0.25)"}},children:"Search"}),a.jsx(Nt,{variant:"outlined",size:"small",onClick:s,sx:{px:3,fontWeight:600,borderColor:K(p.palette.primary.main,.28),"&:hover":{borderColor:p.palette.primary.main,backgroundColor:K(p.palette.primary.main,.08)}},children:"Clear"})]})]})};function Yh({condition:n,value:i,openDropdown:s,setOpenDropdown:l,onConditionChange:d,onValueChange:h}){const p=qt(),[m,f]=u.useState(null),_=s==="imp";u.useEffect(()=>{_||f(null)},[_]);const x=n==="greater"?"Greater Than":n==="less"?"Less Than":"IMP Score",v=S=>{_?l(null):(f(S.currentTarget),l("imp"))},y=()=>l(null);return a.jsxs(Ae,{direction:{xs:"column",sm:"row"},spacing:2,alignItems:{xs:"stretch",sm:"flex-start"},children:[a.jsx(Nt,{variant:"outlined",size:"small",endIcon:a.jsx(fl,{size:14}),onClick:v,sx:{maxWidth:240,width:"100%",justifyContent:"space-between",textTransform:"none",fontSize:12,fontWeight:500,height:36,borderRadius:1.5,borderColor:K(p.palette.primary.main,.22),color:p.palette.text.primary,px:2,"&:hover":{borderColor:p.palette.primary.main,backgroundColor:K(p.palette.primary.main,.06)}},children:a.jsx(ye,{variant:"caption",component:"span",sx:{flexGrow:1,textAlign:"left",pr:1.5,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:x})}),a.jsx(an,{type:"number",size:"small",value:i,onChange:S=>{const k=(S.target.value||"").replace(/\D/g,"").slice(0,3);h(k)},placeholder:"Value",inputProps:{min:0,max:999,style:{fontSize:12,padding:"6px 10px",width:"clamp(64px, 6vw, 90px)"}}}),a.jsxs(Vs,{anchorEl:m,open:_,onClose:y,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},MenuListProps:{dense:!0,sx:{fontSize:12}},slotProps:{paper:{elevation:12,sx:{minWidth:180,borderRadius:2,border:`1px solid ${K(p.palette.primary.main,.18)}`,boxShadow:"0 18px 46px rgba(8,58,97,0.18)",backgroundImage:"none"}}},children:[a.jsx(un,{onClick:()=>{d("greater"),y()},children:"Greater Than"}),a.jsx(un,{onClick:()=>{d("less"),y()},children:"Less Than"})]})]})}function Qh({mode:n,onSearch:i,onClear:s,dropdownData:l,resetKey:d}){return a.jsx(Xh,{mode:n,onSearch:i,onClear:s,dropdownData:l,resetKey:d,hideActions:!0})}function em(){const n=qt();return a.jsx(vt,{elevation:0,sx:{height:"100%",borderRadius:3,px:3,py:2.5,border:`1px solid ${K(n.palette.primary.main,.18)}`,boxShadow:"0 18px 46px rgba(8,58,97,0.18)",backgroundImage:"none"}})}function Ol(n,i){const s=u.useRef(i);u.useEffect(function(){i!==s.current&&n.attributionControl!=null&&(s.current!=null&&n.attributionControl.removeAttribution(s.current),i!=null&&n.attributionControl.addAttribution(i)),s.current=i},[n,i])}const tm=1;function nm(n){return Object.freeze({__version:tm,map:n})}function im(n,i){return Object.freeze({...n,...i})}const fr=u.createContext(null);function gr(){const n=u.use(fr);if(n==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return n}function om(n){function i(s,l){const{instance:d,context:h}=n(s).current;u.useImperativeHandle(l,()=>d);const{children:p}=s;return p==null?null:vn.createElement(fr,{value:h},p)}return u.forwardRef(i)}function sm(n){function i(s,l){const[d,h]=u.useState(!1),{instance:p}=n(s,h).current;u.useImperativeHandle(l,()=>p),u.useEffect(function(){d&&p.update()},[p,d,s.children]);const m=p._contentNode;return m?Ri.createPortal(s.children,m):null}return u.forwardRef(i)}function rm(n){function i(s,l){const{instance:d}=n(s).current;return u.useImperativeHandle(l,()=>d),null}return u.forwardRef(i)}function zl(n,i){const s=u.useRef(void 0);u.useEffect(function(){return i!=null&&n.instance.on(i),s.current=i,function(){s.current!=null&&n.instance.off(s.current),s.current=null}},[n,i])}function yr(n,i){const s=n.pane??i.pane;return s?{...n,pane:s}:n}function am(n,i){return function(l,d){const h=gr(),p=n(yr(l,h),h);return Ol(h.map,l.attribution),zl(p.current,l.eventHandlers),i(p.current,h,l,d),p}}var Qi={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var lm=Qi.exports,Na;function cm(){return Na||(Na=1,function(n,i){(function(s,l){l(i)})(lm,function(s){var l="1.9.4";function d(e){var t,o,r,c;for(o=1,r=arguments.length;o<r;o++){c=arguments[o];for(t in c)e[t]=c[t]}return e}var h=Object.create||function(){function e(){}return function(t){return e.prototype=t,new e}}();function p(e,t){var o=Array.prototype.slice;if(e.bind)return e.bind.apply(e,o.call(arguments,1));var r=o.call(arguments,2);return function(){return e.apply(t,r.length?r.concat(o.call(arguments)):arguments)}}var m=0;function f(e){return"_leaflet_id"in e||(e._leaflet_id=++m),e._leaflet_id}function _(e,t,o){var r,c,g,w;return w=function(){r=!1,c&&(g.apply(o,c),c=!1)},g=function(){r?c=arguments:(e.apply(o,arguments),setTimeout(w,t),r=!0)},g}function x(e,t,o){var r=t[1],c=t[0],g=r-c;return e===r&&o?e:((e-c)%g+g)%g+c}function v(){return!1}function y(e,t){if(t===!1)return e;var o=Math.pow(10,t===void 0?6:t);return Math.round(e*o)/o}function S(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function k(e){return S(e).split(/\s+/)}function A(e,t){Object.prototype.hasOwnProperty.call(e,"options")||(e.options=e.options?h(e.options):{});for(var o in t)e.options[o]=t[o];return e.options}function C(e,t,o){var r=[];for(var c in e)r.push(encodeURIComponent(o?c.toUpperCase():c)+"="+encodeURIComponent(e[c]));return(!t||t.indexOf("?")===-1?"?":"&")+r.join("&")}var R=/\{ *([\w_ -]+) *\}/g;function J(e,t){return e.replace(R,function(o,r){var c=t[r];if(c===void 0)throw new Error("No value provided for variable "+o);return typeof c=="function"&&(c=c(t)),c})}var z=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};function M(e,t){for(var o=0;o<e.length;o++)if(e[o]===t)return o;return-1}var N="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function G(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}var B=0;function Y(e){var t=+new Date,o=Math.max(0,16-(t-B));return B=t+o,window.setTimeout(e,o)}var E=window.requestAnimationFrame||G("RequestAnimationFrame")||Y,W=window.cancelAnimationFrame||G("CancelAnimationFrame")||G("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)};function oe(e,t,o){if(o&&E===Y)e.call(t);else return E.call(window,p(e,t))}function $(e){e&&W.call(window,e)}var he={__proto__:null,extend:d,create:h,bind:p,get lastId(){return m},stamp:f,throttle:_,wrapNum:x,falseFn:v,formatNum:y,trim:S,splitWords:k,setOptions:A,getParamString:C,template:J,isArray:z,indexOf:M,emptyImageUrl:N,requestFn:E,cancelFn:W,requestAnimFrame:oe,cancelAnimFrame:$};function re(){}re.extend=function(e){var t=function(){A(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},o=t.__super__=this.prototype,r=h(o);r.constructor=t,t.prototype=r;for(var c in this)Object.prototype.hasOwnProperty.call(this,c)&&c!=="prototype"&&c!=="__super__"&&(t[c]=this[c]);return e.statics&&d(t,e.statics),e.includes&&(ve(e.includes),d.apply(null,[r].concat(e.includes))),d(r,e),delete r.statics,delete r.includes,r.options&&(r.options=o.options?h(o.options):{},d(r.options,e.options)),r._initHooks=[],r.callInitHooks=function(){if(!this._initHooksCalled){o.callInitHooks&&o.callInitHooks.call(this),this._initHooksCalled=!0;for(var g=0,w=r._initHooks.length;g<w;g++)r._initHooks[g].call(this)}},t},re.include=function(e){var t=this.prototype.options;return d(this.prototype,e),e.options&&(this.prototype.options=t,this.mergeOptions(e.options)),this},re.mergeOptions=function(e){return d(this.prototype.options,e),this},re.addInitHook=function(e){var t=Array.prototype.slice.call(arguments,1),o=typeof e=="function"?e:function(){this[e].apply(this,t)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(o),this};function ve(e){if(!(typeof L>"u"||!L||!L.Mixin)){e=z(e)?e:[e];for(var t=0;t<e.length;t++)e[t]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var de={on:function(e,t,o){if(typeof e=="object")for(var r in e)this._on(r,e[r],t);else{e=k(e);for(var c=0,g=e.length;c<g;c++)this._on(e[c],t,o)}return this},off:function(e,t,o){if(!arguments.length)delete this._events;else if(typeof e=="object")for(var r in e)this._off(r,e[r],t);else{e=k(e);for(var c=arguments.length===1,g=0,w=e.length;g<w;g++)c?this._off(e[g]):this._off(e[g],t,o)}return this},_on:function(e,t,o,r){if(typeof t!="function"){console.warn("wrong listener type: "+typeof t);return}if(this._listens(e,t,o)===!1){o===this&&(o=void 0);var c={fn:t,ctx:o};r&&(c.once=!0),this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(c)}},_off:function(e,t,o){var r,c,g;if(this._events&&(r=this._events[e],!!r)){if(arguments.length===1){if(this._firingCount)for(c=0,g=r.length;c<g;c++)r[c].fn=v;delete this._events[e];return}if(typeof t!="function"){console.warn("wrong listener type: "+typeof t);return}var w=this._listens(e,t,o);if(w!==!1){var I=r[w];this._firingCount&&(I.fn=v,this._events[e]=r=r.slice()),r.splice(w,1)}}},fire:function(e,t,o){if(!this.listens(e,o))return this;var r=d({},t,{type:e,target:this,sourceTarget:t&&t.sourceTarget||this});if(this._events){var c=this._events[e];if(c){this._firingCount=this._firingCount+1||1;for(var g=0,w=c.length;g<w;g++){var I=c[g],O=I.fn;I.once&&this.off(e,O,I.ctx),O.call(I.ctx||this,r)}this._firingCount--}}return o&&this._propagateEvent(r),this},listens:function(e,t,o,r){typeof e!="string"&&console.warn('"string" type argument expected');var c=t;typeof t!="function"&&(r=!!t,c=void 0,o=void 0);var g=this._events&&this._events[e];if(g&&g.length&&this._listens(e,c,o)!==!1)return!0;if(r){for(var w in this._eventParents)if(this._eventParents[w].listens(e,t,o,r))return!0}return!1},_listens:function(e,t,o){if(!this._events)return!1;var r=this._events[e]||[];if(!t)return!!r.length;o===this&&(o=void 0);for(var c=0,g=r.length;c<g;c++)if(r[c].fn===t&&r[c].ctx===o)return c;return!1},once:function(e,t,o){if(typeof e=="object")for(var r in e)this._on(r,e[r],t,!0);else{e=k(e);for(var c=0,g=e.length;c<g;c++)this._on(e[c],t,o,!0)}return this},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[f(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[f(e)],this},_propagateEvent:function(e){for(var t in this._eventParents)this._eventParents[t].fire(e.type,d({layer:e.target,propagatedFrom:e.target},e),!0)}};de.addEventListener=de.on,de.removeEventListener=de.clearAllEventListeners=de.off,de.addOneTimeEventListener=de.once,de.fireEvent=de.fire,de.hasEventListeners=de.listens;var Le=re.extend(de);function V(e,t,o){this.x=o?Math.round(e):e,this.y=o?Math.round(t):t}var Ie=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};V.prototype={clone:function(){return new V(this.x,this.y)},add:function(e){return this.clone()._add(ae(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(ae(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new V(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new V(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Ie(this.x),this.y=Ie(this.y),this},distanceTo:function(e){e=ae(e);var t=e.x-this.x,o=e.y-this.y;return Math.sqrt(t*t+o*o)},equals:function(e){return e=ae(e),e.x===this.x&&e.y===this.y},contains:function(e){return e=ae(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+y(this.x)+", "+y(this.y)+")"}};function ae(e,t,o){return e instanceof V?e:z(e)?new V(e[0],e[1]):e==null?e:typeof e=="object"&&"x"in e&&"y"in e?new V(e.x,e.y):new V(e,t,o)}function ue(e,t){if(e)for(var o=t?[e,t]:e,r=0,c=o.length;r<c;r++)this.extend(o[r])}ue.prototype={extend:function(e){var t,o;if(!e)return this;if(e instanceof V||typeof e[0]=="number"||"x"in e)t=o=ae(e);else if(e=ke(e),t=e.min,o=e.max,!t||!o)return this;return!this.min&&!this.max?(this.min=t.clone(),this.max=o.clone()):(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(o.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(o.y,this.max.y)),this},getCenter:function(e){return ae((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return ae(this.min.x,this.max.y)},getTopRight:function(){return ae(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var t,o;return typeof e[0]=="number"||e instanceof V?e=ae(e):e=ke(e),e instanceof ue?(t=e.min,o=e.max):t=o=e,t.x>=this.min.x&&o.x<=this.max.x&&t.y>=this.min.y&&o.y<=this.max.y},intersects:function(e){e=ke(e);var t=this.min,o=this.max,r=e.min,c=e.max,g=c.x>=t.x&&r.x<=o.x,w=c.y>=t.y&&r.y<=o.y;return g&&w},overlaps:function(e){e=ke(e);var t=this.min,o=this.max,r=e.min,c=e.max,g=c.x>t.x&&r.x<o.x,w=c.y>t.y&&r.y<o.y;return g&&w},isValid:function(){return!!(this.min&&this.max)},pad:function(e){var t=this.min,o=this.max,r=Math.abs(t.x-o.x)*e,c=Math.abs(t.y-o.y)*e;return ke(ae(t.x-r,t.y-c),ae(o.x+r,o.y+c))},equals:function(e){return e?(e=ke(e),this.min.equals(e.getTopLeft())&&this.max.equals(e.getBottomRight())):!1}};function ke(e,t){return!e||e instanceof ue?e:new ue(e,t)}function U(e,t){if(e)for(var o=t?[e,t]:e,r=0,c=o.length;r<c;r++)this.extend(o[r])}U.prototype={extend:function(e){var t=this._southWest,o=this._northEast,r,c;if(e instanceof T)r=e,c=e;else if(e instanceof U){if(r=e._southWest,c=e._northEast,!r||!c)return this}else return e?this.extend(D(e)||ie(e)):this;return!t&&!o?(this._southWest=new T(r.lat,r.lng),this._northEast=new T(c.lat,c.lng)):(t.lat=Math.min(r.lat,t.lat),t.lng=Math.min(r.lng,t.lng),o.lat=Math.max(c.lat,o.lat),o.lng=Math.max(c.lng,o.lng)),this},pad:function(e){var t=this._southWest,o=this._northEast,r=Math.abs(t.lat-o.lat)*e,c=Math.abs(t.lng-o.lng)*e;return new U(new T(t.lat-r,t.lng-c),new T(o.lat+r,o.lng+c))},getCenter:function(){return new T((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new T(this.getNorth(),this.getWest())},getSouthEast:function(){return new T(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){typeof e[0]=="number"||e instanceof T||"lat"in e?e=D(e):e=ie(e);var t=this._southWest,o=this._northEast,r,c;return e instanceof U?(r=e.getSouthWest(),c=e.getNorthEast()):r=c=e,r.lat>=t.lat&&c.lat<=o.lat&&r.lng>=t.lng&&c.lng<=o.lng},intersects:function(e){e=ie(e);var t=this._southWest,o=this._northEast,r=e.getSouthWest(),c=e.getNorthEast(),g=c.lat>=t.lat&&r.lat<=o.lat,w=c.lng>=t.lng&&r.lng<=o.lng;return g&&w},overlaps:function(e){e=ie(e);var t=this._southWest,o=this._northEast,r=e.getSouthWest(),c=e.getNorthEast(),g=c.lat>t.lat&&r.lat<o.lat,w=c.lng>t.lng&&r.lng<o.lng;return g&&w},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,t){return e?(e=ie(e),this._southWest.equals(e.getSouthWest(),t)&&this._northEast.equals(e.getNorthEast(),t)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ie(e,t){return e instanceof U?e:new U(e,t)}function T(e,t,o){if(isNaN(e)||isNaN(t))throw new Error("Invalid LatLng object: ("+e+", "+t+")");this.lat=+e,this.lng=+t,o!==void 0&&(this.alt=+o)}T.prototype={equals:function(e,t){if(!e)return!1;e=D(e);var o=Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng));return o<=(t===void 0?1e-9:t)},toString:function(e){return"LatLng("+y(this.lat,e)+", "+y(this.lng,e)+")"},distanceTo:function(e){return se.distance(this,D(e))},wrap:function(){return se.wrapLatLng(this)},toBounds:function(e){var t=180*e/40075017,o=t/Math.cos(Math.PI/180*this.lat);return ie([this.lat-t,this.lng-o],[this.lat+t,this.lng+o])},clone:function(){return new T(this.lat,this.lng,this.alt)}};function D(e,t,o){return e instanceof T?e:z(e)&&typeof e[0]!="object"?e.length===3?new T(e[0],e[1],e[2]):e.length===2?new T(e[0],e[1]):null:e==null?e:typeof e=="object"&&"lat"in e?new T(e.lat,"lng"in e?e.lng:e.lon,e.alt):t===void 0?null:new T(e,t,o)}var Q={latLngToPoint:function(e,t){var o=this.projection.project(e),r=this.scale(t);return this.transformation._transform(o,r)},pointToLatLng:function(e,t){var o=this.scale(t),r=this.transformation.untransform(e,o);return this.projection.unproject(r)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var t=this.projection.bounds,o=this.scale(e),r=this.transformation.transform(t.min,o),c=this.transformation.transform(t.max,o);return new ue(r,c)},infinite:!1,wrapLatLng:function(e){var t=this.wrapLng?x(e.lng,this.wrapLng,!0):e.lng,o=this.wrapLat?x(e.lat,this.wrapLat,!0):e.lat,r=e.alt;return new T(o,t,r)},wrapLatLngBounds:function(e){var t=e.getCenter(),o=this.wrapLatLng(t),r=t.lat-o.lat,c=t.lng-o.lng;if(r===0&&c===0)return e;var g=e.getSouthWest(),w=e.getNorthEast(),I=new T(g.lat-r,g.lng-c),O=new T(w.lat-r,w.lng-c);return new U(I,O)}},se=d({},Q,{wrapLng:[-180,180],R:6371e3,distance:function(e,t){var o=Math.PI/180,r=e.lat*o,c=t.lat*o,g=Math.sin((t.lat-e.lat)*o/2),w=Math.sin((t.lng-e.lng)*o/2),I=g*g+Math.cos(r)*Math.cos(c)*w*w,O=2*Math.atan2(Math.sqrt(I),Math.sqrt(1-I));return this.R*O}}),me=6378137,Ee={R:me,MAX_LATITUDE:85.0511287798,project:function(e){var t=Math.PI/180,o=this.MAX_LATITUDE,r=Math.max(Math.min(o,e.lat),-o),c=Math.sin(r*t);return new V(this.R*e.lng*t,this.R*Math.log((1+c)/(1-c))/2)},unproject:function(e){var t=180/Math.PI;return new T((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*t,e.x*t/this.R)},bounds:function(){var e=me*Math.PI;return new ue([-e,-e],[e,e])}()};function nt(e,t,o,r){if(z(e)){this._a=e[0],this._b=e[1],this._c=e[2],this._d=e[3];return}this._a=e,this._b=t,this._c=o,this._d=r}nt.prototype={transform:function(e,t){return this._transform(e.clone(),t)},_transform:function(e,t){return t=t||1,e.x=t*(this._a*e.x+this._b),e.y=t*(this._c*e.y+this._d),e},untransform:function(e,t){return t=t||1,new V((e.x/t-this._b)/this._a,(e.y/t-this._d)/this._c)}};function Oe(e,t,o,r){return new nt(e,t,o,r)}var Me=d({},se,{code:"EPSG:3857",projection:Ee,transformation:function(){var e=.5/(Math.PI*Ee.R);return Oe(e,.5,-e,.5)}()}),Fe=d({},Me,{code:"EPSG:900913"});function rt(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function at(e,t){var o="",r,c,g,w,I,O;for(r=0,g=e.length;r<g;r++){for(I=e[r],c=0,w=I.length;c<w;c++)O=I[c],o+=(c?"L":"M")+O.x+" "+O.y;o+=t?pe.svg?"z":"x":""}return o||"M0 0"}var le=document.documentElement.style,Pe="ActiveXObject"in window,we=Pe&&!document.addEventListener,ut="msLaunchUri"in navigator&&!("documentMode"in document),lt=qe("webkit"),kt=qe("android"),St=qe("android 2")||qe("android 3"),ht=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Yt=kt&&qe("Google")&&ht<537&&!("AudioNode"in window),Pt=!!window.opera,pt=!ut&&qe("chrome"),Ve=qe("gecko")&&!lt&&!Pt&&!Pe,Ge=!pt&&qe("safari"),Re=qe("phantom"),dt="OTransition"in le,xt=navigator.platform.indexOf("Win")===0,mt=Pe&&"transition"in le,Gt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!St,Lt="MozPerspective"in le,Et=!window.L_DISABLE_3D&&(mt||Gt||Lt)&&!dt&&!Re,Ot=typeof orientation<"u"||qe("mobile"),en=Ot&&lt,Kt=Ot&&Gt,Zt=!window.PointerEvent&&window.MSPointerEvent,ce=!!(window.PointerEvent||Zt),P="ontouchstart"in window||!!window.TouchEvent,H=!window.L_NO_TOUCH&&(P||ce),fe=Ot&&Pt,Qe=Ot&&Ve,Ze=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,De=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveEventSupport",v,t),window.removeEventListener("testPassiveEventSupport",v,t)}catch{}return e}(),Ue=function(){return!!document.createElement("canvas").getContext}(),X=!!(document.createElementNS&&rt("svg").createSVGRect),q=!!X&&function(){var e=document.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),te=!X&&function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var t=e.firstChild;return t.style.behavior="url(#default#VML)",t&&typeof t.adj=="object"}catch{return!1}}(),ne=navigator.platform.indexOf("Mac")===0,He=navigator.platform.indexOf("Linux")===0;function qe(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}var pe={ie:Pe,ielt9:we,edge:ut,webkit:lt,android:kt,android23:St,androidStock:Yt,opera:Pt,chrome:pt,gecko:Ve,safari:Ge,phantom:Re,opera12:dt,win:xt,ie3d:mt,webkit3d:Gt,gecko3d:Lt,any3d:Et,mobile:Ot,mobileWebkit:en,mobileWebkit3d:Kt,msPointer:Zt,pointer:ce,touch:H,touchNative:P,mobileOpera:fe,mobileGecko:Qe,retina:Ze,passiveEvents:De,canvas:Ue,svg:X,vml:te,inlineSvg:q,mac:ne,linux:He},Tt=pe.msPointer?"MSPointerDown":"pointerdown",Rt=pe.msPointer?"MSPointerMove":"pointermove",ft=pe.msPointer?"MSPointerUp":"pointerup",it=pe.msPointer?"MSPointerCancel":"pointercancel",Jt={touchstart:Tt,touchmove:Rt,touchend:ft,touchcancel:it},tn={touchstart:fi,touchmove:In,touchend:In,touchcancel:In},Z={},F=!1;function xe(e,t,o){return t==="touchstart"&&nn(),tn[t]?(o=tn[t].bind(this,o),e.addEventListener(Jt[t],o,!1),o):(console.warn("wrong event specified:",t),v)}function $e(e,t,o){if(!Jt[t]){console.warn("wrong event specified:",t);return}e.removeEventListener(Jt[t],o,!1)}function Ke(e){Z[e.pointerId]=e}function gt(e){Z[e.pointerId]&&(Z[e.pointerId]=e)}function It(e){delete Z[e.pointerId]}function nn(){F||(document.addEventListener(Tt,Ke,!0),document.addEventListener(Rt,gt,!0),document.addEventListener(ft,It,!0),document.addEventListener(it,It,!0),F=!0)}function In(e,t){if(t.pointerType!==(t.MSPOINTER_TYPE_MOUSE||"mouse")){t.touches=[];for(var o in Z)t.touches.push(Z[o]);t.changedTouches=[t],e(t)}}function fi(e,t){t.MSPOINTER_TYPE_TOUCH&&t.pointerType===t.MSPOINTER_TYPE_TOUCH&&rn(t),In(e,t)}function gi(e){var t={},o,r;for(r in e)o=e[r],t[r]=o&&o.bind?o.bind(e):o;return e=t,t.type="dblclick",t.detail=2,t.isTrusted=!1,t._simulated=!0,t}var Sn=200;function Vt(e,t){e.addEventListener("dblclick",t);var o=0,r;function c(g){if(g.detail!==1){r=g.detail;return}if(!(g.pointerType==="mouse"||g.sourceCapabilities&&!g.sourceCapabilities.firesTouchEvents)){var w=Ar(g);if(!(w.some(function(O){return O instanceof HTMLLabelElement&&O.attributes.for})&&!w.some(function(O){return O instanceof HTMLInputElement||O instanceof HTMLSelectElement}))){var I=Date.now();I-o<=Sn?(r++,r===2&&t(gi(g))):r=1,o=I}}}return e.addEventListener("click",c),{dblclick:t,simDblclick:c}}function We(e,t){e.removeEventListener("dblclick",t.dblclick),e.removeEventListener("click",t.simDblclick)}var Ut=vi(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),sn=vi(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),wn=sn==="webkitTransition"||sn==="OTransition"?sn+"End":"transitionend";function mn(e){return typeof e=="string"?document.getElementById(e):e}function $n(e,t){var o=e.style[t]||e.currentStyle&&e.currentStyle[t];if((!o||o==="auto")&&document.defaultView){var r=document.defaultView.getComputedStyle(e,null);o=r?r[t]:null}return o==="auto"?null:o}function et(e,t,o){var r=document.createElement(e);return r.className=t||"",o&&o.appendChild(r),r}function At(e){var t=e.parentNode;t&&t.removeChild(e)}function fn(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function Gn(e){var t=e.parentNode;t&&t.lastChild!==e&&t.appendChild(e)}function Jn(e){var t=e.parentNode;t&&t.firstChild!==e&&t.insertBefore(e,t.firstChild)}function Bi(e,t){if(e.classList!==void 0)return e.classList.contains(t);var o=yi(e);return o.length>0&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(o)}function Je(e,t){if(e.classList!==void 0)for(var o=k(t),r=0,c=o.length;r<c;r++)e.classList.add(o[r]);else if(!Bi(e,t)){var g=yi(e);ii(e,(g?g+" ":"")+t)}}function zt(e,t){e.classList!==void 0?e.classList.remove(t):ii(e,S((" "+yi(e)+" ").replace(" "+t+" "," ")))}function ii(e,t){e.className.baseVal===void 0?e.className=t:e.className.baseVal=t}function yi(e){return e.correspondingElement&&(e=e.correspondingElement),e.className.baseVal===void 0?e.className:e.className.baseVal}function dn(e,t){"opacity"in e.style?e.style.opacity=t:"filter"in e.style&&cs(e,t)}function cs(e,t){var o=!1,r="DXImageTransform.Microsoft.Alpha";try{o=e.filters.item(r)}catch{if(t===1)return}t=Math.round(t*100),o?(o.Enabled=t!==100,o.Opacity=t):e.style.filter+=" progid:"+r+"(opacity="+t+")"}function vi(e){for(var t=document.documentElement.style,o=0;o<e.length;o++)if(e[o]in t)return e[o];return!1}function Cn(e,t,o){var r=t||new V(0,0);e.style[Ut]=(pe.ie3d?"translate("+r.x+"px,"+r.y+"px)":"translate3d("+r.x+"px,"+r.y+"px,0)")+(o?" scale("+o+")":"")}function Ht(e,t){e._leaflet_pos=t,pe.any3d?Cn(e,t):(e.style.left=t.x+"px",e.style.top=t.y+"px")}function Mn(e){return e._leaflet_pos||new V(0,0)}var Vn,Tn,Fi;if("onselectstart"in document)Vn=function(){Te(window,"selectstart",rn)},Tn=function(){tt(window,"selectstart",rn)};else{var Dn=vi(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Vn=function(){if(Dn){var e=document.documentElement.style;Fi=e[Dn],e[Dn]="none"}},Tn=function(){Dn&&(document.documentElement.style[Dn]=Fi,Fi=void 0)}}function Wi(){Te(window,"dragstart",rn)}function b(){tt(window,"dragstart",rn)}var j,ge;function be(e){for(;e.tabIndex===-1;)e=e.parentNode;e.style&&(Ce(),j=e,ge=e.style.outlineStyle,e.style.outlineStyle="none",Te(window,"keydown",Ce))}function Ce(){j&&(j.style.outlineStyle=ge,j=void 0,ge=void 0,tt(window,"keydown",Ce))}function ze(e){do e=e.parentNode;while((!e.offsetWidth||!e.offsetHeight)&&e!==document.body);return e}function Ne(e){var t=e.getBoundingClientRect();return{x:t.width/e.offsetWidth||1,y:t.height/e.offsetHeight||1,boundingClientRect:t}}var yt={__proto__:null,TRANSFORM:Ut,TRANSITION:sn,TRANSITION_END:wn,get:mn,getStyle:$n,create:et,remove:At,empty:fn,toFront:Gn,toBack:Jn,hasClass:Bi,addClass:Je,removeClass:zt,setClass:ii,getClass:yi,setOpacity:dn,testProp:vi,setTransform:Cn,setPosition:Ht,getPosition:Mn,get disableTextSelection(){return Vn},get enableTextSelection(){return Tn},disableImageDrag:Wi,enableImageDrag:b,preventOutline:be,restoreOutline:Ce,getSizedParentNode:ze,getScale:Ne};function Te(e,t,o,r){if(t&&typeof t=="object")for(var c in t)_i(e,c,t[c],o);else{t=k(t);for(var g=0,w=t.length;g<w;g++)_i(e,t[g],o,r)}return this}var Mt="_leaflet_events";function tt(e,t,o,r){if(arguments.length===1)xi(e),delete e[Mt];else if(t&&typeof t=="object")for(var c in t)us(e,c,t[c],o);else if(t=k(t),arguments.length===2)xi(e,function(I){return M(t,I)!==-1});else for(var g=0,w=t.length;g<w;g++)us(e,t[g],o,r);return this}function xi(e,t){for(var o in e[Mt]){var r=o.split(/\d/)[0];(!t||t(r))&&us(e,r,null,null,o)}}var Un={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function _i(e,t,o,r){var c=t+f(o)+(r?"_"+f(r):"");if(e[Mt]&&e[Mt][c])return this;var g=function(I){return o.call(r||e,I||window.event)},w=g;!pe.touchNative&&pe.pointer&&t.indexOf("touch")===0?g=xe(e,t,g):pe.touch&&t==="dblclick"?g=Vt(e,g):"addEventListener"in e?t==="touchstart"||t==="touchmove"||t==="wheel"||t==="mousewheel"?e.addEventListener(Un[t]||t,g,pe.passiveEvents?{passive:!1}:!1):t==="mouseenter"||t==="mouseleave"?(g=function(I){I=I||window.event,ps(e,I)&&w(I)},e.addEventListener(Un[t],g,!1)):e.addEventListener(t,w,!1):e.attachEvent("on"+t,g),e[Mt]=e[Mt]||{},e[Mt][c]=g}function us(e,t,o,r,c){c=c||t+f(o)+(r?"_"+f(r):"");var g=e[Mt]&&e[Mt][c];if(!g)return this;!pe.touchNative&&pe.pointer&&t.indexOf("touch")===0?$e(e,t,g):pe.touch&&t==="dblclick"?We(e,g):"removeEventListener"in e?e.removeEventListener(Un[t]||t,g,!1):e.detachEvent("on"+t,g),e[Mt][c]=null}function oi(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,this}function ds(e){return _i(e,"wheel",oi),this}function Zi(e){return Te(e,"mousedown touchstart dblclick contextmenu",oi),e._leaflet_disable_click=!0,this}function rn(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function si(e){return rn(e),oi(e),this}function Ar(e){if(e.composedPath)return e.composedPath();for(var t=[],o=e.target;o;)t.push(o),o=o.parentNode;return t}function kr(e,t){if(!t)return new V(e.clientX,e.clientY);var o=Ne(t),r=o.boundingClientRect;return new V((e.clientX-r.left)/o.x-t.clientLeft,(e.clientY-r.top)/o.y-t.clientTop)}var mc=pe.linux&&pe.chrome?window.devicePixelRatio:pe.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Pr(e){return pe.edge?e.wheelDeltaY/2:e.deltaY&&e.deltaMode===0?-e.deltaY/mc:e.deltaY&&e.deltaMode===1?-e.deltaY*20:e.deltaY&&e.deltaMode===2?-e.deltaY*60:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?-e.detail*20:e.detail?e.detail/-32765*60:0}function ps(e,t){var o=t.relatedTarget;if(!o)return!0;try{for(;o&&o!==e;)o=o.parentNode}catch{return!1}return o!==e}var fc={__proto__:null,on:Te,off:tt,stopPropagation:oi,disableScrollPropagation:ds,disableClickPropagation:Zi,preventDefault:rn,stop:si,getPropagationPath:Ar,getMousePosition:kr,getWheelDelta:Pr,isExternalTarget:ps,addListener:Te,removeListener:tt},Ir=Le.extend({run:function(e,t,o,r){this.stop(),this._el=e,this._inProgress=!0,this._duration=o||.25,this._easeOutPower=1/Math.max(r||.5,.2),this._startPos=Mn(e),this._offset=t.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=oe(this._animate,this),this._step()},_step:function(e){var t=+new Date-this._startTime,o=this._duration*1e3;t<o?this._runFrame(this._easeOut(t/o),e):(this._runFrame(1),this._complete())},_runFrame:function(e,t){var o=this._startPos.add(this._offset.multiplyBy(e));t&&o._round(),Ht(this._el,o),this.fire("step")},_complete:function(){$(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),ct=Le.extend({options:{crs:Me,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,t){t=A(this,t),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(e),this._initLayout(),this._onResize=p(this._onResize,this),this._initEvents(),t.maxBounds&&this.setMaxBounds(t.maxBounds),t.zoom!==void 0&&(this._zoom=this._limitZoom(t.zoom)),t.center&&t.zoom!==void 0&&this.setView(D(t.center),t.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=sn&&pe.any3d&&!pe.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Te(this._proxy,wn,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,t,o){if(t=t===void 0?this._zoom:this._limitZoom(t),e=this._limitCenter(D(e),t,this.options.maxBounds),o=o||{},this._stop(),this._loaded&&!o.reset&&o!==!0){o.animate!==void 0&&(o.zoom=d({animate:o.animate},o.zoom),o.pan=d({animate:o.animate,duration:o.duration},o.pan));var r=this._zoom!==t?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,t,o.zoom):this._tryAnimatedPan(e,o.pan);if(r)return clearTimeout(this._sizeTimer),this}return this._resetView(e,t,o.pan&&o.pan.noMoveStart),this},setZoom:function(e,t){return this._loaded?this.setView(this.getCenter(),e,{zoom:t}):(this._zoom=e,this)},zoomIn:function(e,t){return e=e||(pe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+e,t)},zoomOut:function(e,t){return e=e||(pe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-e,t)},setZoomAround:function(e,t,o){var r=this.getZoomScale(t),c=this.getSize().divideBy(2),g=e instanceof V?e:this.latLngToContainerPoint(e),w=g.subtract(c).multiplyBy(1-1/r),I=this.containerPointToLatLng(c.add(w));return this.setView(I,t,{zoom:o})},_getBoundsCenterZoom:function(e,t){t=t||{},e=e.getBounds?e.getBounds():ie(e);var o=ae(t.paddingTopLeft||t.padding||[0,0]),r=ae(t.paddingBottomRight||t.padding||[0,0]),c=this.getBoundsZoom(e,!1,o.add(r));if(c=typeof t.maxZoom=="number"?Math.min(t.maxZoom,c):c,c===1/0)return{center:e.getCenter(),zoom:c};var g=r.subtract(o).divideBy(2),w=this.project(e.getSouthWest(),c),I=this.project(e.getNorthEast(),c),O=this.unproject(w.add(I).divideBy(2).add(g),c);return{center:O,zoom:c}},fitBounds:function(e,t){if(e=ie(e),!e.isValid())throw new Error("Bounds are not valid.");var o=this._getBoundsCenterZoom(e,t);return this.setView(o.center,o.zoom,t)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,t){return this.setView(e,this._zoom,{pan:t})},panBy:function(e,t){if(e=ae(e).round(),t=t||{},!e.x&&!e.y)return this.fire("moveend");if(t.animate!==!0&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ir,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),t.noMoveStart||this.fire("movestart"),t.animate!==!1){Je(this._mapPane,"leaflet-pan-anim");var o=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,o,t.duration||.25,t.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},flyTo:function(e,t,o){if(o=o||{},o.animate===!1||!pe.any3d)return this.setView(e,t,o);this._stop();var r=this.project(this.getCenter()),c=this.project(e),g=this.getSize(),w=this._zoom;e=D(e),t=t===void 0?w:t;var I=Math.max(g.x,g.y),O=I*this.getZoomScale(w,t),ee=c.distanceTo(r)||1,_e=1.42,je=_e*_e;function ot(Xt){var Co=Xt?-1:1,iu=Xt?O:I,ou=O*O-I*I+Co*je*je*ee*ee,su=2*iu*je*ee,ws=ou/su,ca=Math.sqrt(ws*ws+1)-ws,ru=ca<1e-9?-18:Math.log(ca);return ru}function cn(Xt){return(Math.exp(Xt)-Math.exp(-Xt))/2}function on(Xt){return(Math.exp(Xt)+Math.exp(-Xt))/2}function _n(Xt){return cn(Xt)/on(Xt)}var pn=ot(0);function Ai(Xt){return I*(on(pn)/on(pn+_e*Xt))}function Qc(Xt){return I*(on(pn)*_n(pn+_e*Xt)-cn(pn))/je}function eu(Xt){return 1-Math.pow(1-Xt,1.5)}var tu=Date.now(),aa=(ot(1)-pn)/_e,nu=o.duration?1e3*o.duration:1e3*aa*.8;function la(){var Xt=(Date.now()-tu)/nu,Co=eu(Xt)*aa;Xt<=1?(this._flyToFrame=oe(la,this),this._move(this.unproject(r.add(c.subtract(r).multiplyBy(Qc(Co)/ee)),w),this.getScaleZoom(I/Ai(Co),w),{flyTo:!0})):this._move(e,t)._moveEnd(!0)}return this._moveStart(!0,o.noMoveStart),la.call(this),this},flyToBounds:function(e,t){var o=this._getBoundsCenterZoom(e,t);return this.flyTo(o.center,o.zoom,t)},setMaxBounds:function(e){return e=ie(e),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),e.isValid()?(this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(e){var t=this.options.minZoom;return this.options.minZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var t=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,t){this._enforcingBounds=!0;var o=this.getCenter(),r=this._limitCenter(o,this._zoom,ie(e));return o.equals(r)||this.panTo(r,t),this._enforcingBounds=!1,this},panInside:function(e,t){t=t||{};var o=ae(t.paddingTopLeft||t.padding||[0,0]),r=ae(t.paddingBottomRight||t.padding||[0,0]),c=this.project(this.getCenter()),g=this.project(e),w=this.getPixelBounds(),I=ke([w.min.add(o),w.max.subtract(r)]),O=I.getSize();if(!I.contains(g)){this._enforcingBounds=!0;var ee=g.subtract(I.getCenter()),_e=I.extend(g).getSize().subtract(O);c.x+=ee.x<0?-_e.x:_e.x,c.y+=ee.y<0?-_e.y:_e.y,this.panTo(this.unproject(c),t),this._enforcingBounds=!1}return this},invalidateSize:function(e){if(!this._loaded)return this;e=d({animate:!1,pan:!0},e===!0?{animate:!0}:e);var t=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var o=this.getSize(),r=t.divideBy(2).round(),c=o.divideBy(2).round(),g=r.subtract(c);return!g.x&&!g.y?this:(e.animate&&e.pan?this.panBy(g):(e.pan&&this._rawPanBy(g),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(p(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:t,newSize:o}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=d({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var t=p(this._handleGeolocationResponse,this),o=p(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(t,o,e):navigator.geolocation.getCurrentPosition(t,o,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){if(this._container._leaflet_id){var t=e.code,o=e.message||(t===1?"permission denied":t===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:t,message:"Geolocation error: "+o+"."})}},_handleGeolocationResponse:function(e){if(this._container._leaflet_id){var t=e.coords.latitude,o=e.coords.longitude,r=new T(t,o),c=r.toBounds(e.coords.accuracy*2),g=this._locateOptions;if(g.setView){var w=this.getBoundsZoom(c);this.setView(r,g.maxZoom?Math.min(w,g.maxZoom):w)}var I={latlng:r,bounds:c,timestamp:e.timestamp};for(var O in e.coords)typeof e.coords[O]=="number"&&(I[O]=e.coords[O]);this.fire("locationfound",I)}},addHandler:function(e,t){if(!t)return this;var o=this[e]=new t(this);return this._handlers.push(o),this.options[e]&&o.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),At(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&($(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var e;for(e in this._layers)this._layers[e].remove();for(e in this._panes)At(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,t){var o="leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),r=et("div",o,t||this._mapPane);return e&&(this._panes[e]=r),r},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds(),t=this.unproject(e.getBottomLeft()),o=this.unproject(e.getTopRight());return new U(t,o)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,t,o){e=ie(e),o=ae(o||[0,0]);var r=this.getZoom()||0,c=this.getMinZoom(),g=this.getMaxZoom(),w=e.getNorthWest(),I=e.getSouthEast(),O=this.getSize().subtract(o),ee=ke(this.project(I,r),this.project(w,r)).getSize(),_e=pe.any3d?this.options.zoomSnap:1,je=O.x/ee.x,ot=O.y/ee.y,cn=t?Math.max(je,ot):Math.min(je,ot);return r=this.getScaleZoom(cn,r),_e&&(r=Math.round(r/(_e/100))*(_e/100),r=t?Math.ceil(r/_e)*_e:Math.floor(r/_e)*_e),Math.max(c,Math.min(g,r))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new V(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,t){var o=this._getTopLeftPoint(e,t);return new ue(o,o.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(e===void 0?this.getZoom():e)},getPane:function(e){return typeof e=="string"?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,t){var o=this.options.crs;return t=t===void 0?this._zoom:t,o.scale(e)/o.scale(t)},getScaleZoom:function(e,t){var o=this.options.crs;t=t===void 0?this._zoom:t;var r=o.zoom(e*o.scale(t));return isNaN(r)?1/0:r},project:function(e,t){return t=t===void 0?this._zoom:t,this.options.crs.latLngToPoint(D(e),t)},unproject:function(e,t){return t=t===void 0?this._zoom:t,this.options.crs.pointToLatLng(ae(e),t)},layerPointToLatLng:function(e){var t=ae(e).add(this.getPixelOrigin());return this.unproject(t)},latLngToLayerPoint:function(e){var t=this.project(D(e))._round();return t._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(D(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(ie(e))},distance:function(e,t){return this.options.crs.distance(D(e),D(t))},containerPointToLayerPoint:function(e){return ae(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return ae(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var t=this.containerPointToLayerPoint(ae(e));return this.layerPointToLatLng(t)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(D(e)))},mouseEventToContainerPoint:function(e){return kr(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var t=this._container=mn(e);if(t){if(t._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Te(t,"scroll",this._onScroll,this),this._containerId=f(t)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&pe.any3d,Je(e,"leaflet-container"+(pe.touch?" leaflet-touch":"")+(pe.retina?" leaflet-retina":"")+(pe.ielt9?" leaflet-oldie":"")+(pe.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var t=$n(e,"position");t!=="absolute"&&t!=="relative"&&t!=="fixed"&&t!=="sticky"&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ht(this._mapPane,new V(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Je(e.markerPane,"leaflet-zoom-hide"),Je(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,t,o){Ht(this._mapPane,new V(0,0));var r=!this._loaded;this._loaded=!0,t=this._limitZoom(t),this.fire("viewprereset");var c=this._zoom!==t;this._moveStart(c,o)._move(e,t)._moveEnd(c),this.fire("viewreset"),r&&this.fire("load")},_moveStart:function(e,t){return e&&this.fire("zoomstart"),t||this.fire("movestart"),this},_move:function(e,t,o,r){t===void 0&&(t=this._zoom);var c=this._zoom!==t;return this._zoom=t,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),r?o&&o.pinch&&this.fire("zoom",o):((c||o&&o.pinch)&&this.fire("zoom",o),this.fire("move",o)),this},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return $(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){Ht(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={},this._targets[f(this._container)]=this;var t=e?tt:Te;t(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&t(window,"resize",this._onResize,this),pe.any3d&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){$(this._resizeRequest),this._resizeRequest=oe(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,t){for(var o=[],r,c=t==="mouseout"||t==="mouseover",g=e.target||e.srcElement,w=!1;g;){if(r=this._targets[f(g)],r&&(t==="click"||t==="preclick")&&this._draggableMoved(r)){w=!0;break}if(r&&r.listens(t,!0)&&(c&&!ps(g,e)||(o.push(r),c))||g===this._container)break;g=g.parentNode}return!o.length&&!w&&!c&&this.listens(t,!0)&&(o=[this]),o},_isClickDisabled:function(e){for(;e&&e!==this._container;){if(e._leaflet_disable_click)return!0;e=e.parentNode}},_handleDOMEvent:function(e){var t=e.target||e.srcElement;if(!(!this._loaded||t._leaflet_disable_events||e.type==="click"&&this._isClickDisabled(t))){var o=e.type;o==="mousedown"&&be(t),this._fireDOMEvent(e,o)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,t,o){if(e.type==="click"){var r=d({},e);r.type="preclick",this._fireDOMEvent(r,r.type,o)}var c=this._findEventTargets(e,t);if(o){for(var g=[],w=0;w<o.length;w++)o[w].listens(t,!0)&&g.push(o[w]);c=g.concat(c)}if(c.length){t==="contextmenu"&&rn(e);var I=c[0],O={originalEvent:e};if(e.type!=="keypress"&&e.type!=="keydown"&&e.type!=="keyup"){var ee=I.getLatLng&&(!I._radius||I._radius<=10);O.containerPoint=ee?this.latLngToContainerPoint(I.getLatLng()):this.mouseEventToContainerPoint(e),O.layerPoint=this.containerPointToLayerPoint(O.containerPoint),O.latlng=ee?I.getLatLng():this.layerPointToLatLng(O.layerPoint)}for(w=0;w<c.length;w++)if(c[w].fire(t,O,!0),O.originalEvent._stopped||c[w].options.bubblingMouseEvents===!1&&M(this._mouseEvents,t)!==-1)return}},_draggableMoved:function(e){return e=e.dragging&&e.dragging.enabled()?e:this,e.dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,t=this._handlers.length;e<t;e++)this._handlers[e].disable()},whenReady:function(e,t){return this._loaded?e.call(t||this,{target:this}):this.on("load",e,t),this},_getMapPanePos:function(){return Mn(this._mapPane)||new V(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,t){var o=e&&t!==void 0?this._getNewPixelOrigin(e,t):this.getPixelOrigin();return o.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,t){var o=this.getSize()._divideBy(2);return this.project(e,t)._subtract(o)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,t,o){var r=this._getNewPixelOrigin(o,t);return this.project(e,t)._subtract(r)},_latLngBoundsToNewLayerBounds:function(e,t,o){var r=this._getNewPixelOrigin(o,t);return ke([this.project(e.getSouthWest(),t)._subtract(r),this.project(e.getNorthWest(),t)._subtract(r),this.project(e.getSouthEast(),t)._subtract(r),this.project(e.getNorthEast(),t)._subtract(r)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,t,o){if(!o)return e;var r=this.project(e,t),c=this.getSize().divideBy(2),g=new ue(r.subtract(c),r.add(c)),w=this._getBoundsOffset(g,o,t);return Math.abs(w.x)<=1&&Math.abs(w.y)<=1?e:this.unproject(r.add(w),t)},_limitOffset:function(e,t){if(!t)return e;var o=this.getPixelBounds(),r=new ue(o.min.add(e),o.max.add(e));return e.add(this._getBoundsOffset(r,t))},_getBoundsOffset:function(e,t,o){var r=ke(this.project(t.getNorthEast(),o),this.project(t.getSouthWest(),o)),c=r.min.subtract(e.min),g=r.max.subtract(e.max),w=this._rebound(c.x,-g.x),I=this._rebound(c.y,-g.y);return new V(w,I)},_rebound:function(e,t){return e+t>0?Math.round(e-t)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(t))},_limitZoom:function(e){var t=this.getMinZoom(),o=this.getMaxZoom(),r=pe.any3d?this.options.zoomSnap:1;return r&&(e=Math.round(e/r)*r),Math.max(t,Math.min(o,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){zt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,t){var o=this._getCenterOffset(e)._trunc();return(t&&t.animate)!==!0&&!this.getSize().contains(o)?!1:(this.panBy(o,t),!0)},_createAnimProxy:function(){var e=this._proxy=et("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",function(t){var o=Ut,r=this._proxy.style[o];Cn(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),r===this._proxy.style[o]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){At(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var e=this.getCenter(),t=this.getZoom();Cn(this._proxy,this.project(e,t),this.getZoomScale(t,1))},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,t,o){if(this._animatingZoom)return!0;if(o=o||{},!this._zoomAnimated||o.animate===!1||this._nothingToAnimate()||Math.abs(t-this._zoom)>this.options.zoomAnimationThreshold)return!1;var r=this.getZoomScale(t),c=this._getCenterOffset(e)._divideBy(1-1/r);return o.animate!==!0&&!this.getSize().contains(c)?!1:(oe(function(){this._moveStart(!0,o.noMoveStart||!1)._animateZoom(e,t,!0)},this),!0)},_animateZoom:function(e,t,o,r){this._mapPane&&(o&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=t,Je(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:t,noUpdate:r}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(p(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&zt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function gc(e,t){return new ct(e,t)}var An=re.extend({options:{position:"topright"},initialize:function(e){A(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var t=this._map;return t&&t.removeControl(this),this.options.position=e,t&&t.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var t=this._container=this.onAdd(e),o=this.getPosition(),r=e._controlCorners[o];return Je(t,"leaflet-control"),o.indexOf("bottom")!==-1?r.insertBefore(t,r.firstChild):r.appendChild(t),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(At(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),Hi=function(e){return new An(e)};ct.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){var e=this._controlCorners={},t="leaflet-",o=this._controlContainer=et("div",t+"control-container",this._container);function r(c,g){var w=t+c+" "+t+g;e[c+g]=et("div",w,o)}r("top","left"),r("top","right"),r("bottom","left"),r("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)At(this._controlCorners[e]);At(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Mr=An.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,t,o,r){return o<r?-1:r<o?1:0}},initialize:function(e,t,o){A(this,o),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var r in e)this._addLayer(e[r],r);for(r in t)this._addLayer(t[r],r,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return An.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,t){return this._addLayer(e,t),this._map?this._update():this},addOverlay:function(e,t){return this._addLayer(e,t,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var t=this._getLayer(f(e));return t&&this._layers.splice(this._layers.indexOf(t),1),this._map?this._update():this},expand:function(){Je(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._section.clientHeight?(Je(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=e+"px"):zt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return zt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",t=this._container=et("div",e),o=this.options.collapsed;t.setAttribute("aria-haspopup",!0),Zi(t),ds(t);var r=this._section=et("section",e+"-list");o&&(this._map.on("click",this.collapse,this),Te(t,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var c=this._layersLink=et("a",e+"-toggle",t);c.href="#",c.title="Layers",c.setAttribute("role","button"),Te(c,{keydown:function(g){g.keyCode===13&&this._expandSafely()},click:function(g){rn(g),this._expandSafely()}},this),o||this.expand(),this._baseLayersList=et("div",e+"-base",r),this._separator=et("div",e+"-separator",r),this._overlaysList=et("div",e+"-overlays",r),t.appendChild(r)},_getLayer:function(e){for(var t=0;t<this._layers.length;t++)if(this._layers[t]&&f(this._layers[t].layer)===e)return this._layers[t]},_addLayer:function(e,t,o){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:t,overlay:o}),this.options.sortLayers&&this._layers.sort(p(function(r,c){return this.options.sortFunction(r.layer,c.layer,r.name,c.name)},this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;fn(this._baseLayersList),fn(this._overlaysList),this._layerControlInputs=[];var e,t,o,r,c=0;for(o=0;o<this._layers.length;o++)r=this._layers[o],this._addItem(r),t=t||r.overlay,e=e||!r.overlay,c+=r.overlay?0:1;return this.options.hideSingleBase&&(e=e&&c>1,this._baseLayersList.style.display=e?"":"none"),this._separator.style.display=t&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var t=this._getLayer(f(e.target)),o=t.overlay?e.type==="add"?"overlayadd":"overlayremove":e.type==="add"?"baselayerchange":null;o&&this._map.fire(o,t)},_createRadioElement:function(e,t){var o='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(t?' checked="checked"':"")+"/>",r=document.createElement("div");return r.innerHTML=o,r.firstChild},_addItem:function(e){var t=document.createElement("label"),o=this._map.hasLayer(e.layer),r;e.overlay?(r=document.createElement("input"),r.type="checkbox",r.className="leaflet-control-layers-selector",r.defaultChecked=o):r=this._createRadioElement("leaflet-base-layers_"+f(this),o),this._layerControlInputs.push(r),r.layerId=f(e.layer),Te(r,"click",this._onInputClick,this);var c=document.createElement("span");c.innerHTML=" "+e.name;var g=document.createElement("span");t.appendChild(g),g.appendChild(r),g.appendChild(c);var w=e.overlay?this._overlaysList:this._baseLayersList;return w.appendChild(t),this._checkDisabledLayers(),t},_onInputClick:function(){if(!this._preventClick){var e=this._layerControlInputs,t,o,r=[],c=[];this._handlingClick=!0;for(var g=e.length-1;g>=0;g--)t=e[g],o=this._getLayer(t.layerId).layer,t.checked?r.push(o):t.checked||c.push(o);for(g=0;g<c.length;g++)this._map.hasLayer(c[g])&&this._map.removeLayer(c[g]);for(g=0;g<r.length;g++)this._map.hasLayer(r[g])||this._map.addLayer(r[g]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var e=this._layerControlInputs,t,o,r=this._map.getZoom(),c=e.length-1;c>=0;c--)t=e[c],o=this._getLayer(t.layerId).layer,t.disabled=o.options.minZoom!==void 0&&r<o.options.minZoom||o.options.maxZoom!==void 0&&r>o.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var e=this._section;this._preventClick=!0,Te(e,"click",rn),this.expand();var t=this;setTimeout(function(){tt(e,"click",rn),t._preventClick=!1})}}),yc=function(e,t,o){return new Mr(e,t,o)},hs=An.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(e){var t="leaflet-control-zoom",o=et("div",t+" leaflet-bar"),r=this.options;return this._zoomInButton=this._createButton(r.zoomInText,r.zoomInTitle,t+"-in",o,this._zoomIn),this._zoomOutButton=this._createButton(r.zoomOutText,r.zoomOutTitle,t+"-out",o,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),o},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,t,o,r,c){var g=et("a",o,r);return g.innerHTML=e,g.href="#",g.title=t,g.setAttribute("role","button"),g.setAttribute("aria-label",t),Zi(g),Te(g,"click",si),Te(g,"click",c,this),Te(g,"click",this._refocusOnMap,this),g},_updateDisabled:function(){var e=this._map,t="leaflet-disabled";zt(this._zoomInButton,t),zt(this._zoomOutButton,t),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||e._zoom===e.getMinZoom())&&(Je(this._zoomOutButton,t),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||e._zoom===e.getMaxZoom())&&(Je(this._zoomInButton,t),this._zoomInButton.setAttribute("aria-disabled","true"))}});ct.mergeOptions({zoomControl:!0}),ct.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new hs,this.addControl(this.zoomControl))});var vc=function(e){return new hs(e)},Dr=An.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var t="leaflet-control-scale",o=et("div",t),r=this.options;return this._addScales(r,t+"-line",o),e.on(r.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),o},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,t,o){e.metric&&(this._mScale=et("div",t,o)),e.imperial&&(this._iScale=et("div",t,o))},_update:function(){var e=this._map,t=e.getSize().y/2,o=e.distance(e.containerPointToLatLng([0,t]),e.containerPointToLatLng([this.options.maxWidth,t]));this._updateScales(o)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var t=this._getRoundNum(e),o=t<1e3?t+" m":t/1e3+" km";this._updateScale(this._mScale,o,t/e)},_updateImperial:function(e){var t=e*3.2808399,o,r,c;t>5280?(o=t/5280,r=this._getRoundNum(o),this._updateScale(this._iScale,r+" mi",r/o)):(c=this._getRoundNum(t),this._updateScale(this._iScale,c+" ft",c/t))},_updateScale:function(e,t,o){e.style.width=Math.round(this.options.maxWidth*o)+"px",e.innerHTML=t},_getRoundNum:function(e){var t=Math.pow(10,(Math.floor(e)+"").length-1),o=e/t;return o=o>=10?10:o>=5?5:o>=3?3:o>=2?2:1,t*o}}),xc=function(e){return new Dr(e)},_c='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',ms=An.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(pe.inlineSvg?_c+" ":"")+"Leaflet</a>"},initialize:function(e){A(this,e),this._attributions={}},onAdd:function(e){e.attributionControl=this,this._container=et("div","leaflet-control-attribution"),Zi(this._container);for(var t in e._layers)e._layers[t].getAttribution&&this.addAttribution(e._layers[t].getAttribution());return this._update(),e.on("layeradd",this._addAttribution,this),this._container},onRemove:function(e){e.off("layeradd",this._addAttribution,this)},_addAttribution:function(e){e.layer.getAttribution&&(this.addAttribution(e.layer.getAttribution()),e.layer.once("remove",function(){this.removeAttribution(e.layer.getAttribution())},this))},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(this._map){var e=[];for(var t in this._attributions)this._attributions[t]&&e.push(t);var o=[];this.options.prefix&&o.push(this.options.prefix),e.length&&o.push(e.join(", ")),this._container.innerHTML=o.join(' <span aria-hidden="true">|</span> ')}}});ct.mergeOptions({attributionControl:!0}),ct.addInitHook(function(){this.options.attributionControl&&new ms().addTo(this)});var bc=function(e){return new ms(e)};An.Layers=Mr,An.Zoom=hs,An.Scale=Dr,An.Attribution=ms,Hi.layers=yc,Hi.zoom=vc,Hi.scale=xc,Hi.attribution=bc;var Ln=re.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Ln.addTo=function(e,t){return e.addHandler(t,this),this};var Sc={Events:de},Lr=pe.touch?"touchstart mousedown":"mousedown",qn=Le.extend({options:{clickTolerance:3},initialize:function(e,t,o,r){A(this,r),this._element=e,this._dragStartTarget=t||e,this._preventOutline=o},enable:function(){this._enabled||(Te(this._dragStartTarget,Lr,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(qn._dragging===this&&this.finishDrag(!0),tt(this._dragStartTarget,Lr,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(this._enabled&&(this._moved=!1,!Bi(this._element,"leaflet-zoom-anim"))){if(e.touches&&e.touches.length!==1){qn._dragging===this&&this.finishDrag();return}if(!(qn._dragging||e.shiftKey||e.which!==1&&e.button!==1&&!e.touches)&&(qn._dragging=this,this._preventOutline&&be(this._element),Wi(),Vn(),!this._moving)){this.fire("down");var t=e.touches?e.touches[0]:e,o=ze(this._element);this._startPoint=new V(t.clientX,t.clientY),this._startPos=Mn(this._element),this._parentScale=Ne(o);var r=e.type==="mousedown";Te(document,r?"mousemove":"touchmove",this._onMove,this),Te(document,r?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(e){if(this._enabled){if(e.touches&&e.touches.length>1){this._moved=!0;return}var t=e.touches&&e.touches.length===1?e.touches[0]:e,o=new V(t.clientX,t.clientY)._subtract(this._startPoint);!o.x&&!o.y||Math.abs(o.x)+Math.abs(o.y)<this.options.clickTolerance||(o.x/=this._parentScale.x,o.y/=this._parentScale.y,rn(e),this._moved||(this.fire("dragstart"),this._moved=!0,Je(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Je(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(o),this._moving=!0,this._lastEvent=e,this._updatePosition())}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),Ht(this._element,this._newPos),this.fire("drag",e)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(e){zt(document.body,"leaflet-dragging"),this._lastTarget&&(zt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),tt(document,"mousemove touchmove",this._onMove,this),tt(document,"mouseup touchend touchcancel",this._onUp,this),b(),Tn();var t=this._moved&&this._moving;this._moving=!1,qn._dragging=!1,t&&this.fire("dragend",{noInertia:e,distance:this._newPos.distanceTo(this._startPos)})}});function Er(e,t,o){var r,c=[1,4,2,8],g,w,I,O,ee,_e,je,ot;for(g=0,_e=e.length;g<_e;g++)e[g]._code=ri(e[g],t);for(I=0;I<4;I++){for(je=c[I],r=[],g=0,_e=e.length,w=_e-1;g<_e;w=g++)O=e[g],ee=e[w],O._code&je?ee._code&je||(ot=ho(ee,O,je,t,o),ot._code=ri(ot,t),r.push(ot)):(ee._code&je&&(ot=ho(ee,O,je,t,o),ot._code=ri(ot,t),r.push(ot)),r.push(O));e=r}return e}function Rr(e,t){var o,r,c,g,w,I,O,ee,_e;if(!e||e.length===0)throw new Error("latlngs not passed");xn(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var je=D([0,0]),ot=ie(e),cn=ot.getNorthWest().distanceTo(ot.getSouthWest())*ot.getNorthEast().distanceTo(ot.getNorthWest());cn<1700&&(je=fs(e));var on=e.length,_n=[];for(o=0;o<on;o++){var pn=D(e[o]);_n.push(t.project(D([pn.lat-je.lat,pn.lng-je.lng])))}for(I=O=ee=0,o=0,r=on-1;o<on;r=o++)c=_n[o],g=_n[r],w=c.y*g.x-g.y*c.x,O+=(c.x+g.x)*w,ee+=(c.y+g.y)*w,I+=w*3;I===0?_e=_n[0]:_e=[O/I,ee/I];var Ai=t.unproject(ae(_e));return D([Ai.lat+je.lat,Ai.lng+je.lng])}function fs(e){for(var t=0,o=0,r=0,c=0;c<e.length;c++){var g=D(e[c]);t+=g.lat,o+=g.lng,r++}return D([t/r,o/r])}var wc={__proto__:null,clipPolygon:Er,polygonCenter:Rr,centroid:fs};function Nr(e,t){if(!t||!e.length)return e.slice();var o=t*t;return e=Ac(e,o),e=Tc(e,o),e}function Or(e,t,o){return Math.sqrt($i(e,t,o,!0))}function Cc(e,t,o){return $i(e,t,o)}function Tc(e,t){var o=e.length,r=typeof Uint8Array<"u"?Uint8Array:Array,c=new r(o);c[0]=c[o-1]=1,gs(e,c,t,0,o-1);var g,w=[];for(g=0;g<o;g++)c[g]&&w.push(e[g]);return w}function gs(e,t,o,r,c){var g=0,w,I,O;for(I=r+1;I<=c-1;I++)O=$i(e[I],e[r],e[c],!0),O>g&&(w=I,g=O);g>o&&(t[w]=1,gs(e,t,o,r,w),gs(e,t,o,w,c))}function Ac(e,t){for(var o=[e[0]],r=1,c=0,g=e.length;r<g;r++)kc(e[r],e[c])>t&&(o.push(e[r]),c=r);return c<g-1&&o.push(e[g-1]),o}var zr;function jr(e,t,o,r,c){var g=r?zr:ri(e,o),w=ri(t,o),I,O,ee;for(zr=w;;){if(!(g|w))return[e,t];if(g&w)return!1;I=g||w,O=ho(e,t,I,o,c),ee=ri(O,o),I===g?(e=O,g=ee):(t=O,w=ee)}}function ho(e,t,o,r,c){var g=t.x-e.x,w=t.y-e.y,I=r.min,O=r.max,ee,_e;return o&8?(ee=e.x+g*(O.y-e.y)/w,_e=O.y):o&4?(ee=e.x+g*(I.y-e.y)/w,_e=I.y):o&2?(ee=O.x,_e=e.y+w*(O.x-e.x)/g):o&1&&(ee=I.x,_e=e.y+w*(I.x-e.x)/g),new V(ee,_e,c)}function ri(e,t){var o=0;return e.x<t.min.x?o|=1:e.x>t.max.x&&(o|=2),e.y<t.min.y?o|=4:e.y>t.max.y&&(o|=8),o}function kc(e,t){var o=t.x-e.x,r=t.y-e.y;return o*o+r*r}function $i(e,t,o,r){var c=t.x,g=t.y,w=o.x-c,I=o.y-g,O=w*w+I*I,ee;return O>0&&(ee=((e.x-c)*w+(e.y-g)*I)/O,ee>1?(c=o.x,g=o.y):ee>0&&(c+=w*ee,g+=I*ee)),w=e.x-c,I=e.y-g,r?w*w+I*I:new V(c,g)}function xn(e){return!z(e[0])||typeof e[0][0]!="object"&&typeof e[0][0]<"u"}function Br(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),xn(e)}function Fr(e,t){var o,r,c,g,w,I,O,ee;if(!e||e.length===0)throw new Error("latlngs not passed");xn(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var _e=D([0,0]),je=ie(e),ot=je.getNorthWest().distanceTo(je.getSouthWest())*je.getNorthEast().distanceTo(je.getNorthWest());ot<1700&&(_e=fs(e));var cn=e.length,on=[];for(o=0;o<cn;o++){var _n=D(e[o]);on.push(t.project(D([_n.lat-_e.lat,_n.lng-_e.lng])))}for(o=0,r=0;o<cn-1;o++)r+=on[o].distanceTo(on[o+1])/2;if(r===0)ee=on[0];else for(o=0,g=0;o<cn-1;o++)if(w=on[o],I=on[o+1],c=w.distanceTo(I),g+=c,g>r){O=(g-r)/c,ee=[I.x-O*(I.x-w.x),I.y-O*(I.y-w.y)];break}var pn=t.unproject(ae(ee));return D([pn.lat+_e.lat,pn.lng+_e.lng])}var Pc={__proto__:null,simplify:Nr,pointToSegmentDistance:Or,closestPointOnSegment:Cc,clipSegment:jr,_getEdgeIntersection:ho,_getBitCode:ri,_sqClosestPointOnSegment:$i,isFlat:xn,_flat:Br,polylineCenter:Fr},ys={project:function(e){return new V(e.lng,e.lat)},unproject:function(e){return new T(e.y,e.x)},bounds:new ue([-180,-90],[180,90])},vs={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ue([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(e){var t=Math.PI/180,o=this.R,r=e.lat*t,c=this.R_MINOR/o,g=Math.sqrt(1-c*c),w=g*Math.sin(r),I=Math.tan(Math.PI/4-r/2)/Math.pow((1-w)/(1+w),g/2);return r=-o*Math.log(Math.max(I,1e-10)),new V(e.lng*t*o,r)},unproject:function(e){for(var t=180/Math.PI,o=this.R,r=this.R_MINOR/o,c=Math.sqrt(1-r*r),g=Math.exp(-e.y/o),w=Math.PI/2-2*Math.atan(g),I=0,O=.1,ee;I<15&&Math.abs(O)>1e-7;I++)ee=c*Math.sin(w),ee=Math.pow((1-ee)/(1+ee),c/2),O=Math.PI/2-2*Math.atan(g*ee)-w,w+=O;return new T(w*t,e.x*t/o)}},Ic={__proto__:null,LonLat:ys,Mercator:vs,SphericalMercator:Ee},Mc=d({},se,{code:"EPSG:3395",projection:vs,transformation:function(){var e=.5/(Math.PI*vs.R);return Oe(e,.5,-e,.5)}()}),Wr=d({},se,{code:"EPSG:4326",projection:ys,transformation:Oe(1/180,1,-1/180,.5)}),Dc=d({},Q,{projection:ys,transformation:Oe(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,t){var o=t.lng-e.lng,r=t.lat-e.lat;return Math.sqrt(o*o+r*r)},infinite:!0});Q.Earth=se,Q.EPSG3395=Mc,Q.EPSG3857=Me,Q.EPSG900913=Fe,Q.EPSG4326=Wr,Q.Simple=Dc;var kn=Le.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[f(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[f(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var t=e.target;if(t.hasLayer(this)){if(this._map=t,this._zoomAnimated=t._zoomAnimated,this.getEvents){var o=this.getEvents();t.on(o,this),this.once("remove",function(){t.off(o,this)},this)}this.onAdd(t),this.fire("add"),t.fire("layeradd",{layer:this})}}});ct.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var t=f(e);return this._layers[t]?this:(this._layers[t]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e),this)},removeLayer:function(e){var t=f(e);return this._layers[t]?(this._loaded&&e.onRemove(this),delete this._layers[t],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return f(e)in this._layers},eachLayer:function(e,t){for(var o in this._layers)e.call(t,this._layers[o]);return this},_addLayers:function(e){e=e?z(e)?e:[e]:[];for(var t=0,o=e.length;t<o;t++)this.addLayer(e[t])},_addZoomLimit:function(e){(!isNaN(e.options.maxZoom)||!isNaN(e.options.minZoom))&&(this._zoomBoundLayers[f(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var t=f(e);this._zoomBoundLayers[t]&&(delete this._zoomBoundLayers[t],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,t=-1/0,o=this._getZoomSpan();for(var r in this._zoomBoundLayers){var c=this._zoomBoundLayers[r].options;e=c.minZoom===void 0?e:Math.min(e,c.minZoom),t=c.maxZoom===void 0?t:Math.max(t,c.maxZoom)}this._layersMaxZoom=t===-1/0?void 0:t,this._layersMinZoom=e===1/0?void 0:e,o!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var bi=kn.extend({initialize:function(e,t){A(this,t),this._layers={};var o,r;if(e)for(o=0,r=e.length;o<r;o++)this.addLayer(e[o])},addLayer:function(e){var t=this.getLayerId(e);return this._layers[t]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var t=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[t]&&this._map.removeLayer(this._layers[t]),delete this._layers[t],this},hasLayer:function(e){var t=typeof e=="number"?e:this.getLayerId(e);return t in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var t=Array.prototype.slice.call(arguments,1),o,r;for(o in this._layers)r=this._layers[o],r[e]&&r[e].apply(r,t);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,t){for(var o in this._layers)e.call(t,this._layers[o]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return f(e)}}),Lc=function(e,t){return new bi(e,t)},On=bi.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),bi.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),bi.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new U;for(var t in this._layers){var o=this._layers[t];e.extend(o.getBounds?o.getBounds():o.getLatLng())}return e}}),Ec=function(e,t){return new On(e,t)},Si=re.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(e){A(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,t){var o=this._getIconUrl(e);if(!o){if(e==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var r=this._createImg(o,t&&t.tagName==="IMG"?t:null);return this._setIconStyles(r,e),(this.options.crossOrigin||this.options.crossOrigin==="")&&(r.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),r},_setIconStyles:function(e,t){var o=this.options,r=o[t+"Size"];typeof r=="number"&&(r=[r,r]);var c=ae(r),g=ae(t==="shadow"&&o.shadowAnchor||o.iconAnchor||c&&c.divideBy(2,!0));e.className="leaflet-marker-"+t+" "+(o.className||""),g&&(e.style.marginLeft=-g.x+"px",e.style.marginTop=-g.y+"px"),c&&(e.style.width=c.x+"px",e.style.height=c.y+"px")},_createImg:function(e,t){return t=t||document.createElement("img"),t.src=e,t},_getIconUrl:function(e){return pe.retina&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}});function Rc(e){return new Si(e)}var Gi=Si.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return typeof Gi.imagePath!="string"&&(Gi.imagePath=this._detectIconPath()),(this.options.imagePath||Gi.imagePath)+Si.prototype._getIconUrl.call(this,e)},_stripUrl:function(e){var t=function(o,r,c){var g=r.exec(o);return g&&g[c]};return e=t(e,/^url\((['"])?(.+)\1\)$/,2),e&&t(e,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var e=et("div","leaflet-default-icon-path",document.body),t=$n(e,"background-image")||$n(e,"backgroundImage");if(document.body.removeChild(e),t=this._stripUrl(t),t)return t;var o=document.querySelector('link[href$="leaflet.css"]');return o?o.href.substring(0,o.href.length-11-1):""}}),Zr=Ln.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new qn(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Je(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&zt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var t=this._marker,o=t._map,r=this._marker.options.autoPanSpeed,c=this._marker.options.autoPanPadding,g=Mn(t._icon),w=o.getPixelBounds(),I=o.getPixelOrigin(),O=ke(w.min._subtract(I).add(c),w.max._subtract(I).subtract(c));if(!O.contains(g)){var ee=ae((Math.max(O.max.x,g.x)-O.max.x)/(w.max.x-O.max.x)-(Math.min(O.min.x,g.x)-O.min.x)/(w.min.x-O.min.x),(Math.max(O.max.y,g.y)-O.max.y)/(w.max.y-O.max.y)-(Math.min(O.min.y,g.y)-O.min.y)/(w.min.y-O.min.y)).multiplyBy(r);o.panBy(ee,{animate:!1}),this._draggable._newPos._add(ee),this._draggable._startPos._add(ee),Ht(t._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=oe(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&($(this._panRequest),this._panRequest=oe(this._adjustPan.bind(this,e)))},_onDrag:function(e){var t=this._marker,o=t._shadow,r=Mn(t._icon),c=t._map.layerPointToLatLng(r);o&&Ht(o,r),t._latlng=c,e.latlng=c,e.oldLatLng=this._oldLatLng,t.fire("move",e).fire("drag",e)},_onDragEnd:function(e){$(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),mo=kn.extend({options:{icon:new Gi,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(e,t){A(this,t),this._latlng=D(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var t=this._latlng;return this._latlng=D(e),this.update(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},getIcon:function(){return this.options.icon},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,t="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),o=e.icon.createIcon(this._icon),r=!1;o!==this._icon&&(this._icon&&this._removeIcon(),r=!0,e.title&&(o.title=e.title),o.tagName==="IMG"&&(o.alt=e.alt||"")),Je(o,t),e.keyboard&&(o.tabIndex="0",o.setAttribute("role","button")),this._icon=o,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Te(o,"focus",this._panOnFocus,this);var c=e.icon.createShadow(this._shadow),g=!1;c!==this._shadow&&(this._removeShadow(),g=!0),c&&(Je(c,t),c.alt=""),this._shadow=c,e.opacity<1&&this._updateOpacity(),r&&this.getPane().appendChild(this._icon),this._initInteraction(),c&&g&&this.getPane(e.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&tt(this._icon,"focus",this._panOnFocus,this),At(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&At(this._shadow),this._shadow=null},_setPos:function(e){this._icon&&Ht(this._icon,e),this._shadow&&Ht(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon&&(this._icon.style.zIndex=this._zIndex+e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(t)},_initInteraction:function(){if(this.options.interactive&&(Je(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Zr)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Zr(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;this._icon&&dn(this._icon,e),this._shadow&&dn(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var e=this._map;if(e){var t=this.options.icon.options,o=t.iconSize?ae(t.iconSize):ae(0,0),r=t.iconAnchor?ae(t.iconAnchor):ae(0,0);e.panInside(this._latlng,{paddingTopLeft:r,paddingBottomRight:o.subtract(r)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Nc(e,t){return new mo(e,t)}var Kn=kn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return A(this,e),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&e&&Object.prototype.hasOwnProperty.call(e,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),fo=Kn.extend({options:{fill:!0,radius:10},initialize:function(e,t){A(this,t),this._latlng=D(e),this._radius=this.options.radius},setLatLng:function(e){var t=this._latlng;return this._latlng=D(e),this.redraw(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var t=e&&e.radius||this._radius;return Kn.prototype.setStyle.call(this,e),this.setRadius(t),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,t=this._radiusY||e,o=this._clickTolerance(),r=[e+o,t+o];this._pxBounds=new ue(this._point.subtract(r),this._point.add(r))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Oc(e,t){return new fo(e,t)}var xs=fo.extend({initialize:function(e,t,o){if(typeof t=="number"&&(t=d({},o,{radius:t})),A(this,t),this._latlng=D(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new U(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:Kn.prototype.setStyle,_project:function(){var e=this._latlng.lng,t=this._latlng.lat,o=this._map,r=o.options.crs;if(r.distance===se.distance){var c=Math.PI/180,g=this._mRadius/se.R/c,w=o.project([t+g,e]),I=o.project([t-g,e]),O=w.add(I).divideBy(2),ee=o.unproject(O).lat,_e=Math.acos((Math.cos(g*c)-Math.sin(t*c)*Math.sin(ee*c))/(Math.cos(t*c)*Math.cos(ee*c)))/c;(isNaN(_e)||_e===0)&&(_e=g/Math.cos(Math.PI/180*t)),this._point=O.subtract(o.getPixelOrigin()),this._radius=isNaN(_e)?0:O.x-o.project([ee,e-_e]).x,this._radiusY=O.y-w.y}else{var je=r.unproject(r.project(this._latlng).subtract([this._mRadius,0]));this._point=o.latLngToLayerPoint(this._latlng),this._radius=this._point.x-o.latLngToLayerPoint(je).x}this._updateBounds()}});function zc(e,t,o){return new xs(e,t,o)}var zn=Kn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,t){A(this,t),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var t=1/0,o=null,r=$i,c,g,w=0,I=this._parts.length;w<I;w++)for(var O=this._parts[w],ee=1,_e=O.length;ee<_e;ee++){c=O[ee-1],g=O[ee];var je=r(e,c,g,!0);je<t&&(t=je,o=r(e,c,g))}return o&&(o.distance=Math.sqrt(t)),o},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Fr(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(e,t){return t=t||this._defaultShape(),e=D(e),t.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new U,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return xn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var t=[],o=xn(e),r=0,c=e.length;r<c;r++)o?(t[r]=D(e[r]),this._bounds.extend(t[r])):t[r]=this._convertLatLngs(e[r]);return t},_project:function(){var e=new ue;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e),this._bounds.isValid()&&e.isValid()&&(this._rawPxBounds=e,this._updateBounds())},_updateBounds:function(){var e=this._clickTolerance(),t=new V(e,e);this._rawPxBounds&&(this._pxBounds=new ue([this._rawPxBounds.min.subtract(t),this._rawPxBounds.max.add(t)]))},_projectLatlngs:function(e,t,o){var r=e[0]instanceof T,c=e.length,g,w;if(r){for(w=[],g=0;g<c;g++)w[g]=this._map.latLngToLayerPoint(e[g]),o.extend(w[g]);t.push(w)}else for(g=0;g<c;g++)this._projectLatlngs(e[g],t,o)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}var t=this._parts,o,r,c,g,w,I,O;for(o=0,c=0,g=this._rings.length;o<g;o++)for(O=this._rings[o],r=0,w=O.length;r<w-1;r++)I=jr(O[r],O[r+1],e,r,!0),I&&(t[c]=t[c]||[],t[c].push(I[0]),(I[1]!==O[r+1]||r===w-2)&&(t[c].push(I[1]),c++))}},_simplifyPoints:function(){for(var e=this._parts,t=this.options.smoothFactor,o=0,r=e.length;o<r;o++)e[o]=Nr(e[o],t)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,t){var o,r,c,g,w,I,O=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(o=0,g=this._parts.length;o<g;o++)for(I=this._parts[o],r=0,w=I.length,c=w-1;r<w;c=r++)if(!(!t&&r===0)&&Or(e,I[c],I[r])<=O)return!0;return!1}});function jc(e,t){return new zn(e,t)}zn._flat=Br;var wi=zn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Rr(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(e){var t=zn.prototype._convertLatLngs.call(this,e),o=t.length;return o>=2&&t[0]instanceof T&&t[0].equals(t[o-1])&&t.pop(),t},_setLatLngs:function(e){zn.prototype._setLatLngs.call(this,e),xn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return xn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,t=this.options.weight,o=new V(t,t);if(e=new ue(e.min.subtract(o),e.max.add(o)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}for(var r=0,c=this._rings.length,g;r<c;r++)g=Er(this._rings[r],e,!0),g.length&&this._parts.push(g)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var t=!1,o,r,c,g,w,I,O,ee;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(g=0,O=this._parts.length;g<O;g++)for(o=this._parts[g],w=0,ee=o.length,I=ee-1;w<ee;I=w++)r=o[w],c=o[I],r.y>e.y!=c.y>e.y&&e.x<(c.x-r.x)*(e.y-r.y)/(c.y-r.y)+r.x&&(t=!t);return t||zn.prototype._containsPoint.call(this,e,!0)}});function Bc(e,t){return new wi(e,t)}var jn=On.extend({initialize:function(e,t){A(this,t),this._layers={},e&&this.addData(e)},addData:function(e){var t=z(e)?e:e.features,o,r,c;if(t){for(o=0,r=t.length;o<r;o++)c=t[o],(c.geometries||c.geometry||c.features||c.coordinates)&&this.addData(c);return this}var g=this.options;if(g.filter&&!g.filter(e))return this;var w=go(e,g);return w?(w.feature=xo(e),w.defaultOptions=w.options,this.resetStyle(w),g.onEachFeature&&g.onEachFeature(e,w),this.addLayer(w)):this},resetStyle:function(e){return e===void 0?this.eachLayer(this.resetStyle,this):(e.options=d({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this)},setStyle:function(e){return this.eachLayer(function(t){this._setLayerStyle(t,e)},this)},_setLayerStyle:function(e,t){e.setStyle&&(typeof t=="function"&&(t=t(e.feature)),e.setStyle(t))}});function go(e,t){var o=e.type==="Feature"?e.geometry:e,r=o?o.coordinates:null,c=[],g=t&&t.pointToLayer,w=t&&t.coordsToLatLng||_s,I,O,ee,_e;if(!r&&!o)return null;switch(o.type){case"Point":return I=w(r),Hr(g,e,I,t);case"MultiPoint":for(ee=0,_e=r.length;ee<_e;ee++)I=w(r[ee]),c.push(Hr(g,e,I,t));return new On(c);case"LineString":case"MultiLineString":return O=yo(r,o.type==="LineString"?0:1,w),new zn(O,t);case"Polygon":case"MultiPolygon":return O=yo(r,o.type==="Polygon"?1:2,w),new wi(O,t);case"GeometryCollection":for(ee=0,_e=o.geometries.length;ee<_e;ee++){var je=go({geometry:o.geometries[ee],type:"Feature",properties:e.properties},t);je&&c.push(je)}return new On(c);case"FeatureCollection":for(ee=0,_e=o.features.length;ee<_e;ee++){var ot=go(o.features[ee],t);ot&&c.push(ot)}return new On(c);default:throw new Error("Invalid GeoJSON object.")}}function Hr(e,t,o,r){return e?e(t,o):new mo(o,r&&r.markersInheritOptions&&r)}function _s(e){return new T(e[1],e[0],e[2])}function yo(e,t,o){for(var r=[],c=0,g=e.length,w;c<g;c++)w=t?yo(e[c],t-1,o):(o||_s)(e[c]),r.push(w);return r}function bs(e,t){return e=D(e),e.alt!==void 0?[y(e.lng,t),y(e.lat,t),y(e.alt,t)]:[y(e.lng,t),y(e.lat,t)]}function vo(e,t,o,r){for(var c=[],g=0,w=e.length;g<w;g++)c.push(t?vo(e[g],xn(e[g])?0:t-1,o,r):bs(e[g],r));return!t&&o&&c.length>0&&c.push(c[0].slice()),c}function Ci(e,t){return e.feature?d({},e.feature,{geometry:t}):xo(t)}function xo(e){return e.type==="Feature"||e.type==="FeatureCollection"?e:{type:"Feature",properties:{},geometry:e}}var Ss={toGeoJSON:function(e){return Ci(this,{type:"Point",coordinates:bs(this.getLatLng(),e)})}};mo.include(Ss),xs.include(Ss),fo.include(Ss),zn.include({toGeoJSON:function(e){var t=!xn(this._latlngs),o=vo(this._latlngs,t?1:0,!1,e);return Ci(this,{type:(t?"Multi":"")+"LineString",coordinates:o})}}),wi.include({toGeoJSON:function(e){var t=!xn(this._latlngs),o=t&&!xn(this._latlngs[0]),r=vo(this._latlngs,o?2:t?1:0,!0,e);return t||(r=[r]),Ci(this,{type:(o?"Multi":"")+"Polygon",coordinates:r})}}),bi.include({toMultiPoint:function(e){var t=[];return this.eachLayer(function(o){t.push(o.toGeoJSON(e).geometry.coordinates)}),Ci(this,{type:"MultiPoint",coordinates:t})},toGeoJSON:function(e){var t=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(t==="MultiPoint")return this.toMultiPoint(e);var o=t==="GeometryCollection",r=[];return this.eachLayer(function(c){if(c.toGeoJSON){var g=c.toGeoJSON(e);if(o)r.push(g.geometry);else{var w=xo(g);w.type==="FeatureCollection"?r.push.apply(r,w.features):r.push(w)}}}),o?Ci(this,{geometries:r,type:"GeometryCollection"}):{type:"FeatureCollection",features:r}}});function $r(e,t){return new jn(e,t)}var Fc=$r,_o=kn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,t,o){this._url=e,this._bounds=ie(t),A(this,o)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Je(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){At(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&Gn(this._image),this},bringToBack:function(){return this._map&&Jn(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=ie(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e=this._url.tagName==="IMG",t=this._image=e?this._url:et("img");if(Je(t,"leaflet-image-layer"),this._zoomAnimated&&Je(t,"leaflet-zoom-animated"),this.options.className&&Je(t,this.options.className),t.onselectstart=v,t.onmousemove=v,t.onload=p(this.fire,this,"load"),t.onerror=p(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(t.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e){this._url=t.src;return}t.src=this._url,t.alt=this.options.alt},_animateZoom:function(e){var t=this._map.getZoomScale(e.zoom),o=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;Cn(this._image,o,t)},_reset:function(){var e=this._image,t=new ue(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),o=t.getSize();Ht(e,t.min),e.style.width=o.x+"px",e.style.height=o.y+"px"},_updateOpacity:function(){dn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)},getCenter:function(){return this._bounds.getCenter()}}),Wc=function(e,t,o){return new _o(e,t,o)},Gr=_o.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var e=this._url.tagName==="VIDEO",t=this._image=e?this._url:et("video");if(Je(t,"leaflet-image-layer"),this._zoomAnimated&&Je(t,"leaflet-zoom-animated"),this.options.className&&Je(t,this.options.className),t.onselectstart=v,t.onmousemove=v,t.onloadeddata=p(this.fire,this,"load"),e){for(var o=t.getElementsByTagName("source"),r=[],c=0;c<o.length;c++)r.push(o[c].src);this._url=o.length>0?r:[t.src];return}z(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(t.style,"objectFit")&&(t.style.objectFit="fill"),t.autoplay=!!this.options.autoplay,t.loop=!!this.options.loop,t.muted=!!this.options.muted,t.playsInline=!!this.options.playsInline;for(var g=0;g<this._url.length;g++){var w=et("source");w.src=this._url[g],t.appendChild(w)}}});function Zc(e,t,o){return new Gr(e,t,o)}var Jr=_o.extend({_initImage:function(){var e=this._image=this._url;Je(e,"leaflet-image-layer"),this._zoomAnimated&&Je(e,"leaflet-zoom-animated"),this.options.className&&Je(e,this.options.className),e.onselectstart=v,e.onmousemove=v}});function Hc(e,t,o){return new Jr(e,t,o)}var En=kn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(e,t){e&&(e instanceof T||z(e))?(this._latlng=D(e),A(this,t)):(A(this,e),this._source=t),this.options.content&&(this._content=this.options.content)},openOn:function(e){return e=arguments.length?e:this._source._map,e.hasLayer(this)||e.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(e){return this._map?this.close():(arguments.length?this._source=e:e=this._source,this._prepareOpen(),this.openOn(e._map)),this},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&dn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&dn(this._container,1),this.bringToFront(),this.options.interactive&&(Je(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(e){e._fadeAnimated?(dn(this._container,0),this._removeTimeout=setTimeout(p(At,void 0,this._container),200)):At(this._container),this.options.interactive&&(zt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=D(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Gn(this._container),this},bringToBack:function(){return this._map&&Jn(this._container),this},_prepareOpen:function(e){var t=this._source;if(!t._map)return!1;if(t instanceof On){t=null;var o=this._source._layers;for(var r in o)if(o[r]._map){t=o[r];break}if(!t)return!1;this._source=t}if(!e)if(t.getCenter)e=t.getCenter();else if(t.getLatLng)e=t.getLatLng();else if(t.getBounds)e=t.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(e),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var e=this._contentNode,t=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof t=="string")e.innerHTML=t;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(t)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),t=ae(this.options.offset),o=this._getAnchor();this._zoomAnimated?Ht(this._container,e.add(o)):t=t.add(e).add(o);var r=this._containerBottom=-t.y,c=this._containerLeft=-Math.round(this._containerWidth/2)+t.x;this._container.style.bottom=r+"px",this._container.style.left=c+"px"}},_getAnchor:function(){return[0,0]}});ct.include({_initOverlay:function(e,t,o,r){var c=t;return c instanceof e||(c=new e(r).setContent(t)),o&&c.setLatLng(o),c}}),kn.include({_initOverlay:function(e,t,o,r){var c=o;return c instanceof e?(A(c,r),c._source=this):(c=t&&!r?t:new e(r,this),c.setContent(o)),c}});var bo=En.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return e=arguments.length?e:this._source._map,!e.hasLayer(this)&&e._popup&&e._popup.options.autoClose&&e.removeLayer(e._popup),e._popup=this,En.prototype.openOn.call(this,e)},onAdd:function(e){En.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Kn||this._source.on("preclick",oi))},onRemove:function(e){En.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Kn||this._source.off("preclick",oi))},getEvents:function(){var e=En.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this.close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_initLayout:function(){var e="leaflet-popup",t=this._container=et("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),o=this._wrapper=et("div",e+"-content-wrapper",t);if(this._contentNode=et("div",e+"-content",o),Zi(t),ds(this._contentNode),Te(t,"contextmenu",oi),this._tipContainer=et("div",e+"-tip-container",t),this._tip=et("div",e+"-tip",this._tipContainer),this.options.closeButton){var r=this._closeButton=et("a",e+"-close-button",t);r.setAttribute("role","button"),r.setAttribute("aria-label","Close popup"),r.href="#close",r.innerHTML='<span aria-hidden="true">&#215;</span>',Te(r,"click",function(c){rn(c),this.close()},this)}},_updateLayout:function(){var e=this._contentNode,t=e.style;t.width="",t.whiteSpace="nowrap";var o=e.offsetWidth;o=Math.min(o,this.options.maxWidth),o=Math.max(o,this.options.minWidth),t.width=o+1+"px",t.whiteSpace="",t.height="";var r=e.offsetHeight,c=this.options.maxHeight,g="leaflet-popup-scrolled";c&&r>c?(t.height=c+"px",Je(e,g)):zt(e,g),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),o=this._getAnchor();Ht(this._container,t.add(o))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var e=this._map,t=parseInt($n(this._container,"marginBottom"),10)||0,o=this._container.offsetHeight+t,r=this._containerWidth,c=new V(this._containerLeft,-o-this._containerBottom);c._add(Mn(this._container));var g=e.layerPointToContainerPoint(c),w=ae(this.options.autoPanPadding),I=ae(this.options.autoPanPaddingTopLeft||w),O=ae(this.options.autoPanPaddingBottomRight||w),ee=e.getSize(),_e=0,je=0;g.x+r+O.x>ee.x&&(_e=g.x+r-ee.x+O.x),g.x-_e-I.x<0&&(_e=g.x-I.x),g.y+o+O.y>ee.y&&(je=g.y+o-ee.y+O.y),g.y-je-I.y<0&&(je=g.y-I.y),(_e||je)&&(this.options.keepInView&&(this._autopanning=!0),e.fire("autopanstart").panBy([_e,je]))}},_getAnchor:function(){return ae(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),$c=function(e,t){return new bo(e,t)};ct.mergeOptions({closePopupOnClick:!0}),ct.include({openPopup:function(e,t,o){return this._initOverlay(bo,e,t,o).openOn(this),this},closePopup:function(e){return e=arguments.length?e:this._popup,e&&e.close(),this}}),kn.include({bindPopup:function(e,t){return this._popup=this._initOverlay(bo,this._popup,e,t),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e){return this._popup&&(this instanceof On||(this._popup._source=this),this._popup._prepareOpen(e||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){if(!(!this._popup||!this._map)){si(e);var t=e.layer||e.target;if(this._popup._source===t&&!(t instanceof Kn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(e.latlng);return}this._popup._source=t,this.openPopup(e.latlng)}},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){e.originalEvent.keyCode===13&&this._openPopup(e)}});var So=En.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(e){En.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(e){En.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var e=En.prototype.getEvents.call(this);return this.options.permanent||(e.preclick=this.close),e},_initLayout:function(){var e="leaflet-tooltip",t=e+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=et("div",t),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+f(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var t,o,r=this._map,c=this._container,g=r.latLngToContainerPoint(r.getCenter()),w=r.layerPointToContainerPoint(e),I=this.options.direction,O=c.offsetWidth,ee=c.offsetHeight,_e=ae(this.options.offset),je=this._getAnchor();I==="top"?(t=O/2,o=ee):I==="bottom"?(t=O/2,o=0):I==="center"?(t=O/2,o=ee/2):I==="right"?(t=0,o=ee/2):I==="left"?(t=O,o=ee/2):w.x<g.x?(I="right",t=0,o=ee/2):(I="left",t=O+(_e.x+je.x)*2,o=ee/2),e=e.subtract(ae(t,o,!0)).add(_e).add(je),zt(c,"leaflet-tooltip-right"),zt(c,"leaflet-tooltip-left"),zt(c,"leaflet-tooltip-top"),zt(c,"leaflet-tooltip-bottom"),Je(c,"leaflet-tooltip-"+I),Ht(c,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&dn(this._container,e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(t)},_getAnchor:function(){return ae(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Gc=function(e,t){return new So(e,t)};ct.include({openTooltip:function(e,t,o){return this._initOverlay(So,e,t,o).openOn(this),this},closeTooltip:function(e){return e.close(),this}}),kn.include({bindTooltip:function(e,t){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(So,this._tooltip,e,t),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(!(!e&&this._tooltipHandlersAdded)){var t=e?"off":"on",o={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?o.add=this._openTooltip:(o.mouseover=this._openTooltip,o.mouseout=this.closeTooltip,o.click=this._openTooltip,this._map?this._addFocusListeners():o.add=this._addFocusListeners),this._tooltip.options.sticky&&(o.mousemove=this._moveTooltip),this[t](o),this._tooltipHandlersAdded=!e}},openTooltip:function(e){return this._tooltip&&(this instanceof On||(this._tooltip._source=this),this._tooltip._prepareOpen(e)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(e){var t=typeof e.getElement=="function"&&e.getElement();t&&(Te(t,"focus",function(){this._tooltip._source=e,this.openTooltip()},this),Te(t,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(e){var t=typeof e.getElement=="function"&&e.getElement();t&&t.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(e){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var t=this;this._map.once("moveend",function(){t._openOnceFlag=!1,t._openTooltip(e)});return}this._tooltip._source=e.layer||e.target,this.openTooltip(this._tooltip.options.sticky?e.latlng:void 0)}},_moveTooltip:function(e){var t=e.latlng,o,r;this._tooltip.options.sticky&&e.originalEvent&&(o=this._map.mouseEventToContainerPoint(e.originalEvent),r=this._map.containerPointToLayerPoint(o),t=this._map.layerPointToLatLng(r)),this._tooltip.setLatLng(t)}});var Vr=Si.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var t=e&&e.tagName==="DIV"?e:document.createElement("div"),o=this.options;if(o.html instanceof Element?(fn(t),t.appendChild(o.html)):t.innerHTML=o.html!==!1?o.html:"",o.bgPos){var r=ae(o.bgPos);t.style.backgroundPosition=-r.x+"px "+-r.y+"px"}return this._setIconStyles(t,"icon"),t},createShadow:function(){return null}});function Jc(e){return new Vr(e)}Si.Default=Gi;var Ji=kn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:pe.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){A(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),At(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Gn(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Jn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var e=this._clampZoom(this._map.getZoom());e!==this._tileZoom&&(this._tileZoom=e,this._updateLevels()),this._update()}return this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=_(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof V?e:new V(e,e)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var t=this.getPane().children,o=-e(-1/0,1/0),r=0,c=t.length,g;r<c;r++)g=t[r].style.zIndex,t[r]!==this._container&&g&&(o=e(o,+g));isFinite(o)&&(this.options.zIndex=o+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!pe.ielt9){dn(this._container,this.options.opacity);var e=+new Date,t=!1,o=!1;for(var r in this._tiles){var c=this._tiles[r];if(!(!c.current||!c.loaded)){var g=Math.min(1,(e-c.loaded)/200);dn(c.el,g),g<1?t=!0:(c.active?o=!0:this._onOpaqueTile(c),c.active=!0)}}o&&!this._noPrune&&this._pruneTiles(),t&&($(this._fadeFrame),this._fadeFrame=oe(this._updateOpacity,this))}},_onOpaqueTile:v,_initContainer:function(){this._container||(this._container=et("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,t=this.options.maxZoom;if(e!==void 0){for(var o in this._levels)o=Number(o),this._levels[o].el.children.length||o===e?(this._levels[o].el.style.zIndex=t-Math.abs(e-o),this._onUpdateLevel(o)):(At(this._levels[o].el),this._removeTilesAtZoom(o),this._onRemoveLevel(o),delete this._levels[o]);var r=this._levels[e],c=this._map;return r||(r=this._levels[e]={},r.el=et("div","leaflet-tile-container leaflet-zoom-animated",this._container),r.el.style.zIndex=t,r.origin=c.project(c.unproject(c.getPixelOrigin()),e).round(),r.zoom=e,this._setZoomTransform(r,c.getCenter(),c.getZoom()),v(r.el.offsetWidth),this._onCreateLevel(r)),this._level=r,r}},_onUpdateLevel:v,_onRemoveLevel:v,_onCreateLevel:v,_pruneTiles:function(){if(this._map){var e,t,o=this._map.getZoom();if(o>this.options.maxZoom||o<this.options.minZoom){this._removeAllTiles();return}for(e in this._tiles)t=this._tiles[e],t.retain=t.current;for(e in this._tiles)if(t=this._tiles[e],t.current&&!t.active){var r=t.coords;this._retainParent(r.x,r.y,r.z,r.z-5)||this._retainChildren(r.x,r.y,r.z,r.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}},_removeTilesAtZoom:function(e){for(var t in this._tiles)this._tiles[t].coords.z===e&&this._removeTile(t)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)At(this._levels[e].el),this._onRemoveLevel(Number(e)),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,t,o,r){var c=Math.floor(e/2),g=Math.floor(t/2),w=o-1,I=new V(+c,+g);I.z=+w;var O=this._tileCoordsToKey(I),ee=this._tiles[O];return ee&&ee.active?(ee.retain=!0,!0):(ee&&ee.loaded&&(ee.retain=!0),w>r?this._retainParent(c,g,w,r):!1)},_retainChildren:function(e,t,o,r){for(var c=2*e;c<2*e+2;c++)for(var g=2*t;g<2*t+2;g++){var w=new V(c,g);w.z=o+1;var I=this._tileCoordsToKey(w),O=this._tiles[I];if(O&&O.active){O.retain=!0;continue}else O&&O.loaded&&(O.retain=!0);o+1<r&&this._retainChildren(c,g,o+1,r)}},_resetView:function(e){var t=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),t,t)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var t=this.options;return t.minNativeZoom!==void 0&&e<t.minNativeZoom?t.minNativeZoom:t.maxNativeZoom!==void 0&&t.maxNativeZoom<e?t.maxNativeZoom:e},_setView:function(e,t,o,r){var c=Math.round(t);this.options.maxZoom!==void 0&&c>this.options.maxZoom||this.options.minZoom!==void 0&&c<this.options.minZoom?c=void 0:c=this._clampZoom(c);var g=this.options.updateWhenZooming&&c!==this._tileZoom;(!r||g)&&(this._tileZoom=c,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),c!==void 0&&this._update(e),o||this._pruneTiles(),this._noPrune=!!o),this._setZoomTransforms(e,t)},_setZoomTransforms:function(e,t){for(var o in this._levels)this._setZoomTransform(this._levels[o],e,t)},_setZoomTransform:function(e,t,o){var r=this._map.getZoomScale(o,e.zoom),c=e.origin.multiplyBy(r).subtract(this._map._getNewPixelOrigin(t,o)).round();pe.any3d?Cn(e.el,c,r):Ht(e.el,c)},_resetGrid:function(){var e=this._map,t=e.options.crs,o=this._tileSize=this.getTileSize(),r=this._tileZoom,c=this._map.getPixelWorldBounds(this._tileZoom);c&&(this._globalTileRange=this._pxBoundsToTileRange(c)),this._wrapX=t.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,t.wrapLng[0]],r).x/o.x),Math.ceil(e.project([0,t.wrapLng[1]],r).x/o.y)],this._wrapY=t.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([t.wrapLat[0],0],r).y/o.x),Math.ceil(e.project([t.wrapLat[1],0],r).y/o.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(e){var t=this._map,o=t._animatingZoom?Math.max(t._animateToZoom,t.getZoom()):t.getZoom(),r=t.getZoomScale(o,this._tileZoom),c=t.project(e,this._tileZoom).floor(),g=t.getSize().divideBy(r*2);return new ue(c.subtract(g),c.add(g))},_update:function(e){var t=this._map;if(t){var o=this._clampZoom(t.getZoom());if(e===void 0&&(e=t.getCenter()),this._tileZoom!==void 0){var r=this._getTiledPixelBounds(e),c=this._pxBoundsToTileRange(r),g=c.getCenter(),w=[],I=this.options.keepBuffer,O=new ue(c.getBottomLeft().subtract([I,-I]),c.getTopRight().add([I,-I]));if(!(isFinite(c.min.x)&&isFinite(c.min.y)&&isFinite(c.max.x)&&isFinite(c.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ee in this._tiles){var _e=this._tiles[ee].coords;(_e.z!==this._tileZoom||!O.contains(new V(_e.x,_e.y)))&&(this._tiles[ee].current=!1)}if(Math.abs(o-this._tileZoom)>1){this._setView(e,o);return}for(var je=c.min.y;je<=c.max.y;je++)for(var ot=c.min.x;ot<=c.max.x;ot++){var cn=new V(ot,je);if(cn.z=this._tileZoom,!!this._isValidTile(cn)){var on=this._tiles[this._tileCoordsToKey(cn)];on?on.current=!0:w.push(cn)}}if(w.sort(function(pn,Ai){return pn.distanceTo(g)-Ai.distanceTo(g)}),w.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var _n=document.createDocumentFragment();for(ot=0;ot<w.length;ot++)this._addTile(w[ot],_n);this._level.el.appendChild(_n)}}}},_isValidTile:function(e){var t=this._map.options.crs;if(!t.infinite){var o=this._globalTileRange;if(!t.wrapLng&&(e.x<o.min.x||e.x>o.max.x)||!t.wrapLat&&(e.y<o.min.y||e.y>o.max.y))return!1}if(!this.options.bounds)return!0;var r=this._tileCoordsToBounds(e);return ie(this.options.bounds).overlaps(r)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var t=this._map,o=this.getTileSize(),r=e.scaleBy(o),c=r.add(o),g=t.unproject(r,e.z),w=t.unproject(c,e.z);return[g,w]},_tileCoordsToBounds:function(e){var t=this._tileCoordsToNwSe(e),o=new U(t[0],t[1]);return this.options.noWrap||(o=this._map.wrapLatLngBounds(o)),o},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var t=e.split(":"),o=new V(+t[0],+t[1]);return o.z=+t[2],o},_removeTile:function(e){var t=this._tiles[e];t&&(At(t.el),delete this._tiles[e],this.fire("tileunload",{tile:t.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){Je(e,"leaflet-tile");var t=this.getTileSize();e.style.width=t.x+"px",e.style.height=t.y+"px",e.onselectstart=v,e.onmousemove=v,pe.ielt9&&this.options.opacity<1&&dn(e,this.options.opacity)},_addTile:function(e,t){var o=this._getTilePos(e),r=this._tileCoordsToKey(e),c=this.createTile(this._wrapCoords(e),p(this._tileReady,this,e));this._initTile(c),this.createTile.length<2&&oe(p(this._tileReady,this,e,null,c)),Ht(c,o),this._tiles[r]={el:c,coords:e,current:!0},t.appendChild(c),this.fire("tileloadstart",{tile:c,coords:e})},_tileReady:function(e,t,o){t&&this.fire("tileerror",{error:t,tile:o,coords:e});var r=this._tileCoordsToKey(e);o=this._tiles[r],o&&(o.loaded=+new Date,this._map._fadeAnimated?(dn(o.el,0),$(this._fadeFrame),this._fadeFrame=oe(this._updateOpacity,this)):(o.active=!0,this._pruneTiles()),t||(Je(o.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:o.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),pe.ielt9||!this._map._fadeAnimated?oe(this._pruneTiles,this):setTimeout(p(this._pruneTiles,this),250)))},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var t=new V(this._wrapX?x(e.x,this._wrapX):e.x,this._wrapY?x(e.y,this._wrapY):e.y);return t.z=e.z,t},_pxBoundsToTileRange:function(e){var t=this.getTileSize();return new ue(e.min.unscaleBy(t).floor(),e.max.unscaleBy(t).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}});function Vc(e){return new Ji(e)}var Ti=Ji.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(e,t){this._url=e,t=A(this,t),t.detectRetina&&pe.retina&&t.maxZoom>0?(t.tileSize=Math.floor(t.tileSize/2),t.zoomReverse?(t.zoomOffset--,t.minZoom=Math.min(t.maxZoom,t.minZoom+1)):(t.zoomOffset++,t.maxZoom=Math.max(t.minZoom,t.maxZoom-1)),t.minZoom=Math.max(0,t.minZoom)):t.zoomReverse?t.minZoom=Math.min(t.maxZoom,t.minZoom):t.maxZoom=Math.max(t.minZoom,t.maxZoom),typeof t.subdomains=="string"&&(t.subdomains=t.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(e,t){return this._url===e&&t===void 0&&(t=!0),this._url=e,t||this.redraw(),this},createTile:function(e,t){var o=document.createElement("img");return Te(o,"load",p(this._tileOnLoad,this,t,o)),Te(o,"error",p(this._tileOnError,this,t,o)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(o.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(o.referrerPolicy=this.options.referrerPolicy),o.alt="",o.src=this.getTileUrl(e),o},getTileUrl:function(e){var t={r:pe.retina?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var o=this._globalTileRange.max.y-e.y;this.options.tms&&(t.y=o),t["-y"]=o}return J(this._url,d(t,this.options))},_tileOnLoad:function(e,t){pe.ielt9?setTimeout(p(e,this,null,t),0):e(null,t)},_tileOnError:function(e,t,o){var r=this.options.errorTileUrl;r&&t.getAttribute("src")!==r&&(t.src=r),e(o,t)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,t=this.options.maxZoom,o=this.options.zoomReverse,r=this.options.zoomOffset;return o&&(e=t-e),e+r},_getSubdomain:function(e){var t=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[t]},_abortLoading:function(){var e,t;for(e in this._tiles)if(this._tiles[e].coords.z!==this._tileZoom&&(t=this._tiles[e].el,t.onload=v,t.onerror=v,!t.complete)){t.src=N;var o=this._tiles[e].coords;At(t),delete this._tiles[e],this.fire("tileabort",{tile:t,coords:o})}},_removeTile:function(e){var t=this._tiles[e];if(t)return t.el.setAttribute("src",N),Ji.prototype._removeTile.call(this,e)},_tileReady:function(e,t,o){if(!(!this._map||o&&o.getAttribute("src")===N))return Ji.prototype._tileReady.call(this,e,t,o)}});function Ur(e,t){return new Ti(e,t)}var qr=Ti.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,t){this._url=e;var o=d({},this.defaultWmsParams);for(var r in t)r in this.options||(o[r]=t[r]);t=A(this,t);var c=t.detectRetina&&pe.retina?2:1,g=this.getTileSize();o.width=g.x*c,o.height=g.y*c,this.wmsParams=o},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var t=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[t]=this._crs.code,Ti.prototype.onAdd.call(this,e)},getTileUrl:function(e){var t=this._tileCoordsToNwSe(e),o=this._crs,r=ke(o.project(t[0]),o.project(t[1])),c=r.min,g=r.max,w=(this._wmsVersion>=1.3&&this._crs===Wr?[c.y,c.x,g.y,g.x]:[c.x,c.y,g.x,g.y]).join(","),I=Ti.prototype.getTileUrl.call(this,e);return I+C(this.wmsParams,I,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+w},setParams:function(e,t){return d(this.wmsParams,e),t||this.redraw(),this}});function Uc(e,t){return new qr(e,t)}Ti.WMS=qr,Ur.wms=Uc;var Bn=kn.extend({options:{padding:.1},initialize:function(e){A(this,e),f(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Je(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,t){var o=this._map.getZoomScale(t,this._zoom),r=this._map.getSize().multiplyBy(.5+this.options.padding),c=this._map.project(this._center,t),g=r.multiplyBy(-o).add(c).subtract(this._map._getNewPixelOrigin(e,t));pe.any3d?Cn(this._container,g,o):Ht(this._container,g)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var e in this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,t=this._map.getSize(),o=this._map.containerPointToLayerPoint(t.multiplyBy(-e)).round();this._bounds=new ue(o,o.add(t.multiplyBy(1+e*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Kr=Bn.extend({options:{tolerance:0},getEvents:function(){var e=Bn.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Bn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");Te(e,"mousemove",this._onMouseMove,this),Te(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Te(e,"mouseout",this._handleMouseOut,this),e._leaflet_disable_events=!0,this._ctx=e.getContext("2d")},_destroyContainer:function(){$(this._redrawRequest),delete this._ctx,At(this._container),tt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var e;this._redrawBounds=null;for(var t in this._layers)e=this._layers[t],e._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Bn.prototype._update.call(this);var e=this._bounds,t=this._container,o=e.getSize(),r=pe.retina?2:1;Ht(t,e.min),t.width=r*o.x,t.height=r*o.y,t.style.width=o.x+"px",t.style.height=o.y+"px",pe.retina&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_reset:function(){Bn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[f(e)]=e;var t=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=t),this._drawLast=t,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var t=e._order,o=t.next,r=t.prev;o?o.prev=r:this._drawLast=r,r?r.next=o:this._drawFirst=o,delete e._order,delete this._layers[f(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if(typeof e.options.dashArray=="string"){var t=e.options.dashArray.split(/[, ]+/),o=[],r,c;for(c=0;c<t.length;c++){if(r=Number(t[c]),isNaN(r))return;o.push(r)}e.options._dashArray=o}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||oe(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var t=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ue,this._redrawBounds.extend(e._pxBounds.min.subtract([t,t])),this._redrawBounds.extend(e._pxBounds.max.add([t,t]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var t=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,t.x,t.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var e,t=this._redrawBounds;if(this._ctx.save(),t){var o=t.getSize();this._ctx.beginPath(),this._ctx.rect(t.min.x,t.min.y,o.x,o.y),this._ctx.clip()}this._drawing=!0;for(var r=this._drawFirst;r;r=r.next)e=r.layer,(!t||e._pxBounds&&e._pxBounds.intersects(t))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,t){if(this._drawing){var o,r,c,g,w=e._parts,I=w.length,O=this._ctx;if(I){for(O.beginPath(),o=0;o<I;o++){for(r=0,c=w[o].length;r<c;r++)g=w[o][r],O[r?"lineTo":"moveTo"](g.x,g.y);t&&O.closePath()}this._fillStroke(O,e)}}},_updateCircle:function(e){if(!(!this._drawing||e._empty())){var t=e._point,o=this._ctx,r=Math.max(Math.round(e._radius),1),c=(Math.max(Math.round(e._radiusY),1)||r)/r;c!==1&&(o.save(),o.scale(1,c)),o.beginPath(),o.arc(t.x,t.y/c,r,0,Math.PI*2,!1),c!==1&&o.restore(),this._fillStroke(o,e)}},_fillStroke:function(e,t){var o=t.options;o.fill&&(e.globalAlpha=o.fillOpacity,e.fillStyle=o.fillColor||o.color,e.fill(o.fillRule||"evenodd")),o.stroke&&o.weight!==0&&(e.setLineDash&&e.setLineDash(t.options&&t.options._dashArray||[]),e.globalAlpha=o.opacity,e.lineWidth=o.weight,e.strokeStyle=o.color,e.lineCap=o.lineCap,e.lineJoin=o.lineJoin,e.stroke())},_onClick:function(e){for(var t=this._map.mouseEventToLayerPoint(e),o,r,c=this._drawFirst;c;c=c.next)o=c.layer,o.options.interactive&&o._containsPoint(t)&&(!(e.type==="click"||e.type==="preclick")||!this._map._draggableMoved(o))&&(r=o);this._fireEvent(r?[r]:!1,e)},_onMouseMove:function(e){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var t=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,t)}},_handleMouseOut:function(e){var t=this._hoveredLayer;t&&(zt(this._container,"leaflet-interactive"),this._fireEvent([t],e,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(e,t){if(!this._mouseHoverThrottled){for(var o,r,c=this._drawFirst;c;c=c.next)o=c.layer,o.options.interactive&&o._containsPoint(t)&&(r=o);r!==this._hoveredLayer&&(this._handleMouseOut(e),r&&(Je(this._container,"leaflet-interactive"),this._fireEvent([r],e,"mouseover"),this._hoveredLayer=r)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,e),this._mouseHoverThrottled=!0,setTimeout(p(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(e,t,o){this._map._fireDOMEvent(t,o||t.type,e)},_bringToFront:function(e){var t=e._order;if(t){var o=t.next,r=t.prev;if(o)o.prev=r;else return;r?r.next=o:o&&(this._drawFirst=o),t.prev=this._drawLast,this._drawLast.next=t,t.next=null,this._drawLast=t,this._requestRedraw(e)}},_bringToBack:function(e){var t=e._order;if(t){var o=t.next,r=t.prev;if(r)r.next=o;else return;o?o.prev=r:r&&(this._drawLast=r),t.prev=null,t.next=this._drawFirst,this._drawFirst.prev=t,this._drawFirst=t,this._requestRedraw(e)}}});function Xr(e){return pe.canvas?new Kr(e):null}var Vi=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch{}return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),qc={_initContainer:function(){this._container=et("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Bn.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var t=e._container=Vi("shape");Je(t,"leaflet-vml-shape "+(this.options.className||"")),t.coordsize="1 1",e._path=Vi("path"),t.appendChild(e._path),this._updateStyle(e),this._layers[f(e)]=e},_addPath:function(e){var t=e._container;this._container.appendChild(t),e.options.interactive&&e.addInteractiveTarget(t)},_removePath:function(e){var t=e._container;At(t),e.removeInteractiveTarget(t),delete this._layers[f(e)]},_updateStyle:function(e){var t=e._stroke,o=e._fill,r=e.options,c=e._container;c.stroked=!!r.stroke,c.filled=!!r.fill,r.stroke?(t||(t=e._stroke=Vi("stroke")),c.appendChild(t),t.weight=r.weight+"px",t.color=r.color,t.opacity=r.opacity,r.dashArray?t.dashStyle=z(r.dashArray)?r.dashArray.join(" "):r.dashArray.replace(/( *, *)/g," "):t.dashStyle="",t.endcap=r.lineCap.replace("butt","flat"),t.joinstyle=r.lineJoin):t&&(c.removeChild(t),e._stroke=null),r.fill?(o||(o=e._fill=Vi("fill")),c.appendChild(o),o.color=r.fillColor||r.color,o.opacity=r.fillOpacity):o&&(c.removeChild(o),e._fill=null)},_updateCircle:function(e){var t=e._point.round(),o=Math.round(e._radius),r=Math.round(e._radiusY||o);this._setPath(e,e._empty()?"M0 0":"AL "+t.x+","+t.y+" "+o+","+r+" 0,"+65535*360)},_setPath:function(e,t){e._path.v=t},_bringToFront:function(e){Gn(e._container)},_bringToBack:function(e){Jn(e._container)}},wo=pe.vml?Vi:rt,Ui=Bn.extend({_initContainer:function(){this._container=wo("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=wo("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){At(this._container),tt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Bn.prototype._update.call(this);var e=this._bounds,t=e.getSize(),o=this._container;(!this._svgSize||!this._svgSize.equals(t))&&(this._svgSize=t,o.setAttribute("width",t.x),o.setAttribute("height",t.y)),Ht(o,e.min),o.setAttribute("viewBox",[e.min.x,e.min.y,t.x,t.y].join(" ")),this.fire("update")}},_initPath:function(e){var t=e._path=wo("path");e.options.className&&Je(t,e.options.className),e.options.interactive&&Je(t,"leaflet-interactive"),this._updateStyle(e),this._layers[f(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){At(e._path),e.removeInteractiveTarget(e._path),delete this._layers[f(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var t=e._path,o=e.options;t&&(o.stroke?(t.setAttribute("stroke",o.color),t.setAttribute("stroke-opacity",o.opacity),t.setAttribute("stroke-width",o.weight),t.setAttribute("stroke-linecap",o.lineCap),t.setAttribute("stroke-linejoin",o.lineJoin),o.dashArray?t.setAttribute("stroke-dasharray",o.dashArray):t.removeAttribute("stroke-dasharray"),o.dashOffset?t.setAttribute("stroke-dashoffset",o.dashOffset):t.removeAttribute("stroke-dashoffset")):t.setAttribute("stroke","none"),o.fill?(t.setAttribute("fill",o.fillColor||o.color),t.setAttribute("fill-opacity",o.fillOpacity),t.setAttribute("fill-rule",o.fillRule||"evenodd")):t.setAttribute("fill","none"))},_updatePoly:function(e,t){this._setPath(e,at(e._parts,t))},_updateCircle:function(e){var t=e._point,o=Math.max(Math.round(e._radius),1),r=Math.max(Math.round(e._radiusY),1)||o,c="a"+o+","+r+" 0 1,0 ",g=e._empty()?"M0 0":"M"+(t.x-o)+","+t.y+c+o*2+",0 "+c+-o*2+",0 ";this._setPath(e,g)},_setPath:function(e,t){e._path.setAttribute("d",t)},_bringToFront:function(e){Gn(e._path)},_bringToBack:function(e){Jn(e._path)}});pe.vml&&Ui.include(qc);function Yr(e){return pe.svg||pe.vml?new Ui(e):null}ct.include({getRenderer:function(e){var t=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return t||(t=this._renderer=this._createRenderer()),this.hasLayer(t)||this.addLayer(t),t},_getPaneRenderer:function(e){if(e==="overlayPane"||e===void 0)return!1;var t=this._paneRenderers[e];return t===void 0&&(t=this._createRenderer({pane:e}),this._paneRenderers[e]=t),t},_createRenderer:function(e){return this.options.preferCanvas&&Xr(e)||Yr(e)}});var Qr=wi.extend({initialize:function(e,t){wi.prototype.initialize.call(this,this._boundsToLatLngs(e),t)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return e=ie(e),[e.getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});function Kc(e,t){return new Qr(e,t)}Ui.create=wo,Ui.pointsToPath=at,jn.geometryToLayer=go,jn.coordsToLatLng=_s,jn.coordsToLatLngs=yo,jn.latLngToCoords=bs,jn.latLngsToCoords=vo,jn.getFeature=Ci,jn.asFeature=xo,ct.mergeOptions({boxZoom:!0});var ea=Ln.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){Te(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){tt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){At(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||e.which!==1&&e.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Vn(),Wi(),this._startPoint=this._map.mouseEventToContainerPoint(e),Te(document,{contextmenu:si,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=et("div","leaflet-zoom-box",this._container),Je(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var t=new ue(this._point,this._startPoint),o=t.getSize();Ht(this._box,t.min),this._box.style.width=o.x+"px",this._box.style.height=o.y+"px"},_finish:function(){this._moved&&(At(this._box),zt(this._container,"leaflet-crosshair")),Tn(),b(),tt(document,{contextmenu:si,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if(!(e.which!==1&&e.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(p(this._resetState,this),0);var t=new U(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(t).fire("boxzoomend",{boxZoomBounds:t})}},_onKeyDown:function(e){e.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ct.addInitHook("addHandler","boxZoom",ea),ct.mergeOptions({doubleClickZoom:!0});var ta=Ln.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var t=this._map,o=t.getZoom(),r=t.options.zoomDelta,c=e.originalEvent.shiftKey?o-r:o+r;t.options.doubleClickZoom==="center"?t.setZoom(c):t.setZoomAround(e.containerPoint,c)}});ct.addInitHook("addHandler","doubleClickZoom",ta),ct.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var na=Ln.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new qn(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}Je(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){zt(this._map._container,"leaflet-grab"),zt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var t=ie(this._map.options.maxBounds);this._offsetLimit=ke(this._map.latLngToContainerPoint(t.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(t.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var t=this._lastTime=+new Date,o=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(o),this._times.push(t),this._prunePositions(t)}this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){for(;this._positions.length>1&&e-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),t=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=t.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,t){return e-(e-t)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var e=this._draggable._newPos.subtract(this._draggable._startPos),t=this._offsetLimit;e.x<t.min.x&&(e.x=this._viscousLimit(e.x,t.min.x)),e.y<t.min.y&&(e.y=this._viscousLimit(e.y,t.min.y)),e.x>t.max.x&&(e.x=this._viscousLimit(e.x,t.max.x)),e.y>t.max.y&&(e.y=this._viscousLimit(e.y,t.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,t=Math.round(e/2),o=this._initialWorldOffset,r=this._draggable._newPos.x,c=(r-t+o)%e+t-o,g=(r+t+o)%e-t-o,w=Math.abs(c+o)<Math.abs(g+o)?c:g;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=w},_onDragEnd:function(e){var t=this._map,o=t.options,r=!o.inertia||e.noInertia||this._times.length<2;if(t.fire("dragend",e),r)t.fire("moveend");else{this._prunePositions(+new Date);var c=this._lastPos.subtract(this._positions[0]),g=(this._lastTime-this._times[0])/1e3,w=o.easeLinearity,I=c.multiplyBy(w/g),O=I.distanceTo([0,0]),ee=Math.min(o.inertiaMaxSpeed,O),_e=I.multiplyBy(ee/O),je=ee/(o.inertiaDeceleration*w),ot=_e.multiplyBy(-je/2).round();!ot.x&&!ot.y?t.fire("moveend"):(ot=t._limitOffset(ot,t.options.maxBounds),oe(function(){t.panBy(ot,{duration:je,easeLinearity:w,noMoveStart:!0,animate:!0})}))}}});ct.addInitHook("addHandler","dragging",na),ct.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ia=Ln.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),Te(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),tt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,t=document.documentElement,o=e.scrollTop||t.scrollTop,r=e.scrollLeft||t.scrollLeft;this._map._container.focus(),window.scrollTo(r,o)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var t=this._panKeys={},o=this.keyCodes,r,c;for(r=0,c=o.left.length;r<c;r++)t[o.left[r]]=[-1*e,0];for(r=0,c=o.right.length;r<c;r++)t[o.right[r]]=[e,0];for(r=0,c=o.down.length;r<c;r++)t[o.down[r]]=[0,e];for(r=0,c=o.up.length;r<c;r++)t[o.up[r]]=[0,-1*e]},_setZoomDelta:function(e){var t=this._zoomKeys={},o=this.keyCodes,r,c;for(r=0,c=o.zoomIn.length;r<c;r++)t[o.zoomIn[r]]=e;for(r=0,c=o.zoomOut.length;r<c;r++)t[o.zoomOut[r]]=-e},_addHooks:function(){Te(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){tt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var t=e.keyCode,o=this._map,r;if(t in this._panKeys){if(!o._panAnim||!o._panAnim._inProgress)if(r=this._panKeys[t],e.shiftKey&&(r=ae(r).multiplyBy(3)),o.options.maxBounds&&(r=o._limitOffset(ae(r),o.options.maxBounds)),o.options.worldCopyJump){var c=o.wrapLatLng(o.unproject(o.project(o.getCenter()).add(r)));o.panTo(c)}else o.panBy(r)}else if(t in this._zoomKeys)o.setZoom(o.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[t]);else if(t===27&&o._popup&&o._popup.options.closeOnEscapeKey)o.closePopup();else return;si(e)}}});ct.addInitHook("addHandler","keyboard",ia),ct.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var oa=Ln.extend({addHooks:function(){Te(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){tt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var t=Pr(e),o=this._map.options.wheelDebounceTime;this._delta+=t,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var r=Math.max(o-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(p(this._performZoom,this),r),si(e)},_performZoom:function(){var e=this._map,t=e.getZoom(),o=this._map.options.zoomSnap||0;e._stop();var r=this._delta/(this._map.options.wheelPxPerZoomLevel*4),c=4*Math.log(2/(1+Math.exp(-Math.abs(r))))/Math.LN2,g=o?Math.ceil(c/o)*o:c,w=e._limitZoom(t+(this._delta>0?g:-g))-t;this._delta=0,this._startTime=null,w&&(e.options.scrollWheelZoom==="center"?e.setZoom(t+w):e.setZoomAround(this._lastMousePos,t+w))}});ct.addInitHook("addHandler","scrollWheelZoom",oa);var Xc=600;ct.mergeOptions({tapHold:pe.touchNative&&pe.safari&&pe.mobile,tapTolerance:15});var sa=Ln.extend({addHooks:function(){Te(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){tt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(clearTimeout(this._holdTimeout),e.touches.length===1){var t=e.touches[0];this._startPos=this._newPos=new V(t.clientX,t.clientY),this._holdTimeout=setTimeout(p(function(){this._cancel(),this._isTapValid()&&(Te(document,"touchend",rn),Te(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",t))},this),Xc),Te(document,"touchend touchcancel contextmenu",this._cancel,this),Te(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function e(){tt(document,"touchend",rn),tt(document,"touchend touchcancel",e)},_cancel:function(){clearTimeout(this._holdTimeout),tt(document,"touchend touchcancel contextmenu",this._cancel,this),tt(document,"touchmove",this._onMove,this)},_onMove:function(e){var t=e.touches[0];this._newPos=new V(t.clientX,t.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(e,t){var o=new MouseEvent(e,{bubbles:!0,cancelable:!0,view:window,screenX:t.screenX,screenY:t.screenY,clientX:t.clientX,clientY:t.clientY});o._simulated=!0,t.target.dispatchEvent(o)}});ct.addInitHook("addHandler","tapHold",sa),ct.mergeOptions({touchZoom:pe.touch,bounceAtZoomLimits:!0});var ra=Ln.extend({addHooks:function(){Je(this._map._container,"leaflet-touch-zoom"),Te(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){zt(this._map._container,"leaflet-touch-zoom"),tt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var t=this._map;if(!(!e.touches||e.touches.length!==2||t._animatingZoom||this._zooming)){var o=t.mouseEventToContainerPoint(e.touches[0]),r=t.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=t.getSize()._divideBy(2),this._startLatLng=t.containerPointToLatLng(this._centerPoint),t.options.touchZoom!=="center"&&(this._pinchStartLatLng=t.containerPointToLatLng(o.add(r)._divideBy(2))),this._startDist=o.distanceTo(r),this._startZoom=t.getZoom(),this._moved=!1,this._zooming=!0,t._stop(),Te(document,"touchmove",this._onTouchMove,this),Te(document,"touchend touchcancel",this._onTouchEnd,this),rn(e)}},_onTouchMove:function(e){if(!(!e.touches||e.touches.length!==2||!this._zooming)){var t=this._map,o=t.mouseEventToContainerPoint(e.touches[0]),r=t.mouseEventToContainerPoint(e.touches[1]),c=o.distanceTo(r)/this._startDist;if(this._zoom=t.getScaleZoom(c,this._startZoom),!t.options.bounceAtZoomLimits&&(this._zoom<t.getMinZoom()&&c<1||this._zoom>t.getMaxZoom()&&c>1)&&(this._zoom=t._limitZoom(this._zoom)),t.options.touchZoom==="center"){if(this._center=this._startLatLng,c===1)return}else{var g=o._add(r)._divideBy(2)._subtract(this._centerPoint);if(c===1&&g.x===0&&g.y===0)return;this._center=t.unproject(t.project(this._pinchStartLatLng,this._zoom).subtract(g),this._zoom)}this._moved||(t._moveStart(!0,!1),this._moved=!0),$(this._animRequest);var w=p(t._move,t,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=oe(w,this,!0),rn(e)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,$(this._animRequest),tt(document,"touchmove",this._onTouchMove,this),tt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ct.addInitHook("addHandler","touchZoom",ra),ct.BoxZoom=ea,ct.DoubleClickZoom=ta,ct.Drag=na,ct.Keyboard=ia,ct.ScrollWheelZoom=oa,ct.TapHold=sa,ct.TouchZoom=ra,s.Bounds=ue,s.Browser=pe,s.CRS=Q,s.Canvas=Kr,s.Circle=xs,s.CircleMarker=fo,s.Class=re,s.Control=An,s.DivIcon=Vr,s.DivOverlay=En,s.DomEvent=fc,s.DomUtil=yt,s.Draggable=qn,s.Evented=Le,s.FeatureGroup=On,s.GeoJSON=jn,s.GridLayer=Ji,s.Handler=Ln,s.Icon=Si,s.ImageOverlay=_o,s.LatLng=T,s.LatLngBounds=U,s.Layer=kn,s.LayerGroup=bi,s.LineUtil=Pc,s.Map=ct,s.Marker=mo,s.Mixin=Sc,s.Path=Kn,s.Point=V,s.PolyUtil=wc,s.Polygon=wi,s.Polyline=zn,s.Popup=bo,s.PosAnimation=Ir,s.Projection=Ic,s.Rectangle=Qr,s.Renderer=Bn,s.SVG=Ui,s.SVGOverlay=Jr,s.TileLayer=Ti,s.Tooltip=So,s.Transformation=nt,s.Util=he,s.VideoOverlay=Gr,s.bind=p,s.bounds=ke,s.canvas=Xr,s.circle=zc,s.circleMarker=Oc,s.control=Hi,s.divIcon=Jc,s.extend=d,s.featureGroup=Ec,s.geoJSON=$r,s.geoJson=Fc,s.gridLayer=Vc,s.icon=Rc,s.imageOverlay=Wc,s.latLng=D,s.latLngBounds=ie,s.layerGroup=Lc,s.map=gc,s.marker=Nc,s.point=ae,s.polygon=Bc,s.polyline=jc,s.popup=$c,s.rectangle=Kc,s.setOptions=A,s.stamp=f,s.svg=Yr,s.svgOverlay=Hc,s.tileLayer=Ur,s.tooltip=Gc,s.transformation=Oe,s.version=l,s.videoOverlay=Zc;var Yc=window.L;s.noConflict=function(){return window.L=Yc,this},window.L=s})}(Qi,Qi.exports)),Qi.exports}var uo=cm();const tr=Ju(uo);function vr(n,i,s){return Object.freeze({instance:n,context:i,container:s})}function xr(n,i){return i==null?function(l,d){const h=u.useRef(void 0);return h.current||(h.current=n(l,d)),h}:function(l,d){const h=u.useRef(void 0);h.current||(h.current=n(l,d));const p=u.useRef(l),{instance:m}=h.current;return u.useEffect(function(){p.current!==l&&(i(m,l,p.current),p.current=l)},[m,l,i]),h}}function um(n,i){u.useEffect(function(){return(i.layerContainer??i.map).addLayer(n.instance),function(){var h;(h=i.layerContainer)==null||h.removeLayer(n.instance),i.map.removeLayer(n.instance)}},[i,n])}function jl(n){return function(s){const l=gr(),d=n(yr(s,l),l);return Ol(l.map,s.attribution),zl(d.current,s.eventHandlers),um(d.current,l),d}}function dm(n,i){const s=xr(n,i),l=jl(s);return om(l)}function pm(n,i){const s=xr(n),l=am(s,i);return sm(l)}function hm(n,i){const s=xr(n,i),l=jl(s);return rm(l)}function mm(n,i,s){const{opacity:l,zIndex:d}=i;l!=null&&l!==s.opacity&&n.setOpacity(l),d!=null&&d!==s.zIndex&&n.setZIndex(d)}function _r(){return gr().map}function fm(n){const i=_r();return u.useEffect(function(){return i.on(n),function(){i.off(n)}},[i,n]),i}function gm({bounds:n,boundsOptions:i,center:s,children:l,className:d,id:h,placeholder:p,style:m,whenReady:f,zoom:_,...x},v){const[y]=u.useState({className:d,id:h,style:m}),[S,k]=u.useState(null),A=u.useRef(void 0);u.useImperativeHandle(v,()=>(S==null?void 0:S.map)??null,[S]);const C=u.useCallback(J=>{if(J!==null&&!A.current){const z=new uo.Map(J,x);A.current=z,s!=null&&_!=null?z.setView(s,_):n!=null&&z.fitBounds(n,i),f!=null&&z.whenReady(f),k(nm(z))}},[]);u.useEffect(()=>()=>{S==null||S.map.remove()},[S]);const R=S?vn.createElement(fr,{value:S},l):p??null;return vn.createElement("div",{...y,ref:C},R)}const ym=u.forwardRef(gm),Oa=dm(function({position:i,...s},l){const d=new uo.Marker(i,s);return vr(d,im(l,{overlayContainer:d}))},function(i,s,l){s.position!==l.position&&i.setLatLng(s.position),s.icon!=null&&s.icon!==l.icon&&i.setIcon(s.icon),s.zIndexOffset!=null&&s.zIndexOffset!==l.zIndexOffset&&i.setZIndexOffset(s.zIndexOffset),s.opacity!=null&&s.opacity!==l.opacity&&i.setOpacity(s.opacity),i.dragging!=null&&s.draggable!==l.draggable&&(s.draggable===!0?i.dragging.enable():i.dragging.disable())}),vm=hm(function({url:i,...s},l){const d=new uo.TileLayer(i,yr(s,l));return vr(d,l)},function(i,s,l){mm(i,s,l);const{url:d}=s;d!=null&&d!==l.url&&i.setUrl(d)}),za=pm(function(i,s){const l=new uo.Tooltip(i,s.overlayContainer);return vr(l,s)},function(i,s,{position:l},d){u.useEffect(function(){const p=s.overlayContainer;if(p==null)return;const{instance:m}=i,f=x=>{x.tooltip===m&&(l!=null&&m.setLatLng(l),m.update(),d(!0))},_=x=>{x.tooltip===m&&d(!1)};return p.on({tooltipopen:f,tooltipclose:_}),p.bindTooltip(m),function(){p.off({tooltipopen:f,tooltipclose:_}),p._map!=null&&p.unbindTooltip()}},[i,s,d,l])});function xm(){const n=_r();return u.useEffect(()=>{const i=n.getContainer(),s=new ResizeObserver(()=>{n.invalidateSize({animate:!1})});return s.observe(i),()=>s.disconnect()},[n]),null}function _m({onMapDragStart:n,onMapDragEnd:i}){return fm({dragstart(){n()},dragend(){i()},click(){}}),null}function bm({selectedTask:n,selectedTasks:i,selectedResource:s,selectedResources:l,shouldZoom:d}){const h=_r(),p=vn.useRef("");return u.useEffect(()=>{if(!d)return;const m=i.length?i:n?[n]:[],f=l.length?l:s?[s]:[],_=[...m.filter(y=>y.lat&&y.lng),...f.filter(y=>y.homeLat&&y.homeLng)];if(!_.length)return;const x=_.map(y=>y.taskId?y.taskId:y.resourceId).join(",");if(x===p.current)return;if(p.current=x,_.length===1){const y=_[0];h.setView([Number(y.lat??y.homeLat),Number(y.lng??y.homeLng)],15,{animate:!1});return}const v=tr.latLngBounds(_.map(y=>[Number(y.lat??y.homeLat),Number(y.lng??y.homeLng)]));h.fitBounds(v,{padding:[60,60],animate:!1})},[n,i,s,l,d,h]),null}function Sm({tasks:n,resources:i,selectedTask:s,selectedTasks:l,selectedResource:d,selectedResources:h,shouldZoom:p,handleTaskMapClick:m,handleResourceMapClick:f,notifyMapDragStart:_,notifyMapDragEnd:x}){const v=qt(),y=u.useMemo(()=>n.filter(C=>C.lat&&C.lng),[n]),S=u.useMemo(()=>i.filter(C=>C.homeLat&&C.homeLng),[i]),k=new Set(l.map(C=>C.taskId)),A=new Set(h.map(C=>C.resourceId));return a.jsx(vt,{"data-map-root":"true",elevation:0,sx:{height:"100%",display:"flex",flexDirection:"column",borderRadius:3,px:3,py:2.5,border:`1px solid ${K(v.palette.primary.main,.18)}`,boxShadow:"0 18px 46px rgba(8,58,97,0.18)",backgroundImage:"none"},children:a.jsx(Se,{sx:{flex:1,borderRadius:2,overflow:"hidden",position:"relative"},children:a.jsxs(ym,{center:[51.713,-3.449],zoom:12,style:{width:"100%",height:"100%"},children:[a.jsx(xm,{}),a.jsx(_m,{onMapDragStart:_,onMapDragEnd:x}),a.jsx(bm,{selectedTask:s,selectedTasks:l,selectedResource:d,selectedResources:h,shouldZoom:p}),a.jsx(vm,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),y.map(C=>{const R=!!(k.has(C.taskId)||s&&s.taskId===C.taskId),J=tr.divIcon({className:"custom-pin",iconSize:[36,50],iconAnchor:[18,46],html:El(Ml[C.commitmentType]??"#6B7280",R)});return a.jsx(Oa,{position:[C.lat,C.lng],icon:J,eventHandlers:{click:z=>{var N,G;const M=((N=z.originalEvent)==null?void 0:N.ctrlKey)||((G=z.originalEvent)==null?void 0:G.metaKey)||!1;m(C,M)},mouseover:z=>{var N;const M=z.target;(N=M.closeTooltip)==null||N.call(M)},dblclick:z=>{var N;const M=z.target;(N=M.openTooltip)==null||N.call(M)}},children:a.jsx(za,{direction:"top",offset:[0,-36],permanent:!1,sticky:!1,opacity:1,className:"leaflet-tooltip-surface",children:a.jsxs(Se,{sx:{fontSize:12,lineHeight:1.4,color:v.palette.text.primary},children:[a.jsx(Se,{component:"span",sx:{fontWeight:700,display:"block"},children:C.taskId}),a.jsx(Se,{component:"span",sx:{color:v.palette.text.secondary},children:C.customerAddress})]})})},C.taskId)}),S.map(C=>{const R=!!(A.has(C.resourceId)||d&&d.resourceId===C.resourceId),J=tr.divIcon({className:"custom-pin",iconSize:[36,50],iconAnchor:[18,46],html:Rl(C.status,R)});return a.jsx(Oa,{position:[C.homeLat,C.homeLng],icon:J,eventHandlers:{click:z=>{var N,G;const M=((N=z.originalEvent)==null?void 0:N.ctrlKey)||((G=z.originalEvent)==null?void 0:G.metaKey)||!1;f(C,M)},mouseover:z=>{var N;const M=z.target;(N=M.closeTooltip)==null||N.call(M)},dblclick:z=>{var N;const M=z.target;(N=M.openTooltip)==null||N.call(M)}},children:a.jsx(za,{direction:"top",offset:[0,-36],permanent:!1,sticky:!1,opacity:1,className:"leaflet-tooltip-surface",children:a.jsxs(Se,{sx:{fontSize:12,lineHeight:1.4,color:v.palette.text.primary},children:[a.jsx(Se,{component:"span",sx:{fontWeight:700,display:"block"},children:C.name}),a.jsx(Se,{component:"span",sx:{display:"block",color:v.palette.text.secondary},children:C.homePostCode}),a.jsxs(Se,{component:"span",sx:{color:v.palette.text.secondary},children:["Status: ",C.status]})]})})},C.resourceId)})]})})})}function wm({visible:n,x:i,y:s,selectedRows:l,clickedColumnKey:d,clickedRow:h,onClose:p,onOpenPopout:m,onOpenCalloutIncident:f,onProgressTasks:_,onProgressNotes:x,mouseScreenX:v,mouseScreenY:y}){if(!n)return null;const S=l.length?l:h?[h]:[],k=S.length,A=k>1?`Open Viewer (${k})`:"Open Viewer",C=()=>{if(S.length){try{m(S,v,y)}catch(E){console.error("ContextMenu â†’ onOpenPopout error:",E)}p()}},R=()=>{if(!(!S.length||!_)){try{_(S)}catch(E){console.error("ContextMenu â†’ onProgressTasks error:",E)}p()}},J=()=>{if(!(!S.length||!x)){try{x(S)}catch(E){console.error("ContextMenu â†’ onProgressNotes error:",E)}p()}},z=async()=>{if(!h||!d)return;const E=h[d],W=E==null?"":String(E);try{await navigator.clipboard.writeText(W)}catch(oe){console.error("Clipboard write error:",oe)}p()},M=h&&d?String(h[d]??""):"",N=()=>{if(h){try{f(h)}catch(E){console.error("ContextMenu â†’ onOpenCalloutIncident error:",E)}p()}},G=(h==null?void 0:h.taskId)??(h==null?void 0:h.TaskID)??(h==null?void 0:h.TaskId)??(h==null?void 0:h.id)??null,B=G?`Callout Incident: ${G}`:"Callout Incident",Y=a.jsx(di,{children:n&&a.jsxs(hn.ul,{initial:{opacity:0,scale:.96},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.96},transition:{duration:.12},style:{position:"fixed",top:y,left:v,minWidth:`min(90vw, ${24*14.1667}px)`,zIndex:99999},className:"rounded-xl border border-gray-200 bg-white shadow-xl text-sm text-gray-800 py-1 overflow-hidden",onMouseDown:E=>E.stopPropagation(),children:[d&&h&&a.jsxs("li",{onClick:z,className:`px-4 py-2.5 flex items-center gap-3 cursor-pointer 
                         hover:bg-gray-50 transition-all`,children:[a.jsx(Eu,{size:15,className:"text-gray-700"}),a.jsxs("span",{className:"text-gray-800",children:["Copy value:"," ",a.jsx("span",{className:"font-semibold",children:M})]})]}),S.length>0&&_&&a.jsxs("li",{onClick:R,className:`px-4 py-2.5 flex items-center gap-3 cursor-pointer 
                         hover:bg-gray-50 transition-all`,children:[a.jsx(es,{size:15,className:"text-[#0A4A7A]"}),a.jsx("span",{className:"font-medium text-gray-800",children:k>1?`Progress Tasks (${k})`:"Progress Task"})]}),S.length>0&&x&&a.jsxs("li",{onClick:J,className:`px-4 py-2.5 flex items-center gap-3 cursor-pointer 
                         hover:bg-gray-50 transition-all`,children:[a.jsx(Us,{size:15,className:"text-[#0A4A7A]"}),a.jsx("span",{className:"font-medium text-gray-800",children:k>1?`Progress Notes (${k})`:"Progress Notes"})]}),a.jsxs("li",{onClick:C,className:`px-4 py-2.5 flex items-center gap-3 cursor-pointer 
                       hover:bg-gray-50 transition-all`,children:[a.jsx(Ru,{size:15,className:"text-gray-700"}),a.jsx("span",{className:"font-medium text-gray-800",children:A})]}),h&&a.jsxs("li",{onClick:N,className:`px-4 py-2.5 flex items-center gap-3 cursor-pointer 
                       hover:bg-red-50 transition-all text-red-700`,children:[a.jsx(cr,{size:15,className:"text-red-600"}),a.jsx("span",{className:"font-semibold",children:B})]})]})});try{return Ri.createPortal(Y,document.body)}catch{return Y}}const Di=["Assigned","Dispatched","Accepted","In Progress","Incomplete","Complete"],Bl=["On Hold","Cancelled","Deferred","Rejected","Other"],Rn=[...Di,...Bl],ui=n=>n?n.trim().toLowerCase():"",ja=n=>{const i=ui(n);if(!i)return{nextStatus:Rn[0],progressed:!0};const s=Di.findIndex(l=>l.toLowerCase()===i);return s===-1?{nextStatus:n&&Rn.includes(n)?n:Rn[0],progressed:!n}:s>=Di.length-1?{nextStatus:Di[s],progressed:!1}:{nextStatus:Di[s+1],progressed:!0}},Cm=n=>Array.isArray(n)?n.map(s=>{if(!s)return null;const l=typeof s.text=="string"?s.text.trim():"";if(!l)return null;const d=s.ts;return{ts:typeof d=="string"&&d?d:new Date().toISOString(),status:typeof s.status=="string"?s.status:void 0,text:l,source:typeof s.source=="string"?s.source:void 0}}).filter(s=>!!s).sort((s,l)=>{const d=new Date(s.ts).getTime();return new Date(l.ts).getTime()-d}):typeof n=="string"&&n.trim()?[{ts:new Date().toISOString(),status:void 0,text:n.trim(),source:"Imported"}]:[],Ba=70,Tm=28*8;function Fa(n){var i;if(n==null)return"string";if(typeof n=="number")return"number";if(typeof n=="string"){const s=Number(((i=n.replace)==null?void 0:i.call(n,/[, ]/g,""))??n);if(!Number.isNaN(s)&&n.trim()!=="")return"number";const l=new Date(n);return!Number.isNaN(l.getTime())&&/\d/.test(n)?"date":"string"}return n instanceof Date?"date":"string"}function Am(n,i,s){const l=Fa(n),d=Fa(i);let h=0;if(l==="number"&&d==="number"){const p=typeof n=="number"?n:Number(String(n).replace(/[, ]/g,"")),m=typeof i=="number"?i:Number(String(i).replace(/[, ]/g,""));h=p-m}else if(l==="date"&&d==="date"){const p=n instanceof Date?n.getTime():new Date(n).getTime(),m=i instanceof Date?i.getTime():new Date(i).getTime();h=p-m}else h=String(n??"").localeCompare(String(i??""),void 0,{sensitivity:"base",numeric:!0});return s==="asc"?h:-h}function km(n){return n===null?"asc":n==="asc"?"desc":null}function br({rows:n,headerNames:i,tableHeight:s,sx:l,onOpenTask:d,onOpenMultiple:h,clearSelectionTrigger:p,onOpenPopout:m,onOpenCalloutIncident:f,onSelectionChange:_,rowIdKey:x,controlledSelectedRowIds:v}){const y=qt(),S=typeof window<"u"&&typeof document<"u",[k,A]=u.useState(null),[C,R]=u.useState(null),J=u.useMemo(()=>Object.keys(i),[i]),[z,M]=u.useState(J),[N,G]=u.useState({}),[B,Y]=u.useState(!1),E=u.useRef(null),W=u.useRef(0),oe=u.useRef(0),[$,he]=u.useState(null),[re,ve]=u.useState(null),[de,Le]=u.useState(new Set),[V,Ie]=u.useState(null),ae=u.useRef(!1),[ue,ke]=u.useState({x:0,y:0,visible:!1,clickedRow:null,clickedColumnKey:null}),[U,ie]=u.useState({open:!1,tasks:[]}),[T,D]=u.useState(Rn[0]),[Q,se]=u.useState(""),[me,Ee]=u.useState(""),[nt,Oe]=u.useState(!1),[Me,Fe]=u.useState(null),[rt,at]=u.useState(null),[le,Pe]=u.useState({open:!1,tasks:[]}),[we,ut]=u.useState(""),[lt,kt]=u.useState(!1),[St,ht]=u.useState(null),[Yt,Pt]=u.useState(null),[pt,Ve]=u.useState({open:!1,task:null,notes:[]}),[Ge,Re]=u.useState(""),[dt,xt]=u.useState(!1),[mt,Gt]=u.useState(null),[Lt,Et]=u.useState(null),[Ot,en]=u.useState({x:0,y:0,visible:!1,key:null}),[Kt,Zt]=u.useState(""),[ce,P]=u.useState(()=>window.innerHeight||900);u.useEffect(()=>{const b=()=>P(window.innerHeight);return window.addEventListener("resize",b),()=>window.removeEventListener("resize",b)},[]);const H=u.useMemo(()=>ce<600?"calc(var(--vh, 1vh) * 20)":ce<800?"calc(var(--vh, 1vh) * 22)":"calc(var(--vh, 1vh) * 24)",[ce]),fe=u.useRef(null),Qe=u.useRef(null),Ze=u.useRef(null),De=u.useRef(null),[Ue,X]=u.useState(0),[q,te]=u.useState(0),[ne,He]=u.useState(1),[qe,pe]=u.useState(100),Tt=Math.max(1,Math.ceil(n.length/qe)),[Rt,ft]=u.useState(()=>localStorage.getItem("taskTableDensity")==="comfortable"?"comfortable":"compact");u.useEffect(()=>{localStorage.setItem("taskTableDensity",Rt)},[Rt]);const it=u.useCallback(()=>{Le(new Set),Ie(null)},[]);u.useEffect(()=>{M(J)},[J]),u.useEffect(()=>{ne>Tt&&He(Tt)},[ne,Tt]),u.useEffect(()=>{if(!n.length||!z.length){Y(!0);return}const j=document.createElement("canvas").getContext("2d");if(!j)return;j.font="12px Inter, sans-serif";const ge={};for(const be of z){const Ce=j.measureText(i[be]??be).width,ze=n.slice(0,10).map(Ne=>j.measureText(String(Ne[be]??"")).width).reduce((Ne,yt)=>Math.max(Ne,yt),0);ge[be]=Math.min(Math.max(Ce,ze)+Ba,380)}G(ge),setTimeout(()=>Y(!0),120)},[n,i,z]);const Jt=u.useMemo(()=>n.length?!k||!C?n:[...n].sort((b,j)=>Am(b[k],j[k],C)):[],[n,k,C]),tn=u.useMemo(()=>{const b=(ne-1)*qe;return Jt.slice(b,b+qe)},[Jt,ne,qe]);u.useEffect(()=>{if(ae.current){console.log("ðŸ”µ TABLE: User selecting manually â€” ignore controlled update");return}if(!v||!x){console.log("ðŸ”µ TABLE: No controlled selection (map â†’ table) triggered");return}console.log("ðŸ”µ TABLE: Controlled selection received:",Array.from(v));const b=new Set;tn.forEach((j,ge)=>{const be=String(j[x]);v.has(be)&&(console.log("ðŸ”µ TABLE: Match found on page index:",ge,"id:",be),b.add(ge))}),console.log("ðŸ”µ TABLE: Final row set:",Array.from(b)),Le(b)},[v,tn,x]),u.useEffect(()=>{const b=setTimeout(()=>{ae.current=!1},50);return()=>clearTimeout(b)},[de]),u.useEffect(()=>{const b=ge=>{if(!E.current)return;const be=E.current,Ce=ge.clientX-W.current;G(ze=>({...ze,[be]:Math.max(80,oe.current+Ce)}))},j=()=>{E.current=null,document.body.style.cursor="default"};return window.addEventListener("mousemove",b),window.addEventListener("mouseup",j),()=>{window.removeEventListener("mousemove",b),window.removeEventListener("mouseup",j)}},[]);const Z=(b,j)=>{j.preventDefault(),j.stopPropagation(),E.current=b,W.current=j.clientX,oe.current=N[b]??180,document.body.style.cursor="col-resize"},F=b=>{const ge=document.createElement("canvas").getContext("2d");if(!ge)return;ge.font="12px Inter, sans-serif";const be=ge.measureText(i[b]??b).width,Ce=n.map(Ne=>ge.measureText(String(Ne[b]??"")).width).reduce((Ne,yt)=>Math.max(Ne,yt),0),ze=Math.min(Math.max(be,Ce)+Ba,420);G(Ne=>({...Ne,[b]:ze}))},xe=(b,j)=>{he(b),ve(null),j.dataTransfer.effectAllowed="move"},$e=(b,j)=>{j.preventDefault(),$&&$!==b&&ve(b)},Ke=(b,j)=>{if(j.preventDefault(),!$||$===b){he(null),ve(null);return}M(ge=>{const be=ge.indexOf($),Ce=ge.indexOf(b);if(be===-1||Ce===-1)return ge;const ze=[...ge],[Ne]=ze.splice(be,1);return ze.splice(Ce,0,Ne),ze}),he(null),ve(null)},gt=()=>{he(null),ve(null)},It=(b,j)=>{j.preventDefault(),j.stopPropagation();const ge=j.currentTarget.closest("th");if(!ge)return;const be=fe.current,Ce=Ze.current;if(!be||!Ce)return;const ze=be.getBoundingClientRect(),Ne=Ce.getBoundingClientRect(),yt=ge.getBoundingClientRect(),Te=Ne.left-ze.left+Ne.width/2-Tm/2,Mt=yt.bottom-ze.top+6;en({visible:!0,key:b,x:Te,y:Mt})},nn=u.useCallback(()=>{en(b=>({...b,visible:!1,key:null}))},[]),In=b=>{M(j=>{const ge=j.includes(b);if(ge&&j.length===1)return j;if(ge){const be=j.filter(Ce=>Ce!==b);return k===b&&(A(null),R(null)),be}else{const be=[...j],Ce=J.indexOf(b);if(Ce===-1)return be;let ze=be.length;for(let Ne=0;Ne<be.length;Ne++)if(J.indexOf(be[Ne])>Ce){ze=Ne;break}return be.splice(ze,0,b),be}})},fi=()=>{M(J),A(null),R(null),G({})},gi=(b,j)=>{b.preventDefault(),b.stopPropagation();const ge=fe.current;if(!ge)return;const be=ge.getBoundingClientRect(),Ce=b.clientX-be.left,ze=b.clientY-be.top;X(b.clientX),te(b.clientY);let Ne=null;const yt=b.target,Te=yt==null?void 0:yt.closest("td");if(Te){const tt=Te.getAttribute("data-colkey");tt&&(Ne=tt)}const Mt=tn[j]??null;ke({x:Ce,y:ze,visible:!0,clickedRow:Mt,clickedColumnKey:Ne}),Le(tt=>tt.has(j)?tt:new Set([j]))},Sn=u.useCallback(()=>{ke(b=>({...b,visible:!1,clickedRow:null,clickedColumnKey:null}))},[]),Vt=u.useCallback(b=>b?b.taskId??b.TaskID??b.TaskId??b.id??b.ID??b.Id??null:null,[]),We=u.useCallback(b=>b?b.taskStatus??b.TaskStatus??b.status??b.Status??"":"",[]),Ut=u.useCallback(b=>{if(!(b!=null&&b.length))return[];const j=[],ge=new Set;for(const be of b){if(!be)continue;const Ce=Vt(be);if(Ce!=null){const ze=String(Ce);if(ge.has(ze))continue;ge.add(ze)}j.push(be)}return j.length?j:b},[Vt]),sn=u.useCallback(b=>{if(!b)return[];const j=b.progressNotes??b.ProgressNotes??b.progress_notes??b.quickNotes??[];return Cm(j)},[]),wn=u.useCallback(b=>{if(!(b!=null&&b.length))return;const j=Ut(b),ge=j[0],be=(()=>{if(!ge)return Rn[0];const Ce=We(ge),ze=ja(Ce).nextStatus;return Rn.includes(ze)?ze:Ce&&Rn.includes(Ce)?Ce:Rn[0]})();D(be),ie({open:!0,tasks:j}),Ee(""),Fe(null),at(null)},[Ut,We]),mn=u.useCallback(()=>{ie({open:!1,tasks:[]}),Ee(""),Fe(null),at(null),D(Rn[0])},[]),$n=u.useCallback(b=>{const j=sn(b);Ve({open:!0,task:b,notes:j}),Re(""),Gt(null),Et(null)},[sn]),et=u.useCallback(()=>{Ve({open:!1,task:null,notes:[]}),Re(""),Gt(null),Et(null)},[]),At=u.useCallback(b=>{const j=Ut(b);j.length&&(Pe({open:!0,tasks:j}),ut(""),ht(null),Pt(null))},[Ut]),fn=u.useCallback(()=>{Pe({open:!1,tasks:[]}),ut(""),ht(null),Pt(null)},[]),Gn=u.useCallback(b=>{wn(b)},[wn]),Jn=u.useCallback(b=>{const j=Ut(b);if(j.length){if(j.length===1){$n(j[0]);return}At(j)}},[Ut,At,$n]),Bi=u.useCallback(async()=>{const b=me.trim();if(!b){Fe("Enter a quick note before saving.");return}if(nt)return;Oe(!0),Fe(null),at(null);const j=[],ge=[],be=[];for(const Ce of U.tasks){const ze=Vt(Ce);if(!ze){j.push("(missing id)");continue}const Ne=String(ze),yt=We(Ce),Mt=(T&&T.trim()?T:ja(yt).nextStatus)||yt,tt=new Date().toISOString(),xi=ui(yt)!==ui(Mt)?`${b} (Status â†’ ${Mt})`:b;try{const Un={taskId:Ne,text:xi,taskStatus:Mt};Q&&String(Q).trim()&&(Un.resourceId=String(Q).trim());const _i=await fetch("http://localhost:5179/progress-notes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Un)});if(!_i.ok)throw new Error(`HTTP ${_i.status}`);ge.push(Ne),be.push({taskId:Ne,previousStatus:yt,nextStatus:Mt,note:xi,timestamp:tt})}catch(Un){console.warn("Quick note sync failed",Un),j.push(Ne)}}if(Oe(!1),j.length){Fe(`Unable to update ${j.length} task${j.length===1?"":"s"}: ${j.join(",")}`),ge.length&&at(`Saved ${ge.length} task${ge.length===1?"":"s"}`);return}if(be.length&&typeof window<"u"&&document.dispatchEvent(new CustomEvent("taskforce:tasks-progressed",{detail:{items:be}})),ge.length){const Ce=be.filter(ze=>ui(ze.previousStatus)!==ui(ze.nextStatus)).length;Ce>0?at(`Updated ${ge.length} task${ge.length===1?"":"s"} (${Ce} progressed)`):at(`Saved ${ge.length} task${ge.length===1?"":"s"}`)}else at("Saved");Ee(""),setTimeout(()=>{mn()},900)},[mn,Vt,We,U.tasks,me,nt,T]),Je=u.useCallback(async()=>{const b=Ge.trim();if(!b){Gt("Enter a note before saving.");return}if(dt||!pt.task)return;xt(!0),Gt(null),Et(null);const j=Vt(pt.task);if(!j){xt(!1),Gt("Task identifier missing.");return}const ge=String(j),be=We(pt.task),Ce=be||"Updated",ze=new Date().toISOString();try{const Ne=await fetch("http://localhost:5179/progress-notes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({taskId:ge,text:b,taskStatus:Ce})});if(!Ne.ok)throw new Error(`HTTP ${Ne.status}`);const yt={ts:ze,status:Ce,text:b,source:"Quick Progress"};Ve(Te=>Te.task?{open:Te.open,task:{...Te.task,progressNotes:[yt,...Array.isArray(Te.task.progressNotes)?Te.task.progressNotes:[]]},notes:[yt,...Te.notes]}:Te),typeof document<"u"&&document.dispatchEvent(new CustomEvent("taskforce:tasks-progressed",{detail:{items:[{taskId:ge,previousStatus:be,nextStatus:Ce,note:b,timestamp:ze}]}})),Et("Saved note"),Re("")}catch(Ne){console.warn("Single progress note sync failed",Ne),Gt("Unable to save note. Try again.")}finally{xt(!1)}},[Vt,We,pt.task,dt,Ge]),zt=u.useCallback(async()=>{const b=we.trim();if(!b){ht("Enter a note before saving.");return}if(lt)return;kt(!0),ht(null),Pt(null);const j=[],ge=[],be=[];for(const Ce of le.tasks){const ze=Vt(Ce);if(!ze){j.push("(missing id)");continue}const Ne=String(ze),yt=We(Ce),Te=yt||"Updated",Mt=new Date().toISOString();try{const tt=await fetch("http://localhost:5179/progress-notes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({taskId:Ne,text:b,taskStatus:Te})});if(!tt.ok)throw new Error(`HTTP ${tt.status}`);ge.push(Ne),be.push({taskId:Ne,previousStatus:yt,nextStatus:Te,note:b,timestamp:Mt})}catch(tt){console.warn("Bulk progress note sync failed",tt),j.push(Ne)}}if(kt(!1),j.length){ht(`Unable to update ${j.length} task${j.length===1?"":"s"}: ${j.join(",")}`),ge.length&&Pt(`Saved ${ge.length} task${ge.length===1?"":"s"}`);return}be.length&&typeof document<"u"&&document.dispatchEvent(new CustomEvent("taskforce:tasks-progressed",{detail:{items:be}})),ge.length?Pt(`Saved ${ge.length} task${ge.length===1?"":"s"}`):Pt("Saved"),ut(""),setTimeout(()=>{fn()},900)},[fn,Vt,We,le.tasks,lt,we]);u.useEffect(()=>{if(!U.open)return;const b=j=>{j.key==="Escape"&&mn()};return window.addEventListener("keydown",b),()=>window.removeEventListener("keydown",b)},[mn,U.open]),u.useEffect(()=>{if(!le.open)return;const b=j=>{j.key==="Escape"&&fn()};return window.addEventListener("keydown",b),()=>window.removeEventListener("keydown",b)},[fn,le.open]),u.useEffect(()=>{if(!pt.open)return;const b=j=>{j.key==="Escape"&&et()};return window.addEventListener("keydown",b),()=>window.removeEventListener("keydown",b)},[et,pt.open]),u.useEffect(()=>{p!==void 0&&it()},[p,it]),u.useEffect(()=>{it()},[n,it]),u.useEffect(()=>{it()},[k,C,it]),u.useEffect(()=>{it()},[ne,qe,it]),u.useEffect(()=>{it()},[z,it]),u.useEffect(()=>{const b=ge=>{ge.key==="Escape"&&(Sn(),nn())},j=ge=>{var Ce;const be=ge.target;if(Ot.visible){const ze=(Ce=Qe.current)==null?void 0:Ce.contains(be),Ne=be.closest('[data-column-button="true"]');!ze&&!Ne&&nn()}if(ue.visible){const ze=document.querySelector(".task-context-menu");if(((ze==null?void 0:ze.contains(be))??!1)||ge.button===2)return;Sn()}if(fe.current&&!fe.current.contains(be)){const ze=be.closest("[data-table]"),Ne=be.closest(`[data-table="${x}"]`),yt=be.closest('[data-map-root="true"]');if(ze&&!Ne||yt)return;it()}};return window.addEventListener("keydown",b),window.addEventListener("mousedown",j),()=>{window.removeEventListener("keydown",b),window.removeEventListener("mousedown",j)}},[ue.visible,Ot.visible,Sn,nn,it]);const ii=s??"calc(100vh - 600px)",yi=B?1:0,dn=Ot.visible?"blur(1.5px)":"none",[cs,vi]=u.useState(!1);u.useEffect(()=>{const b=Ze.current;if(!b)return;const j=()=>vi(b.scrollTop>0);return b.addEventListener("scroll",j),()=>b.removeEventListener("scroll",j)},[]);const Cn=Array.from(de).map(b=>{const j=(ne-1)*qe+b;return Jt[j]}).filter(Boolean);u.useEffect(()=>{ae.current&&_&&_(Cn)},[Cn,_]);const Ht=ue.clickedRow??null,Mn=u.useMemo(()=>{const b=T&&T.trim()?T:Rn[0];return U.tasks.map(j=>{const ge=Vt(j),be=We(j);return{id:ge,currentStatus:be,nextStatus:b,willChange:ui(be)!==ui(b)}})},[Vt,We,U.tasks,T]),Vn=u.useMemo(()=>le.tasks.map(b=>{const j=Vt(b),ge=We(b);return{id:j,currentStatus:ge}}),[Vt,We,le.tasks]),Tn=u.useMemo(()=>{if(!pt.task)return{id:null,status:""};const b=Vt(pt.task),j=We(pt.task);return{id:b?String(b):null,status:j}},[Vt,We,pt.task]),Fi=u.useCallback(b=>{try{return new Date(b).toLocaleString("en-GB",{year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit"})}catch{return b}},[]),Dn=u.useMemo(()=>({width:"100%",display:"flex",flexDirection:"column",position:"relative",overflow:"hidden",borderRadius:3,border:`1px solid ${K(y.palette.primary.main,.12)}`,boxShadow:"0 20px 50px rgba(8, 58, 97, 0.12)",backgroundColor:K(y.palette.background.paper,.94),outline:"none"}),[y]),Wi=u.useMemo(()=>l?Array.isArray(l)?[Dn,...l]:[Dn,l]:Dn,[Dn,l]);return u.useEffect(()=>{if(!De.current||V==null)return;const b=De.current.querySelector(`tbody tr:nth-child(${V+1})`);b==null||b.scrollIntoView({block:"nearest"})},[V]),a.jsxs(vt,{ref:fe,"data-table":x,component:"section",elevation:0,square:!1,tabIndex:0,sx:Wi,onKeyDown:b=>{},onClick:b=>b.stopPropagation(),children:[a.jsx(Se,{ref:Ze,sx:{flexGrow:1,overflowX:"auto",overflowY:"auto",filter:dn,transition:"filter 150ms ease",height:ii,minHeight:ii,maxHeight:ii},children:a.jsxs(Cu,{stickyHeader:!0,size:"small",padding:"none",ref:De,sx:{tableLayout:"auto",minWidth:"100%",width:"100%",borderSpacing:0,opacity:yi,transition:"opacity 200ms ease-in-out","& thead th":{bgcolor:cs?K(y.palette.background.paper,.98):K(y.palette.background.paper,.94),borderBottom:`1px solid ${K(y.palette.primary.main,.16)}`,position:"sticky",top:0,zIndex:1,px:.5,py:.5,fontSize:"0.75rem"},"& th, & td":{color:y.palette.text.primary,borderRight:`1px solid ${K(y.palette.primary.main,.08)}`,"&:last-of-type":{borderRight:"none"},minWidth:80,maxWidth:"none",whiteSpace:"normal",overflow:"visible",textOverflow:"initial",wordBreak:"break-word"}},children:[a.jsx(Tu,{children:a.jsx(Ts,{children:z.map(b=>a.jsx(As,{sortDirection:k===b?C??!1:!1,sx:{position:"relative",px:1,py:1,"&.drag-over":{bgcolor:K(y.palette.primary.main,.12)}},className:re===b?"drag-over":void 0,children:a.jsxs(Ae,{direction:"row",alignItems:"center",spacing:1,draggable:!0,onDragStart:j=>xe(b,j),onDragOver:j=>$e(b,j),onDrop:j=>Ke(b,j),onDragEnd:gt,onClick:()=>{if(k!==b)A(b),R("asc");else{const j=km(C);R(j),j===null&&A(null)}},sx:{cursor:"pointer",userSelect:"none"},children:[a.jsx(ye,{variant:"subtitle2",noWrap:!0,sx:{pl:1},children:i[b]??b}),a.jsx(ye,{variant:"caption",sx:{color:"text.secondary"},children:k===b?C==="asc"?"â–²":"â–¼":""}),a.jsx(Se,{sx:{flexGrow:1}}),a.jsx(ln,{size:"small","data-column-button":"true","aria-label":`Column options for ${i[b]??b}`,onClick:j=>It(b,j),children:a.jsx(Nu,{size:16})}),a.jsx(Se,{onMouseDown:j=>Z(b,j),onDoubleClick:()=>F(b),sx:{position:"absolute",top:0,right:0,height:"100%",width:6,cursor:"col-resize",zIndex:2}})]})},b))})}),a.jsx(Au,{children:tn.length===0?a.jsx(Ts,{children:a.jsx(As,{colSpan:z.length||1,align:"center",sx:{py:6},children:a.jsxs(Ae,{spacing:1.5,alignItems:"center",sx:{color:"text.secondary"},children:[a.jsx(ye,{variant:"h4",component:"span",sx:{lineHeight:1},children:"ðŸ”Ž"}),a.jsx(ye,{variant:"body2",children:"No results found"}),a.jsx(ye,{variant:"caption",color:"text.secondary",children:"Try adjusting filters or resetting column layout."}),a.jsx(Nt,{variant:"outlined",size:"small",onClick:fi,sx:{mt:1,borderRadius:2},children:"Reset Columns"})]})})}):tn.map((b,j)=>{const ge=(ne-1)*qe+j,be=de.has(j);return a.jsx(Ts,{hover:!0,"data-row-index":ge,...x?{"data-row-id":b[x]}:{},onContextMenu:Ce=>gi(Ce,j),onDoubleClick:Ce=>{Ce.stopPropagation(),m&&m([tn[j]],Ce.screenX,Ce.screenY)},onClick:Ce=>{if(ae.current=!0,Ce.preventDefault(),Ce.shiftKey&&V!==null){const Ne=Math.min(V,j),yt=Math.max(V,j),Te=new Set;for(let Mt=Ne;Mt<=yt;Mt+=1)Te.add(Mt);Le(Te);return}if(Ce.ctrlKey||Ce.metaKey){Le(Ne=>{const yt=new Set(Ne);return yt.has(j)?yt.delete(j):yt.add(j),yt}),Ie(j);return}Le(new Set([j])),Ie(j);const ze=tn[j];_&&_([ze]),d&&d(ze)},selected:be,sx:{position:"relative",cursor:"pointer",backgroundColor:be?K(y.palette.primary.light,.14):j%2===0?K(y.palette.background.paper,.9):K(y.palette.background.default,.9),"&:hover":{backgroundColor:K(y.palette.primary.main,.12)},boxShadow:be?`inset 6px 0 0 0 ${y.palette.primary.main}`:void 0},children:z.map(Ce=>a.jsx(As,{"data-colkey":Ce,sx:{px:Rt==="comfortable"?1.5:.75,py:Rt==="comfortable"?1.25:.25,fontSize:Rt==="comfortable"?"0.9rem":"0.72rem",lineHeight:Rt==="comfortable"?1.25:1},children:a.jsx(Se,{sx:{display:"block",overflow:"hidden",textOverflow:"ellipsis"},children:String(b[Ce]??"")})},Ce))},j)})})]})}),n.length>0&&a.jsxs(Ae,{direction:{xs:"column",sm:"row"},spacing:2,alignItems:"center",justifyContent:"space-between",sx:{borderTop:`1px solid ${K(y.palette.primary.main,.12)}`,bgcolor:K(y.palette.background.paper,.92),px:3,py:2,color:"text.secondary"},children:[a.jsxs(Ae,{direction:"row",spacing:3,alignItems:"center",flexWrap:"wrap",useFlexGap:!0,children:[a.jsxs(ks,{size:"small",children:[a.jsx(Ps,{id:"density-label",children:"Density"}),a.jsxs(Is,{labelId:"density-label",label:"Density",value:Rt,onChange:b=>ft(b.target.value),sx:{minWidth:{xs:y.spacing(14),sm:y.spacing(18)}},children:[a.jsx(un,{value:"compact",children:"Compact"}),a.jsx(un,{value:"comfortable",children:"Comfortable"})]})]}),a.jsxs(ks,{size:"small",children:[a.jsx(Ps,{id:"rows-label",children:"Rows"}),a.jsx(Is,{labelId:"rows-label",label:"Rows",value:String(qe),onChange:b=>{pe(Number(b.target.value)),He(1)},sx:{minWidth:{xs:y.spacing(12),sm:y.spacing(15)}},children:[25,50,100,500].map(b=>a.jsx(un,{value:String(b),children:b},b))})]})]}),a.jsxs(Ae,{direction:"row",spacing:2,alignItems:"center",children:[a.jsxs(ye,{variant:"body2",color:"text.secondary",children:["Page ",ne," of ",Tt]}),a.jsxs(Ae,{direction:"row",spacing:1,children:[a.jsx(Nt,{size:"small",variant:"outlined",onClick:()=>He(b=>Math.max(1,b-1)),disabled:ne===1,sx:{borderRadius:2},children:"Prev"}),a.jsx(Nt,{size:"small",variant:"outlined",onClick:()=>He(b=>Math.min(Tt,b+1)),disabled:ne===Tt,sx:{borderRadius:2},children:"Next"})]})]})]}),a.jsx(di,{children:Ot.visible&&Ot.key&&a.jsx(hn.div,{ref:Qe,initial:{opacity:0,y:-4,scale:.97},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-4,scale:.97},transition:{duration:.15},style:{position:"absolute",top:Ot.y,left:Ot.x,width:"clamp(220px,22vw,320px)",zIndex:99999},onClick:b=>b.stopPropagation(),children:a.jsxs(vt,{elevation:10,sx:{borderRadius:2,border:`1px solid ${K(y.palette.primary.main,.12)}`,boxShadow:"0 18px 40px rgba(8, 58, 97, 0.28)",py:1.5},children:[a.jsxs(Ae,{spacing:1.5,sx:{px:2},children:[a.jsx(ye,{variant:"overline",sx:{color:y.palette.text.secondary,letterSpacing:.8,fontWeight:700},children:"Header Settings"}),a.jsx(an,{size:"small",placeholder:"Filter columnsâ€¦",value:Kt,onChange:b=>Zt(b.target.value),InputProps:{startAdornment:a.jsx(Yo,{position:"start",children:a.jsx(ts,{size:16})})}})]}),a.jsx(Zn,{sx:{my:1.5}}),a.jsx(Se,{sx:{maxHeight:H,overflowY:"auto",px:1.5,pb:1},children:a.jsx(Ae,{spacing:.25,children:J.filter(b=>Kt.trim()?(i[b]??b).toLowerCase().includes(Kt.toLowerCase()):!0).map(b=>{const j=z.includes(b);return a.jsx(th,{control:a.jsx(Ks,{size:"small",checked:j,onChange:()=>In(b)}),label:a.jsx(ye,{variant:"body2",noWrap:!0,children:i[b]??b}),sx:{m:0,px:1,py:.75,borderRadius:2,gap:1.5,alignItems:"center","&:hover":{bgcolor:K(y.palette.primary.main,.06)},"& .MuiFormControlLabel-label":{width:"100%"}}},b)})})}),a.jsx(Zn,{}),a.jsxs(Ae,{direction:"row",spacing:1,justifyContent:"flex-end",sx:{px:2,py:1.5},children:[a.jsx(Nt,{size:"small",variant:"outlined",onClick:()=>{const b=z.length>0;M(b?[]:J)},sx:{borderRadius:2},children:z.length>0?"Unselect All":"Select All"}),a.jsx(Nt,{size:"small",variant:"contained",onClick:fi,sx:{borderRadius:2},children:"Reset Columns"})]})]})})}),a.jsx(wm,{visible:ue.visible,x:ue.x,y:ue.y,selectedRows:Cn,clickedColumnKey:ue.clickedColumnKey,clickedRow:Ht,onClose:Sn,mouseScreenX:Ue,mouseScreenY:q,onOpenPopout:(b,j,ge)=>{m&&m(b,j,ge)},onOpenCalloutIncident:b=>{f&&f(b)},onProgressTasks:Gn,onProgressNotes:Jn}),S&&Ri.createPortal(a.jsx(di,{children:U.open&&a.jsx(hn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.18},onClick:mn,style:{position:"fixed",inset:0,zIndex:12e4,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0,0,0,0.45)",padding:"16px"},children:a.jsx(hn.div,{initial:{opacity:0,y:18,scale:.96},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:18,scale:.96},transition:{duration:.18},onClick:b=>b.stopPropagation(),style:{width:"100%",maxWidth:"880px"},children:a.jsxs(Ns,{open:!0,onClose:mn,maxWidth:"lg",hideBackdrop:!0,disablePortal:!0,keepMounted:!0,PaperProps:{sx:{borderRadius:4,border:`1px solid ${K(y.palette.primary.main,.18)}`,boxShadow:"0 40px 120px rgba(8,58,97,0.35)",backgroundImage:"linear-gradient(180deg, rgba(255,255,255,0.98), rgba(245,247,250,0.96))",overflow:"hidden"}},children:[a.jsxs(js,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:2},children:[a.jsxs(Ae,{direction:"row",spacing:2,alignItems:"center",children:[a.jsx(Se,{sx:{height:48,width:48,borderRadius:"50%",bgcolor:y.palette.primary.main,color:y.palette.primary.contrastText,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 8px 20px rgba(8,58,97,0.35)"},children:a.jsx(es,{size:22})}),a.jsxs("div",{children:[a.jsx(ye,{variant:"h6",fontWeight:600,color:"text.primary",children:"Progress Tasks"}),a.jsxs(ye,{variant:"body2",color:"text.secondary",children:[U.tasks.length," task",U.tasks.length===1?"":"s"," selected"]})]})]}),a.jsx(ln,{onClick:mn,children:a.jsx(so,{size:20})})]}),a.jsxs(zs,{dividers:!0,sx:{display:"grid",gap:3,gridTemplateColumns:{lg:"1.6fr 1fr",xs:"1fr"}},children:[a.jsxs(Ae,{spacing:2,children:[a.jsx(ye,{variant:"overline",sx:{color:"text.secondary",letterSpacing:1},children:"Selected Tasks"}),a.jsx(vt,{variant:"outlined",sx:{maxHeight:180,overflowY:"auto",borderRadius:3,borderColor:K(y.palette.primary.main,.12),bgcolor:K(y.palette.primary.main,.03),p:2},children:a.jsx(Ae,{spacing:1.5,children:Mn.length===0?a.jsx(ye,{variant:"caption",color:"text.secondary",children:"No task identifiers."}):Mn.map(({id:b,currentStatus:j,nextStatus:ge},be)=>a.jsxs(Ae,{direction:"row",spacing:2,alignItems:"center",justifyContent:"space-between",sx:{borderRadius:2,border:`1px solid ${K(y.palette.primary.main,.12)}`,bgcolor:y.palette.background.paper,px:2,py:1.25},children:[a.jsx(ye,{variant:"subtitle2",color:"primary",noWrap:!0,children:b??"Unknown Task"}),a.jsxs(ye,{variant:"caption",color:"text.secondary",noWrap:!0,children:[j||"â€”",a.jsx(ye,{component:"span",sx:{mx:1,color:"text.disabled"},children:"â†’"}),ge]})]},b??`task-${be}`))})})]}),a.jsxs(Ae,{spacing:2.5,children:[a.jsxs(ks,{fullWidth:!0,size:"small",children:[a.jsx(Ps,{id:"target-status-label",children:"Target Status"}),a.jsxs(Is,{labelId:"target-status-label",label:"Target Status",value:T,onChange:b=>D(b.target.value),children:[a.jsx(un,{disabled:!0,value:"__CORE__",children:a.jsx(ye,{variant:"caption",sx:{fontWeight:700,color:"text.secondary"},children:"Core progression"})}),Di.map(b=>a.jsx(un,{value:b,children:b},b)),a.jsx(Zn,{component:"li",sx:{my:.5}}),a.jsx(un,{disabled:!0,value:"__ADDITIONAL__",children:a.jsx(ye,{variant:"caption",sx:{fontWeight:700,color:"text.secondary"},children:"Additional statuses"})}),Bl.map(b=>a.jsx(un,{value:b,children:b},b))]})]}),a.jsxs(To,{severity:"info",variant:"outlined",sx:{borderRadius:3},children:["Selected tasks will be stamped with the note below and updated to",a.jsxs("strong",{children:[" ",T," "]}),"unless they already match."]})]}),a.jsxs(Ae,{spacing:1.5,sx:{gridColumn:"1 / -1"},children:[a.jsx(ye,{variant:"overline",sx:{letterSpacing:1,color:"text.secondary"},children:"Quick Note"}),a.jsx(an,{multiline:!0,minRows:4,value:me,onChange:b=>Ee(b.target.value),placeholder:"Share the next steps, blockers, or field updates for these tasksâ€¦"})]}),(Me||rt)&&a.jsx(To,{severity:Me?"error":"success",sx:{gridColumn:"1 / -1"},children:Me||rt})]}),a.jsxs(Os,{sx:{px:3,py:2,gap:1.5},children:[a.jsx(Nt,{variant:"outlined",onClick:mn,disabled:nt,sx:{borderRadius:2},children:"Cancel"}),a.jsx(Nt,{variant:"contained",onClick:Bi,disabled:!me.trim()||nt,sx:{borderRadius:2},startIcon:nt?a.jsx(Ms,{color:"inherit",size:18,thickness:5}):void 0,children:"Save Note"})]})]})},"progress-dialog")},"progress-backdrop")}),document.body),S&&Ri.createPortal(a.jsx(di,{children:le.open&&a.jsx(hn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.18},onClick:fn,style:{position:"fixed",inset:0,zIndex:12e4,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0,0,0,0.45)",padding:"16px"},children:a.jsx(hn.div,{initial:{opacity:0,y:18,scale:.96},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:18,scale:.96},transition:{duration:.18},onClick:b=>b.stopPropagation(),style:{width:"100%",maxWidth:"760px"},children:a.jsxs(Ns,{open:!0,onClose:fn,fullWidth:!0,maxWidth:"md",hideBackdrop:!0,disablePortal:!0,keepMounted:!0,PaperProps:{sx:{borderRadius:4,border:`1px solid ${K(y.palette.primary.main,.18)}`,boxShadow:"0 32px 90px rgba(8,58,97,0.34)",backgroundImage:"linear-gradient(180deg, rgba(255,255,255,0.98), rgba(245,247,250,0.96))",overflow:"hidden"}},children:[a.jsxs(js,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:2},children:[a.jsxs(Ae,{direction:"row",spacing:2,alignItems:"center",children:[a.jsx(Se,{sx:{height:48,width:48,borderRadius:"50%",bgcolor:y.palette.primary.main,color:y.palette.primary.contrastText,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 8px 20px rgba(8,58,97,0.35)"},children:a.jsx(Us,{size:22})}),a.jsxs(Se,{children:[a.jsx(ye,{variant:"h6",fontWeight:600,color:"text.primary",children:"Bulk Progress Notes"}),a.jsxs(ye,{variant:"body2",color:"text.secondary",children:[le.tasks.length," task",le.tasks.length===1?"":"s"," selected"]})]})]}),a.jsx(ln,{onClick:fn,"aria-label":"Close bulk notes dialog",children:a.jsx(so,{size:20})})]}),a.jsxs(zs,{dividers:!0,sx:{display:"flex",flexDirection:"column",gap:3},children:[a.jsxs(Ae,{spacing:2,children:[a.jsx(ye,{variant:"overline",sx:{color:"text.secondary",letterSpacing:1},children:"Selected Tasks"}),a.jsx(vt,{variant:"outlined",sx:{maxHeight:180,overflowY:"auto",borderRadius:3,borderColor:K(y.palette.primary.main,.12),bgcolor:K(y.palette.primary.main,.03),p:2},children:a.jsx(Ae,{spacing:1.5,children:Vn.length===0?a.jsx(ye,{variant:"caption",color:"text.secondary",children:"No task identifiers."}):Vn.map(({id:b,currentStatus:j},ge)=>a.jsxs(Ae,{direction:"row",spacing:2,alignItems:"center",justifyContent:"space-between",sx:{borderRadius:2,border:`1px solid ${K(y.palette.primary.main,.12)}`,bgcolor:y.palette.background.paper,px:2,py:1.25},children:[a.jsx(ye,{variant:"subtitle2",color:"primary",noWrap:!0,children:b??"Unknown Task"}),a.jsx(oo,{size:"small",label:j||"-",variant:"outlined",sx:{borderRadius:2}})]},b??`multi-note-${ge}`))})})]}),a.jsxs(Ae,{spacing:1.5,children:[a.jsx(ye,{variant:"overline",sx:{color:"text.secondary",letterSpacing:1},children:"Quick Note"}),a.jsx(an,{multiline:!0,minRows:4,value:we,onChange:b=>ut(b.target.value),placeholder:"Share context that applies to all selected tasksâ€¦"}),a.jsx(ye,{variant:"caption",color:"text.secondary",children:"This note will be added to each selected task without changing its current status."})]}),(St||Yt)&&a.jsx(To,{severity:St?"error":"success",children:St||Yt})]}),a.jsxs(Os,{sx:{px:3,py:2,gap:1.5},children:[a.jsx(Nt,{variant:"outlined",onClick:fn,disabled:lt,sx:{borderRadius:2},children:"Cancel"}),a.jsx(Nt,{variant:"contained",onClick:zt,disabled:!we.trim()||lt,sx:{borderRadius:2},startIcon:lt?a.jsx(Ms,{color:"inherit",size:18,thickness:5}):void 0,children:"Save Note"})]})]})},"progress-note-dialog")},"progress-note-backdrop")}),document.body),S&&Ri.createPortal(a.jsx(di,{children:pt.open&&a.jsx(hn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.18},onClick:et,style:{position:"fixed",inset:0,zIndex:12e4,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0,0,0,0.45)",padding:"16px"},children:a.jsx(hn.div,{initial:{opacity:0,y:18,scale:.96},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:18,scale:.96},transition:{duration:.18},onClick:b=>b.stopPropagation(),style:{width:"100%",maxWidth:"960px"},children:a.jsxs(Ns,{open:!0,onClose:et,fullWidth:!0,maxWidth:"lg",hideBackdrop:!0,disablePortal:!0,keepMounted:!0,PaperProps:{sx:{borderRadius:4,border:`1px solid ${K(y.palette.primary.main,.18)}`,boxShadow:"0 32px 90px rgba(8,58,97,0.34)",backgroundImage:"linear-gradient(180deg, rgba(255,255,255,0.98), rgba(245,247,250,0.96))",overflow:"hidden"}},children:[a.jsxs(js,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:2},children:[a.jsxs(Ae,{direction:"row",spacing:2,alignItems:"center",children:[a.jsx(Se,{sx:{height:48,width:48,borderRadius:"50%",bgcolor:y.palette.primary.main,color:y.palette.primary.contrastText,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 8px 20px rgba(8,58,97,0.35)"},children:a.jsx(Us,{size:22})}),a.jsxs(Se,{children:[a.jsx(ye,{variant:"h6",fontWeight:600,color:"text.primary",children:"Progress Notes"}),a.jsx(ye,{variant:"body2",color:"text.secondary",children:Tn.id?`Task ${Tn.id}`:"Selected task"})]})]}),a.jsx(ln,{onClick:et,"aria-label":"Close progress note dialog",children:a.jsx(so,{size:20})})]}),a.jsxs(zs,{dividers:!0,sx:{display:"grid",gap:3,gridTemplateColumns:{lg:"1.6fr 1fr",xs:"1fr"}},children:[a.jsxs(Ae,{spacing:2,children:[a.jsx(ye,{variant:"overline",sx:{color:"text.secondary",letterSpacing:1},children:"Existing Notes"}),a.jsx(vt,{variant:"outlined",sx:{maxHeight:240,overflowY:"auto",borderRadius:3,borderColor:K(y.palette.primary.main,.12),bgcolor:K(y.palette.primary.main,.03),p:2},children:a.jsx(Ae,{spacing:1.5,children:pt.notes.length===0?a.jsx(ye,{variant:"body2",color:"text.secondary",children:"No progress notes captured yet."}):pt.notes.map((b,j)=>a.jsxs(Ae,{spacing:1,sx:{borderRadius:2,border:`1px solid ${K(y.palette.primary.main,.12)}`,bgcolor:y.palette.background.paper,px:2,py:1.5,boxShadow:"0 10px 24px rgba(8,58,97,0.1)"},children:[a.jsxs(Ae,{direction:"row",alignItems:"center",justifyContent:"space-between",spacing:2,children:[a.jsx(ye,{variant:"caption",color:"text.secondary",sx:{fontWeight:600},children:Fi(b.ts)}),a.jsx(oo,{size:"small",label:b.status||"Logged",color:"primary",sx:{borderRadius:2}})]}),b.source&&a.jsxs(ye,{variant:"caption",sx:{textTransform:"uppercase",letterSpacing:.6,color:"text.secondary"},children:["Source: ",b.source]}),a.jsx(ye,{variant:"body2",sx:{whiteSpace:"pre-wrap",color:"text.primary"},children:b.text})]},`${b.ts}-${j}`))})})]}),a.jsxs(Ae,{spacing:2,children:[a.jsx(ye,{variant:"overline",sx:{color:"text.secondary",letterSpacing:1},children:"Selected Task"}),a.jsx(vt,{variant:"outlined",sx:{borderRadius:3,borderColor:K(y.palette.primary.main,.12),bgcolor:K(y.palette.primary.main,.03),p:2},children:a.jsxs(Ae,{direction:"row",spacing:2,alignItems:"center",justifyContent:"space-between",sx:{borderRadius:2,border:`1px solid ${K(y.palette.primary.main,.12)}`,bgcolor:y.palette.background.paper,px:2,py:1.25},children:[a.jsx(ye,{variant:"subtitle2",color:"primary",noWrap:!0,children:Tn.id??"Unknown Task"}),a.jsx(oo,{size:"small",label:Tn.status||"â€”",variant:"outlined",sx:{borderRadius:2}})]})}),a.jsxs(Se,{sx:{borderRadius:3,border:`1px dashed ${K(y.palette.primary.main,.25)}`,bgcolor:K(y.palette.primary.main,.06),p:3},children:[a.jsxs(ye,{variant:"body2",color:"primary",children:["Current status remains",a.jsx(ye,{component:"span",sx:{fontWeight:600,ml:.5},children:Tn.status||"Unknown"}),"."]}),a.jsx(ye,{variant:"caption",color:"text.secondary",sx:{display:"block",mt:1.5},children:"Add a quick note without progressing the task status."})]})]}),a.jsxs(Ae,{spacing:1.5,sx:{gridColumn:"1 / -1"},children:[a.jsx(ye,{variant:"overline",sx:{color:"text.secondary",letterSpacing:1},children:"Quick Note"}),a.jsx(an,{multiline:!0,minRows:4,value:Ge,onChange:b=>Re(b.target.value),placeholder:"Share new updates, blockers, or field activityâ€¦"}),a.jsx(ye,{variant:"caption",color:"text.secondary",children:"This note will be appended to the task timeline immediately."})]}),(mt||Lt)&&a.jsx(To,{severity:mt?"error":"success",sx:{gridColumn:"1 / -1"},children:mt||Lt})]}),a.jsxs(Os,{sx:{px:3,py:2,gap:1.5},children:[a.jsx(Nt,{variant:"outlined",onClick:et,disabled:dt,sx:{borderRadius:2},children:"Close"}),a.jsx(Nt,{variant:"contained",onClick:Je,disabled:!Ge.trim()||dt,sx:{borderRadius:2},startIcon:dt?a.jsx(Ms,{color:"inherit",size:18,thickness:5}):void 0,children:"Save Note"})]})]})},"progress-note-single-dialog")},"progress-note-single-backdrop")}),document.body)]})}const Wa=["taskId","taskStatus","resourceName","commitmentType","postCode","customerAddress","taskType","primarySkill","importanceScore","taskCreated","appointmentStartDate"];function Pm(n){return n.replace(/[_\-]+/g," ").replace(/([a-z0-9])([A-Z])/g,"$1 $2").replace(/\s+/g," ").trim().replace(/^./,i=>i.toUpperCase())}function Im({data:n,selectedTasks:i,onSelectionChange:s}){const l=qt(),d={height:"100%",display:"flex",flexDirection:"column",borderRadius:3,px:3,py:2.5,border:`1px solid ${K(l.palette.primary.main,.18)}`,boxShadow:"0 18px 46px rgba(8,58,97,0.18)",backgroundImage:"none"},h=u.useMemo(()=>{if(!n||n.length===0)return{};const m=new Set;n.forEach(x=>Object.keys(x).forEach(v=>m.add(v)));const f=[...Wa.filter(x=>m.has(x)),...[...m].filter(x=>!Wa.includes(x))],_={};return f.forEach(x=>_[x]=Pm(x)),_},[n]),p=u.useMemo(()=>i!=null&&i.length?new Set(i.map(m=>String(m.taskId))):new Set,[i]);return!n||n.length===0?a.jsx(vt,{elevation:0,sx:d,children:a.jsx(Ae,{spacing:1,alignItems:"center",justifyContent:"center",sx:{flex:1},children:a.jsx(ye,{variant:"body2",color:"text.secondary",textAlign:"center",children:"No tasks loaded yet. Please define filters and press Search."})})}):a.jsx(vt,{elevation:0,sx:d,children:a.jsx(Se,{sx:{flex:1,display:"flex",flexDirection:"column"},children:a.jsx(br,{rows:n,headerNames:h,sx:{height:"100%"},tableHeight:"100%",rowIdKey:"taskId",controlledSelectedRowIds:p,onSelectionChange:m=>s(m)})})})}const Za=["resourceId","name","status","calloutGroup","primarySkill","availableAgainAt"];function Mm(n){return n.replace(/[_\-]+/g," ").replace(/([a-z0-9])([A-Z])/g,"$1 $2").replace(/\s+/g," ").trim().replace(/^./,i=>i.toUpperCase())}function Dm({data:n,selectedResources:i,onSelectionChange:s}){const l=qt(),d={height:"100%",display:"flex",flexDirection:"column",borderRadius:3,px:3,py:2.5,border:`1px solid ${K(l.palette.primary.main,.18)}`,boxShadow:"0 18px 46px rgba(8,58,97,0.18)",backgroundImage:"none"},h=u.useMemo(()=>{if(!(n!=null&&n.length))return{};const m=new Set;n.forEach(x=>Object.keys(x).forEach(v=>m.add(v)));const f=[...Za.filter(x=>m.has(x)),...[...m].filter(x=>!Za.includes(x))],_={};return f.forEach(x=>_[x]=Mm(x)),_},[n]),p=u.useMemo(()=>new Set(i.map(m=>String(m.resourceId))),[i]);return!n||n.length===0?a.jsx(vt,{elevation:0,sx:d,children:a.jsx(Ae,{spacing:1,alignItems:"center",justifyContent:"center",sx:{flex:1},children:a.jsx(ye,{variant:"body2",color:"text.secondary",textAlign:"center",children:"No resources loaded. Please define filters and press Search."})})}):a.jsx(vt,{elevation:0,sx:d,children:a.jsx(Se,{sx:{flex:1,display:"flex",flexDirection:"column"},children:a.jsx(br,{rows:n,headerNames:h,sx:{height:"100%"},tableHeight:"100%",rowIdKey:"resourceId",controlledSelectedRowIds:p,onSelectionChange:m=>s(m)})})})}const ns=u.createContext(null);ns.displayName="PanelGroupContext";const $t={group:"data-panel-group",groupDirection:"data-panel-group-direction",groupId:"data-panel-group-id",panel:"data-panel",panelCollapsible:"data-panel-collapsible",panelId:"data-panel-id",panelSize:"data-panel-size",resizeHandle:"data-resize-handle",resizeHandleActive:"data-resize-handle-active",resizeHandleEnabled:"data-panel-resize-handle-enabled",resizeHandleId:"data-panel-resize-handle-id",resizeHandleState:"data-resize-handle-state"},Sr=10,hi=u.useLayoutEffect,Ha=Du.useId,Lm=typeof Ha=="function"?Ha:()=>null;let Em=0;function wr(n=null){const i=Lm(),s=u.useRef(n||i||null);return s.current===null&&(s.current=""+Em++),n??s.current}function Fl({children:n,className:i="",collapsedSize:s,collapsible:l,defaultSize:d,forwardedRef:h,id:p,maxSize:m,minSize:f,onCollapse:_,onExpand:x,onResize:v,order:y,style:S,tagName:k="div",...A}){const C=u.useContext(ns);if(C===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:R,expandPanel:J,getPanelSize:z,getPanelStyle:M,groupId:N,isPanelCollapsed:G,reevaluatePanelConstraints:B,registerPanel:Y,resizePanel:E,unregisterPanel:W}=C,oe=wr(p),$=u.useRef({callbacks:{onCollapse:_,onExpand:x,onResize:v},constraints:{collapsedSize:s,collapsible:l,defaultSize:d,maxSize:m,minSize:f},id:oe,idIsFromProps:p!==void 0,order:y});u.useRef({didLogMissingDefaultSizeWarning:!1}),hi(()=>{const{callbacks:re,constraints:ve}=$.current,de={...ve};$.current.id=oe,$.current.idIsFromProps=p!==void 0,$.current.order=y,re.onCollapse=_,re.onExpand=x,re.onResize=v,ve.collapsedSize=s,ve.collapsible=l,ve.defaultSize=d,ve.maxSize=m,ve.minSize=f,(de.collapsedSize!==ve.collapsedSize||de.collapsible!==ve.collapsible||de.maxSize!==ve.maxSize||de.minSize!==ve.minSize)&&B($.current,de)}),hi(()=>{const re=$.current;return Y(re),()=>{W(re)}},[y,oe,Y,W]),u.useImperativeHandle(h,()=>({collapse:()=>{R($.current)},expand:re=>{J($.current,re)},getId(){return oe},getSize(){return z($.current)},isCollapsed(){return G($.current)},isExpanded(){return!G($.current)},resize:re=>{E($.current,re)}}),[R,J,z,G,oe,E]);const he=M($.current,d);return u.createElement(k,{...A,children:n,className:i,id:oe,style:{...he,...S},[$t.groupId]:N,[$t.panel]:"",[$t.panelCollapsible]:l||void 0,[$t.panelId]:oe,[$t.panelSize]:parseFloat(""+he.flexGrow).toFixed(1)})}const eo=u.forwardRef((n,i)=>u.createElement(Fl,{...n,forwardedRef:i}));Fl.displayName="Panel";eo.displayName="forwardRef(Panel)";let nr=null,zo=-1,Xn=null;function Rm(n,i,s){const l=(i&Gl)!==0,d=(i&Jl)!==0,h=(i&Vl)!==0,p=(i&Ul)!==0;if(i){if(l)return h?"se-resize":p?"ne-resize":"e-resize";if(d)return h?"sw-resize":p?"nw-resize":"w-resize";if(h)return"s-resize";if(p)return"n-resize"}switch(n){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function Nm(){Xn!==null&&(document.head.removeChild(Xn),nr=null,Xn=null,zo=-1)}function Fs(n,i,s){var l,d;const h=Rm(n,i);if(nr!==h){if(nr=h,Xn===null&&(Xn=document.createElement("style"),document.head.appendChild(Xn)),zo>=0){var p;(p=Xn.sheet)===null||p===void 0||p.removeRule(zo)}zo=(l=(d=Xn.sheet)===null||d===void 0?void 0:d.insertRule(`*{cursor: ${h} !important;}`))!==null&&l!==void 0?l:-1}}function Wl(n){return n.type==="keydown"}function Zl(n){return n.type.startsWith("pointer")}function Hl(n){return n.type.startsWith("mouse")}function is(n){if(Zl(n)){if(n.isPrimary)return{x:n.clientX,y:n.clientY}}else if(Hl(n))return{x:n.clientX,y:n.clientY};return{x:1/0,y:1/0}}function Om(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function zm(n,i,s){return n.x<i.x+i.width&&n.x+n.width>i.x&&n.y<i.y+i.height&&n.y+n.height>i.y}function jm(n,i){if(n===i)throw new Error("Cannot compare node with itself");const s={a:Ja(n),b:Ja(i)};let l;for(;s.a.at(-1)===s.b.at(-1);)n=s.a.pop(),i=s.b.pop(),l=n;Ye(l,"Stacking order can only be calculated for elements with a common ancestor");const d={a:Ga($a(s.a)),b:Ga($a(s.b))};if(d.a===d.b){const h=l.childNodes,p={a:s.a.at(-1),b:s.b.at(-1)};let m=h.length;for(;m--;){const f=h[m];if(f===p.a)return 1;if(f===p.b)return-1}}return Math.sign(d.a-d.b)}const Bm=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function Fm(n){var i;const s=getComputedStyle((i=$l(n))!==null&&i!==void 0?i:n).display;return s==="flex"||s==="inline-flex"}function Wm(n){const i=getComputedStyle(n);return!!(i.position==="fixed"||i.zIndex!=="auto"&&(i.position!=="static"||Fm(n))||+i.opacity<1||"transform"in i&&i.transform!=="none"||"webkitTransform"in i&&i.webkitTransform!=="none"||"mixBlendMode"in i&&i.mixBlendMode!=="normal"||"filter"in i&&i.filter!=="none"||"webkitFilter"in i&&i.webkitFilter!=="none"||"isolation"in i&&i.isolation==="isolate"||Bm.test(i.willChange)||i.webkitOverflowScrolling==="touch")}function $a(n){let i=n.length;for(;i--;){const s=n[i];if(Ye(s,"Missing node"),Wm(s))return s}return null}function Ga(n){return n&&Number(getComputedStyle(n).zIndex)||0}function Ja(n){const i=[];for(;n;)i.push(n),n=$l(n);return i}function $l(n){const{parentNode:i}=n;return i&&i instanceof ShadowRoot?i.host:i}const Gl=1,Jl=2,Vl=4,Ul=8,Zm=Om()==="coarse";let Pn=[],zi=!1,Yn=new Map,os=new Map;const ao=new Set;function Hm(n,i,s,l,d){var h;const{ownerDocument:p}=i,m={direction:s,element:i,hitAreaMargins:l,setResizeHandlerState:d},f=(h=Yn.get(p))!==null&&h!==void 0?h:0;return Yn.set(p,f+1),ao.add(m),Go(),function(){var x;os.delete(n),ao.delete(m);const v=(x=Yn.get(p))!==null&&x!==void 0?x:1;if(Yn.set(p,v-1),Go(),v===1&&Yn.delete(p),Pn.includes(m)){const y=Pn.indexOf(m);y>=0&&Pn.splice(y,1),ss(),d("up",!0,null)}}}function $m(n){const{target:i}=n,{x:s,y:l}=is(n);zi=!0,Cr({target:i,x:s,y:l}),Go(),Pn.length>0&&(Jo("down",n),ss(),n.preventDefault(),ql(i)||n.stopImmediatePropagation())}function Ws(n){const{x:i,y:s}=is(n);if(zi&&n.type!=="pointerleave"&&n.buttons===0&&(zi=!1,Jo("up",n)),!zi){const{target:l}=n;Cr({target:l,x:i,y:s})}Jo("move",n),ss(),Pn.length>0&&n.preventDefault()}function Zs(n){const{target:i}=n,{x:s,y:l}=is(n);os.clear(),zi=!1,Pn.length>0&&(n.preventDefault(),ql(i)||n.stopImmediatePropagation()),Jo("up",n),Cr({target:i,x:s,y:l}),ss(),Go()}function ql(n){let i=n;for(;i;){if(i.hasAttribute($t.resizeHandle))return!0;i=i.parentElement}return!1}function Cr({target:n,x:i,y:s}){Pn.splice(0);let l=null;(n instanceof HTMLElement||n instanceof SVGElement)&&(l=n),ao.forEach(d=>{const{element:h,hitAreaMargins:p}=d,m=h.getBoundingClientRect(),{bottom:f,left:_,right:x,top:v}=m,y=Zm?p.coarse:p.fine;if(i>=_-y&&i<=x+y&&s>=v-y&&s<=f+y){if(l!==null&&document.contains(l)&&h!==l&&!h.contains(l)&&!l.contains(h)&&jm(l,h)>0){let k=l,A=!1;for(;k&&!k.contains(h);){if(zm(k.getBoundingClientRect(),m)){A=!0;break}k=k.parentElement}if(A)return}Pn.push(d)}})}function Hs(n,i){os.set(n,i)}function ss(){let n=!1,i=!1;Pn.forEach(l=>{const{direction:d}=l;d==="horizontal"?n=!0:i=!0});let s=0;os.forEach(l=>{s|=l}),n&&i?Fs("intersection",s):n?Fs("horizontal",s):i?Fs("vertical",s):Nm()}let $s;function Go(){var n;(n=$s)===null||n===void 0||n.abort(),$s=new AbortController;const i={capture:!0,signal:$s.signal};ao.size&&(zi?(Pn.length>0&&Yn.forEach((s,l)=>{const{body:d}=l;s>0&&(d.addEventListener("contextmenu",Zs,i),d.addEventListener("pointerleave",Ws,i),d.addEventListener("pointermove",Ws,i))}),Yn.forEach((s,l)=>{const{body:d}=l;d.addEventListener("pointerup",Zs,i),d.addEventListener("pointercancel",Zs,i)})):Yn.forEach((s,l)=>{const{body:d}=l;s>0&&(d.addEventListener("pointerdown",$m,i),d.addEventListener("pointermove",Ws,i))}))}function Jo(n,i){ao.forEach(s=>{const{setResizeHandlerState:l}=s,d=Pn.includes(s);l(n,d,i)})}function Gm(){const[n,i]=u.useState(0);return u.useCallback(()=>i(s=>s+1),[])}function Ye(n,i){if(!n)throw console.error(i),Error(i)}function mi(n,i,s=Sr){return n.toFixed(s)===i.toFixed(s)?0:n>i?1:-1}function Wn(n,i,s=Sr){return mi(n,i,s)===0}function gn(n,i,s){return mi(n,i,s)===0}function Jm(n,i,s){if(n.length!==i.length)return!1;for(let l=0;l<n.length;l++){const d=n[l],h=i[l];if(!gn(d,h,s))return!1}return!0}function Li({panelConstraints:n,panelIndex:i,size:s}){const l=n[i];Ye(l!=null,`Panel constraints not found for index ${i}`);let{collapsedSize:d=0,collapsible:h,maxSize:p=100,minSize:m=0}=l;if(mi(s,m)<0)if(h){const f=(d+m)/2;mi(s,f)<0?s=d:s=m}else s=m;return s=Math.min(p,s),s=parseFloat(s.toFixed(Sr)),s}function to({delta:n,initialLayout:i,panelConstraints:s,pivotIndices:l,prevLayout:d,trigger:h}){if(gn(n,0))return i;const p=[...i],[m,f]=l;Ye(m!=null,"Invalid first pivot index"),Ye(f!=null,"Invalid second pivot index");let _=0;if(h==="keyboard"){{const v=n<0?f:m,y=s[v];Ye(y,`Panel constraints not found for index ${v}`);const{collapsedSize:S=0,collapsible:k,minSize:A=0}=y;if(k){const C=i[v];if(Ye(C!=null,`Previous layout not found for panel index ${v}`),gn(C,S)){const R=A-C;mi(R,Math.abs(n))>0&&(n=n<0?0-R:R)}}}{const v=n<0?m:f,y=s[v];Ye(y,`No panel constraints found for index ${v}`);const{collapsedSize:S=0,collapsible:k,minSize:A=0}=y;if(k){const C=i[v];if(Ye(C!=null,`Previous layout not found for panel index ${v}`),gn(C,A)){const R=C-S;mi(R,Math.abs(n))>0&&(n=n<0?0-R:R)}}}}{const v=n<0?1:-1;let y=n<0?f:m,S=0;for(;;){const A=i[y];Ye(A!=null,`Previous layout not found for panel index ${y}`);const R=Li({panelConstraints:s,panelIndex:y,size:100})-A;if(S+=R,y+=v,y<0||y>=s.length)break}const k=Math.min(Math.abs(n),Math.abs(S));n=n<0?0-k:k}{let y=n<0?m:f;for(;y>=0&&y<s.length;){const S=Math.abs(n)-Math.abs(_),k=i[y];Ye(k!=null,`Previous layout not found for panel index ${y}`);const A=k-S,C=Li({panelConstraints:s,panelIndex:y,size:A});if(!gn(k,C)&&(_+=k-C,p[y]=C,_.toFixed(3).localeCompare(Math.abs(n).toFixed(3),void 0,{numeric:!0})>=0))break;n<0?y--:y++}}if(Jm(d,p))return d;{const v=n<0?f:m,y=i[v];Ye(y!=null,`Previous layout not found for panel index ${v}`);const S=y+_,k=Li({panelConstraints:s,panelIndex:v,size:S});if(p[v]=k,!gn(k,S)){let A=S-k,R=n<0?f:m;for(;R>=0&&R<s.length;){const J=p[R];Ye(J!=null,`Previous layout not found for panel index ${R}`);const z=J+A,M=Li({panelConstraints:s,panelIndex:R,size:z});if(gn(J,M)||(A-=M-J,p[R]=M),gn(A,0))break;n>0?R--:R++}}}const x=p.reduce((v,y)=>y+v,0);return gn(x,100)?p:d}function Vm({layout:n,panelsArray:i,pivotIndices:s}){let l=0,d=100,h=0,p=0;const m=s[0];Ye(m!=null,"No pivot index found"),i.forEach((v,y)=>{const{constraints:S}=v,{maxSize:k=100,minSize:A=0}=S;y===m?(l=A,d=k):(h+=A,p+=k)});const f=Math.min(d,100-h),_=Math.max(l,100-p),x=n[m];return{valueMax:f,valueMin:_,valueNow:x}}function lo(n,i=document){return Array.from(i.querySelectorAll(`[${$t.resizeHandleId}][data-panel-group-id="${n}"]`))}function Kl(n,i,s=document){const d=lo(n,s).findIndex(h=>h.getAttribute($t.resizeHandleId)===i);return d??null}function Xl(n,i,s){const l=Kl(n,i,s);return l!=null?[l,l+1]:[-1,-1]}function Um(n){return n instanceof HTMLElement?!0:typeof n=="object"&&n!==null&&"tagName"in n&&"getAttribute"in n}function Yl(n,i=document){if(Um(i)&&i.dataset.panelGroupId==n)return i;const s=i.querySelector(`[data-panel-group][data-panel-group-id="${n}"]`);return s||null}function rs(n,i=document){const s=i.querySelector(`[${$t.resizeHandleId}="${n}"]`);return s||null}function qm(n,i,s,l=document){var d,h,p,m;const f=rs(i,l),_=lo(n,l),x=f?_.indexOf(f):-1,v=(d=(h=s[x])===null||h===void 0?void 0:h.id)!==null&&d!==void 0?d:null,y=(p=(m=s[x+1])===null||m===void 0?void 0:m.id)!==null&&p!==void 0?p:null;return[v,y]}function Km({committedValuesRef:n,eagerValuesRef:i,groupId:s,layout:l,panelDataArray:d,panelGroupElement:h,setLayout:p}){u.useRef({didWarnAboutMissingResizeHandle:!1}),hi(()=>{if(!h)return;const m=lo(s,h);for(let f=0;f<d.length-1;f++){const{valueMax:_,valueMin:x,valueNow:v}=Vm({layout:l,panelsArray:d,pivotIndices:[f,f+1]}),y=m[f];if(y!=null){const S=d[f];Ye(S,`No panel data found for index "${f}"`),y.setAttribute("aria-controls",S.id),y.setAttribute("aria-valuemax",""+Math.round(_)),y.setAttribute("aria-valuemin",""+Math.round(x)),y.setAttribute("aria-valuenow",v!=null?""+Math.round(v):"")}}return()=>{m.forEach((f,_)=>{f.removeAttribute("aria-controls"),f.removeAttribute("aria-valuemax"),f.removeAttribute("aria-valuemin"),f.removeAttribute("aria-valuenow")})}},[s,l,d,h]),u.useEffect(()=>{if(!h)return;const m=i.current;Ye(m,"Eager values not found");const{panelDataArray:f}=m,_=Yl(s,h);Ye(_!=null,`No group found for id "${s}"`);const x=lo(s,h);Ye(x,`No resize handles found for group id "${s}"`);const v=x.map(y=>{const S=y.getAttribute($t.resizeHandleId);Ye(S,"Resize handle element has no handle id attribute");const[k,A]=qm(s,S,f,h);if(k==null||A==null)return()=>{};const C=R=>{if(!R.defaultPrevented)switch(R.key){case"Enter":{R.preventDefault();const J=f.findIndex(z=>z.id===k);if(J>=0){const z=f[J];Ye(z,`No panel data found for index ${J}`);const M=l[J],{collapsedSize:N=0,collapsible:G,minSize:B=0}=z.constraints;if(M!=null&&G){const Y=to({delta:gn(M,N)?B-N:N-M,initialLayout:l,panelConstraints:f.map(E=>E.constraints),pivotIndices:Xl(s,S,h),prevLayout:l,trigger:"keyboard"});l!==Y&&p(Y)}}break}}};return y.addEventListener("keydown",C),()=>{y.removeEventListener("keydown",C)}});return()=>{v.forEach(y=>y())}},[h,n,i,s,l,d,p])}function Va(n,i){if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s]!==i[s])return!1;return!0}function Ql(n,i){const s=n==="horizontal",{x:l,y:d}=is(i);return s?l:d}function Xm(n,i,s,l,d){const h=s==="horizontal",p=rs(i,d);Ye(p,`No resize handle element found for id "${i}"`);const m=p.getAttribute($t.groupId);Ye(m,"Resize handle element has no group id attribute");let{initialCursorPosition:f}=l;const _=Ql(s,n),x=Yl(m,d);Ye(x,`No group element found for id "${m}"`);const v=x.getBoundingClientRect(),y=h?v.width:v.height;return(_-f)/y*100}function Ym(n,i,s,l,d,h){if(Wl(n)){const p=s==="horizontal";let m=0;n.shiftKey?m=100:d!=null?m=d:m=10;let f=0;switch(n.key){case"ArrowDown":f=p?0:m;break;case"ArrowLeft":f=p?-m:0;break;case"ArrowRight":f=p?m:0;break;case"ArrowUp":f=p?0:-m;break;case"End":f=100;break;case"Home":f=-100;break}return f}else return l==null?0:Xm(n,i,s,l,h)}function Qm({panelDataArray:n}){const i=Array(n.length),s=n.map(h=>h.constraints);let l=0,d=100;for(let h=0;h<n.length;h++){const p=s[h];Ye(p,`Panel constraints not found for index ${h}`);const{defaultSize:m}=p;m!=null&&(l++,i[h]=m,d-=m)}for(let h=0;h<n.length;h++){const p=s[h];Ye(p,`Panel constraints not found for index ${h}`);const{defaultSize:m}=p;if(m!=null)continue;const f=n.length-l,_=d/f;l++,i[h]=_,d-=_}return i}function Ii(n,i,s){i.forEach((l,d)=>{const h=n[d];Ye(h,`Panel data not found for index ${d}`);const{callbacks:p,constraints:m,id:f}=h,{collapsedSize:_=0,collapsible:x}=m,v=s[f];if(v==null||l!==v){s[f]=l;const{onCollapse:y,onExpand:S,onResize:k}=p;k&&k(l,v),x&&(y||S)&&(S&&(v==null||Wn(v,_))&&!Wn(l,_)&&S(),y&&(v==null||!Wn(v,_))&&Wn(l,_)&&y())}})}function Mo(n,i){if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s]!=i[s])return!1;return!0}function ef({defaultSize:n,dragState:i,layout:s,panelData:l,panelIndex:d,precision:h=3}){const p=s[d];let m;return p==null?m=n!=null?n.toFixed(h):"1":l.length===1?m="1":m=p.toFixed(h),{flexBasis:0,flexGrow:m,flexShrink:1,overflow:"hidden",pointerEvents:i!==null?"none":void 0}}function tf(n,i=10){let s=null;return(...d)=>{s!==null&&clearTimeout(s),s=setTimeout(()=>{n(...d)},i)}}function Ua(n){try{if(typeof localStorage<"u")n.getItem=i=>localStorage.getItem(i),n.setItem=(i,s)=>{localStorage.setItem(i,s)};else throw new Error("localStorage not supported in this environment")}catch(i){console.error(i),n.getItem=()=>null,n.setItem=()=>{}}}function ec(n){return`react-resizable-panels:${n}`}function tc(n){return n.map(i=>{const{constraints:s,id:l,idIsFromProps:d,order:h}=i;return d?l:h?`${h}:${JSON.stringify(s)}`:JSON.stringify(s)}).sort((i,s)=>i.localeCompare(s)).join(",")}function nc(n,i){try{const s=ec(n),l=i.getItem(s);if(l){const d=JSON.parse(l);if(typeof d=="object"&&d!=null)return d}}catch{}return null}function nf(n,i,s){var l,d;const h=(l=nc(n,s))!==null&&l!==void 0?l:{},p=tc(i);return(d=h[p])!==null&&d!==void 0?d:null}function of(n,i,s,l,d){var h;const p=ec(n),m=tc(i),f=(h=nc(n,d))!==null&&h!==void 0?h:{};f[m]={expandToSizes:Object.fromEntries(s.entries()),layout:l};try{d.setItem(p,JSON.stringify(f))}catch(_){console.error(_)}}function qa({layout:n,panelConstraints:i}){const s=[...n],l=s.reduce((h,p)=>h+p,0);if(s.length!==i.length)throw Error(`Invalid ${i.length} panel layout: ${s.map(h=>`${h}%`).join(", ")}`);if(!gn(l,100)&&s.length>0)for(let h=0;h<i.length;h++){const p=s[h];Ye(p!=null,`No layout data found for index ${h}`);const m=100/l*p;s[h]=m}let d=0;for(let h=0;h<i.length;h++){const p=s[h];Ye(p!=null,`No layout data found for index ${h}`);const m=Li({panelConstraints:i,panelIndex:h,size:p});p!=m&&(d+=p-m,s[h]=m)}if(!gn(d,0))for(let h=0;h<i.length;h++){const p=s[h];Ye(p!=null,`No layout data found for index ${h}`);const m=p+d,f=Li({panelConstraints:i,panelIndex:h,size:m});if(p!==f&&(d-=f-p,s[h]=f,gn(d,0)))break}return s}const sf=100,no={getItem:n=>(Ua(no),no.getItem(n)),setItem:(n,i)=>{Ua(no),no.setItem(n,i)}},Ka={};function ic({autoSaveId:n=null,children:i,className:s="",direction:l,forwardedRef:d,id:h=null,onLayout:p=null,keyboardResizeBy:m=null,storage:f=no,style:_,tagName:x="div",...v}){const y=wr(h),S=u.useRef(null),[k,A]=u.useState(null),[C,R]=u.useState([]),J=Gm(),z=u.useRef({}),M=u.useRef(new Map),N=u.useRef(0),G=u.useRef({autoSaveId:n,direction:l,dragState:k,id:y,keyboardResizeBy:m,onLayout:p,storage:f}),B=u.useRef({layout:C,panelDataArray:[],panelDataArrayChanged:!1});u.useRef({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),u.useImperativeHandle(d,()=>({getId:()=>G.current.id,getLayout:()=>{const{layout:U}=B.current;return U},setLayout:U=>{const{onLayout:ie}=G.current,{layout:T,panelDataArray:D}=B.current,Q=qa({layout:U,panelConstraints:D.map(se=>se.constraints)});Va(T,Q)||(R(Q),B.current.layout=Q,ie&&ie(Q),Ii(D,Q,z.current))}}),[]),hi(()=>{G.current.autoSaveId=n,G.current.direction=l,G.current.dragState=k,G.current.id=y,G.current.onLayout=p,G.current.storage=f}),Km({committedValuesRef:G,eagerValuesRef:B,groupId:y,layout:C,panelDataArray:B.current.panelDataArray,setLayout:R,panelGroupElement:S.current}),u.useEffect(()=>{const{panelDataArray:U}=B.current;if(n){if(C.length===0||C.length!==U.length)return;let ie=Ka[n];ie==null&&(ie=tf(of,sf),Ka[n]=ie);const T=[...U],D=new Map(M.current);ie(n,T,D,C,f)}},[n,C,f]),u.useEffect(()=>{});const Y=u.useCallback(U=>{const{onLayout:ie}=G.current,{layout:T,panelDataArray:D}=B.current;if(U.constraints.collapsible){const Q=D.map(nt=>nt.constraints),{collapsedSize:se=0,panelSize:me,pivotIndices:Ee}=li(D,U,T);if(Ye(me!=null,`Panel size not found for panel "${U.id}"`),!Wn(me,se)){M.current.set(U.id,me);const Oe=Mi(D,U)===D.length-1?me-se:se-me,Me=to({delta:Oe,initialLayout:T,panelConstraints:Q,pivotIndices:Ee,prevLayout:T,trigger:"imperative-api"});Mo(T,Me)||(R(Me),B.current.layout=Me,ie&&ie(Me),Ii(D,Me,z.current))}}},[]),E=u.useCallback((U,ie)=>{const{onLayout:T}=G.current,{layout:D,panelDataArray:Q}=B.current;if(U.constraints.collapsible){const se=Q.map(Fe=>Fe.constraints),{collapsedSize:me=0,panelSize:Ee=0,minSize:nt=0,pivotIndices:Oe}=li(Q,U,D),Me=ie??nt;if(Wn(Ee,me)){const Fe=M.current.get(U.id),rt=Fe!=null&&Fe>=Me?Fe:Me,le=Mi(Q,U)===Q.length-1?Ee-rt:rt-Ee,Pe=to({delta:le,initialLayout:D,panelConstraints:se,pivotIndices:Oe,prevLayout:D,trigger:"imperative-api"});Mo(D,Pe)||(R(Pe),B.current.layout=Pe,T&&T(Pe),Ii(Q,Pe,z.current))}}},[]),W=u.useCallback(U=>{const{layout:ie,panelDataArray:T}=B.current,{panelSize:D}=li(T,U,ie);return Ye(D!=null,`Panel size not found for panel "${U.id}"`),D},[]),oe=u.useCallback((U,ie)=>{const{panelDataArray:T}=B.current,D=Mi(T,U);return ef({defaultSize:ie,dragState:k,layout:C,panelData:T,panelIndex:D})},[k,C]),$=u.useCallback(U=>{const{layout:ie,panelDataArray:T}=B.current,{collapsedSize:D=0,collapsible:Q,panelSize:se}=li(T,U,ie);return Ye(se!=null,`Panel size not found for panel "${U.id}"`),Q===!0&&Wn(se,D)},[]),he=u.useCallback(U=>{const{layout:ie,panelDataArray:T}=B.current,{collapsedSize:D=0,collapsible:Q,panelSize:se}=li(T,U,ie);return Ye(se!=null,`Panel size not found for panel "${U.id}"`),!Q||mi(se,D)>0},[]),re=u.useCallback(U=>{const{panelDataArray:ie}=B.current;ie.push(U),ie.sort((T,D)=>{const Q=T.order,se=D.order;return Q==null&&se==null?0:Q==null?-1:se==null?1:Q-se}),B.current.panelDataArrayChanged=!0,J()},[J]);hi(()=>{if(B.current.panelDataArrayChanged){B.current.panelDataArrayChanged=!1;const{autoSaveId:U,onLayout:ie,storage:T}=G.current,{layout:D,panelDataArray:Q}=B.current;let se=null;if(U){const Ee=nf(U,Q,T);Ee&&(M.current=new Map(Object.entries(Ee.expandToSizes)),se=Ee.layout)}se==null&&(se=Qm({panelDataArray:Q}));const me=qa({layout:se,panelConstraints:Q.map(Ee=>Ee.constraints)});Va(D,me)||(R(me),B.current.layout=me,ie&&ie(me),Ii(Q,me,z.current))}}),hi(()=>{const U=B.current;return()=>{U.layout=[]}},[]);const ve=u.useCallback(U=>{let ie=!1;const T=S.current;return T&&window.getComputedStyle(T,null).getPropertyValue("direction")==="rtl"&&(ie=!0),function(Q){Q.preventDefault();const se=S.current;if(!se)return()=>null;const{direction:me,dragState:Ee,id:nt,keyboardResizeBy:Oe,onLayout:Me}=G.current,{layout:Fe,panelDataArray:rt}=B.current,{initialLayout:at}=Ee??{},le=Xl(nt,U,se);let Pe=Ym(Q,U,me,Ee,Oe,se);const we=me==="horizontal";we&&ie&&(Pe=-Pe);const ut=rt.map(St=>St.constraints),lt=to({delta:Pe,initialLayout:at??Fe,panelConstraints:ut,pivotIndices:le,prevLayout:Fe,trigger:Wl(Q)?"keyboard":"mouse-or-touch"}),kt=!Mo(Fe,lt);(Zl(Q)||Hl(Q))&&N.current!=Pe&&(N.current=Pe,!kt&&Pe!==0?we?Hs(U,Pe<0?Gl:Jl):Hs(U,Pe<0?Vl:Ul):Hs(U,0)),kt&&(R(lt),B.current.layout=lt,Me&&Me(lt),Ii(rt,lt,z.current))}},[]),de=u.useCallback((U,ie)=>{const{onLayout:T}=G.current,{layout:D,panelDataArray:Q}=B.current,se=Q.map(Fe=>Fe.constraints),{panelSize:me,pivotIndices:Ee}=li(Q,U,D);Ye(me!=null,`Panel size not found for panel "${U.id}"`);const Oe=Mi(Q,U)===Q.length-1?me-ie:ie-me,Me=to({delta:Oe,initialLayout:D,panelConstraints:se,pivotIndices:Ee,prevLayout:D,trigger:"imperative-api"});Mo(D,Me)||(R(Me),B.current.layout=Me,T&&T(Me),Ii(Q,Me,z.current))},[]),Le=u.useCallback((U,ie)=>{const{layout:T,panelDataArray:D}=B.current,{collapsedSize:Q=0,collapsible:se}=ie,{collapsedSize:me=0,collapsible:Ee,maxSize:nt=100,minSize:Oe=0}=U.constraints,{panelSize:Me}=li(D,U,T);Me!=null&&(se&&Ee&&Wn(Me,Q)?Wn(Q,me)||de(U,me):Me<Oe?de(U,Oe):Me>nt&&de(U,nt))},[de]),V=u.useCallback((U,ie)=>{const{direction:T}=G.current,{layout:D}=B.current;if(!S.current)return;const Q=rs(U,S.current);Ye(Q,`Drag handle element not found for id "${U}"`);const se=Ql(T,ie);A({dragHandleId:U,dragHandleRect:Q.getBoundingClientRect(),initialCursorPosition:se,initialLayout:D})},[]),Ie=u.useCallback(()=>{A(null)},[]),ae=u.useCallback(U=>{const{panelDataArray:ie}=B.current,T=Mi(ie,U);T>=0&&(ie.splice(T,1),delete z.current[U.id],B.current.panelDataArrayChanged=!0,J())},[J]),ue=u.useMemo(()=>({collapsePanel:Y,direction:l,dragState:k,expandPanel:E,getPanelSize:W,getPanelStyle:oe,groupId:y,isPanelCollapsed:$,isPanelExpanded:he,reevaluatePanelConstraints:Le,registerPanel:re,registerResizeHandle:ve,resizePanel:de,startDragging:V,stopDragging:Ie,unregisterPanel:ae,panelGroupElement:S.current}),[Y,k,l,E,W,oe,y,$,he,Le,re,ve,de,V,Ie,ae]),ke={display:"flex",flexDirection:l==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return u.createElement(ns.Provider,{value:ue},u.createElement(x,{...v,children:i,className:s,id:h,ref:S,style:{...ke,..._},[$t.group]:"",[$t.groupDirection]:l,[$t.groupId]:y}))}const jo=u.forwardRef((n,i)=>u.createElement(ic,{...n,forwardedRef:i}));ic.displayName="PanelGroup";jo.displayName="forwardRef(PanelGroup)";function Mi(n,i){return n.findIndex(s=>s===i||s.id===i.id)}function li(n,i,s){const l=Mi(n,i),h=l===n.length-1?[l-1,l]:[l,l+1],p=s[l];return{...i.constraints,panelSize:p,pivotIndices:h}}function rf({disabled:n,handleId:i,resizeHandler:s,panelGroupElement:l}){u.useEffect(()=>{if(n||s==null||l==null)return;const d=rs(i,l);if(d==null)return;const h=p=>{if(!p.defaultPrevented)switch(p.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{p.preventDefault(),s(p);break}case"F6":{p.preventDefault();const m=d.getAttribute($t.groupId);Ye(m,`No group element found for id "${m}"`);const f=lo(m,l),_=Kl(m,i,l);Ye(_!==null,`No resize element found for id "${i}"`);const x=p.shiftKey?_>0?_-1:f.length-1:_+1<f.length?_+1:0;f[x].focus();break}}};return d.addEventListener("keydown",h),()=>{d.removeEventListener("keydown",h)}},[l,n,i,s])}function Bo({children:n=null,className:i="",disabled:s=!1,hitAreaMargins:l,id:d,onBlur:h,onClick:p,onDragging:m,onFocus:f,onPointerDown:_,onPointerUp:x,style:v={},tabIndex:y=0,tagName:S="div",...k}){var A,C;const R=u.useRef(null),J=u.useRef({onClick:p,onDragging:m,onPointerDown:_,onPointerUp:x});u.useEffect(()=>{J.current.onClick=p,J.current.onDragging=m,J.current.onPointerDown=_,J.current.onPointerUp=x});const z=u.useContext(ns);if(z===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:M,groupId:N,registerResizeHandle:G,startDragging:B,stopDragging:Y,panelGroupElement:E}=z,W=wr(d),[oe,$]=u.useState("inactive"),[he,re]=u.useState(!1),[ve,de]=u.useState(null),Le=u.useRef({state:oe});hi(()=>{Le.current.state=oe}),u.useEffect(()=>{if(s)de(null);else{const ue=G(W);de(()=>ue)}},[s,W,G]);const V=(A=l==null?void 0:l.coarse)!==null&&A!==void 0?A:15,Ie=(C=l==null?void 0:l.fine)!==null&&C!==void 0?C:5;u.useEffect(()=>{if(s||ve==null)return;const ue=R.current;Ye(ue,"Element ref not attached");let ke=!1;return Hm(W,ue,M,{coarse:V,fine:Ie},(ie,T,D)=>{if(!T){$("inactive");return}switch(ie){case"down":{$("drag"),ke=!1,Ye(D,'Expected event to be defined for "down" action'),B(W,D);const{onDragging:Q,onPointerDown:se}=J.current;Q==null||Q(!0),se==null||se();break}case"move":{const{state:Q}=Le.current;ke=!0,Q!=="drag"&&$("hover"),Ye(D,'Expected event to be defined for "move" action'),ve(D);break}case"up":{$("hover"),Y();const{onClick:Q,onDragging:se,onPointerUp:me}=J.current;se==null||se(!1),me==null||me(),ke||Q==null||Q();break}}})},[V,M,s,Ie,G,W,ve,B,Y]),rf({disabled:s,handleId:W,resizeHandler:ve,panelGroupElement:E});const ae={touchAction:"none",userSelect:"none"};return u.createElement(S,{...k,children:n,className:i,id:d,onBlur:()=>{re(!1),h==null||h()},onFocus:()=>{re(!0),f==null||f()},ref:R,role:"separator",style:{...ae,...v},tabIndex:y,[$t.groupDirection]:M,[$t.groupId]:N,[$t.resizeHandle]:"",[$t.resizeHandleActive]:oe==="drag"?"pointer":he?"keyboard":void 0,[$t.resizeHandleEnabled]:!s,[$t.resizeHandleId]:W,[$t.resizeHandleState]:oe})}Bo.displayName="PanelResizeHandle";function af(n=["timeline","map","resources","tasks"]){const[i,s]=u.useState(n),[l,d]=u.useState(null),h=x=>{s(v=>v.includes(x)?v.filter(y=>y!==x):[...v,x])},p=x=>{s(v=>v.filter(y=>y!==x)),l===x&&d(null)},m=x=>{i.length<=1||d(v=>v===x?null:x)},f=u.useMemo(()=>n.filter(x=>!i.includes(x)),[i,n]);return{visiblePanels:i,maximizedPanel:l,collapsedPanels:f,isPanelMaximized:x=>l===x,togglePanel:h,closePanel:p,maximizePanel:m}}function Xa({title:n,icon:i,isMaximized:s,onMaximize:l,onClose:d,children:h,visibleCount:p}){const m=qt(),f=K(m.palette.primary.main,.12),_=K(m.palette.primary.main,.05),x=K(m.palette.text.primary,.6);return a.jsxs(vt,{elevation:s?6:1,sx:{display:"flex",flexDirection:"column",height:"100%",width:"100%",borderRadius:2,border:`1px solid ${f}`,overflow:"hidden",backgroundImage:"none"},children:[a.jsxs(Ae,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{px:1.5,py:.75,borderBottom:`1px solid ${f}`,backgroundColor:_},children:[a.jsxs(Ae,{direction:"row",spacing:1,alignItems:"center",children:[a.jsx(i,{size:16,color:x}),a.jsx(ye,{variant:"subtitle2",sx:{fontWeight:600,color:m.palette.text.primary},children:n})]}),a.jsxs(Ae,{direction:"row",alignItems:"center",spacing:.5,children:[p>1&&a.jsx(ln,{size:"small",onClick:l,title:s?"Restore":"Maximize",sx:{borderRadius:1.5,border:`1px solid ${K(m.palette.primary.main,.12)}`,bgcolor:s?K(m.palette.primary.main,.12):m.palette.common.white,"&:hover":{bgcolor:K(m.palette.primary.main,.18)}},children:a.jsx(Ou,{size:16,color:m.palette.text.primary,style:{transform:s?"rotate(180deg)":"none",transition:"transform 150ms ease"}})}),a.jsx(ln,{size:"small",onClick:d,title:"Close",sx:{borderRadius:1.5,border:`1px solid ${K(m.palette.primary.main,.12)}`,bgcolor:m.palette.common.white,"&:hover":{bgcolor:K(m.palette.primary.main,.18)}},children:a.jsx(so,{size:16,color:m.palette.text.primary})})]})]}),a.jsx(Se,{sx:{flex:1,minHeight:0,overflow:"hidden"},children:h})]})}const ci=[{id:"tasksByCommit",label:"Active Tasks by Commit",group:"task"},{id:"resource-active",label:"Active Resources",group:"resource"}];function lf(){var x;const[n,i]=u.useState("task"),[s,l]=u.useState(((x=ci.find(v=>v.group==="task"))==null?void 0:x.id)??ci[0].id),d=v=>{i(v);const y=ci.find(S=>S.group===v);y&&l(y.id)},h=v=>n===v,p=v=>{l(v);const y=ci.find(S=>S.id===v);y&&i(y.group)},m=v=>v===s,f=ci.filter(v=>v.group==="task"),_=ci.filter(v=>v.group==="resource");return{MENU:ci,activeTab:n,selectedMode:s,selectTab:d,isTab:h,select:p,isActive:m,taskItems:f,resourceItems:_}}function cf(){const[n,i]=u.useState([]),[s,l]=u.useState([]),[d,h]=u.useState(!0),p=u.useRef(null),m=u.useRef(!1),f=u.useRef(!1),_=u.useRef(0),x=200,v=n.length===1?n[0]:null,y=s.length===1?s[0]:null;u.useEffect(()=>{console.log("â†’ SELECTED TASKS:",n.map(N=>N.taskId)),console.log("â†’ SELECTED RESOURCES:",s.map(N=>N.resourceId))},[n,s]);const S=(N,G,B)=>{console.log("APPLY SELECTION (origin:",B,")",N),p.current=B,G(N),setTimeout(()=>{p.current=null},0)};return{selectedTasks:n,selectedTask:v,handleTaskMapClick:(N,G=!1)=>{console.log("MAP CLICK TASK:",N.taskId,"multi:",G),h(!1),p.current="map",m.current=!0,_.current=Date.now(),i(B=>G?B.some(E=>E.taskId===N.taskId)?B.filter(E=>E.taskId!==N.taskId):[...B,N]:[N]),setTimeout(()=>{p.current=null,m.current=!1},30)},handleTaskTableSelect:N=>{if(console.log("TABLE SELECT TASKS:",N.map(B=>B.taskId)),!N||N.length===0){console.log("TABLE SELECT TASKS ignored (empty selection)");return}const G=Date.now()-_.current<x;if(m.current||p.current==="map"||f.current||G){console.log("TABLE IGNORED â€” map is selecting/dragging/suppress window");return}h(!0),S(N,i,"table")},selectedResources:s,selectedResource:y,handleResourceMapClick:(N,G=!1)=>{console.log("MAP CLICK RESOURCE:",N.resourceId,"multi:",G),h(!1),p.current="map",m.current=!0,_.current=Date.now(),l(B=>G?B.some(E=>E.resourceId===N.resourceId)?B.filter(E=>E.resourceId!==N.resourceId):[...B,N]:[N]),setTimeout(()=>{p.current=null,m.current=!1},30)},handleResourceTableSelect:N=>{if(console.log("TABLE SELECT RESOURCES:",N.map(B=>B.resourceId)),!N||N.length===0){console.log("TABLE SELECT RESOURCES ignored (empty selection)");return}const G=Date.now()-_.current<x;if(m.current||p.current==="map"||f.current||G){console.log("TABLE IGNORED â€” map is selecting/dragging/suppress window");return}h(!0),S(N,l,"table")},shouldZoom:d,notifyMapDragStart:()=>{console.log("MAP DRAG START"),f.current=!0,_.current=Date.now()},notifyMapDragEnd:()=>{console.log("MAP DRAG END"),setTimeout(()=>{f.current=!1},80)},clearAll:()=>{console.log("CLEAR ALL"),p.current="clear",i([]),l([]),h(!0),setTimeout(()=>{p.current=null},0)}}}const Ki={timeline:{label:"Gantt Timeline",icon:Wu},map:{label:"Map View",icon:Fu},resources:{label:"Resource Table",icon:Qo},tasks:{label:"Task Table",icon:ur}};function Ya(n){return n==="resource-active"?"resource-active":"task-default"}function uf(){const n=qt(),i=n.palette.primary.main,s=n.palette.primary.dark,l=K(i,.1),d=K(i,.18),h="0 24px 54px rgba(8,58,97,0.22)",[p,m]=u.useState(""),[f,_]=u.useState(""),[x,v]=u.useState(!1),[y,S]=u.useState(!1),[k,A]=u.useState(!1),[C,R]=u.useState(!1),J=u.useRef(null),[z,M]=u.useState(""),N=u.useRef({}),[G,B]=u.useState([]),[Y,E]=u.useState([]),W=Il,[oe,$]=u.useState({statuses:[],pwa:[],capabilities:[],commitmentTypes:[]}),[he,re]=u.useState(0),{selectedMode:ve,select:de,isActive:Le,taskItems:V,resourceItems:Ie}=lf(),{selectedTasks:ae,selectedTask:ue,handleTaskMapClick:ke,handleTaskTableSelect:U,selectedResources:ie,selectedResource:T,handleResourceMapClick:D,handleResourceTableSelect:Q,shouldZoom:se,clearAll:me,notifyMapDragStart:Ee,notifyMapDragEnd:nt}=cf(),Oe=u.useMemo(()=>{const P=new Set;return Qt.forEach(H=>H.division&&P.add(H.division)),Array.from(P).sort()},[]),Me=u.useMemo(()=>{const P=new Set;return Qt.forEach(H=>H.domain&&P.add(String(H.domain).toUpperCase())),Array.from(P).sort()},[]);function Fe(P){const H=new Set,fe=new Set,Qe=new Set,Ze=new Set;for(const De of P)De.taskStatus&&H.add(De.taskStatus),De.pwa&&fe.add(De.pwa),Array.isArray(De.capabilities)&&De.capabilities.forEach(Ue=>Qe.add(Ue)),De.commitmentType&&Ze.add(De.commitmentType);return{statuses:[...H].sort(),pwa:[...fe].sort(),capabilities:[...Qe].sort(),commitmentTypes:[...Ze].sort()}}const rt=P=>{if(_(P),B([]),E([]),re(H=>H+1),P){const H=Qt.filter(fe=>fe.division===P);$(Fe(H))}else $({statuses:[],pwa:[],capabilities:[],commitmentTypes:[]});M("")},at=P=>{m(P),B([]),E([]),re(fe=>fe+1);let H=[...Qt];P&&(H=H.filter(fe=>String(fe.domain).toUpperCase()===P)),f&&(H=H.filter(fe=>fe.division===f)),$(Fe(H)),M("")},{visiblePanels:le,maximizedPanel:Pe,collapsedPanels:we,isPanelMaximized:ut,togglePanel:lt,closePanel:kt,maximizePanel:St}=af(),ht=()=>{A(!1),R(!1)},Yt=()=>{f&&A(P=>{const H=!P;return R(H),H})},Pt=J.current,pt=!!(k&&f&&Pt),Ve=P=>{Pt&&Pt.contains(P.target)||ht()},Ge=P=>{var fe,Qe,Ze,De;let H=[...Qt];p&&(H=H.filter(Ue=>String(Ue.domain).toUpperCase()===p)),f&&(H=H.filter(Ue=>Ue.division===f)),(fe=P.statuses)!=null&&fe.length&&(H=H.filter(Ue=>P.statuses.includes(Ue.taskStatus))),(Qe=P.pwa)!=null&&Qe.length&&(H=H.filter(Ue=>P.pwa.includes(Ue.pwa))),(Ze=P.capabilities)!=null&&Ze.length&&(H=H.filter(Ue=>{var X;return(X=Ue.capabilities)==null?void 0:X.some(q=>P.capabilities.includes(q))})),(De=P.commitmentTypes)!=null&&De.length&&(H=H.filter(Ue=>P.commitmentTypes.includes(Ue.commitmentType))),H.sort((Ue,X)=>{const q=Number(Ue.importanceScore??0),te=Number(X.importanceScore??0);if(te!==q)return te-q;const ne=Ue.appointmentStartDate?new Date(Ue.appointmentStartDate).getTime():0,He=X.appointmentStartDate?new Date(X.appointmentStartDate).getTime():0;return ne-He}),B(H),ht()},Re=P=>{var Qe,Ze;if(!f){E([]),ht();return}let H=[...W];H=H.filter(De=>De.division===f),p&&(H=H.filter(De=>String(De.domain).toUpperCase()===p)),(Qe=P.statuses)!=null&&Qe.length&&(H=H.filter(De=>P.statuses.includes(De.status))),(Ze=P.pwa)!=null&&Ze.length&&(H=H.filter(De=>P.pwa.includes(De.pwa)));const fe={Available:1,Busy:2,Offline:3};H.sort((De,Ue)=>{const X=fe[De.status]??99,q=fe[Ue.status]??99;if(X!==q)return X-q;const te=De.availableAgainAt?new Date(De.availableAgainAt).getTime():Number.POSITIVE_INFINITY,ne=Ue.availableAgainAt?new Date(Ue.availableAgainAt).getTime():Number.POSITIVE_INFINITY;return te-ne}),E(H),ht()},dt=()=>{const P=z.trim().toLowerCase();if(!P)return;let H=!1;const fe=Qt.filter(Ze=>Ze.taskId&&Ze.taskId.toLowerCase()===P);fe.length&&(B(fe),H=!0);const Qe=W.filter(Ze=>Ze.resourceId&&String(Ze.resourceId).toLowerCase()===P);Qe.length&&(E(Qe),H=!0),H||console.log("No match found."),ht()},xt=()=>{if(me(),M(""),B([]),E([]),re(P=>P+1),f){const P=Qt.filter(H=>H.division===f);$(Fe(P))}else $({statuses:[],pwa:[],capabilities:[],commitmentTypes:[]});ht()},mt=P=>{switch(P){case"timeline":return a.jsx(em,{});case"map":return a.jsx(Sm,{tasks:G,resources:Y,selectedTask:ue,selectedTasks:ae,selectedResource:T,selectedResources:ie,shouldZoom:se,handleTaskMapClick:ke,handleResourceMapClick:D,notifyMapDragStart:Ee,notifyMapDragEnd:nt});case"resources":return a.jsx(Dm,{data:Y,selectedResources:ie,onSelectionChange:Q});case"tasks":return a.jsx(Im,{data:G,selectedTasks:ae,onSelectionChange:U});default:return null}},Gt=["timeline","map"],Lt=["resources","tasks"],Et=Gt.filter(P=>le.includes(P)),Ot=Lt.filter(P=>le.includes(P)),en=Pe?[Pe]:Et,Kt=Pe?[]:Ot,Zt=a.jsxs(vt,{elevation:0,sx:{width:"100%",borderBottom:`1px solid ${K(n.palette.primary.main,.1)}`,px:2.5,py:1.5,display:"flex",alignItems:"center",gap:2,backgroundImage:"none",borderRadius:0},children:[a.jsxs(an,{select:!0,size:"small",value:f,onChange:P=>rt(P.target.value),sx:{minWidth:{xs:n.spacing(14),sm:n.spacing(18)}},SelectProps:{displayEmpty:!0,renderValue:P=>P?String(P):"Division"},children:[a.jsx(un,{value:"",children:"All"}),Oe.map(P=>a.jsx(un,{value:P,children:P},P))]}),a.jsxs(an,{select:!0,size:"small",value:p,onChange:P=>at(P.target.value),sx:{minWidth:{xs:n.spacing(14),sm:n.spacing(18)}},SelectProps:{displayEmpty:!0,renderValue:P=>P?String(P):"Domain"},children:[a.jsx(un,{value:"",children:"All"}),Me.map(P=>a.jsx(un,{value:P,children:P},P))]}),a.jsx(an,{size:"small",value:z,onChange:P=>M(P.target.value),onKeyDown:P=>P.key==="Enter"&&dt(),placeholder:"Search anywhereâ€¦",sx:{minWidth:{xs:n.spacing(20),sm:n.spacing(30)}},InputProps:{startAdornment:a.jsx(Yo,{position:"start",sx:{color:K(n.palette.text.primary,.6)},children:a.jsx(ts,{size:16})})}}),a.jsx(Nt,{ref:J,onClick:Yt,variant:C?"contained":"outlined",color:"primary",size:"small",startIcon:a.jsx(zu,{size:16}),disabled:!f,sx:{boxShadow:C?"0 14px 36px rgba(8,58,97,0.25)":"none",bgcolor:C?l:void 0,borderColor:C?i:void 0},children:"Search Tool"}),a.jsx(ln,{size:"small",onClick:()=>v(P=>!P),sx:{borderRadius:2,border:`1px solid ${d}`,boxShadow:x?"0 14px 36px rgba(8,58,97,0.2)":"none",bgcolor:x?i:"white",color:x?n.palette.common.white:n.palette.text.primary,"&:hover":{bgcolor:x?s:K(i,.08)}},children:a.jsx(ju,{size:16})}),a.jsx(ln,{size:"small",onClick:()=>S(P=>!P),sx:{borderRadius:2,border:`1px solid ${d}`,boxShadow:y?"0 14px 36px rgba(8,58,97,0.2)":"none",bgcolor:y?i:"white",color:y?n.palette.common.white:n.palette.text.primary,"&:hover":{bgcolor:y?s:K(i,.08)}},title:"Map Legend",children:a.jsx(Bu,{size:16})}),a.jsx(Se,{sx:{flexGrow:1}}),a.jsx(Nt,{variant:"outlined",size:"small",onClick:xt,children:"Clear All"}),we.length>0&&a.jsx(Ae,{direction:"row",spacing:1.5,ml:2,alignItems:"center",children:we.map(P=>a.jsx(ln,{size:"small",onClick:()=>lt(P),sx:{width:32,height:32,borderRadius:1.5,border:`1px solid ${K(n.palette.primary.main,.12)}`,bgcolor:"white","&:hover":{bgcolor:K(n.palette.primary.main,.08)}},children:vn.createElement(Ki[P].icon,{size:15})},P))})]}),ce=a.jsx(rr,{open:pt,anchorEl:Pt,placement:"bottom-start",transition:!0,modifiers:[{name:"offset",options:{offset:[0,10]}}],children:({TransitionProps:P})=>a.jsx(Wo,{...P,timeout:160,children:a.jsx(Se,{children:a.jsx(mp,{onClickAway:Ve,children:a.jsxs(vt,{elevation:16,sx:{borderRadius:3,p:3,border:`1px solid ${d}`,boxShadow:h,backgroundImage:"none",display:"flex",flexDirection:"column",gap:3},style:{width:"min(95vw, 760px)"},children:[a.jsxs(Ae,{direction:{xs:"column",md:"row"},spacing:3,children:[a.jsxs(vt,{elevation:0,sx:{width:{xs:"100%",md:"clamp(200px,24vw,240px)"},borderRadius:2,border:`1px solid ${K(i,.12)}`,boxShadow:"0 18px 42px rgba(8,58,97,0.18)",backgroundImage:"none",p:2.5,display:"flex",flexDirection:"column",gap:3},children:[a.jsxs(Se,{children:[a.jsx(ye,{variant:"overline",sx:{fontWeight:700,color:K(n.palette.text.secondary,.9)},children:"Task Searches"}),a.jsx(Ae,{spacing:1,mt:1.5,children:V.map(H=>a.jsx(Nt,{onClick:()=>de(H.id),fullWidth:!0,size:"small",variant:Le(H.id)?"contained":"outlined",color:"primary",sx:{justifyContent:"flex-start",textTransform:"none",fontSize:12,fontWeight:600,borderRadius:1.5},children:H.label},H.id))})]}),a.jsx(Zn,{flexItem:!0,sx:{my:1}}),a.jsxs(Se,{children:[a.jsx(ye,{variant:"overline",sx:{fontWeight:700,color:K(n.palette.text.secondary,.9)},children:"Resource Searches"}),a.jsx(Ae,{spacing:1,mt:1.5,children:Ie.map(H=>a.jsx(Nt,{onClick:()=>de(H.id),fullWidth:!0,size:"small",variant:Le(H.id)?"contained":"outlined",color:"primary",sx:{justifyContent:"flex-start",textTransform:"none",fontSize:12,fontWeight:600,borderRadius:1.5},children:H.label},H.id))})]})]}),a.jsx(vt,{elevation:0,sx:{flex:1,borderRadius:2,border:`1px solid ${K(i,.12)}`,boxShadow:"0 18px 42px rgba(8,58,97,0.18)",backgroundImage:"none",p:3},children:a.jsx(Qh,{mode:Ya(ve),onSearch:H=>{N.current=H},onClear:()=>{B([]),E([]),re(H=>H+1)},dropdownData:{...oe,resourceStatuses:Array.from(new Set(W.map(H=>H.status))).sort()},resetKey:he})})]}),a.jsx(Ae,{direction:"row",justifyContent:"flex-end",children:a.jsx(Nt,{variant:"contained",size:"medium",onClick:()=>{const H=N.current;Ya(ve).startsWith("task")?Ge(H):Re(H)},sx:{px:3.5,fontWeight:700,boxShadow:"0 18px 38px rgba(8,58,97,0.24)"},children:"Search"})})]})})})})});return a.jsxs(Se,{sx:{flex:1,minHeight:0,display:"flex",flexDirection:"column",position:"relative",backgroundColor:K(n.palette.primary.light,.08)},children:[Zt,a.jsx(Vh,{visible:y,onClose:()=>S(!1)}),ce,a.jsx(Se,{sx:{flex:1,minHeight:0,px:1,pt:1},children:a.jsxs(jo,{direction:"vertical",style:{height:"100%"},children:[en.length>0&&a.jsxs(a.Fragment,{children:[a.jsx(eo,{defaultSize:50,children:a.jsx(jo,{direction:"horizontal",style:{height:"100%"},children:en.map((P,H)=>a.jsxs(vn.Fragment,{children:[H>0&&a.jsx(Bo,{style:{width:4,backgroundColor:K(n.palette.primary.main,.08),cursor:"col-resize"}}),a.jsx(eo,{children:a.jsx(Xa,{title:Ki[P].label,icon:Ki[P].icon,isMaximized:ut(P),onMaximize:()=>St(P),onClose:()=>kt(P),visibleCount:le.length,children:mt(P)})})]},P))})}),Kt.length>0&&a.jsx(Bo,{style:{height:4,backgroundColor:K(n.palette.primary.main,.08),cursor:"row-resize"}})]}),Kt.length>0&&a.jsx(eo,{defaultSize:50,children:a.jsx(jo,{direction:"horizontal",style:{height:"100%"},children:Kt.map((P,H)=>a.jsxs(vn.Fragment,{children:[H>0&&a.jsx(Bo,{style:{width:4,backgroundColor:K(n.palette.primary.main,.08),cursor:"col-resize"}}),a.jsx(eo,{children:a.jsx(Xa,{title:Ki[P].label,icon:Ki[P].icon,isMaximized:ut(P),onMaximize:()=>St(P),onClose:()=>kt(P),visibleCount:le.length,children:mt(P)})})]},P))})})]},le.join("-"))})]})}let df={data:""},pf=n=>{if(typeof window=="object"){let i=(n?n.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return i.nonce=window.__nonce__,i.parentNode||(n||document.head).appendChild(i),i.firstChild}return n||df},hf=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,mf=/\/\*[^]*?\*\/|  +/g,Qa=/\n+/g,Qn=(n,i)=>{let s="",l="",d="";for(let h in n){let p=n[h];h[0]=="@"?h[1]=="i"?s=h+" "+p+";":l+=h[1]=="f"?Qn(p,h):h+"{"+Qn(p,h[1]=="k"?"":i)+"}":typeof p=="object"?l+=Qn(p,i?i.replace(/([^,])+/g,m=>h.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,f=>/&/.test(f)?f.replace(/&/g,m):m?m+" "+f:f)):h):p!=null&&(h=/^--/.test(h)?h:h.replace(/[A-Z]/g,"-$&").toLowerCase(),d+=Qn.p?Qn.p(h,p):h+":"+p+";")}return s+(i&&d?i+"{"+d+"}":d)+l},Fn={},oc=n=>{if(typeof n=="object"){let i="";for(let s in n)i+=s+oc(n[s]);return i}return n},ff=(n,i,s,l,d)=>{let h=oc(n),p=Fn[h]||(Fn[h]=(f=>{let _=0,x=11;for(;_<f.length;)x=101*x+f.charCodeAt(_++)>>>0;return"go"+x})(h));if(!Fn[p]){let f=h!==n?n:(_=>{let x,v,y=[{}];for(;x=hf.exec(_.replace(mf,""));)x[4]?y.shift():x[3]?(v=x[3].replace(Qa," ").trim(),y.unshift(y[0][v]=y[0][v]||{})):y[0][x[1]]=x[2].replace(Qa," ").trim();return y[0]})(n);Fn[p]=Qn(d?{["@keyframes "+p]:f}:f,s?"":"."+p)}let m=s&&Fn.g?Fn.g:null;return s&&(Fn.g=Fn[p]),((f,_,x,v)=>{v?_.data=_.data.replace(v,f):_.data.indexOf(f)===-1&&(_.data=x?f+_.data:_.data+f)})(Fn[p],i,l,m),p},gf=(n,i,s)=>n.reduce((l,d,h)=>{let p=i[h];if(p&&p.call){let m=p(s),f=m&&m.props&&m.props.className||/^go/.test(m)&&m;p=f?"."+f:m&&typeof m=="object"?m.props?"":Qn(m,""):m===!1?"":m}return l+d+(p??"")},"");function as(n){let i=this||{},s=n.call?n(i.p):n;return ff(s.unshift?s.raw?gf(s,[].slice.call(arguments,1),i.p):s.reduce((l,d)=>Object.assign(l,d&&d.call?d(i.p):d),{}):s,pf(i.target),i.g,i.o,i.k)}let sc,ir,or;as.bind({g:1});let Hn=as.bind({k:1});function yf(n,i,s,l){Qn.p=i,sc=n,ir=s,or=l}function ni(n,i){let s=this||{};return function(){let l=arguments;function d(h,p){let m=Object.assign({},h),f=m.className||d.className;s.p=Object.assign({theme:ir&&ir()},m),s.o=/ *go\d+/.test(f),m.className=as.apply(s,l)+(f?" "+f:"");let _=n;return n[0]&&(_=m.as||n,delete m.as),or&&_[0]&&or(m),sc(_,m)}return d}}var vf=n=>typeof n=="function",Vo=(n,i)=>vf(n)?n(i):n,xf=(()=>{let n=0;return()=>(++n).toString()})(),rc=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){let i=matchMedia("(prefers-reduced-motion: reduce)");n=!i||i.matches}return n}})(),_f=20,Tr="default",ac=(n,i)=>{let{toastLimit:s}=n.settings;switch(i.type){case 0:return{...n,toasts:[i.toast,...n.toasts].slice(0,s)};case 1:return{...n,toasts:n.toasts.map(p=>p.id===i.toast.id?{...p,...i.toast}:p)};case 2:let{toast:l}=i;return ac(n,{type:n.toasts.find(p=>p.id===l.id)?1:0,toast:l});case 3:let{toastId:d}=i;return{...n,toasts:n.toasts.map(p=>p.id===d||d===void 0?{...p,dismissed:!0,visible:!1}:p)};case 4:return i.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(p=>p.id!==i.toastId)};case 5:return{...n,pausedAt:i.time};case 6:let h=i.time-(n.pausedAt||0);return{...n,pausedAt:void 0,toasts:n.toasts.map(p=>({...p,pauseDuration:p.pauseDuration+h}))}}},Fo=[],lc={toasts:[],pausedAt:void 0,settings:{toastLimit:_f}},Nn={},cc=(n,i=Tr)=>{Nn[i]=ac(Nn[i]||lc,n),Fo.forEach(([s,l])=>{s===i&&l(Nn[i])})},uc=n=>Object.keys(Nn).forEach(i=>cc(n,i)),bf=n=>Object.keys(Nn).find(i=>Nn[i].toasts.some(s=>s.id===n)),ls=(n=Tr)=>i=>{cc(i,n)},Sf={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},wf=(n={},i=Tr)=>{let[s,l]=u.useState(Nn[i]||lc),d=u.useRef(Nn[i]);u.useEffect(()=>(d.current!==Nn[i]&&l(Nn[i]),Fo.push([i,l]),()=>{let p=Fo.findIndex(([m])=>m===i);p>-1&&Fo.splice(p,1)}),[i]);let h=s.toasts.map(p=>{var m,f,_;return{...n,...n[p.type],...p,removeDelay:p.removeDelay||((m=n[p.type])==null?void 0:m.removeDelay)||(n==null?void 0:n.removeDelay),duration:p.duration||((f=n[p.type])==null?void 0:f.duration)||(n==null?void 0:n.duration)||Sf[p.type],style:{...n.style,...(_=n[p.type])==null?void 0:_.style,...p.style}}});return{...s,toasts:h}},Cf=(n,i="blank",s)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:i,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...s,id:(s==null?void 0:s.id)||xf()}),po=n=>(i,s)=>{let l=Cf(i,n,s);return ls(l.toasterId||bf(l.id))({type:2,toast:l}),l.id},wt=(n,i)=>po("blank")(n,i);wt.error=po("error");wt.success=po("success");wt.loading=po("loading");wt.custom=po("custom");wt.dismiss=(n,i)=>{let s={type:3,toastId:n};i?ls(i)(s):uc(s)};wt.dismissAll=n=>wt.dismiss(void 0,n);wt.remove=(n,i)=>{let s={type:4,toastId:n};i?ls(i)(s):uc(s)};wt.removeAll=n=>wt.remove(void 0,n);wt.promise=(n,i,s)=>{let l=wt.loading(i.loading,{...s,...s==null?void 0:s.loading});return typeof n=="function"&&(n=n()),n.then(d=>{let h=i.success?Vo(i.success,d):void 0;return h?wt.success(h,{id:l,...s,...s==null?void 0:s.success}):wt.dismiss(l),d}).catch(d=>{let h=i.error?Vo(i.error,d):void 0;h?wt.error(h,{id:l,...s,...s==null?void 0:s.error}):wt.dismiss(l)}),n};var Tf=1e3,Af=(n,i="default")=>{let{toasts:s,pausedAt:l}=wf(n,i),d=u.useRef(new Map).current,h=u.useCallback((v,y=Tf)=>{if(d.has(v))return;let S=setTimeout(()=>{d.delete(v),p({type:4,toastId:v})},y);d.set(v,S)},[]);u.useEffect(()=>{if(l)return;let v=Date.now(),y=s.map(S=>{if(S.duration===1/0)return;let k=(S.duration||0)+S.pauseDuration-(v-S.createdAt);if(k<0){S.visible&&wt.dismiss(S.id);return}return setTimeout(()=>wt.dismiss(S.id,i),k)});return()=>{y.forEach(S=>S&&clearTimeout(S))}},[s,l,i]);let p=u.useCallback(ls(i),[i]),m=u.useCallback(()=>{p({type:5,time:Date.now()})},[p]),f=u.useCallback((v,y)=>{p({type:1,toast:{id:v,height:y}})},[p]),_=u.useCallback(()=>{l&&p({type:6,time:Date.now()})},[l,p]),x=u.useCallback((v,y)=>{let{reverseOrder:S=!1,gutter:k=8,defaultPosition:A}=y||{},C=s.filter(z=>(z.position||A)===(v.position||A)&&z.height),R=C.findIndex(z=>z.id===v.id),J=C.filter((z,M)=>M<R&&z.visible).length;return C.filter(z=>z.visible).slice(...S?[J+1]:[0,J]).reduce((z,M)=>z+(M.height||0)+k,0)},[s]);return u.useEffect(()=>{s.forEach(v=>{if(v.dismissed)h(v.id,v.removeDelay);else{let y=d.get(v.id);y&&(clearTimeout(y),d.delete(v.id))}})},[s,h]),{toasts:s,handlers:{updateHeight:f,startPause:m,endPause:_,calculateOffset:x}}},kf=Hn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Pf=Hn`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,If=Hn`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Mf=ni("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${kf} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Pf} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${n=>n.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${If} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Df=Hn`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Lf=ni("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${n=>n.secondary||"#e0e0e0"};
  border-right-color: ${n=>n.primary||"#616161"};
  animation: ${Df} 1s linear infinite;
`,Ef=Hn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Rf=Hn`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Nf=ni("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Ef} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Rf} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${n=>n.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Of=ni("div")`
  position: absolute;
`,zf=ni("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,jf=Hn`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Bf=ni("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${jf} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Ff=({toast:n})=>{let{icon:i,type:s,iconTheme:l}=n;return i!==void 0?typeof i=="string"?u.createElement(Bf,null,i):i:s==="blank"?null:u.createElement(zf,null,u.createElement(Lf,{...l}),s!=="loading"&&u.createElement(Of,null,s==="error"?u.createElement(Mf,{...l}):u.createElement(Nf,{...l})))},Wf=n=>`
0% {transform: translate3d(0,${n*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Zf=n=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${n*-150}%,-1px) scale(.6); opacity:0;}
`,Hf="0%{opacity:0;} 100%{opacity:1;}",$f="0%{opacity:1;} 100%{opacity:0;}",Gf=ni("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Jf=ni("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Vf=(n,i)=>{let s=n.includes("top")?1:-1,[l,d]=rc()?[Hf,$f]:[Wf(s),Zf(s)];return{animation:i?`${Hn(l)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Hn(d)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Uf=u.memo(({toast:n,position:i,style:s,children:l})=>{let d=n.height?Vf(n.position||i||"top-center",n.visible):{opacity:0},h=u.createElement(Ff,{toast:n}),p=u.createElement(Jf,{...n.ariaProps},Vo(n.message,n));return u.createElement(Gf,{className:n.className,style:{...d,...s,...n.style}},typeof l=="function"?l({icon:h,message:p}):u.createElement(u.Fragment,null,h,p))});yf(u.createElement);var qf=({id:n,className:i,style:s,onHeightUpdate:l,children:d})=>{let h=u.useCallback(p=>{if(p){let m=()=>{let f=p.getBoundingClientRect().height;l(n,f)};m(),new MutationObserver(m).observe(p,{subtree:!0,childList:!0,characterData:!0})}},[n,l]);return u.createElement("div",{ref:h,className:i,style:s},d)},Kf=(n,i)=>{let s=n.includes("top"),l=s?{top:0}:{bottom:0},d=n.includes("center")?{justifyContent:"center"}:n.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:rc()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${i*(s?1:-1)}px)`,...l,...d}},Xf=as`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Do=16,Yf=({reverseOrder:n,position:i="top-center",toastOptions:s,gutter:l,children:d,toasterId:h,containerStyle:p,containerClassName:m})=>{let{toasts:f,handlers:_}=Af(s,h);return u.createElement("div",{"data-rht-toaster":h||"",style:{position:"fixed",zIndex:9999,top:Do,left:Do,right:Do,bottom:Do,pointerEvents:"none",...p},className:m,onMouseEnter:_.startPause,onMouseLeave:_.endPause},f.map(x=>{let v=x.position||i,y=_.calculateOffset(x,{reverseOrder:n,gutter:l,defaultPosition:i}),S=Kf(v,y);return u.createElement(qf,{id:x.id,key:x.id,onHeightUpdate:_.updateHeight,className:x.visible?Xf:"",style:S},x.type==="custom"?Vo(x.message,x):d?d(x):u.createElement(Uf,{toast:x,position:v}))}))},Lo=wt;const Qf=[{label:"Operation Toolkit",icon:ur},{label:"General Settings",icon:Ho}],eg=[{label:"Task Admin",icon:es},{label:"Jeopardy Admin",icon:cr}],tg=[{label:"Resource Admin",icon:Qo},{label:"Self Service Admin",icon:Ho},{label:"User Admin",icon:gl}],ng=[{label:"Domain Admin",icon:yl},{label:"Schedule Admin",icon:vl},{label:"System Admin",icon:xl}],ig=u.memo(function({currentMenu:i,onMenuClick:s,activeSubPage:l}){const d=qt(),[h,p]=u.useState(!1),[m,f]=u.useState(null),_=u.useRef(h);u.useEffect(()=>{i!=null&&i.label&&f(i.label.trim())},[i]);const x=u.useCallback(()=>{p(S=>!S)},[]);u.useEffect(()=>{const S=()=>x();return window.addEventListener("toggleSidebar",S),()=>window.removeEventListener("toggleSidebar",S)},[x]),u.useEffect(()=>{const S=()=>f(null);return window.addEventListener("resetSidebarSelection",S),()=>window.removeEventListener("resetSidebarSelection",S)},[]),u.useEffect(()=>(h&&!_.current&&document.body.classList.add("sidebar-open"),!h&&_.current&&document.body.classList.remove("sidebar-open"),_.current=h,()=>{document.body.classList.remove("sidebar-open")}),[h]);const v=u.useMemo(()=>[{title:"User Section",menus:Qf},{title:"Task Admin",menus:eg},{title:"People Admin",menus:tg},{title:"System Admin",menus:ng}],[]),y=u.useCallback(S=>{const k=S.label.trim();if(m===k&&!(l!==null)){p(!1);return}f(k),s({...S,label:k}),p(!1)},[m,l,s]);return a.jsxs(Kp,{variant:"temporary",open:h,onClose:()=>p(!1),ModalProps:{keepMounted:!0},PaperProps:{sx:{width:{xs:"80vw",sm:d.spacing(40)},maxWidth:"100vw",minWidth:0,minHeight:0,backgroundColor:"background.paper",borderRight:`1px solid ${K(d.palette.text.primary,.08)}`,boxShadow:"8px 0 24px rgba(0,0,0,0.16)",display:"flex",flexDirection:"column"}},children:[a.jsx(Se,{sx:{px:3,py:2.5,borderBottom:`1px solid ${K(d.palette.text.primary,.12)}`},children:a.jsx(ye,{variant:"h6",fontWeight:600,color:"text.primary",children:"Navigation"})}),a.jsx(Se,{sx:{flex:1,overflowY:"auto",py:1},children:v.map(({title:S,menus:k})=>a.jsxs(vn.Fragment,{children:[a.jsx(og,{title:S,menus:k,activeMenuLabel:m,onMenuClick:y}),a.jsx(Zn,{sx:{mx:2,my:2,borderColor:K(d.palette.text.primary,.08)}})]},S))}),a.jsx(sg,{})]})}),og=u.memo(function({title:i,menus:s,activeMenuLabel:l,onMenuClick:d}){const h=qt();return a.jsxs(Se,{sx:{px:2,py:1},children:[a.jsx(ye,{variant:"overline",color:"text.secondary",sx:{px:1.5,mb:1,letterSpacing:1.4},children:i}),a.jsx(dl,{disablePadding:!0,children:s.map(p=>{const m=p.icon,f=l===p.label;return a.jsxs(pl,{onClick:()=>d(p),selected:f,sx:{borderRadius:2,mb:1,alignItems:"center",px:2.5,py:1.5,position:"relative",...f?{backgroundColor:K(h.palette.primary.main,.12),color:h.palette.primary.main,"&::before":{content:'""',position:"absolute",left:12,top:10,bottom:10,width:4,borderRadius:999,backgroundColor:h.palette.primary.main}}:{color:h.palette.text.primary,"&:hover":{backgroundColor:K(h.palette.primary.main,.08)}}},children:[a.jsx(Ys,{sx:{minWidth:h.spacing(4.5),color:"inherit"},children:vn.createElement(m,{size:18,strokeWidth:2.2})}),a.jsx(ji,{primary:p.label,primaryTypographyProps:{fontSize:14,fontWeight:f?600:500}})]},p.label)})})]})}),sg=u.memo(function(){const i=qt();return a.jsxs(Se,{sx:{px:3,py:2.5,borderTop:`1px solid ${K(i.palette.text.primary,.1)}`,backgroundColor:K(i.palette.background.paper,.85)},children:[a.jsxs(Ae,{direction:"row",alignItems:"center",justifyContent:"space-between",mb:1.5,children:[a.jsx(ye,{variant:"subtitle2",fontWeight:600,color:"text.primary",children:"System Info"}),a.jsx(Se,{sx:{color:"text.secondary"},children:a.jsx(Zu,{size:16})})]}),a.jsxs(Ae,{spacing:.5,sx:{color:"text.secondary",fontSize:12},children:[a.jsxs("span",{children:[a.jsx("strong",{children:"Client Version:"})," 1"]}),a.jsxs("span",{children:[a.jsx("strong",{children:"Build #:"})," 11.11.2025"]}),a.jsxs("span",{children:[a.jsx("strong",{children:"Node:"})," 20.0.0"]})]}),a.jsx(Zn,{sx:{my:1.5,borderColor:K(i.palette.text.primary,.08)}}),a.jsx(ye,{variant:"caption",color:"text.secondary",display:"block",textAlign:"center",children:"Brandon Virtual | Â© 2025"})]})}),rg=ti(a.jsx("path",{d:"M10 18h4v-2h-4zM3 6v2h18V6zm3 7h12v-2H6z"}),"FilterList"),ag=hn(hl),el={taskSearch:"",division:[],domainId:[],taskStatuses:[],requester:"",responseCode:[],commitType:[],capabilities:[],pwa:[],jobType:"",scoreCondition:"",scoreValue:"",locationType:"",locationValue:"",fromDate:"",fromTime:"",toDate:"",toTime:""},Xi={taskSearch:"Search",division:"Division",domainId:"Domain",taskStatuses:"Task Status",requester:"Requester",responseCode:"Response",commitType:"Commitment",capabilities:"Capabilities",pwa:"PWA",jobType:"Job Type",scoreCondition:"IMP Condition",scoreValue:"IMP Value",locationType:"Location Type",locationValue:"Location Value",fromDate:"From Date",fromTime:"From Time",toDate:"To Date",toTime:"To Time"};function lg({onSearch:n,onClear:i,onCopy:s,onExport:l,canCopy:d=!1,forceCollapsed:h=!1}){const p=qt(),[m,f]=u.useState(()=>({...el})),[_,x]=u.useState(!1),[v,y]=u.useState(!1),[S,k]=u.useState("basic"),[A,C]=u.useState(null),[R,J]=u.useState(null),z=T=>Array.from(new Set(T.filter(Boolean))),M=u.useMemo(()=>z(Qt.map(T=>T.division)).sort(),[]),N=u.useMemo(()=>z(Qt.map(T=>T.domain)).sort(),[]),G=u.useMemo(()=>z(Qt.map(D=>D.taskStatus)).sort((D,Q)=>{const se=D.match(/\(([^)]+)\)\s*$/),me=Q.match(/\(([^)]+)\)\s*$/),Ee=(se==null?void 0:se[1])??D,nt=(me==null?void 0:me[1])??Q;return Ee.localeCompare(nt)}),[]),B=u.useMemo(()=>z(Qt.map(T=>T.responseCode)).sort(),[]),Y=u.useMemo(()=>z(Qt.map(T=>T.commitmentType)).sort(),[]),E=u.useMemo(()=>z(Qt.flatMap(T=>T.capabilities||[])).sort(),[]),W=u.useMemo(()=>z(Qt.map(T=>T.pwa)).sort(),[]),oe=u.useMemo(()=>z(Qt.map(T=>T.resourceName)).sort(),[]),$=u.useMemo(()=>z(Qt.map(T=>T.taskType)).sort(),[]),[he,re]=vn.useState({});vn.useEffect(()=>{if(!(typeof window>"u"))try{const D=document.createElement("canvas").getContext("2d");if(!D)return;const Q=getComputedStyle(document.body);D.font=Q.font||"14px Roboto, sans-serif";const se=["division","domainId","taskStatuses","commitType","responseCode","pwa","capabilities","requester","jobType","locationValue"],me=6,Ee=6,nt=Me=>{const Fe=ve[Me];if(Fe){const we="0".repeat(Fe+me+Ee);return Math.ceil(D.measureText(we).width)}const at=(we=>{switch(we){case"division":return M;case"domainId":return N;case"taskStatuses":return G;case"responseCode":return B;case"commitType":return Y;case"capabilities":return E;case"pwa":return W;case"requester":return oe;case"jobType":return $;default:return}})(Me);let le=Xi[Me]??Me;at&&at.length&&(le=at.reduce((we,ut)=>String(ut).length>we.length?String(ut):we,le));const Pe=le+" ".repeat(me+Ee);return Math.ceil(D.measureText(Pe).width)},Oe={};se.forEach(Me=>{try{Oe[Me]=nt(Me)}catch{}}),re(Oe)}catch{}},[M,N,G,B,Y,E,W,oe,$]);const ve={division:36,domainId:14,taskStatuses:24,commitType:22,responseCode:10,pwa:20,capabilities:28,requester:28,jobType:22,locationValue:32,locationType:16,scoreValue:6},de=u.useMemo(()=>m.taskSearch.trim().length>0?!0:m.division.length>0&&m.domainId.length>0,[m.division.length,m.domainId.length,m.taskSearch]);u.useMemo(()=>{const T=[];return["taskSearch","requester","jobType","scoreCondition","scoreValue","locationType","locationValue"].forEach(se=>{const me=m[se];typeof me=="string"&&me.trim()&&T.push({key:se,label:Xi[se],displayValue:me,isArray:!1})}),["division","domainId","taskStatuses","responseCode","commitType","capabilities","pwa"].forEach(se=>{const me=m[se];me.length&&T.push({key:se,label:Xi[se],displayValue:me.join(", "),isArray:!0})}),m.fromDate&&T.push({key:"fromDate",label:Xi.fromDate,displayValue:m.fromDate,isArray:!1}),m.toDate&&T.push({key:"toDate",label:Xi.toDate,displayValue:m.toDate,isArray:!1}),T},[m]);const Le=u.useCallback(T=>{const{name:D,value:Q}=T.target;f(se=>({...se,[D]:Q}))},[]),V=u.useCallback((T,D)=>{f(Q=>({...Q,[T]:D}))},[]),Ie=u.useCallback(()=>{n(m)},[m,n]),ae=u.useCallback(()=>{f({...el}),i()},[i]);vn.useEffect(()=>{h&&x(!0)},[h]);const ue=u.useCallback(T=>{C(T.currentTarget)},[]),ke=u.useCallback(()=>{C(null)},[]),U=u.useCallback(()=>{d&&s?s():Lo.error("No data to copy"),ke()},[d,ke,s]),ie=u.useCallback(()=>{d&&l?l():Lo.error("No data to export"),ke()},[d,ke,l]);return u.useMemo(()=>[{label:"My Tasks",action:()=>Lo("Preset: My Tasks")},{label:"Due Today",action:()=>Lo("Preset: Due Today")},{label:"High IMP",action:()=>f(T=>({...T,scoreCondition:"greater",scoreValue:"80"}))}],[]),a.jsxs(ag,{initial:{opacity:0,y:-6},animate:{opacity:1,y:0},transition:{duration:.25},sx:{borderRadius:"12px 12px 0 0",boxShadow:"0 18px 35px rgba(10, 74, 122, 0.12)",overflow:"hidden",width:"100%",maxWidth:"100%",mx:0},children:[a.jsx(Se,{sx:{px:{xs:2,md:3},py:.5,bgcolor:"transparent"},children:a.jsxs(Se,{sx:{display:"flex",alignItems:"center",gap:1},children:[a.jsxs(Zh,{value:S,onChange:(T,D)=>k(D),variant:"standard",sx:{minHeight:36},children:[a.jsx(Aa,{value:"basic",label:"Basic",sx:{minHeight:36,px:1}}),a.jsx(Aa,{value:"advanced",label:"Advanced",sx:{minHeight:36,px:1}})]}),a.jsx(Se,{sx:{flex:1}}),a.jsx(Se,{sx:{width:{xs:140,sm:260,md:360}},children:a.jsx(an,{name:"taskSearch",value:m.taskSearch,onChange:Le,placeholder:"Global search",size:"small",fullWidth:!0,InputProps:{startAdornment:a.jsx(Yo,{position:"start",children:a.jsx(ts,{size:16})})}})}),a.jsx(ln,{onClick:T=>J(T.currentTarget),size:"small",sx:{ml:1},"aria-label":"date-filter",children:a.jsx(rg,{fontSize:"small"})}),a.jsx(ln,{onClick:()=>y(T=>!T),size:"small",sx:{ml:1},"aria-label":"favourite",children:a.jsx(Hu,{size:16,fill:v?"#facc15":"none"})})]})}),a.jsxs(ml,{sx:{pt:.5,pb:2,px:2,maxHeight:"none",overflowY:"visible"},children:[S==="basic"&&a.jsxs(Se,{mt:1,children:[a.jsx(Se,{sx:{display:"flex",justifyContent:"flex-end",mb:.25},children:a.jsx(Vs,{anchorEl:R,open:!!R,onClose:()=>J(null),anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:a.jsxs(Se,{sx:{p:1,display:"flex",flexDirection:"column",gap:1,minWidth:220},children:[a.jsxs(Ae,{direction:"row",spacing:1,alignItems:"center",children:[a.jsx(an,{type:"date",name:"fromDate",label:"From",value:m.fromDate,onChange:Le,size:"small",InputLabelProps:{shrink:!0}}),a.jsx(an,{type:"time",name:"fromTime",value:m.fromTime,onChange:Le,size:"small"})]}),a.jsxs(Ae,{direction:"row",spacing:1,alignItems:"center",children:[a.jsx(an,{type:"date",name:"toDate",label:"To",value:m.toDate,onChange:Le,size:"small",InputLabelProps:{shrink:!0}}),a.jsx(an,{type:"time",name:"toTime",value:m.toTime,onChange:Le,size:"small"})]}),a.jsx(Nt,{variant:"contained",size:"small",onClick:()=>J(null),children:"Apply"})]})})}),a.jsxs(_t,{container:!0,spacing:1.5,alignItems:"center",children:[a.jsx(_t,{item:!0,xs:12,sm:"auto",md:"auto",children:a.jsx(yn,{label:"Division",options:M,value:m.division,onChange:T=>V("division",T),showSelectAllIcon:!0,required:!0})}),a.jsx(_t,{item:!0,xs:12,sm:"auto",md:"auto",children:a.jsx(yn,{label:"Domain ID",options:N,value:m.domainId,onChange:T=>V("domainId",T),showSelectAllIcon:!0,required:!0})}),a.jsx(_t,{item:!0,xs:12,sm:"auto",md:"auto",children:a.jsx(yn,{label:"Task Status",options:G,value:m.taskStatuses,onChange:T=>V("taskStatuses",T),showSelectAllIcon:!0})}),a.jsx(_t,{item:!0,xs:12,sm:"auto",md:"auto",children:a.jsx(yn,{label:"Commit Type",options:Y,value:m.commitType,onChange:T=>V("commitType",T),showSelectAllIcon:!0})}),a.jsx(_t,{item:!0,xs:12,sm:"auto",md:"auto",children:a.jsx(yn,{label:"Response Code",options:B,value:m.responseCode,onChange:T=>V("responseCode",T),showSelectAllIcon:!0})}),a.jsx(_t,{item:!0,xs:12,sm:"auto",md:"auto",children:a.jsx(yn,{label:"PWA Selector",options:W,value:m.pwa,onChange:T=>V("pwa",T),showSelectAllIcon:!0})}),a.jsx(_t,{item:!0,xs:12,sm:"auto",md:"auto",children:a.jsx(yn,{label:"Capabilities",options:E,value:m.capabilities,onChange:T=>V("capabilities",T),showSelectAllIcon:!0})})]})]}),S==="advanced"&&a.jsx(Se,{mt:1,children:a.jsxs(_t,{container:!0,spacing:1.5,alignItems:"center",children:[a.jsx(_t,{item:!0,xs:12,sm:"auto",md:"auto",children:a.jsx(Io,{label:"Requester",options:oe,value:m.requester,onChange:T=>f(D=>({...D,requester:T}))})}),a.jsx(_t,{item:!0,xs:12,sm:"auto",md:"auto",children:a.jsx(Io,{label:"Job Type",options:$,value:m.jobType,onChange:T=>f(D=>({...D,jobType:T}))})}),a.jsx(_t,{item:!0,xs:12,sm:"auto",md:"auto",children:a.jsx(Qs,{label:"Location Type",options:[{label:"Postcode",value:"postCode"},{label:"Location",value:"location"},{label:"Group Code",value:"groupCode"}],value:m.locationType||null,onChange:T=>f(D=>({...D,locationType:T??""}))})}),a.jsx(_t,{item:!0,xs:12,sm:"auto",md:"auto",children:a.jsx(Io,{label:"Location Value",options:[],value:m.locationValue,onChange:T=>f(D=>({...D,locationValue:T}))})}),a.jsx(_t,{item:!0,xs:12,sm:"auto",md:"auto",children:a.jsx(Qs,{label:"IMP Condition",options:[{label:"Greater Than",value:"greater"},{label:"Less Than",value:"less"}],value:m.scoreCondition||null,onChange:T=>f(D=>({...D,scoreCondition:T??""}))})}),a.jsx(_t,{item:!0,xs:12,sm:"auto",md:"auto",children:a.jsx(Io,{label:"IMP Value",options:[],value:m.scoreValue,onChange:T=>f(D=>({...D,scoreValue:T}))})})]})})]}),a.jsx(Zn,{}),a.jsxs(Yd,{sx:{px:2,py:1,bgcolor:p.palette.grey[50],display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsxs(Se,{children:[a.jsx(Nt,{variant:"outlined",size:"small",onClick:ue,endIcon:a.jsx(fl,{size:16}),sx:{borderRadius:2,textTransform:"none"},children:"More"}),a.jsxs(Vs,{anchorEl:A,open:!!A,onClose:ke,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:[a.jsx(un,{onClick:U,children:d?"Copy":"Copy (empty)"}),a.jsx(un,{onClick:ie,children:d?"Export":"Export (empty)"})]})]}),a.jsxs(Ae,{direction:"row",spacing:1,alignItems:"center",children:[!de&&a.jsx(ye,{variant:"caption",color:"text.secondary",children:"Select Division and Domain ID, or type in the global search."}),a.jsx(Nt,{variant:"outlined",size:"small",onClick:ae,sx:{borderRadius:2,textTransform:"none"},children:"Clear"}),a.jsx(Nt,{variant:"contained",size:"small",onClick:Ie,disabled:!de,sx:{borderRadius:2,textTransform:"none",boxShadow:"none"},children:"Search"})]})]})]})}const io={"Operation Toolkit":[{name:"Resource Management",description:"Manage all available resources, teams, and assets."},{name:"Task Management",description:"Oversee and assign operational tasks efficiently."},{name:"Schedule Live",description:"Monitor and adjust live schedules in real-time."},{name:"Schedule Explorer",description:"Browse and analyze upcoming schedules and plans."},{name:"Callout Overview",description:"Review all ongoing and past callout events."},{name:"Callout Launch",description:"Initiate and configure new callout operations."}],"General Settings":[{name:"System Preferences",description:"Modify user-level settings, preferences, and themes."},{name:"API Keys",description:"Manage access tokens and integrations securely."}],"Task Admin":[{name:"Task Type",description:"Define and manage task categories and types."},{name:"Task Routing",description:"Configure task routing and escalation rules."},{name:"Task Importance",description:"Set and manage task priority and importance levels."}],"Jeopardy Admin":[{name:"Alert Definitions",description:"Define and manage all alert templates."},{name:"Alert Action Definition",description:"Configure automated or manual alert responses."},{name:"Alert Parameter Definition",description:"Set up variable parameters and alert thresholds."},{name:"Alert Ranking",description:"Prioritize and rank alerts by severity or impact."},{name:"Alert Exclusion",description:"Manage exceptions and exclusion rules for alerts."}],"Resource Admin":[{name:"Rota Day Record",description:"Manage and track individual rota day records."},{name:"Rota Week Record",description:"Oversee weekly rota summaries and status tracking."},{name:"Rota Template Record",description:"Design and configure rota templates for scheduling."},{name:"Closure User Group",description:"Administer closure groups for specific operations."},{name:"Access Restriction",description:"Set user and role-based access limitations."},{name:"Personal Overtime",description:"Monitor and manage personal overtime records."},{name:"Business Overtime",description:"Control and review business-wide overtime data."}],"Self Service Admin":[{name:"Self Selection Settings Admin",description:"Configure system-wide self-selection settings."},{name:"Self Selection Task Rating Admin",description:"Manage task rating parameters."},{name:"Self Selection Patch Admin",description:"Handle patch management for self-selection."},{name:"Self Selection Work Type Admin",description:"Control available work types."}],"User Admin":[{name:"User Account",description:"Create and manage system user accounts and credentials."},{name:"User ID",description:"View and assign unique user identification numbers."},{name:"Unbar User",description:"Unblock or reinstate restricted user accounts."},{name:"User Role Profile",description:"Define user roles and associated permissions."},{name:"Supervisor Change Password",description:"Allow supervisors to reset/change passwords."}],"Domain Admin":[{name:"Domain Building",description:"Configure and structure operational domains."},{name:"Post Areas",description:"Define post boundaries, checkpoints, and zones."},{name:"Travel Areas",description:"Set travel regions and mobility zones."},{name:"Asset",description:"Manage fixed and movable assets."},{name:"Workforce",description:"Assign and monitor domain workforce allocations."},{name:"Division",description:"Oversee structural divisions."}],"Schedule Admin":[{name:"MSS Admin",description:"Manage and configure the Master Schedule System."},{name:"SRM Admin",description:"Administer SRM modules & permissions."},{name:"SRM Audit",description:"Audit SRM changes and scheduling history."}],"System Admin":[{name:"Algorithm Parameters",description:"Configure algorithm behaviors & weights."},{name:"System Code Editor",description:"Maintain scripts, triggers & automation."},{name:"Record Audit",description:"Review detailed audit trails."},{name:"Public Holiday",description:"Manage holiday dates affecting schedules."},{name:"General Travel Times",description:"Configure default travel time settings."}]};Object.entries(io).flatMap(([n,i])=>i.map(s=>({...s,menuLabel:n})));function cg(){const n=u.useRef(null),[i,s]=u.useState(null),[l,d]=u.useState(null),[h,p]=u.useState([]),m=520,f=720,_=16,x=24,v=1900,y=1e3,S=900,k=760,A=820,C=(M,N)=>{const G=window.screen.availWidth,B=window.screen.availHeight;if(M==="resource"){const $=Math.min(k,G-40,v),he=Math.min(A,B-80,y);return{width:$,height:he}}if(N===1){const $=Math.min(f+x*2,G-40,v),he=Math.min(S,B-80,y);return{width:$,height:he}}const Y=Math.min(N,3),E=m*Y+_*(Y-1)+x*2,W=Math.min(E,G-40,v),oe=Math.min(y,B-80);return{width:W,height:oe}},R=u.useCallback(()=>{const M=n.current;M&&!M.closed&&M.close(),n.current=null,s(null),d(null),p([])},[]),J=u.useCallback((M,N,G)=>{if(!M||M.length===0)return;n.current&&!n.current.closed&&n.current.close();const{width:B,height:Y}=C("tasks",M.length),E=window.screen.availWidth,W=window.screen.availHeight,oe=Math.max(0,(E-B)/2),$=Math.max(0,(W-Y)/2),he=`
        width=${B},
        height=${Y},
        left=${oe},
        top=${$},
        toolbar=0,
        menubar=0,
        location=0,
        status=0,
        scrollbars=1,
        resizable=1
      `,re=window.open("/popup.html","_blank",he);if(!re)return;n.current=re;const ve={mode:"tasks",tasks:M,expanded:h};re.__POPUP_DATA__=ve,re.__POPUP_CLOSE__=()=>R(),re.onload=()=>{try{re.__POPUP_DATA__=ve}catch{}},d(M),p([]),s(null)},[h,R]),z=u.useCallback((M,N)=>{if(!M)return;n.current&&!n.current.closed&&n.current.close();const{width:G,height:B}=C("resource",1),Y=window.screen.availWidth,E=window.screen.availHeight,W=Math.max(0,(Y-G)/2),oe=Math.max(0,(E-B)/2),$=`
        width=${G},
        height=${B},
        left=${W},
        top=${oe},
        toolbar=0,
        menubar=0,
        location=0,
        status=0,
        scrollbars=1,
        resizable=1
      `,he=window.open("/popup.html","_blank",$);if(!he)return;n.current=he;const re={mode:"resource",resource:M,history:N,expanded:[]};he.__POPUP_DATA__=re,he.__POPUP_CLOSE__=()=>R(),he.onload=()=>{try{he.__POPUP_DATA__=re}catch{}},d(null),p([]),s(null)},[R]);return{externalContainer:i,externalTasks:l,externalExpandedSections:h,openExternalWindow:J,openResourceWindow:z,closeExternalWindow:R,setExternalExpandedSections:p}}const tl=[{id:"DEMO-001",taskId:"RG-AB30001",workId:"WK-790218",resourceId:"SWBXA12",outcome:"CalloutDispatchedAWI",status:"Dispatched (AWI)",availableAgainAt:null,note:"John Evans (SWBXA12) outcome set to Callout â†’ Dispatched (AWI).",timestamp:"2025-12-08T11:00:00.000Z"},{id:"DEMO-002",taskId:"RG-AB30002",workId:"WK-729320",resourceId:"QWERB33",outcome:"Unavailable",status:"Awaiting Resource",availableAgainAt:"2025-12-08T13:30:00.000Z",note:"Ffion Hughes (QWERB33) outcome set to Unavailable.",timestamp:"2025-12-08T10:51:00.000Z"},{id:"DEMO-003",taskId:"RG-AB30003",workId:"WK-703093",resourceId:"PLMKC14",outcome:"NoReply",status:"Callout Failed",availableAgainAt:null,note:"Owain Roberts (PLMKC14) outcome set to No Reply.",timestamp:"2025-12-08T10:42:00.000Z"},{id:"DEMO-004",taskId:"RG-AB30004",workId:"WK-746808",resourceId:"GHJTQ55",outcome:"AssignDispatchedAWI",status:"Dispatched (AWI)",availableAgainAt:null,note:"Carys Morgan (GHJTQ55) outcome set to Assignment â†’ Dispatched (AWI).",timestamp:"2025-12-08T10:33:00.000Z"},{id:"DEMO-005",taskId:"RG-AB30005",workId:"WK-734734",resourceId:"MNBGD82",outcome:"Disturbance",status:"Incident Flagged",availableAgainAt:null,note:"Rhys Davies (MNBGD82) outcome set to Disturbance.",timestamp:"2025-12-08T10:24:00.000Z"},{id:"DEMO-006",taskId:"RG-AB30006",workId:"WK-728071",resourceId:"LKJHF22",outcome:"CalloutDispatchedAWI",status:"Dispatched (AWI)",availableAgainAt:null,note:"Lowri Jenkins (LKJHF22) outcome set to Callout â†’ Dispatched (AWI).",timestamp:"2025-12-08T10:15:00.000Z"},{id:"DEMO-007",taskId:"RG-AB30007",workId:"WK-781809",resourceId:"ASDFR91",outcome:"Refusal",status:"Refused",availableAgainAt:null,note:"Tomos Hughes (ASDFR91) outcome set to Refusal.",timestamp:"2025-12-08T10:06:00.000Z"},{id:"DEMO-008",taskId:"RG-AB30008",workId:"WK-764130",resourceId:"ZXCVS67",outcome:"CalloutDispatchedAWI",status:"Dispatched (AWI)",availableAgainAt:null,note:"Bethan Evans (ZXCVS67) outcome set to Callout â†’ Dispatched (AWI).",timestamp:"2025-12-08T09:57:00.000Z"},{id:"DEMO-009",taskId:"RG-AB30009",workId:"WK-797851",resourceId:"BNMAS49",outcome:"Refusal",status:"Refused",availableAgainAt:null,note:"Steffan Price (BNMAS49) outcome set to Refusal.",timestamp:"2025-12-08T09:48:00.000Z"},{id:"DEMO-010",taskId:"RG-AB30010",workId:"WK-728959",resourceId:"POIUY73",outcome:"Disturbance",status:"Incident Flagged",availableAgainAt:null,note:"Aled Thomas (POIUY73) outcome set to Disturbance.",timestamp:"2025-12-08T09:39:00.000Z"},{id:"DEMO-011",taskId:"RG-AB30011",workId:"WK-775917",resourceId:"UJMKL89",outcome:"CalloutDispatchedAWI",status:"Dispatched (AWI)",availableAgainAt:null,note:"Lauren Evans (UJMKL89) outcome set to Callout â†’ Dispatched (AWI).",timestamp:"2025-12-08T09:30:00.000Z"},{id:"DEMO-012",taskId:"RG-AB30012",workId:"WK-758165",resourceId:"KJHGF02",outcome:"CalloutDispatchedAWI",status:"Dispatched (AWI)",availableAgainAt:null,note:"Nia James (KJHGF02) outcome set to Callout â†’ Dispatched (AWI).",timestamp:"2025-12-08T09:21:00.000Z"},{id:"DEMO-013",taskId:"RG-AB30013",workId:"WK-790116",resourceId:"RTYHN44",outcome:"NoReply",status:"Callout Failed",availableAgainAt:null,note:"Chloe Davies (RTYHN44) outcome set to No Reply.",timestamp:"2025-12-08T09:12:00.000Z"},{id:"DEMO-014",taskId:"RG-AB30014",workId:"WK-785274",resourceId:"SDNEW21",outcome:"Refusal",status:"Refused",availableAgainAt:null,note:"Gareth Bowen (SDNEW21) outcome set to Refusal.",timestamp:"2025-12-08T09:03:00.000Z"},{id:"DEMO-015",taskId:"RG-AB30015",workId:"WK-703787",resourceId:"SDNEW22",outcome:"Unavailable",status:"Awaiting Resource",availableAgainAt:"2025-12-08T20:00:00.000Z",note:"Megan Griffiths (SDNEW22) outcome set to Unavailable.",timestamp:"2025-12-08T08:54:00.000Z"},{id:"DEMO-016",taskId:"RG-AB30016",workId:"WK-723933",resourceId:"SDNEW23",outcome:"CalloutDispatchedAWI",status:"Dispatched (AWI)",availableAgainAt:null,note:"Ieuan Watkins (SDNEW23) outcome set to Callout â†’ Dispatched (AWI).",timestamp:"2025-12-08T08:45:00.000Z"},{id:"DEMO-017",taskId:"RG-AB30017",workId:"WK-705434",resourceId:"SDNEW24",outcome:"AssignDispatchedAWI",status:"Dispatched (AWI)",availableAgainAt:null,note:"Seren Powell (SDNEW24) outcome set to Assignment â†’ Dispatched (AWI).",timestamp:"2025-12-08T08:36:00.000Z"},{id:"DEMO-018",taskId:"RG-AB30018",workId:"WK-772532",resourceId:"SDNEW25",outcome:"Unavailable",status:"Awaiting Resource",availableAgainAt:"2025-12-08T21:30:00.000Z",note:"Rhys Llewellyn (SDNEW25) outcome set to Unavailable.",timestamp:"2025-12-08T08:27:00.000Z"},{id:"DEMO-019",taskId:"RG-AB30019",workId:"WK-765705",resourceId:"SDNEW26",outcome:"Refusal",status:"Refused",availableAgainAt:null,note:"Catrin Rees (SDNEW26) outcome set to Refusal.",timestamp:"2025-12-08T08:18:00.000Z"},{id:"DEMO-020",taskId:"RG-AB30020",workId:"WK-731785",resourceId:"SDNEW27",outcome:"Disturbance",status:"Incident Flagged",availableAgainAt:null,note:"Gwenllian Thomas (SDNEW27) outcome set to Disturbance.",timestamp:"2025-12-08T08:09:00.000Z"},{id:"DEMO-021",taskId:"RG-AB30021",workId:"WK-716640",resourceId:"FJNEW28",outcome:"CalloutDispatchedAWI",status:"Dispatched (AWI)",availableAgainAt:null,note:"Eleri Hopkins (FJNEW28) outcome set to Callout â†’ Dispatched (AWI).",timestamp:"2025-12-08T08:00:00.000Z"},{id:"DEMO-022",taskId:"RG-AB30022",workId:"WK-783470",resourceId:"FJNEW29",outcome:"PendingACT",status:"Assigned (ACT)",availableAgainAt:null,note:"Geraint Morgan (FJNEW29) outcome set to Pending Callout â†’ Assigned (ACT).",timestamp:"2025-12-08T07:51:00.000Z"},{id:"DEMO-023",taskId:"RG-AB30023",workId:"WK-736499",resourceId:"FJNEW30",outcome:"CalloutDispatchedAWI",status:"Dispatched (AWI)",availableAgainAt:null,note:"Non Davies (FJNEW30) outcome set to Callout â†’ Dispatched (AWI).",timestamp:"2025-12-08T07:42:00.000Z"}];function dc(n){if(!n)return null;const i=typeof n.resourceId=="string"?n.resourceId:String(n.resourceId??"").trim();if(!i)return null;const s=typeof n.id=="string"?n.id:String(n.id??`${i}-${Date.now()}`),l=typeof n.timestamp=="string"&&n.timestamp?n.timestamp:new Date().toISOString();return{id:s,taskId:n.taskId??null,workId:n.workId??null,resourceId:i,outcome:n.outcome??"",status:n.status??null,availableAgainAt:n.availableAgainAt??null,note:n.note??null,timestamp:l}}function nl(){const i=(Array.isArray(tl)?tl:[]).map(s=>dc(s)).filter(s=>!!s);return i.sort((s,l)=>{const d=Date.parse(s.timestamp),h=Date.parse(l.timestamp),p=!Number.isNaN(d),m=!Number.isNaN(h);return p&&m?h-d:p?-1:m?1:0}),i}function ug(){const[n,i]=u.useState(()=>nl()),[s,l]=u.useState(!1),[d,h]=u.useState(null),p=u.useCallback(async()=>(l(!0),h(null),new Promise(x=>{setTimeout(()=>{i(nl()),l(!1),x()},120)})),[]),m=u.useCallback(x=>{i(v=>{const y=dc(x);if(!y)return v;const S=v.filter(k=>k.id!==y.id);return[y,...S]})},[]),f=u.useCallback(x=>{if(!x&&x!==0)return[];const v=String(x);return n.filter(y=>String(y.taskId??"")===v)},[n]),_=u.useCallback(x=>{if(!x&&x!==0)return[];const v=String(x);return n.filter(y=>String(y.workId??"")===v)},[n]);return u.useMemo(()=>({history:n,loading:s,error:d,refresh:p,appendLocal:m,getByTaskId:f,getByWorkId:_}),[m,d,f,_,n,s,p])}const Gs={"Operation Toolkit":ur,"General Settings":Ho,"Task Admin":es,"Jeopardy Admin":cr,"Resource Admin":Qo,"Self Service Admin":Ho,"User Admin":gl,"Domain Admin":yl,"Schedule Admin":vl,"System Admin":xl},ro={taskId:"Task ID",taskStatus:"Task Status",taskType:"Task Type",primarySkill:"Primary Skill",importanceScore:"Importance Score",msc:"MSC",taskCreated:"Task Created",groupCode:"Group Code",systemType:"System Type",employeeId:"Employee ID",resourceName:"Resource Name",asset:"Asset",assetName:"Asset Name",commitmentDate:"Commitment Date",commitmentType:"Commitment Type",arrivedAtDate:"Arrived At Date",domain:"Domain",estimatedDuration:"Estimated Duration",lastProgression:"Last Progression",category:"Category",description:"Description",responseCode:"Response Code",postCode:"Post Code",appointmentStartDate:"Appointment Start Date",linkedTask:"Linked Task",customerAddress:"Customer Address",expectedStartDate:"Expected Start Date",expectedFinishDate:"Expected Finish Date",externalQueueId:"External Queue Id",workId:"Work Id",estimateNumber:"Estimate Number",startDate:"Start Date"},dg=["Work Details","Commitments / Customer / Location","Scheduling / Resources","Access Restrictions","Job Notes","Progress Notes","Closure"],pg=hn(hl);function hg(n,i){var l,d,h,p,m,f,_,x,v;let s=[...n];if((l=i.taskSearch)!=null&&l.trim()){const y=i.taskSearch.toLowerCase();s=s.filter(S=>[S.taskId,S.resourceName,S.workId,S.assetName,S.description].join(" ").toLowerCase().includes(y))}if((d=i.division)!=null&&d.length&&(s=s.filter(y=>i.division.includes(y.groupCode))),(h=i.domainId)!=null&&h.length&&(s=s.filter(y=>i.domainId.includes(String(y.domain||"").toUpperCase()))),(p=i.taskStatuses)!=null&&p.length&&(s=s.filter(y=>i.taskStatuses.includes(y.taskStatus))),(m=i.responseCode)!=null&&m.length&&(s=s.filter(y=>i.responseCode.includes(y.responseCode))),(f=i.requester)!=null&&f.trim()){const y=i.requester.toLowerCase();s=s.filter(S=>String(S.resourceName||"").toLowerCase().includes(y))}if((_=i.commitType)!=null&&_.length&&(s=s.filter(y=>i.commitType.includes(y.commitmentType))),(x=i.capabilities)!=null&&x.length&&(s=s.filter(y=>i.capabilities.includes(y.primarySkill))),(v=i.jobType)!=null&&v.trim()){const y=i.jobType.toLowerCase();s=s.filter(S=>String(S.taskType||"").toLowerCase().includes(y))}return s}function mg(n,i){return`
    <table border="1" cellpadding="4" cellspacing="0">
      <thead><tr>${n.map(s=>`<th>${ro[s]}</th>`).join("")}</tr></thead>
      <tbody>${i.map(s=>`<tr>${n.map(l=>`<td>${s[l]??""}</td>`).join("")}</tr>`).join("")}</tbody>
    </table>`}function fg(n,i){const s=n.map(d=>ro[d]).join(","),l=i.map(d=>n.map(h=>d[h]??"").join(","));return[s,...l].join(`
`)}const pc=u.memo(({currentMenu:n,windowWidth:i,searchQuery:s,setSearchQuery:l,globalResults:d,showDropdown:h,setShowDropdown:p,onSelectResult:m,onToggleSidebar:f,overrideTitle:_,whiteBackground:x=!1})=>{const v=qt(),y=u.useMemo(()=>_||(n!=null&&n.label?i<950?n.label.split(" ")[0]:n.label:"Dashboard"),[n,i]);return a.jsx(md,{position:"sticky",color:x?"default":"primary",sx:{zIndex:v.zIndex.drawer+1,boxShadow:x?"0 4px 10px rgba(2,6,23,0.06)":"0 18px 35px rgba(0,0,0,0.22)",backgroundColor:x?v.palette.background.paper:void 0,"&::after":x?void 0:{content:'""',position:"absolute",left:0,right:0,bottom:-10,height:10,background:`linear-gradient(to bottom, ${K(v.palette.common.black,.18)}, transparent)`,pointerEvents:"none"}},children:a.jsxs(wh,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",minHeight:70,px:{xs:2,sm:3}},children:[a.jsxs(Se,{sx:{display:"flex",alignItems:"center",gap:2},children:[a.jsx(ln,{edge:"start",onClick:f,sx:{width:v.spacing(5.5),height:v.spacing(5.5),borderRadius:2,bgcolor:K(v.palette.common.white,.12),color:v.palette.common.white,"&:hover":{bgcolor:K(v.palette.common.white,.2)}},children:a.jsx($u,{size:26,strokeWidth:3})}),a.jsx(ye,{variant:"h6",sx:{fontWeight:600,letterSpacing:.2,display:{xs:"none",sm:"block"}},children:y})]}),a.jsxs(Se,{sx:{display:"flex",alignItems:"center",gap:3},children:[a.jsxs(Se,{sx:{position:"relative",minWidth:{xs:v.spacing(20),sm:v.spacing(24)}},children:[a.jsx(an,{value:s,size:"small",onChange:S=>l(S.target.value),onFocus:()=>p(d.length>0),placeholder:"Search anywhere...",variant:"outlined",InputProps:{startAdornment:a.jsx(Yo,{position:"start",children:a.jsx(ts,{size:18,color:x?K(v.palette.text.primary,.45):K(v.palette.common.white,.75)})}),sx:{color:x?v.palette.text.primary:v.palette.common.white,"& .MuiOutlinedInput-notchedOutline":{borderColor:x?K(v.palette.text.primary,.12):K(v.palette.common.white,.3)},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:x?K(v.palette.text.primary,.2):K(v.palette.common.white,.5)},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:x?K(v.palette.primary.main,.32):K(v.palette.common.white,.6)},"& input::placeholder":{color:x?K(v.palette.text.primary,.45):K(v.palette.common.white,.7)},backgroundColor:x?K(v.palette.background.paper,.92):K(v.palette.common.white,.1),borderRadius:2}},sx:{width:{xs:210,sm:520}}}),a.jsx(Wo,{in:h&&d.length>0,timeout:120,unmountOnExit:!0,children:a.jsx(vt,{elevation:8,sx:{position:"absolute",right:0,left:0,mt:1,borderRadius:2,overflow:"hidden",zIndex:v.zIndex.tooltip},children:a.jsx(dl,{dense:!0,disablePadding:!0,children:d.map((S,k)=>a.jsx(pl,{onMouseDown:()=>m(S),sx:{alignItems:"flex-start"},children:a.jsx(ji,{primary:a.jsx(ye,{variant:"subtitle2",fontWeight:600,children:S.name}),secondary:a.jsx(ye,{component:"span",variant:"caption",sx:{color:"text.secondary"},children:S.category})})},k))})})})]}),a.jsx(Hd,{sx:{width:v.spacing(5.25),height:v.spacing(5.25),bgcolor:K(v.palette.common.black,.85),border:`1px solid ${K(v.palette.common.white,.25)}`,boxShadow:"0px 0px 0px 2px rgba(255,255,255,0.08)"},children:a.jsx(Gu,{size:18,color:"#FFFFFF"})})]})]})})});pc.displayName="Header";const hc=u.memo(({currentMenu:n,filteredItems:i,windowWidth:s,onCardClick:l})=>{var p;const d=qt(),h=((p=n==null?void 0:n.label)==null?void 0:p.split(" ")[0])??"Dashboard";return a.jsxs(Se,{sx:{width:"100%",maxWidth:{xs:"100%",md:"1200px"},mx:"auto",px:{xs:3,sm:6,md:8},py:{xs:6,md:8}},children:[a.jsxs(Se,{textAlign:"center",mb:6,children:[a.jsxs(Se,{sx:{display:"flex",alignItems:"center",justifyContent:"center",gap:2,mb:1.5},children:[vn.createElement((n==null?void 0:n.icon)||No,{size:32,color:d.palette.primary.main}),a.jsx(ye,{component:"h1",variant:"h4",fontWeight:700,children:s<950?h:n==null?void 0:n.label})]}),a.jsx(ye,{variant:"body2",color:"text.secondary",children:n!=null&&n.label?`${n.label} Overview`:"Overview of your workspace"})]}),a.jsx(di,{mode:"wait",children:a.jsx(hn.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},exit:{opacity:0,y:-12},transition:{duration:.25},children:a.jsx(_t,{container:!0,spacing:{xs:3,md:4},justifyContent:"center",children:i.length?i.map((m,f)=>a.jsx(_t,{item:!0,xs:12,sm:6,md:4,children:a.jsx(pg,{whileHover:{scale:1.02},transition:{duration:.2},elevation:3,children:a.jsx(Ud,{onClick:()=>l(m),children:a.jsxs(ml,{sx:{minHeight:150,display:"flex",flexDirection:"column",gap:1.5,textAlign:"center",px:4,py:3},children:[a.jsx(ye,{variant:"h6",fontWeight:600,children:m.name}),a.jsx(ye,{variant:"body2",color:"text.secondary",children:m.description})]})})})},f)):a.jsx(_t,{item:!0,xs:12,children:a.jsx(vt,{variant:"outlined",sx:{py:8,textAlign:"center",color:"text.secondary"},children:a.jsx(ye,{variant:"body2",children:"No results found."})})})})},(n==null?void 0:n.label)||"default")})]})});hc.displayName="MainContent";function gg(){const n="Operation Toolkit",[i,s]=u.useState({label:n,icon:Gs[n]||No}),[l,d]=u.useState(io[n]||[]),[h,p]=u.useState(null),[m,f]=u.useState(""),[_,x]=u.useState([]),[v,y]=u.useState(!1),[S,k]=u.useState(""),[A,C]=u.useState(""),[R,J]=u.useState(window.innerWidth),[z,M]=u.useState(window.innerHeight),[N,G]=u.useState(1),[B,Y]=u.useState([]),[E,W]=u.useState([]),[oe,$]=u.useState(!1),[he,re]=u.useState([]),[ve,de]=u.useState(!1),Le=u.useMemo(()=>{const ce=he.map(P=>P.calloutGroup).filter(P=>!!P);return Array.from(new Set(ce)).sort()},[he]),[V,Ie]=u.useState([]),{externalContainer:ae,externalTasks:ue,externalExpandedSections:ke,openExternalWindow:U,openResourceWindow:ie,closeExternalWindow:T,setExternalExpandedSections:D}=cg(),[Q,se]=u.useState(!1),[me,Ee]=u.useState(null);u.useEffect(()=>()=>T(),[T]),u.useEffect(()=>{const ce=P=>{const fe=P.detail||{},Qe=fe.taskId,Ze=fe.workId;let De;if(Qe){const q=String(Qe);De=B.find(te=>{const ne=(te==null?void 0:te.taskId)??(te==null?void 0:te.TaskID)??(te==null?void 0:te.TaskId)??(te==null?void 0:te.id)??null;return ne!=null&&String(ne)===q})}if(!De&&Ze){const q=String(Ze);De=B.find(te=>{const ne=(te==null?void 0:te.workId)??(te==null?void 0:te.WorkID)??(te==null?void 0:te.WorkId)??(te==null?void 0:te.workID)??null;return ne!=null&&String(ne)===q})}if(!De)return;D(["Progress Notes"]);const Ue=window.innerWidth/2,X=window.innerHeight/2;U([De],Ue,X)};return window.addEventListener("taskforce:view-progress-notes",ce),()=>{window.removeEventListener("taskforce:view-progress-notes",ce)}},[B,U,D]),u.useEffect(()=>{const ce=P=>{var Ue;const fe=((Ue=P.detail)==null?void 0:Ue.items)??[];if(!fe.length)return;const Qe=new Map;for(const X of fe)X!=null&&X.taskId&&Qe.set(String(X.taskId),X);if(!Qe.size)return;const Ze=(X,q)=>{const te={ts:q.timestamp,status:q.nextStatus||q.previousStatus||"Updated",text:q.note,source:"Quick Progress"},ne=X.progressNotes;return Array.isArray(ne)?[...ne,te]:typeof ne=="string"&&ne.trim()?[{ts:X.taskCreated??q.timestamp,status:X.taskStatus??X.status??"",text:ne.trim(),source:"Imported"},te]:[te]},De=X=>X.map(q=>{const te=(q==null?void 0:q.taskId)??(q==null?void 0:q.TaskID)??(q==null?void 0:q.TaskId)??(q==null?void 0:q.id)??(q==null?void 0:q.ID)??(q==null?void 0:q.Id)??null;if(te==null)return q;const ne=Qe.get(String(te));if(!ne)return q;const He=ne.nextStatus||q.taskStatus||q.status;return{...q,taskStatus:He,lastProgression:He||q.lastProgression,updatedAt:ne.timestamp,progressNotes:Ze(q,ne)}});Y(X=>De(X)),W(X=>De(X))};return document.addEventListener("taskforce:tasks-progressed",ce),()=>{document.removeEventListener("taskforce:tasks-progressed",ce)}},[Y,W]);const[nt,Oe]=u.useState(!1),[Me,Fe]=u.useState([]),[rt,at]=u.useState(null),{history:le,loading:Pe,error:we,refresh:ut,appendLocal:lt}=ug(),kt=u.useCallback(ce=>{Ee(ce),Oe(!1),se(!0)},[]);u.useEffect(()=>{Y(Qt),$(!0)},[]),u.useEffect(()=>{try{re(Il),de(!0)}catch{wt.error("Error loading resource data.")}},[]),u.useEffect(()=>{const ce=()=>{const Ze=window.innerHeight*.01;document.documentElement.style.setProperty("--vh",`${Ze}px`)},P=()=>{J(window.innerWidth),M(window.innerHeight),ce();const Ze=window.innerHeight,De=Math.max(.75,Math.min(1,Ze/900));G(Number(De.toFixed(2))),document.documentElement.style.setProperty("--ui-scale",String(De));const Ue=Math.max(13,Math.min(16,Math.round(Ze/60)));document.documentElement.style.fontSize=`${Ue}px`};ce();const H=window.innerHeight,fe=Math.max(.75,Math.min(1,H/900));G(Number(fe.toFixed(2))),document.documentElement.style.setProperty("--ui-scale",String(fe));const Qe=Math.max(13,Math.min(16,Math.round(H/60)));return document.documentElement.style.fontSize=`${Qe}px`,window.addEventListener("resize",P),()=>window.removeEventListener("resize",P)},[]);const St=u.useMemo(()=>Object.entries(io).flatMap(([ce,P])=>P.map(H=>({...H,category:ce}))),[]);u.useEffect(()=>{if(!m.trim()){x([]),y(!1);return}const ce=St.filter(P=>P.name.toLowerCase().includes(m.toLowerCase()));x(ce),y(ce.length>0)},[m,St]);const ht=u.useCallback(ce=>{const P=ce.label;s({label:P,icon:Gs[P]||No}),d(io[P]||[]),W([]),p(null),f(""),x([]),y(!1)},[]),Yt=u.useCallback(ce=>{ce.name==="Task Management"&&(p("TaskManagement"),W([])),ce.name==="Schedule Live"&&p("ScheduleLive")},[]),Pt=u.useCallback(ce=>{if(!oe){wt.error("Data not loaded yet.");return}const P=hg(B,ce);if(P.length===0){W([]),wt.error("No matching tasks found.");return}W(P)},[B,oe]),pt=u.useCallback(()=>{W([]),Ie([]),wt.success("Filters cleared.",{id:"clear-toast",icon:"ðŸ§¹"})},[]),Ve=E.length>0,Ge=u.useCallback(async()=>{if(!Ve){wt.error("No data to copy.");return}const ce=Object.keys(ro),P=mg(ce,E);await navigator.clipboard.writeText(P),wt.success("Copied",{icon:"ðŸ“‹"})},[E,Ve]),Re=u.useCallback(()=>{if(!Ve){wt.error("No data to export.");return}const ce=Object.keys(ro),P=fg(ce,E),H=new Blob([P],{type:"text/csv;charset=utf-8;"}),fe=document.createElement("a");fe.href=URL.createObjectURL(H),fe.download="FilteredTasks.csv",fe.click(),wt.success("Exported",{icon:"ðŸ’¾"})},[E,Ve]),dt=u.useCallback(ce=>{f(""),y(!1);const P=ce.category,H=io[P]||[];s({label:P,icon:Gs[P]||No}),d(H),p(ce.name==="Task Management"?"TaskManagement":null)},[]);u.useMemo(()=>{const ce=new Set;return Qt.forEach(P=>{const H=String(P.domain||"").toUpperCase();H&&ce.add(H)}),Array.from(ce).sort()},[]),u.useMemo(()=>{const ce=new Set;return Qt.forEach(P=>{const H=String(P.groupCode||"").toUpperCase();H&&ce.add(H)}),Array.from(ce).sort()},[]),u.useCallback(ce=>{k(ce)},[]),u.useCallback(ce=>{C(ce)},[]);const xt=u.useCallback((ce,P,H)=>{!ce||ce.length===0||U(ce,P,H)},[U]),mt=u.useCallback((ce,P)=>{if(!ce)return;const H=P.length?P:le.filter(fe=>fe.resourceId===ce.resourceId);ie(ce,H)},[le,ie]),Gt=u.useCallback(()=>{if(!me)return;const ce=window.innerWidth/2,P=window.innerHeight/2;U([me],ce,P)},[me,U]),Lt=(ce,P)=>{switch(P){case"AssignDispatchedAWI":case"CalloutDispatchedAWI":return"Dispatched (AWI)";case"PendingACT":return"Assigned (ACT)";case"Disturbance":case"NoReply":return"Callout Failed";case"Refusal":return"Refused";case"Unavailable":return"Awaiting Resource";default:return ce}},Et=(ce,P)=>{switch(P){case"AssignDispatchedAWI":case"CalloutDispatchedAWI":return"Busy";case"PendingACT":return"Pending";case"Disturbance":return"Flagged";case"NoReply":return"No Reply";case"Refusal":return"Refused";case"Unavailable":return"Unavailable";default:return ce||"Available"}},Ot=u.useCallback(async ce=>{const{taskId:P,resourceId:H,outcome:fe,availableAgainAt:Qe}=ce,Ze=new Date().toISOString(),De=te=>{if(!te)return null;try{const ne=new Date(te);if(Number.isNaN(ne.getTime()))return te;const He=String(ne.getDate()).padStart(2,"0"),qe=String(ne.getMonth()+1).padStart(2,"0"),pe=ne.getFullYear(),Tt=String(ne.getHours()).padStart(2,"0"),Rt=String(ne.getMinutes()).padStart(2,"0");return`${He}/${qe}/${pe} ${Tt}:${Rt}`}catch{return te}},Ue=(te,ne)=>ne?[...Array.isArray(te.progressNotes)?[...te.progressNotes]:typeof te.progressNotes=="string"&&te.progressNotes.trim()?[{ts:te.taskCreated||Ze,status:"",text:te.progressNotes.trim(),source:"Imported"}]:[],ne]:te.progressNotes;let X=null;re(te=>te.map(ne=>{if(ne.resourceId!==H)return ne;const He=ne.lastOutcome??null,qe=ne.availableAgainAt??null;return{...ne,status:Et(ne.status,fe),lastOutcome:fe,availableAgainAt:fe==="Unavailable"?Qe??null:null,history:[...ne.history??[],{previousOutcome:He,previousAvailableAgainAt:qe,changedAt:Ze,taskIdUsed:P??null,outcomeApplied:fe,availableAgainAt:fe==="Unavailable"?Qe??null:null}]}}));const q=te=>te.map(ne=>{var Jt;if(ne.taskId!==P)return ne;const He=ne.taskStatus,qe=ne.employeeId??null,pe=Lt(ne.taskStatus,fe),Tt=ne.resourceName?`${ne.resourceName} (${H})`:H,Rt=((Jt=Iu[fe])==null?void 0:Jt.label)??String(fe);let ft=null,it=`${Tt} outcome set to ${Rt}.`;if(P){if(fe==="Unavailable"){const tn=De(Qe);ft={ts:Ze,status:"Unavailable",text:tn?`${Tt} marked unavailable. Next availability ${tn}.`:`${Tt} marked unavailable.`,source:"Callout"},it=ft.text}else pe&&pe.includes("AWI")&&(ft={ts:Ze,status:fe,text:`${Tt} set to ${Rt}.`,source:"Callout"},it=ft.text);X||(X={taskId:P,workId:ne.workId??null,resourceId:H,outcome:fe,status:pe??null,availableAgainAt:fe==="Unavailable"?Qe??null:null,note:it,timestamp:Ze})}return{...ne,taskStatus:pe,employeeId:H,lastOutcome:fe,availableAgainAt:fe==="Unavailable"?Qe??null:null,updatedAt:Ze,history:[...ne.history??[],{previousTaskStatus:He,previousEmployeeId:qe,changedAt:Ze,outcomeApplied:fe,resourceIdUsed:H,availableAgainAt:fe==="Unavailable"?Qe??null:null}],progressNotes:Ue(ne,ft)}});if(Y(te=>q(te)),W(te=>q(te)),X){const te=X,ne={id:`SESSION-${H}-${Date.now()}`,...te};lt(ne)}},[lt]),en=u.useCallback(ce=>{D(P=>P.includes(ce)?P.filter(H=>H!==ce):[...P,ce])},[D]),Kt=u.useCallback(()=>{D(dg)},[D]),Zt=u.useCallback(()=>{D([])},[D]);return a.jsxs(Se,{sx:{position:"relative",overflow:"hidden",bgcolor:"background.default",color:"text.primary",fontFamily:'"Inter", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif',width:"100%",height:"100vh",minHeight:0,minWidth:0,display:"flex",flexDirection:"row",overflowX:"hidden"},children:[a.jsx(Yf,{position:"top-center"}),a.jsx(ig,{currentMenu:i,onMenuClick:ht,activeSubPage:h}),a.jsxs(Se,{component:"main",sx:{display:"flex",flexDirection:"column",minWidth:0,height:"100%",width:"100%"},children:[a.jsx(pc,{currentMenu:i,windowWidth:R,searchQuery:m,setSearchQuery:f,globalResults:_,showDropdown:v,setShowDropdown:y,onSelectResult:dt,onToggleSidebar:()=>window.dispatchEvent(new CustomEvent("toggleSidebar"))}),a.jsxs(Se,{sx:{flex:1,minHeight:0,bgcolor:"background.paper",display:"flex",flexDirection:"column"},children:[h==="TaskManagement"&&a.jsxs(Se,{component:"section",sx:{py:{xs:3,md:5},px:{xs:2,md:4},display:"flex",flexDirection:"column",gap:0},children:[a.jsx(lg,{onSearch:Pt,onClear:pt,onCopy:Ge,onExport:Re,canCopy:Ve}),oe?E.length>0?a.jsx(br,{rows:E,headerNames:ro,onOpenPopout:xt,onOpenCalloutIncident:kt,sx:{borderRadius:"0 0 12px 12px",mt:0}}):a.jsx(vt,{variant:"outlined",sx:{p:6,textAlign:"center",borderStyle:"dashed",borderColor:"divider",bgcolor:"background.default"},children:a.jsxs(ye,{variant:"body2",color:"text.secondary",children:["No tasks loaded yet. Please apply filters and press ",a.jsx("b",{children:"Search"}),"."]})}):a.jsx(vt,{variant:"outlined",sx:{p:6,textAlign:"center",color:"text.secondary"},children:a.jsx(ye,{variant:"body2",children:"Loading task data..."})})]}),h==="ScheduleLive"&&a.jsx(uf,{}),!h&&a.jsx(hc,{currentMenu:i,filteredItems:l,windowWidth:R,onCardClick:Yt})]})]}),nt&&a.jsx(Gh,{allResources:he,calloutGroups:Le,onStart:ce=>{const H=he.filter(fe=>fe.calloutGroup===ce).slice(0,6);Fe(H),at(ce),Oe(!1),se(!0)},onDismiss:()=>{Oe(!1),Fe([]),at(null)}}),a.jsx(ku,{open:Q,task:me,resources:he,primaryResourceIds:Me.map(ce=>ce.resourceId),selectedGroup:rt,onOpenResourcePopout:mt,onOpenTaskPopout:Gt,onClose:()=>{se(!1),Fe([]),at(null)},history:le,historyLoading:Pe,historyError:we,onRefreshHistory:ut,onSaveRow:Ot}),ae&&ue&&ue.length>0&&Ri.createPortal(a.jsx(Pu,{open:!0,tasks:ue,expanded:ke,onToggleSection:en,onExpandAll:Kt,onCollapseAll:Zt,onClose:T}),ae)]})}function yg(){return a.jsx(gg,{})}const vg="#0F2740",xg="#304862",_g="#0A1A2A",bg="#3BE089",Sg="#1EA46A",il="#F3F6F8",wg=sl({palette:{mode:"light",primary:{main:vg,light:xg,dark:_g,contrastText:"#FFFFFF"},secondary:{main:bg,light:"#7FF2B6",dark:Sg,contrastText:"#052035"},background:{default:il,paper:"#FFFFFF"},text:{primary:"#0B2233",secondary:"#475569"},divider:"rgba(15, 39, 64, 0.08)"},typography:{fontFamily:'"Inter", "Roboto", "Helvetica", "Arial", sans-serif',h1:{fontWeight:600},h2:{fontWeight:600},h3:{fontWeight:600},button:{textTransform:"none",fontWeight:600},subtitle1:{color:"#394B59"},subtitle2:{color:"#52606D"}},shape:{borderRadius:6},components:{MuiCssBaseline:{styleOverrides:{body:{backgroundColor:il}}},MuiPaper:{styleOverrides:{root:{borderRadius:6}}},MuiButton:{styleOverrides:{root:{borderRadius:6}}},MuiCard:{styleOverrides:{root:{borderRadius:8,boxShadow:"0 6px 18px rgba(45, 24, 88, 0.06)"}}},MuiAppBar:{styleOverrides:{root:{boxShadow:"0 6px 12px rgba(0, 0, 0, 0.08)"}}}}});Mu.createRoot(document.getElementById("root")).render(a.jsxs(ud,{theme:wg,children:[a.jsx(xp,{}),a.jsx(yg,{})]}));
