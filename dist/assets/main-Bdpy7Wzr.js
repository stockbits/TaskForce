import{r as x,j as m,c as Ee,C as Nc,a as _f,R as Ht,g as xf,b as bf,U as Sf,T as wf,d as Tf}from"./index-D3w4xHup.js";const Af="modulepreload",Cf=function(t){return"/"+t},$a={},Pf=function(n,s,o){let a=Promise.resolve();if(s&&s.length>0){let l=function(p){return Promise.all(p.map(g=>Promise.resolve(g).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),f=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));a=l(s.map(p=>{if(p=Cf(p),p in $a)return;$a[p]=!0;const g=p.endsWith(".css"),v=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${v}`))return;const y=document.createElement("link");if(y.rel=g?"stylesheet":Af,g||(y.as="script"),y.crossOrigin="",y.href=p,f&&y.setAttribute("nonce",f),document.head.appendChild(y),g)return new Promise((b,A)=>{y.addEventListener("load",b),y.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${p}`)))})}))}function u(l){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=l,window.dispatchEvent(d),!d.defaultPrevented)throw l}return a.then(l=>{for(const d of l||[])d.status==="rejected"&&u(d.reason);return n().catch(u)})},rr=x.createContext({});function ar(t){const n=x.useRef(null);return n.current===null&&(n.current=t()),n.current}const lr=typeof window<"u",Ic=lr?x.useLayoutEffect:x.useEffect,As=x.createContext(null);function cr(t,n){t.indexOf(n)===-1&&t.push(n)}function ur(t,n){const s=t.indexOf(n);s>-1&&t.splice(s,1)}const Gt=(t,n,s)=>s>n?n:s<t?t:s;let dr=()=>{};const Jt={},Rc=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function jc(t){return typeof t=="object"&&t!==null}const Oc=t=>/^0[^.\s]+$/u.test(t);function hr(t){let n;return()=>(n===void 0&&(n=t()),n)}const xt=t=>t,kf=(t,n)=>s=>n(t(s)),Di=(...t)=>t.reduce(kf),Si=(t,n,s)=>{const o=n-t;return o===0?1:(s-t)/o};class fr{constructor(){this.subscriptions=[]}add(n){return cr(this.subscriptions,n),()=>ur(this.subscriptions,n)}notify(n,s,o){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](n,s,o);else for(let u=0;u<a;u++){const l=this.subscriptions[u];l&&l(n,s,o)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Nt=t=>t*1e3,_t=t=>t/1e3;function zc(t,n){return n?t*(1e3/n):0}const Bc=(t,n,s)=>(((1-3*s+3*n)*t+(3*s-6*n))*t+3*n)*t,Mf=1e-7,Df=12;function Lf(t,n,s,o,a){let u,l,d=0;do l=n+(s-n)/2,u=Bc(l,o,a)-t,u>0?s=l:n=l;while(Math.abs(u)>Mf&&++d<Df);return l}function Li(t,n,s,o){if(t===n&&s===o)return xt;const a=u=>Lf(u,0,1,t,s);return u=>u===0||u===1?u:Bc(a(u),n,o)}const Fc=t=>n=>n<=.5?t(2*n)/2:(2-t(2*(1-n)))/2,Vc=t=>n=>1-t(1-n),Zc=Li(.33,1.53,.69,.99),mr=Vc(Zc),Wc=Fc(mr),Hc=t=>(t*=2)<1?.5*mr(t):.5*(2-Math.pow(2,-10*(t-1))),pr=t=>1-Math.sin(Math.acos(t)),Gc=Vc(pr),Jc=Fc(pr),Ef=Li(.42,0,1,1),Nf=Li(0,0,.58,1),Uc=Li(.42,0,.58,1),If=t=>Array.isArray(t)&&typeof t[0]!="number",$c=t=>Array.isArray(t)&&typeof t[0]=="number",Rf={linear:xt,easeIn:Ef,easeInOut:Uc,easeOut:Nf,circIn:pr,circInOut:Jc,circOut:Gc,backIn:mr,backInOut:Wc,backOut:Zc,anticipate:Hc},jf=t=>typeof t=="string",Ka=t=>{if($c(t)){dr(t.length===4);const[n,s,o,a]=t;return Li(n,s,o,a)}else if(jf(t))return Rf[t];return t},es=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Of(t,n){let s=new Set,o=new Set,a=!1,u=!1;const l=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function f(g){l.has(g)&&(p.schedule(g),t()),g(d)}const p={schedule:(g,v=!1,y=!1)=>{const A=y&&a?s:o;return v&&l.add(g),A.has(g)||A.add(g),g},cancel:g=>{o.delete(g),l.delete(g)},process:g=>{if(d=g,a){u=!0;return}a=!0,[s,o]=[o,s],s.forEach(f),s.clear(),a=!1,u&&(u=!1,p.process(g))}};return p}const zf=40;function Kc(t,n){let s=!1,o=!0;const a={delta:0,timestamp:0,isProcessing:!1},u=()=>s=!0,l=es.reduce((T,E)=>(T[E]=Of(u),T),{}),{setup:d,read:f,resolveKeyframes:p,preUpdate:g,update:v,preRender:y,render:b,postRender:A}=l,w=()=>{const T=Jt.useManualTiming?a.timestamp:performance.now();s=!1,Jt.useManualTiming||(a.delta=o?1e3/60:Math.max(Math.min(T-a.timestamp,zf),1)),a.timestamp=T,a.isProcessing=!0,d.process(a),f.process(a),p.process(a),g.process(a),v.process(a),y.process(a),b.process(a),A.process(a),a.isProcessing=!1,s&&n&&(o=!1,t(w))},k=()=>{s=!0,o=!0,a.isProcessing||t(w)};return{schedule:es.reduce((T,E)=>{const D=l[E];return T[E]=(j,R=!1,B=!1)=>(s||k(),D.schedule(j,R,B)),T},{}),cancel:T=>{for(let E=0;E<es.length;E++)l[es[E]].cancel(T)},state:a,steps:l}}const{schedule:Oe,cancel:tn,state:nt,steps:fo}=Kc(typeof requestAnimationFrame<"u"?requestAnimationFrame:xt,!0);let as;function Bf(){as=void 0}const ut={now:()=>(as===void 0&&ut.set(nt.isProcessing||Jt.useManualTiming?nt.timestamp:performance.now()),as),set:t=>{as=t,queueMicrotask(Bf)}},Xc=t=>n=>typeof n=="string"&&n.startsWith(t),gr=Xc("--"),Ff=Xc("var(--"),yr=t=>Ff(t)?Vf.test(t.split("/*")[0].trim()):!1,Vf=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Jn={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},wi={...Jn,transform:t=>Gt(0,1,t)},ts={...Jn,default:1},gi=t=>Math.round(t*1e5)/1e5,vr=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Zf(t){return t==null}const Wf=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,_r=(t,n)=>s=>!!(typeof s=="string"&&Wf.test(s)&&s.startsWith(t)||n&&!Zf(s)&&Object.prototype.hasOwnProperty.call(s,n)),qc=(t,n,s)=>o=>{if(typeof o!="string")return o;const[a,u,l,d]=o.match(vr);return{[t]:parseFloat(a),[n]:parseFloat(u),[s]:parseFloat(l),alpha:d!==void 0?parseFloat(d):1}},Hf=t=>Gt(0,255,t),mo={...Jn,transform:t=>Math.round(Hf(t))},vn={test:_r("rgb","red"),parse:qc("red","green","blue"),transform:({red:t,green:n,blue:s,alpha:o=1})=>"rgba("+mo.transform(t)+", "+mo.transform(n)+", "+mo.transform(s)+", "+gi(wi.transform(o))+")"};function Gf(t){let n="",s="",o="",a="";return t.length>5?(n=t.substring(1,3),s=t.substring(3,5),o=t.substring(5,7),a=t.substring(7,9)):(n=t.substring(1,2),s=t.substring(2,3),o=t.substring(3,4),a=t.substring(4,5),n+=n,s+=s,o+=o,a+=a),{red:parseInt(n,16),green:parseInt(s,16),blue:parseInt(o,16),alpha:a?parseInt(a,16)/255:1}}const Io={test:_r("#"),parse:Gf,transform:vn.transform},Ei=t=>({test:n=>typeof n=="string"&&n.endsWith(t)&&n.split(" ").length===1,parse:parseFloat,transform:n=>`${n}${t}`}),qt=Ei("deg"),It=Ei("%"),re=Ei("px"),Jf=Ei("vh"),Uf=Ei("vw"),Xa={...It,parse:t=>It.parse(t)/100,transform:t=>It.transform(t*100)},jn={test:_r("hsl","hue"),parse:qc("hue","saturation","lightness"),transform:({hue:t,saturation:n,lightness:s,alpha:o=1})=>"hsla("+Math.round(t)+", "+It.transform(gi(n))+", "+It.transform(gi(s))+", "+gi(wi.transform(o))+")"},qe={test:t=>vn.test(t)||Io.test(t)||jn.test(t),parse:t=>vn.test(t)?vn.parse(t):jn.test(t)?jn.parse(t):Io.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?vn.transform(t):jn.transform(t),getAnimatableNone:t=>{const n=qe.parse(t);return n.alpha=0,qe.transform(n)}},$f=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Kf(t){var n,s;return isNaN(t)&&typeof t=="string"&&(((n=t.match(vr))==null?void 0:n.length)||0)+(((s=t.match($f))==null?void 0:s.length)||0)>0}const Yc="number",Qc="color",Xf="var",qf="var(",qa="${}",Yf=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ti(t){const n=t.toString(),s=[],o={color:[],number:[],var:[]},a=[];let u=0;const d=n.replace(Yf,f=>(qe.test(f)?(o.color.push(u),a.push(Qc),s.push(qe.parse(f))):f.startsWith(qf)?(o.var.push(u),a.push(Xf),s.push(f)):(o.number.push(u),a.push(Yc),s.push(parseFloat(f))),++u,qa)).split(qa);return{values:s,split:d,indexes:o,types:a}}function eu(t){return Ti(t).values}function tu(t){const{split:n,types:s}=Ti(t),o=n.length;return a=>{let u="";for(let l=0;l<o;l++)if(u+=n[l],a[l]!==void 0){const d=s[l];d===Yc?u+=gi(a[l]):d===Qc?u+=qe.transform(a[l]):u+=a[l]}return u}}const Qf=t=>typeof t=="number"?0:qe.test(t)?qe.getAnimatableNone(t):t;function em(t){const n=eu(t);return tu(t)(n.map(Qf))}const nn={test:Kf,parse:eu,createTransformer:tu,getAnimatableNone:em};function po(t,n,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?t+(n-t)*6*s:s<1/2?n:s<2/3?t+(n-t)*(2/3-s)*6:t}function tm({hue:t,saturation:n,lightness:s,alpha:o}){t/=360,n/=100,s/=100;let a=0,u=0,l=0;if(!n)a=u=l=s;else{const d=s<.5?s*(1+n):s+n-s*n,f=2*s-d;a=po(f,d,t+1/3),u=po(f,d,t),l=po(f,d,t-1/3)}return{red:Math.round(a*255),green:Math.round(u*255),blue:Math.round(l*255),alpha:o}}function gs(t,n){return s=>s>0?n:t}const Fe=(t,n,s)=>t+(n-t)*s,go=(t,n,s)=>{const o=t*t,a=s*(n*n-o)+o;return a<0?0:Math.sqrt(a)},nm=[Io,vn,jn],im=t=>nm.find(n=>n.test(t));function Ya(t){const n=im(t);if(!n)return!1;let s=n.parse(t);return n===jn&&(s=tm(s)),s}const Qa=(t,n)=>{const s=Ya(t),o=Ya(n);if(!s||!o)return gs(t,n);const a={...s};return u=>(a.red=go(s.red,o.red,u),a.green=go(s.green,o.green,u),a.blue=go(s.blue,o.blue,u),a.alpha=Fe(s.alpha,o.alpha,u),vn.transform(a))},Ro=new Set(["none","hidden"]);function sm(t,n){return Ro.has(t)?s=>s<=0?t:n:s=>s>=1?n:t}function om(t,n){return s=>Fe(t,n,s)}function xr(t){return typeof t=="number"?om:typeof t=="string"?yr(t)?gs:qe.test(t)?Qa:lm:Array.isArray(t)?nu:typeof t=="object"?qe.test(t)?Qa:rm:gs}function nu(t,n){const s=[...t],o=s.length,a=t.map((u,l)=>xr(u)(u,n[l]));return u=>{for(let l=0;l<o;l++)s[l]=a[l](u);return s}}function rm(t,n){const s={...t,...n},o={};for(const a in s)t[a]!==void 0&&n[a]!==void 0&&(o[a]=xr(t[a])(t[a],n[a]));return a=>{for(const u in o)s[u]=o[u](a);return s}}function am(t,n){const s=[],o={color:0,var:0,number:0};for(let a=0;a<n.values.length;a++){const u=n.types[a],l=t.indexes[u][o[u]],d=t.values[l]??0;s[a]=d,o[u]++}return s}const lm=(t,n)=>{const s=nn.createTransformer(n),o=Ti(t),a=Ti(n);return o.indexes.var.length===a.indexes.var.length&&o.indexes.color.length===a.indexes.color.length&&o.indexes.number.length>=a.indexes.number.length?Ro.has(t)&&!a.values.length||Ro.has(n)&&!o.values.length?sm(t,n):Di(nu(am(o,a),a.values),s):gs(t,n)};function iu(t,n,s){return typeof t=="number"&&typeof n=="number"&&typeof s=="number"?Fe(t,n,s):xr(t)(t,n)}const cm=t=>{const n=({timestamp:s})=>t(s);return{start:(s=!0)=>Oe.update(n,s),stop:()=>tn(n),now:()=>nt.isProcessing?nt.timestamp:ut.now()}},su=(t,n,s=10)=>{let o="";const a=Math.max(Math.round(n/s),2);for(let u=0;u<a;u++)o+=Math.round(t(u/(a-1))*1e4)/1e4+", ";return`linear(${o.substring(0,o.length-2)})`},ys=2e4;function br(t){let n=0;const s=50;let o=t.next(n);for(;!o.done&&n<ys;)n+=s,o=t.next(n);return n>=ys?1/0:n}function um(t,n=100,s){const o=s({...t,keyframes:[0,n]}),a=Math.min(br(o),ys);return{type:"keyframes",ease:u=>o.next(a*u).value/n,duration:_t(a)}}const dm=5;function ou(t,n,s){const o=Math.max(n-dm,0);return zc(s-t(o),n-o)}const We={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},yo=.001;function hm({duration:t=We.duration,bounce:n=We.bounce,velocity:s=We.velocity,mass:o=We.mass}){let a,u,l=1-n;l=Gt(We.minDamping,We.maxDamping,l),t=Gt(We.minDuration,We.maxDuration,_t(t)),l<1?(a=p=>{const g=p*l,v=g*t,y=g-s,b=jo(p,l),A=Math.exp(-v);return yo-y/b*A},u=p=>{const v=p*l*t,y=v*s+s,b=Math.pow(l,2)*Math.pow(p,2)*t,A=Math.exp(-v),w=jo(Math.pow(p,2),l);return(-a(p)+yo>0?-1:1)*((y-b)*A)/w}):(a=p=>{const g=Math.exp(-p*t),v=(p-s)*t+1;return-yo+g*v},u=p=>{const g=Math.exp(-p*t),v=(s-p)*(t*t);return g*v});const d=5/t,f=mm(a,u,d);if(t=Nt(t),isNaN(f))return{stiffness:We.stiffness,damping:We.damping,duration:t};{const p=Math.pow(f,2)*o;return{stiffness:p,damping:l*2*Math.sqrt(o*p),duration:t}}}const fm=12;function mm(t,n,s){let o=s;for(let a=1;a<fm;a++)o=o-t(o)/n(o);return o}function jo(t,n){return t*Math.sqrt(1-n*n)}const pm=["duration","bounce"],gm=["stiffness","damping","mass"];function el(t,n){return n.some(s=>t[s]!==void 0)}function ym(t){let n={velocity:We.velocity,stiffness:We.stiffness,damping:We.damping,mass:We.mass,isResolvedFromDuration:!1,...t};if(!el(t,gm)&&el(t,pm))if(t.visualDuration){const s=t.visualDuration,o=2*Math.PI/(s*1.2),a=o*o,u=2*Gt(.05,1,1-(t.bounce||0))*Math.sqrt(a);n={...n,mass:We.mass,stiffness:a,damping:u}}else{const s=hm(t);n={...n,...s,mass:We.mass},n.isResolvedFromDuration=!0}return n}function vs(t=We.visualDuration,n=We.bounce){const s=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:n}:t;let{restSpeed:o,restDelta:a}=s;const u=s.keyframes[0],l=s.keyframes[s.keyframes.length-1],d={done:!1,value:u},{stiffness:f,damping:p,mass:g,duration:v,velocity:y,isResolvedFromDuration:b}=ym({...s,velocity:-_t(s.velocity||0)}),A=y||0,w=p/(2*Math.sqrt(f*g)),k=l-u,C=_t(Math.sqrt(f/g)),N=Math.abs(k)<5;o||(o=N?We.restSpeed.granular:We.restSpeed.default),a||(a=N?We.restDelta.granular:We.restDelta.default);let T;if(w<1){const D=jo(C,w);T=j=>{const R=Math.exp(-w*C*j);return l-R*((A+w*C*k)/D*Math.sin(D*j)+k*Math.cos(D*j))}}else if(w===1)T=D=>l-Math.exp(-C*D)*(k+(A+C*k)*D);else{const D=C*Math.sqrt(w*w-1);T=j=>{const R=Math.exp(-w*C*j),B=Math.min(D*j,300);return l-R*((A+w*C*k)*Math.sinh(B)+D*k*Math.cosh(B))/D}}const E={calculatedDuration:b&&v||null,next:D=>{const j=T(D);if(b)d.done=D>=v;else{let R=D===0?A:0;w<1&&(R=D===0?Nt(A):ou(T,D,j));const B=Math.abs(R)<=o,Y=Math.abs(l-j)<=a;d.done=B&&Y}return d.value=d.done?l:j,d},toString:()=>{const D=Math.min(br(E),ys),j=su(R=>E.next(D*R).value,D,30);return D+"ms "+j},toTransition:()=>{}};return E}vs.applyToOptions=t=>{const n=um(t,100,vs);return t.ease=n.ease,t.duration=Nt(n.duration),t.type="keyframes",t};function Oo({keyframes:t,velocity:n=0,power:s=.8,timeConstant:o=325,bounceDamping:a=10,bounceStiffness:u=500,modifyTarget:l,min:d,max:f,restDelta:p=.5,restSpeed:g}){const v=t[0],y={done:!1,value:v},b=B=>d!==void 0&&B<d||f!==void 0&&B>f,A=B=>d===void 0?f:f===void 0||Math.abs(d-B)<Math.abs(f-B)?d:f;let w=s*n;const k=v+w,C=l===void 0?k:l(k);C!==k&&(w=C-v);const N=B=>-w*Math.exp(-B/o),T=B=>C+N(B),E=B=>{const Y=N(B),Q=T(B);y.done=Math.abs(Y)<=p,y.value=y.done?C:Q};let D,j;const R=B=>{b(y.value)&&(D=B,j=vs({keyframes:[y.value,A(y.value)],velocity:ou(T,B,y.value),damping:a,stiffness:u,restDelta:p,restSpeed:g}))};return R(0),{calculatedDuration:null,next:B=>{let Y=!1;return!j&&D===void 0&&(Y=!0,E(B),R(B)),D!==void 0&&B>=D?j.next(B-D):(!Y&&E(B),y)}}}function vm(t,n,s){const o=[],a=s||Jt.mix||iu,u=t.length-1;for(let l=0;l<u;l++){let d=a(t[l],t[l+1]);if(n){const f=Array.isArray(n)?n[l]||xt:n;d=Di(f,d)}o.push(d)}return o}function _m(t,n,{clamp:s=!0,ease:o,mixer:a}={}){const u=t.length;if(dr(u===n.length),u===1)return()=>n[0];if(u===2&&n[0]===n[1])return()=>n[1];const l=t[0]===t[1];t[0]>t[u-1]&&(t=[...t].reverse(),n=[...n].reverse());const d=vm(n,o,a),f=d.length,p=g=>{if(l&&g<t[0])return n[0];let v=0;if(f>1)for(;v<t.length-2&&!(g<t[v+1]);v++);const y=Si(t[v],t[v+1],g);return d[v](y)};return s?g=>p(Gt(t[0],t[u-1],g)):p}function xm(t,n){const s=t[t.length-1];for(let o=1;o<=n;o++){const a=Si(0,n,o);t.push(Fe(s,1,a))}}function bm(t){const n=[0];return xm(n,t.length-1),n}function Sm(t,n){return t.map(s=>s*n)}function wm(t,n){return t.map(()=>n||Uc).splice(0,t.length-1)}function yi({duration:t=300,keyframes:n,times:s,ease:o="easeInOut"}){const a=If(o)?o.map(Ka):Ka(o),u={done:!1,value:n[0]},l=Sm(s&&s.length===n.length?s:bm(n),t),d=_m(l,n,{ease:Array.isArray(a)?a:wm(n,a)});return{calculatedDuration:t,next:f=>(u.value=d(f),u.done=f>=t,u)}}const Tm=t=>t!==null;function Sr(t,{repeat:n,repeatType:s="loop"},o,a=1){const u=t.filter(Tm),d=a<0||n&&s!=="loop"&&n%2===1?0:u.length-1;return!d||o===void 0?u[d]:o}const Am={decay:Oo,inertia:Oo,tween:yi,keyframes:yi,spring:vs};function ru(t){typeof t.type=="string"&&(t.type=Am[t.type])}class wr{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(n=>{this.resolve=n})}notifyFinished(){this.resolve()}then(n,s){return this.finished.then(n,s)}}const Cm=t=>t/100;class Tr extends wr{constructor(n){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var o,a;const{motionValue:s}=this.options;s&&s.updatedAt!==ut.now()&&this.tick(ut.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(o=this.options).onStop)==null||a.call(o))},this.options=n,this.initAnimation(),this.play(),n.autoplay===!1&&this.pause()}initAnimation(){const{options:n}=this;ru(n);const{type:s=yi,repeat:o=0,repeatDelay:a=0,repeatType:u,velocity:l=0}=n;let{keyframes:d}=n;const f=s||yi;f!==yi&&typeof d[0]!="number"&&(this.mixKeyframes=Di(Cm,iu(d[0],d[1])),d=[0,100]);const p=f({...n,keyframes:d});u==="mirror"&&(this.mirroredGenerator=f({...n,keyframes:[...d].reverse(),velocity:-l})),p.calculatedDuration===null&&(p.calculatedDuration=br(p));const{calculatedDuration:g}=p;this.calculatedDuration=g,this.resolvedDuration=g+a,this.totalDuration=this.resolvedDuration*(o+1)-a,this.generator=p}updateTime(n){const s=Math.round(n-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(n,s=!1){const{generator:o,totalDuration:a,mixKeyframes:u,mirroredGenerator:l,resolvedDuration:d,calculatedDuration:f}=this;if(this.startTime===null)return o.next(0);const{delay:p=0,keyframes:g,repeat:v,repeatType:y,repeatDelay:b,type:A,onUpdate:w,finalKeyframe:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,n):this.speed<0&&(this.startTime=Math.min(n-a/this.speed,this.startTime)),s?this.currentTime=n:this.updateTime(n);const C=this.currentTime-p*(this.playbackSpeed>=0?1:-1),N=this.playbackSpeed>=0?C<0:C>a;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let T=this.currentTime,E=o;if(v){const B=Math.min(this.currentTime,a)/d;let Y=Math.floor(B),Q=B%1;!Q&&B>=1&&(Q=1),Q===1&&Y--,Y=Math.min(Y,v+1),!!(Y%2)&&(y==="reverse"?(Q=1-Q,b&&(Q-=b/d)):y==="mirror"&&(E=l)),T=Gt(0,1,Q)*d}const D=N?{done:!1,value:g[0]}:E.next(T);u&&(D.value=u(D.value));let{done:j}=D;!N&&f!==null&&(j=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&j);return R&&A!==Oo&&(D.value=Sr(g,this.options,k,this.speed)),w&&w(D.value),R&&this.finish(),D}then(n,s){return this.finished.then(n,s)}get duration(){return _t(this.calculatedDuration)}get iterationDuration(){const{delay:n=0}=this.options||{};return this.duration+_t(n)}get time(){return _t(this.currentTime)}set time(n){var s;n=Nt(n),this.currentTime=n,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=n:this.driver&&(this.startTime=this.driver.now()-n/this.playbackSpeed),(s=this.driver)==null||s.start(!1)}get speed(){return this.playbackSpeed}set speed(n){this.updateTime(ut.now());const s=this.playbackSpeed!==n;this.playbackSpeed=n,s&&(this.time=_t(this.currentTime))}play(){var a,u;if(this.isStopped)return;const{driver:n=cm,startTime:s}=this.options;this.driver||(this.driver=n(l=>this.tick(l))),(u=(a=this.options).onPlay)==null||u.call(a);const o=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=o):this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime||(this.startTime=s??o),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ut.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var n,s;this.notifyFinished(),this.teardown(),this.state="finished",(s=(n=this.options).onComplete)==null||s.call(n)}cancel(){var n,s;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(s=(n=this.options).onCancel)==null||s.call(n)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(n){return this.startTime=0,this.tick(n,!0)}attachTimeline(n){var s;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(s=this.driver)==null||s.stop(),n.observe(this)}}function Pm(t){for(let n=1;n<t.length;n++)t[n]??(t[n]=t[n-1])}const _n=t=>t*180/Math.PI,zo=t=>{const n=_n(Math.atan2(t[1],t[0]));return Bo(n)},km={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:zo,rotateZ:zo,skewX:t=>_n(Math.atan(t[1])),skewY:t=>_n(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Bo=t=>(t=t%360,t<0&&(t+=360),t),tl=zo,nl=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),il=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Mm={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:nl,scaleY:il,scale:t=>(nl(t)+il(t))/2,rotateX:t=>Bo(_n(Math.atan2(t[6],t[5]))),rotateY:t=>Bo(_n(Math.atan2(-t[2],t[0]))),rotateZ:tl,rotate:tl,skewX:t=>_n(Math.atan(t[4])),skewY:t=>_n(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Fo(t){return t.includes("scale")?1:0}function Vo(t,n){if(!t||t==="none")return Fo(n);const s=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let o,a;if(s)o=Mm,a=s;else{const d=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);o=km,a=d}if(!a)return Fo(n);const u=o[n],l=a[1].split(",").map(Lm);return typeof u=="function"?u(l):l[u]}const Dm=(t,n)=>{const{transform:s="none"}=getComputedStyle(t);return Vo(s,n)};function Lm(t){return parseFloat(t.trim())}const Un=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],$n=new Set(Un),sl=t=>t===Jn||t===re,Em=new Set(["x","y","z"]),Nm=Un.filter(t=>!Em.has(t));function Im(t){const n=[];return Nm.forEach(s=>{const o=t.getValue(s);o!==void 0&&(n.push([s,o.get()]),o.set(s.startsWith("scale")?1:0))}),n}const xn={width:({x:t},{paddingLeft:n="0",paddingRight:s="0"})=>t.max-t.min-parseFloat(n)-parseFloat(s),height:({y:t},{paddingTop:n="0",paddingBottom:s="0"})=>t.max-t.min-parseFloat(n)-parseFloat(s),top:(t,{top:n})=>parseFloat(n),left:(t,{left:n})=>parseFloat(n),bottom:({y:t},{top:n})=>parseFloat(n)+(t.max-t.min),right:({x:t},{left:n})=>parseFloat(n)+(t.max-t.min),x:(t,{transform:n})=>Vo(n,"x"),y:(t,{transform:n})=>Vo(n,"y")};xn.translateX=xn.x;xn.translateY=xn.y;const bn=new Set;let Zo=!1,Wo=!1,Ho=!1;function au(){if(Wo){const t=Array.from(bn).filter(o=>o.needsMeasurement),n=new Set(t.map(o=>o.element)),s=new Map;n.forEach(o=>{const a=Im(o);a.length&&(s.set(o,a),o.render())}),t.forEach(o=>o.measureInitialState()),n.forEach(o=>{o.render();const a=s.get(o);a&&a.forEach(([u,l])=>{var d;(d=o.getValue(u))==null||d.set(l)})}),t.forEach(o=>o.measureEndState()),t.forEach(o=>{o.suspendedScrollY!==void 0&&window.scrollTo(0,o.suspendedScrollY)})}Wo=!1,Zo=!1,bn.forEach(t=>t.complete(Ho)),bn.clear()}function lu(){bn.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Wo=!0)})}function Rm(){Ho=!0,lu(),au(),Ho=!1}class Ar{constructor(n,s,o,a,u,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...n],this.onComplete=s,this.name=o,this.motionValue=a,this.element=u,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(bn.add(this),Zo||(Zo=!0,Oe.read(lu),Oe.resolveKeyframes(au))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:n,name:s,element:o,motionValue:a}=this;if(n[0]===null){const u=a==null?void 0:a.get(),l=n[n.length-1];if(u!==void 0)n[0]=u;else if(o&&s){const d=o.readValue(s,l);d!=null&&(n[0]=d)}n[0]===void 0&&(n[0]=l),a&&u===void 0&&a.set(n[0])}Pm(n)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(n=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,n),bn.delete(this)}cancel(){this.state==="scheduled"&&(bn.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const jm=t=>t.startsWith("--");function Om(t,n,s){jm(n)?t.style.setProperty(n,s):t.style[n]=s}const zm=hr(()=>window.ScrollTimeline!==void 0),Bm={};function Fm(t,n){const s=hr(t);return()=>Bm[n]??s()}const cu=Fm(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ui=([t,n,s,o])=>`cubic-bezier(${t}, ${n}, ${s}, ${o})`,ol={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ui([0,.65,.55,1]),circOut:ui([.55,0,1,.45]),backIn:ui([.31,.01,.66,-.59]),backOut:ui([.33,1.53,.69,.99])};function uu(t,n){if(t)return typeof t=="function"?cu()?su(t,n):"ease-out":$c(t)?ui(t):Array.isArray(t)?t.map(s=>uu(s,n)||ol.easeOut):ol[t]}function Vm(t,n,s,{delay:o=0,duration:a=300,repeat:u=0,repeatType:l="loop",ease:d="easeOut",times:f}={},p=void 0){const g={[n]:s};f&&(g.offset=f);const v=uu(d,a);Array.isArray(v)&&(g.easing=v);const y={delay:o,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:u+1,direction:l==="reverse"?"alternate":"normal"};return p&&(y.pseudoElement=p),t.animate(g,y)}function du(t){return typeof t=="function"&&"applyToOptions"in t}function Zm({type:t,...n}){return du(t)&&cu()?t.applyToOptions(n):(n.duration??(n.duration=300),n.ease??(n.ease="easeOut"),n)}class Wm extends wr{constructor(n){if(super(),this.finishedTime=null,this.isStopped=!1,!n)return;const{element:s,name:o,keyframes:a,pseudoElement:u,allowFlatten:l=!1,finalKeyframe:d,onComplete:f}=n;this.isPseudoElement=!!u,this.allowFlatten=l,this.options=n,dr(typeof n.type!="string");const p=Zm(n);this.animation=Vm(s,o,a,p,u),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const g=Sr(a,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(g):Om(s,o,g),this.animation.cancel()}f==null||f(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var n,s;(s=(n=this.animation).finish)==null||s.call(n)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:n}=this;n==="idle"||n==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var n,s;this.isPseudoElement||(s=(n=this.animation).commitStyles)==null||s.call(n)}get duration(){var s,o;const n=((o=(s=this.animation.effect)==null?void 0:s.getComputedTiming)==null?void 0:o.call(s).duration)||0;return _t(Number(n))}get iterationDuration(){const{delay:n=0}=this.options||{};return this.duration+_t(n)}get time(){return _t(Number(this.animation.currentTime)||0)}set time(n){this.finishedTime=null,this.animation.currentTime=Nt(n)}get speed(){return this.animation.playbackRate}set speed(n){n<0&&(this.finishedTime=null),this.animation.playbackRate=n}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(n){this.animation.startTime=n}attachTimeline({timeline:n,observe:s}){var o;return this.allowFlatten&&((o=this.animation.effect)==null||o.updateTiming({easing:"linear"})),this.animation.onfinish=null,n&&zm()?(this.animation.timeline=n,xt):s(this)}}const hu={anticipate:Hc,backInOut:Wc,circInOut:Jc};function Hm(t){return t in hu}function Gm(t){typeof t.ease=="string"&&Hm(t.ease)&&(t.ease=hu[t.ease])}const rl=10;class Jm extends Wm{constructor(n){Gm(n),ru(n),super(n),n.startTime&&(this.startTime=n.startTime),this.options=n}updateMotionValue(n){const{motionValue:s,onUpdate:o,onComplete:a,element:u,...l}=this.options;if(!s)return;if(n!==void 0){s.set(n);return}const d=new Tr({...l,autoplay:!1}),f=Nt(this.finishedTime??this.time);s.setWithVelocity(d.sample(f-rl).value,d.sample(f).value,rl),d.stop()}}const al=(t,n)=>n==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(nn.test(t)||t==="0")&&!t.startsWith("url("));function Um(t){const n=t[0];if(t.length===1)return!0;for(let s=0;s<t.length;s++)if(t[s]!==n)return!0}function $m(t,n,s,o){const a=t[0];if(a===null)return!1;if(n==="display"||n==="visibility")return!0;const u=t[t.length-1],l=al(a,n),d=al(u,n);return!l||!d?!1:Um(t)||(s==="spring"||du(s))&&o}function Go(t){t.duration=0,t.type="keyframes"}const Km=new Set(["opacity","clipPath","filter","transform"]),Xm=hr(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function qm(t){var g;const{motionValue:n,name:s,repeatDelay:o,repeatType:a,damping:u,type:l}=t;if(!(((g=n==null?void 0:n.owner)==null?void 0:g.current)instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:p}=n.owner.getProps();return Xm()&&s&&Km.has(s)&&(s!=="transform"||!p)&&!f&&!o&&a!=="mirror"&&u!==0&&l!=="inertia"}const Ym=40;class Qm extends wr{constructor({autoplay:n=!0,delay:s=0,type:o="keyframes",repeat:a=0,repeatDelay:u=0,repeatType:l="loop",keyframes:d,name:f,motionValue:p,element:g,...v}){var A;super(),this.stop=()=>{var w,k;this._animation&&(this._animation.stop(),(w=this.stopTimeline)==null||w.call(this)),(k=this.keyframeResolver)==null||k.cancel()},this.createdAt=ut.now();const y={autoplay:n,delay:s,type:o,repeat:a,repeatDelay:u,repeatType:l,name:f,motionValue:p,element:g,...v},b=(g==null?void 0:g.KeyframeResolver)||Ar;this.keyframeResolver=new b(d,(w,k,C)=>this.onKeyframesResolved(w,k,y,!C),f,p,g),(A=this.keyframeResolver)==null||A.scheduleResolve()}onKeyframesResolved(n,s,o,a){this.keyframeResolver=void 0;const{name:u,type:l,velocity:d,delay:f,isHandoff:p,onUpdate:g}=o;this.resolvedAt=ut.now(),$m(n,u,l,d)||((Jt.instantAnimations||!f)&&(g==null||g(Sr(n,o,s))),n[0]=n[n.length-1],Go(o),o.repeat=0);const y={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>Ym?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...o,keyframes:n},b=!p&&qm(y)?new Jm({...y,element:y.motionValue.owner.current}):new Tr(y);b.finished.then(()=>this.notifyFinished()).catch(xt),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(n,s){return this.finished.finally(n).then(()=>{})}get animation(){var n;return this._animation||((n=this.keyframeResolver)==null||n.resume(),Rm()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(n){this.animation.time=n}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(n){this.animation.speed=n}get startTime(){return this.animation.startTime}attachTimeline(n){return this._animation?this.stopTimeline=this.animation.attachTimeline(n):this.pendingTimeline=n,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var n;this._animation&&this.animation.cancel(),(n=this.keyframeResolver)==null||n.cancel()}}const ep=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function tp(t){const n=ep.exec(t);if(!n)return[,];const[,s,o,a]=n;return[`--${s??o}`,a]}function fu(t,n,s=1){const[o,a]=tp(t);if(!o)return;const u=window.getComputedStyle(n).getPropertyValue(o);if(u){const l=u.trim();return Rc(l)?parseFloat(l):l}return yr(a)?fu(a,n,s+1):a}function Cr(t,n){return(t==null?void 0:t[n])??(t==null?void 0:t.default)??t}const mu=new Set(["width","height","top","left","right","bottom",...Un]),np={test:t=>t==="auto",parse:t=>t},pu=t=>n=>n.test(t),gu=[Jn,re,It,qt,Uf,Jf,np],ll=t=>gu.find(pu(t));function ip(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Oc(t):!0}const sp=new Set(["brightness","contrast","saturate","opacity"]);function op(t){const[n,s]=t.slice(0,-1).split("(");if(n==="drop-shadow")return t;const[o]=s.match(vr)||[];if(!o)return t;const a=s.replace(o,"");let u=sp.has(n)?1:0;return o!==s&&(u*=100),n+"("+u+a+")"}const rp=/\b([a-z-]*)\(.*?\)/gu,Jo={...nn,getAnimatableNone:t=>{const n=t.match(rp);return n?n.map(op).join(" "):t}},cl={...Jn,transform:Math.round},ap={rotate:qt,rotateX:qt,rotateY:qt,rotateZ:qt,scale:ts,scaleX:ts,scaleY:ts,scaleZ:ts,skew:qt,skewX:qt,skewY:qt,distance:re,translateX:re,translateY:re,translateZ:re,x:re,y:re,z:re,perspective:re,transformPerspective:re,opacity:wi,originX:Xa,originY:Xa,originZ:re},Pr={borderWidth:re,borderTopWidth:re,borderRightWidth:re,borderBottomWidth:re,borderLeftWidth:re,borderRadius:re,radius:re,borderTopLeftRadius:re,borderTopRightRadius:re,borderBottomRightRadius:re,borderBottomLeftRadius:re,width:re,maxWidth:re,height:re,maxHeight:re,top:re,right:re,bottom:re,left:re,padding:re,paddingTop:re,paddingRight:re,paddingBottom:re,paddingLeft:re,margin:re,marginTop:re,marginRight:re,marginBottom:re,marginLeft:re,backgroundPositionX:re,backgroundPositionY:re,...ap,zIndex:cl,fillOpacity:wi,strokeOpacity:wi,numOctaves:cl},lp={...Pr,color:qe,backgroundColor:qe,outlineColor:qe,fill:qe,stroke:qe,borderColor:qe,borderTopColor:qe,borderRightColor:qe,borderBottomColor:qe,borderLeftColor:qe,filter:Jo,WebkitFilter:Jo},yu=t=>lp[t];function vu(t,n){let s=yu(t);return s!==Jo&&(s=nn),s.getAnimatableNone?s.getAnimatableNone(n):void 0}const cp=new Set(["auto","none","0"]);function up(t,n,s){let o=0,a;for(;o<t.length&&!a;){const u=t[o];typeof u=="string"&&!cp.has(u)&&Ti(u).values.length&&(a=t[o]),o++}if(a&&s)for(const u of n)t[u]=vu(s,a)}class dp extends Ar{constructor(n,s,o,a,u){super(n,s,o,a,u,!0)}readKeyframes(){const{unresolvedKeyframes:n,element:s,name:o}=this;if(!s||!s.current)return;super.readKeyframes();for(let f=0;f<n.length;f++){let p=n[f];if(typeof p=="string"&&(p=p.trim(),yr(p))){const g=fu(p,s.current);g!==void 0&&(n[f]=g),f===n.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!mu.has(o)||n.length!==2)return;const[a,u]=n,l=ll(a),d=ll(u);if(l!==d)if(sl(l)&&sl(d))for(let f=0;f<n.length;f++){const p=n[f];typeof p=="string"&&(n[f]=parseFloat(p))}else xn[o]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:n,name:s}=this,o=[];for(let a=0;a<n.length;a++)(n[a]===null||ip(n[a]))&&o.push(a);o.length&&up(n,o,s)}measureInitialState(){const{element:n,unresolvedKeyframes:s,name:o}=this;if(!n||!n.current)return;o==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=xn[o](n.measureViewportBox(),window.getComputedStyle(n.current)),s[0]=this.measuredOrigin;const a=s[s.length-1];a!==void 0&&n.getValue(o,a).jump(a,!1)}measureEndState(){var d;const{element:n,name:s,unresolvedKeyframes:o}=this;if(!n||!n.current)return;const a=n.getValue(s);a&&a.jump(this.measuredOrigin,!1);const u=o.length-1,l=o[u];o[u]=xn[s](n.measureViewportBox(),window.getComputedStyle(n.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),(d=this.removedTransforms)!=null&&d.length&&this.removedTransforms.forEach(([f,p])=>{n.getValue(f).set(p)}),this.resolveNoneKeyframes()}}function hp(t,n,s){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let o=document;const a=(s==null?void 0:s[t])??o.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const _u=(t,n)=>n&&typeof t=="number"?n.transform(t):t;function xu(t){return jc(t)&&"offsetHeight"in t}const ul=30,fp=t=>!isNaN(parseFloat(t));class mp{constructor(n,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=o=>{var u;const a=ut.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(o),this.current!==this.prev&&((u=this.events.change)==null||u.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(n),this.owner=s.owner}setCurrent(n){this.current=n,this.updatedAt=ut.now(),this.canTrackVelocity===null&&n!==void 0&&(this.canTrackVelocity=fp(this.current))}setPrevFrameValue(n=this.current){this.prevFrameValue=n,this.prevUpdatedAt=this.updatedAt}onChange(n){return this.on("change",n)}on(n,s){this.events[n]||(this.events[n]=new fr);const o=this.events[n].add(s);return n==="change"?()=>{o(),Oe.read(()=>{this.events.change.getSize()||this.stop()})}:o}clearListeners(){for(const n in this.events)this.events[n].clear()}attach(n,s){this.passiveEffect=n,this.stopPassiveEffect=s}set(n){this.passiveEffect?this.passiveEffect(n,this.updateAndNotify):this.updateAndNotify(n)}setWithVelocity(n,s,o){this.set(s),this.prev=void 0,this.prevFrameValue=n,this.prevUpdatedAt=this.updatedAt-o}jump(n,s=!0){this.updateAndNotify(n),this.prev=n,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var n;(n=this.events.change)==null||n.notify(this.current)}addDependent(n){this.dependents||(this.dependents=new Set),this.dependents.add(n)}removeDependent(n){this.dependents&&this.dependents.delete(n)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const n=ut.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||n-this.updatedAt>ul)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,ul);return zc(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(n){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=n(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var n,s;(n=this.dependents)==null||n.clear(),(s=this.events.destroy)==null||s.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Hn(t,n){return new mp(t,n)}const{schedule:kr}=Kc(queueMicrotask,!1),wt={x:!1,y:!1};function bu(){return wt.x||wt.y}function pp(t){return t==="x"||t==="y"?wt[t]?null:(wt[t]=!0,()=>{wt[t]=!1}):wt.x||wt.y?null:(wt.x=wt.y=!0,()=>{wt.x=wt.y=!1})}function Su(t,n){const s=hp(t),o=new AbortController,a={passive:!0,...n,signal:o.signal};return[s,a,()=>o.abort()]}function dl(t){return!(t.pointerType==="touch"||bu())}function gp(t,n,s={}){const[o,a,u]=Su(t,s),l=d=>{if(!dl(d))return;const{target:f}=d,p=n(f,d);if(typeof p!="function"||!f)return;const g=v=>{dl(v)&&(p(v),f.removeEventListener("pointerleave",g))};f.addEventListener("pointerleave",g,a)};return o.forEach(d=>{d.addEventListener("pointerenter",l,a)}),u}const wu=(t,n)=>n?t===n?!0:wu(t,n.parentElement):!1,Mr=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,yp=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function vp(t){return yp.has(t.tagName)||t.tabIndex!==-1}const ls=new WeakSet;function hl(t){return n=>{n.key==="Enter"&&t(n)}}function vo(t,n){t.dispatchEvent(new PointerEvent("pointer"+n,{isPrimary:!0,bubbles:!0}))}const _p=(t,n)=>{const s=t.currentTarget;if(!s)return;const o=hl(()=>{if(ls.has(s))return;vo(s,"down");const a=hl(()=>{vo(s,"up")}),u=()=>vo(s,"cancel");s.addEventListener("keyup",a,n),s.addEventListener("blur",u,n)});s.addEventListener("keydown",o,n),s.addEventListener("blur",()=>s.removeEventListener("keydown",o),n)};function fl(t){return Mr(t)&&!bu()}function xp(t,n,s={}){const[o,a,u]=Su(t,s),l=d=>{const f=d.currentTarget;if(!fl(d))return;ls.add(f);const p=n(f,d),g=(b,A)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",y),ls.has(f)&&ls.delete(f),fl(b)&&typeof p=="function"&&p(b,{success:A})},v=b=>{g(b,f===window||f===document||s.useGlobalTarget||wu(f,b.target))},y=b=>{g(b,!1)};window.addEventListener("pointerup",v,a),window.addEventListener("pointercancel",y,a)};return o.forEach(d=>{(s.useGlobalTarget?window:d).addEventListener("pointerdown",l,a),xu(d)&&(d.addEventListener("focus",p=>_p(p,a)),!vp(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),u}function Tu(t){return jc(t)&&"ownerSVGElement"in t}function bp(t){return Tu(t)&&t.tagName==="svg"}const rt=t=>!!(t&&t.getVelocity),Sp=[...gu,qe,nn],wp=t=>Sp.find(pu(t)),Dr=x.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function ml(t,n){if(typeof t=="function")return t(n);t!=null&&(t.current=n)}function Tp(...t){return n=>{let s=!1;const o=t.map(a=>{const u=ml(a,n);return!s&&typeof u=="function"&&(s=!0),u});if(s)return()=>{for(let a=0;a<o.length;a++){const u=o[a];typeof u=="function"?u():ml(t[a],null)}}}}function Ap(...t){return x.useCallback(Tp(...t),t)}class Cp extends x.Component{getSnapshotBeforeUpdate(n){const s=this.props.childRef.current;if(s&&n.isPresent&&!this.props.isPresent){const o=s.offsetParent,a=xu(o)&&o.offsetWidth||0,u=this.props.sizeRef.current;u.height=s.offsetHeight||0,u.width=s.offsetWidth||0,u.top=s.offsetTop,u.left=s.offsetLeft,u.right=a-u.width-u.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Pp({children:t,isPresent:n,anchorX:s,root:o}){const a=x.useId(),u=x.useRef(null),l=x.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=x.useContext(Dr),f=Ap(u,t==null?void 0:t.ref);return x.useInsertionEffect(()=>{const{width:p,height:g,top:v,left:y,right:b}=l.current;if(n||!u.current||!p||!g)return;const A=s==="left"?`left: ${y}`:`right: ${b}`;u.current.dataset.motionPopId=a;const w=document.createElement("style");d&&(w.nonce=d);const k=o??document.head;return k.appendChild(w),w.sheet&&w.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${g}px !important;
            ${A}px !important;
            top: ${v}px !important;
          }
        `),()=>{k.contains(w)&&k.removeChild(w)}},[n]),m.jsx(Cp,{isPresent:n,childRef:u,sizeRef:l,children:x.cloneElement(t,{ref:f})})}const kp=({children:t,initial:n,isPresent:s,onExitComplete:o,custom:a,presenceAffectsLayout:u,mode:l,anchorX:d,root:f})=>{const p=ar(Mp),g=x.useId();let v=!0,y=x.useMemo(()=>(v=!1,{id:g,initial:n,isPresent:s,custom:a,onExitComplete:b=>{p.set(b,!0);for(const A of p.values())if(!A)return;o&&o()},register:b=>(p.set(b,!1),()=>p.delete(b))}),[s,p,o]);return u&&v&&(y={...y}),x.useMemo(()=>{p.forEach((b,A)=>p.set(A,!1))},[s]),x.useEffect(()=>{!s&&!p.size&&o&&o()},[s]),l==="popLayout"&&(t=m.jsx(Pp,{isPresent:s,anchorX:d,root:f,children:t})),m.jsx(As.Provider,{value:y,children:t})};function Mp(){return new Map}function Au(t=!0){const n=x.useContext(As);if(n===null)return[!0,null];const{isPresent:s,onExitComplete:o,register:a}=n,u=x.useId();x.useEffect(()=>{if(t)return a(u)},[t]);const l=x.useCallback(()=>t&&o&&o(u),[u,o,t]);return!s&&o?[!1,l]:[!0]}const ns=t=>t.key||"";function pl(t){const n=[];return x.Children.forEach(t,s=>{x.isValidElement(s)&&n.push(s)}),n}const At=({children:t,custom:n,initial:s=!0,onExitComplete:o,presenceAffectsLayout:a=!0,mode:u="sync",propagate:l=!1,anchorX:d="left",root:f})=>{const[p,g]=Au(l),v=x.useMemo(()=>pl(t),[t]),y=l&&!p?[]:v.map(ns),b=x.useRef(!0),A=x.useRef(v),w=ar(()=>new Map),[k,C]=x.useState(v),[N,T]=x.useState(v);Ic(()=>{b.current=!1,A.current=v;for(let j=0;j<N.length;j++){const R=ns(N[j]);y.includes(R)?w.delete(R):w.get(R)!==!0&&w.set(R,!1)}},[N,y.length,y.join("-")]);const E=[];if(v!==k){let j=[...v];for(let R=0;R<N.length;R++){const B=N[R],Y=ns(B);y.includes(Y)||(j.splice(R,0,B),E.push(B))}return u==="wait"&&E.length&&(j=E),T(pl(j)),C(v),null}const{forceRender:D}=x.useContext(rr);return m.jsx(m.Fragment,{children:N.map(j=>{const R=ns(j),B=l&&!p?!1:v===N||y.includes(R),Y=()=>{if(w.has(R))w.set(R,!0);else return;let Q=!0;w.forEach(U=>{U||(Q=!1)}),Q&&(D==null||D(),T(A.current),l&&(g==null||g()),o&&o())};return m.jsx(kp,{isPresent:B,initial:!b.current||s?void 0:!1,custom:n,presenceAffectsLayout:a,mode:u,root:f,onExitComplete:B?void 0:Y,anchorX:d,children:j},R)})})},Cu=x.createContext({strict:!1}),gl={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Gn={};for(const t in gl)Gn[t]={isEnabled:n=>gl[t].some(s=>!!n[s])};function Dp(t){for(const n in t)Gn[n]={...Gn[n],...t[n]}}const Lp=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function _s(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Lp.has(t)}let Pu=t=>!_s(t);function Ep(t){typeof t=="function"&&(Pu=n=>n.startsWith("on")?!_s(n):t(n))}try{Ep(require("@emotion/is-prop-valid").default)}catch{}function Np(t,n,s){const o={};for(const a in t)a==="values"&&typeof t.values=="object"||(Pu(a)||s===!0&&_s(a)||!n&&!_s(a)||t.draggable&&a.startsWith("onDrag"))&&(o[a]=t[a]);return o}const Cs=x.createContext({});function Ps(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Ai(t){return typeof t=="string"||Array.isArray(t)}const Lr=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Er=["initial",...Lr];function ks(t){return Ps(t.animate)||Er.some(n=>Ai(t[n]))}function ku(t){return!!(ks(t)||t.variants)}function Ip(t,n){if(ks(t)){const{initial:s,animate:o}=t;return{initial:s===!1||Ai(s)?s:void 0,animate:Ai(o)?o:void 0}}return t.inherit!==!1?n:{}}function Rp(t){const{initial:n,animate:s}=Ip(t,x.useContext(Cs));return x.useMemo(()=>({initial:n,animate:s}),[yl(n),yl(s)])}function yl(t){return Array.isArray(t)?t.join(" "):t}const Ci={};function jp(t){for(const n in t)Ci[n]=t[n],gr(n)&&(Ci[n].isCSSVariable=!0)}function Mu(t,{layout:n,layoutId:s}){return $n.has(t)||t.startsWith("origin")||(n||s!==void 0)&&(!!Ci[t]||t==="opacity")}const Op={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},zp=Un.length;function Bp(t,n,s){let o="",a=!0;for(let u=0;u<zp;u++){const l=Un[u],d=t[l];if(d===void 0)continue;let f=!0;if(typeof d=="number"?f=d===(l.startsWith("scale")?1:0):f=parseFloat(d)===0,!f||s){const p=_u(d,Pr[l]);if(!f){a=!1;const g=Op[l]||l;o+=`${g}(${p}) `}s&&(n[l]=p)}}return o=o.trim(),s?o=s(n,a?"":o):a&&(o="none"),o}function Nr(t,n,s){const{style:o,vars:a,transformOrigin:u}=t;let l=!1,d=!1;for(const f in n){const p=n[f];if($n.has(f)){l=!0;continue}else if(gr(f)){a[f]=p;continue}else{const g=_u(p,Pr[f]);f.startsWith("origin")?(d=!0,u[f]=g):o[f]=g}}if(n.transform||(l||s?o.transform=Bp(n,t.transform,s):o.transform&&(o.transform="none")),d){const{originX:f="50%",originY:p="50%",originZ:g=0}=u;o.transformOrigin=`${f} ${p} ${g}`}}const Ir=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Du(t,n,s){for(const o in n)!rt(n[o])&&!Mu(o,s)&&(t[o]=n[o])}function Fp({transformTemplate:t},n){return x.useMemo(()=>{const s=Ir();return Nr(s,n,t),Object.assign({},s.vars,s.style)},[n])}function Vp(t,n){const s=t.style||{},o={};return Du(o,s,t),Object.assign(o,Fp(t,n)),o}function Zp(t,n){const s={},o=Vp(t,n);return t.drag&&t.dragListener!==!1&&(s.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(s.tabIndex=0),s.style=o,s}const Wp={offset:"stroke-dashoffset",array:"stroke-dasharray"},Hp={offset:"strokeDashoffset",array:"strokeDasharray"};function Gp(t,n,s=1,o=0,a=!0){t.pathLength=1;const u=a?Wp:Hp;t[u.offset]=re.transform(-o);const l=re.transform(n),d=re.transform(s);t[u.array]=`${l} ${d}`}function Lu(t,{attrX:n,attrY:s,attrScale:o,pathLength:a,pathSpacing:u=1,pathOffset:l=0,...d},f,p,g){if(Nr(t,d,p),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:y}=t;v.transform&&(y.transform=v.transform,delete v.transform),(y.transform||v.transformOrigin)&&(y.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),y.transform&&(y.transformBox=(g==null?void 0:g.transformBox)??"fill-box",delete v.transformBox),n!==void 0&&(v.x=n),s!==void 0&&(v.y=s),o!==void 0&&(v.scale=o),a!==void 0&&Gp(v,a,u,l,!1)}const Eu=()=>({...Ir(),attrs:{}}),Nu=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Jp(t,n,s,o){const a=x.useMemo(()=>{const u=Eu();return Lu(u,n,Nu(o),t.transformTemplate,t.style),{...u.attrs,style:{...u.style}}},[n]);if(t.style){const u={};Du(u,t.style,t),a.style={...u,...a.style}}return a}const Up=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Rr(t){return typeof t!="string"||t.includes("-")?!1:!!(Up.indexOf(t)>-1||/[A-Z]/u.test(t))}function $p(t,n,s,{latestValues:o},a,u=!1){const d=(Rr(t)?Jp:Zp)(n,o,a,t),f=Np(n,typeof t=="string",u),p=t!==x.Fragment?{...f,...d,ref:s}:{},{children:g}=n,v=x.useMemo(()=>rt(g)?g.get():g,[g]);return x.createElement(t,{...p,children:v})}function vl(t){const n=[{},{}];return t==null||t.values.forEach((s,o)=>{n[0][o]=s.get(),n[1][o]=s.getVelocity()}),n}function jr(t,n,s,o){if(typeof n=="function"){const[a,u]=vl(o);n=n(s!==void 0?s:t.custom,a,u)}if(typeof n=="string"&&(n=t.variants&&t.variants[n]),typeof n=="function"){const[a,u]=vl(o);n=n(s!==void 0?s:t.custom,a,u)}return n}function cs(t){return rt(t)?t.get():t}function Kp({scrapeMotionValuesFromProps:t,createRenderState:n},s,o,a){return{latestValues:Xp(s,o,a,t),renderState:n()}}function Xp(t,n,s,o){const a={},u=o(t,{});for(const y in u)a[y]=cs(u[y]);let{initial:l,animate:d}=t;const f=ks(t),p=ku(t);n&&p&&!f&&t.inherit!==!1&&(l===void 0&&(l=n.initial),d===void 0&&(d=n.animate));let g=s?s.initial===!1:!1;g=g||l===!1;const v=g?d:l;if(v&&typeof v!="boolean"&&!Ps(v)){const y=Array.isArray(v)?v:[v];for(let b=0;b<y.length;b++){const A=jr(t,y[b]);if(A){const{transitionEnd:w,transition:k,...C}=A;for(const N in C){let T=C[N];if(Array.isArray(T)){const E=g?T.length-1:0;T=T[E]}T!==null&&(a[N]=T)}for(const N in w)a[N]=w[N]}}}return a}const Iu=t=>(n,s)=>{const o=x.useContext(Cs),a=x.useContext(As),u=()=>Kp(t,n,o,a);return s?u():ar(u)};function Or(t,n,s){var u;const{style:o}=t,a={};for(const l in o)(rt(o[l])||n.style&&rt(n.style[l])||Mu(l,t)||((u=s==null?void 0:s.getValue(l))==null?void 0:u.liveStyle)!==void 0)&&(a[l]=o[l]);return a}const qp=Iu({scrapeMotionValuesFromProps:Or,createRenderState:Ir});function Ru(t,n,s){const o=Or(t,n,s);for(const a in t)if(rt(t[a])||rt(n[a])){const u=Un.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;o[u]=t[a]}return o}const Yp=Iu({scrapeMotionValuesFromProps:Ru,createRenderState:Eu}),Qp=Symbol.for("motionComponentSymbol");function On(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function eg(t,n,s){return x.useCallback(o=>{o&&t.onMount&&t.onMount(o),n&&(o?n.mount(o):n.unmount()),s&&(typeof s=="function"?s(o):On(s)&&(s.current=o))},[n])}const zr=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),tg="framerAppearId",ju="data-"+zr(tg),Ou=x.createContext({});function ng(t,n,s,o,a){var w,k;const{visualElement:u}=x.useContext(Cs),l=x.useContext(Cu),d=x.useContext(As),f=x.useContext(Dr).reducedMotion,p=x.useRef(null);o=o||l.renderer,!p.current&&o&&(p.current=o(t,{visualState:n,parent:u,props:s,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:f}));const g=p.current,v=x.useContext(Ou);g&&!g.projection&&a&&(g.type==="html"||g.type==="svg")&&ig(p.current,s,a,v);const y=x.useRef(!1);x.useInsertionEffect(()=>{g&&y.current&&g.update(s,d)});const b=s[ju],A=x.useRef(!!b&&!((w=window.MotionHandoffIsComplete)!=null&&w.call(window,b))&&((k=window.MotionHasOptimisedAnimation)==null?void 0:k.call(window,b)));return Ic(()=>{g&&(y.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),A.current&&g.animationState&&g.animationState.animateChanges())}),x.useEffect(()=>{g&&(!A.current&&g.animationState&&g.animationState.animateChanges(),A.current&&(queueMicrotask(()=>{var C;(C=window.MotionHandoffMarkAsComplete)==null||C.call(window,b)}),A.current=!1),g.enteringChildren=void 0)}),g}function ig(t,n,s,o){const{layoutId:a,layout:u,drag:l,dragConstraints:d,layoutScroll:f,layoutRoot:p,layoutCrossfade:g}=n;t.projection=new s(t.latestValues,n["data-framer-portal-id"]?void 0:zu(t.parent)),t.projection.setOptions({layoutId:a,layout:u,alwaysMeasureLayout:!!l||d&&On(d),visualElement:t,animationType:typeof u=="string"?u:"both",initialPromotionConfig:o,crossfade:g,layoutScroll:f,layoutRoot:p})}function zu(t){if(t)return t.options.allowProjection!==!1?t.projection:zu(t.parent)}function _o(t,{forwardMotionProps:n=!1}={},s,o){s&&Dp(s);const a=Rr(t)?Yp:qp;function u(d,f){let p;const g={...x.useContext(Dr),...d,layoutId:sg(d)},{isStatic:v}=g,y=Rp(d),b=a(d,v);if(!v&&lr){og();const A=rg(g);p=A.MeasureLayout,y.visualElement=ng(t,b,g,o,A.ProjectionNode)}return m.jsxs(Cs.Provider,{value:y,children:[p&&y.visualElement?m.jsx(p,{visualElement:y.visualElement,...g}):null,$p(t,d,eg(b,y.visualElement,f),b,v,n)]})}u.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const l=x.forwardRef(u);return l[Qp]=t,l}function sg({layoutId:t}){const n=x.useContext(rr).id;return n&&t!==void 0?n+"-"+t:t}function og(t,n){x.useContext(Cu).strict}function rg(t){const{drag:n,layout:s}=Gn;if(!n&&!s)return{};const o={...n,...s};return{MeasureLayout:n!=null&&n.isEnabled(t)||s!=null&&s.isEnabled(t)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}function ag(t,n){if(typeof Proxy>"u")return _o;const s=new Map,o=(u,l)=>_o(u,l,t,n),a=(u,l)=>o(u,l);return new Proxy(a,{get:(u,l)=>l==="create"?o:(s.has(l)||s.set(l,_o(l,void 0,t,n)),s.get(l))})}function Bu({top:t,left:n,right:s,bottom:o}){return{x:{min:n,max:s},y:{min:t,max:o}}}function lg({x:t,y:n}){return{top:n.min,right:t.max,bottom:n.max,left:t.min}}function cg(t,n){if(!n)return t;const s=n({x:t.left,y:t.top}),o=n({x:t.right,y:t.bottom});return{top:s.y,left:s.x,bottom:o.y,right:o.x}}function xo(t){return t===void 0||t===1}function Uo({scale:t,scaleX:n,scaleY:s}){return!xo(t)||!xo(n)||!xo(s)}function gn(t){return Uo(t)||Fu(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Fu(t){return _l(t.x)||_l(t.y)}function _l(t){return t&&t!=="0%"}function xs(t,n,s){const o=t-s,a=n*o;return s+a}function xl(t,n,s,o,a){return a!==void 0&&(t=xs(t,a,o)),xs(t,s,o)+n}function $o(t,n=0,s=1,o,a){t.min=xl(t.min,n,s,o,a),t.max=xl(t.max,n,s,o,a)}function Vu(t,{x:n,y:s}){$o(t.x,n.translate,n.scale,n.originPoint),$o(t.y,s.translate,s.scale,s.originPoint)}const bl=.999999999999,Sl=1.0000000000001;function ug(t,n,s,o=!1){const a=s.length;if(!a)return;n.x=n.y=1;let u,l;for(let d=0;d<a;d++){u=s[d],l=u.projectionDelta;const{visualElement:f}=u.options;f&&f.props.style&&f.props.style.display==="contents"||(o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Bn(t,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),l&&(n.x*=l.x.scale,n.y*=l.y.scale,Vu(t,l)),o&&gn(u.latestValues)&&Bn(t,u.latestValues))}n.x<Sl&&n.x>bl&&(n.x=1),n.y<Sl&&n.y>bl&&(n.y=1)}function zn(t,n){t.min=t.min+n,t.max=t.max+n}function wl(t,n,s,o,a=.5){const u=Fe(t.min,t.max,a);$o(t,n,s,u,o)}function Bn(t,n){wl(t.x,n.x,n.scaleX,n.scale,n.originX),wl(t.y,n.y,n.scaleY,n.scale,n.originY)}function Zu(t,n){return Bu(cg(t.getBoundingClientRect(),n))}function dg(t,n,s){const o=Zu(t,s),{scroll:a}=n;return a&&(zn(o.x,a.offset.x),zn(o.y,a.offset.y)),o}const Tl=()=>({translate:0,scale:1,origin:0,originPoint:0}),Fn=()=>({x:Tl(),y:Tl()}),Al=()=>({min:0,max:0}),Ue=()=>({x:Al(),y:Al()}),Ko={current:null},Wu={current:!1};function hg(){if(Wu.current=!0,!!lr)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),n=()=>Ko.current=t.matches;t.addEventListener("change",n),n()}else Ko.current=!1}const fg=new WeakMap;function mg(t,n,s){for(const o in n){const a=n[o],u=s[o];if(rt(a))t.addValue(o,a);else if(rt(u))t.addValue(o,Hn(a,{owner:t}));else if(u!==a)if(t.hasValue(o)){const l=t.getValue(o);l.liveStyle===!0?l.jump(a):l.hasAnimated||l.set(a)}else{const l=t.getStaticValue(o);t.addValue(o,Hn(l!==void 0?l:a,{owner:t}))}}for(const o in s)n[o]===void 0&&t.removeValue(o);return n}const Cl=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class pg{scrapeMotionValuesFromProps(n,s,o){return{}}constructor({parent:n,props:s,presenceContext:o,reducedMotionConfig:a,blockInitialAnimation:u,visualState:l},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ar,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=ut.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,Oe.render(this.render,!1,!0))};const{latestValues:f,renderState:p}=l;this.latestValues=f,this.baseTarget={...f},this.initialValues=s.initial?{...f}:{},this.renderState=p,this.parent=n,this.props=s,this.presenceContext=o,this.depth=n?n.depth+1:0,this.reducedMotionConfig=a,this.options=d,this.blockInitialAnimation=!!u,this.isControllingVariants=ks(s),this.isVariantNode=ku(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(n&&n.current);const{willChange:g,...v}=this.scrapeMotionValuesFromProps(s,{},this);for(const y in v){const b=v[y];f[y]!==void 0&&rt(b)&&b.set(f[y])}}mount(n){var s;this.current=n,fg.set(n,this),this.projection&&!this.projection.instance&&this.projection.mount(n),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((o,a)=>this.bindToMotionValue(a,o)),Wu.current||hg(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ko.current,(s=this.parent)==null||s.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var n;this.projection&&this.projection.unmount(),tn(this.notifyUpdate),tn(this.render),this.valueSubscriptions.forEach(s=>s()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(n=this.parent)==null||n.removeChild(this);for(const s in this.events)this.events[s].clear();for(const s in this.features){const o=this.features[s];o&&(o.unmount(),o.isMounted=!1)}this.current=null}addChild(n){this.children.add(n),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(n)}removeChild(n){this.children.delete(n),this.enteringChildren&&this.enteringChildren.delete(n)}bindToMotionValue(n,s){this.valueSubscriptions.has(n)&&this.valueSubscriptions.get(n)();const o=$n.has(n);o&&this.onBindTransform&&this.onBindTransform();const a=s.on("change",l=>{this.latestValues[n]=l,this.props.onUpdate&&Oe.preRender(this.notifyUpdate),o&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,n,s)),this.valueSubscriptions.set(n,()=>{a(),u&&u(),s.owner&&s.stop()})}sortNodePosition(n){return!this.current||!this.sortInstanceNodePosition||this.type!==n.type?0:this.sortInstanceNodePosition(this.current,n.current)}updateFeatures(){let n="animation";for(n in Gn){const s=Gn[n];if(!s)continue;const{isEnabled:o,Feature:a}=s;if(!this.features[n]&&a&&o(this.props)&&(this.features[n]=new a(this)),this.features[n]){const u=this.features[n];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ue()}getStaticValue(n){return this.latestValues[n]}setStaticValue(n,s){this.latestValues[n]=s}update(n,s){(n.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=n,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let o=0;o<Cl.length;o++){const a=Cl[o];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const u="on"+a,l=n[u];l&&(this.propEventSubscriptions[a]=this.on(a,l))}this.prevMotionValues=mg(this,this.scrapeMotionValuesFromProps(n,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(n){return this.props.variants?this.props.variants[n]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(n){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(n),()=>s.variantChildren.delete(n)}addValue(n,s){const o=this.values.get(n);s!==o&&(o&&this.removeValue(n),this.bindToMotionValue(n,s),this.values.set(n,s),this.latestValues[n]=s.get())}removeValue(n){this.values.delete(n);const s=this.valueSubscriptions.get(n);s&&(s(),this.valueSubscriptions.delete(n)),delete this.latestValues[n],this.removeValueFromRenderState(n,this.renderState)}hasValue(n){return this.values.has(n)}getValue(n,s){if(this.props.values&&this.props.values[n])return this.props.values[n];let o=this.values.get(n);return o===void 0&&s!==void 0&&(o=Hn(s===null?void 0:s,{owner:this}),this.addValue(n,o)),o}readValue(n,s){let o=this.latestValues[n]!==void 0||!this.current?this.latestValues[n]:this.getBaseTargetFromProps(this.props,n)??this.readValueFromInstance(this.current,n,this.options);return o!=null&&(typeof o=="string"&&(Rc(o)||Oc(o))?o=parseFloat(o):!wp(o)&&nn.test(s)&&(o=vu(n,s)),this.setBaseTarget(n,rt(o)?o.get():o)),rt(o)?o.get():o}setBaseTarget(n,s){this.baseTarget[n]=s}getBaseTarget(n){var u;const{initial:s}=this.props;let o;if(typeof s=="string"||typeof s=="object"){const l=jr(this.props,s,(u=this.presenceContext)==null?void 0:u.custom);l&&(o=l[n])}if(s&&o!==void 0)return o;const a=this.getBaseTargetFromProps(this.props,n);return a!==void 0&&!rt(a)?a:this.initialValues[n]!==void 0&&o===void 0?void 0:this.baseTarget[n]}on(n,s){return this.events[n]||(this.events[n]=new fr),this.events[n].add(s)}notify(n,...s){this.events[n]&&this.events[n].notify(...s)}scheduleRenderMicrotask(){kr.render(this.render)}}class Hu extends pg{constructor(){super(...arguments),this.KeyframeResolver=dp}sortInstanceNodePosition(n,s){return n.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(n,s){return n.style?n.style[s]:void 0}removeValueFromRenderState(n,{vars:s,style:o}){delete s[n],delete o[n]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:n}=this.props;rt(n)&&(this.childSubscription=n.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function Gu(t,{style:n,vars:s},o,a){const u=t.style;let l;for(l in n)u[l]=n[l];a==null||a.applyProjectionStyles(u,o);for(l in s)u.setProperty(l,s[l])}function gg(t){return window.getComputedStyle(t)}class yg extends Hu{constructor(){super(...arguments),this.type="html",this.renderInstance=Gu}readValueFromInstance(n,s){var o;if($n.has(s))return(o=this.projection)!=null&&o.isProjecting?Fo(s):Dm(n,s);{const a=gg(n),u=(gr(s)?a.getPropertyValue(s):a[s])||0;return typeof u=="string"?u.trim():u}}measureInstanceViewportBox(n,{transformPagePoint:s}){return Zu(n,s)}build(n,s,o){Nr(n,s,o.transformTemplate)}scrapeMotionValuesFromProps(n,s,o){return Or(n,s,o)}}const Ju=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function vg(t,n,s,o){Gu(t,n,void 0,o);for(const a in n.attrs)t.setAttribute(Ju.has(a)?a:zr(a),n.attrs[a])}class _g extends Hu{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ue}getBaseTargetFromProps(n,s){return n[s]}readValueFromInstance(n,s){if($n.has(s)){const o=yu(s);return o&&o.default||0}return s=Ju.has(s)?s:zr(s),n.getAttribute(s)}scrapeMotionValuesFromProps(n,s,o){return Ru(n,s,o)}build(n,s,o){Lu(n,s,this.isSVGTag,o.transformTemplate,o.style)}renderInstance(n,s,o,a){vg(n,s,o,a)}mount(n){this.isSVGTag=Nu(n.tagName),super.mount(n)}}const xg=(t,n)=>Rr(t)?new _g(n):new yg(n,{allowProjection:t!==x.Fragment});function Zn(t,n,s){const o=t.getProps();return jr(o,n,s!==void 0?s:o.custom,t)}const Xo=t=>Array.isArray(t);function bg(t,n,s){t.hasValue(n)?t.getValue(n).set(s):t.addValue(n,Hn(s))}function Sg(t){return Xo(t)?t[t.length-1]||0:t}function wg(t,n){const s=Zn(t,n);let{transitionEnd:o={},transition:a={},...u}=s||{};u={...u,...o};for(const l in u){const d=Sg(u[l]);bg(t,l,d)}}function Tg(t){return!!(rt(t)&&t.add)}function qo(t,n){const s=t.getValue("willChange");if(Tg(s))return s.add(n);if(!s&&Jt.WillChange){const o=new Jt.WillChange("auto");t.addValue("willChange",o),o.add(n)}}function Uu(t){return t.props[ju]}const Ag=t=>t!==null;function Cg(t,{repeat:n,repeatType:s="loop"},o){const a=t.filter(Ag),u=n&&s!=="loop"&&n%2===1?0:a.length-1;return a[u]}const Pg={type:"spring",stiffness:500,damping:25,restSpeed:10},kg=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Mg={type:"keyframes",duration:.8},Dg={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Lg=(t,{keyframes:n})=>n.length>2?Mg:$n.has(t)?t.startsWith("scale")?kg(n[1]):Pg:Dg;function Eg({when:t,delay:n,delayChildren:s,staggerChildren:o,staggerDirection:a,repeat:u,repeatType:l,repeatDelay:d,from:f,elapsed:p,...g}){return!!Object.keys(g).length}const Br=(t,n,s,o={},a,u)=>l=>{const d=Cr(o,t)||{},f=d.delay||o.delay||0;let{elapsed:p=0}=o;p=p-Nt(f);const g={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:n.getVelocity(),...d,delay:-p,onUpdate:y=>{n.set(y),d.onUpdate&&d.onUpdate(y)},onComplete:()=>{l(),d.onComplete&&d.onComplete()},name:t,motionValue:n,element:u?void 0:a};Eg(d)||Object.assign(g,Lg(t,g)),g.duration&&(g.duration=Nt(g.duration)),g.repeatDelay&&(g.repeatDelay=Nt(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let v=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(Go(g),g.delay===0&&(v=!0)),(Jt.instantAnimations||Jt.skipAnimations)&&(v=!0,Go(g),g.delay=0),g.allowFlatten=!d.type&&!d.ease,v&&!u&&n.get()!==void 0){const y=Cg(g.keyframes,d);if(y!==void 0){Oe.update(()=>{g.onUpdate(y),g.onComplete()});return}}return d.isSync?new Tr(g):new Qm(g)};function Ng({protectedKeys:t,needsAnimating:n},s){const o=t.hasOwnProperty(s)&&n[s]!==!0;return n[s]=!1,o}function $u(t,n,{delay:s=0,transitionOverride:o,type:a}={}){let{transition:u=t.getDefaultTransition(),transitionEnd:l,...d}=n;o&&(u=o);const f=[],p=a&&t.animationState&&t.animationState.getState()[a];for(const g in d){const v=t.getValue(g,t.latestValues[g]??null),y=d[g];if(y===void 0||p&&Ng(p,g))continue;const b={delay:s,...Cr(u||{},g)},A=v.get();if(A!==void 0&&!v.isAnimating&&!Array.isArray(y)&&y===A&&!b.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const C=Uu(t);if(C){const N=window.MotionHandoffAnimation(C,g,Oe);N!==null&&(b.startTime=N,w=!0)}}qo(t,g),v.start(Br(g,v,y,t.shouldReduceMotion&&mu.has(g)?{type:!1}:b,t,w));const k=v.animation;k&&f.push(k)}return l&&Promise.all(f).then(()=>{Oe.update(()=>{l&&wg(t,l)})}),f}function Ku(t,n,s,o=0,a=1){const u=Array.from(t).sort((p,g)=>p.sortNodePosition(g)).indexOf(n),l=t.size,d=(l-1)*o;return typeof s=="function"?s(u,l):a===1?u*o:d-u*o}function Yo(t,n,s={}){var f;const o=Zn(t,n,s.type==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=o||{};s.transitionOverride&&(a=s.transitionOverride);const u=o?()=>Promise.all($u(t,o,s)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:v,staggerDirection:y}=a;return Ig(t,n,p,g,v,y,s)}:()=>Promise.resolve(),{when:d}=a;if(d){const[p,g]=d==="beforeChildren"?[u,l]:[l,u];return p().then(()=>g())}else return Promise.all([u(),l(s.delay)])}function Ig(t,n,s=0,o=0,a=0,u=1,l){const d=[];for(const f of t.variantChildren)f.notify("AnimationStart",n),d.push(Yo(f,n,{...l,delay:s+(typeof o=="function"?0:o)+Ku(t.variantChildren,f,o,a,u)}).then(()=>f.notify("AnimationComplete",n)));return Promise.all(d)}function Rg(t,n,s={}){t.notify("AnimationStart",n);let o;if(Array.isArray(n)){const a=n.map(u=>Yo(t,u,s));o=Promise.all(a)}else if(typeof n=="string")o=Yo(t,n,s);else{const a=typeof n=="function"?Zn(t,n,s.custom):n;o=Promise.all($u(t,a,s))}return o.then(()=>{t.notify("AnimationComplete",n)})}function Xu(t,n){if(!Array.isArray(n))return!1;const s=n.length;if(s!==t.length)return!1;for(let o=0;o<s;o++)if(n[o]!==t[o])return!1;return!0}const jg=Er.length;function qu(t){if(!t)return;if(!t.isControllingVariants){const s=t.parent?qu(t.parent)||{}:{};return t.props.initial!==void 0&&(s.initial=t.props.initial),s}const n={};for(let s=0;s<jg;s++){const o=Er[s],a=t.props[o];(Ai(a)||a===!1)&&(n[o]=a)}return n}const Og=[...Lr].reverse(),zg=Lr.length;function Bg(t){return n=>Promise.all(n.map(({animation:s,options:o})=>Rg(t,s,o)))}function Fg(t){let n=Bg(t),s=Pl(),o=!0;const a=f=>(p,g)=>{var y;const v=Zn(t,g,f==="exit"?(y=t.presenceContext)==null?void 0:y.custom:void 0);if(v){const{transition:b,transitionEnd:A,...w}=v;p={...p,...w,...A}}return p};function u(f){n=f(t)}function l(f){const{props:p}=t,g=qu(t.parent)||{},v=[],y=new Set;let b={},A=1/0;for(let k=0;k<zg;k++){const C=Og[k],N=s[C],T=p[C]!==void 0?p[C]:g[C],E=Ai(T),D=C===f?N.isActive:null;D===!1&&(A=k);let j=T===g[C]&&T!==p[C]&&E;if(j&&o&&t.manuallyAnimateOnMount&&(j=!1),N.protectedKeys={...b},!N.isActive&&D===null||!T&&!N.prevProp||Ps(T)||typeof T=="boolean")continue;const R=Vg(N.prevProp,T);let B=R||C===f&&N.isActive&&!j&&E||k>A&&E,Y=!1;const Q=Array.isArray(T)?T:[T];let U=Q.reduce(a(C),{});D===!1&&(U={});const{prevResolvedValues:G={}}=N,me={...G,...U},ie=ae=>{B=!0,y.has(ae)&&(Y=!0,y.delete(ae)),N.needsAnimating[ae]=!0;const $=t.getValue(ae);$&&($.liveStyle=!1)};for(const ae in me){const $=U[ae],Pe=G[ae];if(b.hasOwnProperty(ae))continue;let q=!1;Xo($)&&Xo(Pe)?q=!Xu($,Pe):q=$!==Pe,q?$!=null?ie(ae):y.add(ae):$!==void 0&&y.has(ae)?ie(ae):N.protectedKeys[ae]=!0}N.prevProp=T,N.prevResolvedValues=U,N.isActive&&(b={...b,...U}),o&&t.blockInitialAnimation&&(B=!1);const he=j&&R;B&&(!he||Y)&&v.push(...Q.map(ae=>{const $={type:C};if(typeof ae=="string"&&o&&!he&&t.manuallyAnimateOnMount&&t.parent){const{parent:Pe}=t,q=Zn(Pe,ae);if(Pe.enteringChildren&&q){const{delayChildren:I}=q.transition||{};$.delay=Ku(Pe.enteringChildren,t,I)}}return{animation:ae,options:$}}))}if(y.size){const k={};if(typeof p.initial!="boolean"){const C=Zn(t,Array.isArray(p.initial)?p.initial[0]:p.initial);C&&C.transition&&(k.transition=C.transition)}y.forEach(C=>{const N=t.getBaseTarget(C),T=t.getValue(C);T&&(T.liveStyle=!0),k[C]=N??null}),v.push({animation:k})}let w=!!v.length;return o&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(w=!1),o=!1,w?n(v):Promise.resolve()}function d(f,p){var v;if(s[f].isActive===p)return Promise.resolve();(v=t.variantChildren)==null||v.forEach(y=>{var b;return(b=y.animationState)==null?void 0:b.setActive(f,p)}),s[f].isActive=p;const g=l(f);for(const y in s)s[y].protectedKeys={};return g}return{animateChanges:l,setActive:d,setAnimateFunction:u,getState:()=>s,reset:()=>{s=Pl()}}}function Vg(t,n){return typeof n=="string"?n!==t:Array.isArray(n)?!Xu(n,t):!1}function hn(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Pl(){return{animate:hn(!0),whileInView:hn(),whileHover:hn(),whileTap:hn(),whileDrag:hn(),whileFocus:hn(),exit:hn()}}class sn{constructor(n){this.isMounted=!1,this.node=n}update(){}}class Zg extends sn{constructor(n){super(n),n.animationState||(n.animationState=Fg(n))}updateAnimationControlsSubscription(){const{animate:n}=this.node.getProps();Ps(n)&&(this.unmountControls=n.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:n}=this.node.getProps(),{animate:s}=this.node.prevProps||{};n!==s&&this.updateAnimationControlsSubscription()}unmount(){var n;this.node.animationState.reset(),(n=this.unmountControls)==null||n.call(this)}}let Wg=0;class Hg extends sn{constructor(){super(...arguments),this.id=Wg++}update(){if(!this.node.presenceContext)return;const{isPresent:n,onExitComplete:s}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||n===o)return;const a=this.node.animationState.setActive("exit",!n);s&&!n&&a.then(()=>{s(this.id)})}mount(){const{register:n,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),n&&(this.unmount=n(this.id))}unmount(){}}const Gg={animation:{Feature:Zg},exit:{Feature:Hg}};function Pi(t,n,s,o={passive:!0}){return t.addEventListener(n,s,o),()=>t.removeEventListener(n,s)}function Ni(t){return{point:{x:t.pageX,y:t.pageY}}}const Jg=t=>n=>Mr(n)&&t(n,Ni(n));function vi(t,n,s,o){return Pi(t,n,Jg(s),o)}const Yu=1e-4,Ug=1-Yu,$g=1+Yu,Qu=.01,Kg=0-Qu,Xg=0+Qu;function lt(t){return t.max-t.min}function qg(t,n,s){return Math.abs(t-n)<=s}function kl(t,n,s,o=.5){t.origin=o,t.originPoint=Fe(n.min,n.max,t.origin),t.scale=lt(s)/lt(n),t.translate=Fe(s.min,s.max,t.origin)-t.originPoint,(t.scale>=Ug&&t.scale<=$g||isNaN(t.scale))&&(t.scale=1),(t.translate>=Kg&&t.translate<=Xg||isNaN(t.translate))&&(t.translate=0)}function _i(t,n,s,o){kl(t.x,n.x,s.x,o?o.originX:void 0),kl(t.y,n.y,s.y,o?o.originY:void 0)}function Ml(t,n,s){t.min=s.min+n.min,t.max=t.min+lt(n)}function Yg(t,n,s){Ml(t.x,n.x,s.x),Ml(t.y,n.y,s.y)}function Dl(t,n,s){t.min=n.min-s.min,t.max=t.min+lt(n)}function xi(t,n,s){Dl(t.x,n.x,s.x),Dl(t.y,n.y,s.y)}function vt(t){return[t("x"),t("y")]}const ed=({current:t})=>t?t.ownerDocument.defaultView:null,Ll=(t,n)=>Math.abs(t-n);function Qg(t,n){const s=Ll(t.x,n.x),o=Ll(t.y,n.y);return Math.sqrt(s**2+o**2)}class td{constructor(n,s,{transformPagePoint:o,contextWindow:a=window,dragSnapToOrigin:u=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=So(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,A=Qg(y.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!A)return;const{point:w}=y,{timestamp:k}=nt;this.history.push({...w,timestamp:k});const{onStart:C,onMove:N}=this.handlers;b||(C&&C(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),N&&N(this.lastMoveEvent,y)},this.handlePointerMove=(y,b)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=bo(b,this.transformPagePoint),Oe.update(this.updatePoint,!0)},this.handlePointerUp=(y,b)=>{this.end();const{onEnd:A,onSessionEnd:w,resumeAnimation:k}=this.handlers;if(this.dragSnapToOrigin&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=So(y.type==="pointercancel"?this.lastMoveEventInfo:bo(b,this.transformPagePoint),this.history);this.startEvent&&A&&A(y,C),w&&w(y,C)},!Mr(n))return;this.dragSnapToOrigin=u,this.handlers=s,this.transformPagePoint=o,this.distanceThreshold=l,this.contextWindow=a||window;const d=Ni(n),f=bo(d,this.transformPagePoint),{point:p}=f,{timestamp:g}=nt;this.history=[{...p,timestamp:g}];const{onSessionStart:v}=s;v&&v(n,So(f,this.history)),this.removeListeners=Di(vi(this.contextWindow,"pointermove",this.handlePointerMove),vi(this.contextWindow,"pointerup",this.handlePointerUp),vi(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(n){this.handlers=n}end(){this.removeListeners&&this.removeListeners(),tn(this.updatePoint)}}function bo(t,n){return n?{point:n(t.point)}:t}function El(t,n){return{x:t.x-n.x,y:t.y-n.y}}function So({point:t},n){return{point:t,delta:El(t,nd(n)),offset:El(t,ey(n)),velocity:ty(n,.1)}}function ey(t){return t[0]}function nd(t){return t[t.length-1]}function ty(t,n){if(t.length<2)return{x:0,y:0};let s=t.length-1,o=null;const a=nd(t);for(;s>=0&&(o=t[s],!(a.timestamp-o.timestamp>Nt(n)));)s--;if(!o)return{x:0,y:0};const u=_t(a.timestamp-o.timestamp);if(u===0)return{x:0,y:0};const l={x:(a.x-o.x)/u,y:(a.y-o.y)/u};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function ny(t,{min:n,max:s},o){return n!==void 0&&t<n?t=o?Fe(n,t,o.min):Math.max(t,n):s!==void 0&&t>s&&(t=o?Fe(s,t,o.max):Math.min(t,s)),t}function Nl(t,n,s){return{min:n!==void 0?t.min+n:void 0,max:s!==void 0?t.max+s-(t.max-t.min):void 0}}function iy(t,{top:n,left:s,bottom:o,right:a}){return{x:Nl(t.x,s,a),y:Nl(t.y,n,o)}}function Il(t,n){let s=n.min-t.min,o=n.max-t.max;return n.max-n.min<t.max-t.min&&([s,o]=[o,s]),{min:s,max:o}}function sy(t,n){return{x:Il(t.x,n.x),y:Il(t.y,n.y)}}function oy(t,n){let s=.5;const o=lt(t),a=lt(n);return a>o?s=Si(n.min,n.max-o,t.min):o>a&&(s=Si(t.min,t.max-a,n.min)),Gt(0,1,s)}function ry(t,n){const s={};return n.min!==void 0&&(s.min=n.min-t.min),n.max!==void 0&&(s.max=n.max-t.min),s}const Qo=.35;function ay(t=Qo){return t===!1?t=0:t===!0&&(t=Qo),{x:Rl(t,"left","right"),y:Rl(t,"top","bottom")}}function Rl(t,n,s){return{min:jl(t,n),max:jl(t,s)}}function jl(t,n){return typeof t=="number"?t:t[n]||0}const ly=new WeakMap;class cy{constructor(n){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ue(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=n}start(n,{snapToCursor:s=!1,distanceThreshold:o}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const u=v=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(Ni(v).point)},l=(v,y)=>{const{drag:b,dragPropagation:A,onDragStart:w}=this.getProps();if(b&&!A&&(this.openDragLock&&this.openDragLock(),this.openDragLock=pp(b),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=y,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),vt(C=>{let N=this.getAxisMotionValue(C).get()||0;if(It.test(N)){const{projection:T}=this.visualElement;if(T&&T.layout){const E=T.layout.layoutBox[C];E&&(N=lt(E)*(parseFloat(N)/100))}}this.originPoint[C]=N}),w&&Oe.postRender(()=>w(v,y)),qo(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},d=(v,y)=>{this.latestPointerEvent=v,this.latestPanInfo=y;const{dragPropagation:b,dragDirectionLock:A,onDirectionLock:w,onDrag:k}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:C}=y;if(A&&this.currentDirection===null){this.currentDirection=uy(C),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",y.point,C),this.updateAxis("y",y.point,C),this.visualElement.render(),k&&k(v,y)},f=(v,y)=>{this.latestPointerEvent=v,this.latestPanInfo=y,this.stop(v,y),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>vt(v=>{var y;return this.getAnimationState(v)==="paused"&&((y=this.getAxisMotionValue(v).animation)==null?void 0:y.play())}),{dragSnapToOrigin:g}=this.getProps();this.panSession=new td(n,{onSessionStart:u,onStart:l,onMove:d,onSessionEnd:f,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:o,contextWindow:ed(this.visualElement)})}stop(n,s){const o=n||this.latestPointerEvent,a=s||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!a||!o)return;const{velocity:l}=a;this.startAnimation(l);const{onDragEnd:d}=this.getProps();d&&Oe.postRender(()=>d(o,a))}cancel(){this.isDragging=!1;const{projection:n,animationState:s}=this.visualElement;n&&(n.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:o}=this.getProps();!o&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(n,s,o){const{drag:a}=this.getProps();if(!o||!is(n,a,this.currentDirection))return;const u=this.getAxisMotionValue(n);let l=this.originPoint[n]+o[n];this.constraints&&this.constraints[n]&&(l=ny(l,this.constraints[n],this.elastic[n])),u.set(l)}resolveConstraints(){var u;const{dragConstraints:n,dragElastic:s}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(u=this.visualElement.projection)==null?void 0:u.layout,a=this.constraints;n&&On(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&o?this.constraints=iy(o.layoutBox,n):this.constraints=!1,this.elastic=ay(s),a!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&vt(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=ry(o.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:n,onMeasureDragConstraints:s}=this.getProps();if(!n||!On(n))return!1;const o=n.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const u=dg(o,a.root,this.visualElement.getTransformPagePoint());let l=sy(a.layout.layoutBox,u);if(s){const d=s(lg(l));this.hasMutatedConstraints=!!d,d&&(l=Bu(d))}return l}startAnimation(n){const{drag:s,dragMomentum:o,dragElastic:a,dragTransition:u,dragSnapToOrigin:l,onDragTransitionEnd:d}=this.getProps(),f=this.constraints||{},p=vt(g=>{if(!is(g,s,this.currentDirection))return;let v=f&&f[g]||{};l&&(v={min:0,max:0});const y=a?200:1e6,b=a?40:1e7,A={type:"inertia",velocity:o?n[g]:0,bounceStiffness:y,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...u,...v};return this.startAxisValueAnimation(g,A)});return Promise.all(p).then(d)}startAxisValueAnimation(n,s){const o=this.getAxisMotionValue(n);return qo(this.visualElement,n),o.start(Br(n,o,0,s,this.visualElement,!1))}stopAnimation(){vt(n=>this.getAxisMotionValue(n).stop())}pauseAnimation(){vt(n=>{var s;return(s=this.getAxisMotionValue(n).animation)==null?void 0:s.pause()})}getAnimationState(n){var s;return(s=this.getAxisMotionValue(n).animation)==null?void 0:s.state}getAxisMotionValue(n){const s=`_drag${n.toUpperCase()}`,o=this.visualElement.getProps(),a=o[s];return a||this.visualElement.getValue(n,(o.initial?o.initial[n]:void 0)||0)}snapToCursor(n){vt(s=>{const{drag:o}=this.getProps();if(!is(s,o,this.currentDirection))return;const{projection:a}=this.visualElement,u=this.getAxisMotionValue(s);if(a&&a.layout){const{min:l,max:d}=a.layout.layoutBox[s];u.set(n[s]-Fe(l,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:n,dragConstraints:s}=this.getProps(),{projection:o}=this.visualElement;if(!On(s)||!o||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};vt(l=>{const d=this.getAxisMotionValue(l);if(d&&this.constraints!==!1){const f=d.get();a[l]=oy({min:f,max:f},this.constraints[l])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",o.root&&o.root.updateScroll(),o.updateLayout(),this.resolveConstraints(),vt(l=>{if(!is(l,n,null))return;const d=this.getAxisMotionValue(l),{min:f,max:p}=this.constraints[l];d.set(Fe(f,p,a[l]))})}addListeners(){if(!this.visualElement.current)return;ly.set(this.visualElement,this);const n=this.visualElement.current,s=vi(n,"pointerdown",f=>{const{drag:p,dragListener:g=!0}=this.getProps();p&&g&&this.start(f)}),o=()=>{const{dragConstraints:f}=this.getProps();On(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,u=a.addEventListener("measure",o);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Oe.read(o);const l=Pi(window,"resize",()=>this.scalePositionWithinConstraints()),d=a.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p})=>{this.isDragging&&p&&(vt(g=>{const v=this.getAxisMotionValue(g);v&&(this.originPoint[g]+=f[g].translate,v.set(v.get()+f[g].translate))}),this.visualElement.render())});return()=>{l(),s(),u(),d&&d()}}getProps(){const n=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:o=!1,dragPropagation:a=!1,dragConstraints:u=!1,dragElastic:l=Qo,dragMomentum:d=!0}=n;return{...n,drag:s,dragDirectionLock:o,dragPropagation:a,dragConstraints:u,dragElastic:l,dragMomentum:d}}}function is(t,n,s){return(n===!0||n===t)&&(s===null||s===t)}function uy(t,n=10){let s=null;return Math.abs(t.y)>n?s="y":Math.abs(t.x)>n&&(s="x"),s}class dy extends sn{constructor(n){super(n),this.removeGroupControls=xt,this.removeListeners=xt,this.controls=new cy(n)}mount(){const{dragControls:n}=this.node.getProps();n&&(this.removeGroupControls=n.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||xt}unmount(){this.removeGroupControls(),this.removeListeners()}}const Ol=t=>(n,s)=>{t&&Oe.postRender(()=>t(n,s))};class hy extends sn{constructor(){super(...arguments),this.removePointerDownListener=xt}onPointerDown(n){this.session=new td(n,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ed(this.node)})}createPanHandlers(){const{onPanSessionStart:n,onPanStart:s,onPan:o,onPanEnd:a}=this.node.getProps();return{onSessionStart:Ol(n),onStart:Ol(s),onMove:o,onEnd:(u,l)=>{delete this.session,a&&Oe.postRender(()=>a(u,l))}}}mount(){this.removePointerDownListener=vi(this.node.current,"pointerdown",n=>this.onPointerDown(n))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const us={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function zl(t,n){return n.max===n.min?0:t/(n.max-n.min)*100}const ai={correct:(t,n)=>{if(!n.target)return t;if(typeof t=="string")if(re.test(t))t=parseFloat(t);else return t;const s=zl(t,n.target.x),o=zl(t,n.target.y);return`${s}% ${o}%`}},fy={correct:(t,{treeScale:n,projectionDelta:s})=>{const o=t,a=nn.parse(t);if(a.length>5)return o;const u=nn.createTransformer(t),l=typeof a[0]!="number"?1:0,d=s.x.scale*n.x,f=s.y.scale*n.y;a[0+l]/=d,a[1+l]/=f;const p=Fe(d,f,.5);return typeof a[2+l]=="number"&&(a[2+l]/=p),typeof a[3+l]=="number"&&(a[3+l]/=p),u(a)}};let wo=!1;class my extends x.Component{componentDidMount(){const{visualElement:n,layoutGroup:s,switchLayoutGroup:o,layoutId:a}=this.props,{projection:u}=n;jp(py),u&&(s.group&&s.group.add(u),o&&o.register&&a&&o.register(u),wo&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),us.hasEverUpdated=!0}getSnapshotBeforeUpdate(n){const{layoutDependency:s,visualElement:o,drag:a,isPresent:u}=this.props,{projection:l}=o;return l&&(l.isPresent=u,wo=!0,a||n.layoutDependency!==s||s===void 0||n.isPresent!==u?l.willUpdate():this.safeToRemove(),n.isPresent!==u&&(u?l.promote():l.relegate()||Oe.postRender(()=>{const d=l.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:n}=this.props.visualElement;n&&(n.root.didUpdate(),kr.postRender(()=>{!n.currentAnimation&&n.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:n,layoutGroup:s,switchLayoutGroup:o}=this.props,{projection:a}=n;wo=!0,a&&(a.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(a),o&&o.deregister&&o.deregister(a))}safeToRemove(){const{safeToRemove:n}=this.props;n&&n()}render(){return null}}function id(t){const[n,s]=Au(),o=x.useContext(rr);return m.jsx(my,{...t,layoutGroup:o,switchLayoutGroup:x.useContext(Ou),isPresent:n,safeToRemove:s})}const py={borderRadius:{...ai,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ai,borderTopRightRadius:ai,borderBottomLeftRadius:ai,borderBottomRightRadius:ai,boxShadow:fy};function gy(t,n,s){const o=rt(t)?t:Hn(t);return o.start(Br("",o,n,s)),o.animation}const yy=(t,n)=>t.depth-n.depth;class vy{constructor(){this.children=[],this.isDirty=!1}add(n){cr(this.children,n),this.isDirty=!0}remove(n){ur(this.children,n),this.isDirty=!0}forEach(n){this.isDirty&&this.children.sort(yy),this.isDirty=!1,this.children.forEach(n)}}function _y(t,n){const s=ut.now(),o=({timestamp:a})=>{const u=a-s;u>=n&&(tn(o),t(u-n))};return Oe.setup(o,!0),()=>tn(o)}const sd=["TopLeft","TopRight","BottomLeft","BottomRight"],xy=sd.length,Bl=t=>typeof t=="string"?parseFloat(t):t,Fl=t=>typeof t=="number"||re.test(t);function by(t,n,s,o,a,u){a?(t.opacity=Fe(0,s.opacity??1,Sy(o)),t.opacityExit=Fe(n.opacity??1,0,wy(o))):u&&(t.opacity=Fe(n.opacity??1,s.opacity??1,o));for(let l=0;l<xy;l++){const d=`border${sd[l]}Radius`;let f=Vl(n,d),p=Vl(s,d);if(f===void 0&&p===void 0)continue;f||(f=0),p||(p=0),f===0||p===0||Fl(f)===Fl(p)?(t[d]=Math.max(Fe(Bl(f),Bl(p),o),0),(It.test(p)||It.test(f))&&(t[d]+="%")):t[d]=p}(n.rotate||s.rotate)&&(t.rotate=Fe(n.rotate||0,s.rotate||0,o))}function Vl(t,n){return t[n]!==void 0?t[n]:t.borderRadius}const Sy=od(0,.5,Gc),wy=od(.5,.95,xt);function od(t,n,s){return o=>o<t?0:o>n?1:s(Si(t,n,o))}function Zl(t,n){t.min=n.min,t.max=n.max}function yt(t,n){Zl(t.x,n.x),Zl(t.y,n.y)}function Wl(t,n){t.translate=n.translate,t.scale=n.scale,t.originPoint=n.originPoint,t.origin=n.origin}function Hl(t,n,s,o,a){return t-=n,t=xs(t,1/s,o),a!==void 0&&(t=xs(t,1/a,o)),t}function Ty(t,n=0,s=1,o=.5,a,u=t,l=t){if(It.test(n)&&(n=parseFloat(n),n=Fe(l.min,l.max,n/100)-l.min),typeof n!="number")return;let d=Fe(u.min,u.max,o);t===u&&(d-=n),t.min=Hl(t.min,n,s,d,a),t.max=Hl(t.max,n,s,d,a)}function Gl(t,n,[s,o,a],u,l){Ty(t,n[s],n[o],n[a],n.scale,u,l)}const Ay=["x","scaleX","originX"],Cy=["y","scaleY","originY"];function Jl(t,n,s,o){Gl(t.x,n,Ay,s?s.x:void 0,o?o.x:void 0),Gl(t.y,n,Cy,s?s.y:void 0,o?o.y:void 0)}function Ul(t){return t.translate===0&&t.scale===1}function rd(t){return Ul(t.x)&&Ul(t.y)}function $l(t,n){return t.min===n.min&&t.max===n.max}function Py(t,n){return $l(t.x,n.x)&&$l(t.y,n.y)}function Kl(t,n){return Math.round(t.min)===Math.round(n.min)&&Math.round(t.max)===Math.round(n.max)}function ad(t,n){return Kl(t.x,n.x)&&Kl(t.y,n.y)}function Xl(t){return lt(t.x)/lt(t.y)}function ql(t,n){return t.translate===n.translate&&t.scale===n.scale&&t.originPoint===n.originPoint}class ky{constructor(){this.members=[]}add(n){cr(this.members,n),n.scheduleRender()}remove(n){if(ur(this.members,n),n===this.prevLead&&(this.prevLead=void 0),n===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(n){const s=this.members.findIndex(a=>n===a);if(s===0)return!1;let o;for(let a=s;a>=0;a--){const u=this.members[a];if(u.isPresent!==!1){o=u;break}}return o?(this.promote(o),!0):!1}promote(n,s){const o=this.lead;if(n!==o&&(this.prevLead=o,this.lead=n,n.show(),o)){o.instance&&o.scheduleRender(),n.scheduleRender(),n.resumeFrom=o,s&&(n.resumeFrom.preserveOpacity=!0),o.snapshot&&(n.snapshot=o.snapshot,n.snapshot.latestValues=o.animationValues||o.latestValues),n.root&&n.root.isUpdating&&(n.isLayoutDirty=!0);const{crossfade:a}=n.options;a===!1&&o.hide()}}exitAnimationComplete(){this.members.forEach(n=>{const{options:s,resumingFrom:o}=n;s.onExitComplete&&s.onExitComplete(),o&&o.options.onExitComplete&&o.options.onExitComplete()})}scheduleRender(){this.members.forEach(n=>{n.instance&&n.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function My(t,n,s){let o="";const a=t.x.translate/n.x,u=t.y.translate/n.y,l=(s==null?void 0:s.z)||0;if((a||u||l)&&(o=`translate3d(${a}px, ${u}px, ${l}px) `),(n.x!==1||n.y!==1)&&(o+=`scale(${1/n.x}, ${1/n.y}) `),s){const{transformPerspective:p,rotate:g,rotateX:v,rotateY:y,skewX:b,skewY:A}=s;p&&(o=`perspective(${p}px) ${o}`),g&&(o+=`rotate(${g}deg) `),v&&(o+=`rotateX(${v}deg) `),y&&(o+=`rotateY(${y}deg) `),b&&(o+=`skewX(${b}deg) `),A&&(o+=`skewY(${A}deg) `)}const d=t.x.scale*n.x,f=t.y.scale*n.y;return(d!==1||f!==1)&&(o+=`scale(${d}, ${f})`),o||"none"}const To=["","X","Y","Z"],Dy=1e3;let Ly=0;function Ao(t,n,s,o){const{latestValues:a}=n;a[t]&&(s[t]=a[t],n.setStaticValue(t,0),o&&(o[t]=0))}function ld(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:n}=t.options;if(!n)return;const s=Uu(n);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:a,layoutId:u}=t.options;window.MotionCancelOptimisedAnimation(s,"transform",Oe,!(a||u))}const{parent:o}=t;o&&!o.hasCheckedOptimisedAppear&&ld(o)}function cd({attachResizeListener:t,defaultParent:n,measureScroll:s,checkIsScrollRoot:o,resetTransform:a}){return class{constructor(l={},d=n==null?void 0:n()){this.id=Ly++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Iy),this.nodes.forEach(zy),this.nodes.forEach(By),this.nodes.forEach(Ry)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new vy)}addEventListener(l,d){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new fr),this.eventHandlers.get(l).add(d)}notifyListeners(l,...d){const f=this.eventHandlers.get(l);f&&f.notify(...d)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=Tu(l)&&!bp(l),this.instance=l;const{layoutId:d,layout:f,visualElement:p}=this.options;if(p&&!p.current&&p.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||d)&&(this.isLayoutDirty=!0),t){let g,v=0;const y=()=>this.root.updateBlockedByResize=!1;Oe.read(()=>{v=window.innerWidth}),t(l,()=>{const b=window.innerWidth;b!==v&&(v=b,this.root.updateBlockedByResize=!0,g&&g(),g=_y(y,250),us.hasAnimatedSinceResize&&(us.hasAnimatedSinceResize=!1,this.nodes.forEach(ec)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&p&&(d||f)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:v,hasRelativeLayoutChanged:y,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const A=this.options.transition||p.getDefaultTransition()||Hy,{onLayoutAnimationStart:w,onLayoutAnimationComplete:k}=p.getProps(),C=!this.targetLayout||!ad(this.targetLayout,b),N=!v&&y;if(this.options.layoutRoot||this.resumeFrom||N||v&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const T={...Cr(A,"layout"),onPlay:w,onComplete:k};(p.shouldReduceMotion||this.options.layoutRoot)&&(T.delay=0,T.type=!1),this.startAnimation(T),this.setAnimationOrigin(g,N)}else v||ec(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),tn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Fy),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&ld(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const v=this.path[g];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:d,layout:f}=this.options;if(d===void 0&&!f)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Yl);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Ql);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Oy),this.nodes.forEach(Ey),this.nodes.forEach(Ny)):this.nodes.forEach(Ql),this.clearAllSnapshots();const d=ut.now();nt.delta=Gt(0,1e3/60,d-nt.timestamp),nt.timestamp=d,nt.isProcessing=!0,fo.update.process(nt),fo.preRender.process(nt),fo.render.process(nt),nt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,kr.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(jy),this.sharedNodes.forEach(Vy)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Oe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Oe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!lt(this.snapshot.measuredBox.x)&&!lt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ue(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(d=!1),d&&this.instance){const f=o(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:f,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!a)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!rd(this.projectionDelta),f=this.getTransformTemplate(),p=f?f(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;l&&this.instance&&(d||gn(this.latestValues)||g)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const d=this.measurePageBox();let f=this.removeElementScroll(d);return l&&(f=this.removeTransform(f)),Gy(f),{animationId:this.root.animationId,measuredBox:d,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:l}=this.options;if(!l)return Ue();const d=l.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(Jy))){const{scroll:g}=this.root;g&&(zn(d.x,g.offset.x),zn(d.y,g.offset.y))}return d}removeElementScroll(l){var f;const d=Ue();if(yt(d,l),(f=this.scroll)!=null&&f.wasRoot)return d;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:v,options:y}=g;g!==this.root&&v&&y.layoutScroll&&(v.wasRoot&&yt(d,l),zn(d.x,v.offset.x),zn(d.y,v.offset.y))}return d}applyTransform(l,d=!1){const f=Ue();yt(f,l);for(let p=0;p<this.path.length;p++){const g=this.path[p];!d&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Bn(f,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),gn(g.latestValues)&&Bn(f,g.latestValues)}return gn(this.latestValues)&&Bn(f,this.latestValues),f}removeTransform(l){const d=Ue();yt(d,l);for(let f=0;f<this.path.length;f++){const p=this.path[f];if(!p.instance||!gn(p.latestValues))continue;Uo(p.latestValues)&&p.updateSnapshot();const g=Ue(),v=p.measurePageBox();yt(g,v),Jl(d,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return gn(this.latestValues)&&Jl(d,this.latestValues),d}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==nt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var y;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==d;if(!(l||f&&this.isSharedProjectionDirty||this.isProjectionDirty||(y=this.parent)!=null&&y.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:v}=this.options;if(!(!this.layout||!(g||v))){if(this.resolvedRelativeTargetAt=nt.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ue(),this.relativeTargetOrigin=Ue(),xi(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),yt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ue(),this.targetWithTransforms=Ue()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Yg(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):yt(this.target,this.layout.layoutBox),Vu(this.target,this.targetDelta)):yt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ue(),this.relativeTargetOrigin=Ue(),xi(this.relativeTargetOrigin,this.target,b.target),yt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Uo(this.parent.latestValues)||Fu(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var A;const l=this.getLead(),d=!!this.resumingFrom||this!==l;let f=!0;if((this.isProjectionDirty||(A=this.parent)!=null&&A.isProjectionDirty)&&(f=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===nt.timestamp&&(f=!1),f)return;const{layout:p,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||g))return;yt(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,y=this.treeScale.y;ug(this.layoutCorrected,this.treeScale,this.path,d),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Ue());const{target:b}=l;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Wl(this.prevProjectionDelta.x,this.projectionDelta.x),Wl(this.prevProjectionDelta.y,this.projectionDelta.y)),_i(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==y||!ql(this.projectionDelta.x,this.prevProjectionDelta.x)||!ql(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var d;if((d=this.options.visualElement)==null||d.scheduleRender(),l){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Fn(),this.projectionDelta=Fn(),this.projectionDeltaWithTransform=Fn()}setAnimationOrigin(l,d=!1){const f=this.snapshot,p=f?f.latestValues:{},g={...this.latestValues},v=Fn();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const y=Ue(),b=f?f.source:void 0,A=this.layout?this.layout.source:void 0,w=b!==A,k=this.getStack(),C=!k||k.members.length<=1,N=!!(w&&!C&&this.options.crossfade===!0&&!this.path.some(Wy));this.animationProgress=0;let T;this.mixTargetDelta=E=>{const D=E/1e3;tc(v.x,l.x,D),tc(v.y,l.y,D),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(xi(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Zy(this.relativeTarget,this.relativeTargetOrigin,y,D),T&&Py(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=Ue()),yt(T,this.relativeTarget)),w&&(this.animationValues=g,by(g,p,this.latestValues,D,N,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){var d,f,p;this.notifyListeners("animationStart"),(d=this.currentAnimation)==null||d.stop(),(p=(f=this.resumingFrom)==null?void 0:f.currentAnimation)==null||p.stop(),this.pendingAnimation&&(tn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Oe.update(()=>{us.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Hn(0)),this.currentAnimation=gy(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:g=>{this.mixTargetDelta(g),l.onUpdate&&l.onUpdate(g)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Dy),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:d,target:f,layout:p,latestValues:g}=l;if(!(!d||!f||!p)){if(this!==l&&this.layout&&p&&ud(this.options.animationType,this.layout.layoutBox,p.layoutBox)){f=this.target||Ue();const v=lt(this.layout.layoutBox.x);f.x.min=l.target.x.min,f.x.max=f.x.min+v;const y=lt(this.layout.layoutBox.y);f.y.min=l.target.y.min,f.y.max=f.y.min+y}yt(d,f),Bn(d,g),_i(this.projectionDeltaWithTransform,this.layoutCorrected,d,g)}}registerSharedNode(l,d){this.sharedNodes.has(l)||this.sharedNodes.set(l,new ky),this.sharedNodes.get(l).add(d);const p=d.options.initialPromotionConfig;d.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(d):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var d;const{layoutId:l}=this.options;return l?((d=this.getStack())==null?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:l}=this.options;return l?(d=this.getStack())==null?void 0:d.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:d,preserveFollowOpacity:f}={}){const p=this.getStack();p&&p.promote(this,f),l&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let d=!1;const{latestValues:f}=l;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(d=!0),!d)return;const p={};f.z&&Ao("z",l,p,this.animationValues);for(let g=0;g<To.length;g++)Ao(`rotate${To[g]}`,l,p,this.animationValues),Ao(`skew${To[g]}`,l,p,this.animationValues);l.render();for(const g in p)l.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);l.scheduleRender()}applyProjectionStyles(l,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=cs(d==null?void 0:d.pointerEvents)||"",l.transform=f?f(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=cs(d==null?void 0:d.pointerEvents)||""),this.hasProjected&&!gn(this.latestValues)&&(l.transform=f?f({},""):"none",this.hasProjected=!1);return}l.visibility="";const g=p.animationValues||p.latestValues;this.applyTransformsToTarget();let v=My(this.projectionDeltaWithTransform,this.treeScale,g);f&&(v=f(g,v)),l.transform=v;const{x:y,y:b}=this.projectionDelta;l.transformOrigin=`${y.origin*100}% ${b.origin*100}% 0`,p.animationValues?l.opacity=p===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:l.opacity=p===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const A in Ci){if(g[A]===void 0)continue;const{correct:w,applyTo:k,isCSSVariable:C}=Ci[A],N=v==="none"?g[A]:w(g[A],p);if(k){const T=k.length;for(let E=0;E<T;E++)l[k[E]]=N}else C?this.options.visualElement.renderState.vars[A]=N:l[A]=N}this.options.layoutId&&(l.pointerEvents=p===this?cs(d==null?void 0:d.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var d;return(d=l.currentAnimation)==null?void 0:d.stop()}),this.root.nodes.forEach(Yl),this.root.sharedNodes.clear()}}}function Ey(t){t.updateLayout()}function Ny(t){var s;const n=((s=t.resumeFrom)==null?void 0:s.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:o,measuredBox:a}=t.layout,{animationType:u}=t.options,l=n.source!==t.layout.source;u==="size"?vt(v=>{const y=l?n.measuredBox[v]:n.layoutBox[v],b=lt(y);y.min=o[v].min,y.max=y.min+b}):ud(u,n.layoutBox,o)&&vt(v=>{const y=l?n.measuredBox[v]:n.layoutBox[v],b=lt(o[v]);y.max=y.min+b,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+b)});const d=Fn();_i(d,o,n.layoutBox);const f=Fn();l?_i(f,t.applyTransform(a,!0),n.measuredBox):_i(f,o,n.layoutBox);const p=!rd(d);let g=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:y,layout:b}=v;if(y&&b){const A=Ue();xi(A,n.layoutBox,y.layoutBox);const w=Ue();xi(w,o,b.layoutBox),ad(A,w)||(g=!0),v.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=A,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:o,snapshot:n,delta:f,layoutDelta:d,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(t.isLead()){const{onExitComplete:o}=t.options;o&&o()}t.options.transition=void 0}function Iy(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Ry(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function jy(t){t.clearSnapshot()}function Yl(t){t.clearMeasurements()}function Ql(t){t.isLayoutDirty=!1}function Oy(t){const{visualElement:n}=t.options;n&&n.getProps().onBeforeLayoutMeasure&&n.notify("BeforeLayoutMeasure"),t.resetTransform()}function ec(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function zy(t){t.resolveTargetDelta()}function By(t){t.calcProjection()}function Fy(t){t.resetSkewAndRotation()}function Vy(t){t.removeLeadSnapshot()}function tc(t,n,s){t.translate=Fe(n.translate,0,s),t.scale=Fe(n.scale,1,s),t.origin=n.origin,t.originPoint=n.originPoint}function nc(t,n,s,o){t.min=Fe(n.min,s.min,o),t.max=Fe(n.max,s.max,o)}function Zy(t,n,s,o){nc(t.x,n.x,s.x,o),nc(t.y,n.y,s.y,o)}function Wy(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Hy={duration:.45,ease:[.4,0,.1,1]},ic=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),sc=ic("applewebkit/")&&!ic("chrome/")?Math.round:xt;function oc(t){t.min=sc(t.min),t.max=sc(t.max)}function Gy(t){oc(t.x),oc(t.y)}function ud(t,n,s){return t==="position"||t==="preserve-aspect"&&!qg(Xl(n),Xl(s),.2)}function Jy(t){var n;return t!==t.root&&((n=t.scroll)==null?void 0:n.wasRoot)}const Uy=cd({attachResizeListener:(t,n)=>Pi(t,"resize",n),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Co={current:void 0},dd=cd({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Co.current){const t=new Uy({});t.mount(window),t.setOptions({layoutScroll:!0}),Co.current=t}return Co.current},resetTransform:(t,n)=>{t.style.transform=n!==void 0?n:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),$y={pan:{Feature:hy},drag:{Feature:dy,ProjectionNode:dd,MeasureLayout:id}};function rc(t,n,s){const{props:o}=t;t.animationState&&o.whileHover&&t.animationState.setActive("whileHover",s==="Start");const a="onHover"+s,u=o[a];u&&Oe.postRender(()=>u(n,Ni(n)))}class Ky extends sn{mount(){const{current:n}=this.node;n&&(this.unmount=gp(n,(s,o)=>(rc(this.node,o,"Start"),a=>rc(this.node,a,"End"))))}unmount(){}}class Xy extends sn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let n=!1;try{n=this.node.current.matches(":focus-visible")}catch{n=!0}!n||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Di(Pi(this.node.current,"focus",()=>this.onFocus()),Pi(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function ac(t,n,s){const{props:o}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&o.whileTap&&t.animationState.setActive("whileTap",s==="Start");const a="onTap"+(s==="End"?"":s),u=o[a];u&&Oe.postRender(()=>u(n,Ni(n)))}class qy extends sn{mount(){const{current:n}=this.node;n&&(this.unmount=xp(n,(s,o)=>(ac(this.node,o,"Start"),(a,{success:u})=>ac(this.node,a,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const er=new WeakMap,Po=new WeakMap,Yy=t=>{const n=er.get(t.target);n&&n(t)},Qy=t=>{t.forEach(Yy)};function e0({root:t,...n}){const s=t||document;Po.has(s)||Po.set(s,{});const o=Po.get(s),a=JSON.stringify(n);return o[a]||(o[a]=new IntersectionObserver(Qy,{root:t,...n})),o[a]}function t0(t,n,s){const o=e0(n);return er.set(t,s),o.observe(t),()=>{er.delete(t),o.unobserve(t)}}const n0={some:0,all:1};class i0 extends sn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:n={}}=this.node.getProps(),{root:s,margin:o,amount:a="some",once:u}=n,l={root:s?s.current:void 0,rootMargin:o,threshold:typeof a=="number"?a:n0[a]},d=f=>{const{isIntersecting:p}=f;if(this.isInView===p||(this.isInView=p,u&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:v}=this.node.getProps(),y=p?g:v;y&&y(f)};return t0(this.node.current,l,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:n,prevProps:s}=this.node;["amount","margin","root"].some(s0(n,s))&&this.startObserver()}unmount(){}}function s0({viewport:t={}},{viewport:n={}}={}){return s=>t[s]!==n[s]}const o0={inView:{Feature:i0},tap:{Feature:qy},focus:{Feature:Xy},hover:{Feature:Ky}},r0={layout:{ProjectionNode:dd,MeasureLayout:id}},a0={...Gg,...o0,...$y,...r0},it=ag(a0,xg);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l0=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],hd=Ee("calendar",l0);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c0=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],u0=Ee("chevron-right",c0);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d0=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Ms=Ee("clipboard-list",d0);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h0=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],fd=Ee("clock",h0);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f0=[["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["circle",{cx:"12",cy:"12",r:"8",key:"46899m"}]],md=Ee("cog",f0);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m0=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],pd=Ee("copy",m0);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p0=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],g0=Ee("eye-off",p0);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y0=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],gd=Ee("eye",y0);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v0=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],ds=Ee("folder",v0);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _0=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],yd=Ee("globe",_0);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x0=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],b0=Ee("info",x0);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S0=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}]],vd=Ee("list-checks",S0);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w0=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],T0=Ee("loader-circle",w0);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A0=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],C0=Ee("log-out",A0);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P0=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],k0=Ee("map",P0);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M0=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],lc=Ee("maximize-2",M0);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D0=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],L0=Ee("menu",D0);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E0=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Fr=Ee("search",E0);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N0=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],bs=Ee("settings",N0);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I0=[["path",{d:"M10 5H3",key:"1qgfaw"}],["path",{d:"M12 19H3",key:"yhmn1j"}],["path",{d:"M14 3v4",key:"1sua03"}],["path",{d:"M16 17v4",key:"1q0r14"}],["path",{d:"M21 12h-9",key:"1o4lsq"}],["path",{d:"M21 19h-5",key:"1rlt1p"}],["path",{d:"M21 5h-7",key:"1oszz2"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M8 12H3",key:"a7s4jb"}]],R0=Ee("sliders-horizontal",I0);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],_d=Ee("square-check-big",j0);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],xd=Ee("square-x",O0);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z0=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],bd=Ee("star",z0);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B0=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ds=Ee("triangle-alert",B0);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F0=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Sd=Ee("user-cog",F0);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V0=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ls=Ee("users",V0);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z0=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],wd=Ee("x",Z0),W0=({allResources:t,calloutGroups:n,onStart:s})=>{const[o,a]=x.useState(""),u=o?t.filter(d=>d.calloutGroup===o):[],l=!o;return m.jsx(it.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"fixed inset-0 z-[10000] flex items-center justify-center bg-black/60 backdrop-blur-sm",children:m.jsxs("div",{className:"w-full max-w-3xl mx-auto rounded-2xl bg-white shadow-2xl border border-gray-200 p-8",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[m.jsx("div",{className:"h-10 w-10 flex items-center justify-center rounded-full bg-blue-600 text-white",children:m.jsx(Ls,{size:20})}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Select Callout List"}),m.jsx("p",{className:"text-xs text-gray-600",children:"Choose a callout group to begin the workflow."})]})]}),m.jsxs("div",{className:"mb-6",children:[m.jsx("label",{className:"text-xs font-semibold text-gray-700",children:"Callout Group"}),m.jsxs("select",{className:"mt-1 w-full px-3 py-2 text-sm border rounded-lg",value:o,onChange:d=>{a(d.target.value)},children:[m.jsx("option",{value:"",children:"Select group"}),n.map(d=>m.jsx("option",{value:d,children:d},d))]})]}),o&&m.jsxs("div",{className:"mb-6 text-sm text-gray-700 border rounded-lg bg-gray-50 px-4 py-3",children:[m.jsx("b",{children:u.length})," resources in this callout group."]}),m.jsx("div",{className:"flex justify-end",children:m.jsxs("button",{onClick:()=>s(o),disabled:l,className:`
              inline-flex items-center gap-2 px-4 py-2 text-sm rounded-lg 
              text-white bg-blue-600 hover:bg-blue-700
              disabled:bg-gray-300 disabled:cursor-not-allowed
            `,children:["Continue",m.jsx(u0,{size:16})]})})]})})},yn=JSON.parse('[{"taskId":"RG-AB30001","division":"Admin","taskStatus":"Not Assigned (ACT)","pwa":"ZB-ALPHA-12","taskType":"Admin Review","primarySkill":"ADMIN1","capabilities":["ADMIN1"],"importanceScore":97,"msc":"Y","taskCreated":"Mon 6 Jan, 10:40 AM","groupCode":"Admin Group","systemType":"FSM","employeeId":"T6344","resourceName":"Dylan Lewis","asset":"OFF-8247","assetName":"Document Verification Queue","commitmentDate":"Fri 7 Jan, 1:15 PM","commitmentType":"Complete By","arrivedAtDate":"","domain":"CF","estimatedDuration":150,"lastProgression":"On Site","category":"Administration","description":"Administration task for broadband/FTTP service in local area.","responseCode":"AD02","postCode":"CF44 8AU","appointmentStartDate":"","linkedTask":"","customerAddress":"","expectedStartDate":"Sat 7 Jan, 8:15 AM","expectedFinishDate":"Wed 8 Jan, 10:45 AM","externalQueueId":"EXT-441440","workId":"WK-790218","estimateNumber":"EST-55784","startDate":"","lat":51.70832,"lng":-3.44613,"expectedWindow":"8am10:30am","history":[]},{"taskId":"RG-AB30002","division":"Service Delivery","taskStatus":"Assigned (ACT)","pwa":"ZB-OMEGA-09","taskType":"Survey","primarySkill":"RISDN2","capabilities":["RISDN2"],"importanceScore":45,"msc":"Y","taskCreated":"Thu 7 Jan, 10:40 AM","groupCode":"Service Delivery","systemType":"NW","employeeId":"T7690","resourceName":"John Edwards","asset":"MH-5541","assetName":"Route Survey Node","commitmentDate":"Fri 10 Jan, 3:30 PM","commitmentType":"Future","arrivedAtDate":"","domain":"MN","estimatedDuration":90,"lastProgression":"On Site","category":"Survey","description":"Survey task for broadband/FTTP service in local area.","responseCode":"SH05","postCode":"CF44 7IW","appointmentStartDate":"","linkedTask":"","customerAddress":"111 Hirwaun Road, Aberdare","expectedStartDate":"Sat 8 Jan, 10:40 AM","expectedFinishDate":"Thu 11 Jan, 11:10 AM","externalQueueId":"EXT-441998","workId":"WK-729320","estimateNumber":"EST-55739","startDate":"","lat":51.70624,"lng":-3.44051,"expectedWindow":"10am11:30am","history":[]},{"taskId":"RG-AB30003","division":"Service Delivery","taskStatus":"Dispatched (AWI)","pwa":"ZB-ALPHA-02","taskType":"Repair","primarySkill":"RISDN2","capabilities":["RISDN2"],"importanceScore":90,"msc":"N","taskCreated":"Wed 11 Jan, 10:40 AM","groupCode":"Service Delivery","systemType":"OR","employeeId":"T6721","resourceName":"Ryan Jenkins","asset":"CAB-8837","assetName":"DP Pole","commitmentDate":"Wed 13 Jan, 11:20 AM","commitmentType":"Future","arrivedAtDate":"Thu 11 Jan, 8:15 AM","domain":"SE","estimatedDuration":120,"lastProgression":"On Site","category":"Repair","description":"Repair task for broadband/FTTP service in local area.","responseCode":"SH03","postCode":"CF44 7SL","appointmentStartDate":"","linkedTask":"","customerAddress":"108 Victoria Street, Aberdare","expectedStartDate":"Sat 11 Jan, 8:15 AM","expectedFinishDate":"Wed 14 Jan, 10:15 AM","externalQueueId":"EXT-441215","workId":"WK-703093","estimateNumber":"EST-55777","startDate":"Sat 11 Jan, 8:15 AM","lat":51.7204,"lng":-3.44196,"expectedWindow":"8am10am","history":[]},{"taskId":"RG-AB30004","division":"Complex Engineering","taskStatus":"Accepted (ISS)","pwa":"ZB-GAMMA-05","taskType":"Survey","primarySkill":"RFTTP1","capabilities":["RFTTP1"],"importanceScore":54,"msc":"Y","taskCreated":"Fri 3 Jan, 3:30 PM","groupCode":"Complex Engineering","systemType":"NW","employeeId":"T8224","resourceName":"Nia Brown","asset":"AS-1941","assetName":"Joint Box","commitmentDate":"Mon 5 Jan, 8:15 AM","commitmentType":"Start By","arrivedAtDate":"Mon 6 Jan, 4:10 PM","domain":"CF","estimatedDuration":45,"lastProgression":"Completed","category":"Survey","description":"Survey task for broadband/FTTP service in local area.","responseCode":"SH01","postCode":"CF44 6IQ","appointmentStartDate":"","linkedTask":"","customerAddress":"28 Aberaman Road, Aberdare","expectedStartDate":"Wed 7 Jan, 3:30 PM","expectedFinishDate":"Fri 10 Jan, 4:15 PM","externalQueueId":"EXT-441801","workId":"WK-746808","estimateNumber":"EST-55786","startDate":"Wed 7 Jan, 3:30 PM","lat":51.70576,"lng":-3.43954,"expectedWindow":"3pm3:45pm","history":[]},{"taskId":"RG-AB30005","division":"Admin","taskStatus":"In Progress (EXC)","pwa":"ZB-OMEGA-06","taskType":"Admin Review","primarySkill":"ADMIN2","capabilities":["ADMIN2"],"importanceScore":64,"msc":"Y","taskCreated":"Fri 13 Jan, 9:05 AM","groupCode":"Admin Group","systemType":"OR","employeeId":"T7544","resourceName":"Harvey Rees","asset":"OFF-3588","assetName":"Document Verification Queue","commitmentDate":"Sat 15 Jan, 3:30 PM","commitmentType":"Complete By","arrivedAtDate":"Wed 16 Jan, 11:20 AM","domain":"SE","estimatedDuration":60,"lastProgression":"Accepted","category":"Administration","description":"Administration task for broadband/FTTP service in local area.","responseCode":"AD02","postCode":"CF44 7NZ","appointmentStartDate":"","linkedTask":"","customerAddress":"","expectedStartDate":"Thu 16 Jan, 11:20 AM","expectedFinishDate":"Fri 19 Jan, 12:20 PM","externalQueueId":"EXT-441383","workId":"WK-734734","estimateNumber":"EST-55767","startDate":"Thu 16 Jan, 11:20 AM","lat":51.70775,"lng":-3.44796,"expectedWindow":"11am12pm","history":[]},{"taskId":"RG-AB30006","division":"Admin","taskStatus":"Completed (COM)","pwa":"ZB-GAMMA-07","taskType":"Admin Review","primarySkill":"ADMIN1","capabilities":["ADMIN1"],"importanceScore":56,"msc":"Y","taskCreated":"Thu 10 Jan, 9:05 AM","groupCode":"Admin Group","systemType":"FSM","employeeId":"T5414","resourceName":"Ffion Davies","asset":"OFF-8718","assetName":"Admin Processing Queue","commitmentDate":"Fri 13 Jan, 11:20 AM","commitmentType":"Appointment","arrivedAtDate":"Sat 16 Jan, 4:10 PM","domain":"MN","estimatedDuration":90,"lastProgression":"Completed","category":"Administration","description":"Administration task for broadband/FTTP service in local area.","responseCode":"AD01","postCode":"CF44 7TJ","appointmentStartDate":"Sun 16 Jan, 8:15 AM","linkedTask":"","customerAddress":"","expectedStartDate":"Sat 16 Jan, 8:15 AM","expectedFinishDate":"Thu 19 Jan, 9:45 AM","externalQueueId":"EXT-441404","workId":"WK-728071","estimateNumber":"EST-55763","startDate":"Sat 16 Jan, 8:15 AM","lat":51.70737,"lng":-3.45195,"expectedWindow":"8am9:30am","history":[]},{"taskId":"RG-AB30007","division":"Complex Engineering","taskStatus":"Not Assigned (ACT)","pwa":"ZB-DELTA-07","taskType":"Survey","primarySkill":"ADMIN1","capabilities":["ADMIN1"],"importanceScore":74,"msc":"Y","taskCreated":"Mon 12 Jan, 8:15 AM","groupCode":"Complex Engineering","systemType":"OR","employeeId":"T1258","resourceName":"Nia Hughes","asset":"CAB-1922","assetName":"Route Survey Node","commitmentDate":"Tue 14 Jan, 2:00 PM","commitmentType":"Complete By","arrivedAtDate":"","domain":"SE","estimatedDuration":120,"lastProgression":"En Route","category":"Survey","description":"Survey task for broadband/FTTP service in local area.","responseCode":"SH05","postCode":"CF44 6XQ","appointmentStartDate":"","linkedTask":"","customerAddress":"75 Cardiff Road, Aberdare","expectedStartDate":"Fri 14 Jan, 2:00 PM","expectedFinishDate":"Sun 17 Jan, 4:00 PM","externalQueueId":"EXT-441499","workId":"WK-781809","estimateNumber":"EST-55797","startDate":"","lat":51.71928,"lng":-3.44445,"expectedWindow":"2pm4pm","history":[]},{"taskId":"RG-AB30008","division":"Service Delivery","taskStatus":"Assigned (ACT)","pwa":"ZB-GAMMA-10","taskType":"Emergency","primarySkill":"RISDN3","capabilities":["RISDN3"],"importanceScore":89,"msc":"N","taskCreated":"Sat 8 Jan, 10:40 AM","groupCode":"Service Delivery","systemType":"OR","employeeId":"T9306","resourceName":"Ryan Lewis","asset":"AS-4107","assetName":"Backhaul Joint","commitmentDate":"Tue 10 Jan, 2:00 PM","commitmentType":"Future","arrivedAtDate":"","domain":"MN","estimatedDuration":90,"lastProgression":"On Site","category":"Emergency","description":"Emergency task for broadband/FTTP service in local area.","responseCode":"SH01","postCode":"CF44 8IN","appointmentStartDate":"","linkedTask":"RG-AB30003","customerAddress":"63 Brook Street, Aberdare","expectedStartDate":"Thu 10 Jan, 2:00 PM","expectedFinishDate":"Sun 13 Jan, 3:30 PM","externalQueueId":"EXT-441318","workId":"WK-764130","estimateNumber":"EST-55734","startDate":"","lat":51.70599,"lng":-3.44795,"expectedWindow":"2pm3:30pm","history":[]},{"taskId":"RG-AB30009","division":"Service Delivery","taskStatus":"Dispatched (AWI)","pwa":"ZB-ALPHA-06","taskType":"Emergency","primarySkill":"RISDN1","capabilities":["RISDN1"],"importanceScore":77,"msc":"Y","taskCreated":"Wed 8 Jan, 7:30 AM","groupCode":"Service Delivery","systemType":"OR","employeeId":"T2730","resourceName":"Nia Edwards","asset":"AS-1363","assetName":"Backhaul Joint","commitmentDate":"Thu 10 Jan, 7:30 AM","commitmentType":"Appointment","arrivedAtDate":"Thu 10 Jan, 11:20 AM","domain":"SE","estimatedDuration":150,"lastProgression":"On Site","category":"Emergency","description":"Emergency task for broadband/FTTP service in local area.","responseCode":"SH01","postCode":"CF44 7MH","appointmentStartDate":"Fri 10 Jan, 7:30 AM","linkedTask":"RG-AB30006","customerAddress":"71 Gadlys Road, Aberdare","expectedStartDate":"Fri 10 Jan, 7:30 AM","expectedFinishDate":"Sun 13 Jan, 10:00 AM","externalQueueId":"EXT-441511","workId":"WK-797851","estimateNumber":"EST-55735","startDate":"Fri 10 Jan, 7:30 AM","lat":51.7155,"lng":-3.45247,"expectedWindow":"7am9:30am","history":[]},{"taskId":"RG-AB30010","division":"Complex Engineering","taskStatus":"Accepted (ISS)","pwa":"ZB-DELTA-05","taskType":"Inspection","primarySkill":"RISDN3","capabilities":["RISDN3"],"importanceScore":97,"msc":"Y","taskCreated":"Tue 11 Jan, 4:10 PM","groupCode":"Complex Engineering","systemType":"FSM","employeeId":"T9864","resourceName":"Nia Jenkins","asset":"AS-5489","assetName":"Distribution Point","commitmentDate":"Tue 13 Jan, 2:00 PM","commitmentType":"Appointment","arrivedAtDate":"Thu 15 Jan, 11:20 AM","domain":"MN","estimatedDuration":90,"lastProgression":"On Site","category":"Inspection","description":"Inspection task for broadband/FTTP service in local area.","responseCode":"SH04","postCode":"CF44 8JK","appointmentStartDate":"Thu 15 Jan, 2:00 PM","linkedTask":"","customerAddress":"91 Robertstown Road, Aberdare","expectedStartDate":"Thu 15 Jan, 2:00 PM","expectedFinishDate":"Sat 18 Jan, 3:30 PM","externalQueueId":"EXT-441812","workId":"WK-728959","estimateNumber":"EST-55777","startDate":"Thu 15 Jan, 2:00 PM","lat":51.70787,"lng":-3.44639,"expectedWindow":"2pm3:30pm","history":[]},{"taskId":"RG-AB30011","division":"Admin","taskStatus":"In Progress (EXC)","pwa":"ZB-OMEGA-02","taskType":"Admin Review","primarySkill":"ADMIN2","capabilities":["ADMIN2"],"importanceScore":45,"msc":"Y","taskCreated":"Wed 3 Jan, 10:40 AM","groupCode":"Admin Group","systemType":"FSM","employeeId":"T8103","resourceName":"Rhys Hughes","asset":"OFF-7322","assetName":"Document Verification Queue","commitmentDate":"Thu 5 Jan, 2:00 PM","commitmentType":"Appointment","arrivedAtDate":"Fri 8 Jan, 11:20 AM","domain":"CF","estimatedDuration":60,"lastProgression":"Completed","category":"Administration","description":"Administration task for broadband/FTTP service in local area.","responseCode":"AD01","postCode":"CF44 7JR","appointmentStartDate":"Sat 8 Jan, 2:00 PM","linkedTask":"RG-AB30003","customerAddress":"","expectedStartDate":"Sat 8 Jan, 2:00 PM","expectedFinishDate":"Tue 11 Jan, 3:00 PM","externalQueueId":"EXT-441888","workId":"WK-775917","estimateNumber":"EST-55728","startDate":"Sat 8 Jan, 2:00 PM","lat":51.7254,"lng":-3.50534,"expectedWindow":"2pm3pm","history":[]},{"taskId":"RG-AB30012","division":"Complex Engineering","taskStatus":"Completed (COM)","pwa":"ZB-ALPHA-04","taskType":"Inspection","primarySkill":"RFTTP2","capabilities":["RFTTP2"],"importanceScore":49,"msc":"Y","taskCreated":"Sat 11 Jan, 9:05 AM","groupCode":"Complex Engineering","systemType":"NW","employeeId":"T8443","resourceName":"Lowri Jenkins","asset":"AS-8859","assetName":"Distribution Point","commitmentDate":"Sat 14 Jan, 1:15 PM","commitmentType":"Complete By","arrivedAtDate":"Mon 16 Jan, 4:10 PM","domain":"MN","estimatedDuration":90,"lastProgression":"Completed","category":"Inspection","description":"Inspection task for broadband/FTTP service in local area.","responseCode":"SH05","postCode":"CF44 7DZ","appointmentStartDate":"","linkedTask":"RG-AB30007","customerAddress":"109 High Street, Aberdare","expectedStartDate":"Tue 16 Jan, 4:10 PM","expectedFinishDate":"Fri 19 Jan, 5:40 PM","externalQueueId":"EXT-441590","workId":"WK-758165","estimateNumber":"EST-55792","startDate":"Tue 16 Jan, 4:10 PM","lat":51.72091,"lng":-3.52057,"expectedWindow":"4pm5:30pm","history":[]},{"taskId":"RG-AB30013","division":"Service Delivery","taskStatus":"Not Assigned (ACT)","pwa":"ZB-ALPHA-04","taskType":"Inspection","primarySkill":"RISDN2","capabilities":["RISDN2"],"importanceScore":82,"msc":"Y","taskCreated":"Tue 7 Jan, 10:40 AM","groupCode":"Service Delivery","systemType":"NW","employeeId":"T9526","resourceName":"Lauren Evans","asset":"AS-9446","assetName":"Underground Joint Chamber","commitmentDate":"Wed 9 Jan, 11:20 AM","commitmentType":"Appointment","arrivedAtDate":"","domain":"CF","estimatedDuration":120,"lastProgression":"On Site","category":"Inspection","description":"Inspection task for broadband/FTTP service in local area.","responseCode":"SH01","postCode":"CF44 6EV","appointmentStartDate":"Thu 9 Jan, 11:20 AM","linkedTask":"RG-AB30003","customerAddress":"81 Cardiff Road, Aberdare","expectedStartDate":"Thu 9 Jan, 11:20 AM","expectedFinishDate":"Sun 12 Jan, 1:20 PM","externalQueueId":"EXT-441954","workId":"WK-790116","estimateNumber":"EST-55766","startDate":"","lat":51.72224,"lng":-3.51289,"expectedWindow":"11am1pm","history":[]},{"taskId":"RG-AB30014","division":"Complex Engineering","taskStatus":"Assigned (ACT)","pwa":"ZB-GAMMA-02","taskType":"Emergency","primarySkill":"RISDN3","capabilities":["RISDN3"],"importanceScore":88,"msc":"N","taskCreated":"Wed 13 Jan, 9:05 AM","groupCode":"Complex Engineering","systemType":"OR","employeeId":"T5309","resourceName":"Aled Evans","asset":"AS-9906","assetName":"Priority Splice Enclosure","commitmentDate":"Thu 16 Jan, 11:20 AM","commitmentType":"Appointment","arrivedAtDate":"","domain":"CF","estimatedDuration":90,"lastProgression":"Allocated","category":"Emergency","description":"Emergency task for broadband/FTTP service in local area.","responseCode":"SH05","postCode":"CF44 7AV","appointmentStartDate":"Fri 16 Jan, 11:20 AM","linkedTask":"","customerAddress":"77 Canon Street, Aberdare","expectedStartDate":"Fri 16 Jan, 11:20 AM","expectedFinishDate":"Mon 19 Jan, 12:50 PM","externalQueueId":"EXT-441587","workId":"WK-785274","estimateNumber":"EST-55720","startDate":"","lat":51.71383,"lng":-3.44986,"expectedWindow":"11am12:30pm","history":[]},{"taskId":"RG-AB30015","division":"Service Delivery","taskStatus":"Dispatched (AWI)","pwa":"ZB-GAMMA-04","taskType":"Repair","primarySkill":"RISDN1","capabilities":["RISDN1"],"importanceScore":76,"msc":"N","taskCreated":"Sat 3 Jan, 7:30 AM","groupCode":"Service Delivery","systemType":"OR","employeeId":"T8571","resourceName":"Ffion Hughes","asset":"AS-8163","assetName":"Drop Wire","commitmentDate":"Mon 6 Jan, 9:05 AM","commitmentType":"Complete By","arrivedAtDate":"Wed 8 Jan, 10:40 AM","domain":"SE","estimatedDuration":60,"lastProgression":"Completed","category":"Repair","description":"Repair task for broadband/FTTP service in local area.","responseCode":"SH05","postCode":"CF44 8BQ","appointmentStartDate":"","linkedTask":"","customerAddress":"86 Albert Street, Aberdare","expectedStartDate":"Thu 8 Jan, 10:40 AM","expectedFinishDate":"Sun 11 Jan, 11:40 AM","externalQueueId":"EXT-441968","workId":"WK-703787","estimateNumber":"EST-55733","startDate":"Thu 8 Jan, 10:40 AM","lat":51.71159,"lng":-3.44429,"expectedWindow":"10am11am","history":[]},{"taskId":"RG-AB30016","division":"Complex Engineering","taskStatus":"Accepted (ISS)","pwa":"ZB-ALPHA-02","taskType":"Survey","primarySkill":"RFTTP1","capabilities":["RFTTP1"],"importanceScore":60,"msc":"Y","taskCreated":"Tue 5 Jan, 2:00 PM","groupCode":"Complex Engineering","systemType":"NW","employeeId":"T7749","resourceName":"Ryan Morgan","asset":"MH-8437","assetName":"Manhole Access Point","commitmentDate":"Wed 7 Jan, 3:30 PM","commitmentType":"Start By","arrivedAtDate":"Thu 9 Jan, 11:20 AM","domain":"MN","estimatedDuration":150,"lastProgression":"On Site","category":"Survey","description":"Survey task for broadband/FTTP service in local area.","responseCode":"SH05","postCode":"CF44 8WX","appointmentStartDate":"","linkedTask":"","customerAddress":"44 Commercial Street, Aberdare","expectedStartDate":"Thu 9 Jan, 11:20 AM","expectedFinishDate":"Sun 12 Jan, 1:50 PM","externalQueueId":"EXT-441720","workId":"WK-723933","estimateNumber":"EST-55754","startDate":"Thu 9 Jan, 11:20 AM","lat":51.71966,"lng":-3.44275,"expectedWindow":"11am1:30pm","history":[]},{"taskId":"RG-AB30017","division":"Admin","taskStatus":"In Progress (EXC)","pwa":"ZB-OMEGA-01","taskType":"Admin Review","primarySkill":"ADMIN2","capabilities":["ADMIN2"],"importanceScore":86,"msc":"Y","taskCreated":"Wed 7 Jan, 1:15 PM","groupCode":"Admin Group","systemType":"OR","employeeId":"T9344","resourceName":"Lauren Roberts","asset":"OFF-4090","assetName":"Admin Processing Queue","commitmentDate":"Thu 9 Jan, 3:30 PM","commitmentType":"Future","arrivedAtDate":"Sat 11 Jan, 11:20 AM","domain":"SE","estimatedDuration":40,"lastProgression":"Allocated","category":"Administration","description":"Administration task for broadband/FTTP service in local area.","responseCode":"AD02","postCode":"CF44 8PT","appointmentStartDate":"","linkedTask":"","customerAddress":"","expectedStartDate":"Sun 11 Jan, 11:20 AM","expectedFinishDate":"Wed 14 Jan, 12:00 PM","externalQueueId":"EXT-441249","workId":"WK-705434","estimateNumber":"EST-55758","startDate":"Sun 11 Jan, 11:20 AM","lat":51.7063,"lng":-3.50452,"expectedWindow":"11am12pm","history":[]},{"taskId":"RG-AB30018","division":"Service Delivery","taskStatus":"Completed (COM)","pwa":"ZB-OMEGA-11","taskType":"Emergency","primarySkill":"RISDN1","capabilities":["RISDN1"],"importanceScore":68,"msc":"Y","taskCreated":"Wed 9 Jan, 1:15 PM","groupCode":"Service Delivery","systemType":"OR","employeeId":"T9810","resourceName":"Ffion Smith","asset":"AS-7197","assetName":"Priority Splice Enclosure","commitmentDate":"Fri 11 Jan, 2:00 PM","commitmentType":"Future","arrivedAtDate":"Sun 13 Jan, 8:15 AM","domain":"CF","estimatedDuration":150,"lastProgression":"Completed","category":"Emergency","description":"Emergency task for broadband/FTTP service in local area.","responseCode":"SH01","postCode":"CF44 7WA","appointmentStartDate":"","linkedTask":"","customerAddress":"29 Robertstown Road, Aberdare","expectedStartDate":"Mon 13 Jan, 8:15 AM","expectedFinishDate":"Thu 16 Jan, 10:45 AM","externalQueueId":"EXT-441790","workId":"WK-772532","estimateNumber":"EST-55737","startDate":"Mon 13 Jan, 8:15 AM","lat":51.70622,"lng":-3.5041,"expectedWindow":"8am10:30am","history":[]},{"taskId":"RG-AB30019","division":"Admin","taskStatus":"Assigned (ACT)","pwa":"ZB-GAMMA-09","taskType":"Admin Review","primarySkill":"ADMIN2","capabilities":["ADMIN2"],"importanceScore":71,"msc":"N","taskCreated":"Thu 13 Jan, 11:20 AM","groupCode":"Admin Group","systemType":"NW","employeeId":"T6541","resourceName":"Chloe Jenkins","asset":"OFF-1456","assetName":"Document Verification Queue","commitmentDate":"Fri 15 Jan, 2:00 PM","commitmentType":"Appointment","arrivedAtDate":"","domain":"SE","estimatedDuration":60,"lastProgression":"On Site","category":"Administration","description":"Administration task for broadband/FTTP service in local area.","responseCode":"AD02","postCode":"CF44 7XT","appointmentStartDate":"Sat 15 Jan, 2:00 PM","linkedTask":"","customerAddress":"","expectedStartDate":"Sat 15 Jan, 2:00 PM","expectedFinishDate":"Tue 18 Jan, 3:00 PM","externalQueueId":"EXT-441495","workId":"WK-765705","estimateNumber":"EST-55794","startDate":"","lat":51.70445,"lng":-3.4997,"expectedWindow":"2pm3pm","history":[]},{"taskId":"RG-AB30020","division":"Service Delivery","taskStatus":"Dispatched (AWI)","pwa":"ZB-GAMMA-10","taskType":"Repair","primarySkill":"RISDN3","capabilities":["RISDN3"],"importanceScore":31,"msc":"Y","taskCreated":"Thu 5 Jan, 2:00 PM","groupCode":"Service Delivery","systemType":"OR","employeeId":"T9129","resourceName":"Chloe Hughes","asset":"CAB-1198","assetName":"Copper Joint Enclosure","commitmentDate":"Sat 7 Jan, 3:30 PM","commitmentType":"Start By","arrivedAtDate":"Sun 9 Jan, 10:40 AM","domain":"SE","estimatedDuration":45,"lastProgression":"Completed","category":"Repair","description":"Repair task for broadband/FTTP service in local area.","responseCode":"SH03","postCode":"CF44 7KB","appointmentStartDate":"","linkedTask":"RG-AB30018","customerAddress":"118 Cardiff Road, Aberdare","expectedStartDate":"Mon 9 Jan, 10:40 AM","expectedFinishDate":"Thu 12 Jan, 11:25 AM","externalQueueId":"EXT-441992","workId":"WK-731785","estimateNumber":"EST-55771","startDate":"Mon 9 Jan, 10:40 AM","lat":51.72207,"lng":-3.5099,"expectedWindow":"10am11:15am","history":[]},{"taskId":"RG-AB30021","division":"Complex Engineering","taskStatus":"Accepted (ISS)","pwa":"ZB-ALPHA-10","taskType":"Survey","primarySkill":"RFTTP1","capabilities":["RFTTP1"],"importanceScore":68,"msc":"Y","taskCreated":"Fri 9 Jan, 8:15 AM","groupCode":"Complex Engineering","systemType":"FSM","employeeId":"T7859","resourceName":"Tomos Hughes","asset":"AS-6348","assetName":"Route Survey Node","commitmentDate":"Sun 11 Jan, 3:30 PM","commitmentType":"Complete By","arrivedAtDate":"Mon 13 Jan, 11:20 AM","domain":"CF","estimatedDuration":90,"lastProgression":"Scheduled","category":"Survey","description":"Survey task for broadband/FTTP service in local area.","responseCode":"SH03","postCode":"CF44 6US","appointmentStartDate":"","linkedTask":"","customerAddress":"16 Brook Street, Aberdare","expectedStartDate":"Mon 13 Jan, 11:20 AM","expectedFinishDate":"Thu 16 Jan, 12:50 PM","externalQueueId":"EXT-441467","workId":"WK-716640","estimateNumber":"EST-55776","startDate":"Mon 13 Jan, 11:20 AM","lat":51.71882,"lng":-3.4518,"expectedWindow":"11am12:30pm","history":[]},{"taskId":"RG-AB30022","division":"Service Delivery","taskStatus":"Not Assigned (ACT)","pwa":"ZB-DELTA-10","taskType":"Inspection","primarySkill":"RISDN3","capabilities":["RISDN3"],"importanceScore":69,"msc":"Y","taskCreated":"Mon 10 Jan, 9:05 AM","groupCode":"Service Delivery","systemType":"NW","employeeId":"T3909","resourceName":"Chloe Hughes","asset":"AS-7695","assetName":"Underground Joint Chamber","commitmentDate":"Tue 12 Jan, 1:15 PM","commitmentType":"Appointment","arrivedAtDate":"","domain":"MN","estimatedDuration":90,"lastProgression":"Allocated","category":"Inspection","description":"Inspection task for broadband/FTTP service in local area.","responseCode":"SH01","postCode":"CF44 7TT","appointmentStartDate":"Wed 12 Jan, 1:15 PM","linkedTask":"","customerAddress":"40 Cardif Road, Aberdare","expectedStartDate":"Wed 12 Jan, 1:15 PM","expectedFinishDate":"Sat 15 Jan, 2:45 PM","externalQueueId":"EXT-441413","workId":"WK-783470","estimateNumber":"EST-55797","startDate":"","lat":51.71277,"lng":-3.44368,"expectedWindow":"1pm2:30pm","history":[]},{"taskId":"RG-AB30023","division":"Admin","taskStatus":"Assigned (ACT)","pwa":"ZB-DELTA-03","taskType":"Admin Review","primarySkill":"ADMIN1","capabilities":["ADMIN1"],"importanceScore":71,"msc":"Y","taskCreated":"Wed 13 Jan, 4:10 PM","groupCode":"Admin Group","systemType":"OR","employeeId":"T9772","resourceName":"Rhys Thomas","asset":"OFF-3119","assetName":"Admin Processing Queue","commitmentDate":"Fri 15 Jan, 1:15 PM","commitmentType":"Future","arrivedAtDate":"","domain":"MN","estimatedDuration":40,"lastProgression":"Scheduled","category":"Administration","description":"Administration task for broadband/FTTP service in local area.","responseCode":"AD02","postCode":"CF44 7ZV","appointmentStartDate":"","linkedTask":"RG-AB30010","customerAddress":"","expectedStartDate":"Sat 15 Jan, 1:15 PM","expectedFinishDate":"Tue 18 Jan, 1:55 PM","externalQueueId":"EXT-441695","workId":"WK-736499","estimateNumber":"EST-55740","startDate":"","lat":51.70499,"lng":-3.44123,"expectedWindow":"1pm1:40pm","history":[]},{"taskId":"RG-AB30024","division":"Complex Engineering","taskStatus":"Dispatched (AWI)","pwa":"ZB-GAMMA-04","taskType":"Emergency","primarySkill":"RFTTP2","capabilities":["RFTTP2"],"importanceScore":90,"msc":"N","taskCreated":"Sat 7 Jan, 7:30 AM","groupCode":"Complex Engineering","systemType":"OR","employeeId":"T6493","resourceName":"Tomos Hughes","asset":"AS-8145","assetName":"Core Node Cabinet","commitmentDate":"Sun 9 Jan, 8:15 AM","commitmentType":"Start By","arrivedAtDate":"Tue 11 Jan, 9:05 AM","domain":"MN","estimatedDuration":90,"lastProgression":"On Site","category":"Emergency","description":"Emergency task for broadband/FTTP service in local area.","responseCode":"SH03","postCode":"CF44 8ER","appointmentStartDate":"","linkedTask":"RG-AB30002","customerAddress":"96 Aberaman Road, Aberdare","expectedStartDate":"Tue 11 Jan, 9:05 AM","expectedFinishDate":"Fri 14 Jan, 10:35 AM","externalQueueId":"EXT-441684","workId":"WK-766702","estimateNumber":"EST-55764","startDate":"Tue 11 Jan, 9:05 AM","lat":51.7206,"lng":-3.4474,"expectedWindow":"9am10:30am","history":[]},{"taskId":"RG-AB30025","division":"Service Delivery","taskStatus":"Accepted (ISS)","pwa":"ZB-DELTA-09","taskType":"Inspection","primarySkill":"RISDN1","capabilities":["RISDN1"],"importanceScore":45,"msc":"N","taskCreated":"Thu 6 Jan, 10:40 AM","groupCode":"Service Delivery","systemType":"FSM","employeeId":"T6815","resourceName":"Chloe Hughes","asset":"AS-4500","assetName":"Underground Joint Chamber","commitmentDate":"Sat 8 Jan, 11:20 AM","commitmentType":"Appointment","arrivedAtDate":"Sun 10 Jan, 4:10 PM","domain":"SE","estimatedDuration":120,"lastProgression":"Allocated","category":"Inspection","description":"Inspection task for broadband/FTTP service in local area.","responseCode":"SH04","postCode":"CF44 8KO","appointmentStartDate":"Mon 10 Jan, 11:20 AM","linkedTask":"RG-AB30010","customerAddress":"32 Cwmbach Road, Aberdare","expectedStartDate":"Mon 10 Jan, 11:20 AM","expectedFinishDate":"Thu 13 Jan, 1:20 PM","externalQueueId":"EXT-441842","workId":"WK-701053","estimateNumber":"EST-55742","startDate":"Mon 10 Jan, 11:20 AM","lat":51.70871,"lng":-3.51393,"expectedWindow":"11am1pm","history":[]},{"taskId":"RG-AB30026","division":"Admin","taskStatus":"In Progress (EXC)","pwa":"ZB-OMEGA-05","taskType":"Admin Review","primarySkill":"ADMIN1","capabilities":["ADMIN1"],"importanceScore":76,"msc":"N","taskCreated":"Tue 11 Jan, 1:15 PM","groupCode":"Admin Group","systemType":"NW","employeeId":"T8841","resourceName":"Steffan Hughes","asset":"OFF-5507","assetName":"Document Verification Queue","commitmentDate":"Thu 13 Jan, 2:00 PM","commitmentType":"Complete By","arrivedAtDate":"Fri 15 Jan, 2:00 PM","domain":"SE","estimatedDuration":60,"lastProgression":"Completed","category":"Administration","description":"Administration task for broadband/FTTP service in local area.","responseCode":"AD02","postCode":"CF44 8ZX","appointmentStartDate":"","linkedTask":"RG-AB30021","customerAddress":"","expectedStartDate":"Sat 15 Jan, 2:00 PM","expectedFinishDate":"Tue 18 Jan, 3:00 PM","externalQueueId":"EXT-441963","workId":"WK-794249","estimateNumber":"EST-55717","startDate":"Sat 15 Jan, 2:00 PM","lat":51.71019,"lng":-3.44802,"expectedWindow":"2pm3pm","history":[]},{"taskId":"RG-AB30027","division":"Service Delivery","taskStatus":"Completed (COM)","pwa":"ZB-GAMMA-09","taskType":"Repair","primarySkill":"RISDN3","capabilities":["RISDN3"],"importanceScore":70,"msc":"N","taskCreated":"Fri 8 Jan, 3:30 PM","groupCode":"Service Delivery","systemType":"OR","employeeId":"T9031","resourceName":"Carys Jones","asset":"AS-6004","assetName":"Drop Wire","commitmentDate":"Sun 10 Jan, 8:15 AM","commitmentType":"Complete By","arrivedAtDate":"Tue 12 Jan, 10:40 AM","domain":"CF","estimatedDuration":60,"lastProgression":"Completed","category":"Repair","description":"Repair task for broadband/FTTP service in local area.","responseCode":"SH01","postCode":"CF44 7ZQ","appointmentStartDate":"","linkedTask":"","customerAddress":"53 King Street, Aberdare","expectedStartDate":"Tue 12 Jan, 10:40 AM","expectedFinishDate":"Fri 15 Jan, 11:40 AM","externalQueueId":"EXT-441878","workId":"WK-730760","estimateNumber":"EST-55777","startDate":"Tue 12 Jan, 10:40 AM","lat":51.70939,"lng":-3.43749,"expectedWindow":"10am11am","history":[]},{"taskId":"RG-AB30028","division":"Complex Engineering","taskStatus":"Not Assigned (ACT)","pwa":"ZB-OMEGA-10","taskType":"Survey","primarySkill":"RFTTP2","capabilities":["RFTTP2"],"importanceScore":96,"msc":"Y","taskCreated":"Wed 6 Jan, 7:30 AM","groupCode":"Complex Engineering","systemType":"NW","employeeId":"T7833","resourceName":"Bethan Hughes","asset":"AS-6244","assetName":"Route Survey Node","commitmentDate":"Thu 8 Jan, 8:15 AM","commitmentType":"Start By","arrivedAtDate":"","domain":"MN","estimatedDuration":150,"lastProgression":"Allocated","category":"Survey","description":"Survey task for broadband/FTTP service in local area.","responseCode":"SH01","postCode":"CF44 6BZ","appointmentStartDate":"","linkedTask":"","customerAddress":"13 Maesyffynnon Terrace, Aberdare","expectedStartDate":"Fri 8 Jan, 8:15 AM","expectedFinishDate":"Mon 11 Jan, 10:45 AM","externalQueueId":"EXT-441114","workId":"WK-741322","estimateNumber":"EST-55718","startDate":"","lat":51.72907,"lng":-3.5087,"expectedWindow":"8am10:30am","history":[]},{"taskId":"RG-AB30029","division":"Service Delivery","taskStatus":"Assigned (ACT)","pwa":"ZB-ALPHA-03","taskType":"Inspection","primarySkill":"RISDN2","capabilities":["RISDN2"],"importanceScore":70,"msc":"Y","taskCreated":"Thu 11 Jan, 8:15 AM","groupCode":"Service Delivery","systemType":"FSM","employeeId":"T7794","resourceName":"Steffan James","asset":"AS-1291","assetName":"Distribution Point","commitmentDate":"Fri 13 Jan, 3:30 PM","commitmentType":"Appointment","arrivedAtDate":"","domain":"MN","estimatedDuration":90,"lastProgression":"En Route","category":"Inspection","description":"Inspection task for broadband/FTTP service in local area.","responseCode":"SH02","postCode":"CF44 6TK","appointmentStartDate":"Sat 13 Jan, 3:30 PM","linkedTask":"","customerAddress":"79 High Street, Aberdare","expectedStartDate":"Sat 13 Jan, 3:30 PM","expectedFinishDate":"Tue 16 Jan, 5:00 PM","externalQueueId":"EXT-441706","workId":"WK-708703","estimateNumber":"EST-55738","startDate":"","lat":51.7162,"lng":-3.45003,"expectedWindow":"3pm4:30pm","history":[]},{"taskId":"RG-AB30030","division":"Admin","taskStatus":"Dispatched (AWI)","pwa":"ZB-GAMMA-05","taskType":"Admin Review","primarySkill":"ADMIN2","capabilities":["ADMIN2"],"importanceScore":83,"msc":"Y","taskCreated":"Fri 8 Jan, 9:05 AM","groupCode":"Admin Group","systemType":"OR","employeeId":"T7728","resourceName":"Harvey Roberts","asset":"OFF-4119","assetName":"Admin Processing Queue","commitmentDate":"Sun 10 Jan, 1:15 PM","commitmentType":"Appointment","arrivedAtDate":"Tue 12 Jan, 4:10 PM","domain":"MN","estimatedDuration":40,"lastProgression":"On Site","category":"Administration","description":"Administration task for broadband/FTTP service in local area.","responseCode":"AD01","postCode":"CF44 7OD","appointmentStartDate":"Mon 10 Jan, 1:15 PM","linkedTask":"RG-AB30012","customerAddress":"","expectedStartDate":"Mon 10 Jan, 1:15 PM","expectedFinishDate":"Thu 13 Jan, 1:55 PM","externalQueueId":"EXT-441300","workId":"WK-719881","estimateNumber":"EST-55750","startDate":"Mon 10 Jan, 1:15 PM","lat":51.71655,"lng":-3.45119,"expectedWindow":"1pm1:40pm","history":[]},{"taskId":"RG-AB30031","division":"Complex Engineering","taskStatus":"Accepted (ISS)","pwa":"ZB-DELTA-06","taskType":"Survey","primarySkill":"RFTTP2","capabilities":["RFTTP2"],"importanceScore":85,"msc":"N","taskCreated":"Mon 3 Jan, 10:40 AM","groupCode":"Complex Engineering","systemType":"NW","employeeId":"T3673","resourceName":"Owain Roberts","asset":"AS-3212","assetName":"Route Survey Node","commitmentDate":"Tue 5 Jan, 11:20 AM","commitmentType":"Start By","arrivedAtDate":"Thu 7 Jan, 4:10 PM","domain":"SE","estimatedDuration":150,"lastProgression":"Completed","category":"Survey","description":"Survey task for broadband/FTTP service in local area.","responseCode":"SH02","postCode":"CF44 7ED","appointmentStartDate":"","linkedTask":"","customerAddress":"11 Commercial Street, Aberdare","expectedStartDate":"Thu 7 Jan, 4:10 PM","expectedFinishDate":"Sun 10 Jan, 6:40 PM","externalQueueId":"EXT-441744","workId":"WK-733281","estimateNumber":"EST-55731","startDate":"Thu 7 Jan, 4:10 PM","lat":51.7242,"lng":-3.51178,"expectedWindow":"4pm6:30pm","history":[]},{"taskId":"RG-AB30032","division":"Service Delivery","taskStatus":"In Progress (EXC)","pwa":"ZB-ALPHA-11","taskType":"Repair","primarySkill":"RISDN1","capabilities":["RISDN1"],"importanceScore":80,"msc":"Y","taskCreated":"Tue 4 Jan, 1:15 PM","groupCode":"Service Delivery","systemType":"OR","employeeId":"T4561","resourceName":"Chloe Price","asset":"AS-4599","assetName":"FTTC Cabinet","commitmentDate":"Thu 6 Jan, 2:00 PM","commitmentType":"Complete By","arrivedAtDate":"Fri 8 Jan, 8:15 AM","domain":"CF","estimatedDuration":90,"lastProgression":"On Site","category":"Repair","description":"Repair task for broadband/FTTP service in local area.","responseCode":"SH03","postCode":"CF44 8KL","appointmentStartDate":"","linkedTask":"","customerAddress":"22 Albert Street, Aberdare","expectedStartDate":"Sat 8 Jan, 8:15 AM","expectedFinishDate":"Tue 11 Jan, 9:45 AM","externalQueueId":"EXT-441728","workId":"WK-748868","estimateNumber":"EST-55729","startDate":"Sat 8 Jan, 8:15 AM","lat":51.71934,"lng":-3.44587,"expectedWindow":"8am9:30am","history":[]},{"taskId":"RG-AB30033","division":"Admin","taskStatus":"Completed (COM)","pwa":"ZB-DELTA-08","taskType":"Admin Review","primarySkill":"ADMIN1","capabilities":["ADMIN1"],"importanceScore":67,"msc":"Y","taskCreated":"Wed 10 Jan, 9:05 AM","groupCode":"Admin Group","systemType":"FSM","employeeId":"T5944","resourceName":"Steffan Price","asset":"OFF-4311","assetName":"Document Verification Queue","commitmentDate":"Fri 12 Jan, 1:15 PM","commitmentType":"Complete By","arrivedAtDate":"Sun 14 Jan, 2:00 PM","domain":"CF","estimatedDuration":60,"lastProgression":"Completed","category":"Administration","description":"Administration task for broadband/FTTP service in local area.","responseCode":"AD01","postCode":"CF44 7TR","appointmentStartDate":"","linkedTask":"RG-AB30024","customerAddress":"","expectedStartDate":"Mon 14 Jan, 2:00 PM","expectedFinishDate":"Thu 17 Jan, 3:00 PM","externalQueueId":"EXT-441332","workId":"WK-725196","estimateNumber":"EST-55750","startDate":"Mon 14 Jan, 2:00 PM","lat":51.71125,"lng":-3.44951,"expectedWindow":"2pm3pm","history":[]},{"taskId":"RG-AB30034","division":"Service Delivery","taskStatus":"Not Assigned (ACT)","pwa":"ZB-ALPHA-07","taskType":"Inspection","primarySkill":"RISDN3","capabilities":["RISDN3"],"importanceScore":51,"msc":"N","taskCreated":"Thu 9 Jan, 8:15 AM","groupCode":"Service Delivery","systemType":"OR","employeeId":"T5103","resourceName":"Rhys Thomas","asset":"AS-9476","assetName":"Underground Joint Chamber","commitmentDate":"Sat 11 Jan, 9:05 AM","commitmentType":"Future","arrivedAtDate":"","domain":"SE","estimatedDuration":90,"lastProgression":"Allocated","category":"Inspection","description":"Inspection task for broadband/FTTP service in local area.","responseCode":"SH02","postCode":"CF44 7DK","appointmentStartDate":"","linkedTask":"RG-AB30024","customerAddress":"62 High Street, Aberdare","expectedStartDate":"Sun 11 Jan, 9:05 AM","expectedFinishDate":"Wed 14 Jan, 10:35 AM","externalQueueId":"EXT-441935","workId":"WK-717714","estimateNumber":"EST-55793","startDate":"","lat":51.71377,"lng":-3.44688,"expectedWindow":"9am10:30am","history":[]},{"taskId":"RG-AB30035","division":"Complex Engineering","taskStatus":"Assigned (ACT)","pwa":"ZB-DELTA-02","taskType":"Survey","primarySkill":"RFTTP2","capabilities":["RFTTP2"],"importanceScore":58,"msc":"Y","taskCreated":"Fri 8 Jan, 1:15 PM","groupCode":"Complex Engineering","systemType":"NW","employeeId":"T6650","resourceName":"Carys Morgan","asset":"AS-4821","assetName":"Joint Box","commitmentDate":"Sun 10 Jan, 3:30 PM","commitmentType":"Start By","arrivedAtDate":"","domain":"CF","estimatedDuration":150,"lastProgression":"On Site","category":"Survey","description":"Survey task for broadband/FTTP service in local area.","responseCode":"SH02","postCode":"CF44 7RA","appointmentStartDate":"","linkedTask":"","customerAddress":"66 Brook Street, Aberdare","expectedStartDate":"Mon 10 Jan, 3:30 PM","expectedFinishDate":"Thu 13 Jan, 6:00 PM","externalQueueId":"EXT-441144","workId":"WK-711545","estimateNumber":"EST-55786","startDate":"","lat":51.7161,"lng":-3.44434,"expectedWindow":"3pm5:30pm","history":[]},{"taskId":"RG-AB30036","division":"Admin","taskStatus":"Dispatched (AWI)","pwa":"ZB-DELTA-01","taskType":"Admin Review","primarySkill":"ADMIN2","capabilities":["ADMIN2"],"importanceScore":62,"msc":"Y","taskCreated":"Sat 9 Jan, 9:05 AM","groupCode":"Admin Group","systemType":"OR","employeeId":"T7855","resourceName":"Steffan Jenkins","asset":"OFF-4023","assetName":"Admin Processing Queue","commitmentDate":"Mon 11 Jan, 1:15 PM","commitmentType":"Appointment","arrivedAtDate":"Wed 13 Jan, 2:00 PM","domain":"CF","estimatedDuration":40,"lastProgression":"Scheduled","category":"Administration","description":"Administration task for broadband/FTTP service in local area.","responseCode":"AD02","postCode":"CF44 8DW","appointmentStartDate":"Sun 11 Jan, 1:15 PM","linkedTask":"","customerAddress":"","expectedStartDate":"Sun 11 Jan, 1:15 PM","expectedFinishDate":"Wed 14 Jan, 1:55 PM","externalQueueId":"EXT-441939","workId":"WK-790818","estimateNumber":"EST-55733","startDate":"Sun 11 Jan, 1:15 PM","lat":51.70823,"lng":-3.50376,"expectedWindow":"1pm1:40pm","history":[]},{"taskId":"RG-AB30037","division":"Service Delivery","taskStatus":"Accepted (ISS)","pwa":"ZB-ALPHA-09","taskType":"Emergency","primarySkill":"RISDN3","capabilities":["RISDN3"],"importanceScore":92,"msc":"Y","taskCreated":"Sun 10 Jan, 8:15 AM","groupCode":"Service Delivery","systemType":"OR","employeeId":"T9012","resourceName":"Nia Davies","asset":"AS-5211","assetName":"Core Node Cabinet","commitmentDate":"Tue 12 Jan, 2:00 PM","commitmentType":"Tail","arrivedAtDate":"Wed 14 Jan, 11:20 AM","domain":"MN","estimatedDuration":150,"lastProgression":"En Route","category":"Emergency","description":"Emergency task for broadband/FTTP service in local area.","responseCode":"SH05","postCode":"CF44 7UU","appointmentStartDate":"","linkedTask":"RG-AB30032","customerAddress":"58 Cwmbach Road, Aberdare","expectedStartDate":"Thu 14 Jan, 11:20 AM","expectedFinishDate":"Sun 17 Jan, 1:50 PM","externalQueueId":"EXT-441306","workId":"WK-791918","estimateNumber":"EST-55790","startDate":"Thu 14 Jan, 11:20 AM","lat":51.71803,"lng":-3.44716,"expectedWindow":"11am1:30pm","history":[]},{"taskId":"RG-AB30038","division":"Complex Engineering","taskStatus":"In Progress (EXC)","pwa":"ZB-GAMMA-12","taskType":"Survey","primarySkill":"RFTTP1","capabilities":["RFTTP1"],"importanceScore":78,"msc":"N","taskCreated":"Mon 11 Jan, 9:05 AM","groupCode":"Complex Engineering","systemType":"NW","employeeId":"T6772","resourceName":"Owain James","asset":"AS-5987","assetName":"Manhole Access Point","commitmentDate":"Wed 13 Jan, 1:15 PM","commitmentType":"Start By","arrivedAtDate":"Thu 15 Jan, 10:40 AM","domain":"CF","estimatedDuration":150,"lastProgression":"On Site","category":"Survey","description":"Survey task for broadband/FTTP service in local area.","responseCode":"SH04","postCode":"CF44 7LV","appointmentStartDate":"","linkedTask":"RG-AB30024","customerAddress":"19 Canon Street, Aberdare","expectedStartDate":"Thu 15 Jan, 10:40 AM","expectedFinishDate":"Sun 18 Jan, 1:10 PM","externalQueueId":"EXT-441653","workId":"WK-744988","estimateNumber":"EST-55779","startDate":"Thu 15 Jan, 10:40 AM","lat":51.72651,"lng":-3.45205,"expectedWindow":"10am12:30pm","history":[]},{"taskId":"RG-AB30039","division":"Admin","taskStatus":"Completed (COM)","pwa":"ZB-ALPHA-01","taskType":"Admin Review","primarySkill":"ADMIN1","capabilities":["ADMIN1"],"importanceScore":63,"msc":"N","taskCreated":"Tue 12 Jan, 1:15 PM","groupCode":"Admin Group","systemType":"FSM","employeeId":"T7339","resourceName":"Harvey Price","asset":"OFF-6697","assetName":"Document Verification Queue","commitmentDate":"Thu 14 Jan, 3:30 PM","commitmentType":"Tail","arrivedAtDate":"Sat 16 Jan, 2:00 PM","domain":"MN","estimatedDuration":60,"lastProgression":"Completed","category":"Administration","description":"Administration task for broadband/FTTP service in local area.","responseCode":"AD02","postCode":"CF44 6TS","appointmentStartDate":"","linkedTask":"","customerAddress":"","expectedStartDate":"Sat 16 Jan, 2:00 PM","expectedFinishDate":"Tue 19 Jan, 3:00 PM","externalQueueId":"EXT-441923","workId":"WK-791162","estimateNumber":"EST-55748","startDate":"Sat 16 Jan, 2:00 PM","lat":51.7245,"lng":-3.44809,"expectedWindow":"2pm3pm","history":[]},{"taskId":"RG-AB30040","division":"Service Delivery","taskStatus":"Not Assigned (ACT)","pwa":"ZB-GAMMA-08","taskType":"Repair","primarySkill":"RISDN2","capabilities":["RISDN2"],"importanceScore":59,"msc":"Y","taskCreated":"Wed 13 Jan, 2:00 PM","groupCode":"Service Delivery","systemType":"OR","employeeId":"T6142","resourceName":"Ffion James","asset":"AS-6883","assetName":"FTTC Cabinet","commitmentDate":"Fri 15 Jan, 3:30 PM","commitmentType":"Future","arrivedAtDate":"","domain":"CF","estimatedDuration":110,"lastProgression":"Allocated","category":"Repair","description":"Repair task for broadband/FTTP service in local area.","responseCode":"SH04","postCode":"CF44 7QA","appointmentStartDate":"","linkedTask":"RG-AB30034","customerAddress":"88 Victoria Street, Aberdare","expectedStartDate":"Sat 15 Jan, 3:30 PM","expectedFinishDate":"Tue 18 Jan, 5:20 PM","externalQueueId":"EXT-441548","workId":"WK-742382","estimateNumber":"EST-55781","startDate":"","lat":51.71294,"lng":-3.44307,"expectedWindow":"3pm5:20pm","history":[]}]'),Td={Appointment:"#F59E0B","Start By":"#EC4899","Complete By":"#3B82F6",Future:"#10B981",Tail:"#6B7280"},tr={Available:"#10B981",Unavailable:"#EF4444","On Task":"#3B82F6",Default:"#6B7280"},Ad=36,Cd=50;function Pd(t,n){const s=H0(t,.35);return`
    <svg width="${Ad}" height="${Cd}" viewBox="0 0 40 56">
      ${n?`
        <rect x="1.5" y="1.5" width="37" height="53"
              rx="8" ry="8"
              fill="none"
              stroke="#DC2626"
              stroke-width="3" />`:""}

      <!-- Outer teardrop -->
      <path
        d="M20 2 C 11 2, 4 9, 4 18 C 4 29, 20 52, 20 52 C 20 52, 36 29, 36 18 C 36 9, 29 2, 20 2 Z"
        fill="#FFFFFF"
        stroke="#1F2937"
        stroke-width="2.5"
      />

      <!-- Inner coloured area (task commitment colour) -->
      <path
        d="M20 10 C 14 10, 9 15, 9 21 C 9 29, 20 44, 20 44 C 20 44, 31 29, 31 21 C 31 15, 26 10, 20 10 Z"
        fill="${t}"
        stroke="${s}"
        stroke-width="2.5"
      />
    </svg>
  `}function kd(t,n){const s=tr[t]||tr.Default;return`
    <svg width="${Ad}" height="${Cd}" viewBox="0 0 40 56">
      ${n?`
        <rect x="1.5" y="1.5" width="37" height="53"
              rx="8" ry="8"
              fill="none"
              stroke="#DC2626"
              stroke-width="3" />`:""}

      <!-- Outer teardrop -->
      <path
        d="M20 2 C 11 2, 4 9, 4 18 C 4 29, 20 52, 20 52 C 20 52, 36 29, 36 18 C 36 9, 29 2, 20 2 Z"
        fill="#FFFFFF"
        stroke="#1F2937"
        stroke-width="2.5"
      />

      <!-- Inner panel (light grey) to give contrast for the person icon -->
      <path
        d="M20 10 C 14 10, 9 15, 9 21 C 9 29, 20 44, 20 44 C 20 44, 31 29, 31 21 C 31 15, 26 10, 20 10 Z"
        fill="#E5E7EB"
        stroke="#D1D5DB"
        stroke-width="2"
      />

      <!-- Person / engineer silhouette -->
      <g transform="translate(8,6)" fill="#111827">
        <circle cx="12" cy="8" r="5.2" />
        <path d="M4.5 24.5c0-4.6 3.8-8.2 7.5-8.2s7.5 3.6 7.5 8.2v5.5H4.5v-5.5z" />
      </g>

      <!-- Status dot -->
      <circle
        cx="20"
        cy="39"
        r="5"
        fill="${s}"
        stroke="#FFFFFF"
        stroke-width="2"
      />
    </svg>
  `}function H0(t,n=.35){const s=t.replace("#",""),o=parseInt(s.substring(0,2),16),a=parseInt(s.substring(2,4),16),u=parseInt(s.substring(4,6),16);return`rgb(${Math.floor(o*(1-n))}, ${Math.floor(a*(1-n))}, ${Math.floor(u*(1-n))})`}function G0({visible:t,onClose:n}){return t?m.jsxs("div",{className:`
        absolute top-14 right-4 z-[9999]
        bg-white border border-gray-200
        rounded-xl shadow-lg p-4 w-72 text-sm
      `,children:[m.jsxs("div",{className:"flex justify-between items-center mb-3",children:[m.jsx("h2",{className:"font-semibold text-gray-800 text-sm",children:"Map Legend"}),m.jsx("button",{className:"text-gray-500 hover:text-gray-700",onClick:n,children:""})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("h3",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide mb-2",children:"Resources"}),m.jsx("div",{className:"space-y-3",children:Object.entries(tr).map(([s,o])=>m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"scale-75 origin-left",dangerouslySetInnerHTML:{__html:kd(s,!1)}}),m.jsx("span",{className:"text-gray-700 text-xs",children:s})]},s))})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide mb-2",children:"Tasks"}),m.jsx("div",{className:"space-y-3",children:Object.entries(Td).map(([s,o])=>m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"scale-75 origin-left",dangerouslySetInnerHTML:{__html:Pd(o,!1)}}),m.jsx("span",{className:"text-gray-700 text-xs",children:s})]},s))})]})]}):null}function cc(t){const n=t.match(/\(([^)]+)\)/);return n?n[1]:""}function uc(t){return[...t].sort((n,s)=>{const o=cc(n),a=cc(s);return o===a?n.localeCompare(s):o.localeCompare(a)})}const J0=({mode:t="task-default",onSearch:n,onClear:s,dropdownData:o,resetKey:a,hideActions:u})=>{const[l,d]=x.useState({statuses:[],pwa:[],capabilities:[],commitmentTypes:[],responseCodes:[],impCondition:"",impValue:""}),[f,p]=x.useState(null),g=x.useRef(null),[v,y]=x.useState({statuses:"",pwa:"",capabilities:"",commitmentTypes:"",responseCodes:"",resourceStatuses:""});x.useEffect(()=>{d({statuses:[],pwa:[],capabilities:[],commitmentTypes:[],responseCodes:[],impCondition:"",impValue:""}),y({statuses:"",pwa:"",capabilities:"",commitmentTypes:"",responseCodes:"",resourceStatuses:""}),p(null)},[a]),x.useEffect(()=>{const G=me=>{g.current&&(g.current.contains(me.target)||p(null))};return document.addEventListener("mousedown",G),()=>document.removeEventListener("mousedown",G)},[]),x.useEffect(()=>{u&&n(l)},[l,u,n]);const b=G=>G??[],A=(G,me)=>G.filter(ie=>ie.toLowerCase().includes(me.toLowerCase())),w={statuses:A(uc(b(o.statuses)),v.statuses),pwa:A(b(o.pwa),v.pwa),capabilities:A(b(o.capabilities),v.capabilities),commitmentTypes:A(b(o.commitmentTypes),v.commitmentTypes),responseCodes:A(b(o.responseCodes),v.responseCodes),resourceStatuses:A(uc(b(o.resourceStatuses)),v.resourceStatuses)},k=(G,me)=>{d(ie=>{const he=Array.isArray(ie[G])?ie[G]:[],ae=he.includes(me)?he.filter($=>$!==me):[...he,me];return{...ie,[G]:ae}})},C=(G,me)=>{d(ie=>{const de=(Array.isArray(ie[G])?ie[G]:[]).length===me.length&&me.length>0;return{...ie,[G]:de?[]:[...me]}})},N=G=>m.jsx("div",{className:"font-semibold text-[11px] text-gray-700 mb-1",children:G}),T=m.jsx(Nn,{id:"statuses",label:"Task Status",options:w.statuses,selected:l.statuses,openDropdown:f,setOpenDropdown:p,query:v,setQuery:y,onToggle:G=>k("statuses",G),onSelectAll:()=>C("statuses",w.statuses)}),E=m.jsx(Nn,{id:"pwa",label:"PWA",options:w.pwa,selected:l.pwa,openDropdown:f,setOpenDropdown:p,query:v,setQuery:y,onToggle:G=>k("pwa",G),onSelectAll:()=>C("pwa",w.pwa)}),D=m.jsx(Nn,{id:"capabilities",label:"Capabilities",options:w.capabilities,selected:l.capabilities,openDropdown:f,setOpenDropdown:p,query:v,setQuery:y,onToggle:G=>k("capabilities",G),onSelectAll:()=>C("capabilities",w.capabilities)}),j=m.jsx(Nn,{id:"commitmentTypes",label:"Commit Type",options:w.commitmentTypes,selected:l.commitmentTypes,openDropdown:f,setOpenDropdown:p,query:v,setQuery:y,onToggle:G=>k("commitmentTypes",G),onSelectAll:()=>C("commitmentTypes",w.commitmentTypes)}),R=m.jsx(Nn,{id:"responseCodes",label:"Response Code",options:w.responseCodes,selected:l.responseCodes??[],openDropdown:f,setOpenDropdown:p,query:v,setQuery:y,onToggle:G=>k("responseCodes",G),onSelectAll:()=>C("responseCodes",w.responseCodes)}),B=m.jsxs("div",{className:"flex flex-col",children:[N("IMP Score"),m.jsxs("div",{className:"flex gap-2",children:[m.jsxs("select",{className:"border border-gray-300 rounded-md text-[12px] px-2 h-[32px] bg-white",value:l.impCondition??"",onChange:G=>d(me=>({...me,impCondition:G.target.value})),children:[m.jsx("option",{value:"",children:"Condition"}),m.jsx("option",{value:"greater",children:"Greater Than"}),m.jsx("option",{value:"less",children:"Less Than"})]}),m.jsx("input",{type:"number",className:"border border-gray-300 rounded-md text-[12px] px-2 h-[32px] w-[100px] bg-white",value:l.impValue??"",onChange:G=>d(me=>({...me,impValue:G.target.value})),placeholder:"Value"})]})]}),Y=m.jsx(Nn,{id:"resourceStatuses",label:"Status",options:w.resourceStatuses,selected:l.statuses,openDropdown:f,setOpenDropdown:p,query:v,setQuery:y,onToggle:G=>k("statuses",G),onSelectAll:()=>C("statuses",b(o.resourceStatuses))}),Q=t==="resource-active"?"resource-active":"task-default",U=()=>Q==="task-default"?m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[T,E,D,j,R,B]}):Q==="resource-active"?m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[Y,E]}):null;return m.jsxs(it.div,{ref:g,initial:{opacity:0,y:-4},animate:{opacity:1,y:0},className:"flex flex-col gap-3 w-full",children:[U(),!u&&m.jsxs("div",{className:"flex justify-end pt-2 border-t border-gray-200 mt-2",children:[m.jsx("button",{className:"px-4 py-1.5 text-sm bg-[#0A4A7A] text-white rounded-md mr-2 hover:bg-[#08385E]",onClick:()=>n(l),children:"Search"}),m.jsx("button",{className:"px-4 py-1.5 text-sm bg-white border border-gray-300 rounded-md hover:bg-gray-50",onClick:s,children:"Clear"})]})]})};function Nn({id:t,label:n,options:s,selected:o,openDropdown:a,setOpenDropdown:u,query:l,setQuery:d,onToggle:f,onSelectAll:p}){const g=a===t,v=l[t]??"",y=s.length>0&&o.length===s.length,b=o.length>0?`${o.length} selected`:n;return m.jsxs("div",{className:"relative",children:[m.jsxs("div",{onClick:()=>u(g?null:t),className:`w-full h-[34px] px-3 text-[12px] border border-gray-300 rounded-md
                   bg-white text-gray-900 shadow-sm cursor-pointer flex items-center justify-between
                   hover:border-gray-400`,children:[m.jsx("span",{className:"truncate w-full pr-3",children:b}),m.jsx(Nc,{size:14,className:"text-gray-600 flex-shrink-0"})]}),m.jsx(At,{children:g&&m.jsxs(it.div,{initial:{opacity:0,y:-6},animate:{opacity:1,y:0},exit:{opacity:0,y:-6},transition:{duration:.2},className:`absolute z-[9999] mt-1 p-2 text-[12px] bg-white border border-gray-300
                       rounded-lg shadow-2xl w-full min-w-[220px]`,children:[m.jsx("input",{type:"text",placeholder:`Filter ${n.toLowerCase()}`,value:v,onChange:A=>d(w=>({...w,[t]:A.target.value})),autoFocus:!0,className:`w-full mb-2 px-2 py-1 text-[12px] border border-gray-300 rounded-md
                         bg-white focus:ring-2 focus:ring-blue-500/70 focus:border-blue-500
                         text-center placeholder:text-center`}),m.jsxs("div",{className:"sticky top-0 flex justify-between bg-slate-50 px-2 py-1 border border-gray-200 rounded mt-1 mb-1 text-[12px] items-center",children:[m.jsx("span",{children:y?"Clear All Results":"Select All Results"}),y?m.jsx(xd,{size:16,onClick:p,className:"cursor-pointer text-[#0A4A7A]"}):m.jsx(_d,{size:16,onClick:p,className:"cursor-pointer text-[#0A4A7A]"})]}),m.jsxs("div",{className:"max-h-[220px] overflow-y-auto",style:{scrollbarWidth:"thin",scrollbarColor:"#9ca3af #e5e7eb"},children:[s.map(A=>m.jsxs("label",{className:"flex items-center gap-2 px-2 py-1 hover:bg-blue-50 cursor-pointer border-b border-gray-100 last:border-b-0",children:[m.jsx("input",{type:"checkbox",checked:o.includes(A),onChange:()=>f(A),className:"accent-[#0A4A7A]"}),m.jsx("span",{className:"text-gray-900",children:A})]},A)),s.length===0&&m.jsx("div",{className:"px-2 py-1 text-gray-500 italic",children:"No results"})]})]})})]})}function U0({mode:t,onSearch:n,onClear:s,dropdownData:o,resetKey:a}){return m.jsx(J0,{mode:t,onSearch:n,onClear:s,dropdownData:o,resetKey:a,hideActions:!0})}function $0(){return m.jsx("div",{className:"bg-white border h-full rounded-lg shadow-sm p-4"})}function Md(t,n){const s=x.useRef(n);x.useEffect(function(){n!==s.current&&t.attributionControl!=null&&(s.current!=null&&t.attributionControl.removeAttribution(s.current),n!=null&&t.attributionControl.addAttribution(n)),s.current=n},[t,n])}var Dd=_f();const K0=1;function X0(t){return Object.freeze({__version:K0,map:t})}function q0(t,n){return Object.freeze({...t,...n})}const Vr=x.createContext(null);function Zr(){const t=x.use(Vr);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function Y0(t){function n(s,o){const{instance:a,context:u}=t(s).current;x.useImperativeHandle(o,()=>a);const{children:l}=s;return l==null?null:Ht.createElement(Vr,{value:u},l)}return x.forwardRef(n)}function Q0(t){function n(s,o){const[a,u]=x.useState(!1),{instance:l}=t(s,u).current;x.useImperativeHandle(o,()=>l),x.useEffect(function(){a&&l.update()},[l,a,s.children]);const d=l._contentNode;return d?Dd.createPortal(s.children,d):null}return x.forwardRef(n)}function ev(t){function n(s,o){const{instance:a}=t(s).current;return x.useImperativeHandle(o,()=>a),null}return x.forwardRef(n)}function Ld(t,n){const s=x.useRef(void 0);x.useEffect(function(){return n!=null&&t.instance.on(n),s.current=n,function(){s.current!=null&&t.instance.off(s.current),s.current=null}},[t,n])}function Wr(t,n){const s=t.pane??n.pane;return s?{...t,pane:s}:t}function tv(t,n){return function(o,a){const u=Zr(),l=t(Wr(o,u),u);return Md(u.map,o.attribution),Ld(l.current,o.eventHandlers),n(l.current,u,o,a),l}}var di={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var nv=di.exports,dc;function iv(){return dc||(dc=1,function(t,n){(function(s,o){o(n)})(nv,function(s){var o="1.9.4";function a(e){var i,r,c,h;for(r=1,c=arguments.length;r<c;r++){h=arguments[r];for(i in h)e[i]=h[i]}return e}var u=Object.create||function(){function e(){}return function(i){return e.prototype=i,new e}}();function l(e,i){var r=Array.prototype.slice;if(e.bind)return e.bind.apply(e,r.call(arguments,1));var c=r.call(arguments,2);return function(){return e.apply(i,c.length?c.concat(r.call(arguments)):arguments)}}var d=0;function f(e){return"_leaflet_id"in e||(e._leaflet_id=++d),e._leaflet_id}function p(e,i,r){var c,h,_,S;return S=function(){c=!1,h&&(_.apply(r,h),h=!1)},_=function(){c?h=arguments:(e.apply(r,arguments),setTimeout(S,i),c=!0)},_}function g(e,i,r){var c=i[1],h=i[0],_=c-h;return e===c&&r?e:((e-h)%_+_)%_+h}function v(){return!1}function y(e,i){if(i===!1)return e;var r=Math.pow(10,i===void 0?6:i);return Math.round(e*r)/r}function b(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function A(e){return b(e).split(/\s+/)}function w(e,i){Object.prototype.hasOwnProperty.call(e,"options")||(e.options=e.options?u(e.options):{});for(var r in i)e.options[r]=i[r];return e.options}function k(e,i,r){var c=[];for(var h in e)c.push(encodeURIComponent(r?h.toUpperCase():h)+"="+encodeURIComponent(e[h]));return(!i||i.indexOf("?")===-1?"?":"&")+c.join("&")}var C=/\{ *([\w_ -]+) *\}/g;function N(e,i){return e.replace(C,function(r,c){var h=i[c];if(h===void 0)throw new Error("No value provided for variable "+r);return typeof h=="function"&&(h=h(i)),h})}var T=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};function E(e,i){for(var r=0;r<e.length;r++)if(e[r]===i)return r;return-1}var D="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function j(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}var R=0;function B(e){var i=+new Date,r=Math.max(0,16-(i-R));return R=i+r,window.setTimeout(e,r)}var Y=window.requestAnimationFrame||j("RequestAnimationFrame")||B,Q=window.cancelAnimationFrame||j("CancelAnimationFrame")||j("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)};function U(e,i,r){if(r&&Y===B)e.call(i);else return Y.call(window,l(e,i))}function G(e){e&&Q.call(window,e)}var me={__proto__:null,extend:a,create:u,bind:l,get lastId(){return d},stamp:f,throttle:p,wrapNum:g,falseFn:v,formatNum:y,trim:b,splitWords:A,setOptions:w,getParamString:k,template:N,isArray:T,indexOf:E,emptyImageUrl:D,requestFn:Y,cancelFn:Q,requestAnimFrame:U,cancelAnimFrame:G};function ie(){}ie.extend=function(e){var i=function(){w(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},r=i.__super__=this.prototype,c=u(r);c.constructor=i,i.prototype=c;for(var h in this)Object.prototype.hasOwnProperty.call(this,h)&&h!=="prototype"&&h!=="__super__"&&(i[h]=this[h]);return e.statics&&a(i,e.statics),e.includes&&(he(e.includes),a.apply(null,[c].concat(e.includes))),a(c,e),delete c.statics,delete c.includes,c.options&&(c.options=r.options?u(r.options):{},a(c.options,e.options)),c._initHooks=[],c.callInitHooks=function(){if(!this._initHooksCalled){r.callInitHooks&&r.callInitHooks.call(this),this._initHooksCalled=!0;for(var _=0,S=c._initHooks.length;_<S;_++)c._initHooks[_].call(this)}},i},ie.include=function(e){var i=this.prototype.options;return a(this.prototype,e),e.options&&(this.prototype.options=i,this.mergeOptions(e.options)),this},ie.mergeOptions=function(e){return a(this.prototype.options,e),this},ie.addInitHook=function(e){var i=Array.prototype.slice.call(arguments,1),r=typeof e=="function"?e:function(){this[e].apply(this,i)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(r),this};function he(e){if(!(typeof L>"u"||!L||!L.Mixin)){e=T(e)?e:[e];for(var i=0;i<e.length;i++)e[i]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var de={on:function(e,i,r){if(typeof e=="object")for(var c in e)this._on(c,e[c],i);else{e=A(e);for(var h=0,_=e.length;h<_;h++)this._on(e[h],i,r)}return this},off:function(e,i,r){if(!arguments.length)delete this._events;else if(typeof e=="object")for(var c in e)this._off(c,e[c],i);else{e=A(e);for(var h=arguments.length===1,_=0,S=e.length;_<S;_++)h?this._off(e[_]):this._off(e[_],i,r)}return this},_on:function(e,i,r,c){if(typeof i!="function"){console.warn("wrong listener type: "+typeof i);return}if(this._listens(e,i,r)===!1){r===this&&(r=void 0);var h={fn:i,ctx:r};c&&(h.once=!0),this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(h)}},_off:function(e,i,r){var c,h,_;if(this._events&&(c=this._events[e],!!c)){if(arguments.length===1){if(this._firingCount)for(h=0,_=c.length;h<_;h++)c[h].fn=v;delete this._events[e];return}if(typeof i!="function"){console.warn("wrong listener type: "+typeof i);return}var S=this._listens(e,i,r);if(S!==!1){var P=c[S];this._firingCount&&(P.fn=v,this._events[e]=c=c.slice()),c.splice(S,1)}}},fire:function(e,i,r){if(!this.listens(e,r))return this;var c=a({},i,{type:e,target:this,sourceTarget:i&&i.sourceTarget||this});if(this._events){var h=this._events[e];if(h){this._firingCount=this._firingCount+1||1;for(var _=0,S=h.length;_<S;_++){var P=h[_],M=P.fn;P.once&&this.off(e,M,P.ctx),M.call(P.ctx||this,c)}this._firingCount--}}return r&&this._propagateEvent(c),this},listens:function(e,i,r,c){typeof e!="string"&&console.warn('"string" type argument expected');var h=i;typeof i!="function"&&(c=!!i,h=void 0,r=void 0);var _=this._events&&this._events[e];if(_&&_.length&&this._listens(e,h,r)!==!1)return!0;if(c){for(var S in this._eventParents)if(this._eventParents[S].listens(e,i,r,c))return!0}return!1},_listens:function(e,i,r){if(!this._events)return!1;var c=this._events[e]||[];if(!i)return!!c.length;r===this&&(r=void 0);for(var h=0,_=c.length;h<_;h++)if(c[h].fn===i&&c[h].ctx===r)return h;return!1},once:function(e,i,r){if(typeof e=="object")for(var c in e)this._on(c,e[c],i,!0);else{e=A(e);for(var h=0,_=e.length;h<_;h++)this._on(e[h],i,r,!0)}return this},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[f(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[f(e)],this},_propagateEvent:function(e){for(var i in this._eventParents)this._eventParents[i].fire(e.type,a({layer:e.target,propagatedFrom:e.target},e),!0)}};de.addEventListener=de.on,de.removeEventListener=de.clearAllEventListeners=de.off,de.addOneTimeEventListener=de.once,de.fireEvent=de.fire,de.hasEventListeners=de.listens;var ae=ie.extend(de);function $(e,i,r){this.x=r?Math.round(e):e,this.y=r?Math.round(i):i}var Pe=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};$.prototype={clone:function(){return new $(this.x,this.y)},add:function(e){return this.clone()._add(q(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(q(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new $(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new $(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Pe(this.x),this.y=Pe(this.y),this},distanceTo:function(e){e=q(e);var i=e.x-this.x,r=e.y-this.y;return Math.sqrt(i*i+r*r)},equals:function(e){return e=q(e),e.x===this.x&&e.y===this.y},contains:function(e){return e=q(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+y(this.x)+", "+y(this.y)+")"}};function q(e,i,r){return e instanceof $?e:T(e)?new $(e[0],e[1]):e==null?e:typeof e=="object"&&"x"in e&&"y"in e?new $(e.x,e.y):new $(e,i,r)}function I(e,i){if(e)for(var r=i?[e,i]:e,c=0,h=r.length;c<h;c++)this.extend(r[c])}I.prototype={extend:function(e){var i,r;if(!e)return this;if(e instanceof $||typeof e[0]=="number"||"x"in e)i=r=q(e);else if(e=ue(e),i=e.min,r=e.max,!i||!r)return this;return!this.min&&!this.max?(this.min=i.clone(),this.max=r.clone()):(this.min.x=Math.min(i.x,this.min.x),this.max.x=Math.max(r.x,this.max.x),this.min.y=Math.min(i.y,this.min.y),this.max.y=Math.max(r.y,this.max.y)),this},getCenter:function(e){return q((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return q(this.min.x,this.max.y)},getTopRight:function(){return q(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var i,r;return typeof e[0]=="number"||e instanceof $?e=q(e):e=ue(e),e instanceof I?(i=e.min,r=e.max):i=r=e,i.x>=this.min.x&&r.x<=this.max.x&&i.y>=this.min.y&&r.y<=this.max.y},intersects:function(e){e=ue(e);var i=this.min,r=this.max,c=e.min,h=e.max,_=h.x>=i.x&&c.x<=r.x,S=h.y>=i.y&&c.y<=r.y;return _&&S},overlaps:function(e){e=ue(e);var i=this.min,r=this.max,c=e.min,h=e.max,_=h.x>i.x&&c.x<r.x,S=h.y>i.y&&c.y<r.y;return _&&S},isValid:function(){return!!(this.min&&this.max)},pad:function(e){var i=this.min,r=this.max,c=Math.abs(i.x-r.x)*e,h=Math.abs(i.y-r.y)*e;return ue(q(i.x-c,i.y-h),q(r.x+c,r.y+h))},equals:function(e){return e?(e=ue(e),this.min.equals(e.getTopLeft())&&this.max.equals(e.getBottomRight())):!1}};function ue(e,i){return!e||e instanceof I?e:new I(e,i)}function F(e,i){if(e)for(var r=i?[e,i]:e,c=0,h=r.length;c<h;c++)this.extend(r[c])}F.prototype={extend:function(e){var i=this._southWest,r=this._northEast,c,h;if(e instanceof W)c=e,h=e;else if(e instanceof F){if(c=e._southWest,h=e._northEast,!c||!h)return this}else return e?this.extend(Z(e)||H(e)):this;return!i&&!r?(this._southWest=new W(c.lat,c.lng),this._northEast=new W(h.lat,h.lng)):(i.lat=Math.min(c.lat,i.lat),i.lng=Math.min(c.lng,i.lng),r.lat=Math.max(h.lat,r.lat),r.lng=Math.max(h.lng,r.lng)),this},pad:function(e){var i=this._southWest,r=this._northEast,c=Math.abs(i.lat-r.lat)*e,h=Math.abs(i.lng-r.lng)*e;return new F(new W(i.lat-c,i.lng-h),new W(r.lat+c,r.lng+h))},getCenter:function(){return new W((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new W(this.getNorth(),this.getWest())},getSouthEast:function(){return new W(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){typeof e[0]=="number"||e instanceof W||"lat"in e?e=Z(e):e=H(e);var i=this._southWest,r=this._northEast,c,h;return e instanceof F?(c=e.getSouthWest(),h=e.getNorthEast()):c=h=e,c.lat>=i.lat&&h.lat<=r.lat&&c.lng>=i.lng&&h.lng<=r.lng},intersects:function(e){e=H(e);var i=this._southWest,r=this._northEast,c=e.getSouthWest(),h=e.getNorthEast(),_=h.lat>=i.lat&&c.lat<=r.lat,S=h.lng>=i.lng&&c.lng<=r.lng;return _&&S},overlaps:function(e){e=H(e);var i=this._southWest,r=this._northEast,c=e.getSouthWest(),h=e.getNorthEast(),_=h.lat>i.lat&&c.lat<r.lat,S=h.lng>i.lng&&c.lng<r.lng;return _&&S},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,i){return e?(e=H(e),this._southWest.equals(e.getSouthWest(),i)&&this._northEast.equals(e.getNorthEast(),i)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function H(e,i){return e instanceof F?e:new F(e,i)}function W(e,i,r){if(isNaN(e)||isNaN(i))throw new Error("Invalid LatLng object: ("+e+", "+i+")");this.lat=+e,this.lng=+i,r!==void 0&&(this.alt=+r)}W.prototype={equals:function(e,i){if(!e)return!1;e=Z(e);var r=Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng));return r<=(i===void 0?1e-9:i)},toString:function(e){return"LatLng("+y(this.lat,e)+", "+y(this.lng,e)+")"},distanceTo:function(e){return ee.distance(this,Z(e))},wrap:function(){return ee.wrapLatLng(this)},toBounds:function(e){var i=180*e/40075017,r=i/Math.cos(Math.PI/180*this.lat);return H([this.lat-i,this.lng-r],[this.lat+i,this.lng+r])},clone:function(){return new W(this.lat,this.lng,this.alt)}};function Z(e,i,r){return e instanceof W?e:T(e)&&typeof e[0]!="object"?e.length===3?new W(e[0],e[1],e[2]):e.length===2?new W(e[0],e[1]):null:e==null?e:typeof e=="object"&&"lat"in e?new W(e.lat,"lng"in e?e.lng:e.lon,e.alt):i===void 0?null:new W(e,i,r)}var K={latLngToPoint:function(e,i){var r=this.projection.project(e),c=this.scale(i);return this.transformation._transform(r,c)},pointToLatLng:function(e,i){var r=this.scale(i),c=this.transformation.untransform(e,r);return this.projection.unproject(c)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var i=this.projection.bounds,r=this.scale(e),c=this.transformation.transform(i.min,r),h=this.transformation.transform(i.max,r);return new I(c,h)},infinite:!1,wrapLatLng:function(e){var i=this.wrapLng?g(e.lng,this.wrapLng,!0):e.lng,r=this.wrapLat?g(e.lat,this.wrapLat,!0):e.lat,c=e.alt;return new W(r,i,c)},wrapLatLngBounds:function(e){var i=e.getCenter(),r=this.wrapLatLng(i),c=i.lat-r.lat,h=i.lng-r.lng;if(c===0&&h===0)return e;var _=e.getSouthWest(),S=e.getNorthEast(),P=new W(_.lat-c,_.lng-h),M=new W(S.lat-c,S.lng-h);return new F(P,M)}},ee=a({},K,{wrapLng:[-180,180],R:6371e3,distance:function(e,i){var r=Math.PI/180,c=e.lat*r,h=i.lat*r,_=Math.sin((i.lat-e.lat)*r/2),S=Math.sin((i.lng-e.lng)*r/2),P=_*_+Math.cos(c)*Math.cos(h)*S*S,M=2*Math.atan2(Math.sqrt(P),Math.sqrt(1-P));return this.R*M}}),le=6378137,Te={R:le,MAX_LATITUDE:85.0511287798,project:function(e){var i=Math.PI/180,r=this.MAX_LATITUDE,c=Math.max(Math.min(r,e.lat),-r),h=Math.sin(c*i);return new $(this.R*e.lng*i,this.R*Math.log((1+h)/(1-h))/2)},unproject:function(e){var i=180/Math.PI;return new W((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*i,e.x*i/this.R)},bounds:function(){var e=le*Math.PI;return new I([-e,-e],[e,e])}()};function Me(e,i,r,c){if(T(e)){this._a=e[0],this._b=e[1],this._c=e[2],this._d=e[3];return}this._a=e,this._b=i,this._c=r,this._d=c}Me.prototype={transform:function(e,i){return this._transform(e.clone(),i)},_transform:function(e,i){return i=i||1,e.x=i*(this._a*e.x+this._b),e.y=i*(this._c*e.y+this._d),e},untransform:function(e,i){return i=i||1,new $((e.x/i-this._b)/this._a,(e.y/i-this._d)/this._c)}};function Ne(e,i,r,c){return new Me(e,i,r,c)}var Se=a({},ee,{code:"EPSG:3857",projection:Te,transformation:function(){var e=.5/(Math.PI*Te.R);return Ne(e,.5,-e,.5)}()}),De=a({},Se,{code:"EPSG:900913"});function st(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function $e(e,i){var r="",c,h,_,S,P,M;for(c=0,_=e.length;c<_;c++){for(P=e[c],h=0,S=P.length;h<S;h++)M=P[h],r+=(h?"L":"M")+M.x+" "+M.y;r+=i?te.svg?"z":"x":""}return r||"M0 0"}var dt=document.documentElement.style,je="ActiveXObject"in window,Ct=je&&!document.addEventListener,Pt="msLaunchUri"in navigator&&!("documentMode"in document),ot=kt("webkit"),ht=kt("android"),ne=kt("android 2")||kt("android 3"),ce=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Ve=ht&&kt("Google")&&ce<537&&!("AudioNode"in window),Ge=!!window.opera,V=!Pt&&kt("chrome"),se=kt("gecko")&&!ot&&!Ge&&!je,ze=!V&&kt("safari"),Ie=kt("phantom"),_e="OTransition"in dt,Ye=navigator.platform.indexOf("Win")===0,Ze=je&&"transition"in dt,$t="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ne,z="MozPerspective"in dt,J=!window.L_DISABLE_3D&&(Ze||$t||z)&&!_e&&!Ie,pe=typeof orientation<"u"||kt("mobile"),ge=pe&&ot,xe=pe&&$t,Ce=!window.PointerEvent&&window.MSPointerEvent,we=!!(window.PointerEvent||Ce),Qe="ontouchstart"in window||!!window.TouchEvent,Rt=!window.L_NO_TOUCH&&(Qe||we),jt=pe&&Ge,rn=pe&&se,Yr=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,ah=function(){var e=!1;try{var i=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveEventSupport",v,i),window.removeEventListener("testPassiveEventSupport",v,i)}catch{}return e}(),lh=function(){return!!document.createElement("canvas").getContext}(),Bs=!!(document.createElementNS&&st("svg").createSVGRect),ch=!!Bs&&function(){var e=document.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),uh=!Bs&&function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var i=e.firstChild;return i.style.behavior="url(#default#VML)",i&&typeof i.adj=="object"}catch{return!1}}(),dh=navigator.platform.indexOf("Mac")===0,hh=navigator.platform.indexOf("Linux")===0;function kt(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}var te={ie:je,ielt9:Ct,edge:Pt,webkit:ot,android:ht,android23:ne,androidStock:Ve,opera:Ge,chrome:V,gecko:se,safari:ze,phantom:Ie,opera12:_e,win:Ye,ie3d:Ze,webkit3d:$t,gecko3d:z,any3d:J,mobile:pe,mobileWebkit:ge,mobileWebkit3d:xe,msPointer:Ce,pointer:we,touch:Rt,touchNative:Qe,mobileOpera:jt,mobileGecko:rn,retina:Yr,passiveEvents:ah,canvas:lh,svg:Bs,vml:uh,inlineSvg:ch,mac:dh,linux:hh},Qr=te.msPointer?"MSPointerDown":"pointerdown",ea=te.msPointer?"MSPointerMove":"pointermove",ta=te.msPointer?"MSPointerUp":"pointerup",na=te.msPointer?"MSPointerCancel":"pointercancel",Fs={touchstart:Qr,touchmove:ea,touchend:ta,touchcancel:na},ia={touchstart:vh,touchmove:ji,touchend:ji,touchcancel:ji},Tn={},sa=!1;function fh(e,i,r){return i==="touchstart"&&yh(),ia[i]?(r=ia[i].bind(this,r),e.addEventListener(Fs[i],r,!1),r):(console.warn("wrong event specified:",i),v)}function mh(e,i,r){if(!Fs[i]){console.warn("wrong event specified:",i);return}e.removeEventListener(Fs[i],r,!1)}function ph(e){Tn[e.pointerId]=e}function gh(e){Tn[e.pointerId]&&(Tn[e.pointerId]=e)}function oa(e){delete Tn[e.pointerId]}function yh(){sa||(document.addEventListener(Qr,ph,!0),document.addEventListener(ea,gh,!0),document.addEventListener(ta,oa,!0),document.addEventListener(na,oa,!0),sa=!0)}function ji(e,i){if(i.pointerType!==(i.MSPOINTER_TYPE_MOUSE||"mouse")){i.touches=[];for(var r in Tn)i.touches.push(Tn[r]);i.changedTouches=[i],e(i)}}function vh(e,i){i.MSPOINTER_TYPE_TOUCH&&i.pointerType===i.MSPOINTER_TYPE_TOUCH&&tt(i),ji(e,i)}function _h(e){var i={},r,c;for(c in e)r=e[c],i[c]=r&&r.bind?r.bind(e):r;return e=i,i.type="dblclick",i.detail=2,i.isTrusted=!1,i._simulated=!0,i}var xh=200;function bh(e,i){e.addEventListener("dblclick",i);var r=0,c;function h(_){if(_.detail!==1){c=_.detail;return}if(!(_.pointerType==="mouse"||_.sourceCapabilities&&!_.sourceCapabilities.firesTouchEvents)){var S=ua(_);if(!(S.some(function(M){return M instanceof HTMLLabelElement&&M.attributes.for})&&!S.some(function(M){return M instanceof HTMLInputElement||M instanceof HTMLSelectElement}))){var P=Date.now();P-r<=xh?(c++,c===2&&i(_h(_))):c=1,r=P}}}return e.addEventListener("click",h),{dblclick:i,simDblclick:h}}function Sh(e,i){e.removeEventListener("dblclick",i.dblclick),e.removeEventListener("click",i.simDblclick)}var Vs=Bi(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Kn=Bi(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ra=Kn==="webkitTransition"||Kn==="OTransition"?Kn+"End":"transitionend";function aa(e){return typeof e=="string"?document.getElementById(e):e}function Xn(e,i){var r=e.style[i]||e.currentStyle&&e.currentStyle[i];if((!r||r==="auto")&&document.defaultView){var c=document.defaultView.getComputedStyle(e,null);r=c?c[i]:null}return r==="auto"?null:r}function ke(e,i,r){var c=document.createElement(e);return c.className=i||"",r&&r.appendChild(c),c}function Be(e){var i=e.parentNode;i&&i.removeChild(e)}function Oi(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function An(e){var i=e.parentNode;i&&i.lastChild!==e&&i.appendChild(e)}function Cn(e){var i=e.parentNode;i&&i.firstChild!==e&&i.insertBefore(e,i.firstChild)}function Zs(e,i){if(e.classList!==void 0)return e.classList.contains(i);var r=zi(e);return r.length>0&&new RegExp("(^|\\s)"+i+"(\\s|$)").test(r)}function ye(e,i){if(e.classList!==void 0)for(var r=A(i),c=0,h=r.length;c<h;c++)e.classList.add(r[c]);else if(!Zs(e,i)){var _=zi(e);Ws(e,(_?_+" ":"")+i)}}function Je(e,i){e.classList!==void 0?e.classList.remove(i):Ws(e,b((" "+zi(e)+" ").replace(" "+i+" "," ")))}function Ws(e,i){e.className.baseVal===void 0?e.className=i:e.className.baseVal=i}function zi(e){return e.correspondingElement&&(e=e.correspondingElement),e.className.baseVal===void 0?e.className:e.className.baseVal}function mt(e,i){"opacity"in e.style?e.style.opacity=i:"filter"in e.style&&wh(e,i)}function wh(e,i){var r=!1,c="DXImageTransform.Microsoft.Alpha";try{r=e.filters.item(c)}catch{if(i===1)return}i=Math.round(i*100),r?(r.Enabled=i!==100,r.Opacity=i):e.style.filter+=" progid:"+c+"(opacity="+i+")"}function Bi(e){for(var i=document.documentElement.style,r=0;r<e.length;r++)if(e[r]in i)return e[r];return!1}function an(e,i,r){var c=i||new $(0,0);e.style[Vs]=(te.ie3d?"translate("+c.x+"px,"+c.y+"px)":"translate3d("+c.x+"px,"+c.y+"px,0)")+(r?" scale("+r+")":"")}function Ke(e,i){e._leaflet_pos=i,te.any3d?an(e,i):(e.style.left=i.x+"px",e.style.top=i.y+"px")}function ln(e){return e._leaflet_pos||new $(0,0)}var qn,Yn,Hs;if("onselectstart"in document)qn=function(){fe(window,"selectstart",tt)},Yn=function(){Re(window,"selectstart",tt)};else{var Qn=Bi(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);qn=function(){if(Qn){var e=document.documentElement.style;Hs=e[Qn],e[Qn]="none"}},Yn=function(){Qn&&(document.documentElement.style[Qn]=Hs,Hs=void 0)}}function Gs(){fe(window,"dragstart",tt)}function Js(){Re(window,"dragstart",tt)}var Fi,Us;function $s(e){for(;e.tabIndex===-1;)e=e.parentNode;e.style&&(Vi(),Fi=e,Us=e.style.outlineStyle,e.style.outlineStyle="none",fe(window,"keydown",Vi))}function Vi(){Fi&&(Fi.style.outlineStyle=Us,Fi=void 0,Us=void 0,Re(window,"keydown",Vi))}function la(e){do e=e.parentNode;while((!e.offsetWidth||!e.offsetHeight)&&e!==document.body);return e}function Ks(e){var i=e.getBoundingClientRect();return{x:i.width/e.offsetWidth||1,y:i.height/e.offsetHeight||1,boundingClientRect:i}}var Th={__proto__:null,TRANSFORM:Vs,TRANSITION:Kn,TRANSITION_END:ra,get:aa,getStyle:Xn,create:ke,remove:Be,empty:Oi,toFront:An,toBack:Cn,hasClass:Zs,addClass:ye,removeClass:Je,setClass:Ws,getClass:zi,setOpacity:mt,testProp:Bi,setTransform:an,setPosition:Ke,getPosition:ln,get disableTextSelection(){return qn},get enableTextSelection(){return Yn},disableImageDrag:Gs,enableImageDrag:Js,preventOutline:$s,restoreOutline:Vi,getSizedParentNode:la,getScale:Ks};function fe(e,i,r,c){if(i&&typeof i=="object")for(var h in i)qs(e,h,i[h],r);else{i=A(i);for(var _=0,S=i.length;_<S;_++)qs(e,i[_],r,c)}return this}var Mt="_leaflet_events";function Re(e,i,r,c){if(arguments.length===1)ca(e),delete e[Mt];else if(i&&typeof i=="object")for(var h in i)Ys(e,h,i[h],r);else if(i=A(i),arguments.length===2)ca(e,function(P){return E(i,P)!==-1});else for(var _=0,S=i.length;_<S;_++)Ys(e,i[_],r,c);return this}function ca(e,i){for(var r in e[Mt]){var c=r.split(/\d/)[0];(!i||i(c))&&Ys(e,c,null,null,r)}}var Xs={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function qs(e,i,r,c){var h=i+f(r)+(c?"_"+f(c):"");if(e[Mt]&&e[Mt][h])return this;var _=function(P){return r.call(c||e,P||window.event)},S=_;!te.touchNative&&te.pointer&&i.indexOf("touch")===0?_=fh(e,i,_):te.touch&&i==="dblclick"?_=bh(e,_):"addEventListener"in e?i==="touchstart"||i==="touchmove"||i==="wheel"||i==="mousewheel"?e.addEventListener(Xs[i]||i,_,te.passiveEvents?{passive:!1}:!1):i==="mouseenter"||i==="mouseleave"?(_=function(P){P=P||window.event,eo(e,P)&&S(P)},e.addEventListener(Xs[i],_,!1)):e.addEventListener(i,S,!1):e.attachEvent("on"+i,_),e[Mt]=e[Mt]||{},e[Mt][h]=_}function Ys(e,i,r,c,h){h=h||i+f(r)+(c?"_"+f(c):"");var _=e[Mt]&&e[Mt][h];if(!_)return this;!te.touchNative&&te.pointer&&i.indexOf("touch")===0?mh(e,i,_):te.touch&&i==="dblclick"?Sh(e,_):"removeEventListener"in e?e.removeEventListener(Xs[i]||i,_,!1):e.detachEvent("on"+i,_),e[Mt][h]=null}function cn(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,this}function Qs(e){return qs(e,"wheel",cn),this}function ei(e){return fe(e,"mousedown touchstart dblclick contextmenu",cn),e._leaflet_disable_click=!0,this}function tt(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function un(e){return tt(e),cn(e),this}function ua(e){if(e.composedPath)return e.composedPath();for(var i=[],r=e.target;r;)i.push(r),r=r.parentNode;return i}function da(e,i){if(!i)return new $(e.clientX,e.clientY);var r=Ks(i),c=r.boundingClientRect;return new $((e.clientX-c.left)/r.x-i.clientLeft,(e.clientY-c.top)/r.y-i.clientTop)}var Ah=te.linux&&te.chrome?window.devicePixelRatio:te.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function ha(e){return te.edge?e.wheelDeltaY/2:e.deltaY&&e.deltaMode===0?-e.deltaY/Ah:e.deltaY&&e.deltaMode===1?-e.deltaY*20:e.deltaY&&e.deltaMode===2?-e.deltaY*60:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?-e.detail*20:e.detail?e.detail/-32765*60:0}function eo(e,i){var r=i.relatedTarget;if(!r)return!0;try{for(;r&&r!==e;)r=r.parentNode}catch{return!1}return r!==e}var Ch={__proto__:null,on:fe,off:Re,stopPropagation:cn,disableScrollPropagation:Qs,disableClickPropagation:ei,preventDefault:tt,stop:un,getPropagationPath:ua,getMousePosition:da,getWheelDelta:ha,isExternalTarget:eo,addListener:fe,removeListener:Re},fa=ae.extend({run:function(e,i,r,c){this.stop(),this._el=e,this._inProgress=!0,this._duration=r||.25,this._easeOutPower=1/Math.max(c||.5,.2),this._startPos=ln(e),this._offset=i.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=U(this._animate,this),this._step()},_step:function(e){var i=+new Date-this._startTime,r=this._duration*1e3;i<r?this._runFrame(this._easeOut(i/r),e):(this._runFrame(1),this._complete())},_runFrame:function(e,i){var r=this._startPos.add(this._offset.multiplyBy(e));i&&r._round(),Ke(this._el,r),this.fire("step")},_complete:function(){G(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),Ae=ae.extend({options:{crs:Se,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,i){i=w(this,i),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(e),this._initLayout(),this._onResize=l(this._onResize,this),this._initEvents(),i.maxBounds&&this.setMaxBounds(i.maxBounds),i.zoom!==void 0&&(this._zoom=this._limitZoom(i.zoom)),i.center&&i.zoom!==void 0&&this.setView(Z(i.center),i.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Kn&&te.any3d&&!te.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),fe(this._proxy,ra,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,i,r){if(i=i===void 0?this._zoom:this._limitZoom(i),e=this._limitCenter(Z(e),i,this.options.maxBounds),r=r||{},this._stop(),this._loaded&&!r.reset&&r!==!0){r.animate!==void 0&&(r.zoom=a({animate:r.animate},r.zoom),r.pan=a({animate:r.animate,duration:r.duration},r.pan));var c=this._zoom!==i?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,i,r.zoom):this._tryAnimatedPan(e,r.pan);if(c)return clearTimeout(this._sizeTimer),this}return this._resetView(e,i,r.pan&&r.pan.noMoveStart),this},setZoom:function(e,i){return this._loaded?this.setView(this.getCenter(),e,{zoom:i}):(this._zoom=e,this)},zoomIn:function(e,i){return e=e||(te.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+e,i)},zoomOut:function(e,i){return e=e||(te.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-e,i)},setZoomAround:function(e,i,r){var c=this.getZoomScale(i),h=this.getSize().divideBy(2),_=e instanceof $?e:this.latLngToContainerPoint(e),S=_.subtract(h).multiplyBy(1-1/c),P=this.containerPointToLatLng(h.add(S));return this.setView(P,i,{zoom:r})},_getBoundsCenterZoom:function(e,i){i=i||{},e=e.getBounds?e.getBounds():H(e);var r=q(i.paddingTopLeft||i.padding||[0,0]),c=q(i.paddingBottomRight||i.padding||[0,0]),h=this.getBoundsZoom(e,!1,r.add(c));if(h=typeof i.maxZoom=="number"?Math.min(i.maxZoom,h):h,h===1/0)return{center:e.getCenter(),zoom:h};var _=c.subtract(r).divideBy(2),S=this.project(e.getSouthWest(),h),P=this.project(e.getNorthEast(),h),M=this.unproject(S.add(P).divideBy(2).add(_),h);return{center:M,zoom:h}},fitBounds:function(e,i){if(e=H(e),!e.isValid())throw new Error("Bounds are not valid.");var r=this._getBoundsCenterZoom(e,i);return this.setView(r.center,r.zoom,i)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,i){return this.setView(e,this._zoom,{pan:i})},panBy:function(e,i){if(e=q(e).round(),i=i||{},!e.x&&!e.y)return this.fire("moveend");if(i.animate!==!0&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new fa,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),i.noMoveStart||this.fire("movestart"),i.animate!==!1){ye(this._mapPane,"leaflet-pan-anim");var r=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,r,i.duration||.25,i.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},flyTo:function(e,i,r){if(r=r||{},r.animate===!1||!te.any3d)return this.setView(e,i,r);this._stop();var c=this.project(this.getCenter()),h=this.project(e),_=this.getSize(),S=this._zoom;e=Z(e),i=i===void 0?S:i;var P=Math.max(_.x,_.y),M=P*this.getZoomScale(S,i),O=h.distanceTo(c)||1,X=1.42,oe=X*X;function be(Xe){var Qi=Xe?-1:1,pf=Xe?M:P,gf=M*M-P*P+Qi*oe*oe*O*O,yf=2*pf*oe*O,ho=gf/yf,Ua=Math.sqrt(ho*ho+1)-ho,vf=Ua<1e-9?-18:Math.log(Ua);return vf}function at(Xe){return(Math.exp(Xe)-Math.exp(-Xe))/2}function et(Xe){return(Math.exp(Xe)+Math.exp(-Xe))/2}function gt(Xe){return at(Xe)/et(Xe)}var ct=be(0);function En(Xe){return P*(et(ct)/et(ct+X*Xe))}function df(Xe){return P*(et(ct)*gt(ct+X*Xe)-at(ct))/oe}function hf(Xe){return 1-Math.pow(1-Xe,1.5)}var ff=Date.now(),Ga=(be(1)-ct)/X,mf=r.duration?1e3*r.duration:1e3*Ga*.8;function Ja(){var Xe=(Date.now()-ff)/mf,Qi=hf(Xe)*Ga;Xe<=1?(this._flyToFrame=U(Ja,this),this._move(this.unproject(c.add(h.subtract(c).multiplyBy(df(Qi)/O)),S),this.getScaleZoom(P/En(Qi),S),{flyTo:!0})):this._move(e,i)._moveEnd(!0)}return this._moveStart(!0,r.noMoveStart),Ja.call(this),this},flyToBounds:function(e,i){var r=this._getBoundsCenterZoom(e,i);return this.flyTo(r.center,r.zoom,i)},setMaxBounds:function(e){return e=H(e),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),e.isValid()?(this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(e){var i=this.options.minZoom;return this.options.minZoom=e,this._loaded&&i!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var i=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&i!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,i){this._enforcingBounds=!0;var r=this.getCenter(),c=this._limitCenter(r,this._zoom,H(e));return r.equals(c)||this.panTo(c,i),this._enforcingBounds=!1,this},panInside:function(e,i){i=i||{};var r=q(i.paddingTopLeft||i.padding||[0,0]),c=q(i.paddingBottomRight||i.padding||[0,0]),h=this.project(this.getCenter()),_=this.project(e),S=this.getPixelBounds(),P=ue([S.min.add(r),S.max.subtract(c)]),M=P.getSize();if(!P.contains(_)){this._enforcingBounds=!0;var O=_.subtract(P.getCenter()),X=P.extend(_).getSize().subtract(M);h.x+=O.x<0?-X.x:X.x,h.y+=O.y<0?-X.y:X.y,this.panTo(this.unproject(h),i),this._enforcingBounds=!1}return this},invalidateSize:function(e){if(!this._loaded)return this;e=a({animate:!1,pan:!0},e===!0?{animate:!0}:e);var i=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var r=this.getSize(),c=i.divideBy(2).round(),h=r.divideBy(2).round(),_=c.subtract(h);return!_.x&&!_.y?this:(e.animate&&e.pan?this.panBy(_):(e.pan&&this._rawPanBy(_),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:i,newSize:r}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=a({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var i=l(this._handleGeolocationResponse,this),r=l(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(i,r,e):navigator.geolocation.getCurrentPosition(i,r,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){if(this._container._leaflet_id){var i=e.code,r=e.message||(i===1?"permission denied":i===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:i,message:"Geolocation error: "+r+"."})}},_handleGeolocationResponse:function(e){if(this._container._leaflet_id){var i=e.coords.latitude,r=e.coords.longitude,c=new W(i,r),h=c.toBounds(e.coords.accuracy*2),_=this._locateOptions;if(_.setView){var S=this.getBoundsZoom(h);this.setView(c,_.maxZoom?Math.min(S,_.maxZoom):S)}var P={latlng:c,bounds:h,timestamp:e.timestamp};for(var M in e.coords)typeof e.coords[M]=="number"&&(P[M]=e.coords[M]);this.fire("locationfound",P)}},addHandler:function(e,i){if(!i)return this;var r=this[e]=new i(this);return this._handlers.push(r),this.options[e]&&r.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Be(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(G(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var e;for(e in this._layers)this._layers[e].remove();for(e in this._panes)Be(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,i){var r="leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),c=ke("div",r,i||this._mapPane);return e&&(this._panes[e]=c),c},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds(),i=this.unproject(e.getBottomLeft()),r=this.unproject(e.getTopRight());return new F(i,r)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,i,r){e=H(e),r=q(r||[0,0]);var c=this.getZoom()||0,h=this.getMinZoom(),_=this.getMaxZoom(),S=e.getNorthWest(),P=e.getSouthEast(),M=this.getSize().subtract(r),O=ue(this.project(P,c),this.project(S,c)).getSize(),X=te.any3d?this.options.zoomSnap:1,oe=M.x/O.x,be=M.y/O.y,at=i?Math.max(oe,be):Math.min(oe,be);return c=this.getScaleZoom(at,c),X&&(c=Math.round(c/(X/100))*(X/100),c=i?Math.ceil(c/X)*X:Math.floor(c/X)*X),Math.max(h,Math.min(_,c))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new $(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,i){var r=this._getTopLeftPoint(e,i);return new I(r,r.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(e===void 0?this.getZoom():e)},getPane:function(e){return typeof e=="string"?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,i){var r=this.options.crs;return i=i===void 0?this._zoom:i,r.scale(e)/r.scale(i)},getScaleZoom:function(e,i){var r=this.options.crs;i=i===void 0?this._zoom:i;var c=r.zoom(e*r.scale(i));return isNaN(c)?1/0:c},project:function(e,i){return i=i===void 0?this._zoom:i,this.options.crs.latLngToPoint(Z(e),i)},unproject:function(e,i){return i=i===void 0?this._zoom:i,this.options.crs.pointToLatLng(q(e),i)},layerPointToLatLng:function(e){var i=q(e).add(this.getPixelOrigin());return this.unproject(i)},latLngToLayerPoint:function(e){var i=this.project(Z(e))._round();return i._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(Z(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(H(e))},distance:function(e,i){return this.options.crs.distance(Z(e),Z(i))},containerPointToLayerPoint:function(e){return q(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return q(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var i=this.containerPointToLayerPoint(q(e));return this.layerPointToLatLng(i)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Z(e)))},mouseEventToContainerPoint:function(e){return da(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var i=this._container=aa(e);if(i){if(i._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");fe(i,"scroll",this._onScroll,this),this._containerId=f(i)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&te.any3d,ye(e,"leaflet-container"+(te.touch?" leaflet-touch":"")+(te.retina?" leaflet-retina":"")+(te.ielt9?" leaflet-oldie":"")+(te.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var i=Xn(e,"position");i!=="absolute"&&i!=="relative"&&i!=="fixed"&&i!=="sticky"&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ke(this._mapPane,new $(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ye(e.markerPane,"leaflet-zoom-hide"),ye(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,i,r){Ke(this._mapPane,new $(0,0));var c=!this._loaded;this._loaded=!0,i=this._limitZoom(i),this.fire("viewprereset");var h=this._zoom!==i;this._moveStart(h,r)._move(e,i)._moveEnd(h),this.fire("viewreset"),c&&this.fire("load")},_moveStart:function(e,i){return e&&this.fire("zoomstart"),i||this.fire("movestart"),this},_move:function(e,i,r,c){i===void 0&&(i=this._zoom);var h=this._zoom!==i;return this._zoom=i,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),c?r&&r.pinch&&this.fire("zoom",r):((h||r&&r.pinch)&&this.fire("zoom",r),this.fire("move",r)),this},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return G(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){Ke(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={},this._targets[f(this._container)]=this;var i=e?Re:fe;i(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&i(window,"resize",this._onResize,this),te.any3d&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){G(this._resizeRequest),this._resizeRequest=U(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,i){for(var r=[],c,h=i==="mouseout"||i==="mouseover",_=e.target||e.srcElement,S=!1;_;){if(c=this._targets[f(_)],c&&(i==="click"||i==="preclick")&&this._draggableMoved(c)){S=!0;break}if(c&&c.listens(i,!0)&&(h&&!eo(_,e)||(r.push(c),h))||_===this._container)break;_=_.parentNode}return!r.length&&!S&&!h&&this.listens(i,!0)&&(r=[this]),r},_isClickDisabled:function(e){for(;e&&e!==this._container;){if(e._leaflet_disable_click)return!0;e=e.parentNode}},_handleDOMEvent:function(e){var i=e.target||e.srcElement;if(!(!this._loaded||i._leaflet_disable_events||e.type==="click"&&this._isClickDisabled(i))){var r=e.type;r==="mousedown"&&$s(i),this._fireDOMEvent(e,r)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,i,r){if(e.type==="click"){var c=a({},e);c.type="preclick",this._fireDOMEvent(c,c.type,r)}var h=this._findEventTargets(e,i);if(r){for(var _=[],S=0;S<r.length;S++)r[S].listens(i,!0)&&_.push(r[S]);h=_.concat(h)}if(h.length){i==="contextmenu"&&tt(e);var P=h[0],M={originalEvent:e};if(e.type!=="keypress"&&e.type!=="keydown"&&e.type!=="keyup"){var O=P.getLatLng&&(!P._radius||P._radius<=10);M.containerPoint=O?this.latLngToContainerPoint(P.getLatLng()):this.mouseEventToContainerPoint(e),M.layerPoint=this.containerPointToLayerPoint(M.containerPoint),M.latlng=O?P.getLatLng():this.layerPointToLatLng(M.layerPoint)}for(S=0;S<h.length;S++)if(h[S].fire(i,M,!0),M.originalEvent._stopped||h[S].options.bubblingMouseEvents===!1&&E(this._mouseEvents,i)!==-1)return}},_draggableMoved:function(e){return e=e.dragging&&e.dragging.enabled()?e:this,e.dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,i=this._handlers.length;e<i;e++)this._handlers[e].disable()},whenReady:function(e,i){return this._loaded?e.call(i||this,{target:this}):this.on("load",e,i),this},_getMapPanePos:function(){return ln(this._mapPane)||new $(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,i){var r=e&&i!==void 0?this._getNewPixelOrigin(e,i):this.getPixelOrigin();return r.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,i){var r=this.getSize()._divideBy(2);return this.project(e,i)._subtract(r)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,i,r){var c=this._getNewPixelOrigin(r,i);return this.project(e,i)._subtract(c)},_latLngBoundsToNewLayerBounds:function(e,i,r){var c=this._getNewPixelOrigin(r,i);return ue([this.project(e.getSouthWest(),i)._subtract(c),this.project(e.getNorthWest(),i)._subtract(c),this.project(e.getSouthEast(),i)._subtract(c),this.project(e.getNorthEast(),i)._subtract(c)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,i,r){if(!r)return e;var c=this.project(e,i),h=this.getSize().divideBy(2),_=new I(c.subtract(h),c.add(h)),S=this._getBoundsOffset(_,r,i);return Math.abs(S.x)<=1&&Math.abs(S.y)<=1?e:this.unproject(c.add(S),i)},_limitOffset:function(e,i){if(!i)return e;var r=this.getPixelBounds(),c=new I(r.min.add(e),r.max.add(e));return e.add(this._getBoundsOffset(c,i))},_getBoundsOffset:function(e,i,r){var c=ue(this.project(i.getNorthEast(),r),this.project(i.getSouthWest(),r)),h=c.min.subtract(e.min),_=c.max.subtract(e.max),S=this._rebound(h.x,-_.x),P=this._rebound(h.y,-_.y);return new $(S,P)},_rebound:function(e,i){return e+i>0?Math.round(e-i)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(i))},_limitZoom:function(e){var i=this.getMinZoom(),r=this.getMaxZoom(),c=te.any3d?this.options.zoomSnap:1;return c&&(e=Math.round(e/c)*c),Math.max(i,Math.min(r,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Je(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,i){var r=this._getCenterOffset(e)._trunc();return(i&&i.animate)!==!0&&!this.getSize().contains(r)?!1:(this.panBy(r,i),!0)},_createAnimProxy:function(){var e=this._proxy=ke("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",function(i){var r=Vs,c=this._proxy.style[r];an(this._proxy,this.project(i.center,i.zoom),this.getZoomScale(i.zoom,1)),c===this._proxy.style[r]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Be(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var e=this.getCenter(),i=this.getZoom();an(this._proxy,this.project(e,i),this.getZoomScale(i,1))},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,i,r){if(this._animatingZoom)return!0;if(r=r||{},!this._zoomAnimated||r.animate===!1||this._nothingToAnimate()||Math.abs(i-this._zoom)>this.options.zoomAnimationThreshold)return!1;var c=this.getZoomScale(i),h=this._getCenterOffset(e)._divideBy(1-1/c);return r.animate!==!0&&!this.getSize().contains(h)?!1:(U(function(){this._moveStart(!0,r.noMoveStart||!1)._animateZoom(e,i,!0)},this),!0)},_animateZoom:function(e,i,r,c){this._mapPane&&(r&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=i,ye(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:i,noUpdate:c}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(l(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Je(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Ph(e,i){return new Ae(e,i)}var bt=ie.extend({options:{position:"topright"},initialize:function(e){w(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var i=this._map;return i&&i.removeControl(this),this.options.position=e,i&&i.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var i=this._container=this.onAdd(e),r=this.getPosition(),c=e._controlCorners[r];return ye(i,"leaflet-control"),r.indexOf("bottom")!==-1?c.insertBefore(i,c.firstChild):c.appendChild(i),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Be(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),ti=function(e){return new bt(e)};Ae.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){var e=this._controlCorners={},i="leaflet-",r=this._controlContainer=ke("div",i+"control-container",this._container);function c(h,_){var S=i+h+" "+i+_;e[h+_]=ke("div",S,r)}c("top","left"),c("top","right"),c("bottom","left"),c("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)Be(this._controlCorners[e]);Be(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var ma=bt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,i,r,c){return r<c?-1:c<r?1:0}},initialize:function(e,i,r){w(this,r),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var c in e)this._addLayer(e[c],c);for(c in i)this._addLayer(i[c],c,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return bt.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,i){return this._addLayer(e,i),this._map?this._update():this},addOverlay:function(e,i){return this._addLayer(e,i,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var i=this._getLayer(f(e));return i&&this._layers.splice(this._layers.indexOf(i),1),this._map?this._update():this},expand:function(){ye(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._section.clientHeight?(ye(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=e+"px"):Je(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Je(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",i=this._container=ke("div",e),r=this.options.collapsed;i.setAttribute("aria-haspopup",!0),ei(i),Qs(i);var c=this._section=ke("section",e+"-list");r&&(this._map.on("click",this.collapse,this),fe(i,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var h=this._layersLink=ke("a",e+"-toggle",i);h.href="#",h.title="Layers",h.setAttribute("role","button"),fe(h,{keydown:function(_){_.keyCode===13&&this._expandSafely()},click:function(_){tt(_),this._expandSafely()}},this),r||this.expand(),this._baseLayersList=ke("div",e+"-base",c),this._separator=ke("div",e+"-separator",c),this._overlaysList=ke("div",e+"-overlays",c),i.appendChild(c)},_getLayer:function(e){for(var i=0;i<this._layers.length;i++)if(this._layers[i]&&f(this._layers[i].layer)===e)return this._layers[i]},_addLayer:function(e,i,r){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:i,overlay:r}),this.options.sortLayers&&this._layers.sort(l(function(c,h){return this.options.sortFunction(c.layer,h.layer,c.name,h.name)},this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Oi(this._baseLayersList),Oi(this._overlaysList),this._layerControlInputs=[];var e,i,r,c,h=0;for(r=0;r<this._layers.length;r++)c=this._layers[r],this._addItem(c),i=i||c.overlay,e=e||!c.overlay,h+=c.overlay?0:1;return this.options.hideSingleBase&&(e=e&&h>1,this._baseLayersList.style.display=e?"":"none"),this._separator.style.display=i&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var i=this._getLayer(f(e.target)),r=i.overlay?e.type==="add"?"overlayadd":"overlayremove":e.type==="add"?"baselayerchange":null;r&&this._map.fire(r,i)},_createRadioElement:function(e,i){var r='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(i?' checked="checked"':"")+"/>",c=document.createElement("div");return c.innerHTML=r,c.firstChild},_addItem:function(e){var i=document.createElement("label"),r=this._map.hasLayer(e.layer),c;e.overlay?(c=document.createElement("input"),c.type="checkbox",c.className="leaflet-control-layers-selector",c.defaultChecked=r):c=this._createRadioElement("leaflet-base-layers_"+f(this),r),this._layerControlInputs.push(c),c.layerId=f(e.layer),fe(c,"click",this._onInputClick,this);var h=document.createElement("span");h.innerHTML=" "+e.name;var _=document.createElement("span");i.appendChild(_),_.appendChild(c),_.appendChild(h);var S=e.overlay?this._overlaysList:this._baseLayersList;return S.appendChild(i),this._checkDisabledLayers(),i},_onInputClick:function(){if(!this._preventClick){var e=this._layerControlInputs,i,r,c=[],h=[];this._handlingClick=!0;for(var _=e.length-1;_>=0;_--)i=e[_],r=this._getLayer(i.layerId).layer,i.checked?c.push(r):i.checked||h.push(r);for(_=0;_<h.length;_++)this._map.hasLayer(h[_])&&this._map.removeLayer(h[_]);for(_=0;_<c.length;_++)this._map.hasLayer(c[_])||this._map.addLayer(c[_]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var e=this._layerControlInputs,i,r,c=this._map.getZoom(),h=e.length-1;h>=0;h--)i=e[h],r=this._getLayer(i.layerId).layer,i.disabled=r.options.minZoom!==void 0&&c<r.options.minZoom||r.options.maxZoom!==void 0&&c>r.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var e=this._section;this._preventClick=!0,fe(e,"click",tt),this.expand();var i=this;setTimeout(function(){Re(e,"click",tt),i._preventClick=!1})}}),kh=function(e,i,r){return new ma(e,i,r)},to=bt.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(e){var i="leaflet-control-zoom",r=ke("div",i+" leaflet-bar"),c=this.options;return this._zoomInButton=this._createButton(c.zoomInText,c.zoomInTitle,i+"-in",r,this._zoomIn),this._zoomOutButton=this._createButton(c.zoomOutText,c.zoomOutTitle,i+"-out",r,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),r},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,i,r,c,h){var _=ke("a",r,c);return _.innerHTML=e,_.href="#",_.title=i,_.setAttribute("role","button"),_.setAttribute("aria-label",i),ei(_),fe(_,"click",un),fe(_,"click",h,this),fe(_,"click",this._refocusOnMap,this),_},_updateDisabled:function(){var e=this._map,i="leaflet-disabled";Je(this._zoomInButton,i),Je(this._zoomOutButton,i),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||e._zoom===e.getMinZoom())&&(ye(this._zoomOutButton,i),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||e._zoom===e.getMaxZoom())&&(ye(this._zoomInButton,i),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ae.mergeOptions({zoomControl:!0}),Ae.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new to,this.addControl(this.zoomControl))});var Mh=function(e){return new to(e)},pa=bt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var i="leaflet-control-scale",r=ke("div",i),c=this.options;return this._addScales(c,i+"-line",r),e.on(c.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),r},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,i,r){e.metric&&(this._mScale=ke("div",i,r)),e.imperial&&(this._iScale=ke("div",i,r))},_update:function(){var e=this._map,i=e.getSize().y/2,r=e.distance(e.containerPointToLatLng([0,i]),e.containerPointToLatLng([this.options.maxWidth,i]));this._updateScales(r)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var i=this._getRoundNum(e),r=i<1e3?i+" m":i/1e3+" km";this._updateScale(this._mScale,r,i/e)},_updateImperial:function(e){var i=e*3.2808399,r,c,h;i>5280?(r=i/5280,c=this._getRoundNum(r),this._updateScale(this._iScale,c+" mi",c/r)):(h=this._getRoundNum(i),this._updateScale(this._iScale,h+" ft",h/i))},_updateScale:function(e,i,r){e.style.width=Math.round(this.options.maxWidth*r)+"px",e.innerHTML=i},_getRoundNum:function(e){var i=Math.pow(10,(Math.floor(e)+"").length-1),r=e/i;return r=r>=10?10:r>=5?5:r>=3?3:r>=2?2:1,i*r}}),Dh=function(e){return new pa(e)},Lh='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',no=bt.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(te.inlineSvg?Lh+" ":"")+"Leaflet</a>"},initialize:function(e){w(this,e),this._attributions={}},onAdd:function(e){e.attributionControl=this,this._container=ke("div","leaflet-control-attribution"),ei(this._container);for(var i in e._layers)e._layers[i].getAttribution&&this.addAttribution(e._layers[i].getAttribution());return this._update(),e.on("layeradd",this._addAttribution,this),this._container},onRemove:function(e){e.off("layeradd",this._addAttribution,this)},_addAttribution:function(e){e.layer.getAttribution&&(this.addAttribution(e.layer.getAttribution()),e.layer.once("remove",function(){this.removeAttribution(e.layer.getAttribution())},this))},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(this._map){var e=[];for(var i in this._attributions)this._attributions[i]&&e.push(i);var r=[];this.options.prefix&&r.push(this.options.prefix),e.length&&r.push(e.join(", ")),this._container.innerHTML=r.join(' <span aria-hidden="true">|</span> ')}}});Ae.mergeOptions({attributionControl:!0}),Ae.addInitHook(function(){this.options.attributionControl&&new no().addTo(this)});var Eh=function(e){return new no(e)};bt.Layers=ma,bt.Zoom=to,bt.Scale=pa,bt.Attribution=no,ti.layers=kh,ti.zoom=Mh,ti.scale=Dh,ti.attribution=Eh;var Dt=ie.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Dt.addTo=function(e,i){return e.addHandler(i,this),this};var Nh={Events:de},ga=te.touch?"touchstart mousedown":"mousedown",Kt=ae.extend({options:{clickTolerance:3},initialize:function(e,i,r,c){w(this,c),this._element=e,this._dragStartTarget=i||e,this._preventOutline=r},enable:function(){this._enabled||(fe(this._dragStartTarget,ga,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Kt._dragging===this&&this.finishDrag(!0),Re(this._dragStartTarget,ga,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(this._enabled&&(this._moved=!1,!Zs(this._element,"leaflet-zoom-anim"))){if(e.touches&&e.touches.length!==1){Kt._dragging===this&&this.finishDrag();return}if(!(Kt._dragging||e.shiftKey||e.which!==1&&e.button!==1&&!e.touches)&&(Kt._dragging=this,this._preventOutline&&$s(this._element),Gs(),qn(),!this._moving)){this.fire("down");var i=e.touches?e.touches[0]:e,r=la(this._element);this._startPoint=new $(i.clientX,i.clientY),this._startPos=ln(this._element),this._parentScale=Ks(r);var c=e.type==="mousedown";fe(document,c?"mousemove":"touchmove",this._onMove,this),fe(document,c?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(e){if(this._enabled){if(e.touches&&e.touches.length>1){this._moved=!0;return}var i=e.touches&&e.touches.length===1?e.touches[0]:e,r=new $(i.clientX,i.clientY)._subtract(this._startPoint);!r.x&&!r.y||Math.abs(r.x)+Math.abs(r.y)<this.options.clickTolerance||(r.x/=this._parentScale.x,r.y/=this._parentScale.y,tt(e),this._moved||(this.fire("dragstart"),this._moved=!0,ye(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ye(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(r),this._moving=!0,this._lastEvent=e,this._updatePosition())}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),Ke(this._element,this._newPos),this.fire("drag",e)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(e){Je(document.body,"leaflet-dragging"),this._lastTarget&&(Je(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Re(document,"mousemove touchmove",this._onMove,this),Re(document,"mouseup touchend touchcancel",this._onUp,this),Js(),Yn();var i=this._moved&&this._moving;this._moving=!1,Kt._dragging=!1,i&&this.fire("dragend",{noInertia:e,distance:this._newPos.distanceTo(this._startPos)})}});function ya(e,i,r){var c,h=[1,4,2,8],_,S,P,M,O,X,oe,be;for(_=0,X=e.length;_<X;_++)e[_]._code=dn(e[_],i);for(P=0;P<4;P++){for(oe=h[P],c=[],_=0,X=e.length,S=X-1;_<X;S=_++)M=e[_],O=e[S],M._code&oe?O._code&oe||(be=Zi(O,M,oe,i,r),be._code=dn(be,i),c.push(be)):(O._code&oe&&(be=Zi(O,M,oe,i,r),be._code=dn(be,i),c.push(be)),c.push(M));e=c}return e}function va(e,i){var r,c,h,_,S,P,M,O,X;if(!e||e.length===0)throw new Error("latlngs not passed");pt(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var oe=Z([0,0]),be=H(e),at=be.getNorthWest().distanceTo(be.getSouthWest())*be.getNorthEast().distanceTo(be.getNorthWest());at<1700&&(oe=io(e));var et=e.length,gt=[];for(r=0;r<et;r++){var ct=Z(e[r]);gt.push(i.project(Z([ct.lat-oe.lat,ct.lng-oe.lng])))}for(P=M=O=0,r=0,c=et-1;r<et;c=r++)h=gt[r],_=gt[c],S=h.y*_.x-_.y*h.x,M+=(h.x+_.x)*S,O+=(h.y+_.y)*S,P+=S*3;P===0?X=gt[0]:X=[M/P,O/P];var En=i.unproject(q(X));return Z([En.lat+oe.lat,En.lng+oe.lng])}function io(e){for(var i=0,r=0,c=0,h=0;h<e.length;h++){var _=Z(e[h]);i+=_.lat,r+=_.lng,c++}return Z([i/c,r/c])}var Ih={__proto__:null,clipPolygon:ya,polygonCenter:va,centroid:io};function _a(e,i){if(!i||!e.length)return e.slice();var r=i*i;return e=Oh(e,r),e=jh(e,r),e}function xa(e,i,r){return Math.sqrt(ni(e,i,r,!0))}function Rh(e,i,r){return ni(e,i,r)}function jh(e,i){var r=e.length,c=typeof Uint8Array<"u"?Uint8Array:Array,h=new c(r);h[0]=h[r-1]=1,so(e,h,i,0,r-1);var _,S=[];for(_=0;_<r;_++)h[_]&&S.push(e[_]);return S}function so(e,i,r,c,h){var _=0,S,P,M;for(P=c+1;P<=h-1;P++)M=ni(e[P],e[c],e[h],!0),M>_&&(S=P,_=M);_>r&&(i[S]=1,so(e,i,r,c,S),so(e,i,r,S,h))}function Oh(e,i){for(var r=[e[0]],c=1,h=0,_=e.length;c<_;c++)zh(e[c],e[h])>i&&(r.push(e[c]),h=c);return h<_-1&&r.push(e[_-1]),r}var ba;function Sa(e,i,r,c,h){var _=c?ba:dn(e,r),S=dn(i,r),P,M,O;for(ba=S;;){if(!(_|S))return[e,i];if(_&S)return!1;P=_||S,M=Zi(e,i,P,r,h),O=dn(M,r),P===_?(e=M,_=O):(i=M,S=O)}}function Zi(e,i,r,c,h){var _=i.x-e.x,S=i.y-e.y,P=c.min,M=c.max,O,X;return r&8?(O=e.x+_*(M.y-e.y)/S,X=M.y):r&4?(O=e.x+_*(P.y-e.y)/S,X=P.y):r&2?(O=M.x,X=e.y+S*(M.x-e.x)/_):r&1&&(O=P.x,X=e.y+S*(P.x-e.x)/_),new $(O,X,h)}function dn(e,i){var r=0;return e.x<i.min.x?r|=1:e.x>i.max.x&&(r|=2),e.y<i.min.y?r|=4:e.y>i.max.y&&(r|=8),r}function zh(e,i){var r=i.x-e.x,c=i.y-e.y;return r*r+c*c}function ni(e,i,r,c){var h=i.x,_=i.y,S=r.x-h,P=r.y-_,M=S*S+P*P,O;return M>0&&(O=((e.x-h)*S+(e.y-_)*P)/M,O>1?(h=r.x,_=r.y):O>0&&(h+=S*O,_+=P*O)),S=e.x-h,P=e.y-_,c?S*S+P*P:new $(h,_)}function pt(e){return!T(e[0])||typeof e[0][0]!="object"&&typeof e[0][0]<"u"}function wa(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),pt(e)}function Ta(e,i){var r,c,h,_,S,P,M,O;if(!e||e.length===0)throw new Error("latlngs not passed");pt(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var X=Z([0,0]),oe=H(e),be=oe.getNorthWest().distanceTo(oe.getSouthWest())*oe.getNorthEast().distanceTo(oe.getNorthWest());be<1700&&(X=io(e));var at=e.length,et=[];for(r=0;r<at;r++){var gt=Z(e[r]);et.push(i.project(Z([gt.lat-X.lat,gt.lng-X.lng])))}for(r=0,c=0;r<at-1;r++)c+=et[r].distanceTo(et[r+1])/2;if(c===0)O=et[0];else for(r=0,_=0;r<at-1;r++)if(S=et[r],P=et[r+1],h=S.distanceTo(P),_+=h,_>c){M=(_-c)/h,O=[P.x-M*(P.x-S.x),P.y-M*(P.y-S.y)];break}var ct=i.unproject(q(O));return Z([ct.lat+X.lat,ct.lng+X.lng])}var Bh={__proto__:null,simplify:_a,pointToSegmentDistance:xa,closestPointOnSegment:Rh,clipSegment:Sa,_getEdgeIntersection:Zi,_getBitCode:dn,_sqClosestPointOnSegment:ni,isFlat:pt,_flat:wa,polylineCenter:Ta},oo={project:function(e){return new $(e.lng,e.lat)},unproject:function(e){return new W(e.y,e.x)},bounds:new I([-180,-90],[180,90])},ro={R:6378137,R_MINOR:6356752314245179e-9,bounds:new I([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(e){var i=Math.PI/180,r=this.R,c=e.lat*i,h=this.R_MINOR/r,_=Math.sqrt(1-h*h),S=_*Math.sin(c),P=Math.tan(Math.PI/4-c/2)/Math.pow((1-S)/(1+S),_/2);return c=-r*Math.log(Math.max(P,1e-10)),new $(e.lng*i*r,c)},unproject:function(e){for(var i=180/Math.PI,r=this.R,c=this.R_MINOR/r,h=Math.sqrt(1-c*c),_=Math.exp(-e.y/r),S=Math.PI/2-2*Math.atan(_),P=0,M=.1,O;P<15&&Math.abs(M)>1e-7;P++)O=h*Math.sin(S),O=Math.pow((1-O)/(1+O),h/2),M=Math.PI/2-2*Math.atan(_*O)-S,S+=M;return new W(S*i,e.x*i/r)}},Fh={__proto__:null,LonLat:oo,Mercator:ro,SphericalMercator:Te},Vh=a({},ee,{code:"EPSG:3395",projection:ro,transformation:function(){var e=.5/(Math.PI*ro.R);return Ne(e,.5,-e,.5)}()}),Aa=a({},ee,{code:"EPSG:4326",projection:oo,transformation:Ne(1/180,1,-1/180,.5)}),Zh=a({},K,{projection:oo,transformation:Ne(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,i){var r=i.lng-e.lng,c=i.lat-e.lat;return Math.sqrt(r*r+c*c)},infinite:!0});K.Earth=ee,K.EPSG3395=Vh,K.EPSG3857=Se,K.EPSG900913=De,K.EPSG4326=Aa,K.Simple=Zh;var St=ae.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[f(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[f(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var i=e.target;if(i.hasLayer(this)){if(this._map=i,this._zoomAnimated=i._zoomAnimated,this.getEvents){var r=this.getEvents();i.on(r,this),this.once("remove",function(){i.off(r,this)},this)}this.onAdd(i),this.fire("add"),i.fire("layeradd",{layer:this})}}});Ae.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var i=f(e);return this._layers[i]?this:(this._layers[i]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e),this)},removeLayer:function(e){var i=f(e);return this._layers[i]?(this._loaded&&e.onRemove(this),delete this._layers[i],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return f(e)in this._layers},eachLayer:function(e,i){for(var r in this._layers)e.call(i,this._layers[r]);return this},_addLayers:function(e){e=e?T(e)?e:[e]:[];for(var i=0,r=e.length;i<r;i++)this.addLayer(e[i])},_addZoomLimit:function(e){(!isNaN(e.options.maxZoom)||!isNaN(e.options.minZoom))&&(this._zoomBoundLayers[f(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var i=f(e);this._zoomBoundLayers[i]&&(delete this._zoomBoundLayers[i],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,i=-1/0,r=this._getZoomSpan();for(var c in this._zoomBoundLayers){var h=this._zoomBoundLayers[c].options;e=h.minZoom===void 0?e:Math.min(e,h.minZoom),i=h.maxZoom===void 0?i:Math.max(i,h.maxZoom)}this._layersMaxZoom=i===-1/0?void 0:i,this._layersMinZoom=e===1/0?void 0:e,r!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Pn=St.extend({initialize:function(e,i){w(this,i),this._layers={};var r,c;if(e)for(r=0,c=e.length;r<c;r++)this.addLayer(e[r])},addLayer:function(e){var i=this.getLayerId(e);return this._layers[i]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var i=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[i]&&this._map.removeLayer(this._layers[i]),delete this._layers[i],this},hasLayer:function(e){var i=typeof e=="number"?e:this.getLayerId(e);return i in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var i=Array.prototype.slice.call(arguments,1),r,c;for(r in this._layers)c=this._layers[r],c[e]&&c[e].apply(c,i);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,i){for(var r in this._layers)e.call(i,this._layers[r]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return f(e)}}),Wh=function(e,i){return new Pn(e,i)},Ot=Pn.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),Pn.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),Pn.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new F;for(var i in this._layers){var r=this._layers[i];e.extend(r.getBounds?r.getBounds():r.getLatLng())}return e}}),Hh=function(e,i){return new Ot(e,i)},kn=ie.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(e){w(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,i){var r=this._getIconUrl(e);if(!r){if(e==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var c=this._createImg(r,i&&i.tagName==="IMG"?i:null);return this._setIconStyles(c,e),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),c},_setIconStyles:function(e,i){var r=this.options,c=r[i+"Size"];typeof c=="number"&&(c=[c,c]);var h=q(c),_=q(i==="shadow"&&r.shadowAnchor||r.iconAnchor||h&&h.divideBy(2,!0));e.className="leaflet-marker-"+i+" "+(r.className||""),_&&(e.style.marginLeft=-_.x+"px",e.style.marginTop=-_.y+"px"),h&&(e.style.width=h.x+"px",e.style.height=h.y+"px")},_createImg:function(e,i){return i=i||document.createElement("img"),i.src=e,i},_getIconUrl:function(e){return te.retina&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}});function Gh(e){return new kn(e)}var ii=kn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return typeof ii.imagePath!="string"&&(ii.imagePath=this._detectIconPath()),(this.options.imagePath||ii.imagePath)+kn.prototype._getIconUrl.call(this,e)},_stripUrl:function(e){var i=function(r,c,h){var _=c.exec(r);return _&&_[h]};return e=i(e,/^url\((['"])?(.+)\1\)$/,2),e&&i(e,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var e=ke("div","leaflet-default-icon-path",document.body),i=Xn(e,"background-image")||Xn(e,"backgroundImage");if(document.body.removeChild(e),i=this._stripUrl(i),i)return i;var r=document.querySelector('link[href$="leaflet.css"]');return r?r.href.substring(0,r.href.length-11-1):""}}),Ca=Dt.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new Kt(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ye(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Je(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var i=this._marker,r=i._map,c=this._marker.options.autoPanSpeed,h=this._marker.options.autoPanPadding,_=ln(i._icon),S=r.getPixelBounds(),P=r.getPixelOrigin(),M=ue(S.min._subtract(P).add(h),S.max._subtract(P).subtract(h));if(!M.contains(_)){var O=q((Math.max(M.max.x,_.x)-M.max.x)/(S.max.x-M.max.x)-(Math.min(M.min.x,_.x)-M.min.x)/(S.min.x-M.min.x),(Math.max(M.max.y,_.y)-M.max.y)/(S.max.y-M.max.y)-(Math.min(M.min.y,_.y)-M.min.y)/(S.min.y-M.min.y)).multiplyBy(c);r.panBy(O,{animate:!1}),this._draggable._newPos._add(O),this._draggable._startPos._add(O),Ke(i._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=U(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&(G(this._panRequest),this._panRequest=U(this._adjustPan.bind(this,e)))},_onDrag:function(e){var i=this._marker,r=i._shadow,c=ln(i._icon),h=i._map.layerPointToLatLng(c);r&&Ke(r,c),i._latlng=h,e.latlng=h,e.oldLatLng=this._oldLatLng,i.fire("move",e).fire("drag",e)},_onDragEnd:function(e){G(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),Wi=St.extend({options:{icon:new ii,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(e,i){w(this,i),this._latlng=Z(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var i=this._latlng;return this._latlng=Z(e),this.update(),this.fire("move",{oldLatLng:i,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},getIcon:function(){return this.options.icon},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,i="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),r=e.icon.createIcon(this._icon),c=!1;r!==this._icon&&(this._icon&&this._removeIcon(),c=!0,e.title&&(r.title=e.title),r.tagName==="IMG"&&(r.alt=e.alt||"")),ye(r,i),e.keyboard&&(r.tabIndex="0",r.setAttribute("role","button")),this._icon=r,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&fe(r,"focus",this._panOnFocus,this);var h=e.icon.createShadow(this._shadow),_=!1;h!==this._shadow&&(this._removeShadow(),_=!0),h&&(ye(h,i),h.alt=""),this._shadow=h,e.opacity<1&&this._updateOpacity(),c&&this.getPane().appendChild(this._icon),this._initInteraction(),h&&_&&this.getPane(e.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Re(this._icon,"focus",this._panOnFocus,this),Be(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Be(this._shadow),this._shadow=null},_setPos:function(e){this._icon&&Ke(this._icon,e),this._shadow&&Ke(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon&&(this._icon.style.zIndex=this._zIndex+e)},_animateZoom:function(e){var i=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(i)},_initInteraction:function(){if(this.options.interactive&&(ye(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ca)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ca(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;this._icon&&mt(this._icon,e),this._shadow&&mt(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var e=this._map;if(e){var i=this.options.icon.options,r=i.iconSize?q(i.iconSize):q(0,0),c=i.iconAnchor?q(i.iconAnchor):q(0,0);e.panInside(this._latlng,{paddingTopLeft:c,paddingBottomRight:r.subtract(c)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Jh(e,i){return new Wi(e,i)}var Xt=St.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return w(this,e),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&e&&Object.prototype.hasOwnProperty.call(e,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Hi=Xt.extend({options:{fill:!0,radius:10},initialize:function(e,i){w(this,i),this._latlng=Z(e),this._radius=this.options.radius},setLatLng:function(e){var i=this._latlng;return this._latlng=Z(e),this.redraw(),this.fire("move",{oldLatLng:i,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var i=e&&e.radius||this._radius;return Xt.prototype.setStyle.call(this,e),this.setRadius(i),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,i=this._radiusY||e,r=this._clickTolerance(),c=[e+r,i+r];this._pxBounds=new I(this._point.subtract(c),this._point.add(c))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Uh(e,i){return new Hi(e,i)}var ao=Hi.extend({initialize:function(e,i,r){if(typeof i=="number"&&(i=a({},r,{radius:i})),w(this,i),this._latlng=Z(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new F(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:Xt.prototype.setStyle,_project:function(){var e=this._latlng.lng,i=this._latlng.lat,r=this._map,c=r.options.crs;if(c.distance===ee.distance){var h=Math.PI/180,_=this._mRadius/ee.R/h,S=r.project([i+_,e]),P=r.project([i-_,e]),M=S.add(P).divideBy(2),O=r.unproject(M).lat,X=Math.acos((Math.cos(_*h)-Math.sin(i*h)*Math.sin(O*h))/(Math.cos(i*h)*Math.cos(O*h)))/h;(isNaN(X)||X===0)&&(X=_/Math.cos(Math.PI/180*i)),this._point=M.subtract(r.getPixelOrigin()),this._radius=isNaN(X)?0:M.x-r.project([O,e-X]).x,this._radiusY=M.y-S.y}else{var oe=c.unproject(c.project(this._latlng).subtract([this._mRadius,0]));this._point=r.latLngToLayerPoint(this._latlng),this._radius=this._point.x-r.latLngToLayerPoint(oe).x}this._updateBounds()}});function $h(e,i,r){return new ao(e,i,r)}var zt=Xt.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,i){w(this,i),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var i=1/0,r=null,c=ni,h,_,S=0,P=this._parts.length;S<P;S++)for(var M=this._parts[S],O=1,X=M.length;O<X;O++){h=M[O-1],_=M[O];var oe=c(e,h,_,!0);oe<i&&(i=oe,r=c(e,h,_))}return r&&(r.distance=Math.sqrt(i)),r},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ta(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(e,i){return i=i||this._defaultShape(),e=Z(e),i.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new F,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return pt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var i=[],r=pt(e),c=0,h=e.length;c<h;c++)r?(i[c]=Z(e[c]),this._bounds.extend(i[c])):i[c]=this._convertLatLngs(e[c]);return i},_project:function(){var e=new I;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e),this._bounds.isValid()&&e.isValid()&&(this._rawPxBounds=e,this._updateBounds())},_updateBounds:function(){var e=this._clickTolerance(),i=new $(e,e);this._rawPxBounds&&(this._pxBounds=new I([this._rawPxBounds.min.subtract(i),this._rawPxBounds.max.add(i)]))},_projectLatlngs:function(e,i,r){var c=e[0]instanceof W,h=e.length,_,S;if(c){for(S=[],_=0;_<h;_++)S[_]=this._map.latLngToLayerPoint(e[_]),r.extend(S[_]);i.push(S)}else for(_=0;_<h;_++)this._projectLatlngs(e[_],i,r)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}var i=this._parts,r,c,h,_,S,P,M;for(r=0,h=0,_=this._rings.length;r<_;r++)for(M=this._rings[r],c=0,S=M.length;c<S-1;c++)P=Sa(M[c],M[c+1],e,c,!0),P&&(i[h]=i[h]||[],i[h].push(P[0]),(P[1]!==M[c+1]||c===S-2)&&(i[h].push(P[1]),h++))}},_simplifyPoints:function(){for(var e=this._parts,i=this.options.smoothFactor,r=0,c=e.length;r<c;r++)e[r]=_a(e[r],i)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,i){var r,c,h,_,S,P,M=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(r=0,_=this._parts.length;r<_;r++)for(P=this._parts[r],c=0,S=P.length,h=S-1;c<S;h=c++)if(!(!i&&c===0)&&xa(e,P[h],P[c])<=M)return!0;return!1}});function Kh(e,i){return new zt(e,i)}zt._flat=wa;var Mn=zt.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return va(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(e){var i=zt.prototype._convertLatLngs.call(this,e),r=i.length;return r>=2&&i[0]instanceof W&&i[0].equals(i[r-1])&&i.pop(),i},_setLatLngs:function(e){zt.prototype._setLatLngs.call(this,e),pt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return pt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,i=this.options.weight,r=new $(i,i);if(e=new I(e.min.subtract(r),e.max.add(r)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}for(var c=0,h=this._rings.length,_;c<h;c++)_=ya(this._rings[c],e,!0),_.length&&this._parts.push(_)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var i=!1,r,c,h,_,S,P,M,O;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(_=0,M=this._parts.length;_<M;_++)for(r=this._parts[_],S=0,O=r.length,P=O-1;S<O;P=S++)c=r[S],h=r[P],c.y>e.y!=h.y>e.y&&e.x<(h.x-c.x)*(e.y-c.y)/(h.y-c.y)+c.x&&(i=!i);return i||zt.prototype._containsPoint.call(this,e,!0)}});function Xh(e,i){return new Mn(e,i)}var Bt=Ot.extend({initialize:function(e,i){w(this,i),this._layers={},e&&this.addData(e)},addData:function(e){var i=T(e)?e:e.features,r,c,h;if(i){for(r=0,c=i.length;r<c;r++)h=i[r],(h.geometries||h.geometry||h.features||h.coordinates)&&this.addData(h);return this}var _=this.options;if(_.filter&&!_.filter(e))return this;var S=Gi(e,_);return S?(S.feature=$i(e),S.defaultOptions=S.options,this.resetStyle(S),_.onEachFeature&&_.onEachFeature(e,S),this.addLayer(S)):this},resetStyle:function(e){return e===void 0?this.eachLayer(this.resetStyle,this):(e.options=a({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this)},setStyle:function(e){return this.eachLayer(function(i){this._setLayerStyle(i,e)},this)},_setLayerStyle:function(e,i){e.setStyle&&(typeof i=="function"&&(i=i(e.feature)),e.setStyle(i))}});function Gi(e,i){var r=e.type==="Feature"?e.geometry:e,c=r?r.coordinates:null,h=[],_=i&&i.pointToLayer,S=i&&i.coordsToLatLng||lo,P,M,O,X;if(!c&&!r)return null;switch(r.type){case"Point":return P=S(c),Pa(_,e,P,i);case"MultiPoint":for(O=0,X=c.length;O<X;O++)P=S(c[O]),h.push(Pa(_,e,P,i));return new Ot(h);case"LineString":case"MultiLineString":return M=Ji(c,r.type==="LineString"?0:1,S),new zt(M,i);case"Polygon":case"MultiPolygon":return M=Ji(c,r.type==="Polygon"?1:2,S),new Mn(M,i);case"GeometryCollection":for(O=0,X=r.geometries.length;O<X;O++){var oe=Gi({geometry:r.geometries[O],type:"Feature",properties:e.properties},i);oe&&h.push(oe)}return new Ot(h);case"FeatureCollection":for(O=0,X=r.features.length;O<X;O++){var be=Gi(r.features[O],i);be&&h.push(be)}return new Ot(h);default:throw new Error("Invalid GeoJSON object.")}}function Pa(e,i,r,c){return e?e(i,r):new Wi(r,c&&c.markersInheritOptions&&c)}function lo(e){return new W(e[1],e[0],e[2])}function Ji(e,i,r){for(var c=[],h=0,_=e.length,S;h<_;h++)S=i?Ji(e[h],i-1,r):(r||lo)(e[h]),c.push(S);return c}function co(e,i){return e=Z(e),e.alt!==void 0?[y(e.lng,i),y(e.lat,i),y(e.alt,i)]:[y(e.lng,i),y(e.lat,i)]}function Ui(e,i,r,c){for(var h=[],_=0,S=e.length;_<S;_++)h.push(i?Ui(e[_],pt(e[_])?0:i-1,r,c):co(e[_],c));return!i&&r&&h.length>0&&h.push(h[0].slice()),h}function Dn(e,i){return e.feature?a({},e.feature,{geometry:i}):$i(i)}function $i(e){return e.type==="Feature"||e.type==="FeatureCollection"?e:{type:"Feature",properties:{},geometry:e}}var uo={toGeoJSON:function(e){return Dn(this,{type:"Point",coordinates:co(this.getLatLng(),e)})}};Wi.include(uo),ao.include(uo),Hi.include(uo),zt.include({toGeoJSON:function(e){var i=!pt(this._latlngs),r=Ui(this._latlngs,i?1:0,!1,e);return Dn(this,{type:(i?"Multi":"")+"LineString",coordinates:r})}}),Mn.include({toGeoJSON:function(e){var i=!pt(this._latlngs),r=i&&!pt(this._latlngs[0]),c=Ui(this._latlngs,r?2:i?1:0,!0,e);return i||(c=[c]),Dn(this,{type:(r?"Multi":"")+"Polygon",coordinates:c})}}),Pn.include({toMultiPoint:function(e){var i=[];return this.eachLayer(function(r){i.push(r.toGeoJSON(e).geometry.coordinates)}),Dn(this,{type:"MultiPoint",coordinates:i})},toGeoJSON:function(e){var i=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(i==="MultiPoint")return this.toMultiPoint(e);var r=i==="GeometryCollection",c=[];return this.eachLayer(function(h){if(h.toGeoJSON){var _=h.toGeoJSON(e);if(r)c.push(_.geometry);else{var S=$i(_);S.type==="FeatureCollection"?c.push.apply(c,S.features):c.push(S)}}}),r?Dn(this,{geometries:c,type:"GeometryCollection"}):{type:"FeatureCollection",features:c}}});function ka(e,i){return new Bt(e,i)}var qh=ka,Ki=St.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,i,r){this._url=e,this._bounds=H(i),w(this,r)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ye(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Be(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&An(this._image),this},bringToBack:function(){return this._map&&Cn(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=H(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e=this._url.tagName==="IMG",i=this._image=e?this._url:ke("img");if(ye(i,"leaflet-image-layer"),this._zoomAnimated&&ye(i,"leaflet-zoom-animated"),this.options.className&&ye(i,this.options.className),i.onselectstart=v,i.onmousemove=v,i.onload=l(this.fire,this,"load"),i.onerror=l(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(i.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e){this._url=i.src;return}i.src=this._url,i.alt=this.options.alt},_animateZoom:function(e){var i=this._map.getZoomScale(e.zoom),r=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;an(this._image,r,i)},_reset:function(){var e=this._image,i=new I(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),r=i.getSize();Ke(e,i.min),e.style.width=r.x+"px",e.style.height=r.y+"px"},_updateOpacity:function(){mt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)},getCenter:function(){return this._bounds.getCenter()}}),Yh=function(e,i,r){return new Ki(e,i,r)},Ma=Ki.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var e=this._url.tagName==="VIDEO",i=this._image=e?this._url:ke("video");if(ye(i,"leaflet-image-layer"),this._zoomAnimated&&ye(i,"leaflet-zoom-animated"),this.options.className&&ye(i,this.options.className),i.onselectstart=v,i.onmousemove=v,i.onloadeddata=l(this.fire,this,"load"),e){for(var r=i.getElementsByTagName("source"),c=[],h=0;h<r.length;h++)c.push(r[h].src);this._url=r.length>0?c:[i.src];return}T(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(i.style,"objectFit")&&(i.style.objectFit="fill"),i.autoplay=!!this.options.autoplay,i.loop=!!this.options.loop,i.muted=!!this.options.muted,i.playsInline=!!this.options.playsInline;for(var _=0;_<this._url.length;_++){var S=ke("source");S.src=this._url[_],i.appendChild(S)}}});function Qh(e,i,r){return new Ma(e,i,r)}var Da=Ki.extend({_initImage:function(){var e=this._image=this._url;ye(e,"leaflet-image-layer"),this._zoomAnimated&&ye(e,"leaflet-zoom-animated"),this.options.className&&ye(e,this.options.className),e.onselectstart=v,e.onmousemove=v}});function ef(e,i,r){return new Da(e,i,r)}var Lt=St.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(e,i){e&&(e instanceof W||T(e))?(this._latlng=Z(e),w(this,i)):(w(this,e),this._source=i),this.options.content&&(this._content=this.options.content)},openOn:function(e){return e=arguments.length?e:this._source._map,e.hasLayer(this)||e.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(e){return this._map?this.close():(arguments.length?this._source=e:e=this._source,this._prepareOpen(),this.openOn(e._map)),this},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&mt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&mt(this._container,1),this.bringToFront(),this.options.interactive&&(ye(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(e){e._fadeAnimated?(mt(this._container,0),this._removeTimeout=setTimeout(l(Be,void 0,this._container),200)):Be(this._container),this.options.interactive&&(Je(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=Z(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&An(this._container),this},bringToBack:function(){return this._map&&Cn(this._container),this},_prepareOpen:function(e){var i=this._source;if(!i._map)return!1;if(i instanceof Ot){i=null;var r=this._source._layers;for(var c in r)if(r[c]._map){i=r[c];break}if(!i)return!1;this._source=i}if(!e)if(i.getCenter)e=i.getCenter();else if(i.getLatLng)e=i.getLatLng();else if(i.getBounds)e=i.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(e),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var e=this._contentNode,i=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof i=="string")e.innerHTML=i;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(i)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),i=q(this.options.offset),r=this._getAnchor();this._zoomAnimated?Ke(this._container,e.add(r)):i=i.add(e).add(r);var c=this._containerBottom=-i.y,h=this._containerLeft=-Math.round(this._containerWidth/2)+i.x;this._container.style.bottom=c+"px",this._container.style.left=h+"px"}},_getAnchor:function(){return[0,0]}});Ae.include({_initOverlay:function(e,i,r,c){var h=i;return h instanceof e||(h=new e(c).setContent(i)),r&&h.setLatLng(r),h}}),St.include({_initOverlay:function(e,i,r,c){var h=r;return h instanceof e?(w(h,c),h._source=this):(h=i&&!c?i:new e(c,this),h.setContent(r)),h}});var Xi=Lt.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return e=arguments.length?e:this._source._map,!e.hasLayer(this)&&e._popup&&e._popup.options.autoClose&&e.removeLayer(e._popup),e._popup=this,Lt.prototype.openOn.call(this,e)},onAdd:function(e){Lt.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Xt||this._source.on("preclick",cn))},onRemove:function(e){Lt.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Xt||this._source.off("preclick",cn))},getEvents:function(){var e=Lt.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this.close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_initLayout:function(){var e="leaflet-popup",i=this._container=ke("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),r=this._wrapper=ke("div",e+"-content-wrapper",i);if(this._contentNode=ke("div",e+"-content",r),ei(i),Qs(this._contentNode),fe(i,"contextmenu",cn),this._tipContainer=ke("div",e+"-tip-container",i),this._tip=ke("div",e+"-tip",this._tipContainer),this.options.closeButton){var c=this._closeButton=ke("a",e+"-close-button",i);c.setAttribute("role","button"),c.setAttribute("aria-label","Close popup"),c.href="#close",c.innerHTML='<span aria-hidden="true">&#215;</span>',fe(c,"click",function(h){tt(h),this.close()},this)}},_updateLayout:function(){var e=this._contentNode,i=e.style;i.width="",i.whiteSpace="nowrap";var r=e.offsetWidth;r=Math.min(r,this.options.maxWidth),r=Math.max(r,this.options.minWidth),i.width=r+1+"px",i.whiteSpace="",i.height="";var c=e.offsetHeight,h=this.options.maxHeight,_="leaflet-popup-scrolled";h&&c>h?(i.height=h+"px",ye(e,_)):Je(e,_),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var i=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),r=this._getAnchor();Ke(this._container,i.add(r))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var e=this._map,i=parseInt(Xn(this._container,"marginBottom"),10)||0,r=this._container.offsetHeight+i,c=this._containerWidth,h=new $(this._containerLeft,-r-this._containerBottom);h._add(ln(this._container));var _=e.layerPointToContainerPoint(h),S=q(this.options.autoPanPadding),P=q(this.options.autoPanPaddingTopLeft||S),M=q(this.options.autoPanPaddingBottomRight||S),O=e.getSize(),X=0,oe=0;_.x+c+M.x>O.x&&(X=_.x+c-O.x+M.x),_.x-X-P.x<0&&(X=_.x-P.x),_.y+r+M.y>O.y&&(oe=_.y+r-O.y+M.y),_.y-oe-P.y<0&&(oe=_.y-P.y),(X||oe)&&(this.options.keepInView&&(this._autopanning=!0),e.fire("autopanstart").panBy([X,oe]))}},_getAnchor:function(){return q(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),tf=function(e,i){return new Xi(e,i)};Ae.mergeOptions({closePopupOnClick:!0}),Ae.include({openPopup:function(e,i,r){return this._initOverlay(Xi,e,i,r).openOn(this),this},closePopup:function(e){return e=arguments.length?e:this._popup,e&&e.close(),this}}),St.include({bindPopup:function(e,i){return this._popup=this._initOverlay(Xi,this._popup,e,i),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e){return this._popup&&(this instanceof Ot||(this._popup._source=this),this._popup._prepareOpen(e||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){if(!(!this._popup||!this._map)){un(e);var i=e.layer||e.target;if(this._popup._source===i&&!(i instanceof Xt)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(e.latlng);return}this._popup._source=i,this.openPopup(e.latlng)}},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){e.originalEvent.keyCode===13&&this._openPopup(e)}});var qi=Lt.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(e){Lt.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(e){Lt.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var e=Lt.prototype.getEvents.call(this);return this.options.permanent||(e.preclick=this.close),e},_initLayout:function(){var e="leaflet-tooltip",i=e+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ke("div",i),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+f(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var i,r,c=this._map,h=this._container,_=c.latLngToContainerPoint(c.getCenter()),S=c.layerPointToContainerPoint(e),P=this.options.direction,M=h.offsetWidth,O=h.offsetHeight,X=q(this.options.offset),oe=this._getAnchor();P==="top"?(i=M/2,r=O):P==="bottom"?(i=M/2,r=0):P==="center"?(i=M/2,r=O/2):P==="right"?(i=0,r=O/2):P==="left"?(i=M,r=O/2):S.x<_.x?(P="right",i=0,r=O/2):(P="left",i=M+(X.x+oe.x)*2,r=O/2),e=e.subtract(q(i,r,!0)).add(X).add(oe),Je(h,"leaflet-tooltip-right"),Je(h,"leaflet-tooltip-left"),Je(h,"leaflet-tooltip-top"),Je(h,"leaflet-tooltip-bottom"),ye(h,"leaflet-tooltip-"+P),Ke(h,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&mt(this._container,e)},_animateZoom:function(e){var i=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(i)},_getAnchor:function(){return q(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),nf=function(e,i){return new qi(e,i)};Ae.include({openTooltip:function(e,i,r){return this._initOverlay(qi,e,i,r).openOn(this),this},closeTooltip:function(e){return e.close(),this}}),St.include({bindTooltip:function(e,i){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(qi,this._tooltip,e,i),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(!(!e&&this._tooltipHandlersAdded)){var i=e?"off":"on",r={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?r.add=this._openTooltip:(r.mouseover=this._openTooltip,r.mouseout=this.closeTooltip,r.click=this._openTooltip,this._map?this._addFocusListeners():r.add=this._addFocusListeners),this._tooltip.options.sticky&&(r.mousemove=this._moveTooltip),this[i](r),this._tooltipHandlersAdded=!e}},openTooltip:function(e){return this._tooltip&&(this instanceof Ot||(this._tooltip._source=this),this._tooltip._prepareOpen(e)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(e){var i=typeof e.getElement=="function"&&e.getElement();i&&(fe(i,"focus",function(){this._tooltip._source=e,this.openTooltip()},this),fe(i,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(e){var i=typeof e.getElement=="function"&&e.getElement();i&&i.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(e){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var i=this;this._map.once("moveend",function(){i._openOnceFlag=!1,i._openTooltip(e)});return}this._tooltip._source=e.layer||e.target,this.openTooltip(this._tooltip.options.sticky?e.latlng:void 0)}},_moveTooltip:function(e){var i=e.latlng,r,c;this._tooltip.options.sticky&&e.originalEvent&&(r=this._map.mouseEventToContainerPoint(e.originalEvent),c=this._map.containerPointToLayerPoint(r),i=this._map.layerPointToLatLng(c)),this._tooltip.setLatLng(i)}});var La=kn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var i=e&&e.tagName==="DIV"?e:document.createElement("div"),r=this.options;if(r.html instanceof Element?(Oi(i),i.appendChild(r.html)):i.innerHTML=r.html!==!1?r.html:"",r.bgPos){var c=q(r.bgPos);i.style.backgroundPosition=-c.x+"px "+-c.y+"px"}return this._setIconStyles(i,"icon"),i},createShadow:function(){return null}});function sf(e){return new La(e)}kn.Default=ii;var si=St.extend({options:{tileSize:256,opacity:1,updateWhenIdle:te.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){w(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),Be(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(An(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Cn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var e=this._clampZoom(this._map.getZoom());e!==this._tileZoom&&(this._tileZoom=e,this._updateLevels()),this._update()}return this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=p(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof $?e:new $(e,e)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var i=this.getPane().children,r=-e(-1/0,1/0),c=0,h=i.length,_;c<h;c++)_=i[c].style.zIndex,i[c]!==this._container&&_&&(r=e(r,+_));isFinite(r)&&(this.options.zIndex=r+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!te.ielt9){mt(this._container,this.options.opacity);var e=+new Date,i=!1,r=!1;for(var c in this._tiles){var h=this._tiles[c];if(!(!h.current||!h.loaded)){var _=Math.min(1,(e-h.loaded)/200);mt(h.el,_),_<1?i=!0:(h.active?r=!0:this._onOpaqueTile(h),h.active=!0)}}r&&!this._noPrune&&this._pruneTiles(),i&&(G(this._fadeFrame),this._fadeFrame=U(this._updateOpacity,this))}},_onOpaqueTile:v,_initContainer:function(){this._container||(this._container=ke("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,i=this.options.maxZoom;if(e!==void 0){for(var r in this._levels)r=Number(r),this._levels[r].el.children.length||r===e?(this._levels[r].el.style.zIndex=i-Math.abs(e-r),this._onUpdateLevel(r)):(Be(this._levels[r].el),this._removeTilesAtZoom(r),this._onRemoveLevel(r),delete this._levels[r]);var c=this._levels[e],h=this._map;return c||(c=this._levels[e]={},c.el=ke("div","leaflet-tile-container leaflet-zoom-animated",this._container),c.el.style.zIndex=i,c.origin=h.project(h.unproject(h.getPixelOrigin()),e).round(),c.zoom=e,this._setZoomTransform(c,h.getCenter(),h.getZoom()),v(c.el.offsetWidth),this._onCreateLevel(c)),this._level=c,c}},_onUpdateLevel:v,_onRemoveLevel:v,_onCreateLevel:v,_pruneTiles:function(){if(this._map){var e,i,r=this._map.getZoom();if(r>this.options.maxZoom||r<this.options.minZoom){this._removeAllTiles();return}for(e in this._tiles)i=this._tiles[e],i.retain=i.current;for(e in this._tiles)if(i=this._tiles[e],i.current&&!i.active){var c=i.coords;this._retainParent(c.x,c.y,c.z,c.z-5)||this._retainChildren(c.x,c.y,c.z,c.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}},_removeTilesAtZoom:function(e){for(var i in this._tiles)this._tiles[i].coords.z===e&&this._removeTile(i)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)Be(this._levels[e].el),this._onRemoveLevel(Number(e)),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,i,r,c){var h=Math.floor(e/2),_=Math.floor(i/2),S=r-1,P=new $(+h,+_);P.z=+S;var M=this._tileCoordsToKey(P),O=this._tiles[M];return O&&O.active?(O.retain=!0,!0):(O&&O.loaded&&(O.retain=!0),S>c?this._retainParent(h,_,S,c):!1)},_retainChildren:function(e,i,r,c){for(var h=2*e;h<2*e+2;h++)for(var _=2*i;_<2*i+2;_++){var S=new $(h,_);S.z=r+1;var P=this._tileCoordsToKey(S),M=this._tiles[P];if(M&&M.active){M.retain=!0;continue}else M&&M.loaded&&(M.retain=!0);r+1<c&&this._retainChildren(h,_,r+1,c)}},_resetView:function(e){var i=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),i,i)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var i=this.options;return i.minNativeZoom!==void 0&&e<i.minNativeZoom?i.minNativeZoom:i.maxNativeZoom!==void 0&&i.maxNativeZoom<e?i.maxNativeZoom:e},_setView:function(e,i,r,c){var h=Math.round(i);this.options.maxZoom!==void 0&&h>this.options.maxZoom||this.options.minZoom!==void 0&&h<this.options.minZoom?h=void 0:h=this._clampZoom(h);var _=this.options.updateWhenZooming&&h!==this._tileZoom;(!c||_)&&(this._tileZoom=h,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),h!==void 0&&this._update(e),r||this._pruneTiles(),this._noPrune=!!r),this._setZoomTransforms(e,i)},_setZoomTransforms:function(e,i){for(var r in this._levels)this._setZoomTransform(this._levels[r],e,i)},_setZoomTransform:function(e,i,r){var c=this._map.getZoomScale(r,e.zoom),h=e.origin.multiplyBy(c).subtract(this._map._getNewPixelOrigin(i,r)).round();te.any3d?an(e.el,h,c):Ke(e.el,h)},_resetGrid:function(){var e=this._map,i=e.options.crs,r=this._tileSize=this.getTileSize(),c=this._tileZoom,h=this._map.getPixelWorldBounds(this._tileZoom);h&&(this._globalTileRange=this._pxBoundsToTileRange(h)),this._wrapX=i.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,i.wrapLng[0]],c).x/r.x),Math.ceil(e.project([0,i.wrapLng[1]],c).x/r.y)],this._wrapY=i.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([i.wrapLat[0],0],c).y/r.x),Math.ceil(e.project([i.wrapLat[1],0],c).y/r.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(e){var i=this._map,r=i._animatingZoom?Math.max(i._animateToZoom,i.getZoom()):i.getZoom(),c=i.getZoomScale(r,this._tileZoom),h=i.project(e,this._tileZoom).floor(),_=i.getSize().divideBy(c*2);return new I(h.subtract(_),h.add(_))},_update:function(e){var i=this._map;if(i){var r=this._clampZoom(i.getZoom());if(e===void 0&&(e=i.getCenter()),this._tileZoom!==void 0){var c=this._getTiledPixelBounds(e),h=this._pxBoundsToTileRange(c),_=h.getCenter(),S=[],P=this.options.keepBuffer,M=new I(h.getBottomLeft().subtract([P,-P]),h.getTopRight().add([P,-P]));if(!(isFinite(h.min.x)&&isFinite(h.min.y)&&isFinite(h.max.x)&&isFinite(h.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var O in this._tiles){var X=this._tiles[O].coords;(X.z!==this._tileZoom||!M.contains(new $(X.x,X.y)))&&(this._tiles[O].current=!1)}if(Math.abs(r-this._tileZoom)>1){this._setView(e,r);return}for(var oe=h.min.y;oe<=h.max.y;oe++)for(var be=h.min.x;be<=h.max.x;be++){var at=new $(be,oe);if(at.z=this._tileZoom,!!this._isValidTile(at)){var et=this._tiles[this._tileCoordsToKey(at)];et?et.current=!0:S.push(at)}}if(S.sort(function(ct,En){return ct.distanceTo(_)-En.distanceTo(_)}),S.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var gt=document.createDocumentFragment();for(be=0;be<S.length;be++)this._addTile(S[be],gt);this._level.el.appendChild(gt)}}}},_isValidTile:function(e){var i=this._map.options.crs;if(!i.infinite){var r=this._globalTileRange;if(!i.wrapLng&&(e.x<r.min.x||e.x>r.max.x)||!i.wrapLat&&(e.y<r.min.y||e.y>r.max.y))return!1}if(!this.options.bounds)return!0;var c=this._tileCoordsToBounds(e);return H(this.options.bounds).overlaps(c)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var i=this._map,r=this.getTileSize(),c=e.scaleBy(r),h=c.add(r),_=i.unproject(c,e.z),S=i.unproject(h,e.z);return[_,S]},_tileCoordsToBounds:function(e){var i=this._tileCoordsToNwSe(e),r=new F(i[0],i[1]);return this.options.noWrap||(r=this._map.wrapLatLngBounds(r)),r},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var i=e.split(":"),r=new $(+i[0],+i[1]);return r.z=+i[2],r},_removeTile:function(e){var i=this._tiles[e];i&&(Be(i.el),delete this._tiles[e],this.fire("tileunload",{tile:i.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){ye(e,"leaflet-tile");var i=this.getTileSize();e.style.width=i.x+"px",e.style.height=i.y+"px",e.onselectstart=v,e.onmousemove=v,te.ielt9&&this.options.opacity<1&&mt(e,this.options.opacity)},_addTile:function(e,i){var r=this._getTilePos(e),c=this._tileCoordsToKey(e),h=this.createTile(this._wrapCoords(e),l(this._tileReady,this,e));this._initTile(h),this.createTile.length<2&&U(l(this._tileReady,this,e,null,h)),Ke(h,r),this._tiles[c]={el:h,coords:e,current:!0},i.appendChild(h),this.fire("tileloadstart",{tile:h,coords:e})},_tileReady:function(e,i,r){i&&this.fire("tileerror",{error:i,tile:r,coords:e});var c=this._tileCoordsToKey(e);r=this._tiles[c],r&&(r.loaded=+new Date,this._map._fadeAnimated?(mt(r.el,0),G(this._fadeFrame),this._fadeFrame=U(this._updateOpacity,this)):(r.active=!0,this._pruneTiles()),i||(ye(r.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:r.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),te.ielt9||!this._map._fadeAnimated?U(this._pruneTiles,this):setTimeout(l(this._pruneTiles,this),250)))},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var i=new $(this._wrapX?g(e.x,this._wrapX):e.x,this._wrapY?g(e.y,this._wrapY):e.y);return i.z=e.z,i},_pxBoundsToTileRange:function(e){var i=this.getTileSize();return new I(e.min.unscaleBy(i).floor(),e.max.unscaleBy(i).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}});function of(e){return new si(e)}var Ln=si.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(e,i){this._url=e,i=w(this,i),i.detectRetina&&te.retina&&i.maxZoom>0?(i.tileSize=Math.floor(i.tileSize/2),i.zoomReverse?(i.zoomOffset--,i.minZoom=Math.min(i.maxZoom,i.minZoom+1)):(i.zoomOffset++,i.maxZoom=Math.max(i.minZoom,i.maxZoom-1)),i.minZoom=Math.max(0,i.minZoom)):i.zoomReverse?i.minZoom=Math.min(i.maxZoom,i.minZoom):i.maxZoom=Math.max(i.minZoom,i.maxZoom),typeof i.subdomains=="string"&&(i.subdomains=i.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(e,i){return this._url===e&&i===void 0&&(i=!0),this._url=e,i||this.redraw(),this},createTile:function(e,i){var r=document.createElement("img");return fe(r,"load",l(this._tileOnLoad,this,i,r)),fe(r,"error",l(this._tileOnError,this,i,r)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(r.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(r.referrerPolicy=this.options.referrerPolicy),r.alt="",r.src=this.getTileUrl(e),r},getTileUrl:function(e){var i={r:te.retina?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var r=this._globalTileRange.max.y-e.y;this.options.tms&&(i.y=r),i["-y"]=r}return N(this._url,a(i,this.options))},_tileOnLoad:function(e,i){te.ielt9?setTimeout(l(e,this,null,i),0):e(null,i)},_tileOnError:function(e,i,r){var c=this.options.errorTileUrl;c&&i.getAttribute("src")!==c&&(i.src=c),e(r,i)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,i=this.options.maxZoom,r=this.options.zoomReverse,c=this.options.zoomOffset;return r&&(e=i-e),e+c},_getSubdomain:function(e){var i=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[i]},_abortLoading:function(){var e,i;for(e in this._tiles)if(this._tiles[e].coords.z!==this._tileZoom&&(i=this._tiles[e].el,i.onload=v,i.onerror=v,!i.complete)){i.src=D;var r=this._tiles[e].coords;Be(i),delete this._tiles[e],this.fire("tileabort",{tile:i,coords:r})}},_removeTile:function(e){var i=this._tiles[e];if(i)return i.el.setAttribute("src",D),si.prototype._removeTile.call(this,e)},_tileReady:function(e,i,r){if(!(!this._map||r&&r.getAttribute("src")===D))return si.prototype._tileReady.call(this,e,i,r)}});function Ea(e,i){return new Ln(e,i)}var Na=Ln.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,i){this._url=e;var r=a({},this.defaultWmsParams);for(var c in i)c in this.options||(r[c]=i[c]);i=w(this,i);var h=i.detectRetina&&te.retina?2:1,_=this.getTileSize();r.width=_.x*h,r.height=_.y*h,this.wmsParams=r},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var i=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[i]=this._crs.code,Ln.prototype.onAdd.call(this,e)},getTileUrl:function(e){var i=this._tileCoordsToNwSe(e),r=this._crs,c=ue(r.project(i[0]),r.project(i[1])),h=c.min,_=c.max,S=(this._wmsVersion>=1.3&&this._crs===Aa?[h.y,h.x,_.y,_.x]:[h.x,h.y,_.x,_.y]).join(","),P=Ln.prototype.getTileUrl.call(this,e);return P+k(this.wmsParams,P,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+S},setParams:function(e,i){return a(this.wmsParams,e),i||this.redraw(),this}});function rf(e,i){return new Na(e,i)}Ln.WMS=Na,Ea.wms=rf;var Ft=St.extend({options:{padding:.1},initialize:function(e){w(this,e),f(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ye(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,i){var r=this._map.getZoomScale(i,this._zoom),c=this._map.getSize().multiplyBy(.5+this.options.padding),h=this._map.project(this._center,i),_=c.multiplyBy(-r).add(h).subtract(this._map._getNewPixelOrigin(e,i));te.any3d?an(this._container,_,r):Ke(this._container,_)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var e in this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,i=this._map.getSize(),r=this._map.containerPointToLayerPoint(i.multiplyBy(-e)).round();this._bounds=new I(r,r.add(i.multiplyBy(1+e*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Ia=Ft.extend({options:{tolerance:0},getEvents:function(){var e=Ft.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ft.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");fe(e,"mousemove",this._onMouseMove,this),fe(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),fe(e,"mouseout",this._handleMouseOut,this),e._leaflet_disable_events=!0,this._ctx=e.getContext("2d")},_destroyContainer:function(){G(this._redrawRequest),delete this._ctx,Be(this._container),Re(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var e;this._redrawBounds=null;for(var i in this._layers)e=this._layers[i],e._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ft.prototype._update.call(this);var e=this._bounds,i=this._container,r=e.getSize(),c=te.retina?2:1;Ke(i,e.min),i.width=c*r.x,i.height=c*r.y,i.style.width=r.x+"px",i.style.height=r.y+"px",te.retina&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_reset:function(){Ft.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[f(e)]=e;var i=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=i),this._drawLast=i,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var i=e._order,r=i.next,c=i.prev;r?r.prev=c:this._drawLast=c,c?c.next=r:this._drawFirst=r,delete e._order,delete this._layers[f(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if(typeof e.options.dashArray=="string"){var i=e.options.dashArray.split(/[, ]+/),r=[],c,h;for(h=0;h<i.length;h++){if(c=Number(i[h]),isNaN(c))return;r.push(c)}e.options._dashArray=r}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||U(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var i=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new I,this._redrawBounds.extend(e._pxBounds.min.subtract([i,i])),this._redrawBounds.extend(e._pxBounds.max.add([i,i]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var i=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,i.x,i.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var e,i=this._redrawBounds;if(this._ctx.save(),i){var r=i.getSize();this._ctx.beginPath(),this._ctx.rect(i.min.x,i.min.y,r.x,r.y),this._ctx.clip()}this._drawing=!0;for(var c=this._drawFirst;c;c=c.next)e=c.layer,(!i||e._pxBounds&&e._pxBounds.intersects(i))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,i){if(this._drawing){var r,c,h,_,S=e._parts,P=S.length,M=this._ctx;if(P){for(M.beginPath(),r=0;r<P;r++){for(c=0,h=S[r].length;c<h;c++)_=S[r][c],M[c?"lineTo":"moveTo"](_.x,_.y);i&&M.closePath()}this._fillStroke(M,e)}}},_updateCircle:function(e){if(!(!this._drawing||e._empty())){var i=e._point,r=this._ctx,c=Math.max(Math.round(e._radius),1),h=(Math.max(Math.round(e._radiusY),1)||c)/c;h!==1&&(r.save(),r.scale(1,h)),r.beginPath(),r.arc(i.x,i.y/h,c,0,Math.PI*2,!1),h!==1&&r.restore(),this._fillStroke(r,e)}},_fillStroke:function(e,i){var r=i.options;r.fill&&(e.globalAlpha=r.fillOpacity,e.fillStyle=r.fillColor||r.color,e.fill(r.fillRule||"evenodd")),r.stroke&&r.weight!==0&&(e.setLineDash&&e.setLineDash(i.options&&i.options._dashArray||[]),e.globalAlpha=r.opacity,e.lineWidth=r.weight,e.strokeStyle=r.color,e.lineCap=r.lineCap,e.lineJoin=r.lineJoin,e.stroke())},_onClick:function(e){for(var i=this._map.mouseEventToLayerPoint(e),r,c,h=this._drawFirst;h;h=h.next)r=h.layer,r.options.interactive&&r._containsPoint(i)&&(!(e.type==="click"||e.type==="preclick")||!this._map._draggableMoved(r))&&(c=r);this._fireEvent(c?[c]:!1,e)},_onMouseMove:function(e){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var i=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,i)}},_handleMouseOut:function(e){var i=this._hoveredLayer;i&&(Je(this._container,"leaflet-interactive"),this._fireEvent([i],e,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(e,i){if(!this._mouseHoverThrottled){for(var r,c,h=this._drawFirst;h;h=h.next)r=h.layer,r.options.interactive&&r._containsPoint(i)&&(c=r);c!==this._hoveredLayer&&(this._handleMouseOut(e),c&&(ye(this._container,"leaflet-interactive"),this._fireEvent([c],e,"mouseover"),this._hoveredLayer=c)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,e),this._mouseHoverThrottled=!0,setTimeout(l(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(e,i,r){this._map._fireDOMEvent(i,r||i.type,e)},_bringToFront:function(e){var i=e._order;if(i){var r=i.next,c=i.prev;if(r)r.prev=c;else return;c?c.next=r:r&&(this._drawFirst=r),i.prev=this._drawLast,this._drawLast.next=i,i.next=null,this._drawLast=i,this._requestRedraw(e)}},_bringToBack:function(e){var i=e._order;if(i){var r=i.next,c=i.prev;if(c)c.next=r;else return;r?r.prev=c:c&&(this._drawLast=c),i.prev=null,i.next=this._drawFirst,this._drawFirst.prev=i,this._drawFirst=i,this._requestRedraw(e)}}});function Ra(e){return te.canvas?new Ia(e):null}var oi=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch{}return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),af={_initContainer:function(){this._container=ke("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ft.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var i=e._container=oi("shape");ye(i,"leaflet-vml-shape "+(this.options.className||"")),i.coordsize="1 1",e._path=oi("path"),i.appendChild(e._path),this._updateStyle(e),this._layers[f(e)]=e},_addPath:function(e){var i=e._container;this._container.appendChild(i),e.options.interactive&&e.addInteractiveTarget(i)},_removePath:function(e){var i=e._container;Be(i),e.removeInteractiveTarget(i),delete this._layers[f(e)]},_updateStyle:function(e){var i=e._stroke,r=e._fill,c=e.options,h=e._container;h.stroked=!!c.stroke,h.filled=!!c.fill,c.stroke?(i||(i=e._stroke=oi("stroke")),h.appendChild(i),i.weight=c.weight+"px",i.color=c.color,i.opacity=c.opacity,c.dashArray?i.dashStyle=T(c.dashArray)?c.dashArray.join(" "):c.dashArray.replace(/( *, *)/g," "):i.dashStyle="",i.endcap=c.lineCap.replace("butt","flat"),i.joinstyle=c.lineJoin):i&&(h.removeChild(i),e._stroke=null),c.fill?(r||(r=e._fill=oi("fill")),h.appendChild(r),r.color=c.fillColor||c.color,r.opacity=c.fillOpacity):r&&(h.removeChild(r),e._fill=null)},_updateCircle:function(e){var i=e._point.round(),r=Math.round(e._radius),c=Math.round(e._radiusY||r);this._setPath(e,e._empty()?"M0 0":"AL "+i.x+","+i.y+" "+r+","+c+" 0,"+65535*360)},_setPath:function(e,i){e._path.v=i},_bringToFront:function(e){An(e._container)},_bringToBack:function(e){Cn(e._container)}},Yi=te.vml?oi:st,ri=Ft.extend({_initContainer:function(){this._container=Yi("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Yi("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Be(this._container),Re(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ft.prototype._update.call(this);var e=this._bounds,i=e.getSize(),r=this._container;(!this._svgSize||!this._svgSize.equals(i))&&(this._svgSize=i,r.setAttribute("width",i.x),r.setAttribute("height",i.y)),Ke(r,e.min),r.setAttribute("viewBox",[e.min.x,e.min.y,i.x,i.y].join(" ")),this.fire("update")}},_initPath:function(e){var i=e._path=Yi("path");e.options.className&&ye(i,e.options.className),e.options.interactive&&ye(i,"leaflet-interactive"),this._updateStyle(e),this._layers[f(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){Be(e._path),e.removeInteractiveTarget(e._path),delete this._layers[f(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var i=e._path,r=e.options;i&&(r.stroke?(i.setAttribute("stroke",r.color),i.setAttribute("stroke-opacity",r.opacity),i.setAttribute("stroke-width",r.weight),i.setAttribute("stroke-linecap",r.lineCap),i.setAttribute("stroke-linejoin",r.lineJoin),r.dashArray?i.setAttribute("stroke-dasharray",r.dashArray):i.removeAttribute("stroke-dasharray"),r.dashOffset?i.setAttribute("stroke-dashoffset",r.dashOffset):i.removeAttribute("stroke-dashoffset")):i.setAttribute("stroke","none"),r.fill?(i.setAttribute("fill",r.fillColor||r.color),i.setAttribute("fill-opacity",r.fillOpacity),i.setAttribute("fill-rule",r.fillRule||"evenodd")):i.setAttribute("fill","none"))},_updatePoly:function(e,i){this._setPath(e,$e(e._parts,i))},_updateCircle:function(e){var i=e._point,r=Math.max(Math.round(e._radius),1),c=Math.max(Math.round(e._radiusY),1)||r,h="a"+r+","+c+" 0 1,0 ",_=e._empty()?"M0 0":"M"+(i.x-r)+","+i.y+h+r*2+",0 "+h+-r*2+",0 ";this._setPath(e,_)},_setPath:function(e,i){e._path.setAttribute("d",i)},_bringToFront:function(e){An(e._path)},_bringToBack:function(e){Cn(e._path)}});te.vml&&ri.include(af);function ja(e){return te.svg||te.vml?new ri(e):null}Ae.include({getRenderer:function(e){var i=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return i||(i=this._renderer=this._createRenderer()),this.hasLayer(i)||this.addLayer(i),i},_getPaneRenderer:function(e){if(e==="overlayPane"||e===void 0)return!1;var i=this._paneRenderers[e];return i===void 0&&(i=this._createRenderer({pane:e}),this._paneRenderers[e]=i),i},_createRenderer:function(e){return this.options.preferCanvas&&Ra(e)||ja(e)}});var Oa=Mn.extend({initialize:function(e,i){Mn.prototype.initialize.call(this,this._boundsToLatLngs(e),i)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return e=H(e),[e.getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});function lf(e,i){return new Oa(e,i)}ri.create=Yi,ri.pointsToPath=$e,Bt.geometryToLayer=Gi,Bt.coordsToLatLng=lo,Bt.coordsToLatLngs=Ji,Bt.latLngToCoords=co,Bt.latLngsToCoords=Ui,Bt.getFeature=Dn,Bt.asFeature=$i,Ae.mergeOptions({boxZoom:!0});var za=Dt.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){fe(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Re(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Be(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||e.which!==1&&e.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),qn(),Gs(),this._startPoint=this._map.mouseEventToContainerPoint(e),fe(document,{contextmenu:un,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=ke("div","leaflet-zoom-box",this._container),ye(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var i=new I(this._point,this._startPoint),r=i.getSize();Ke(this._box,i.min),this._box.style.width=r.x+"px",this._box.style.height=r.y+"px"},_finish:function(){this._moved&&(Be(this._box),Je(this._container,"leaflet-crosshair")),Yn(),Js(),Re(document,{contextmenu:un,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if(!(e.which!==1&&e.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(l(this._resetState,this),0);var i=new F(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(i).fire("boxzoomend",{boxZoomBounds:i})}},_onKeyDown:function(e){e.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ae.addInitHook("addHandler","boxZoom",za),Ae.mergeOptions({doubleClickZoom:!0});var Ba=Dt.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var i=this._map,r=i.getZoom(),c=i.options.zoomDelta,h=e.originalEvent.shiftKey?r-c:r+c;i.options.doubleClickZoom==="center"?i.setZoom(h):i.setZoomAround(e.containerPoint,h)}});Ae.addInitHook("addHandler","doubleClickZoom",Ba),Ae.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Fa=Dt.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new Kt(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}ye(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Je(this._map._container,"leaflet-grab"),Je(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var i=H(this._map.options.maxBounds);this._offsetLimit=ue(this._map.latLngToContainerPoint(i.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(i.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var i=this._lastTime=+new Date,r=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(r),this._times.push(i),this._prunePositions(i)}this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){for(;this._positions.length>1&&e-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),i=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=i.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,i){return e-(e-i)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var e=this._draggable._newPos.subtract(this._draggable._startPos),i=this._offsetLimit;e.x<i.min.x&&(e.x=this._viscousLimit(e.x,i.min.x)),e.y<i.min.y&&(e.y=this._viscousLimit(e.y,i.min.y)),e.x>i.max.x&&(e.x=this._viscousLimit(e.x,i.max.x)),e.y>i.max.y&&(e.y=this._viscousLimit(e.y,i.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,i=Math.round(e/2),r=this._initialWorldOffset,c=this._draggable._newPos.x,h=(c-i+r)%e+i-r,_=(c+i+r)%e-i-r,S=Math.abs(h+r)<Math.abs(_+r)?h:_;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=S},_onDragEnd:function(e){var i=this._map,r=i.options,c=!r.inertia||e.noInertia||this._times.length<2;if(i.fire("dragend",e),c)i.fire("moveend");else{this._prunePositions(+new Date);var h=this._lastPos.subtract(this._positions[0]),_=(this._lastTime-this._times[0])/1e3,S=r.easeLinearity,P=h.multiplyBy(S/_),M=P.distanceTo([0,0]),O=Math.min(r.inertiaMaxSpeed,M),X=P.multiplyBy(O/M),oe=O/(r.inertiaDeceleration*S),be=X.multiplyBy(-oe/2).round();!be.x&&!be.y?i.fire("moveend"):(be=i._limitOffset(be,i.options.maxBounds),U(function(){i.panBy(be,{duration:oe,easeLinearity:S,noMoveStart:!0,animate:!0})}))}}});Ae.addInitHook("addHandler","dragging",Fa),Ae.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Va=Dt.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),fe(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Re(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,i=document.documentElement,r=e.scrollTop||i.scrollTop,c=e.scrollLeft||i.scrollLeft;this._map._container.focus(),window.scrollTo(c,r)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var i=this._panKeys={},r=this.keyCodes,c,h;for(c=0,h=r.left.length;c<h;c++)i[r.left[c]]=[-1*e,0];for(c=0,h=r.right.length;c<h;c++)i[r.right[c]]=[e,0];for(c=0,h=r.down.length;c<h;c++)i[r.down[c]]=[0,e];for(c=0,h=r.up.length;c<h;c++)i[r.up[c]]=[0,-1*e]},_setZoomDelta:function(e){var i=this._zoomKeys={},r=this.keyCodes,c,h;for(c=0,h=r.zoomIn.length;c<h;c++)i[r.zoomIn[c]]=e;for(c=0,h=r.zoomOut.length;c<h;c++)i[r.zoomOut[c]]=-e},_addHooks:function(){fe(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Re(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var i=e.keyCode,r=this._map,c;if(i in this._panKeys){if(!r._panAnim||!r._panAnim._inProgress)if(c=this._panKeys[i],e.shiftKey&&(c=q(c).multiplyBy(3)),r.options.maxBounds&&(c=r._limitOffset(q(c),r.options.maxBounds)),r.options.worldCopyJump){var h=r.wrapLatLng(r.unproject(r.project(r.getCenter()).add(c)));r.panTo(h)}else r.panBy(c)}else if(i in this._zoomKeys)r.setZoom(r.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[i]);else if(i===27&&r._popup&&r._popup.options.closeOnEscapeKey)r.closePopup();else return;un(e)}}});Ae.addInitHook("addHandler","keyboard",Va),Ae.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Za=Dt.extend({addHooks:function(){fe(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Re(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var i=ha(e),r=this._map.options.wheelDebounceTime;this._delta+=i,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var c=Math.max(r-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(l(this._performZoom,this),c),un(e)},_performZoom:function(){var e=this._map,i=e.getZoom(),r=this._map.options.zoomSnap||0;e._stop();var c=this._delta/(this._map.options.wheelPxPerZoomLevel*4),h=4*Math.log(2/(1+Math.exp(-Math.abs(c))))/Math.LN2,_=r?Math.ceil(h/r)*r:h,S=e._limitZoom(i+(this._delta>0?_:-_))-i;this._delta=0,this._startTime=null,S&&(e.options.scrollWheelZoom==="center"?e.setZoom(i+S):e.setZoomAround(this._lastMousePos,i+S))}});Ae.addInitHook("addHandler","scrollWheelZoom",Za);var cf=600;Ae.mergeOptions({tapHold:te.touchNative&&te.safari&&te.mobile,tapTolerance:15});var Wa=Dt.extend({addHooks:function(){fe(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Re(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(clearTimeout(this._holdTimeout),e.touches.length===1){var i=e.touches[0];this._startPos=this._newPos=new $(i.clientX,i.clientY),this._holdTimeout=setTimeout(l(function(){this._cancel(),this._isTapValid()&&(fe(document,"touchend",tt),fe(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",i))},this),cf),fe(document,"touchend touchcancel contextmenu",this._cancel,this),fe(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function e(){Re(document,"touchend",tt),Re(document,"touchend touchcancel",e)},_cancel:function(){clearTimeout(this._holdTimeout),Re(document,"touchend touchcancel contextmenu",this._cancel,this),Re(document,"touchmove",this._onMove,this)},_onMove:function(e){var i=e.touches[0];this._newPos=new $(i.clientX,i.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(e,i){var r=new MouseEvent(e,{bubbles:!0,cancelable:!0,view:window,screenX:i.screenX,screenY:i.screenY,clientX:i.clientX,clientY:i.clientY});r._simulated=!0,i.target.dispatchEvent(r)}});Ae.addInitHook("addHandler","tapHold",Wa),Ae.mergeOptions({touchZoom:te.touch,bounceAtZoomLimits:!0});var Ha=Dt.extend({addHooks:function(){ye(this._map._container,"leaflet-touch-zoom"),fe(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Je(this._map._container,"leaflet-touch-zoom"),Re(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var i=this._map;if(!(!e.touches||e.touches.length!==2||i._animatingZoom||this._zooming)){var r=i.mouseEventToContainerPoint(e.touches[0]),c=i.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=i.getSize()._divideBy(2),this._startLatLng=i.containerPointToLatLng(this._centerPoint),i.options.touchZoom!=="center"&&(this._pinchStartLatLng=i.containerPointToLatLng(r.add(c)._divideBy(2))),this._startDist=r.distanceTo(c),this._startZoom=i.getZoom(),this._moved=!1,this._zooming=!0,i._stop(),fe(document,"touchmove",this._onTouchMove,this),fe(document,"touchend touchcancel",this._onTouchEnd,this),tt(e)}},_onTouchMove:function(e){if(!(!e.touches||e.touches.length!==2||!this._zooming)){var i=this._map,r=i.mouseEventToContainerPoint(e.touches[0]),c=i.mouseEventToContainerPoint(e.touches[1]),h=r.distanceTo(c)/this._startDist;if(this._zoom=i.getScaleZoom(h,this._startZoom),!i.options.bounceAtZoomLimits&&(this._zoom<i.getMinZoom()&&h<1||this._zoom>i.getMaxZoom()&&h>1)&&(this._zoom=i._limitZoom(this._zoom)),i.options.touchZoom==="center"){if(this._center=this._startLatLng,h===1)return}else{var _=r._add(c)._divideBy(2)._subtract(this._centerPoint);if(h===1&&_.x===0&&_.y===0)return;this._center=i.unproject(i.project(this._pinchStartLatLng,this._zoom).subtract(_),this._zoom)}this._moved||(i._moveStart(!0,!1),this._moved=!0),G(this._animRequest);var S=l(i._move,i,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=U(S,this,!0),tt(e)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,G(this._animRequest),Re(document,"touchmove",this._onTouchMove,this),Re(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Ae.addInitHook("addHandler","touchZoom",Ha),Ae.BoxZoom=za,Ae.DoubleClickZoom=Ba,Ae.Drag=Fa,Ae.Keyboard=Va,Ae.ScrollWheelZoom=Za,Ae.TapHold=Wa,Ae.TouchZoom=Ha,s.Bounds=I,s.Browser=te,s.CRS=K,s.Canvas=Ia,s.Circle=ao,s.CircleMarker=Hi,s.Class=ie,s.Control=bt,s.DivIcon=La,s.DivOverlay=Lt,s.DomEvent=Ch,s.DomUtil=Th,s.Draggable=Kt,s.Evented=ae,s.FeatureGroup=Ot,s.GeoJSON=Bt,s.GridLayer=si,s.Handler=Dt,s.Icon=kn,s.ImageOverlay=Ki,s.LatLng=W,s.LatLngBounds=F,s.Layer=St,s.LayerGroup=Pn,s.LineUtil=Bh,s.Map=Ae,s.Marker=Wi,s.Mixin=Nh,s.Path=Xt,s.Point=$,s.PolyUtil=Ih,s.Polygon=Mn,s.Polyline=zt,s.Popup=Xi,s.PosAnimation=fa,s.Projection=Fh,s.Rectangle=Oa,s.Renderer=Ft,s.SVG=ri,s.SVGOverlay=Da,s.TileLayer=Ln,s.Tooltip=qi,s.Transformation=Me,s.Util=me,s.VideoOverlay=Ma,s.bind=l,s.bounds=ue,s.canvas=Ra,s.circle=$h,s.circleMarker=Uh,s.control=ti,s.divIcon=sf,s.extend=a,s.featureGroup=Hh,s.geoJSON=ka,s.geoJson=qh,s.gridLayer=of,s.icon=Gh,s.imageOverlay=Yh,s.latLng=Z,s.latLngBounds=H,s.layerGroup=Wh,s.map=Ph,s.marker=Jh,s.point=q,s.polygon=Xh,s.polyline=Kh,s.popup=tf,s.rectangle=lf,s.setOptions=w,s.stamp=f,s.svg=ja,s.svgOverlay=ef,s.tileLayer=Ea,s.tooltip=nf,s.transformation=Ne,s.version=o,s.videoOverlay=Qh;var uf=window.L;s.noConflict=function(){return window.L=uf,this},window.L=s})}(di,di.exports)),di.exports}var Ii=iv();const nr=xf(Ii);function Hr(t,n,s){return Object.freeze({instance:t,context:n,container:s})}function Gr(t,n){return n==null?function(o,a){const u=x.useRef(void 0);return u.current||(u.current=t(o,a)),u}:function(o,a){const u=x.useRef(void 0);u.current||(u.current=t(o,a));const l=x.useRef(o),{instance:d}=u.current;return x.useEffect(function(){l.current!==o&&(n(d,o,l.current),l.current=o)},[d,o,n]),u}}function sv(t,n){x.useEffect(function(){return(n.layerContainer??n.map).addLayer(t.instance),function(){var u;(u=n.layerContainer)==null||u.removeLayer(t.instance),n.map.removeLayer(t.instance)}},[n,t])}function Ed(t){return function(s){const o=Zr(),a=t(Wr(s,o),o);return Md(o.map,s.attribution),Ld(a.current,s.eventHandlers),sv(a.current,o),a}}function ov(t,n){const s=Gr(t,n),o=Ed(s);return Y0(o)}function rv(t,n){const s=Gr(t),o=tv(s,n);return Q0(o)}function av(t,n){const s=Gr(t,n),o=Ed(s);return ev(o)}function lv(t,n,s){const{opacity:o,zIndex:a}=n;o!=null&&o!==s.opacity&&t.setOpacity(o),a!=null&&a!==s.zIndex&&t.setZIndex(a)}function Jr(){return Zr().map}function cv(t){const n=Jr();return x.useEffect(function(){return n.on(t),function(){n.off(t)}},[n,t]),n}function uv({bounds:t,boundsOptions:n,center:s,children:o,className:a,id:u,placeholder:l,style:d,whenReady:f,zoom:p,...g},v){const[y]=x.useState({className:a,id:u,style:d}),[b,A]=x.useState(null),w=x.useRef(void 0);x.useImperativeHandle(v,()=>(b==null?void 0:b.map)??null,[b]);const k=x.useCallback(N=>{if(N!==null&&!w.current){const T=new Ii.Map(N,g);w.current=T,s!=null&&p!=null?T.setView(s,p):t!=null&&T.fitBounds(t,n),f!=null&&T.whenReady(f),A(X0(T))}},[]);x.useEffect(()=>()=>{b==null||b.map.remove()},[b]);const C=b?Ht.createElement(Vr,{value:b},o):l??null;return Ht.createElement("div",{...y,ref:k},C)}const dv=x.forwardRef(uv),hc=ov(function({position:n,...s},o){const a=new Ii.Marker(n,s);return Hr(a,q0(o,{overlayContainer:a}))},function(n,s,o){s.position!==o.position&&n.setLatLng(s.position),s.icon!=null&&s.icon!==o.icon&&n.setIcon(s.icon),s.zIndexOffset!=null&&s.zIndexOffset!==o.zIndexOffset&&n.setZIndexOffset(s.zIndexOffset),s.opacity!=null&&s.opacity!==o.opacity&&n.setOpacity(s.opacity),n.dragging!=null&&s.draggable!==o.draggable&&(s.draggable===!0?n.dragging.enable():n.dragging.disable())}),fc=rv(function(n,s){const o=new Ii.Popup(n,s.overlayContainer);return Hr(o,s)},function(n,s,{position:o},a){x.useEffect(function(){const{instance:l}=n;function d(p){p.popup===l&&(l.update(),a(!0))}function f(p){p.popup===l&&a(!1)}return s.map.on({popupopen:d,popupclose:f}),s.overlayContainer==null?(o!=null&&l.setLatLng(o),l.openOn(s.map)):s.overlayContainer.bindPopup(l),function(){var g;s.map.off({popupopen:d,popupclose:f}),(g=s.overlayContainer)==null||g.unbindPopup(),s.map.removeLayer(l)}},[n,s,a,o])}),hv=av(function({url:n,...s},o){const a=new Ii.TileLayer(n,Wr(s,o));return Hr(a,o)},function(n,s,o){lv(n,s,o);const{url:a}=s;a!=null&&a!==o.url&&n.setUrl(a)});function fv(){const t=Jr();return x.useEffect(()=>{const n=t.getContainer(),s=new ResizeObserver(()=>{t.invalidateSize({animate:!1})});return s.observe(n),()=>s.disconnect()},[t]),null}function mv({onMapDragStart:t,onMapDragEnd:n}){return cv({dragstart(){t()},dragend(){n()},mousedown(){t()},mouseup(){n()}}),null}function pv({selectedTask:t,selectedTasks:n,selectedResource:s,selectedResources:o,shouldZoom:a}){const u=Jr(),l=Ht.useRef("");return x.useEffect(()=>{if(!a)return;const d=n.length?n:t?[t]:[],f=o.length?o:s?[s]:[],p=[...d.filter(y=>y.lat&&y.lng),...f.filter(y=>y.homeLat&&y.homeLng)];if(!p.length)return;const g=p.map(y=>y.taskId?y.taskId:y.resourceId).join(",");if(g===l.current)return;if(l.current=g,p.length===1){const y=p[0];u.setView([Number(y.lat??y.homeLat),Number(y.lng??y.homeLng)],15,{animate:!1});return}const v=nr.latLngBounds(p.map(y=>[Number(y.lat??y.homeLat),Number(y.lng??y.homeLng)]));u.fitBounds(v,{padding:[60,60],animate:!1})},[t,n,s,o,a,u]),null}function gv({tasks:t,resources:n,selectedTask:s,selectedTasks:o,selectedResource:a,selectedResources:u,shouldZoom:l,handleTaskMapClick:d,handleResourceMapClick:f,notifyMapDragStart:p,notifyMapDragEnd:g}){const v=x.useMemo(()=>t.filter(w=>w.lat&&w.lng),[t]),y=x.useMemo(()=>n.filter(w=>w.homeLat&&w.homeLng),[n]),b=new Set(o.map(w=>w.taskId)),A=new Set(u.map(w=>w.resourceId));return m.jsx("div",{className:"bg-white border h-full rounded-lg shadow-sm p-4 flex flex-col",children:m.jsx("div",{className:"flex-1 rounded overflow-hidden relative",children:m.jsxs(dv,{center:[51.713,-3.449],zoom:12,style:{width:"100%",height:"100%"},children:[m.jsx(fv,{}),m.jsx(mv,{onMapDragStart:p,onMapDragEnd:g}),m.jsx(pv,{selectedTask:s,selectedTasks:o,selectedResource:a,selectedResources:u,shouldZoom:l}),m.jsx(hv,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),v.map(w=>{const k=!!(b.has(w.taskId)||s&&s.taskId===w.taskId),C=nr.divIcon({className:"custom-pin",iconSize:[36,50],iconAnchor:[18,46],html:Pd(Td[w.commitmentType]??"#6B7280",k)});return m.jsx(hc,{position:[w.lat,w.lng],icon:C,eventHandlers:{click:N=>{var E,D;const T=((E=N.originalEvent)==null?void 0:E.ctrlKey)||((D=N.originalEvent)==null?void 0:D.metaKey)||!1;d(w,T)}},children:m.jsxs(fc,{children:[m.jsx("b",{children:w.taskId}),m.jsx("br",{}),w.customerAddress]})},w.taskId)}),y.map(w=>{const k=!!(A.has(w.resourceId)||a&&a.resourceId===w.resourceId),C=nr.divIcon({className:"custom-pin",iconSize:[36,50],iconAnchor:[18,46],html:kd(w.status,k)});return m.jsx(hc,{position:[w.homeLat,w.homeLng],icon:C,eventHandlers:{click:N=>{var E,D;const T=((E=N.originalEvent)==null?void 0:E.ctrlKey)||((D=N.originalEvent)==null?void 0:D.metaKey)||!1;f(w,T)}},children:m.jsxs(fc,{children:[m.jsx("b",{children:w.name}),m.jsx("br",{}),w.homePostCode,m.jsx("br",{}),"Status: ",w.status]})},w.resourceId)})]})})})}function yv({visible:t,x:n,y:s,selectedRows:o,clickedColumnKey:a,clickedRow:u,onClose:l,onOpenPopout:d,onOpenCalloutIncident:f,mouseScreenX:p,mouseScreenY:g}){if(!t)return null;const v=o.length,y=v>1?`Open Viewer (${v})`:"Open Viewer",b=()=>{if(o!=null&&o.length){try{d(o,p,g)}catch(T){console.error("ContextMenu  onOpenPopout error:",T)}l()}},A=async()=>{if(!u||!a)return;const T=u[a],E=T==null?"":String(T);try{await navigator.clipboard.writeText(E)}catch(D){console.error("Clipboard write error:",D)}l()},w=u&&a?String(u[a]??""):"",k=()=>{if(u){try{f(u)}catch(T){console.error("ContextMenu  onOpenCalloutIncident error:",T)}l()}},C=(u==null?void 0:u.taskId)??(u==null?void 0:u.TaskID)??(u==null?void 0:u.TaskId)??(u==null?void 0:u.id)??null,N=C?`Callout Incident: ${C}`:"Callout Incident";return m.jsx(At,{children:t&&m.jsxs(it.ul,{initial:{opacity:0,scale:.96},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.96},transition:{duration:.12},style:{position:"absolute",top:s,left:n},className:`z-[9999] min-w-[240px] rounded-xl border border-gray-200 bg-white shadow-xl 
                     backdrop-blur-md text-sm text-gray-800 py-1 overflow-hidden`,onMouseDown:T=>T.stopPropagation(),children:[m.jsxs("li",{onClick:b,className:`px-4 py-2.5 flex items-center gap-3 cursor-pointer 
                       hover:bg-gray-50 transition-all`,children:[m.jsx(gd,{size:15,className:"text-gray-700"}),m.jsx("span",{className:"font-medium text-gray-800",children:y})]}),a&&u&&m.jsxs("li",{onClick:A,className:`px-4 py-2.5 flex items-center gap-3 cursor-pointer 
                         hover:bg-gray-50 transition-all`,children:[m.jsx(pd,{size:15,className:"text-gray-700"}),m.jsxs("span",{className:"text-gray-800",children:["Copy value:"," ",m.jsx("span",{className:"font-semibold",children:w})]})]}),u&&m.jsxs("li",{onClick:k,className:`px-4 py-2.5 flex items-center gap-3 cursor-pointer 
                       hover:bg-red-50 transition-all text-red-700`,children:[m.jsx(Ds,{size:15,className:"text-red-600"}),m.jsx("span",{className:"font-semibold",children:N})]})]})})}const mc=70,vv=220;function pc(t){var n;if(t==null)return"string";if(typeof t=="number")return"number";if(typeof t=="string"){const s=Number(((n=t.replace)==null?void 0:n.call(t,/[, ]/g,""))??t);if(!Number.isNaN(s)&&t.trim()!=="")return"number";const o=new Date(t);return!Number.isNaN(o.getTime())&&/\d/.test(t)?"date":"string"}return t instanceof Date?"date":"string"}function _v(t,n,s){const o=pc(t),a=pc(n);let u=0;if(o==="number"&&a==="number"){const l=typeof t=="number"?t:Number(String(t).replace(/[, ]/g,"")),d=typeof n=="number"?n:Number(String(n).replace(/[, ]/g,""));u=l-d}else if(o==="date"&&a==="date"){const l=t instanceof Date?t.getTime():new Date(t).getTime(),d=n instanceof Date?n.getTime():new Date(n).getTime();u=l-d}else u=String(t??"").localeCompare(String(n??""),void 0,{sensitivity:"base",numeric:!0});return s==="asc"?u:-u}function xv(t){return t===null?"asc":t==="asc"?"desc":null}function Ur({rows:t,headerNames:n,className:s="",tableHeight:o,onOpenTask:a,onOpenMultiple:u,clearSelectionTrigger:l,onOpenPopout:d,onOpenCalloutIncident:f,onSelectionChange:p,rowIdKey:g,controlledSelectedRowIds:v}){const[y,b]=x.useState(null),[A,w]=x.useState(null),k=x.useMemo(()=>Object.keys(n),[n]),[C,N]=x.useState(k),[T,E]=x.useState({}),[D,j]=x.useState(!1),R=x.useRef(null),B=x.useRef(0),Y=x.useRef(0),[Q,U]=x.useState(null),[G,me]=x.useState(null),[ie,he]=x.useState(new Set),[de,ae]=x.useState(null),$=x.useRef(!1),[Pe,q]=x.useState({x:0,y:0,visible:!1,clickedRow:null,clickedColumnKey:null}),[I,ue]=x.useState({x:0,y:0,visible:!1,key:null}),F=x.useRef(null),H=x.useRef(null),[W,Z]=x.useState(0),[K,ee]=x.useState(0),[le,Te]=x.useState(1),[Me,Ne]=x.useState(100),Se=Math.max(1,Math.ceil(t.length/Me)),De=x.useCallback(()=>{he(new Set),ae(null)},[]);x.useEffect(()=>{N(k)},[k]),x.useEffect(()=>{le>Se&&Te(Se)},[le,Se]),x.useEffect(()=>{if(!t.length||!C.length){j(!0);return}const J=document.createElement("canvas").getContext("2d");if(!J)return;J.font="12px Inter, sans-serif";const pe={};for(const ge of C){const xe=J.measureText(n[ge]??ge).width,Ce=t.slice(0,10).map(we=>J.measureText(String(we[ge]??"")).width).reduce((we,Qe)=>Math.max(we,Qe),0);pe[ge]=Math.min(Math.max(xe,Ce)+mc,380)}E(pe),setTimeout(()=>j(!0),120)},[t,n,C]);const st=x.useMemo(()=>t.length?!y||!A?t:[...t].sort((z,J)=>_v(z[y],J[y],A)):[],[t,y,A]),$e=x.useMemo(()=>{const z=(le-1)*Me;return st.slice(z,z+Me)},[st,le,Me]);x.useEffect(()=>{if($.current){console.log(" TABLE: User selecting manually  ignore controlled update");return}if(!v||!g){console.log(" TABLE: No controlled selection (map  table) triggered");return}console.log(" TABLE: Controlled selection received:",Array.from(v));const z=new Set;$e.forEach((J,pe)=>{const ge=String(J[g]);v.has(ge)&&(console.log(" TABLE: Match found on page index:",pe,"id:",ge),z.add(pe))}),console.log(" TABLE: Final row set:",Array.from(z)),he(z)},[v,$e,g]),x.useEffect(()=>{const z=setTimeout(()=>{$.current=!1},50);return()=>clearTimeout(z)},[ie]),x.useEffect(()=>{const z=pe=>{if(!R.current)return;const ge=R.current,xe=pe.clientX-B.current;E(Ce=>({...Ce,[ge]:Math.max(80,Y.current+xe)}))},J=()=>{R.current=null,document.body.style.cursor="default"};return window.addEventListener("mousemove",z),window.addEventListener("mouseup",J),()=>{window.removeEventListener("mousemove",z),window.removeEventListener("mouseup",J)}},[]);const dt=(z,J)=>{J.preventDefault(),J.stopPropagation(),R.current=z,B.current=J.clientX,Y.current=T[z]??180,document.body.style.cursor="col-resize"},je=z=>{const pe=document.createElement("canvas").getContext("2d");if(!pe)return;pe.font="12px Inter, sans-serif";const ge=pe.measureText(n[z]??z).width,xe=t.map(we=>pe.measureText(String(we[z]??"")).width).reduce((we,Qe)=>Math.max(we,Qe),0),Ce=Math.min(Math.max(ge,xe)+mc,420);E(we=>({...we,[z]:Ce}))},Ct=(z,J)=>{U(z),me(null),J.dataTransfer.effectAllowed="move"},Pt=(z,J)=>{J.preventDefault(),Q&&Q!==z&&me(z)},ot=(z,J)=>{if(J.preventDefault(),!Q||Q===z){U(null),me(null);return}N(pe=>{const ge=pe.indexOf(Q),xe=pe.indexOf(z);if(ge===-1||xe===-1)return pe;const Ce=[...pe],[we]=Ce.splice(ge,1);return Ce.splice(xe,0,we),Ce}),U(null),me(null)},ht=()=>{U(null),me(null)},ne=(z,J)=>{J.preventDefault(),J.stopPropagation();const pe=J.currentTarget.closest("th");if(!pe)return;const ge=F.current;if(!ge)return;const xe=ge.querySelector(".table-scroll-wrapper");if(!xe)return;const Ce=ge.getBoundingClientRect(),we=xe.getBoundingClientRect(),Qe=pe.getBoundingClientRect(),Rt=we.left-Ce.left+we.width/2-vv/2,jt=Qe.bottom-Ce.top+6;ue({visible:!0,key:z,x:Rt,y:jt})},ce=x.useCallback(()=>{ue(z=>({...z,visible:!1,key:null}))},[]),Ve=z=>{N(J=>{const pe=J.includes(z);if(pe&&J.length===1)return J;if(pe){const ge=J.filter(xe=>xe!==z);return y===z&&(b(null),w(null)),ge}else{const ge=[...J],xe=k.indexOf(z);if(xe===-1)return ge;let Ce=ge.length;for(let we=0;we<ge.length;we++)if(k.indexOf(ge[we])>xe){Ce=we;break}return ge.splice(Ce,0,z),ge}})},Ge=()=>{N(k)},V=()=>{N(k),b(null),w(null),E({})},se=(z,J)=>{z.preventDefault(),z.stopPropagation();const pe=F.current;if(!pe)return;const ge=pe.getBoundingClientRect(),xe=z.clientX-ge.left,Ce=z.clientY-ge.top;Z(z.screenX),ee(z.screenY);let we=null;const Qe=z.target,Rt=Qe==null?void 0:Qe.closest("td");if(Rt){const rn=Rt.getAttribute("data-colkey");rn&&(we=rn)}const jt=$e[J]??null;q({x:xe,y:Ce,visible:!0,clickedRow:jt,clickedColumnKey:we}),he(rn=>rn.has(J)?rn:new Set([J]))},ze=x.useCallback(()=>{q(z=>({...z,visible:!1,clickedRow:null,clickedColumnKey:null}))},[]);x.useEffect(()=>{l!==void 0&&De()},[l,De]),x.useEffect(()=>{De()},[t,De]),x.useEffect(()=>{De()},[y,A,De]),x.useEffect(()=>{De()},[le,Me,De]),x.useEffect(()=>{De()},[C,De]),x.useEffect(()=>{const z=pe=>{pe.key==="Escape"&&(ze(),ce())},J=pe=>{var xe;const ge=pe.target;if(I.visible){const Ce=(xe=H.current)==null?void 0:xe.contains(ge),we=ge.closest(".column-dots-button");!Ce&&!we&&ce()}if(Pe.visible){const Ce=document.querySelector(".task-context-menu");if(((Ce==null?void 0:Ce.contains(ge))??!1)||pe.button===2)return;ze()}if(F.current&&!F.current.contains(ge)){const Ce=ge.closest("[data-table]"),we=ge.closest(`[data-table="${g}"]`);if(Ce&&!we)return;De()}};return window.addEventListener("keydown",z),window.addEventListener("mousedown",J),()=>{window.removeEventListener("keydown",z),window.removeEventListener("mousedown",J)}},[Pe.visible,I.visible,ze,ce,De]);const Ie=o??"calc(100vh - 600px)",_e=D?1:0,Ye=I.visible?"blur-[1.5px] pointer-events-none":"",Ze=Array.from(ie).map(z=>{const J=(le-1)*Me+z;return st[J]}).filter(Boolean);x.useEffect(()=>{$.current&&p&&p(Ze)},[Ze,p]);const $t=Pe.clickedRow??null;return m.jsxs("div",{ref:F,"data-table":g,className:`w-full flex flex-col border border-gray-200 rounded-2xl shadow-md bg-white/80 backdrop-blur-sm overflow-hidden relative ${s}`,onClick:z=>z.stopPropagation(),children:[m.jsx("div",{className:`flex-grow overflow-auto table-scroll-wrapper transition-[filter] duration-150 ${Ye}`,style:{height:Ie,minHeight:Ie,maxHeight:Ie},children:m.jsxs("table",{role:"grid",className:"select-none w-auto text-xs text-left text-gray-800 border-separate",style:{tableLayout:"fixed",width:"100%",borderSpacing:0,opacity:_e,transition:"opacity 0.25s ease-in-out"},children:[m.jsx("thead",{className:"bg-gray-100 text-gray-900 font-semibold sticky top-0 z-10 select-none border-b border-gray-200",children:m.jsx("tr",{children:C.map(z=>m.jsxs("th",{"aria-sort":y===z?A==="asc"?"ascending":"descending":"none",style:{width:`${T[z]??180}px`},className:`relative px-1 py-2 whitespace-nowrap select-none border-r border-gray-200 last:border-r-0 ${G===z?"bg-[#0A4A7A]/10":""}`,children:[m.jsxs("button",{type:"button",draggable:!0,onDragStart:J=>Ct(z,J),onDragOver:J=>Pt(z,J),onDrop:J=>ot(z,J),onDragEnd:ht,onClick:()=>{if(y!==z)b(z),w("asc");else{const J=xv(A);w(J),J===null&&b(null)}},className:"w-full flex items-center justify-between gap-2 text-left cursor-pointer",children:[m.jsx("span",{className:"truncate px-2",children:n[z]??z}),m.jsx("span",{className:"text-[9px] text-gray-500 pr-[14px]",children:y===z?A==="asc"?"":"":""})]}),m.jsxs("div",{className:"absolute top-0 right-0 h-full w-[12px] flex items-center justify-center",children:[m.jsxs("button",{type:"button",onClick:J=>ne(z,J),className:"column-dots-button h-[18px] w-[10px] flex flex-col items-center justify-center cursor-pointer",children:[m.jsx("span",{className:"w-[2px] h-[2px] rounded-full bg-black mb-[1px]"}),m.jsx("span",{className:"w-[2px] h-[2px] rounded-full bg-black mb-[1px]"}),m.jsx("span",{className:"w-[2px] h-[2px] rounded-full bg-black"})]}),m.jsx("div",{onMouseDown:J=>dt(z,J),onDoubleClick:()=>je(z),className:"absolute right-0 top-0 h-full w-[3px] cursor-col-resize"})]})]},z))})}),m.jsx("tbody",{children:$e.length===0?m.jsx("tr",{children:m.jsx("td",{colSpan:C.length||1,className:"px-3 py-6 text-center text-gray-500",children:"No tasks loaded Please Search."})}):$e.map((z,J)=>{const pe=(le-1)*Me+J,ge=ie.has(J);return x.createElement("tr",{"data-row-index":pe,...g?{"data-row-id":z[g]}:{},key:J,onContextMenu:xe=>se(xe,J),onDoubleClick:xe=>{if(xe.stopPropagation(),d){const Ce=xe.screenX,we=xe.screenY;d([$e[J]],Ce,we)}},onClick:xe=>{if($.current=!0,xe.preventDefault(),xe.shiftKey&&de!==null){const we=Math.min(de,J),Qe=Math.max(de,J),Rt=new Set;for(let jt=we;jt<=Qe;jt++)Rt.add(jt);he(Rt);return}if(xe.ctrlKey||xe.metaKey){he(we=>{const Qe=new Set(we);return Qe.has(J)?Qe.delete(J):Qe.add(J),Qe}),ae(J);return}he(new Set([J])),ae(J);const Ce=$e[J];p&&p([Ce]),a&&a(Ce)},className:`relative cursor-pointer border-b border-gray-100 ${ge?"bg-indigo-100/70 after:content-[''] after:absolute after:left-[1px] after:top-[1px] after:h-[calc(100%-2px)] after:w-[3px] after:bg-[#0A4A7A] after:rounded-sm":J%2===0?"bg-white":"bg-gray-50"}`},C.map(xe=>m.jsx("td",{"data-colkey":xe,className:"px-3 py-1.5 whitespace-nowrap overflow-hidden text-ellipsis border-r border-gray-100 last:border-r-0",children:String(z[xe]??"")},xe)))})})]})}),t.length>0&&m.jsxs("div",{className:"flex flex-wrap justify-between items-center border-t border-gray-200 bg-gray-50 text-xs text-gray-700 px-4 py-2 gap-3",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("span",{children:["Showing ",m.jsx("b",{children:(le-1)*Me+1})," "," ",m.jsx("b",{children:Math.min(le*Me,t.length)})," of"," ",m.jsx("b",{children:t.length})]}),m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("label",{htmlFor:"rowsPerPage",children:"Rows per page:"}),m.jsx("select",{id:"rowsPerPage",value:Me,onChange:z=>{Ne(Number(z.target.value)),Te(1)},className:"border border-gray-300 rounded-md px-2 py-1 bg-white text-gray-800",children:[25,50,100,500].map(z=>m.jsx("option",{value:z,children:z},z))})]})]}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsxs("span",{children:["Page ",le," of ",Se]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>Te(z=>Math.max(1,z-1)),disabled:le===1,className:"px-2 py-1 border rounded-md bg-white hover:bg-gray-100 disabled:opacity-50",children:"Prev"}),m.jsx("button",{onClick:()=>Te(z=>Math.min(Se,z+1)),disabled:le===Se,className:"px-2 py-1 border rounded-md bg-white hover:bg-gray-100 disabled:opacity-50",children:"Next"})]})]})]}),m.jsx(At,{children:I.visible&&I.key&&m.jsxs(it.div,{ref:H,initial:{opacity:0,y:-4,scale:.97},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-4,scale:.97},transition:{duration:.15},style:{top:I.y,left:I.x},className:"absolute z-[9999] w-[220px] rounded-lg border border-gray-200 bg-white shadow-xl text-xs text-gray-800 py-2",onClick:z=>z.stopPropagation(),children:[m.jsx("div",{className:"px-3 pb-1 text-[10px] font-semibold uppercase tracking-wide text-gray-500",children:"Header Settings"}),m.jsx("div",{className:"max-h-[220px] overflow-y-auto",children:k.map(z=>{const J=C.includes(z);return m.jsxs("label",{className:"flex items-center gap-2 px-3 py-1 hover:bg-gray-50 cursor-pointer",children:[m.jsx("input",{type:"checkbox",checked:J,onChange:()=>Ve(z),className:"accent-[#0A4A7A]"}),m.jsx("span",{className:"truncate",children:n[z]??z})]},z)})}),m.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-200 flex items-center justify-between px-3 gap-2",children:[m.jsx("button",{type:"button",onClick:Ge,className:"px-2 py-1 rounded border border-gray-300 bg-white hover:bg-gray-100 text-[11px]",children:"Show All"}),m.jsx("button",{type:"button",onClick:V,className:"px-2 py-1 rounded bg-[#0A4A7A] text-white hover:bg-[#09385D] text-[11px]",children:"Reset Columns"})]})]})}),m.jsx(yv,{visible:Pe.visible,x:Pe.x,y:Pe.y,selectedRows:Ze,clickedColumnKey:Pe.clickedColumnKey,clickedRow:$t,onClose:ze,mouseScreenX:W,mouseScreenY:K,onOpenPopout:(z,J,pe)=>{d&&d(z,J,pe)},onOpenCalloutIncident:z=>{f&&f(z)}})]})}const gc=["taskId","taskStatus","resourceName","commitmentType","postCode","customerAddress","taskType","primarySkill","importanceScore","taskCreated","appointmentStartDate"];function bv(t){return t.replace(/[_\-]+/g," ").replace(/([a-z0-9])([A-Z])/g,"$1 $2").replace(/\s+/g," ").trim().replace(/^./,n=>n.toUpperCase())}function Sv({data:t,selectedTasks:n,onSelectionChange:s}){const o=x.useMemo(()=>{if(!t||t.length===0)return{};const u=new Set;t.forEach(f=>Object.keys(f).forEach(p=>u.add(p)));const l=[...gc.filter(f=>u.has(f)),...[...u].filter(f=>!gc.includes(f))],d={};return l.forEach(f=>d[f]=bv(f)),d},[t]),a=x.useMemo(()=>n!=null&&n.length?new Set(n.map(u=>String(u.taskId))):new Set,[n]);return!t||t.length===0?m.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-500 text-sm border border-gray-200 rounded-2xl bg-white",children:"No tasks loaded yet. Please define filters and press Search."}):m.jsx(Ur,{rows:t,headerNames:o,className:"h-full",tableHeight:"100%",rowIdKey:"taskId",controlledSelectedRowIds:a,onSelectionChange:u=>s(u)})}const yc=["resourceId","name","status","calloutGroup","primarySkill","availableAgainAt"];function wv(t){return t.replace(/[_\-]+/g," ").replace(/([a-z0-9])([A-Z])/g,"$1 $2").replace(/\s+/g," ").trim().replace(/^./,n=>n.toUpperCase())}function Tv({data:t,selectedResources:n,onSelectionChange:s}){const o=x.useMemo(()=>{if(!(t!=null&&t.length))return{};const u=new Set;t.forEach(f=>Object.keys(f).forEach(p=>u.add(p)));const l=[...yc.filter(f=>u.has(f)),...[...u].filter(f=>!yc.includes(f))],d={};return l.forEach(f=>d[f]=wv(f)),d},[t]),a=x.useMemo(()=>new Set(n.map(u=>String(u.resourceId))),[n]);return!t||t.length===0?m.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-500 text-sm border border-gray-200 rounded-2xl bg-white",children:"No resources loaded. Please define filters and press Search."}):m.jsx(Ur,{rows:t,headerNames:o,className:"h-full",tableHeight:"100%",rowIdKey:"resourceId",controlledSelectedRowIds:a,onSelectionChange:u=>s(u)})}const Nd=JSON.parse('[{"resourceId":"SWBXA12","name":"John Evans","division":"Service Delivery","primarySkill":"RISDN2","secondarySkill":"RISDN1","status":"Available","pwa":"ZB-ALPHA-06","calloutGroup":"FJ","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900101","notes":"","history":[],"updatedAt":null,"homePostCode":"CF44 7AA","homeLat":51.71352,"homeLng":-3.44879},{"resourceId":"QWERB33","name":"Ffion Hughes","division":"Service Delivery","primarySkill":"RISDN3","secondarySkill":null,"status":"Unavailable","pwa":"ZB-GAMMA-04","calloutGroup":"ISDN","lastOutcome":"Unavailable","availableAgainAt":"2025-01-18T14:00","contactNumber":"07700900102","notes":"Medical appointment","history":[{"previousOutcome":null,"previousAvailableAgainAt":null,"changedAt":"2025-01-18T14:00:00Z"}],"updatedAt":"2025-01-18T14:00:00Z","homePostCode":"CF44 6ET","homeLat":51.71114,"homeLng":-3.43291},{"resourceId":"PLMKC14","name":"Owain Roberts","division":"Service Delivery","primarySkill":"RISDN1","secondarySkill":"RISDN2","status":"Available","pwa":"ZB-OMEGA-11","calloutGroup":"FJ","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900103","notes":"","history":[],"updatedAt":null,"homePostCode":"CF44 8NN","homeLat":51.72127,"homeLng":-3.44844},{"resourceId":"GHJTQ55","name":"Carys Morgan","division":"Service Delivery","primarySkill":"RISDN3","secondarySkill":null,"status":"On Task","pwa":"ZB-GAMMA-10","calloutGroup":"SD","lastOutcome":"Assigned","availableAgainAt":null,"contactNumber":"07700900104","notes":"","history":[],"updatedAt":"2025-01-17T09:30:00Z","homePostCode":"CF44 0AG","homeLat":51.69994,"homeLng":-3.43041},{"resourceId":"MNBGD82","name":"Rhys Davies","division":"Service Delivery","primarySkill":"RISDN2","secondarySkill":null,"status":"Available","pwa":"ZB-DELTA-10","calloutGroup":"FJ","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900105","notes":"","history":[],"updatedAt":null,"homePostCode":"CF44 9SW","homeLat":51.73152,"homeLng":-3.50623},{"resourceId":"LKJHF22","name":"Lowri Jenkins","division":"Complex Engineering","primarySkill":"RFTTP1","secondarySkill":"RFTTP2","status":"Available","pwa":"ZB-GAMMA-12","calloutGroup":"CE","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900106","notes":"","history":[],"updatedAt":null,"homePostCode":"CF45 3HD","homeLat":51.68691,"homeLng":-3.37852},{"resourceId":"ASDFR91","name":"Tomos Hughes","division":"Complex Engineering","primarySkill":"RFTTP2","secondarySkill":null,"status":"Unavailable","pwa":"ZB-DELTA-07","calloutGroup":"CE","lastOutcome":"Refusal","availableAgainAt":"2025-01-19T16:00","contactNumber":"07700900107","notes":"Family emergency","history":[{"previousOutcome":null,"previousAvailableAgainAt":null,"changedAt":"2025-01-17T12:00:00Z"}],"updatedAt":"2025-01-17T12:00:00Z","homePostCode":"CF47 8EL","homeLat":51.74842,"homeLng":-3.38123},{"resourceId":"ZXCVS67","name":"Bethan Evans","division":"Complex Engineering","primarySkill":"RFTTP2","secondarySkill":"RFTTP1","status":"On Task","pwa":"ZB-OMEGA-10","calloutGroup":"CE","lastOutcome":"Dispatched","availableAgainAt":null,"contactNumber":"07700900108","notes":"","history":[],"updatedAt":"2025-01-18T08:30:00Z","homePostCode":"CF44 6EA","homeLat":51.70887,"homeLng":-3.43811},{"resourceId":"BNMAS49","name":"Steffan Price","division":"Complex Engineering","primarySkill":"RFTTP1","secondarySkill":null,"status":"Available","pwa":"ZB-DELTA-05","calloutGroup":"CE","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900109","notes":"","history":[],"updatedAt":null,"homePostCode":"CF42 6UP","homeLat":51.65761,"homeLng":-3.50744},{"resourceId":"POIUY73","name":"Aled Thomas","division":"Complex Engineering","primarySkill":"RFTTP2","secondarySkill":null,"status":"Available","pwa":"ZB-ALPHA-02","calloutGroup":"CE","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900110","notes":"","history":[],"updatedAt":null,"homePostCode":"CF44 7AY","homeLat":51.71601,"homeLng":-3.45192},{"resourceId":"UJMKL89","name":"Lauren Evans","division":"Service Delivery","primarySkill":"RISDN2","secondarySkill":"RISDN3","status":"Available","pwa":"ZB-ALPHA-04","calloutGroup":"SD","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900116","notes":"","history":[],"updatedAt":null,"homePostCode":"CF44 7RP","homeLat":51.71074,"homeLng":-3.44591},{"resourceId":"KJHGF02","name":"Nia James","division":"Service Delivery","primarySkill":"RISDN1","secondarySkill":null,"status":"On Task","pwa":"ZB-GAMMA-09","calloutGroup":"ISDN","lastOutcome":"Dispatched","availableAgainAt":null,"contactNumber":"07700900117","notes":"","history":[],"updatedAt":"2025-01-18T08:50:00Z","homePostCode":"CF44 6AB","homeLat":51.70818,"homeLng":-3.42742},{"resourceId":"RTYHN44","name":"Chloe Davies","division":"Service Delivery","primarySkill":"RISDN3","secondarySkill":null,"status":"Available","pwa":"ZB-ALPHA-09","calloutGroup":"SD","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900120","notes":"","history":[],"updatedAt":null,"homePostCode":"CF44 9DL","homeLat":51.72475,"homeLng":-3.4862},{"resourceId":"SDNEW21","name":"Gareth Bowen","division":"Service Delivery","primarySkill":"RISDN1","secondarySkill":"RISDN2","status":"Available","pwa":"ZB-ALPHA-15","calloutGroup":"FJ","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900130","notes":"","history":[],"updatedAt":null,"homePostCode":"CF44 8HA","homeLat":51.71955,"homeLng":-3.45591},{"resourceId":"SDNEW22","name":"Megan Griffiths","division":"Service Delivery","primarySkill":"RISDN3","secondarySkill":"RISDN1","status":"Unavailable","pwa":"ZB-OMEGA-17","calloutGroup":"SD","lastOutcome":"Unavailable","availableAgainAt":"2025-01-20T09:00:00Z","contactNumber":"07700900131","notes":"Childcare","history":[],"updatedAt":"2025-01-18T13:15:00Z","homePostCode":"CF44 0SW","homeLat":51.70082,"homeLng":-3.4211},{"resourceId":"SDNEW23","name":"Ieuan Watkins","division":"Service Delivery","primarySkill":"RISDN1","secondarySkill":null,"status":"Available","pwa":"ZB-GAMMA-18","calloutGroup":"FJ","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900132","notes":"","history":[],"updatedAt":null,"homePostCode":"CF44 6LA","homeLat":51.70692,"homeLng":-3.43092},{"resourceId":"SDNEW24","name":"Seren Powell","division":"Service Delivery","primarySkill":"RISDN2","secondarySkill":"RISDN3","status":"On Task","pwa":"ZB-OMEGA-13","calloutGroup":"SD","lastOutcome":"Assigned","availableAgainAt":null,"contactNumber":"07700900133","notes":"","history":[],"updatedAt":"2025-01-18T10:10:00Z","homePostCode":"CF44 7PP","homeLat":51.71381,"homeLng":-3.45514},{"resourceId":"SDNEW25","name":"Rhys Llewellyn","division":"Service Delivery","primarySkill":"RISDN3","secondarySkill":"RISDN1","status":"Unavailable","pwa":"ZB-DELTA-11","calloutGroup":"ISDN","lastOutcome":"NoReply","availableAgainAt":"2025-01-21T08:00:00Z","contactNumber":"07700900134","notes":"Missed several calls","history":[{"previousOutcome":null,"previousAvailableAgainAt":null,"changedAt":"2025-01-18T12:45:00Z"}],"updatedAt":"2025-01-18T12:45:00Z","homePostCode":"CF44 9DJ","homeLat":51.7261,"homeLng":-3.49125},{"resourceId":"SDNEW26","name":"Catrin Rees","division":"Service Delivery","primarySkill":"RISDN2","secondarySkill":null,"status":"Available","pwa":"ZB-ALPHA-22","calloutGroup":"SD","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900135","notes":"","history":[],"updatedAt":null,"homePostCode":"CF44 0AJ","homeLat":51.70102,"homeLng":-3.43274},{"resourceId":"SDNEW27","name":"Gwenllian Thomas","division":"Service Delivery","primarySkill":"RISDN1","secondarySkill":"RISDN2","status":"Available","pwa":"ZB-GAMMA-22","calloutGroup":"FJ","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900136","notes":"","history":[],"updatedAt":null,"homePostCode":"CF44 9NH","homeLat":51.72982,"homeLng":-3.50008}]'),Av=Object.freeze(Object.defineProperty({__proto__:null,default:Nd},Symbol.toStringTag,{value:"Module"})),Es=x.createContext(null);Es.displayName="PanelGroupContext";const He={group:"data-panel-group",groupDirection:"data-panel-group-direction",groupId:"data-panel-group-id",panel:"data-panel",panelCollapsible:"data-panel-collapsible",panelId:"data-panel-id",panelSize:"data-panel-size",resizeHandle:"data-resize-handle",resizeHandleActive:"data-resize-handle-active",resizeHandleEnabled:"data-panel-resize-handle-enabled",resizeHandleId:"data-panel-resize-handle-id",resizeHandleState:"data-resize-handle-state"},$r=10,Sn=x.useLayoutEffect,vc=bf.useId,Cv=typeof vc=="function"?vc:()=>null;let Pv=0;function Kr(t=null){const n=Cv(),s=x.useRef(t||n||null);return s.current===null&&(s.current=""+Pv++),t??s.current}function Id({children:t,className:n="",collapsedSize:s,collapsible:o,defaultSize:a,forwardedRef:u,id:l,maxSize:d,minSize:f,onCollapse:p,onExpand:g,onResize:v,order:y,style:b,tagName:A="div",...w}){const k=x.useContext(Es);if(k===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:C,expandPanel:N,getPanelSize:T,getPanelStyle:E,groupId:D,isPanelCollapsed:j,reevaluatePanelConstraints:R,registerPanel:B,resizePanel:Y,unregisterPanel:Q}=k,U=Kr(l),G=x.useRef({callbacks:{onCollapse:p,onExpand:g,onResize:v},constraints:{collapsedSize:s,collapsible:o,defaultSize:a,maxSize:d,minSize:f},id:U,idIsFromProps:l!==void 0,order:y});x.useRef({didLogMissingDefaultSizeWarning:!1}),Sn(()=>{const{callbacks:ie,constraints:he}=G.current,de={...he};G.current.id=U,G.current.idIsFromProps=l!==void 0,G.current.order=y,ie.onCollapse=p,ie.onExpand=g,ie.onResize=v,he.collapsedSize=s,he.collapsible=o,he.defaultSize=a,he.maxSize=d,he.minSize=f,(de.collapsedSize!==he.collapsedSize||de.collapsible!==he.collapsible||de.maxSize!==he.maxSize||de.minSize!==he.minSize)&&R(G.current,de)}),Sn(()=>{const ie=G.current;return B(ie),()=>{Q(ie)}},[y,U,B,Q]),x.useImperativeHandle(u,()=>({collapse:()=>{C(G.current)},expand:ie=>{N(G.current,ie)},getId(){return U},getSize(){return T(G.current)},isCollapsed(){return j(G.current)},isExpanded(){return!j(G.current)},resize:ie=>{Y(G.current,ie)}}),[C,N,T,j,U,Y]);const me=E(G.current,a);return x.createElement(A,{...w,children:t,className:n,id:U,style:{...me,...b},[He.groupId]:D,[He.panel]:"",[He.panelCollapsible]:o||void 0,[He.panelId]:U,[He.panelSize]:parseFloat(""+me.flexGrow).toFixed(1)})}const hi=x.forwardRef((t,n)=>x.createElement(Id,{...t,forwardedRef:n}));Id.displayName="Panel";hi.displayName="forwardRef(Panel)";let ir=null,hs=-1,Yt=null;function kv(t,n,s){const o=(n&Bd)!==0,a=(n&Fd)!==0,u=(n&Vd)!==0,l=(n&Zd)!==0;if(n){if(o)return u?"se-resize":l?"ne-resize":"e-resize";if(a)return u?"sw-resize":l?"nw-resize":"w-resize";if(u)return"s-resize";if(l)return"n-resize"}switch(t){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function Mv(){Yt!==null&&(document.head.removeChild(Yt),ir=null,Yt=null,hs=-1)}function ko(t,n,s){var o,a;const u=kv(t,n);if(ir!==u){if(ir=u,Yt===null&&(Yt=document.createElement("style"),document.head.appendChild(Yt)),hs>=0){var l;(l=Yt.sheet)===null||l===void 0||l.removeRule(hs)}hs=(o=(a=Yt.sheet)===null||a===void 0?void 0:a.insertRule(`*{cursor: ${u} !important;}`))!==null&&o!==void 0?o:-1}}function Rd(t){return t.type==="keydown"}function jd(t){return t.type.startsWith("pointer")}function Od(t){return t.type.startsWith("mouse")}function Ns(t){if(jd(t)){if(t.isPrimary)return{x:t.clientX,y:t.clientY}}else if(Od(t))return{x:t.clientX,y:t.clientY};return{x:1/0,y:1/0}}function Dv(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function Lv(t,n,s){return t.x<n.x+n.width&&t.x+t.width>n.x&&t.y<n.y+n.height&&t.y+t.height>n.y}function Ev(t,n){if(t===n)throw new Error("Cannot compare node with itself");const s={a:bc(t),b:bc(n)};let o;for(;s.a.at(-1)===s.b.at(-1);)t=s.a.pop(),n=s.b.pop(),o=t;ve(o,"Stacking order can only be calculated for elements with a common ancestor");const a={a:xc(_c(s.a)),b:xc(_c(s.b))};if(a.a===a.b){const u=o.childNodes,l={a:s.a.at(-1),b:s.b.at(-1)};let d=u.length;for(;d--;){const f=u[d];if(f===l.a)return 1;if(f===l.b)return-1}}return Math.sign(a.a-a.b)}const Nv=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function Iv(t){var n;const s=getComputedStyle((n=zd(t))!==null&&n!==void 0?n:t).display;return s==="flex"||s==="inline-flex"}function Rv(t){const n=getComputedStyle(t);return!!(n.position==="fixed"||n.zIndex!=="auto"&&(n.position!=="static"||Iv(t))||+n.opacity<1||"transform"in n&&n.transform!=="none"||"webkitTransform"in n&&n.webkitTransform!=="none"||"mixBlendMode"in n&&n.mixBlendMode!=="normal"||"filter"in n&&n.filter!=="none"||"webkitFilter"in n&&n.webkitFilter!=="none"||"isolation"in n&&n.isolation==="isolate"||Nv.test(n.willChange)||n.webkitOverflowScrolling==="touch")}function _c(t){let n=t.length;for(;n--;){const s=t[n];if(ve(s,"Missing node"),Rv(s))return s}return null}function xc(t){return t&&Number(getComputedStyle(t).zIndex)||0}function bc(t){const n=[];for(;t;)n.push(t),t=zd(t);return n}function zd(t){const{parentNode:n}=t;return n&&n instanceof ShadowRoot?n.host:n}const Bd=1,Fd=2,Vd=4,Zd=8,jv=Dv()==="coarse";let Tt=[],Wn=!1,Qt=new Map,Is=new Map;const ki=new Set;function Ov(t,n,s,o,a){var u;const{ownerDocument:l}=n,d={direction:s,element:n,hitAreaMargins:o,setResizeHandlerState:a},f=(u=Qt.get(l))!==null&&u!==void 0?u:0;return Qt.set(l,f+1),ki.add(d),Ss(),function(){var g;Is.delete(t),ki.delete(d);const v=(g=Qt.get(l))!==null&&g!==void 0?g:1;if(Qt.set(l,v-1),Ss(),v===1&&Qt.delete(l),Tt.includes(d)){const y=Tt.indexOf(d);y>=0&&Tt.splice(y,1),Rs(),a("up",!0,null)}}}function zv(t){const{target:n}=t,{x:s,y:o}=Ns(t);Wn=!0,Xr({target:n,x:s,y:o}),Ss(),Tt.length>0&&(ws("down",t),Rs(),t.preventDefault(),Wd(n)||t.stopImmediatePropagation())}function Mo(t){const{x:n,y:s}=Ns(t);if(Wn&&t.type!=="pointerleave"&&t.buttons===0&&(Wn=!1,ws("up",t)),!Wn){const{target:o}=t;Xr({target:o,x:n,y:s})}ws("move",t),Rs(),Tt.length>0&&t.preventDefault()}function Do(t){const{target:n}=t,{x:s,y:o}=Ns(t);Is.clear(),Wn=!1,Tt.length>0&&(t.preventDefault(),Wd(n)||t.stopImmediatePropagation()),ws("up",t),Xr({target:n,x:s,y:o}),Rs(),Ss()}function Wd(t){let n=t;for(;n;){if(n.hasAttribute(He.resizeHandle))return!0;n=n.parentElement}return!1}function Xr({target:t,x:n,y:s}){Tt.splice(0);let o=null;(t instanceof HTMLElement||t instanceof SVGElement)&&(o=t),ki.forEach(a=>{const{element:u,hitAreaMargins:l}=a,d=u.getBoundingClientRect(),{bottom:f,left:p,right:g,top:v}=d,y=jv?l.coarse:l.fine;if(n>=p-y&&n<=g+y&&s>=v-y&&s<=f+y){if(o!==null&&document.contains(o)&&u!==o&&!u.contains(o)&&!o.contains(u)&&Ev(o,u)>0){let A=o,w=!1;for(;A&&!A.contains(u);){if(Lv(A.getBoundingClientRect(),d)){w=!0;break}A=A.parentElement}if(w)return}Tt.push(a)}})}function Lo(t,n){Is.set(t,n)}function Rs(){let t=!1,n=!1;Tt.forEach(o=>{const{direction:a}=o;a==="horizontal"?t=!0:n=!0});let s=0;Is.forEach(o=>{s|=o}),t&&n?ko("intersection",s):t?ko("horizontal",s):n?ko("vertical",s):Mv()}let Eo;function Ss(){var t;(t=Eo)===null||t===void 0||t.abort(),Eo=new AbortController;const n={capture:!0,signal:Eo.signal};ki.size&&(Wn?(Tt.length>0&&Qt.forEach((s,o)=>{const{body:a}=o;s>0&&(a.addEventListener("contextmenu",Do,n),a.addEventListener("pointerleave",Mo,n),a.addEventListener("pointermove",Mo,n))}),Qt.forEach((s,o)=>{const{body:a}=o;a.addEventListener("pointerup",Do,n),a.addEventListener("pointercancel",Do,n)})):Qt.forEach((s,o)=>{const{body:a}=o;s>0&&(a.addEventListener("pointerdown",zv,n),a.addEventListener("pointermove",Mo,n))}))}function ws(t,n){ki.forEach(s=>{const{setResizeHandlerState:o}=s,a=Tt.includes(s);o(t,a,n)})}function Bv(){const[t,n]=x.useState(0);return x.useCallback(()=>n(s=>s+1),[])}function ve(t,n){if(!t)throw console.error(n),Error(n)}function wn(t,n,s=$r){return t.toFixed(s)===n.toFixed(s)?0:t>n?1:-1}function Wt(t,n,s=$r){return wn(t,n,s)===0}function ft(t,n,s){return wn(t,n,s)===0}function Fv(t,n,s){if(t.length!==n.length)return!1;for(let o=0;o<t.length;o++){const a=t[o],u=n[o];if(!ft(a,u,s))return!1}return!0}function Vn({panelConstraints:t,panelIndex:n,size:s}){const o=t[n];ve(o!=null,`Panel constraints not found for index ${n}`);let{collapsedSize:a=0,collapsible:u,maxSize:l=100,minSize:d=0}=o;if(wn(s,d)<0)if(u){const f=(a+d)/2;wn(s,f)<0?s=a:s=d}else s=d;return s=Math.min(l,s),s=parseFloat(s.toFixed($r)),s}function fi({delta:t,initialLayout:n,panelConstraints:s,pivotIndices:o,prevLayout:a,trigger:u}){if(ft(t,0))return n;const l=[...n],[d,f]=o;ve(d!=null,"Invalid first pivot index"),ve(f!=null,"Invalid second pivot index");let p=0;if(u==="keyboard"){{const v=t<0?f:d,y=s[v];ve(y,`Panel constraints not found for index ${v}`);const{collapsedSize:b=0,collapsible:A,minSize:w=0}=y;if(A){const k=n[v];if(ve(k!=null,`Previous layout not found for panel index ${v}`),ft(k,b)){const C=w-k;wn(C,Math.abs(t))>0&&(t=t<0?0-C:C)}}}{const v=t<0?d:f,y=s[v];ve(y,`No panel constraints found for index ${v}`);const{collapsedSize:b=0,collapsible:A,minSize:w=0}=y;if(A){const k=n[v];if(ve(k!=null,`Previous layout not found for panel index ${v}`),ft(k,w)){const C=k-b;wn(C,Math.abs(t))>0&&(t=t<0?0-C:C)}}}}{const v=t<0?1:-1;let y=t<0?f:d,b=0;for(;;){const w=n[y];ve(w!=null,`Previous layout not found for panel index ${y}`);const C=Vn({panelConstraints:s,panelIndex:y,size:100})-w;if(b+=C,y+=v,y<0||y>=s.length)break}const A=Math.min(Math.abs(t),Math.abs(b));t=t<0?0-A:A}{let y=t<0?d:f;for(;y>=0&&y<s.length;){const b=Math.abs(t)-Math.abs(p),A=n[y];ve(A!=null,`Previous layout not found for panel index ${y}`);const w=A-b,k=Vn({panelConstraints:s,panelIndex:y,size:w});if(!ft(A,k)&&(p+=A-k,l[y]=k,p.toFixed(3).localeCompare(Math.abs(t).toFixed(3),void 0,{numeric:!0})>=0))break;t<0?y--:y++}}if(Fv(a,l))return a;{const v=t<0?f:d,y=n[v];ve(y!=null,`Previous layout not found for panel index ${v}`);const b=y+p,A=Vn({panelConstraints:s,panelIndex:v,size:b});if(l[v]=A,!ft(A,b)){let w=b-A,C=t<0?f:d;for(;C>=0&&C<s.length;){const N=l[C];ve(N!=null,`Previous layout not found for panel index ${C}`);const T=N+w,E=Vn({panelConstraints:s,panelIndex:C,size:T});if(ft(N,E)||(w-=E-N,l[C]=E),ft(w,0))break;t>0?C--:C++}}}const g=l.reduce((v,y)=>y+v,0);return ft(g,100)?l:a}function Vv({layout:t,panelsArray:n,pivotIndices:s}){let o=0,a=100,u=0,l=0;const d=s[0];ve(d!=null,"No pivot index found"),n.forEach((v,y)=>{const{constraints:b}=v,{maxSize:A=100,minSize:w=0}=b;y===d?(o=w,a=A):(u+=w,l+=A)});const f=Math.min(a,100-u),p=Math.max(o,100-l),g=t[d];return{valueMax:f,valueMin:p,valueNow:g}}function Mi(t,n=document){return Array.from(n.querySelectorAll(`[${He.resizeHandleId}][data-panel-group-id="${t}"]`))}function Hd(t,n,s=document){const a=Mi(t,s).findIndex(u=>u.getAttribute(He.resizeHandleId)===n);return a??null}function Gd(t,n,s){const o=Hd(t,n,s);return o!=null?[o,o+1]:[-1,-1]}function Zv(t){return t instanceof HTMLElement?!0:typeof t=="object"&&t!==null&&"tagName"in t&&"getAttribute"in t}function Jd(t,n=document){if(Zv(n)&&n.dataset.panelGroupId==t)return n;const s=n.querySelector(`[data-panel-group][data-panel-group-id="${t}"]`);return s||null}function js(t,n=document){const s=n.querySelector(`[${He.resizeHandleId}="${t}"]`);return s||null}function Wv(t,n,s,o=document){var a,u,l,d;const f=js(n,o),p=Mi(t,o),g=f?p.indexOf(f):-1,v=(a=(u=s[g])===null||u===void 0?void 0:u.id)!==null&&a!==void 0?a:null,y=(l=(d=s[g+1])===null||d===void 0?void 0:d.id)!==null&&l!==void 0?l:null;return[v,y]}function Hv({committedValuesRef:t,eagerValuesRef:n,groupId:s,layout:o,panelDataArray:a,panelGroupElement:u,setLayout:l}){x.useRef({didWarnAboutMissingResizeHandle:!1}),Sn(()=>{if(!u)return;const d=Mi(s,u);for(let f=0;f<a.length-1;f++){const{valueMax:p,valueMin:g,valueNow:v}=Vv({layout:o,panelsArray:a,pivotIndices:[f,f+1]}),y=d[f];if(y!=null){const b=a[f];ve(b,`No panel data found for index "${f}"`),y.setAttribute("aria-controls",b.id),y.setAttribute("aria-valuemax",""+Math.round(p)),y.setAttribute("aria-valuemin",""+Math.round(g)),y.setAttribute("aria-valuenow",v!=null?""+Math.round(v):"")}}return()=>{d.forEach((f,p)=>{f.removeAttribute("aria-controls"),f.removeAttribute("aria-valuemax"),f.removeAttribute("aria-valuemin"),f.removeAttribute("aria-valuenow")})}},[s,o,a,u]),x.useEffect(()=>{if(!u)return;const d=n.current;ve(d,"Eager values not found");const{panelDataArray:f}=d,p=Jd(s,u);ve(p!=null,`No group found for id "${s}"`);const g=Mi(s,u);ve(g,`No resize handles found for group id "${s}"`);const v=g.map(y=>{const b=y.getAttribute(He.resizeHandleId);ve(b,"Resize handle element has no handle id attribute");const[A,w]=Wv(s,b,f,u);if(A==null||w==null)return()=>{};const k=C=>{if(!C.defaultPrevented)switch(C.key){case"Enter":{C.preventDefault();const N=f.findIndex(T=>T.id===A);if(N>=0){const T=f[N];ve(T,`No panel data found for index ${N}`);const E=o[N],{collapsedSize:D=0,collapsible:j,minSize:R=0}=T.constraints;if(E!=null&&j){const B=fi({delta:ft(E,D)?R-D:D-E,initialLayout:o,panelConstraints:f.map(Y=>Y.constraints),pivotIndices:Gd(s,b,u),prevLayout:o,trigger:"keyboard"});o!==B&&l(B)}}break}}};return y.addEventListener("keydown",k),()=>{y.removeEventListener("keydown",k)}});return()=>{v.forEach(y=>y())}},[u,t,n,s,o,a,l])}function Sc(t,n){if(t.length!==n.length)return!1;for(let s=0;s<t.length;s++)if(t[s]!==n[s])return!1;return!0}function Ud(t,n){const s=t==="horizontal",{x:o,y:a}=Ns(n);return s?o:a}function Gv(t,n,s,o,a){const u=s==="horizontal",l=js(n,a);ve(l,`No resize handle element found for id "${n}"`);const d=l.getAttribute(He.groupId);ve(d,"Resize handle element has no group id attribute");let{initialCursorPosition:f}=o;const p=Ud(s,t),g=Jd(d,a);ve(g,`No group element found for id "${d}"`);const v=g.getBoundingClientRect(),y=u?v.width:v.height;return(p-f)/y*100}function Jv(t,n,s,o,a,u){if(Rd(t)){const l=s==="horizontal";let d=0;t.shiftKey?d=100:a!=null?d=a:d=10;let f=0;switch(t.key){case"ArrowDown":f=l?0:d;break;case"ArrowLeft":f=l?-d:0;break;case"ArrowRight":f=l?d:0;break;case"ArrowUp":f=l?0:-d;break;case"End":f=100;break;case"Home":f=-100;break}return f}else return o==null?0:Gv(t,n,s,o,u)}function Uv({panelDataArray:t}){const n=Array(t.length),s=t.map(u=>u.constraints);let o=0,a=100;for(let u=0;u<t.length;u++){const l=s[u];ve(l,`Panel constraints not found for index ${u}`);const{defaultSize:d}=l;d!=null&&(o++,n[u]=d,a-=d)}for(let u=0;u<t.length;u++){const l=s[u];ve(l,`Panel constraints not found for index ${u}`);const{defaultSize:d}=l;if(d!=null)continue;const f=t.length-o,p=a/f;o++,n[u]=p,a-=p}return n}function In(t,n,s){n.forEach((o,a)=>{const u=t[a];ve(u,`Panel data not found for index ${a}`);const{callbacks:l,constraints:d,id:f}=u,{collapsedSize:p=0,collapsible:g}=d,v=s[f];if(v==null||o!==v){s[f]=o;const{onCollapse:y,onExpand:b,onResize:A}=l;A&&A(o,v),g&&(y||b)&&(b&&(v==null||Wt(v,p))&&!Wt(o,p)&&b(),y&&(v==null||!Wt(v,p))&&Wt(o,p)&&y())}})}function ss(t,n){if(t.length!==n.length)return!1;for(let s=0;s<t.length;s++)if(t[s]!=n[s])return!1;return!0}function $v({defaultSize:t,dragState:n,layout:s,panelData:o,panelIndex:a,precision:u=3}){const l=s[a];let d;return l==null?d=t!=null?t.toFixed(u):"1":o.length===1?d="1":d=l.toFixed(u),{flexBasis:0,flexGrow:d,flexShrink:1,overflow:"hidden",pointerEvents:n!==null?"none":void 0}}function Kv(t,n=10){let s=null;return(...a)=>{s!==null&&clearTimeout(s),s=setTimeout(()=>{t(...a)},n)}}function wc(t){try{if(typeof localStorage<"u")t.getItem=n=>localStorage.getItem(n),t.setItem=(n,s)=>{localStorage.setItem(n,s)};else throw new Error("localStorage not supported in this environment")}catch(n){console.error(n),t.getItem=()=>null,t.setItem=()=>{}}}function $d(t){return`react-resizable-panels:${t}`}function Kd(t){return t.map(n=>{const{constraints:s,id:o,idIsFromProps:a,order:u}=n;return a?o:u?`${u}:${JSON.stringify(s)}`:JSON.stringify(s)}).sort((n,s)=>n.localeCompare(s)).join(",")}function Xd(t,n){try{const s=$d(t),o=n.getItem(s);if(o){const a=JSON.parse(o);if(typeof a=="object"&&a!=null)return a}}catch{}return null}function Xv(t,n,s){var o,a;const u=(o=Xd(t,s))!==null&&o!==void 0?o:{},l=Kd(n);return(a=u[l])!==null&&a!==void 0?a:null}function qv(t,n,s,o,a){var u;const l=$d(t),d=Kd(n),f=(u=Xd(t,a))!==null&&u!==void 0?u:{};f[d]={expandToSizes:Object.fromEntries(s.entries()),layout:o};try{a.setItem(l,JSON.stringify(f))}catch(p){console.error(p)}}function Tc({layout:t,panelConstraints:n}){const s=[...t],o=s.reduce((u,l)=>u+l,0);if(s.length!==n.length)throw Error(`Invalid ${n.length} panel layout: ${s.map(u=>`${u}%`).join(", ")}`);if(!ft(o,100)&&s.length>0)for(let u=0;u<n.length;u++){const l=s[u];ve(l!=null,`No layout data found for index ${u}`);const d=100/o*l;s[u]=d}let a=0;for(let u=0;u<n.length;u++){const l=s[u];ve(l!=null,`No layout data found for index ${u}`);const d=Vn({panelConstraints:n,panelIndex:u,size:l});l!=d&&(a+=l-d,s[u]=d)}if(!ft(a,0))for(let u=0;u<n.length;u++){const l=s[u];ve(l!=null,`No layout data found for index ${u}`);const d=l+a,f=Vn({panelConstraints:n,panelIndex:u,size:d});if(l!==f&&(a-=f-l,s[u]=f,ft(a,0)))break}return s}const Yv=100,mi={getItem:t=>(wc(mi),mi.getItem(t)),setItem:(t,n)=>{wc(mi),mi.setItem(t,n)}},Ac={};function qd({autoSaveId:t=null,children:n,className:s="",direction:o,forwardedRef:a,id:u=null,onLayout:l=null,keyboardResizeBy:d=null,storage:f=mi,style:p,tagName:g="div",...v}){const y=Kr(u),b=x.useRef(null),[A,w]=x.useState(null),[k,C]=x.useState([]),N=Bv(),T=x.useRef({}),E=x.useRef(new Map),D=x.useRef(0),j=x.useRef({autoSaveId:t,direction:o,dragState:A,id:y,keyboardResizeBy:d,onLayout:l,storage:f}),R=x.useRef({layout:k,panelDataArray:[],panelDataArrayChanged:!1});x.useRef({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),x.useImperativeHandle(a,()=>({getId:()=>j.current.id,getLayout:()=>{const{layout:F}=R.current;return F},setLayout:F=>{const{onLayout:H}=j.current,{layout:W,panelDataArray:Z}=R.current,K=Tc({layout:F,panelConstraints:Z.map(ee=>ee.constraints)});Sc(W,K)||(C(K),R.current.layout=K,H&&H(K),In(Z,K,T.current))}}),[]),Sn(()=>{j.current.autoSaveId=t,j.current.direction=o,j.current.dragState=A,j.current.id=y,j.current.onLayout=l,j.current.storage=f}),Hv({committedValuesRef:j,eagerValuesRef:R,groupId:y,layout:k,panelDataArray:R.current.panelDataArray,setLayout:C,panelGroupElement:b.current}),x.useEffect(()=>{const{panelDataArray:F}=R.current;if(t){if(k.length===0||k.length!==F.length)return;let H=Ac[t];H==null&&(H=Kv(qv,Yv),Ac[t]=H);const W=[...F],Z=new Map(E.current);H(t,W,Z,k,f)}},[t,k,f]),x.useEffect(()=>{});const B=x.useCallback(F=>{const{onLayout:H}=j.current,{layout:W,panelDataArray:Z}=R.current;if(F.constraints.collapsible){const K=Z.map(Me=>Me.constraints),{collapsedSize:ee=0,panelSize:le,pivotIndices:Te}=fn(Z,F,W);if(ve(le!=null,`Panel size not found for panel "${F.id}"`),!Wt(le,ee)){E.current.set(F.id,le);const Ne=Rn(Z,F)===Z.length-1?le-ee:ee-le,Se=fi({delta:Ne,initialLayout:W,panelConstraints:K,pivotIndices:Te,prevLayout:W,trigger:"imperative-api"});ss(W,Se)||(C(Se),R.current.layout=Se,H&&H(Se),In(Z,Se,T.current))}}},[]),Y=x.useCallback((F,H)=>{const{onLayout:W}=j.current,{layout:Z,panelDataArray:K}=R.current;if(F.constraints.collapsible){const ee=K.map(De=>De.constraints),{collapsedSize:le=0,panelSize:Te=0,minSize:Me=0,pivotIndices:Ne}=fn(K,F,Z),Se=H??Me;if(Wt(Te,le)){const De=E.current.get(F.id),st=De!=null&&De>=Se?De:Se,dt=Rn(K,F)===K.length-1?Te-st:st-Te,je=fi({delta:dt,initialLayout:Z,panelConstraints:ee,pivotIndices:Ne,prevLayout:Z,trigger:"imperative-api"});ss(Z,je)||(C(je),R.current.layout=je,W&&W(je),In(K,je,T.current))}}},[]),Q=x.useCallback(F=>{const{layout:H,panelDataArray:W}=R.current,{panelSize:Z}=fn(W,F,H);return ve(Z!=null,`Panel size not found for panel "${F.id}"`),Z},[]),U=x.useCallback((F,H)=>{const{panelDataArray:W}=R.current,Z=Rn(W,F);return $v({defaultSize:H,dragState:A,layout:k,panelData:W,panelIndex:Z})},[A,k]),G=x.useCallback(F=>{const{layout:H,panelDataArray:W}=R.current,{collapsedSize:Z=0,collapsible:K,panelSize:ee}=fn(W,F,H);return ve(ee!=null,`Panel size not found for panel "${F.id}"`),K===!0&&Wt(ee,Z)},[]),me=x.useCallback(F=>{const{layout:H,panelDataArray:W}=R.current,{collapsedSize:Z=0,collapsible:K,panelSize:ee}=fn(W,F,H);return ve(ee!=null,`Panel size not found for panel "${F.id}"`),!K||wn(ee,Z)>0},[]),ie=x.useCallback(F=>{const{panelDataArray:H}=R.current;H.push(F),H.sort((W,Z)=>{const K=W.order,ee=Z.order;return K==null&&ee==null?0:K==null?-1:ee==null?1:K-ee}),R.current.panelDataArrayChanged=!0,N()},[N]);Sn(()=>{if(R.current.panelDataArrayChanged){R.current.panelDataArrayChanged=!1;const{autoSaveId:F,onLayout:H,storage:W}=j.current,{layout:Z,panelDataArray:K}=R.current;let ee=null;if(F){const Te=Xv(F,K,W);Te&&(E.current=new Map(Object.entries(Te.expandToSizes)),ee=Te.layout)}ee==null&&(ee=Uv({panelDataArray:K}));const le=Tc({layout:ee,panelConstraints:K.map(Te=>Te.constraints)});Sc(Z,le)||(C(le),R.current.layout=le,H&&H(le),In(K,le,T.current))}}),Sn(()=>{const F=R.current;return()=>{F.layout=[]}},[]);const he=x.useCallback(F=>{let H=!1;const W=b.current;return W&&window.getComputedStyle(W,null).getPropertyValue("direction")==="rtl"&&(H=!0),function(K){K.preventDefault();const ee=b.current;if(!ee)return()=>null;const{direction:le,dragState:Te,id:Me,keyboardResizeBy:Ne,onLayout:Se}=j.current,{layout:De,panelDataArray:st}=R.current,{initialLayout:$e}=Te??{},dt=Gd(Me,F,ee);let je=Jv(K,F,le,Te,Ne,ee);const Ct=le==="horizontal";Ct&&H&&(je=-je);const Pt=st.map(ne=>ne.constraints),ot=fi({delta:je,initialLayout:$e??De,panelConstraints:Pt,pivotIndices:dt,prevLayout:De,trigger:Rd(K)?"keyboard":"mouse-or-touch"}),ht=!ss(De,ot);(jd(K)||Od(K))&&D.current!=je&&(D.current=je,!ht&&je!==0?Ct?Lo(F,je<0?Bd:Fd):Lo(F,je<0?Vd:Zd):Lo(F,0)),ht&&(C(ot),R.current.layout=ot,Se&&Se(ot),In(st,ot,T.current))}},[]),de=x.useCallback((F,H)=>{const{onLayout:W}=j.current,{layout:Z,panelDataArray:K}=R.current,ee=K.map(De=>De.constraints),{panelSize:le,pivotIndices:Te}=fn(K,F,Z);ve(le!=null,`Panel size not found for panel "${F.id}"`);const Ne=Rn(K,F)===K.length-1?le-H:H-le,Se=fi({delta:Ne,initialLayout:Z,panelConstraints:ee,pivotIndices:Te,prevLayout:Z,trigger:"imperative-api"});ss(Z,Se)||(C(Se),R.current.layout=Se,W&&W(Se),In(K,Se,T.current))},[]),ae=x.useCallback((F,H)=>{const{layout:W,panelDataArray:Z}=R.current,{collapsedSize:K=0,collapsible:ee}=H,{collapsedSize:le=0,collapsible:Te,maxSize:Me=100,minSize:Ne=0}=F.constraints,{panelSize:Se}=fn(Z,F,W);Se!=null&&(ee&&Te&&Wt(Se,K)?Wt(K,le)||de(F,le):Se<Ne?de(F,Ne):Se>Me&&de(F,Me))},[de]),$=x.useCallback((F,H)=>{const{direction:W}=j.current,{layout:Z}=R.current;if(!b.current)return;const K=js(F,b.current);ve(K,`Drag handle element not found for id "${F}"`);const ee=Ud(W,H);w({dragHandleId:F,dragHandleRect:K.getBoundingClientRect(),initialCursorPosition:ee,initialLayout:Z})},[]),Pe=x.useCallback(()=>{w(null)},[]),q=x.useCallback(F=>{const{panelDataArray:H}=R.current,W=Rn(H,F);W>=0&&(H.splice(W,1),delete T.current[F.id],R.current.panelDataArrayChanged=!0,N())},[N]),I=x.useMemo(()=>({collapsePanel:B,direction:o,dragState:A,expandPanel:Y,getPanelSize:Q,getPanelStyle:U,groupId:y,isPanelCollapsed:G,isPanelExpanded:me,reevaluatePanelConstraints:ae,registerPanel:ie,registerResizeHandle:he,resizePanel:de,startDragging:$,stopDragging:Pe,unregisterPanel:q,panelGroupElement:b.current}),[B,A,o,Y,Q,U,y,G,me,ae,ie,he,de,$,Pe,q]),ue={display:"flex",flexDirection:o==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return x.createElement(Es.Provider,{value:I},x.createElement(g,{...v,children:n,className:s,id:u,ref:b,style:{...ue,...p},[He.group]:"",[He.groupDirection]:o,[He.groupId]:y}))}const fs=x.forwardRef((t,n)=>x.createElement(qd,{...t,forwardedRef:n}));qd.displayName="PanelGroup";fs.displayName="forwardRef(PanelGroup)";function Rn(t,n){return t.findIndex(s=>s===n||s.id===n.id)}function fn(t,n,s){const o=Rn(t,n),u=o===t.length-1?[o-1,o]:[o,o+1],l=s[o];return{...n.constraints,panelSize:l,pivotIndices:u}}function Qv({disabled:t,handleId:n,resizeHandler:s,panelGroupElement:o}){x.useEffect(()=>{if(t||s==null||o==null)return;const a=js(n,o);if(a==null)return;const u=l=>{if(!l.defaultPrevented)switch(l.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{l.preventDefault(),s(l);break}case"F6":{l.preventDefault();const d=a.getAttribute(He.groupId);ve(d,`No group element found for id "${d}"`);const f=Mi(d,o),p=Hd(d,n,o);ve(p!==null,`No resize element found for id "${n}"`);const g=l.shiftKey?p>0?p-1:f.length-1:p+1<f.length?p+1:0;f[g].focus();break}}};return a.addEventListener("keydown",u),()=>{a.removeEventListener("keydown",u)}},[o,t,n,s])}function ms({children:t=null,className:n="",disabled:s=!1,hitAreaMargins:o,id:a,onBlur:u,onClick:l,onDragging:d,onFocus:f,onPointerDown:p,onPointerUp:g,style:v={},tabIndex:y=0,tagName:b="div",...A}){var w,k;const C=x.useRef(null),N=x.useRef({onClick:l,onDragging:d,onPointerDown:p,onPointerUp:g});x.useEffect(()=>{N.current.onClick=l,N.current.onDragging=d,N.current.onPointerDown=p,N.current.onPointerUp=g});const T=x.useContext(Es);if(T===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:E,groupId:D,registerResizeHandle:j,startDragging:R,stopDragging:B,panelGroupElement:Y}=T,Q=Kr(a),[U,G]=x.useState("inactive"),[me,ie]=x.useState(!1),[he,de]=x.useState(null),ae=x.useRef({state:U});Sn(()=>{ae.current.state=U}),x.useEffect(()=>{if(s)de(null);else{const I=j(Q);de(()=>I)}},[s,Q,j]);const $=(w=o==null?void 0:o.coarse)!==null&&w!==void 0?w:15,Pe=(k=o==null?void 0:o.fine)!==null&&k!==void 0?k:5;x.useEffect(()=>{if(s||he==null)return;const I=C.current;ve(I,"Element ref not attached");let ue=!1;return Ov(Q,I,E,{coarse:$,fine:Pe},(H,W,Z)=>{if(!W){G("inactive");return}switch(H){case"down":{G("drag"),ue=!1,ve(Z,'Expected event to be defined for "down" action'),R(Q,Z);const{onDragging:K,onPointerDown:ee}=N.current;K==null||K(!0),ee==null||ee();break}case"move":{const{state:K}=ae.current;ue=!0,K!=="drag"&&G("hover"),ve(Z,'Expected event to be defined for "move" action'),he(Z);break}case"up":{G("hover"),B();const{onClick:K,onDragging:ee,onPointerUp:le}=N.current;ee==null||ee(!1),le==null||le(),ue||K==null||K();break}}})},[$,E,s,Pe,j,Q,he,R,B]),Qv({disabled:s,handleId:Q,resizeHandler:he,panelGroupElement:Y});const q={touchAction:"none",userSelect:"none"};return x.createElement(b,{...A,children:t,className:n,id:a,onBlur:()=>{ie(!1),u==null||u()},onFocus:()=>{ie(!0),f==null||f()},ref:C,role:"separator",style:{...q,...v},tabIndex:y,[He.groupDirection]:E,[He.groupId]:D,[He.resizeHandle]:"",[He.resizeHandleActive]:U==="drag"?"pointer":me?"keyboard":void 0,[He.resizeHandleEnabled]:!s,[He.resizeHandleId]:Q,[He.resizeHandleState]:U})}ms.displayName="PanelResizeHandle";function e_(t=["timeline","map","resources","tasks"]){const[n,s]=x.useState(t),[o,a]=x.useState(null),u=g=>{s(v=>v.includes(g)?v.filter(y=>y!==g):[...v,g])},l=g=>{s(v=>v.filter(y=>y!==g)),o===g&&a(null)},d=g=>{n.length<=1||a(v=>v===g?null:g)},f=x.useMemo(()=>t.filter(g=>!n.includes(g)),[n,t]);return{visiblePanels:n,maximizedPanel:o,collapsedPanels:f,isPanelMaximized:g=>o===g,togglePanel:u,closePanel:l,maximizePanel:d}}function Cc({title:t,icon:n,isMaximized:s,onMaximize:o,onClose:a,children:u,visibleCount:l}){return m.jsxs("div",{className:"flex flex-col h-full w-full bg-white border rounded-md overflow-hidden",children:[m.jsxs("div",{className:"flex items-center justify-between px-2 py-1 bg-gray-100 border-b",children:[m.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[m.jsx(n,{size:14,className:"text-gray-500"}),t]}),m.jsxs("div",{className:"flex items-center gap-1",children:[l>1&&m.jsxs(m.Fragment,{children:[!s&&m.jsx("button",{onClick:o,className:"p-1 hover:bg-gray-200 rounded",title:"Maximize",children:m.jsx(lc,{size:14})}),s&&m.jsx("button",{onClick:o,className:"p-1 hover:bg-gray-200 rounded",title:"Restore",children:m.jsx(lc,{size:14,className:"rotate-180"})})]}),m.jsx("button",{onClick:a,className:"p-1 hover:bg-gray-200 rounded",title:"Close",children:m.jsx(wd,{size:14})})]})]}),m.jsx("div",{className:"flex-1 min-h-0 overflow-hidden",children:u})]})}const mn=[{id:"tasksByCommit",label:"Tasks by Commit",group:"task"},{id:"notAssigned",label:"Not Assigned Tasks",group:"task"},{id:"earliestResource",label:"Earliest Resource for Task",group:"task"},{id:"closeResource",label:"Close Resource for Tasks",group:"task"},{id:"resource-active",label:"Active Resources",group:"resource"}];function t_(){var g;const[t,n]=x.useState("task"),[s,o]=x.useState(((g=mn.find(v=>v.group==="task"))==null?void 0:g.id)??mn[0].id),a=v=>{n(v);const y=mn.find(b=>b.group===v);y&&o(y.id)},u=v=>t===v,l=v=>{o(v);const y=mn.find(b=>b.id===v);y&&n(y.group)},d=v=>v===s,f=mn.filter(v=>v.group==="task"),p=mn.filter(v=>v.group==="resource");return{MENU:mn,activeTab:t,selectedMode:s,selectTab:a,isTab:u,select:l,isActive:d,taskItems:f,resourceItems:p}}function n_(){const[t,n]=x.useState([]),[s,o]=x.useState([]),[a,u]=x.useState(!0),l=x.useRef(null),d=x.useRef(!1),f=x.useRef(!1),p=t.length===1?t[0]:null,g=s.length===1?s[0]:null;x.useEffect(()=>{console.log(" SELECTED TASKS:",t.map(T=>T.taskId)),console.log(" SELECTED RESOURCES:",s.map(T=>T.resourceId))},[t,s]);const v=(T,E,D)=>{console.log("APPLY SELECTION (origin:",D,")",T),l.current=D,E(T),setTimeout(()=>{l.current=null},0)};return{selectedTasks:t,selectedTask:p,handleTaskMapClick:(T,E=!1)=>{console.log("MAP CLICK TASK:",T.taskId,"multi:",E),u(!1),l.current="map",d.current=!0,n(D=>E?D.some(R=>R.taskId===T.taskId)?D.filter(R=>R.taskId!==T.taskId):[...D,T]:[T]),setTimeout(()=>{l.current=null,d.current=!1},30)},handleTaskTableSelect:T=>{if(console.log("TABLE SELECT TASKS:",T.map(E=>E.taskId)),d.current||l.current==="map"||f.current){console.log("TABLE IGNORED  map is selecting/dragging");return}u(!0),v(T,n,"table")},selectedResources:s,selectedResource:g,handleResourceMapClick:(T,E=!1)=>{console.log("MAP CLICK RESOURCE:",T.resourceId,"multi:",E),u(!1),l.current="map",d.current=!0,o(D=>E?D.some(R=>R.resourceId===T.resourceId)?D.filter(R=>R.resourceId!==T.resourceId):[...D,T]:[T]),setTimeout(()=>{l.current=null,d.current=!1},30)},handleResourceTableSelect:T=>{if(console.log("TABLE SELECT RESOURCES:",T.map(E=>E.resourceId)),d.current||l.current==="map"||f.current){console.log("TABLE IGNORED  map is selecting/dragging");return}u(!0),v(T,o,"table")},shouldZoom:a,notifyMapDragStart:()=>{console.log("MAP DRAG START"),f.current=!0},notifyMapDragEnd:()=>{console.log("MAP DRAG END"),setTimeout(()=>{f.current=!1,console.log("MAP DRAG CLEAR")},80)},clearAll:()=>{console.log("CLEAR ALL"),l.current="clear",n([]),o([]),u(!0),setTimeout(()=>{l.current=null},0)}}}const Vt={blue:"#0A4A7A",blueHover:"#08385E",blueSoft:"#E8F1F7",border:"#D7E0EA"},li={timeline:{label:"Gantt Timeline",icon:fd},map:{label:"Map View",icon:k0},resources:{label:"Resource Table",icon:Ls},tasks:{label:"Task Table",icon:Ms}};function i_({children:t,onClick:n}){const s=x.useRef(null);return x.useEffect(()=>{function o(a){s.current&&(s.current.contains(a.target)||n())}return document.addEventListener("mousedown",o),()=>document.removeEventListener("mousedown",o)},[n]),m.jsx("div",{ref:s,children:t})}function Pc(t){return t==="resource-active"?"resource-active":"task-default"}function s_(){var ce,Ve,Ge;const[t,n]=x.useState(""),[s,o]=x.useState(!1),[a,u]=x.useState(!1),[l,d]=x.useState(!1),f=x.useRef(null),[p,g]=x.useState(""),v=x.useRef({}),[y,b]=x.useState([]),[A,w]=x.useState([]),k=Nd,[C,N]=x.useState({statuses:[],pwa:[],capabilities:[],commitmentTypes:[]}),[T,E]=x.useState(0),{selectedMode:D,select:j,isActive:R,taskItems:B,resourceItems:Y}=t_(),{selectedTasks:Q,selectedTask:U,handleTaskMapClick:G,handleTaskTableSelect:me,selectedResources:ie,selectedResource:he,handleResourceMapClick:de,handleResourceTableSelect:ae,shouldZoom:$,clearAll:Pe,notifyMapDragStart:q,notifyMapDragEnd:I}=n_(),ue=x.useMemo(()=>{const V=new Set;return yn.forEach(se=>se.division&&V.add(se.division)),Array.from(V).sort()},[]);function F(V){const se=new Set,ze=new Set,Ie=new Set,_e=new Set;for(const Ye of V)Ye.taskStatus&&se.add(Ye.taskStatus),Ye.pwa&&ze.add(Ye.pwa),Array.isArray(Ye.capabilities)&&Ye.capabilities.forEach(Ze=>Ie.add(Ze)),Ye.commitmentType&&_e.add(Ye.commitmentType);return{statuses:[...se].sort(),pwa:[...ze].sort(),capabilities:[...Ie].sort(),commitmentTypes:[..._e].sort()}}const H=V=>{if(n(V),b([]),w([]),E(se=>se+1),V){const se=yn.filter(ze=>ze.division===V);N(F(se))}else N({statuses:[],pwa:[],capabilities:[],commitmentTypes:[]});g("")},{visiblePanels:W,maximizedPanel:Z,collapsedPanels:K,isPanelMaximized:ee,togglePanel:le,closePanel:Te,maximizePanel:Me}=e_(),Ne=V=>{var ze,Ie,_e,Ye;let se=[...yn];t&&(se=se.filter(Ze=>Ze.division===t)),(ze=V.statuses)!=null&&ze.length&&(se=se.filter(Ze=>V.statuses.includes(Ze.taskStatus))),(Ie=V.pwa)!=null&&Ie.length&&(se=se.filter(Ze=>V.pwa.includes(Ze.pwa))),(_e=V.capabilities)!=null&&_e.length&&(se=se.filter(Ze=>{var $t;return($t=Ze.capabilities)==null?void 0:$t.some(z=>V.capabilities.includes(z))})),(Ye=V.commitmentTypes)!=null&&Ye.length&&(se=se.filter(Ze=>V.commitmentTypes.includes(Ze.commitmentType))),b(se),u(!1),d(!1)},Se=V=>{var ze,Ie;let se=[...k];t&&(se=se.filter(_e=>_e.division===t)),(ze=V.statuses)!=null&&ze.length&&(se=se.filter(_e=>V.statuses.includes(_e.status))),(Ie=V.pwa)!=null&&Ie.length&&(se=se.filter(_e=>V.pwa.includes(_e.pwa))),w(se),u(!1),d(!1)},De=()=>{const V=p.trim().toLowerCase();if(!V)return;let se=!1;const ze=yn.filter(_e=>_e.taskId&&_e.taskId.toLowerCase()===V);ze.length&&(b(ze),se=!0);const Ie=k.filter(_e=>_e.resourceId&&String(_e.resourceId).toLowerCase()===V);Ie.length&&(w(Ie),se=!0),se||console.log("No match found."),u(!1),d(!1)},st=()=>{if(Pe(),g(""),b([]),w([]),E(V=>V+1),t){const V=yn.filter(se=>se.division===t);N(F(V))}else N({statuses:[],pwa:[],capabilities:[],commitmentTypes:[]});u(!1),d(!1)},$e=V=>{switch(V){case"timeline":return m.jsx($0,{});case"map":return m.jsx(gv,{tasks:y,resources:A,selectedTask:U,selectedTasks:Q,selectedResource:he,selectedResources:ie,shouldZoom:$,handleTaskMapClick:G,handleResourceMapClick:de,notifyMapDragStart:q,notifyMapDragEnd:I});case"resources":return m.jsx(Tv,{data:A,selectedResources:ie,onSelectionChange:ae});case"tasks":return m.jsx(Sv,{data:y,selectedTasks:Q,onSelectionChange:me});default:return null}},dt=["timeline","map"],je=["resources","tasks"],Ct=dt.filter(V=>W.includes(V)),Pt=je.filter(V=>W.includes(V)),ot=Z?[Z]:Ct,ht=Z?[]:Pt,ne=m.jsxs("div",{className:"w-full bg-white border-b border-gray-200 px-3 py-2 flex items-center gap-3",children:[m.jsx("div",{className:"border border-gray-300 rounded-md shadow-sm bg-white px-2 py-1.5",children:m.jsxs("select",{value:t,onChange:V=>H(V.target.value),className:"text-sm bg-transparent outline-none",children:[m.jsx("option",{value:"",children:"Division"}),ue.map(V=>m.jsx("option",{children:V},V))]})}),m.jsxs("div",{className:"border border-gray-300 rounded-md shadow-sm bg-white px-2 py-1.5 flex items-center gap-2 min-w-[240px]",children:[m.jsx(Fr,{size:16,className:"text-gray-500"}),m.jsx("input",{value:p,onChange:V=>g(V.target.value),onKeyDown:V=>V.key==="Enter"&&De(),placeholder:"Search anywhere",className:"text-sm bg-transparent outline-none flex-1"})]}),m.jsxs("button",{ref:f,disabled:!t,onClick:()=>{u(!a),d(!a)},className:`border rounded-md shadow-sm px-3 py-1.5 text-sm flex items-center gap-2 ${t?"bg-white hover:bg-gray-100":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,style:t&&l?{backgroundColor:Vt.blueSoft,borderColor:Vt.blue,color:Vt.blue}:{},children:[m.jsx(R0,{size:16}),"Search Tool"]}),m.jsx("button",{className:"border border-gray-300 rounded-md shadow-sm bg-white px-2 py-1.5",children:m.jsx(bd,{size:16,className:"text-gray-600"})}),m.jsx("button",{onClick:()=>o(V=>!V),className:"border border-gray-300 rounded-md shadow-sm bg-white px-2 py-1.5",title:"Map Legend",children:m.jsx(b0,{size:16,className:"text-gray-700"})}),m.jsx("div",{className:"flex-1"}),m.jsx("button",{onClick:st,className:"border border-gray-300 rounded-md shadow-sm bg-white px-3 py-1.5 text-sm hover:bg-gray-100",children:"Clear All"}),K.length>0&&m.jsx("div",{className:"flex items-center gap-2 ml-2",children:K.map(V=>m.jsx("button",{onClick:()=>le(V),className:"inline-flex items-center justify-center w-8 h-8 border rounded-md bg-white hover:bg-gray-50 shadow-sm",children:Ht.createElement(li[V].icon,{size:15,className:"text-gray-700"})},V))})]});return m.jsxs("div",{className:"flex-1 min-h-0 flex flex-col bg-gray-100 relative",children:[ne,m.jsx(G0,{visible:s,onClose:()=>o(!1)}),m.jsx(At,{children:a&&t&&m.jsx(it.div,{initial:{opacity:0,y:-8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},className:"absolute z-[200]",style:{top:(((ce=f.current)==null?void 0:ce.offsetTop)??0)+(((Ve=f.current)==null?void 0:Ve.offsetHeight)??0)+6,left:((Ge=f.current)==null?void 0:Ge.offsetLeft)??0,width:760},children:m.jsx(i_,{onClick:()=>{u(!1),d(!1)},children:m.jsxs("div",{className:"bg-white border shadow-xl rounded-lg p-4 flex flex-col gap-4",style:{borderColor:Vt.blue,boxShadow:"0px 4px 16px rgba(0, 0, 0, 0.15)"},children:[m.jsxs("div",{className:"flex gap-4",children:[m.jsxs("div",{className:"w-[240px] bg-white border rounded-lg shadow-sm p-3 space-y-6",style:{borderColor:Vt.border},children:[m.jsxs("div",{children:[m.jsx("div",{className:"text-[10px] font-semibold text-gray-500 px-1 mb-1",children:"TASK SEARCHES"}),m.jsx("div",{className:"space-y-1",children:B.map(V=>m.jsx("button",{onClick:()=>j(V.id),className:`w-full text-left px-3 py-1.5 rounded-md border text-xs transition ${R(V.id)?"bg-[#0A4A7A] text-white border-[#08385E]":"bg-gray-50 hover:bg-gray-100 border-gray-300"}`,children:V.label},V.id))})]}),m.jsxs("div",{children:[m.jsx("div",{className:"text-[10px] font-semibold text-gray-500 px-1 mb-1",children:"RESOURCE SEARCHES"}),m.jsx("div",{className:"space-y-1",children:Y.map(V=>m.jsx("button",{onClick:()=>j(V.id),className:`w-full text-left px-3 py-1.5 rounded-md border text-xs transition ${R(V.id)?"bg-[#0A4A7A] text-white border-[#08385E]":"bg-gray-50 hover:bg-gray-100 border-gray-300"}`,children:V.label},V.id))})]})]}),m.jsx("div",{className:"flex-1",children:m.jsx("div",{className:"bg-white border rounded-lg shadow-sm p-4",style:{borderColor:Vt.border},children:m.jsx(U0,{mode:Pc(D),onSearch:V=>v.current=V,onClear:()=>{b([]),w([]),E(V=>V+1)},dropdownData:{...C,resourceStatuses:Array.from(new Set(k.map(V=>V.status))).sort()},resetKey:T})})})]}),m.jsx("div",{className:"flex justify-end mt-3",children:m.jsx("button",{onClick:()=>{const V=v.current;Pc(D).startsWith("task")?Ne(V):Se(V)},className:"px-5 py-2 rounded-md text-sm font-medium text-white",style:{background:Vt.blue},onMouseEnter:V=>V.currentTarget.style.background=Vt.blueHover,onMouseLeave:V=>V.currentTarget.style.background=Vt.blue,children:"Search"})})]})})})}),m.jsx("div",{className:"flex-1 min-h-0 px-1 pt-1",children:m.jsxs(fs,{direction:"vertical",className:"h-full",children:[ot.length>0&&m.jsxs(m.Fragment,{children:[m.jsx(hi,{defaultSize:50,children:m.jsx(fs,{direction:"horizontal",children:ot.map((V,se)=>m.jsxs(Ht.Fragment,{children:[se>0&&m.jsx(ms,{className:"w-[4px] bg-white/40"}),m.jsx(hi,{children:m.jsx(Cc,{title:li[V].label,icon:li[V].icon,isMaximized:ee(V),onMaximize:()=>Me(V),onClose:()=>Te(V),visibleCount:W.length,children:$e(V)})})]},V))})}),ht.length>0&&m.jsx(ms,{className:"h-[4px] bg-white/40"})]}),ht.length>0&&m.jsx(hi,{defaultSize:50,children:m.jsx(fs,{direction:"horizontal",children:ht.map((V,se)=>m.jsxs(Ht.Fragment,{children:[se>0&&m.jsx(ms,{className:"w-[4px] bg-white/40"}),m.jsx(hi,{children:m.jsx(Cc,{title:li[V].label,icon:li[V].icon,isMaximized:ee(V),onMaximize:()=>Me(V),onClose:()=>Te(V),visibleCount:W.length,children:$e(V)})})]},V))})})]},W.join("-"))})]})}const ci={AssignDispatchedAWI:{label:"Assignment  Dispatched (AWI)"},CalloutDispatchedAWI:{label:"Callout  Dispatched (AWI)"},PendingACT:{label:"Pending Callout  Assigned (ACT)"},Disturbance:{label:"Disturbance"},NoReply:{label:"No Reply"},Refusal:{label:"Refusal"},Unavailable:{label:"Unavailable",requiresAvailabilityTime:!0}};function o_(t){if(!t)return"";const n=new Date(t);if(Number.isNaN(n.getTime()))return"";const s=String(n.getDate()).padStart(2,"0"),o=String(n.getMonth()+1).padStart(2,"0"),a=n.getFullYear(),u=String(n.getHours()).padStart(2,"0"),l=String(n.getMinutes()).padStart(2,"0");return`${s}/${o}/${a} ${u}:${l}`}function kc(t){if(!t.history||t.history.length===0)return null;const n=t.history[t.history.length-1],s=Date.parse(n.changedAt);return Number.isNaN(s)?null:s}const r_=({open:t,task:n,resources:s,onClose:o,onSaveRow:a})=>{const u=(n==null?void 0:n.TaskID)??(n==null?void 0:n.taskId)??(n==null?void 0:n.id)??(n==null?void 0:n.TaskId)??null,[l,d]=x.useState([]),[f,p]=x.useState({}),[g,v]=x.useState({}),[y,b]=x.useState(null);x.useEffect(()=>{if(!t)return;const T=[...s].sort((D,j)=>{const R=kc(D),B=kc(j);return R===null&&B===null?D.resourceId.localeCompare(j.resourceId):R===null?-1:B===null?1:R-B});d(T.map(D=>D.resourceId));const E={};for(const D of T)E[D.resourceId]={outcome:"",availableAgainAt:""};p(E),v({})},[t]),x.useEffect(()=>{if(!y)return;const T=setTimeout(()=>b(null),2200);return()=>clearTimeout(T)},[y]);const A=T=>b(T),w=async T=>{try{await navigator.clipboard.writeText(T),A(`Copied ${T}`)}catch{A("Unable to copy")}},k=(T,E)=>{p(D=>{var j,R;return{...D,[T]:{outcome:((j=D[T])==null?void 0:j.outcome)??"",availableAgainAt:((R=D[T])==null?void 0:R.availableAgainAt)??"",...E}}})},C=async T=>{if(!a)return;const E=f[T];if(!E||!E.outcome){A("Select an outcome first");return}if(E.outcome==="Unavailable"&&(!E.availableAgainAt||E.availableAgainAt.trim()==="")){A("Set return time");return}const D={taskId:u,resourceId:T,outcome:E.outcome,availableAgainAt:E.outcome==="Unavailable"?E.availableAgainAt:void 0};try{p(Y=>({...Y,[T]:{...Y[T],saving:!0}})),await a(D);const j=new Date().toISOString(),R=s.find(Y=>Y.resourceId===T);R&&(R.history=[...R.history??[],{previousOutcome:R.lastOutcome??null,previousAvailableAgainAt:R.availableAgainAt??null,changedAt:j,taskIdUsed:u,outcomeApplied:D.outcome}],R.lastOutcome=D.outcome,R.availableAgainAt=D.availableAgainAt??null),v(Y=>({...Y,[T]:!0}));const B=ci[D.outcome].label;A(`Saved ${B}`)}catch(j){console.error("save error",j),A("Error saving")}finally{p(j=>({...j,[T]:{...j[T],saving:!1}}))}},N=T=>{var j,R;let E=null,D=null;if(T.history&&T.history.length>0){const B=T.history[T.history.length-1];E=((j=ci[B.outcomeApplied])==null?void 0:j.label)??B.outcomeApplied??null,D=B.changedAt}else if(T.lastOutcome){const B=T.lastOutcome;E=((R=ci[B])==null?void 0:R.label)??String(T.lastOutcome??""),D=null}return!E&&!D?m.jsx("span",{className:"text-[11px] text-gray-400 italic",children:"No history"}):m.jsxs("div",{className:"flex flex-col text-[11px] text-gray-800 leading-tight",children:[E&&m.jsx("span",{className:"font-medium",children:E}),D&&m.jsx("span",{className:"text-gray-500",children:o_(D)})]})};return m.jsx(At,{children:t&&m.jsx(it.div,{className:"fixed inset-0 z-[10000] flex items-center justify-center bg-black/55 backdrop-blur-sm",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:m.jsxs(it.div,{className:`relative 
                       w-[min(1420px,100%-40px)]   /* wider */
                       max-h-[96vh] 
                       rounded-2xl bg-white 
                       shadow-2xl border border-gray-200 
                       flex flex-col overflow-hidden`,initial:{opacity:0,scale:.9,y:24},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:24},transition:{duration:.18},children:[m.jsxs("div",{className:"flex items-center justify-between px-7 py-4 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-indigo-50 relative",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"h-9 w-9 flex items-center justify-center rounded-full bg-blue-600 text-white",children:m.jsx(Ds,{size:18})}),m.jsxs("div",{className:"flex flex-col",children:[m.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:u?`Callout Workflow  ${u}`:"Callout Workflow"}),m.jsx("p",{className:"text-xs text-gray-600",children:"Set outcomes. After saving a row, it locks and stays in position until panel is closed."})]})]}),m.jsx("button",{onClick:o,className:"p-2 rounded-full hover:bg-gray-100 text-gray-500",children:m.jsx(wd,{size:18})}),y&&m.jsx("div",{className:"absolute right-16 top-1/2 -translate-y-1/2 z-[10100]",children:m.jsx("div",{className:"rounded-lg bg-gray-900 text-white text-xs px-3 py-2 shadow-lg max-w-xs",children:y})})]}),m.jsxs("div",{className:"flex-1 overflow-auto px-7 py-4 space-y-4",children:[m.jsxs("div",{className:"text-xs text-gray-600 border border-blue-50 bg-blue-50/70 rounded-lg px-3 py-2 flex items-start gap-2",children:[m.jsx(Ms,{size:14,className:"mt-[2px] text-blue-600"}),m.jsxs("p",{children:["Choose an ",m.jsx("b",{children:"Outcome"})," for each tech. If selecting"," ",m.jsx("b",{children:"Unavailable"}),", set a return time. Press ",m.jsx("b",{children:"Save"})," to lock the row. Ordering is frozen until the panel closes."]})]}),m.jsxs("div",{className:"border border-gray-200 rounded-xl overflow-hidden",children:[m.jsxs("div",{className:"bg-gray-50 px-4 py-2 border-b border-gray-200 flex items-center justify-between",children:[m.jsx("span",{className:"text-sm font-semibold text-gray-800",children:"Callout Resource List"}),m.jsxs("span",{className:"text-xs text-gray-500",children:[s.length," resources"]})]}),m.jsx("div",{className:"max-h-[68vh] overflow-auto",children:m.jsxs("table",{className:"w-full text-xs text-left text-gray-800 border-separate border-spacing-0",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"bg-gray-100 text-gray-900 border-b border-gray-200",children:[m.jsx("th",{className:"px-4 py-2 w-[150px]",children:"Tech ID"}),m.jsx("th",{className:"px-4 py-2 w-[260px]",children:"Outcome"}),m.jsx("th",{className:"px-4 py-2 w-[260px]",children:"Unavailable Until"}),m.jsx("th",{className:"px-4 py-2 w-[220px]",children:"Last Outcome"}),m.jsx("th",{className:"px-4 py-2 w-[120px] text-center",children:"Save"})]})}),m.jsx("tbody",{children:l.length===0?m.jsx("tr",{children:m.jsx("td",{colSpan:5,className:"px-4 py-6 text-center text-gray-500",children:"No resources loaded."})}):l.map(T=>{const E=s.find(U=>U.resourceId===T)??{resourceId:T,name:""},D=f[T]||{outcome:"",availableAgainAt:""},j=!!D.saving,B=!!g[T],Y=D.outcome==="Unavailable",Q=B||!D.outcome||Y&&(!D.availableAgainAt||D.availableAgainAt.trim()==="");return m.jsxs("tr",{className:`border-b border-gray-100 last:border-b-0
                                ${B?"bg-green-50":""}
                              `,children:[m.jsx("td",{className:"px-4 py-2 align-top",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("div",{className:"font-semibold text-gray-900",children:E.resourceId}),m.jsx("div",{className:"text-[11px] text-gray-500",children:E.name})]}),m.jsxs("button",{type:"button",onClick:()=>w(E.resourceId),className:"inline-flex items-center gap-1 text-[11px] px-2 py-1 rounded-md border border-gray-300 hover:bg-gray-100 text-gray-700",children:[m.jsx(pd,{size:11}),"ID"]})]})}),m.jsx("td",{className:"px-4 py-2 align-top",children:m.jsxs("select",{className:`w-full rounded-lg border border-gray-300 px-2 py-1.5 text-xs bg-white
                                    focus:outline-none focus:ring-1 focus:ring-blue-500 disabled:bg-gray-100 disabled:text-gray-400`,disabled:B,value:D.outcome||"",onChange:U=>k(E.resourceId,{outcome:U.target.value}),children:[m.jsx("option",{value:"",children:"Select outcome"}),Object.keys(ci).map(U=>m.jsx("option",{value:U,children:ci[U].label},U))]})}),m.jsx("td",{className:"px-4 py-2 align-top",children:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(fd,{size:14,className:Y&&!B?"text-blue-600":"text-gray-400"}),m.jsx("input",{type:"datetime-local",className:`flex-1 rounded-lg border border-gray-300 px-2 py-1.5 text-xs 
                                      focus:outline-none focus:ring-1 focus:ring-blue-500 
                                      disabled:bg-gray-100 disabled:text-gray-400`,disabled:!Y||B,value:D.availableAgainAt||"",onChange:U=>k(E.resourceId,{availableAgainAt:U.target.value})})]})}),m.jsx("td",{className:"px-4 py-2 align-top",children:N(E)}),m.jsx("td",{className:"px-4 py-2 align-top text-center",children:m.jsxs("button",{type:"button",disabled:Q||j,onClick:()=>C(E.resourceId),className:`
                                    inline-flex items-center justify-center gap-1 
                                    text-[11px] px-3 py-1.5 rounded-md border  
                                    ${B?"border-green-600 bg-green-50 text-green-700":"border-blue-600 text-blue-600 hover:bg-blue-50"}
                                    disabled:opacity-50 disabled:cursor-not-allowed
                                  `,children:[j&&m.jsx(T0,{size:12,className:"animate-spin"}),B?"Saved":"Save"]})})]},T)})})]})})]})]}),m.jsx("div",{className:"flex items-center justify-end px-7 py-3 border-t border-gray-200 bg-gray-50",children:m.jsx("button",{onClick:o,className:"px-3 py-1.5 text-xs sm:text-sm rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-100",children:"Close"})})]})})})};let a_={data:""},l_=t=>{if(typeof window=="object"){let n=(t?t.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return n.nonce=window.__nonce__,n.parentNode||(t||document.head).appendChild(n),n.firstChild}return t||a_},c_=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,u_=/\/\*[^]*?\*\/|  +/g,Mc=/\n+/g,en=(t,n)=>{let s="",o="",a="";for(let u in t){let l=t[u];u[0]=="@"?u[1]=="i"?s=u+" "+l+";":o+=u[1]=="f"?en(l,u):u+"{"+en(l,u[1]=="k"?"":n)+"}":typeof l=="object"?o+=en(l,n?n.replace(/([^,])+/g,d=>u.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,f=>/&/.test(f)?f.replace(/&/g,d):d?d+" "+f:f)):u):l!=null&&(u=/^--/.test(u)?u:u.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=en.p?en.p(u,l):u+":"+l+";")}return s+(n&&a?n+"{"+a+"}":a)+o},Zt={},Yd=t=>{if(typeof t=="object"){let n="";for(let s in t)n+=s+Yd(t[s]);return n}return t},d_=(t,n,s,o,a)=>{let u=Yd(t),l=Zt[u]||(Zt[u]=(f=>{let p=0,g=11;for(;p<f.length;)g=101*g+f.charCodeAt(p++)>>>0;return"go"+g})(u));if(!Zt[l]){let f=u!==t?t:(p=>{let g,v,y=[{}];for(;g=c_.exec(p.replace(u_,""));)g[4]?y.shift():g[3]?(v=g[3].replace(Mc," ").trim(),y.unshift(y[0][v]=y[0][v]||{})):y[0][g[1]]=g[2].replace(Mc," ").trim();return y[0]})(t);Zt[l]=en(a?{["@keyframes "+l]:f}:f,s?"":"."+l)}let d=s&&Zt.g?Zt.g:null;return s&&(Zt.g=Zt[l]),((f,p,g,v)=>{v?p.data=p.data.replace(v,f):p.data.indexOf(f)===-1&&(p.data=g?f+p.data:p.data+f)})(Zt[l],n,o,d),l},h_=(t,n,s)=>t.reduce((o,a,u)=>{let l=n[u];if(l&&l.call){let d=l(s),f=d&&d.props&&d.props.className||/^go/.test(d)&&d;l=f?"."+f:d&&typeof d=="object"?d.props?"":en(d,""):d===!1?"":d}return o+a+(l??"")},"");function Os(t){let n=this||{},s=t.call?t(n.p):t;return d_(s.unshift?s.raw?h_(s,[].slice.call(arguments,1),n.p):s.reduce((o,a)=>Object.assign(o,a&&a.call?a(n.p):a),{}):s,l_(n.target),n.g,n.o,n.k)}let Qd,sr,or;Os.bind({g:1});let Ut=Os.bind({k:1});function f_(t,n,s,o){en.p=n,Qd=t,sr=s,or=o}function on(t,n){let s=this||{};return function(){let o=arguments;function a(u,l){let d=Object.assign({},u),f=d.className||a.className;s.p=Object.assign({theme:sr&&sr()},d),s.o=/ *go\d+/.test(f),d.className=Os.apply(s,o)+(f?" "+f:"");let p=t;return t[0]&&(p=d.as||t,delete d.as),or&&p[0]&&or(d),Qd(p,d)}return a}}var m_=t=>typeof t=="function",Ts=(t,n)=>m_(t)?t(n):t,p_=(()=>{let t=0;return()=>(++t).toString()})(),eh=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let n=matchMedia("(prefers-reduced-motion: reduce)");t=!n||n.matches}return t}})(),g_=20,qr="default",th=(t,n)=>{let{toastLimit:s}=t.settings;switch(n.type){case 0:return{...t,toasts:[n.toast,...t.toasts].slice(0,s)};case 1:return{...t,toasts:t.toasts.map(l=>l.id===n.toast.id?{...l,...n.toast}:l)};case 2:let{toast:o}=n;return th(t,{type:t.toasts.find(l=>l.id===o.id)?1:0,toast:o});case 3:let{toastId:a}=n;return{...t,toasts:t.toasts.map(l=>l.id===a||a===void 0?{...l,dismissed:!0,visible:!1}:l)};case 4:return n.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(l=>l.id!==n.toastId)};case 5:return{...t,pausedAt:n.time};case 6:let u=n.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(l=>({...l,pauseDuration:l.pauseDuration+u}))}}},ps=[],nh={toasts:[],pausedAt:void 0,settings:{toastLimit:g_}},Et={},ih=(t,n=qr)=>{Et[n]=th(Et[n]||nh,t),ps.forEach(([s,o])=>{s===n&&o(Et[n])})},sh=t=>Object.keys(Et).forEach(n=>ih(t,n)),y_=t=>Object.keys(Et).find(n=>Et[n].toasts.some(s=>s.id===t)),zs=(t=qr)=>n=>{ih(n,t)},v_={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},__=(t={},n=qr)=>{let[s,o]=x.useState(Et[n]||nh),a=x.useRef(Et[n]);x.useEffect(()=>(a.current!==Et[n]&&o(Et[n]),ps.push([n,o]),()=>{let l=ps.findIndex(([d])=>d===n);l>-1&&ps.splice(l,1)}),[n]);let u=s.toasts.map(l=>{var d,f,p;return{...t,...t[l.type],...l,removeDelay:l.removeDelay||((d=t[l.type])==null?void 0:d.removeDelay)||(t==null?void 0:t.removeDelay),duration:l.duration||((f=t[l.type])==null?void 0:f.duration)||(t==null?void 0:t.duration)||v_[l.type],style:{...t.style,...(p=t[l.type])==null?void 0:p.style,...l.style}}});return{...s,toasts:u}},x_=(t,n="blank",s)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:n,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...s,id:(s==null?void 0:s.id)||p_()}),Ri=t=>(n,s)=>{let o=x_(n,t,s);return zs(o.toasterId||y_(o.id))({type:2,toast:o}),o.id},Le=(t,n)=>Ri("blank")(t,n);Le.error=Ri("error");Le.success=Ri("success");Le.loading=Ri("loading");Le.custom=Ri("custom");Le.dismiss=(t,n)=>{let s={type:3,toastId:t};n?zs(n)(s):sh(s)};Le.dismissAll=t=>Le.dismiss(void 0,t);Le.remove=(t,n)=>{let s={type:4,toastId:t};n?zs(n)(s):sh(s)};Le.removeAll=t=>Le.remove(void 0,t);Le.promise=(t,n,s)=>{let o=Le.loading(n.loading,{...s,...s==null?void 0:s.loading});return typeof t=="function"&&(t=t()),t.then(a=>{let u=n.success?Ts(n.success,a):void 0;return u?Le.success(u,{id:o,...s,...s==null?void 0:s.success}):Le.dismiss(o),a}).catch(a=>{let u=n.error?Ts(n.error,a):void 0;u?Le.error(u,{id:o,...s,...s==null?void 0:s.error}):Le.dismiss(o)}),t};var b_=1e3,S_=(t,n="default")=>{let{toasts:s,pausedAt:o}=__(t,n),a=x.useRef(new Map).current,u=x.useCallback((v,y=b_)=>{if(a.has(v))return;let b=setTimeout(()=>{a.delete(v),l({type:4,toastId:v})},y);a.set(v,b)},[]);x.useEffect(()=>{if(o)return;let v=Date.now(),y=s.map(b=>{if(b.duration===1/0)return;let A=(b.duration||0)+b.pauseDuration-(v-b.createdAt);if(A<0){b.visible&&Le.dismiss(b.id);return}return setTimeout(()=>Le.dismiss(b.id,n),A)});return()=>{y.forEach(b=>b&&clearTimeout(b))}},[s,o,n]);let l=x.useCallback(zs(n),[n]),d=x.useCallback(()=>{l({type:5,time:Date.now()})},[l]),f=x.useCallback((v,y)=>{l({type:1,toast:{id:v,height:y}})},[l]),p=x.useCallback(()=>{o&&l({type:6,time:Date.now()})},[o,l]),g=x.useCallback((v,y)=>{let{reverseOrder:b=!1,gutter:A=8,defaultPosition:w}=y||{},k=s.filter(T=>(T.position||w)===(v.position||w)&&T.height),C=k.findIndex(T=>T.id===v.id),N=k.filter((T,E)=>E<C&&T.visible).length;return k.filter(T=>T.visible).slice(...b?[N+1]:[0,N]).reduce((T,E)=>T+(E.height||0)+A,0)},[s]);return x.useEffect(()=>{s.forEach(v=>{if(v.dismissed)u(v.id,v.removeDelay);else{let y=a.get(v.id);y&&(clearTimeout(y),a.delete(v.id))}})},[s,u]),{toasts:s,handlers:{updateHeight:f,startPause:d,endPause:p,calculateOffset:g}}},w_=Ut`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,T_=Ut`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,A_=Ut`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,C_=on("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${w_} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${T_} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${A_} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,P_=Ut`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,k_=on("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${P_} 1s linear infinite;
`,M_=Ut`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,D_=Ut`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,L_=on("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${M_} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${D_} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,E_=on("div")`
  position: absolute;
`,N_=on("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,I_=Ut`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,R_=on("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${I_} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,j_=({toast:t})=>{let{icon:n,type:s,iconTheme:o}=t;return n!==void 0?typeof n=="string"?x.createElement(R_,null,n):n:s==="blank"?null:x.createElement(N_,null,x.createElement(k_,{...o}),s!=="loading"&&x.createElement(E_,null,s==="error"?x.createElement(C_,{...o}):x.createElement(L_,{...o})))},O_=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,z_=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,B_="0%{opacity:0;} 100%{opacity:1;}",F_="0%{opacity:1;} 100%{opacity:0;}",V_=on("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Z_=on("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,W_=(t,n)=>{let s=t.includes("top")?1:-1,[o,a]=eh()?[B_,F_]:[O_(s),z_(s)];return{animation:n?`${Ut(o)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ut(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},H_=x.memo(({toast:t,position:n,style:s,children:o})=>{let a=t.height?W_(t.position||n||"top-center",t.visible):{opacity:0},u=x.createElement(j_,{toast:t}),l=x.createElement(Z_,{...t.ariaProps},Ts(t.message,t));return x.createElement(V_,{className:t.className,style:{...a,...s,...t.style}},typeof o=="function"?o({icon:u,message:l}):x.createElement(x.Fragment,null,u,l))});f_(x.createElement);var G_=({id:t,className:n,style:s,onHeightUpdate:o,children:a})=>{let u=x.useCallback(l=>{if(l){let d=()=>{let f=l.getBoundingClientRect().height;o(t,f)};d(),new MutationObserver(d).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[t,o]);return x.createElement("div",{ref:u,className:n,style:s},a)},J_=(t,n)=>{let s=t.includes("top"),o=s?{top:0}:{bottom:0},a=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:eh()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${n*(s?1:-1)}px)`,...o,...a}},U_=Os`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,os=16,$_=({reverseOrder:t,position:n="top-center",toastOptions:s,gutter:o,children:a,toasterId:u,containerStyle:l,containerClassName:d})=>{let{toasts:f,handlers:p}=S_(s,u);return x.createElement("div",{"data-rht-toaster":u||"",style:{position:"fixed",zIndex:9999,top:os,left:os,right:os,bottom:os,pointerEvents:"none",...l},className:d,onMouseEnter:p.startPause,onMouseLeave:p.endPause},f.map(g=>{let v=g.position||n,y=p.calculateOffset(g,{reverseOrder:t,gutter:o,defaultPosition:n}),b=J_(v,y);return x.createElement(G_,{id:g.id,key:g.id,onHeightUpdate:p.updateHeight,className:g.visible?U_:"",style:b},g.type==="custom"?Ts(g.message,g):a?a(g):x.createElement(H_,{toast:g,position:v}))}))};const K_=[{label:"Operation Toolkit",icon:Ms},{label:"General Settings",icon:bs}],X_=[{label:"Task Admin",icon:vd},{label:"Jeopardy Admin",icon:Ds}],q_=[{label:"Resource Admin",icon:Ls},{label:"Self Service Admin",icon:bs},{label:"User Admin",icon:Sd}],Y_=[{label:"Domain Admin",icon:yd},{label:"Schedule Admin",icon:hd},{label:"System Admin",icon:md}],Q_=x.memo(function({currentMenu:n,onMenuClick:s,activeSubPage:o}){const[a,u]=x.useState(!1),[l,d]=x.useState(null),f=x.useRef(null);x.useEffect(()=>{n!=null&&n.label&&d(n.label.trim())},[n]);const p=x.useCallback(()=>{u(y=>!y)},[]);x.useEffect(()=>{const y=()=>p();return window.addEventListener("toggleSidebar",y),()=>window.removeEventListener("toggleSidebar",y)},[p]),x.useEffect(()=>{if(!a)return;const y=b=>{f.current&&!f.current.contains(b.target)&&u(!1)};return document.addEventListener("mousedown",y,!0),()=>document.removeEventListener("mousedown",y,!0)},[a]),x.useEffect(()=>{const y=()=>d(null);return window.addEventListener("resetSidebarSelection",y),()=>window.removeEventListener("resetSidebarSelection",y)},[]);const g=x.useMemo(()=>[{title:"User Section",menus:K_},{title:"Task Admin",menus:X_},{title:"People Admin",menus:q_},{title:"System Admin",menus:Y_}],[]),v=x.useCallback(y=>{const b=y.label.trim();if(l===b&&!(o!==null)){u(!1);return}d(b),s({...y,label:b})},[l,o,s]);return m.jsxs(m.Fragment,{children:[m.jsx(At,{children:a&&m.jsx(it.div,{initial:{opacity:0},animate:{opacity:.3},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 bg-black/40 backdrop-blur-sm z-20",onClick:()=>u(!1)},"overlay")}),m.jsx(At,{children:a&&m.jsxs(it.aside,{ref:f,initial:{x:-280,opacity:0},animate:{x:0,opacity:1},exit:{x:-280,opacity:0},transition:{duration:.25,ease:[.25,1,.5,1]},className:`fixed top-0 left-0 h-screen w-[280px] flex flex-col justify-between
            bg-white
            border-r border-black/10
            shadow-[4px_0_16px_rgba(0,0,0,0.18)]
            z-50 rounded-none select-none`,children:[m.jsx("div",{className:"flex items-center border-b border-black/10 h-[60px] px-5 bg-white",children:m.jsx("h1",{className:"text-lg font-semibold text-gray-900 tracking-tight",children:"Navigation"})}),m.jsx("div",{className:"flex-1 overflow-y-auto py-4 scrollbar-hide",children:g.map(({title:y,menus:b})=>m.jsxs(Ht.Fragment,{children:[m.jsx(ex,{title:y,menus:b,activeMenuLabel:l,onMenuClick:v}),m.jsx(nx,{})]},y))}),m.jsx(tx,{})]},"sidebar")})]})}),ex=x.memo(function({title:n,menus:s,activeMenuLabel:o,onMenuClick:a}){return m.jsxs("div",{className:"mt-2 px-2",children:[m.jsx("h2",{className:"text-xs font-semibold text-gray-700 uppercase px-4 mb-2 tracking-wide",children:n}),m.jsx("nav",{className:"flex flex-col space-y-1",children:s.map(u=>{const l=u.icon,d=o===u.label;return m.jsxs(it.div,{whileHover:{scale:1.02},whileTap:{scale:.97},transition:{type:"spring",stiffness:260,damping:18},onClick:()=>a(u),className:`relative flex items-center cursor-pointer py-3 pl-5 pr-3 rounded-md text-sm font-medium
                ${d?"bg-gradient-to-r from-blue-100 to-blue-50 text-[#0A4A7A] border border-blue-300 shadow-inner":"text-gray-900 hover:bg-gray-200/60"}`,children:[d&&m.jsx("div",{className:"absolute left-0 top-0 h-full w-[4px] bg-[#0A4A7A] rounded-r-md shadow-[0_0_8px_rgba(10,74,122,0.7)]"}),m.jsx(l,{size:18,strokeWidth:2.4,className:"text-black/80"}),m.jsx("span",{className:"ml-3",children:u.label})]},u.label)})})]})}),tx=x.memo(function(){return m.jsxs("div",{className:"p-4 border-t border-black/10 text-xs text-gray-700 bg-white/60 backdrop-blur-md",children:[m.jsxs("div",{className:"flex items-center justify-between mb-2",children:[m.jsx("span",{className:"font-semibold text-gray-900",children:"System Info"}),m.jsx(C0,{size:14,className:"text-gray-600"})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsxs("p",{children:[m.jsx("b",{children:"Client Version:"})," 1"]}),m.jsxs("p",{children:[m.jsx("b",{children:"Build #:"})," 11.11.2025"]}),m.jsxs("p",{children:[m.jsx("b",{children:"Node:"})," 20.0.0"]})]}),m.jsx("p",{className:"text-center text-gray-500 text-[10px] mt-3 border-t border-black/10 pt-2",children:"Brandon Virtual |  2025"})]})}),nx=x.memo(()=>m.jsx("div",{className:"my-3 mx-4 border-t border-black/10"})),Dc={taskSearch:"",division:[],domainId:[],taskStatuses:[],requester:"",responseCode:[],commitType:[],capabilities:[],jobType:"",scoreCondition:"",scoreValue:"",locationType:"",locationValue:"",pwa:[],fromDate:"",fromTime:"",toDate:"",toTime:""},Lc={division:"",domainId:"",taskStatuses:"",commitType:"",responseCode:"",capabilities:"",pwa:""},ix=["Assigned (ACT)","Not Assigned (ACT)","Dispatched (AWI)","Accepted (ISS)","In Progress (EXC)"],sx=["Admin Team","CE Build & MDU Build","CE NS/NED","CE PPO & Power","CE PoleTest & Poling","Complex Engineering","Service Delivery"].sort(),ox=["SH01","SH02","SH03","SH04","NONE"],rx=["Appointment","Start By","Complete By"],ax=["RFJBAS","RISDN1","RISDN2","RISDN3","RFTTP1","RFTTP2","SOGEA","OGGA1","OGGA2","FED"].sort(),lx=["ZB-TEST-19","ZB-ALPHA-02","ZB-BETA-03","ZB-DELTA-07","ZB-GAMMA-09"],cx="border border-gray-300 rounded-md text-[12px] px-2 h-[32px] bg-white shadow-sm focus:ring-2 focus:ring-[#0A4A7A]/70 focus:border-[#0A4A7A] text-center placeholder:text-center text-gray-900",ux="border border-gray-300 rounded-md text-[12px] px-2 h-[32px] bg-white shadow-sm focus:ring-2 focus:ring-[#0A4A7A]/70 focus:border-[#0A4A7A] text-center text-gray-900";function dx({onSearch:t,onClear:n,onCopy:s,onExport:o,canCopy:a}){const[u,l]=x.useState(Dc),[d,f]=x.useState(!1),[p,g]=x.useState(!1),[v,y]=x.useState(null),[b,A]=x.useState(Lc),w=x.useRef(null),k=x.useRef(null),C=x.useRef(null),N=x.useRef(null),T=x.useRef(null),E=x.useRef(null),D=x.useRef(null),j={division:k,domainId:D,taskStatuses:w,commitType:E,responseCode:T,capabilities:C,pwa:N},R=x.useMemo(()=>{const I=new Set;return yn.forEach(ue=>{ue!=null&&ue.domain&&I.add(ue.domain.toString().toUpperCase())}),Array.from(I).sort()},[]);x.useEffect(()=>{const I=ue=>{if(!v)return;const F=ue.target;Object.values(j).some(Z=>Z.current&&Z.current.contains(F))||y(null)};return document.addEventListener("mousedown",I),()=>document.removeEventListener("mousedown",I)},[v,j]);const B=I=>{const{name:ue,value:F}=I.target;l(H=>({...H,[ue]:F}))},Y=(I,ue)=>{A(F=>({...F,[I]:ue}))},Q=(I,ue)=>{l(F=>{const H=Array.isArray(F[I])?F[I]:[],W=H.includes(ue)?H.filter(Z=>Z!==ue):[...H,ue];return{...F,[I]:W}})},U=(I,ue)=>{l(F=>{const H=Array.isArray(F[I])?F[I]:[],W=ue.every(Z=>H.includes(Z));return{...F,[I]:W?[]:[...ue]}})},G=x.useCallback(()=>{t(u)},[u,t]),me=x.useCallback(()=>{l(Dc),A(Lc),y(null),n()},[n]),ie=x.useMemo(()=>ix.filter(I=>I.toLowerCase().includes(b.taskStatuses.toLowerCase())),[b.taskStatuses]),he=x.useMemo(()=>sx.filter(I=>I.toLowerCase().includes(b.division.toLowerCase())),[b.division]),de=x.useMemo(()=>ax.filter(I=>I.toLowerCase().includes(b.capabilities.toLowerCase())),[b.capabilities]),ae=x.useMemo(()=>lx.filter(I=>I.toLowerCase().includes(b.pwa.toLowerCase())),[b.pwa]),$=x.useMemo(()=>ox.filter(I=>I.toLowerCase().includes(b.responseCode.toLowerCase())),[b.responseCode]),Pe=x.useMemo(()=>rx.filter(I=>I.toLowerCase().includes(b.commitType.toLowerCase())),[b.commitType]),q=x.useMemo(()=>R.filter(I=>I.toLowerCase().includes(b.domainId.toLowerCase())),[R,b.domainId]);return m.jsxs(it.div,{initial:{opacity:0,y:-6},animate:{opacity:1,y:0},transition:{duration:.25},className:"bg-white border border-gray-200 rounded-xl shadow-md p-0",children:[m.jsxs("div",{className:`flex items-center justify-between gap-4 
    bg-[#0A4A7A] text-white px-5 py-3 
    border-b border-black/20 rounded-t-xl shadow-sm`,children:[m.jsx("h2",{className:"text-sm font-semibold text-white tracking-tight",children:"Search Tasks"}),m.jsxs("div",{className:"relative flex-1 max-w-[420px]",children:[m.jsx("input",{type:"text",name:"taskSearch",value:u.taskSearch,onChange:B,placeholder:"Search by Work ID, Resource ID, or Task ID",className:`w-full h-[36px] border border-white/20 rounded-lg px-9 text-sm text-center 
            bg-white/15 text-white placeholder:text-white/70
            shadow-inner focus:ring-2 focus:ring-white/40 focus:border-white`}),m.jsx(Fr,{size:16,className:"absolute left-2.5 top-2.5 text-white/80"})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("button",{onClick:()=>g(I=>!I),className:"text-white hover:text-white/90 transition",children:m.jsx(bd,{size:18,fill:p?"#facc15":"none"})}),m.jsx("button",{onClick:()=>f(I=>!I),className:"text-white hover:text-white/90 transition",children:d?m.jsx(g0,{size:18}):m.jsx(gd,{size:18})})]})]}),m.jsx(At,{initial:!1,children:!d&&m.jsxs(it.div,{initial:"collapsed",animate:"open",exit:"collapsed",variants:{open:{opacity:1,height:"auto"},collapsed:{opacity:0,height:0}},transition:{duration:.25},className:"px-4 pb-3 pt-3 space-y-4",children:[m.jsxs("div",{className:"flex flex-wrap justify-start gap-3 bg-white py-3 px-4 border border-gray-200 shadow-sm rounded-lg",children:[m.jsx(pn,{refObj:k,open:v==="division",setOpen:I=>y(I?"division":null),query:b.division,setQuery:I=>Y("division",I),label:"Division",options:he,selected:u.division,toggle:I=>Q("division",I),handleSelectAll:()=>U("division",he),className:"w-[190px]"}),m.jsx(pn,{refObj:D,open:v==="domainId",setOpen:I=>y(I?"domainId":null),query:b.domainId,setQuery:I=>Y("domainId",I),label:"Domain ID",options:q,selected:u.domainId,toggle:I=>Q("domainId",I),handleSelectAll:()=>U("domainId",q),className:"w-[190px]"}),m.jsx(pn,{refObj:w,open:v==="taskStatuses",setOpen:I=>y(I?"taskStatuses":null),query:b.taskStatuses,setQuery:I=>Y("taskStatuses",I),label:"Task Status",options:ie,selected:u.taskStatuses,toggle:I=>Q("taskStatuses",I),handleSelectAll:()=>U("taskStatuses",ie),className:"w-[210px]"}),m.jsx(rs,{name:"requester",value:u.requester,onChange:B,placeholder:"Requester",className:"w-[190px]"}),m.jsx(rs,{name:"jobType",value:u.jobType,onChange:B,placeholder:"Job Type",className:"w-[190px]"}),m.jsx(pn,{refObj:E,open:v==="commitType",setOpen:I=>y(I?"commitType":null),query:b.commitType,setQuery:I=>Y("commitType",I),label:"Commit Type",options:Pe,selected:u.commitType,toggle:I=>Q("commitType",I),handleSelectAll:()=>U("commitType",Pe),className:"w-[210px]"}),m.jsx(pn,{refObj:T,open:v==="responseCode",setOpen:I=>y(I?"responseCode":null),query:b.responseCode,setQuery:I=>Y("responseCode",I),label:"Response Code",options:$,selected:u.responseCode,toggle:I=>Q("responseCode",I),handleSelectAll:()=>U("responseCode",$),className:"w-[190px]"})]}),m.jsxs("div",{className:"flex flex-wrap justify-start gap-4 bg-white py-3 px-4 border border-gray-200 shadow-sm rounded-lg",children:[m.jsxs("div",{className:"flex flex-col w-[210px]",children:[m.jsx("label",{className:"text-[11px] font-semibold text-gray-800 mb-[3px]",children:"IMP Score"}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(Ec,{name:"scoreCondition",value:u.scoreCondition,onChange:B,placeholder:"Condition",options:[{value:"greater",label:"Greater Than"},{value:"less",label:"Less Than"}],className:"w-[160px]"}),m.jsx(rs,{name:"scoreValue",value:u.scoreValue,onChange:B,placeholder:"Value",className:"w-[80px]"})]})]}),m.jsxs("div",{className:"flex flex-col w-[230px]",children:[m.jsx("label",{className:"text-[11px] font-semibold text-gray-800 mb-[3px]",children:"Location Fields"}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(Ec,{name:"locationType",value:u.locationType,onChange:B,placeholder:"Type",options:[{value:"Postcode",label:"Postcode"},{value:"Exchange",label:"Exchange"},{value:"1141",label:"1141"},{value:"GroupCode",label:"Group Code"}],className:"w-[160px]"}),m.jsx(rs,{name:"locationValue",value:u.locationValue,onChange:B,placeholder:"Value",className:"w-[90px]"})]})]}),m.jsxs("div",{className:"flex flex-col w:[220px] w-[220px]",children:[m.jsx("label",{className:"text-[11px] font-semibold text-gray-800 mb-[3px]",children:"Capabilities"}),m.jsx(pn,{refObj:C,open:v==="capabilities",setOpen:I=>y(I?"capabilities":null),query:b.capabilities,setQuery:I=>Y("capabilities",I),label:"Select Capabilities",options:de,selected:u.capabilities,toggle:I=>Q("capabilities",I),handleSelectAll:()=>U("capabilities",de),className:"w-[220px]"})]})]}),m.jsxs("div",{className:"flex flex-wrap justify-start items-end gap-4 bg-white py-3 px-4 border border-gray-200 shadow-sm rounded-lg",children:[m.jsxs("div",{className:"flex flex-col w-[240px]",children:[m.jsx("label",{className:"text-[11px] font-semibold text-gray-800 mb-[3px]",children:"PWA Selector"}),m.jsx(pn,{refObj:N,open:v==="pwa",setOpen:I=>y(I?"pwa":null),query:b.pwa,setQuery:I=>Y("pwa",I),label:"Select PWA",options:ae,selected:u.pwa,toggle:I=>Q("pwa",I),handleSelectAll:()=>U("pwa",ae),className:"w-[240px]"})]}),m.jsx(hx,{filters:u,handleChange:B})]})]})}),m.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-gray-200 px-4 pb-3 bg-slate-50 rounded-b-xl",children:[m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>a&&s?s():Le.error("No data to copy"),disabled:!a,className:`text-xs px-3 py-1.5 border rounded-md shadow-sm transition
              ${a?"border-gray-300 bg-white hover:bg-gray-100 text-gray-700":"border-gray-200 bg-gray-100 text-gray-400 cursor-not-allowed"}`,children:"Copy"}),m.jsx("button",{onClick:()=>a&&o?o():Le.error("No data to export"),disabled:!a,className:`text-xs px-3 py-1.5 border rounded-md shadow-sm transition
              ${a?"border-gray-300 bg-white hover:bg-gray-100 text-gray-700":"border-gray-200 bg-gray-100 text-gray-400 cursor-not-allowed"}`,children:"CSV"})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:G,className:"text-xs px-3 py-1.5 border border-[#0A4A7A] bg-[#0A4A7A] text-white rounded-md hover:bg-[#08385E] shadow-sm",children:"Search"}),m.jsx("button",{onClick:me,className:"text-xs px-3 py-1.5 border border-gray-300 rounded-md bg-white hover:bg-gray-100 shadow-sm",children:"Clear"})]})]})]})}const rs=({name:t,value:n,onChange:s,placeholder:o,className:a=""})=>m.jsx("input",{type:"text",name:t,value:n,onChange:s,placeholder:o,className:`${cx} ${a}`}),Ec=({name:t,value:n,onChange:s,placeholder:o,options:a,className:u=""})=>m.jsxs("select",{name:t,value:n,onChange:s,className:`${ux} ${u}`,children:[m.jsx("option",{value:"",disabled:!0,hidden:!0,children:o}),a.map(l=>m.jsx("option",{value:l.value,className:"text-center",children:l.label},l.value))]}),pn=({refObj:t,open:n,setOpen:s,query:o,setQuery:a,label:u,options:l,selected:d,toggle:f,handleSelectAll:p,className:g=""})=>{const v=l.length>0&&l.every(y=>d.includes(y));return m.jsxs("div",{ref:t,className:`relative ${g}`,children:[m.jsxs("div",{onClick:()=>s(!n),className:"w-full h-[34px] px-3 text-[12px] border border-gray-300 rounded-md bg-white text-gray-900 shadow-sm cursor-pointer flex items-center justify-between hover:border-gray-400 focus-within:ring-2 focus-within:ring-blue-500/70",children:[m.jsx("span",{className:"truncate w-full text-center pr-4",children:d.length>0?`${d.length} selected`:u}),m.jsx(Nc,{size:14,className:"text-gray-600 flex-shrink-0"})]}),m.jsx(At,{children:n&&m.jsxs(it.div,{initial:{opacity:0,y:-6},animate:{opacity:1,y:0},exit:{opacity:0,y:-6},transition:{duration:.2},className:"absolute z-[9999] mt-1 p-2 text-[12px] bg-white border border-gray-300 rounded-lg shadow-2xl w-full min-w-[220px]",children:[m.jsx("input",{type:"text",placeholder:`Filter ${u.toLowerCase()}...`,value:o,onChange:y=>a(y.target.value),autoFocus:!0,className:"w-full mb-2 px-2 py-1 text-[12px] border border-gray-300 rounded-md shadow-sm bg-white focus:ring-2 focus:ring-blue-500/70 focus:border-blue-500 text-center placeholder:text-center"}),m.jsxs("div",{className:"sticky top-0 px-2 py-1 mb-1 text-[12px] bg-slate-50 border border-gray-200 rounded-md flex justify-between items-center font-medium shadow-sm",children:[m.jsx("span",{className:"text-gray-800",children:v?"Clear All Results":"Select All Results"}),v?m.jsx(xd,{size:16,className:"text-[#0A4A7A] cursor-pointer",onClick:p}):m.jsx(_d,{size:16,className:"text-[#0A4A7A] cursor-pointer",onClick:p})]}),m.jsx("div",{className:"max-h-[240px] overflow-y-auto",style:{scrollbarWidth:"thin",scrollbarColor:"#9ca3af #e5e7eb"},children:l.map(y=>m.jsxs("label",{className:"flex items-center gap-2 px-2 py-1 hover:bg-blue-50 cursor-pointer border-b border-gray-100 last:border-b-0",children:[m.jsx("input",{type:"checkbox",checked:d.includes(y),onChange:()=>f(y),className:"accent-[#0A4A7A]"}),m.jsx("span",{className:"text-gray-900",children:y})]},y))})]})})]})},hx=({filters:t,handleChange:n})=>m.jsx("div",{className:"flex flex-col",children:m.jsxs("div",{className:"flex items-end gap-3",children:[m.jsxs("div",{className:"flex flex-col",children:[m.jsx("label",{className:"text-[10px] font-medium text-gray-700 mb-[2px]",children:"Date From"}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("input",{type:"date",name:"fromDate",value:t.fromDate,onChange:n,className:"border border-gray-300 rounded-md text-[11px] px-2 h-[32px] w-[120px] shadow-sm bg-white focus:ring-2 focus:ring-blue-500/70 focus:border-blue-500"}),m.jsx("input",{type:"time",name:"fromTime",value:t.fromTime,onChange:n,className:"border border-gray-300 rounded-md text-[11px] px-2 h-[32px] w-[80px] shadow-sm bg-white focus:ring-2 focus:ring-blue-500/70 focus:border-blue-500"})]})]}),m.jsx("div",{className:"w-7 h-7 flex items-center justify-center rounded-full bg-gray-100 text-gray-700 text-xs font-bold shadow-sm mb-1",children:""}),m.jsxs("div",{className:"flex flex-col",children:[m.jsx("label",{className:"text-[10px] font-medium text-gray-700 mb-[2px]",children:"Date To"}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("input",{type:"date",name:"toDate",value:t.toDate,onChange:n,className:"border border-gray-300 rounded-md text-[11px] px-2 h-[32px] w-[120px] shadow-sm bg-white focus:ring-2 focus:ring-blue-500/70 focus:border-blue-500"}),m.jsx("input",{type:"time",name:"toTime",value:t.toTime,onChange:n,className:"border border-gray-300 rounded-md text-[11px] px-2 h-[32px] w-[80px] shadow-sm bg-white focus:ring-2 focus:ring-blue-500/70 focus:border-blue-500"})]})]})]})}),pi={"Operation Toolkit":[{name:"Resource Management",description:"Manage all available resources, teams, and assets."},{name:"Task Management",description:"Oversee and assign operational tasks efficiently."},{name:"Schedule Live",description:"Monitor and adjust live schedules in real-time."},{name:"Schedule Explorer",description:"Browse and analyze upcoming schedules and plans."},{name:"Callout Overview",description:"Review all ongoing and past callout events."},{name:"Callout Launch",description:"Initiate and configure new callout operations."}],"General Settings":[{name:"System Preferences",description:"Modify user-level settings, preferences, and themes."},{name:"API Keys",description:"Manage access tokens and integrations securely."}],"Task Admin":[{name:"Task Type",description:"Define and manage task categories and types."},{name:"Task Routing",description:"Configure task routing and escalation rules."},{name:"Task Importance",description:"Set and manage task priority and importance levels."}],"Jeopardy Admin":[{name:"Alert Definitions",description:"Define and manage all alert templates."},{name:"Alert Action Definition",description:"Configure automated or manual alert responses."},{name:"Alert Parameter Definition",description:"Set up variable parameters and alert thresholds."},{name:"Alert Ranking",description:"Prioritize and rank alerts by severity or impact."},{name:"Alert Exclusion",description:"Manage exceptions and exclusion rules for alerts."}],"Resource Admin":[{name:"Rota Day Record",description:"Manage and track individual rota day records."},{name:"Rota Week Record",description:"Oversee weekly rota summaries and status tracking."},{name:"Rota Template Record",description:"Design and configure rota templates for scheduling."},{name:"Closure User Group",description:"Administer closure groups for specific operations."},{name:"Access Restriction",description:"Set user and role-based access limitations."},{name:"Personal Overtime",description:"Monitor and manage personal overtime records."},{name:"Business Overtime",description:"Control and review business-wide overtime data."}],"Self Service Admin":[{name:"Self Selection Settings Admin",description:"Configure system-wide self-selection settings."},{name:"Self Selection Task Rating Admin",description:"Manage task rating parameters."},{name:"Self Selection Patch Admin",description:"Handle patch management for self-selection."},{name:"Self Selection Work Type Admin",description:"Control available work types."}],"User Admin":[{name:"User Account",description:"Create and manage system user accounts and credentials."},{name:"User ID",description:"View and assign unique user identification numbers."},{name:"Unbar User",description:"Unblock or reinstate restricted user accounts."},{name:"User Role Profile",description:"Define user roles and associated permissions."},{name:"Supervisor Change Password",description:"Allow supervisors to reset/change passwords."}],"Domain Admin":[{name:"Domain Building",description:"Configure and structure operational domains."},{name:"Post Areas",description:"Define post boundaries, checkpoints, and zones."},{name:"Travel Areas",description:"Set travel regions and mobility zones."},{name:"Asset",description:"Manage fixed and movable assets."},{name:"Workforce",description:"Assign and monitor domain workforce allocations."},{name:"Division",description:"Oversee structural divisions."}],"Schedule Admin":[{name:"MSS Admin",description:"Manage and configure the Master Schedule System."},{name:"SRM Admin",description:"Administer SRM modules & permissions."},{name:"SRM Audit",description:"Audit SRM changes and scheduling history."}],"System Admin":[{name:"Algorithm Parameters",description:"Configure algorithm behaviors & weights."},{name:"System Code Editor",description:"Maintain scripts, triggers & automation."},{name:"Record Audit",description:"Review detailed audit trails."},{name:"Public Holiday",description:"Manage holiday dates affecting schedules."},{name:"General Travel Times",description:"Configure default travel time settings."}]};Object.entries(pi).flatMap(([t,n])=>n.map(s=>({...s,menuLabel:t})));function fx(){const t=x.useRef(null),[n,s]=x.useState(null),[o,a]=x.useState(null),[u,l]=x.useState([]),d=520,f=720,p=16,g=24,v=1900,y=1e3,b=900,A=C=>{const N=window.screen.availWidth,T=window.screen.availHeight;if(C===1){const B=Math.min(f+g*2,N-40,v),Y=Math.min(b,T-80,y);return{width:B,height:Y}}const E=Math.min(C,3),D=d*E+p*(E-1)+g*2,j=Math.min(D,N-40,v),R=Math.min(y,T-80);return{width:j,height:R}},w=x.useCallback(()=>{const C=t.current;C&&!C.closed&&C.close(),t.current=null,s(null),a(null),l([])},[]),k=x.useCallback((C,N,T)=>{if(!C||C.length===0)return;t.current&&!t.current.closed&&t.current.close();const{width:E,height:D}=A(C.length),j=window.screen.availWidth,R=window.screen.availHeight,B=Math.max(0,(j-E)/2),Y=Math.max(0,(R-D)/2),Q=`
        width=${E},
        height=${D},
        left=${B},
        top=${Y},
        toolbar=0,
        menubar=0,
        location=0,
        status=0,
        scrollbars=1,
        resizable=1
      `,U=window.open("/popup.html","_blank",Q);U&&(t.current=U,U.__POPUP_DATA__={tasks:C,expanded:u},U.__POPUP_CLOSE__=()=>w(),U.onload=()=>{try{U.__POPUP_DATA__={tasks:C,expanded:u}}catch{}},a(C),l([]),s(null))},[u,w]);return{externalContainer:n,externalTasks:o,externalExpandedSections:u,openExternalWindow:k,closeExternalWindow:w,setExternalExpandedSections:l}}const No={"Operation Toolkit":Ms,"General Settings":bs,"Task Admin":vd,"Jeopardy Admin":Ds,"Resource Admin":Ls,"Self Service Admin":bs,"User Admin":Sd,"Domain Admin":yd,"Schedule Admin":hd,"System Admin":md},bi={taskId:"Task ID",taskStatus:"Task Status",taskType:"Task Type",primarySkill:"Primary Skill",importanceScore:"Importance Score",msc:"MSC",taskCreated:"Task Created",groupCode:"Group Code",systemType:"System Type",employeeId:"Employee ID",resourceName:"Resource Name",asset:"Asset",assetName:"Asset Name",commitmentDate:"Commitment Date",commitmentType:"Commitment Type",arrivedAtDate:"Arrived At Date",domain:"Domain",estimatedDuration:"Estimated Duration",lastProgression:"Last Progression",category:"Category",description:"Description",responseCode:"Response Code",postCode:"Post Code",appointmentStartDate:"Appointment Start Date",linkedTask:"Linked Task",customerAddress:"Customer Address",expectedStartDate:"Expected Start Date",expectedFinishDate:"Expected Finish Date",externalQueueId:"External Queue Id",workId:"Work Id",estimateNumber:"Estimate Number",startDate:"Start Date"},mx=["Work Details","Commitments / Customer / Location","Scheduling / Resources","Access Restrictions","Notes","Progress Notes","Closure"];function px(t,n){var o,a,u,l,d,f,p,g,v;let s=[...t];if((o=n.taskSearch)!=null&&o.trim()){const y=n.taskSearch.toLowerCase();s=s.filter(b=>[b.taskId,b.resourceName,b.workId,b.assetName,b.description].join(" ").toLowerCase().includes(y))}if((a=n.division)!=null&&a.length&&(s=s.filter(y=>n.division.includes(y.groupCode))),(u=n.domainId)!=null&&u.length&&(s=s.filter(y=>n.domainId.includes(String(y.domain||"").toUpperCase()))),(l=n.taskStatuses)!=null&&l.length&&(s=s.filter(y=>n.taskStatuses.includes(y.taskStatus))),(d=n.responseCode)!=null&&d.length&&(s=s.filter(y=>n.responseCode.includes(y.responseCode))),(f=n.requester)!=null&&f.trim()){const y=n.requester.toLowerCase();s=s.filter(b=>String(b.resourceName||"").toLowerCase().includes(y))}if((p=n.commitType)!=null&&p.length&&(s=s.filter(y=>n.commitType.includes(y.commitmentType))),(g=n.capabilities)!=null&&g.length&&(s=s.filter(y=>n.capabilities.includes(y.primarySkill))),(v=n.jobType)!=null&&v.trim()){const y=n.jobType.toLowerCase();s=s.filter(b=>String(b.taskType||"").toLowerCase().includes(y))}return s}function gx(t,n){return`
    <table border="1" cellpadding="4" cellspacing="0">
      <thead><tr>${t.map(s=>`<th>${bi[s]}</th>`).join("")}</tr></thead>
      <tbody>${n.map(s=>`<tr>${t.map(o=>`<td>${s[o]??""}</td>`).join("")}</tr>`).join("")}</tbody>
    </table>`}function yx(t,n){const s=t.map(a=>bi[a]).join(","),o=n.map(a=>t.map(u=>a[u]??"").join(","));return[s,...o].join(`
`)}const oh=x.memo(({currentMenu:t,windowWidth:n,searchQuery:s,setSearchQuery:o,globalResults:a,showDropdown:u,setShowDropdown:l,onSelectResult:d,onToggleSidebar:f})=>m.jsxs("header",{className:`
        relative z-30
        flex items-center justify-between
        bg-[#0A4A7A]       /* deep blue */
        text-white
        h-[70px]
        px-4 sm:px-6
        shadow-[0_2px_6px_rgba(0,0,0,0.35)]   /* MUCH deeper shadow */
      `,children:[m.jsx("div",{className:`absolute bottom-[-10px] left-0 w-full h-[10px]
                      bg-gradient-to-b from-black/15 to-transparent pointer-events-none`}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("button",{onClick:f,className:`w-[42px] h-[42px] flex items-center justify-center rounded-md 
             hover:bg-black/10 transition`,children:m.jsx(L0,{size:28,strokeWidth:3.2,className:"text-black/90"})}),m.jsx("h1",{className:"font-semibold text-lg hidden sm:block tracking-tight",children:(t==null?void 0:t.label)??"Dashboard"})]}),m.jsxs("div",{className:"flex items-center gap-4 relative",children:[m.jsxs("div",{className:"relative",children:[m.jsx(Fr,{size:18,className:"absolute left-3 top-2.5 text-white/80"}),m.jsx("input",{placeholder:"Search anywhere...",value:s,onChange:p=>o(p.target.value),onFocus:()=>l(a.length>0),className:`pl-9 pr-3 py-2 w-[240px] sm:w-[280px]
                       rounded-md border border-white/30 bg-white/10 
                       text-sm text-white placeholder-white/70
                       focus:outline-none focus:ring-2 focus:ring-white/40`}),m.jsx(At,{children:u&&a.length>0&&m.jsx(it.ul,{initial:{opacity:0,y:-4},animate:{opacity:1,y:0},exit:{opacity:0,y:-4},transition:{duration:.15},className:`absolute right-0 mt-2 w-full bg-white text-gray-800
                           rounded-md shadow-xl border border-gray-200 z-[9999]`,children:a.map((p,g)=>m.jsxs("li",{onMouseDown:()=>d(p),className:"px-4 py-2 hover:bg-blue-50 cursor-pointer text-sm",children:[m.jsx("div",{className:"font-medium",children:p.name}),m.jsx("div",{className:"text-xs text-gray-500",children:p.category})]},g))})})]}),m.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center
             bg-[#0A0A0A] border border-white/20 shadow-lg`,children:m.jsx(Sf,{size:18,className:"text-white"})})]})]}));oh.displayName="Header";const rh=x.memo(({currentMenu:t,filteredItems:n,windowWidth:s,onCardClick:o})=>{var u;const a=((u=t==null?void 0:t.label)==null?void 0:u.split(" ")[0])??"Dashboard";return m.jsxs("div",{className:"flex flex-col w-full max-w-6xl mx-auto px-6 sm:px-10 lg:px-16 py-12",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-2",children:[Ht.createElement((t==null?void 0:t.icon)||ds,{size:30,className:"text-[#0A4A7A]"}),m.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:s<950?a:t==null?void 0:t.label})]}),m.jsx("p",{className:"text-gray-500 text-sm",children:t!=null&&t.label?`${t.label} Overview`:"Overview of your workspace"})]}),m.jsx(At,{mode:"wait",children:m.jsx(it.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.25},className:`mt-6 grid ${s<950?"grid-cols-1":"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3"} gap-8 place-items-center`,children:n.length?n.map((l,d)=>m.jsxs(it.div,{whileHover:{scale:1.02},onClick:()=>o(l),className:`cursor-pointer bg-white rounded-xl border border-gray-200 shadow-sm 
                             p-6 w-full sm:w-72 md:w-80 h-[180px] text-center hover:shadow-md transition-all`,children:[m.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-900",children:l.name}),m.jsx("p",{className:"text-gray-600 text-sm",children:l.description})]},d)):m.jsx("div",{className:"col-span-full flex justify-center mt-12",children:m.jsx("p",{className:"text-gray-400 text-sm",children:"No results found."})})},(t==null?void 0:t.label)||"default")})]})});rh.displayName="MainContent";function vx(){const t="Operation Toolkit",[n,s]=x.useState({label:t,icon:No[t]||ds}),[o,a]=x.useState(pi[t]||[]),[u,l]=x.useState(null),[d,f]=x.useState(""),[p,g]=x.useState([]),[v,y]=x.useState(!1),[b,A]=x.useState(window.innerWidth),[w,k]=x.useState([]),[C,N]=x.useState([]),[T,E]=x.useState(!1),[D,j]=x.useState([]),[R,B]=x.useState(!1),Y=x.useMemo(()=>{const ne=D.map(ce=>ce.calloutGroup).filter(ce=>!!ce);return Array.from(new Set(ne)).sort()},[D]),[Q,U]=x.useState([]),{externalContainer:G,externalTasks:me,externalExpandedSections:ie,openExternalWindow:he,closeExternalWindow:de,setExternalExpandedSections:ae}=fx(),[$,Pe]=x.useState(!1),[q,I]=x.useState(null),[ue,F]=x.useState(!1),[H,W]=x.useState([]),Z=x.useCallback(ne=>{I(ne),F(!0)},[]);x.useEffect(()=>{k(yn),E(!0)},[]),x.useEffect(()=>{Pf(()=>Promise.resolve().then(()=>Av),void 0).then(ne=>{j(ne.default),B(!0)}).catch(()=>Le.error("Error loading resource data."))},[]),x.useEffect(()=>{const ne=()=>A(window.innerWidth);return window.addEventListener("resize",ne),()=>window.removeEventListener("resize",ne)},[]);const K=x.useMemo(()=>Object.entries(pi).flatMap(([ne,ce])=>ce.map(Ve=>({...Ve,category:ne}))),[]);x.useEffect(()=>{if(!d.trim()){g([]),y(!1);return}const ne=K.filter(ce=>ce.name.toLowerCase().includes(d.toLowerCase()));g(ne),y(ne.length>0)},[d,K]);const ee=x.useCallback(ne=>{const ce=ne.label;s({label:ce,icon:No[ce]||ds}),a(pi[ce]||[]),N([]),l(null),f(""),g([]),y(!1)},[]),le=x.useCallback(ne=>{ne.name==="Task Management"&&(l("TaskManagement"),N([])),ne.name==="Schedule Live"&&l("ScheduleLive")},[]),Te=x.useCallback(ne=>{if(!T){Le.error("Data not loaded yet.");return}const ce=px(w,ne);if(ce.length===0){N([]),Le.error("No matching tasks found.");return}N(ce)},[w,T]),Me=x.useCallback(()=>{N([]),U([]),Le.success("Filters cleared.",{id:"clear-toast",icon:""})},[]),Ne=C.length>0,Se=x.useCallback(async()=>{if(!Ne){Le.error("No data to copy.");return}const ne=Object.keys(bi),ce=gx(ne,C);await navigator.clipboard.writeText(ce),Le.success("Copied",{icon:""})},[C,Ne]),De=x.useCallback(()=>{if(!Ne){Le.error("No data to export.");return}const ne=Object.keys(bi),ce=yx(ne,C),Ve=new Blob([ce],{type:"text/csv;charset=utf-8;"}),Ge=document.createElement("a");Ge.href=URL.createObjectURL(Ve),Ge.download="FilteredTasks.csv",Ge.click(),Le.success("Exported",{icon:""})},[C,Ne]),st=x.useCallback(ne=>{f(""),y(!1);const ce=ne.category,Ve=pi[ce]||[];s({label:ce,icon:No[ce]||ds}),a(Ve),l(ne.name==="Task Management"?"TaskManagement":null)},[]),$e=x.useCallback((ne,ce,Ve)=>{!ne||ne.length===0||he(ne,ce,Ve)},[he]),dt=(ne,ce)=>{switch(ce){case"AssignDispatchedAWI":case"CalloutDispatchedAWI":return"Dispatched (AWI)";case"PendingACT":return"Assigned (ACT)";case"Disturbance":case"NoReply":return"Callout Failed";case"Refusal":return"Refused";case"Unavailable":return"Awaiting Resource";default:return ne}},je=(ne,ce)=>{switch(ce){case"AssignDispatchedAWI":case"CalloutDispatchedAWI":return"Busy";case"PendingACT":return"Pending";case"Disturbance":return"Flagged";case"NoReply":return"No Reply";case"Refusal":return"Refused";case"Unavailable":return"Unavailable";default:return ne||"Available"}},Ct=x.useCallback(async ne=>{const{taskId:ce,resourceId:Ve,outcome:Ge,availableAgainAt:V}=ne,se=new Date().toISOString();j(Ie=>Ie.map(_e=>{if(_e.resourceId!==Ve)return _e;const Ye=_e.lastOutcome??null,Ze=_e.availableAgainAt??null;return{..._e,status:je(_e.status,Ge),lastOutcome:Ge,availableAgainAt:Ge==="Unavailable"?V??null:null,history:[..._e.history??[],{previousOutcome:Ye,previousAvailableAgainAt:Ze,changedAt:se,taskIdUsed:ce??null,outcomeApplied:Ge}]}}));const ze=Ie=>Ie.map(_e=>{if(_e.taskId!==ce)return _e;const Ye=_e.taskStatus,Ze=_e.employeeId??null;return{..._e,taskStatus:dt(_e.taskStatus,Ge),employeeId:Ve,lastOutcome:Ge,availableAgainAt:Ge==="Unavailable"?V??null:null,updatedAt:se,history:[..._e.history??[],{previousTaskStatus:Ye,previousEmployeeId:Ze,changedAt:se,outcomeApplied:Ge,resourceIdUsed:Ve}]}});k(Ie=>ze(Ie)),N(Ie=>ze(Ie))},[]),Pt=x.useCallback(ne=>{ae(ce=>ce.includes(ne)?ce.filter(Ve=>Ve!==ne):[...ce,ne])},[ae]),ot=x.useCallback(()=>{ae(mx)},[ae]),ht=x.useCallback(()=>{ae([])},[ae]);return m.jsxs("div",{className:"h-screen w-screen overflow-hidden bg-[#F5F7FA] text-gray-900 font-inter relative",children:[m.jsx($_,{position:"top-center"}),m.jsx(Q_,{currentMenu:n,onMenuClick:ee}),m.jsxs("main",{className:"flex flex-col flex-1 min-w-0 h-full",children:[m.jsx(oh,{currentMenu:n,windowWidth:b,searchQuery:d,setSearchQuery:f,globalResults:p,showDropdown:v,setShowDropdown:y,onSelectResult:st,onToggleSidebar:()=>window.dispatchEvent(new CustomEvent("toggleSidebar"))}),m.jsxs("div",{className:"flex-1 min-h-0 bg-white flex flex-col",children:[u==="TaskManagement"&&m.jsxs("section",{className:"p-8 space-y-5",children:[m.jsx(dx,{onSearch:Te,onClear:Me,onCopy:Se,onExport:De,canCopy:Ne}),T?C.length>0?m.jsx(Ur,{rows:C,headerNames:bi,onOpenPopout:$e,onOpenCalloutIncident:Z}):m.jsxs("div",{className:"p-10 text-center text-gray-500 border border-dashed border-gray-300 rounded-xl bg-gray-50",children:["No tasks loaded yet. Please apply filters and press"," ",m.jsx("b",{children:"Search"}),"."]}):m.jsx("div",{className:"p-10 text-center text-gray-500",children:"Loading task data..."})]}),u==="ScheduleLive"&&m.jsx(s_,{}),!u&&m.jsx(rh,{currentMenu:n,filteredItems:o,windowWidth:b,onCardClick:le})]})]}),ue&&m.jsx(W0,{allResources:D,calloutGroups:Y,onStart:ne=>{const ce=D.filter(Ve=>Ve.calloutGroup===ne);W(ce),F(!1),Pe(!0)}}),m.jsx(r_,{open:$,task:q,resources:H.length?H:D,onClose:()=>{Pe(!1),W([])},onSaveRow:Ct}),G&&me&&me.length>0&&Dd.createPortal(m.jsx(wf,{open:!0,tasks:me,expanded:ie,onToggleSection:Pt,onExpandAll:ot,onCollapseAll:ht,onClose:de}),G)]})}function _x(){return m.jsx(vx,{})}Tf.createRoot(document.getElementById("root")).render(m.jsx(_x,{}));
