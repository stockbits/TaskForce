import{u as yp,a as Zr,b as Qi,G as tg,T as ng,R as og,D as rg,c as sg,d as ig,e as ag,f as or,g as bp,h as lg,s as cg,i as Wt,j as Zt,k as Ut,l as Le,m as je,n as ht,o as Kt,P as Nt,p as bt,q as Ts,r as xi,t as jo,v as ug,C as dg,A as pg,w as Pt,x as qr,y as Vl,z as Te,B as Tr,E as Qo,F as Eu,H as el,I as fn,J as tt,K as Fs,L as Cp,M as ea,N as xp,O as ta,Q as wp,S as wi,U as Sp,V as zt,W as hg,X as na,Y as Wl,Z as Du,_ as mg,$ as oa,a0 as fg,a1 as gg,a2 as yt,a3 as rr,a4 as vg,a5 as Ru,a6 as yg,a7 as Lu,a8 as _p,a9 as Pp,aa as Ip,ab as Tp,ac as xl,ad as Zl,ae as kp,af as Ri,ag as Ue,ah as Dn,ai as Rn,aj as It,ak as Pn,al as Mp,am as Ul,an as Et,ao as Os,ap as I,aq as bg,ar as Cg,as as ze,at as xg,au as Kl,av as wg,aw as Sg,ax as _g,ay as ra,az as Pg,aA as Ap,aB as Ep,aC as Dp,aD as Rp,aE as Lp,aF as Ig,aG as Tg,aH as kg,aI as Mg}from"./index-g3hqNG-Y.js";import{r as c,j as h,m as mr,A as Jl,R as zn,a as Fp}from"./vendor-motion-BQO2KiUE.js";import{U as sa,C as Ag,X as Op,a as Np,b as Eg,L as ql,S as Dg,E as Rg,T as Xl,M as Lg,c as Yl,d as Fg,e as Og,I as Ng,f as Ql,g as zg,h as $g,i as Li,j as zp,G as $p,k as Bp,l as Hp,m as Bg,n as Hg,o as jg,p as Gg,F as Si}from"./vendor-icons-DKnBYtsF.js";import{g as jp}from"./vendor-react-DJG_os-6.js";var tl={exports:{}},nl,Fu;function Vg(){if(Fu)return nl;Fu=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return nl=e,nl}var ol,Ou;function Wg(){if(Ou)return ol;Ou=1;var e=Vg();function t(){}function o(){}return o.resetWarningCache=t,ol=function(){function s(l,d,p,f,m,g){if(g!==e){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}s.isRequired=s;function i(){return s}var a={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:i,element:s,elementType:s,instanceOf:i,node:s,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:o,resetWarningCache:t};return a.PropTypes=a,a},ol}var Nu;function Zg(){return Nu||(Nu=1,tl.exports=Wg()()),tl.exports}var Ug=Zg();const se=jp(Ug),ec=e=>{const t=c.useRef({});return c.useEffect(()=>{t.current=e}),t.current},Gp=c.createContext(null);function tc(){return c.useContext(Gp)}const Kg=typeof Symbol=="function"&&Symbol.for,Jg=Kg?Symbol.for("mui.nested"):"__THEME_NESTED__";function qg(e,t){return typeof t=="function"?t(e):{...e,...t}}function Xg(e){const{children:t,theme:o}=e,s=tc(),i=c.useMemo(()=>{const a=s===null?{...o}:qg(s,o);return a!=null&&(a[Jg]=s!==null),a},[o,s]);return h.jsx(Gp.Provider,{value:i,children:t})}function Yg(e){const t=yp(),o=Zr()||"",{modularCssLayers:s}=e;let i="mui.global, mui.components, mui.theme, mui.custom, mui.sx";return!s||t!==null?i="":typeof s=="string"?i=s.replace(/mui(?!\.)/g,i):i=`@layer ${i};`,Qi(()=>{var d,p;const a=document.querySelector("head");if(!a)return;const l=a.firstChild;if(i){if(l&&((d=l.hasAttribute)!=null&&d.call(l,"data-mui-layer-order"))&&l.getAttribute("data-mui-layer-order")===o)return;const f=document.createElement("style");f.setAttribute("data-mui-layer-order",o),f.textContent=i,a.prepend(f)}else(p=a.querySelector(`style[data-mui-layer-order="${o}"]`))==null||p.remove()},[i,o]),i?h.jsx(tg,{styles:i}):null}const zu={};function $u(e,t,o,s=!1){return c.useMemo(()=>{const i=e&&t[e]||t;if(typeof o=="function"){const a=o(i),l=e?{...t,[e]:a}:a;return s?()=>l:l}return e?{...t,[e]:o}:{...t,...o}},[e,t,o,s])}function Vp(e){const{children:t,theme:o,themeId:s}=e,i=yp(zu),a=tc()||zu,l=$u(s,i,o),d=$u(s,a,o,!0),p=(s?l[s]:l).direction==="rtl",f=Yg(l);return h.jsx(Xg,{theme:d,children:h.jsx(ng.Provider,{value:l,children:h.jsx(og,{value:p,children:h.jsxs(rg,{value:s?l[s].components:l.components,children:[f,t]})})})})}const nc="mode",oc="color-scheme",Qg="data-color-scheme";function ev(e){const{defaultMode:t="system",defaultLightColorScheme:o="light",defaultDarkColorScheme:s="dark",modeStorageKey:i=nc,colorSchemeStorageKey:a=oc,attribute:l=Qg,colorSchemeNode:d="document.documentElement",nonce:p}=e||{};let f="",m=l;if(l==="class"&&(m=".%s"),l==="data"&&(m="[data-%s]"),m.startsWith(".")){const v=m.substring(1);f+=`${d}.classList.remove('${v}'.replace('%s', light), '${v}'.replace('%s', dark));
      ${d}.classList.add('${v}'.replace('%s', colorScheme));`}const g=m.match(/\[([^\]]+)\]/);if(g){const[v,b]=g[1].split("=");b||(f+=`${d}.removeAttribute('${v}'.replace('%s', light));
      ${d}.removeAttribute('${v}'.replace('%s', dark));`),f+=`
      ${d}.setAttribute('${v}'.replace('%s', colorScheme), ${b?`${b}.replace('%s', colorScheme)`:'""'});`}else f+=`${d}.setAttribute('${m}', colorScheme);`;return h.jsx("script",{suppressHydrationWarning:!0,nonce:typeof window>"u"?p:"",dangerouslySetInnerHTML:{__html:`(function() {
try {
  let colorScheme = '';
  const mode = localStorage.getItem('${i}') || '${t}';
  const dark = localStorage.getItem('${a}-dark') || '${s}';
  const light = localStorage.getItem('${a}-light') || '${o}';
  if (mode === 'system') {
    // handle system mode
    const mql = window.matchMedia('(prefers-color-scheme: dark)');
    if (mql.matches) {
      colorScheme = dark
    } else {
      colorScheme = light
    }
  }
  if (mode === 'light') {
    colorScheme = light;
  }
  if (mode === 'dark') {
    colorScheme = dark;
  }
  if (colorScheme) {
    ${f}
  }
} catch(e){}})();`}},"mui-color-scheme-init")}function tv(){}const nv=({key:e,storageWindow:t})=>(!t&&typeof window<"u"&&(t=window),{get(o){if(typeof window>"u")return;if(!t)return o;let s;try{s=t.localStorage.getItem(e)}catch{}return s||o},set:o=>{if(t)try{t.localStorage.setItem(e,o)}catch{}},subscribe:o=>{if(!t)return tv;const s=i=>{const a=i.newValue;i.key===e&&o(a)};return t.addEventListener("storage",s),()=>{t.removeEventListener("storage",s)}}});function rl(){}function Bu(e){if(typeof window<"u"&&typeof window.matchMedia=="function"&&e==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function Wp(e,t){if(e.mode==="light"||e.mode==="system"&&e.systemMode==="light")return t("light");if(e.mode==="dark"||e.mode==="system"&&e.systemMode==="dark")return t("dark")}function ov(e){return Wp(e,t=>{if(t==="light")return e.lightColorScheme;if(t==="dark")return e.darkColorScheme})}function rv(e){const{defaultMode:t="light",defaultLightColorScheme:o,defaultDarkColorScheme:s,supportedColorSchemes:i=[],modeStorageKey:a=nc,colorSchemeStorageKey:l=oc,storageWindow:d=typeof window>"u"?void 0:window,storageManager:p=nv,noSsr:f=!1}=e,m=i.join(","),g=i.length>1,v=c.useMemo(()=>p==null?void 0:p({key:a,storageWindow:d}),[p,a,d]),b=c.useMemo(()=>p==null?void 0:p({key:`${l}-light`,storageWindow:d}),[p,l,d]),C=c.useMemo(()=>p==null?void 0:p({key:`${l}-dark`,storageWindow:d}),[p,l,d]),[x,S]=c.useState(()=>{const E=(v==null?void 0:v.get(t))||t,$=(b==null?void 0:b.get(o))||o,N=(C==null?void 0:C.get(s))||s;return{mode:E,systemMode:Bu(E),lightColorScheme:$,darkColorScheme:N}}),[_,P]=c.useState(f||!g);c.useEffect(()=>{P(!0)},[]);const z=ov(x),R=c.useCallback(E=>{S($=>{if(E===$.mode)return $;const N=E??t;return v==null||v.set(N),{...$,mode:N,systemMode:Bu(N)}})},[v,t]),j=c.useCallback(E=>{E?typeof E=="string"?E&&!m.includes(E)?console.error(`\`${E}\` does not exist in \`theme.colorSchemes\`.`):S($=>{const N={...$};return Wp($,F=>{F==="light"&&(b==null||b.set(E),N.lightColorScheme=E),F==="dark"&&(C==null||C.set(E),N.darkColorScheme=E)}),N}):S($=>{const N={...$},F=E.light===null?o:E.light,G=E.dark===null?s:E.dark;return F&&(m.includes(F)?(N.lightColorScheme=F,b==null||b.set(F)):console.error(`\`${F}\` does not exist in \`theme.colorSchemes\`.`)),G&&(m.includes(G)?(N.darkColorScheme=G,C==null||C.set(G)):console.error(`\`${G}\` does not exist in \`theme.colorSchemes\`.`)),N}):S($=>(b==null||b.set(o),C==null||C.set(s),{...$,lightColorScheme:o,darkColorScheme:s}))},[m,b,C,o,s]),k=c.useCallback(E=>{x.mode==="system"&&S($=>{const N=E!=null&&E.matches?"dark":"light";return $.systemMode===N?$:{...$,systemMode:N}})},[x.mode]),M=c.useRef(k);return M.current=k,c.useEffect(()=>{if(typeof window.matchMedia!="function"||!g)return;const E=(...N)=>M.current(...N),$=window.matchMedia("(prefers-color-scheme: dark)");return $.addListener(E),E($),()=>{$.removeListener(E)}},[g]),c.useEffect(()=>{if(g){const E=(v==null?void 0:v.subscribe(F=>{(!F||["light","dark","system"].includes(F))&&R(F||t)}))||rl,$=(b==null?void 0:b.subscribe(F=>{(!F||m.match(F))&&j({light:F})}))||rl,N=(C==null?void 0:C.subscribe(F=>{(!F||m.match(F))&&j({dark:F})}))||rl;return()=>{E(),$(),N()}}},[j,R,m,t,d,g,v,b,C]),{...x,mode:_?x.mode:void 0,systemMode:_?x.systemMode:void 0,colorScheme:_?z:void 0,setMode:R,setColorScheme:j}}const sv="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function iv(e){const{themeId:t,theme:o={},modeStorageKey:s=nc,colorSchemeStorageKey:i=oc,disableTransitionOnChange:a=!1,defaultColorScheme:l,resolveTheme:d}=e,p={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},f=c.createContext(void 0),m=()=>c.useContext(f)||p,g={},v={};function b(_){var Pe,ke,We,nt;const{children:P,theme:z,modeStorageKey:R=s,colorSchemeStorageKey:j=i,disableTransitionOnChange:k=a,storageManager:M,storageWindow:E=typeof window>"u"?void 0:window,documentNode:$=typeof document>"u"?void 0:document,colorSchemeNode:N=typeof document>"u"?void 0:document.documentElement,disableNestedContext:F=!1,disableStyleSheetGeneration:G=!1,defaultMode:H="system",noSsr:T}=_,A=c.useRef(!1),B=tc(),W=c.useContext(f),D=!!W&&!F,V=c.useMemo(()=>z||(typeof o=="function"?o():o),[z]),Z=V[t],K=Z||V,{colorSchemes:Q=g,components:Y=v,cssVarPrefix:ee}=K,q=Object.keys(Q).filter(et=>!!Q[et]).join(","),te=c.useMemo(()=>q.split(","),[q]),ae=typeof l=="string"?l:l.light,X=typeof l=="string"?l:l.dark,ve=Q[ae]&&Q[X]?H:((ke=(Pe=Q[K.defaultColorScheme])==null?void 0:Pe.palette)==null?void 0:ke.mode)||((We=K.palette)==null?void 0:We.mode),{mode:Ce,setMode:le,systemMode:ce,lightColorScheme:ie,darkColorScheme:fe,colorScheme:me,setColorScheme:ye}=rv({supportedColorSchemes:te,defaultLightColorScheme:ae,defaultDarkColorScheme:X,modeStorageKey:R,colorSchemeStorageKey:j,defaultMode:ve,storageManager:M,storageWindow:E,noSsr:T});let ne=Ce,ge=me;D&&(ne=W.mode,ge=W.colorScheme);const we=c.useMemo(()=>{var St;const et=ge||K.defaultColorScheme,Xe=((St=K.generateThemeVars)==null?void 0:St.call(K))||K.vars,Ke={...K,components:Y,colorSchemes:Q,cssVarPrefix:ee,vars:Xe};if(typeof Ke.generateSpacing=="function"&&(Ke.spacing=Ke.generateSpacing()),et){const it=Q[et];it&&typeof it=="object"&&Object.keys(it).forEach(ot=>{it[ot]&&typeof it[ot]=="object"?Ke[ot]={...Ke[ot],...it[ot]}:Ke[ot]=it[ot]})}return d?d(Ke):Ke},[K,ge,Y,Q,ee]),Fe=K.colorSchemeSelector;Qi(()=>{if(ge&&N&&Fe&&Fe!=="media"){const et=Fe;let Xe=Fe;if(et==="class"&&(Xe=".%s"),et==="data"&&(Xe="[data-%s]"),et!=null&&et.startsWith("data-")&&!et.includes("%s")&&(Xe=`[${et}="%s"]`),Xe.startsWith("."))N.classList.remove(...te.map(Ke=>Xe.substring(1).replace("%s",Ke))),N.classList.add(Xe.substring(1).replace("%s",ge));else{const Ke=Xe.replace("%s",ge).match(/\[([^\]]+)\]/);if(Ke){const[St,it]=Ke[1].split("=");it||te.forEach(ot=>{N.removeAttribute(St.replace(ge,ot))}),N.setAttribute(St,it?it.replace(/"|'/g,""):"")}else N.setAttribute(Xe,ge)}}},[ge,Fe,N,te]),c.useEffect(()=>{let et;if(k&&A.current&&$){const Xe=$.createElement("style");Xe.appendChild($.createTextNode(sv)),$.head.appendChild(Xe),window.getComputedStyle($.body),et=setTimeout(()=>{$.head.removeChild(Xe)},1)}return()=>{clearTimeout(et)}},[ge,k,$]),c.useEffect(()=>(A.current=!0,()=>{A.current=!1}),[]);const Ne=c.useMemo(()=>({allColorSchemes:te,colorScheme:ge,darkColorScheme:fe,lightColorScheme:ie,mode:ne,setColorScheme:ye,setMode:le,systemMode:ce}),[te,ge,fe,ie,ne,ye,le,ce,we.colorSchemeSelector]);let Ie=!0;(G||K.cssVariables===!1||D&&(B==null?void 0:B.cssVarPrefix)===ee)&&(Ie=!1);const be=h.jsxs(c.Fragment,{children:[h.jsx(Vp,{themeId:Z?t:void 0,theme:we,children:P}),Ie&&h.jsx(sg,{styles:((nt=we.generateStyleSheets)==null?void 0:nt.call(we))||[]})]});return D?be:h.jsx(f.Provider,{value:Ne,children:be})}const C=typeof l=="string"?l:l.light,x=typeof l=="string"?l:l.dark;return{CssVarsProvider:b,useColorScheme:m,getInitColorSchemeScript:_=>ev({colorSchemeStorageKey:i,defaultLightColorScheme:C,defaultDarkColorScheme:x,modeStorageKey:s,..._})}}function av(e){return String(e).match(/[\d.\-+]*\s*(.*)/)[1]||""}function lv(e){return parseFloat(e)}function cv({props:e,name:t}){return ig({props:e,name:t,defaultTheme:ag,themeId:or})}function uv({theme:e,...t}){const o=or in e?e[or]:void 0;return h.jsx(Vp,{...t,themeId:o?or:void 0,theme:o||e})}const hi={colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"},{CssVarsProvider:dv}=iv({themeId:or,theme:()=>bp({cssVariables:!0}),colorSchemeStorageKey:hi.colorSchemeStorageKey,modeStorageKey:hi.modeStorageKey,defaultColorScheme:{light:hi.defaultLightColorScheme,dark:hi.defaultDarkColorScheme},resolveTheme:e=>{const t={...e,typography:lg(e.palette,e.typography)};return t.unstable_sx=function(s){return cg({sx:s,theme:this})},t}}),pv=dv;function hv({theme:e,...t}){const o=c.useMemo(()=>{if(typeof e=="function")return e;const s=or in e?e[or]:e;return"colorSchemes"in s?null:"vars"in s?e:{...e,vars:null}},[e]);return o?h.jsx(uv,{theme:o,...t}):h.jsx(pv,{theme:e,...t})}function mv(e){return Wt("MuiAppBar",e)}Zt("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const fv=e=>{const{color:t,position:o,classes:s}=e,i={root:["root",`color${ht(t)}`,`position${ht(o)}`]};return Kt(i,mv,s)},Hu=(e,t)=>e?`${e==null?void 0:e.replace(")","")}, ${t})`:t,gv=Le(Nt,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,t[`position${ht(o.position)}`],t[`color${ht(o.color)}`]]}})(bt(({theme:e})=>({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,variants:[{props:{position:"fixed"},style:{position:"fixed",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}}},{props:{position:"absolute"},style:{position:"absolute",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"sticky"},style:{position:"sticky",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"static"},style:{position:"static"}},{props:{position:"relative"},style:{position:"relative"}},{props:{color:"inherit"},style:{"--AppBar-color":"inherit"}},{props:{color:"default"},style:{"--AppBar-background":e.vars?e.vars.palette.AppBar.defaultBg:e.palette.grey[100],"--AppBar-color":e.vars?e.vars.palette.text.primary:e.palette.getContrastText(e.palette.grey[100]),...e.applyStyles("dark",{"--AppBar-background":e.vars?e.vars.palette.AppBar.defaultBg:e.palette.grey[900],"--AppBar-color":e.vars?e.vars.palette.text.primary:e.palette.getContrastText(e.palette.grey[900])})}},...Object.entries(e.palette).filter(Ts(["contrastText"])).map(([t])=>({props:{color:t},style:{"--AppBar-background":(e.vars??e).palette[t].main,"--AppBar-color":(e.vars??e).palette[t].contrastText}})),{props:t=>t.enableColorOnDark===!0&&!["inherit","transparent"].includes(t.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"}},{props:t=>t.enableColorOnDark===!1&&!["inherit","transparent"].includes(t.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...e.applyStyles("dark",{backgroundColor:e.vars?Hu(e.vars.palette.AppBar.darkBg,"var(--AppBar-background)"):null,color:e.vars?Hu(e.vars.palette.AppBar.darkColor,"var(--AppBar-color)"):null})}},{props:{color:"transparent"},style:{"--AppBar-background":"transparent","--AppBar-color":"inherit",backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...e.applyStyles("dark",{backgroundImage:"none"})}}]}))),vv=c.forwardRef(function(t,o){const s=Ut({props:t,name:"MuiAppBar"}),{className:i,color:a="primary",enableColorOnDark:l=!1,position:d="fixed",...p}=s,f={...s,color:a,position:d,enableColorOnDark:l},m=fv(f);return h.jsx(gv,{square:!0,component:"header",ownerState:f,elevation:4,className:je(m.root,i,d==="fixed"&&"mui-fixed"),ref:o,...p})});function ju(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function Zp(e={}){const{ignoreAccents:t=!0,ignoreCase:o=!0,limit:s,matchFrom:i="any",stringify:a,trim:l=!1}=e;return(d,{inputValue:p,getOptionLabel:f})=>{let m=l?p.trim():p;o&&(m=m.toLowerCase()),t&&(m=ju(m));const g=m?d.filter(v=>{let b=(a||f)(v);return o&&(b=b.toLowerCase()),t&&(b=ju(b)),i==="start"?b.startsWith(m):b.includes(m)}):d;return typeof s=="number"?g.slice(0,s):g}}const yv=Zp(),Gu=5,bv=e=>{var t;return e.current!==null&&((t=e.current.parentElement)==null?void 0:t.contains(document.activeElement))},Cv=[];function Vu(e,t,o){if(t||e==null)return"";const s=o(e);return typeof s=="string"?s:""}function xv(e){const{unstable_isActiveElementInListbox:t=bv,unstable_classNamePrefix:o="Mui",autoComplete:s=!1,autoHighlight:i=!1,autoSelect:a=!1,blurOnSelect:l=!1,clearOnBlur:d=!e.freeSolo,clearOnEscape:p=!1,componentName:f="useAutocomplete",defaultValue:m=e.multiple?Cv:null,disableClearable:g=!1,disableCloseOnSelect:v=!1,disabled:b,disabledItemsFocusable:C=!1,disableListWrap:x=!1,filterOptions:S=yv,filterSelectedOptions:_=!1,freeSolo:P=!1,getOptionDisabled:z,getOptionKey:R,getOptionLabel:j=he=>he.label??he,groupBy:k,handleHomeEndKeys:M=!e.freeSolo,id:E,includeInputInList:$=!1,inputValue:N,isOptionEqualToValue:F=(he,pe)=>he===pe,multiple:G=!1,onChange:H,onClose:T,onHighlightChange:A,onInputChange:B,onOpen:W,open:D,openOnFocus:V=!1,options:Z,readOnly:K=!1,selectOnFocus:Q=!e.freeSolo,value:Y}=e,ee=Zr(E);let q=j;q=he=>{const pe=j(he);return typeof pe!="string"?String(pe):pe};const te=c.useRef(!1),ae=c.useRef(!0),X=c.useRef(null),ve=c.useRef(null),[Ce,le]=c.useState(null),[ce,ie]=c.useState(-1),fe=i?0:-1,me=c.useRef(fe),ye=c.useRef(Vu(m??Y,G,q)).current,[ne,ge]=xi({controlled:Y,default:m,name:f}),[we,Fe]=xi({controlled:N,default:ye,name:f,state:"inputValue"}),[Ne,Ie]=c.useState(!1),be=c.useCallback((he,pe,He)=>{if(!(G?ne.length<pe.length:pe!==null)&&!d)return;const gt=Vu(pe,G,q);we!==gt&&(Fe(gt),B&&B(he,gt,He))},[q,we,G,B,Fe,d,ne]),[Pe,ke]=xi({controlled:D,default:!1,name:f,state:"open"}),[We,nt]=c.useState(!0),et=!G&&ne!=null&&we===q(ne),Xe=Pe&&!K,Ke=Xe?S(Z.filter(he=>!(_&&(G?ne:[ne]).some(pe=>pe!==null&&F(he,pe)))),{inputValue:et&&We?"":we,getOptionLabel:q}):[],St=ec({filteredOptions:Ke,value:ne,inputValue:we});c.useEffect(()=>{const he=ne!==St.value;Ne&&!he||P&&!he||be(null,ne,"reset")},[ne,be,Ne,St.value,P]);const it=Pe&&Ke.length>0&&!K,ot=jo(he=>{he===-1?X.current.focus():Ce.querySelector(`[data-tag-index="${he}"]`).focus()});c.useEffect(()=>{G&&ce>ne.length-1&&(ie(-1),ot(-1))},[ne,G,ce,ot]);function Jt(he,pe){if(!ve.current||he<0||he>=Ke.length)return-1;let He=he;for(;;){const st=ve.current.querySelector(`[data-option-index="${He}"]`),gt=C?!1:!st||st.disabled||st.getAttribute("aria-disabled")==="true";if(st&&st.hasAttribute("tabindex")&&!gt)return He;if(pe==="next"?He=(He+1)%Ke.length:He=(He-1+Ke.length)%Ke.length,He===he)return-1}}const kt=jo(({event:he,index:pe,reason:He})=>{if(me.current=pe,pe===-1?X.current.removeAttribute("aria-activedescendant"):X.current.setAttribute("aria-activedescendant",`${ee}-option-${pe}`),A&&["mouse","keyboard","touch"].includes(He)&&A(he,pe===-1?null:Ke[pe],He),!ve.current)return;const st=ve.current.querySelector(`[role="option"].${o}-focused`);st&&(st.classList.remove(`${o}-focused`),st.classList.remove(`${o}-focusVisible`));let gt=ve.current;if(ve.current.getAttribute("role")!=="listbox"&&(gt=ve.current.parentElement.querySelector('[role="listbox"]')),!gt)return;if(pe===-1){gt.scrollTop=0;return}const Mt=ve.current.querySelector(`[data-option-index="${pe}"]`);if(Mt&&(Mt.classList.add(`${o}-focused`),He==="keyboard"&&Mt.classList.add(`${o}-focusVisible`),gt.scrollHeight>gt.clientHeight&&He!=="mouse"&&He!=="touch")){const Gt=Mt,In=gt.clientHeight+gt.scrollTop,Mo=Gt.offsetTop+Gt.offsetHeight;Mo>In?gt.scrollTop=Mo-gt.clientHeight:Gt.offsetTop-Gt.offsetHeight*(k?1.3:0)<gt.scrollTop&&(gt.scrollTop=Gt.offsetTop-Gt.offsetHeight*(k?1.3:0))}}),Ht=jo(({event:he,diff:pe,direction:He="next",reason:st})=>{if(!Xe)return;const Mt=Jt((()=>{const Gt=Ke.length-1;if(pe==="reset")return fe;if(pe==="start")return 0;if(pe==="end")return Gt;const In=me.current+pe;return In<0?In===-1&&$?-1:x&&me.current!==-1||Math.abs(pe)>1?0:Gt:In>Gt?In===Gt+1&&$?-1:x||Math.abs(pe)>1?Gt:0:In})(),He);if(kt({index:Mt,reason:st,event:he}),s&&pe!=="reset")if(Mt===-1)X.current.value=we;else{const Gt=q(Ke[Mt]);X.current.value=Gt,Gt.toLowerCase().indexOf(we.toLowerCase())===0&&we.length>0&&X.current.setSelectionRange(we.length,Gt.length)}}),dn=()=>{const he=(pe,He)=>{const st=pe?q(pe):"",gt=He?q(He):"";return st===gt};if(me.current!==-1&&St.filteredOptions&&St.filteredOptions.length!==Ke.length&&St.inputValue===we&&(G?ne.length===St.value.length&&St.value.every((pe,He)=>q(ne[He])===q(pe)):he(St.value,ne))){const pe=St.filteredOptions[me.current];if(pe)return Ke.findIndex(He=>q(He)===q(pe))}return-1},on=c.useCallback(()=>{if(!Xe)return;const he=dn();if(he!==-1){me.current=he;return}const pe=G?ne[0]:ne;if(Ke.length===0||pe==null){Ht({diff:"reset"});return}if(ve.current){if(pe!=null){const He=Ke[me.current];if(G&&He&&ne.findIndex(gt=>F(He,gt))!==-1)return;const st=Ke.findIndex(gt=>F(gt,pe));st===-1?Ht({diff:"reset"}):kt({index:st});return}if(me.current>=Ke.length-1){kt({index:Ke.length-1});return}kt({index:me.current})}},[Ke.length,G?!1:ne,_,Ht,kt,Xe,we,G]),ln=jo(he=>{ug(ve,he),he&&on()});c.useEffect(()=>{on()},[on]);const jt=he=>{Pe||(ke(!0),nt(!0),W&&W(he))},Ct=(he,pe)=>{Pe&&(ke(!1),T&&T(he,pe))},de=(he,pe,He,st)=>{if(G){if(ne.length===pe.length&&ne.every((gt,Mt)=>gt===pe[Mt]))return}else if(ne===pe)return;H&&H(he,pe,He,st),ge(pe)},re=c.useRef(!1),_e=(he,pe,He="selectOption",st="options")=>{let gt=He,Mt=pe;if(G){Mt=Array.isArray(ne)?ne.slice():[];const Gt=Mt.findIndex(In=>F(pe,In));Gt===-1?Mt.push(pe):st!=="freeSolo"&&(Mt.splice(Gt,1),gt="removeOption")}be(he,Mt,gt),de(he,Mt,gt,{option:pe}),!v&&(!he||!he.ctrlKey&&!he.metaKey)&&Ct(he,gt),(l===!0||l==="touch"&&re.current||l==="mouse"&&!re.current)&&X.current.blur()};function Je(he,pe){if(he===-1)return-1;let He=he;for(;;){if(pe==="next"&&He===ne.length||pe==="previous"&&He===-1)return-1;const st=Ce.querySelector(`[data-tag-index="${He}"]`);if(!st||!st.hasAttribute("tabindex")||st.disabled||st.getAttribute("aria-disabled")==="true")He+=pe==="next"?1:-1;else return He}}const Ze=(he,pe)=>{if(!G)return;we===""&&Ct(he,"toggleInput");let He=ce;ce===-1?we===""&&pe==="previous"&&(He=ne.length-1):(He+=pe==="next"?1:-1,He<0&&(He=0),He===ne.length&&(He=-1)),He=Je(He,pe),ie(He),ot(He)},qe=he=>{te.current=!0,Fe(""),B&&B(he,"","clear"),de(he,G?[]:null,"clear")},Ye=he=>pe=>{if(he.onKeyDown&&he.onKeyDown(pe),!pe.defaultMuiPrevented&&(ce!==-1&&!["ArrowLeft","ArrowRight"].includes(pe.key)&&(ie(-1),ot(-1)),pe.which!==229))switch(pe.key){case"Home":Xe&&M&&(pe.preventDefault(),Ht({diff:"start",direction:"next",reason:"keyboard",event:pe}));break;case"End":Xe&&M&&(pe.preventDefault(),Ht({diff:"end",direction:"previous",reason:"keyboard",event:pe}));break;case"PageUp":pe.preventDefault(),Ht({diff:-Gu,direction:"previous",reason:"keyboard",event:pe}),jt(pe);break;case"PageDown":pe.preventDefault(),Ht({diff:Gu,direction:"next",reason:"keyboard",event:pe}),jt(pe);break;case"ArrowDown":pe.preventDefault(),Ht({diff:1,direction:"next",reason:"keyboard",event:pe}),jt(pe);break;case"ArrowUp":pe.preventDefault(),Ht({diff:-1,direction:"previous",reason:"keyboard",event:pe}),jt(pe);break;case"ArrowLeft":Ze(pe,"previous");break;case"ArrowRight":Ze(pe,"next");break;case"Enter":if(me.current!==-1&&Xe){const He=Ke[me.current],st=z?z(He):!1;if(pe.preventDefault(),st)return;_e(pe,He,"selectOption"),s&&X.current.setSelectionRange(X.current.value.length,X.current.value.length)}else P&&we!==""&&et===!1&&(G&&pe.preventDefault(),_e(pe,we,"createOption","freeSolo"));break;case"Escape":Xe?(pe.preventDefault(),pe.stopPropagation(),Ct(pe,"escape")):p&&(we!==""||G&&ne.length>0)&&(pe.preventDefault(),pe.stopPropagation(),qe(pe));break;case"Backspace":if(G&&!K&&we===""&&ne.length>0){const He=ce===-1?ne.length-1:ce,st=ne.slice();st.splice(He,1),de(pe,st,"removeOption",{option:ne[He]})}break;case"Delete":if(G&&!K&&we===""&&ne.length>0&&ce!==-1){const He=ce,st=ne.slice();st.splice(He,1),de(pe,st,"removeOption",{option:ne[He]})}break}},Se=he=>{Ie(!0),V&&!te.current&&jt(he)},Ae=he=>{if(t(ve)){X.current.focus();return}Ie(!1),ae.current=!0,te.current=!1,a&&me.current!==-1&&Xe?_e(he,Ke[me.current],"blur"):a&&P&&we!==""?_e(he,we,"blur","freeSolo"):d&&be(he,ne,"blur"),Ct(he,"blur")},$e=he=>{const pe=he.target.value;we!==pe&&(Fe(pe),nt(!1),B&&B(he,pe,"input")),pe===""?!g&&!G&&de(he,null,"clear"):jt(he)},Ee=he=>{const pe=Number(he.currentTarget.getAttribute("data-option-index"));me.current!==pe&&kt({event:he,index:pe,reason:"mouse"})},Me=he=>{kt({event:he,index:Number(he.currentTarget.getAttribute("data-option-index")),reason:"touch"}),re.current=!0},Oe=he=>{const pe=Number(he.currentTarget.getAttribute("data-option-index"));_e(he,Ke[pe],"selectOption"),re.current=!1},De=he=>pe=>{const He=ne.slice();He.splice(he,1),de(pe,He,"removeOption",{option:ne[he]})},Qt=he=>{Pe?Ct(he,"toggleInput"):jt(he)},pn=he=>{he.currentTarget.contains(he.target)&&he.target.getAttribute("id")!==ee&&he.preventDefault()},Tt=he=>{he.currentTarget.contains(he.target)&&(X.current.focus(),Q&&ae.current&&X.current.selectionEnd-X.current.selectionStart===0&&X.current.select(),ae.current=!1)},Rt=he=>{!b&&(we===""||!Pe)&&Qt(he)};let rn=P&&we.length>0;rn=rn||(G?ne.length>0:ne!==null);let Jn=Ke;return k&&(Jn=Ke.reduce((he,pe,He)=>{const st=k(pe);return he.length>0&&he[he.length-1].group===st?he[he.length-1].options.push(pe):he.push({key:He,index:He,group:st,options:[pe]}),he},[])),b&&Ne&&Ae(),{getRootProps:(he={})=>({...he,onKeyDown:Ye(he),onMouseDown:pn,onClick:Tt}),getInputLabelProps:()=>({id:`${ee}-label`,htmlFor:ee}),getInputProps:()=>({id:ee,value:we,onBlur:Ae,onFocus:Se,onChange:$e,onMouseDown:Rt,"aria-activedescendant":Xe?"":null,"aria-autocomplete":s?"both":"list","aria-controls":it?`${ee}-listbox`:void 0,"aria-expanded":it,autoComplete:"off",ref:X,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:b}),getClearProps:()=>({tabIndex:-1,type:"button",onClick:qe}),getPopupIndicatorProps:()=>({tabIndex:-1,type:"button",onClick:Qt}),getTagProps:({index:he})=>({key:he,"data-tag-index":he,tabIndex:-1,...!K&&{onDelete:De(he)}}),getListboxProps:()=>({role:"listbox",id:`${ee}-listbox`,"aria-labelledby":`${ee}-label`,ref:ln,onMouseDown:he=>{he.preventDefault()}}),getOptionProps:({index:he,option:pe})=>{const He=(G?ne:[ne]).some(gt=>gt!=null&&F(pe,gt)),st=z?z(pe):!1;return{key:(R==null?void 0:R(pe))??q(pe),tabIndex:-1,role:"option",id:`${ee}-option-${he}`,onMouseMove:Ee,onClick:Oe,onTouchStart:Me,"data-option-index":he,"aria-disabled":st,"aria-selected":He}},id:ee,inputValue:we,value:ne,dirty:rn,expanded:Xe&&Ce,popupOpen:Xe,focused:Ne||ce!==-1,anchorEl:Ce,setAnchorEl:le,focusedTag:ce,groupedOptions:Jn}}function wv(e){return Wt("MuiListSubheader",e)}Zt("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const Sv=e=>{const{classes:t,color:o,disableGutters:s,inset:i,disableSticky:a}=e,l={root:["root",o!=="default"&&`color${ht(o)}`,!s&&"gutters",i&&"inset",!a&&"sticky"]};return Kt(l,wv,t)},_v=Le("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.color!=="default"&&t[`color${ht(o.color)}`],!o.disableGutters&&t.gutters,o.inset&&t.inset,!o.disableSticky&&t.sticky]}})(bt(({theme:e})=>({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(e.vars||e).palette.text.secondary,fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(14),variants:[{props:{color:"primary"},style:{color:(e.vars||e).palette.primary.main}},{props:{color:"inherit"},style:{color:"inherit"}},{props:({ownerState:t})=>!t.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:t})=>t.inset,style:{paddingLeft:72}},{props:({ownerState:t})=>!t.disableSticky,style:{position:"sticky",top:0,zIndex:1,backgroundColor:(e.vars||e).palette.background.paper}}]}))),wl=c.forwardRef(function(t,o){const s=Ut({props:t,name:"MuiListSubheader"}),{className:i,color:a="default",component:l="li",disableGutters:d=!1,disableSticky:p=!1,inset:f=!1,...m}=s,g={...s,color:a,component:l,disableGutters:d,disableSticky:p,inset:f},v=Sv(g);return h.jsx(_v,{as:l,className:je(v.root,i),ref:o,ownerState:g,...m})});wl&&(wl.muiSkipListHighlight=!0);function Pv(e){return Wt("MuiAutocomplete",e)}const ut=Zt("MuiAutocomplete",["root","expanded","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]);var Wu,Zu;const Iv=e=>{const{classes:t,disablePortal:o,expanded:s,focused:i,fullWidth:a,hasClearIcon:l,hasPopupIcon:d,inputFocused:p,popupOpen:f,size:m}=e,g={root:["root",s&&"expanded",i&&"focused",a&&"fullWidth",l&&"hasClearIcon",d&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",p&&"inputFocused"],tag:["tag",`tagSize${ht(m)}`],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",f&&"popupIndicatorOpen"],popper:["popper",o&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return Kt(g,Pv,t)},Tv=Le("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e,{fullWidth:s,hasClearIcon:i,hasPopupIcon:a,inputFocused:l,size:d}=o;return[{[`& .${ut.tag}`]:t.tag},{[`& .${ut.tag}`]:t[`tagSize${ht(d)}`]},{[`& .${ut.inputRoot}`]:t.inputRoot},{[`& .${ut.input}`]:t.input},{[`& .${ut.input}`]:l&&t.inputFocused},t.root,s&&t.fullWidth,a&&t.hasPopupIcon,i&&t.hasClearIcon]}})({[`&.${ut.focused} .${ut.clearIndicator}`]:{visibility:"visible"},"@media (pointer: fine)":{[`&:hover .${ut.clearIndicator}`]:{visibility:"visible"}},[`& .${ut.tag}`]:{margin:3,maxWidth:"calc(100% - 6px)"},[`& .${ut.inputRoot}`]:{[`.${ut.hasPopupIcon}&, .${ut.hasClearIcon}&`]:{paddingRight:30},[`.${ut.hasPopupIcon}.${ut.hasClearIcon}&`]:{paddingRight:56},[`& .${ut.input}`]:{width:0,minWidth:30}},[`& .${el.root}`]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},[`& .${el.root}.${Qo.sizeSmall}`]:{[`& .${el.input}`]:{padding:"2px 4px 3px 0"}},[`& .${Eu.root}`]:{padding:9,[`.${ut.hasPopupIcon}&, .${ut.hasClearIcon}&`]:{paddingRight:39},[`.${ut.hasPopupIcon}.${ut.hasClearIcon}&`]:{paddingRight:65},[`& .${ut.input}`]:{padding:"7.5px 4px 7.5px 5px"},[`& .${ut.endAdornment}`]:{right:9}},[`& .${Eu.root}.${Qo.sizeSmall}`]:{paddingTop:6,paddingBottom:6,paddingLeft:6,[`& .${ut.input}`]:{padding:"2.5px 4px 2.5px 8px"}},[`& .${Tr.root}`]:{paddingTop:19,paddingLeft:8,[`.${ut.hasPopupIcon}&, .${ut.hasClearIcon}&`]:{paddingRight:39},[`.${ut.hasPopupIcon}.${ut.hasClearIcon}&`]:{paddingRight:65},[`& .${Tr.input}`]:{padding:"7px 4px"},[`& .${ut.endAdornment}`]:{right:9}},[`& .${Tr.root}.${Qo.sizeSmall}`]:{paddingBottom:1,[`& .${Tr.input}`]:{padding:"2.5px 4px"}},[`& .${Qo.hiddenLabel}`]:{paddingTop:8},[`& .${Tr.root}.${Qo.hiddenLabel}`]:{paddingTop:0,paddingBottom:0,[`& .${ut.input}`]:{paddingTop:16,paddingBottom:17}},[`& .${Tr.root}.${Qo.hiddenLabel}.${Qo.sizeSmall}`]:{[`& .${ut.input}`]:{paddingTop:8,paddingBottom:9}},[`& .${ut.input}`]:{flexGrow:1,textOverflow:"ellipsis",opacity:0},variants:[{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{[`& .${ut.tag}`]:{margin:2,maxWidth:"calc(100% - 4px)"}}},{props:{inputFocused:!0},style:{[`& .${ut.input}`]:{opacity:1}}},{props:{multiple:!0},style:{[`& .${ut.inputRoot}`]:{flexWrap:"wrap"}}}]}),kv=Le("div",{name:"MuiAutocomplete",slot:"EndAdornment",overridesResolver:(e,t)=>t.endAdornment})({position:"absolute",right:0,top:"50%",transform:"translate(0, -50%)"}),Mv=Le(fn,{name:"MuiAutocomplete",slot:"ClearIndicator",overridesResolver:(e,t)=>t.clearIndicator})({marginRight:-2,padding:4,visibility:"hidden"}),Av=Le(fn,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.popupIndicator,o.popupOpen&&t.popupIndicatorOpen]}})({padding:2,marginRight:-2,variants:[{props:{popupOpen:!0},style:{transform:"rotate(180deg)"}}]}),Ev=Le(qr,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[{[`& .${ut.option}`]:t.option},t.popper,o.disablePortal&&t.popperDisablePortal]}})(bt(({theme:e})=>({zIndex:(e.vars||e).zIndex.modal,variants:[{props:{disablePortal:!0},style:{position:"absolute"}}]}))),Dv=Le(Nt,{name:"MuiAutocomplete",slot:"Paper",overridesResolver:(e,t)=>t.paper})(bt(({theme:e})=>({...e.typography.body1,overflow:"auto"}))),Rv=Le("div",{name:"MuiAutocomplete",slot:"Loading",overridesResolver:(e,t)=>t.loading})(bt(({theme:e})=>({color:(e.vars||e).palette.text.secondary,padding:"14px 16px"}))),Lv=Le("div",{name:"MuiAutocomplete",slot:"NoOptions",overridesResolver:(e,t)=>t.noOptions})(bt(({theme:e})=>({color:(e.vars||e).palette.text.secondary,padding:"14px 16px"}))),Fv=Le("ul",{name:"MuiAutocomplete",slot:"Listbox",overridesResolver:(e,t)=>t.listbox})(bt(({theme:e})=>({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",[`& .${ut.option}`]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[e.breakpoints.up("sm")]:{minHeight:"auto"},[`&.${ut.focused}`]:{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${ut.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Te(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${ut.focused}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Te(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(e.vars||e).palette.action.selected}},[`&.${ut.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Te(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}}}}))),Ov=Le(wl,{name:"MuiAutocomplete",slot:"GroupLabel",overridesResolver:(e,t)=>t.groupLabel})(bt(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,top:-8}))),Nv=Le("ul",{name:"MuiAutocomplete",slot:"GroupUl",overridesResolver:(e,t)=>t.groupUl})({padding:0,[`& .${ut.option}`]:{paddingLeft:24}}),Ns=c.forwardRef(function(t,o){const s=Ut({props:t,name:"MuiAutocomplete"}),{autoComplete:i=!1,autoHighlight:a=!1,autoSelect:l=!1,blurOnSelect:d=!1,ChipProps:p,className:f,clearIcon:m=Wu||(Wu=h.jsx(dg,{fontSize:"small"})),clearOnBlur:g=!s.freeSolo,clearOnEscape:v=!1,clearText:b="Clear",closeText:C="Close",componentsProps:x,defaultValue:S=s.multiple?[]:null,disableClearable:_=!1,disableCloseOnSelect:P=!1,disabled:z=!1,disabledItemsFocusable:R=!1,disableListWrap:j=!1,disablePortal:k=!1,filterOptions:M,filterSelectedOptions:E=!1,forcePopupIcon:$="auto",freeSolo:N=!1,fullWidth:F=!1,getLimitTagsText:G=wt=>`+${wt}`,getOptionDisabled:H,getOptionKey:T,getOptionLabel:A,isOptionEqualToValue:B,groupBy:W,handleHomeEndKeys:D=!s.freeSolo,id:V,includeInputInList:Z=!1,inputValue:K,limitTags:Q=-1,ListboxComponent:Y,ListboxProps:ee,loading:q=!1,loadingText:te="Loadingâ€¦",multiple:ae=!1,noOptionsText:X="No options",onChange:ve,onClose:Ce,onHighlightChange:le,onInputChange:ce,onOpen:ie,open:fe,openOnFocus:me=!1,openText:ye="Open",options:ne,PaperComponent:ge,PopperComponent:we,popupIcon:Fe=Zu||(Zu=h.jsx(pg,{})),readOnly:Ne=!1,renderGroup:Ie,renderInput:be,renderOption:Pe,renderTags:ke,selectOnFocus:We=!s.freeSolo,size:nt="medium",slots:et={},slotProps:Xe={},value:Ke,...St}=s,{getRootProps:it,getInputProps:ot,getInputLabelProps:Jt,getPopupIndicatorProps:kt,getClearProps:Ht,getTagProps:dn,getListboxProps:on,getOptionProps:ln,value:jt,dirty:Ct,expanded:de,id:re,popupOpen:_e,focused:Je,focusedTag:Ze,anchorEl:qe,setAnchorEl:Ye,inputValue:Se,groupedOptions:Ae}=xv({...s,componentName:"Autocomplete"}),$e=!_&&!z&&Ct&&!Ne,Ee=(!N||$===!0)&&$!==!1,{onMouseDown:Me}=ot(),{ref:Oe,...De}=on(),pn=A||(wt=>wt.label??wt),Tt={...s,disablePortal:k,expanded:de,focused:Je,fullWidth:F,getOptionLabel:pn,hasClearIcon:$e,hasPopupIcon:Ee,inputFocused:Ze===-1,popupOpen:_e,size:nt},Rt=Iv(Tt),rn={slots:{paper:ge,popper:we,...et},slotProps:{chip:p,listbox:ee,...x,...Xe}},[Jn,he]=Pt("listbox",{elementType:Fv,externalForwardedProps:rn,ownerState:Tt,className:Rt.listbox,additionalProps:De,ref:Oe}),[pe,He]=Pt("paper",{elementType:Nt,externalForwardedProps:rn,ownerState:Tt,className:Rt.paper}),[st,gt]=Pt("popper",{elementType:qr,externalForwardedProps:rn,ownerState:Tt,className:Rt.popper,additionalProps:{disablePortal:k,style:{width:qe?qe.clientWidth:null},role:"presentation",anchorEl:qe,open:_e}});let Mt;if(ae&&jt.length>0){const wt=Tn=>({className:Rt.tag,disabled:z,...dn(Tn)});ke?Mt=ke(jt,wt,Tt):Mt=jt.map((Tn,kn)=>{const{key:Ao,...Js}=wt({index:kn});return h.jsx(Vl,{label:pn(Tn),size:nt,...Js,...rn.slotProps.chip},Ao)})}if(Q>-1&&Array.isArray(Mt)){const wt=Mt.length-Q;!Je&&wt>0&&(Mt=Mt.splice(0,Q),Mt.push(h.jsx("span",{className:Rt.tag,children:G(wt)},Mt.length)))}const In=Ie||(wt=>h.jsxs("li",{children:[h.jsx(Ov,{className:Rt.groupLabel,ownerState:Tt,component:"div",children:wt.group}),h.jsx(Nv,{className:Rt.groupUl,ownerState:Tt,children:wt.children})]},wt.key)),Ma=Pe||((wt,Tn)=>{const{key:kn,...Ao}=wt;return h.jsx("li",{...Ao,children:pn(Tn)},kn)}),Ks=(wt,Tn)=>{const kn=ln({option:wt,index:Tn});return Ma({...kn,className:Rt.option},wt,{selected:kn["aria-selected"],index:Tn,inputValue:Se},Tt)},vr=rn.slotProps.clearIndicator,yr=rn.slotProps.popupIndicator;return h.jsxs(c.Fragment,{children:[h.jsx(Tv,{ref:o,className:je(Rt.root,f),ownerState:Tt,...it(St),children:be({id:re,disabled:z,fullWidth:!0,size:nt==="small"?"small":void 0,InputLabelProps:Jt(),InputProps:{ref:Ye,className:Rt.inputRoot,startAdornment:Mt,onMouseDown:wt=>{wt.target===wt.currentTarget&&Me(wt)},...($e||Ee)&&{endAdornment:h.jsxs(kv,{className:Rt.endAdornment,ownerState:Tt,children:[$e?h.jsx(Mv,{...Ht(),"aria-label":b,title:b,ownerState:Tt,...vr,className:je(Rt.clearIndicator,vr==null?void 0:vr.className),children:m}):null,Ee?h.jsx(Av,{...kt(),disabled:z,"aria-label":_e?C:ye,title:_e?C:ye,ownerState:Tt,...yr,className:je(Rt.popupIndicator,yr==null?void 0:yr.className),children:Fe}):null]})}},inputProps:{className:Rt.input,disabled:z,readOnly:Ne,...ot()}})}),qe?h.jsx(Ev,{as:st,...gt,children:h.jsxs(Dv,{as:pe,...He,children:[q&&Ae.length===0?h.jsx(Rv,{className:Rt.loading,ownerState:Tt,children:te}):null,Ae.length===0&&!N&&!q?h.jsx(Lv,{className:Rt.noOptions,ownerState:Tt,role:"presentation",onMouseDown:wt=>{wt.preventDefault()},children:X}):null,Ae.length>0?h.jsx(Jn,{as:Y,...he,children:Ae.map((wt,Tn)=>W?In({key:wt.key,group:wt.group,children:wt.options.map((kn,Ao)=>Ks(kn,wt.index+Ao))}):Ks(wt,Tn))}):null]})}):null]})}),zv=tt(h.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function $v(e){return Wt("MuiAvatar",e)}Zt("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const Bv=e=>{const{classes:t,variant:o,colorDefault:s}=e;return Kt({root:["root",o,s&&"colorDefault"],img:["img"],fallback:["fallback"]},$v,t)},Hv=Le("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,t[o.variant],o.colorDefault&&t.colorDefault]}})(bt(({theme:e})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(e.vars||e).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:{color:(e.vars||e).palette.background.default,...e.vars?{backgroundColor:e.vars.palette.Avatar.defaultBg}:{backgroundColor:e.palette.grey[400],...e.applyStyles("dark",{backgroundColor:e.palette.grey[600]})}}}]}))),jv=Le("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(e,t)=>t.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),Gv=Le(zv,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(e,t)=>t.fallback})({width:"75%",height:"75%"});function Vv({crossOrigin:e,referrerPolicy:t,src:o,srcSet:s}){const[i,a]=c.useState(!1);return c.useEffect(()=>{if(!o&&!s)return;a(!1);let l=!0;const d=new Image;return d.onload=()=>{l&&a("loaded")},d.onerror=()=>{l&&a("error")},d.crossOrigin=e,d.referrerPolicy=t,d.src=o,s&&(d.srcset=s),()=>{l=!1}},[e,t,o,s]),i}const Wv=c.forwardRef(function(t,o){const s=Ut({props:t,name:"MuiAvatar"}),{alt:i,children:a,className:l,component:d="div",slots:p={},slotProps:f={},imgProps:m,sizes:g,src:v,srcSet:b,variant:C="circular",...x}=s;let S=null;const _={...s,component:d,variant:C},P=Vv({...m,...typeof f.img=="function"?f.img(_):f.img,src:v,srcSet:b}),z=v||b,R=z&&P!=="error";_.colorDefault=!R,delete _.ownerState;const j=Bv(_),[k,M]=Pt("img",{className:j.img,elementType:jv,externalForwardedProps:{slots:p,slotProps:{img:{...m,...f.img}}},additionalProps:{alt:i,src:v,srcSet:b,sizes:g},ownerState:_});return R?S=h.jsx(k,{...M}):a||a===0?S=a:z&&i?S=i[0]:S=h.jsx(Gv,{ownerState:_,className:j.fallback}),h.jsx(Hv,{as:d,className:je(j.root,l),ref:o,...x,ownerState:_,children:S})});function Zv(e){const{badgeContent:t,invisible:o=!1,max:s=99,showZero:i=!1}=e,a=ec({badgeContent:t,max:s});let l=o;o===!1&&t===0&&!i&&(l=!0);const{badgeContent:d,max:p=s}=l?a:e,f=d&&Number(d)>p?`${p}+`:d;return{badgeContent:d,invisible:l,max:p,displayValue:f}}function Uv(e){return Wt("MuiBadge",e)}const Ro=Zt("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),sl=10,il=4,Kv=e=>{const{color:t,anchorOrigin:o,invisible:s,overlap:i,variant:a,classes:l={}}=e,d={root:["root"],badge:["badge",a,s&&"invisible",`anchorOrigin${ht(o.vertical)}${ht(o.horizontal)}`,`anchorOrigin${ht(o.vertical)}${ht(o.horizontal)}${ht(i)}`,`overlap${ht(i)}`,t!=="default"&&`color${ht(t)}`]};return Kt(d,Uv,l)},Jv=Le("span",{name:"MuiBadge",slot:"Root",overridesResolver:(e,t)=>t.root})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),qv=Le("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.badge,t[o.variant],t[`anchorOrigin${ht(o.anchorOrigin.vertical)}${ht(o.anchorOrigin.horizontal)}${ht(o.overlap)}`],o.color!=="default"&&t[`color${ht(o.color)}`],o.invisible&&t.invisible]}})(bt(({theme:e})=>({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(12),minWidth:sl*2,lineHeight:1,padding:"0 6px",height:sl*2,borderRadius:sl,zIndex:1,transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.enteringScreen}),variants:[...Object.entries(e.palette).filter(Ts(["contrastText"])).map(([t])=>({props:{color:t},style:{backgroundColor:(e.vars||e).palette[t].main,color:(e.vars||e).palette[t].contrastText}})),{props:{variant:"dot"},style:{borderRadius:il,height:il*2,minWidth:il*2,padding:0}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="rectangular",style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Ro.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="rectangular",style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Ro.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="rectangular",style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Ro.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="rectangular",style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Ro.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="circular",style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Ro.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="circular",style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Ro.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="circular",style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Ro.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="circular",style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Ro.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.leavingScreen})}}]})));function Uu(e){return{vertical:(e==null?void 0:e.vertical)??"top",horizontal:(e==null?void 0:e.horizontal)??"right"}}const rc=c.forwardRef(function(t,o){const s=Ut({props:t,name:"MuiBadge"}),{anchorOrigin:i,className:a,classes:l,component:d,components:p={},componentsProps:f={},children:m,overlap:g="rectangular",color:v="default",invisible:b=!1,max:C=99,badgeContent:x,slots:S,slotProps:_,showZero:P=!1,variant:z="standard",...R}=s,{badgeContent:j,invisible:k,max:M,displayValue:E}=Zv({max:C,invisible:b,badgeContent:x,showZero:P}),$=ec({anchorOrigin:Uu(i),color:v,overlap:g,variant:z,badgeContent:x}),N=k||j==null&&z!=="dot",{color:F=v,overlap:G=g,anchorOrigin:H,variant:T=z}=N?$:s,A=Uu(H),B=T!=="dot"?E:void 0,W={...s,badgeContent:j,invisible:N,max:M,displayValue:B,showZero:P,anchorOrigin:A,color:F,overlap:G,variant:T},D=Kv(W),V={slots:{root:(S==null?void 0:S.root)??p.Root,badge:(S==null?void 0:S.badge)??p.Badge},slotProps:{root:(_==null?void 0:_.root)??f.root,badge:(_==null?void 0:_.badge)??f.badge}},[Z,K]=Pt("root",{elementType:Jv,externalForwardedProps:{...V,...R},ownerState:W,className:je(D.root,a),ref:o,additionalProps:{as:d}}),[Q,Y]=Pt("badge",{elementType:qv,externalForwardedProps:V,ownerState:W,className:D.badge});return h.jsxs(Z,{...K,children:[m,h.jsx(Q,{...Y,children:B})]})});function Xv(e){return Wt("MuiCardActionArea",e)}const al=Zt("MuiCardActionArea",["root","focusVisible","focusHighlight"]),Yv=e=>{const{classes:t}=e;return Kt({root:["root"],focusHighlight:["focusHighlight"]},Xv,t)},Qv=Le(Fs,{name:"MuiCardActionArea",slot:"Root",overridesResolver:(e,t)=>t.root})(bt(({theme:e})=>({display:"block",textAlign:"inherit",borderRadius:"inherit",width:"100%",[`&:hover .${al.focusHighlight}`]:{opacity:(e.vars||e).palette.action.hoverOpacity,"@media (hover: none)":{opacity:0}},[`&.${al.focusVisible} .${al.focusHighlight}`]:{opacity:(e.vars||e).palette.action.focusOpacity}}))),ey=Le("span",{name:"MuiCardActionArea",slot:"FocusHighlight",overridesResolver:(e,t)=>t.focusHighlight})(bt(({theme:e})=>({overflow:"hidden",pointerEvents:"none",position:"absolute",top:0,right:0,bottom:0,left:0,borderRadius:"inherit",opacity:0,backgroundColor:"currentcolor",transition:e.transitions.create("opacity",{duration:e.transitions.duration.short})}))),ty=c.forwardRef(function(t,o){const s=Ut({props:t,name:"MuiCardActionArea"}),{children:i,className:a,focusVisibleClassName:l,slots:d={},slotProps:p={},...f}=s,m=s,g=Yv(m),v={slots:d,slotProps:p},[b,C]=Pt("root",{elementType:Qv,externalForwardedProps:{...v,...f},shouldForwardComponentProp:!0,ownerState:m,ref:o,className:je(g.root,a),additionalProps:{focusVisibleClassName:je(l,g.focusVisible)}}),[x,S]=Pt("focusHighlight",{elementType:ey,externalForwardedProps:v,ownerState:m,ref:o,className:g.focusHighlight});return h.jsxs(b,{...C,children:[i,h.jsx(x,{...S})]})});function ny(e){return Wt("MuiCardActions",e)}Zt("MuiCardActions",["root","spacing"]);const oy=e=>{const{classes:t,disableSpacing:o}=e;return Kt({root:["root",!o&&"spacing"]},ny,t)},ry=Le("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,!o.disableSpacing&&t.spacing]}})({display:"flex",alignItems:"center",padding:8,variants:[{props:{disableSpacing:!1},style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),sy=c.forwardRef(function(t,o){const s=Ut({props:t,name:"MuiCardActions"}),{disableSpacing:i=!1,className:a,...l}=s,d={...s,disableSpacing:i},p=oy(d);return h.jsx(ry,{className:je(p.root,a),ownerState:d,ref:o,...l})});function iy(e){return Wt("PrivateSwitchBase",e)}Zt("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const ay=e=>{const{classes:t,checked:o,disabled:s,edge:i}=e,a={root:["root",o&&"checked",s&&"disabled",i&&`edge${ht(i)}`],input:["input"]};return Kt(a,iy,t)},ly=Le(Fs,{name:"MuiSwitchBase"})({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:e,ownerState:t})=>e==="start"&&t.size!=="small",style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:e,ownerState:t})=>e==="end"&&t.size!=="small",style:{marginRight:-12}}]}),cy=Le("input",{name:"MuiSwitchBase",shouldForwardProp:ea})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),Up=c.forwardRef(function(t,o){const{autoFocus:s,checked:i,checkedIcon:a,defaultChecked:l,disabled:d,disableFocusRipple:p=!1,edge:f=!1,icon:m,id:g,inputProps:v,inputRef:b,name:C,onBlur:x,onChange:S,onFocus:_,readOnly:P,required:z=!1,tabIndex:R,type:j,value:k,slots:M={},slotProps:E={},...$}=t,[N,F]=xi({controlled:i,default:!!l,name:"SwitchBase",state:"checked"}),G=Cp(),H=q=>{_&&_(q),G&&G.onFocus&&G.onFocus(q)},T=q=>{x&&x(q),G&&G.onBlur&&G.onBlur(q)},A=q=>{if(q.nativeEvent.defaultPrevented)return;const te=q.target.checked;F(te),S&&S(q,te)};let B=d;G&&typeof B>"u"&&(B=G.disabled);const W=j==="checkbox"||j==="radio",D={...t,checked:N,disabled:B,disableFocusRipple:p,edge:f},V=ay(D),Z={slots:M,slotProps:{input:v,...E}},[K,Q]=Pt("root",{ref:o,elementType:ly,className:V.root,shouldForwardComponentProp:!0,externalForwardedProps:{...Z,component:"span",...$},getSlotProps:q=>({...q,onFocus:te=>{var ae;(ae=q.onFocus)==null||ae.call(q,te),H(te)},onBlur:te=>{var ae;(ae=q.onBlur)==null||ae.call(q,te),T(te)}}),ownerState:D,additionalProps:{centerRipple:!0,focusRipple:!p,disabled:B,role:void 0,tabIndex:null}}),[Y,ee]=Pt("input",{ref:b,elementType:cy,className:V.input,externalForwardedProps:Z,getSlotProps:q=>({onChange:te=>{var ae;(ae=q.onChange)==null||ae.call(q,te),A(te)}}),ownerState:D,additionalProps:{autoFocus:s,checked:i,defaultChecked:l,disabled:B,id:W?g:void 0,name:C,readOnly:P,required:z,tabIndex:R,type:j,...j==="checkbox"&&k===void 0?{}:{value:k}}});return h.jsxs(K,{...Q,children:[h.jsx(Y,{...ee}),N?a:m]})}),uy=tt(h.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),dy=tt(h.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),py=tt(h.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function hy(e){return Wt("MuiCheckbox",e)}const ll=Zt("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),my=e=>{const{classes:t,indeterminate:o,color:s,size:i}=e,a={root:["root",o&&"indeterminate",`color${ht(s)}`,`size${ht(i)}`]},l=Kt(a,hy,t);return{...t,...l}},fy=Le(Up,{shouldForwardProp:e=>ea(e)||e==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.indeterminate&&t.indeterminate,t[`size${ht(o.size)}`],o.color!=="default"&&t[`color${ht(o.color)}`]]}})(bt(({theme:e})=>({color:(e.vars||e).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Te(e.palette.action.active,e.palette.action.hoverOpacity)}}},...Object.entries(e.palette).filter(Ts()).map(([t])=>({props:{color:t,disableRipple:!1},style:{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Te(e.palette[t].main,e.palette.action.hoverOpacity)}}})),...Object.entries(e.palette).filter(Ts()).map(([t])=>({props:{color:t},style:{[`&.${ll.checked}, &.${ll.indeterminate}`]:{color:(e.vars||e).palette[t].main},[`&.${ll.disabled}`]:{color:(e.vars||e).palette.action.disabled}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}))),gy=h.jsx(dy,{}),vy=h.jsx(uy,{}),yy=h.jsx(py,{}),Sl=c.forwardRef(function(t,o){const s=Ut({props:t,name:"MuiCheckbox"}),{checkedIcon:i=gy,color:a="primary",icon:l=vy,indeterminate:d=!1,indeterminateIcon:p=yy,inputProps:f,size:m="medium",disableRipple:g=!1,className:v,slots:b={},slotProps:C={},...x}=s,S=d?p:l,_=d?p:i,P={...s,disableRipple:g,color:a,indeterminate:d,size:m},z=my(P),R=C.input??f,[j,k]=Pt("root",{ref:o,elementType:fy,className:je(z.root,v),shouldForwardComponentProp:!0,externalForwardedProps:{slots:b,slotProps:C,...x},ownerState:P,additionalProps:{type:"checkbox",icon:c.cloneElement(S,{fontSize:S.props.fontSize??m}),checkedIcon:c.cloneElement(_,{fontSize:_.props.fontSize??m}),disableRipple:g,slots:b,slotProps:{input:xp(typeof R=="function"?R(P):R,{"data-indeterminate":d})}}});return h.jsx(j,{...k,classes:z})});function Ku(e){return e.substring(2).toLowerCase()}function by(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}function sc(e){const{children:t,disableReactTree:o=!1,mouseEvent:s="onClick",onClickAway:i,touchEvent:a="onTouchEnd"}=e,l=c.useRef(!1),d=c.useRef(null),p=c.useRef(!1),f=c.useRef(!1);c.useEffect(()=>(setTimeout(()=>{p.current=!0},0),()=>{p.current=!1}),[]);const m=ta(wp(t),d),g=jo(C=>{const x=f.current;f.current=!1;const S=wi(d.current);if(!p.current||!d.current||"clientX"in C&&by(C,S))return;if(l.current){l.current=!1;return}let _;C.composedPath?_=C.composedPath().includes(d.current):_=!S.documentElement.contains(C.target)||d.current.contains(C.target),!_&&(o||!x)&&i(C)}),v=C=>x=>{f.current=!0;const S=t.props[C];S&&S(x)},b={ref:m};return a!==!1&&(b[a]=v(a)),c.useEffect(()=>{if(a!==!1){const C=Ku(a),x=wi(d.current),S=()=>{l.current=!0};return x.addEventListener(C,g),x.addEventListener("touchmove",S),()=>{x.removeEventListener(C,g),x.removeEventListener("touchmove",S)}}},[g,a]),s!==!1&&(b[s]=v(s)),c.useEffect(()=>{if(s!==!1){const C=Ku(s),x=wi(d.current);return x.addEventListener(C,g),()=>{x.removeEventListener(C,g)}}},[g,s]),c.cloneElement(t,b)}const _l=typeof Sp({})=="function",Cy=(e,t)=>({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%",...t&&!e.vars&&{colorScheme:e.palette.mode}}),xy=e=>({color:(e.vars||e).palette.text.primary,...e.typography.body1,backgroundColor:(e.vars||e).palette.background.default,"@media print":{backgroundColor:(e.vars||e).palette.common.white}}),Kp=(e,t=!1)=>{var a,l;const o={};t&&e.colorSchemes&&typeof e.getColorSchemeSelector=="function"&&Object.entries(e.colorSchemes).forEach(([d,p])=>{var m,g;const f=e.getColorSchemeSelector(d);f.startsWith("@")?o[f]={":root":{colorScheme:(m=p.palette)==null?void 0:m.mode}}:o[f.replace(/\s*&/,"")]={colorScheme:(g=p.palette)==null?void 0:g.mode}});let s={html:Cy(e,t),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:{margin:0,...xy(e),"&::backdrop":{backgroundColor:(e.vars||e).palette.background.default}},...o};const i=(l=(a=e.components)==null?void 0:a.MuiCssBaseline)==null?void 0:l.styleOverrides;return i&&(s=[s,i]),s},_i="mui-ecs",wy=e=>{const t=Kp(e,!1),o=Array.isArray(t)?t[0]:t;return!e.vars&&o&&(o.html[`:root:has(${_i})`]={colorScheme:e.palette.mode}),e.colorSchemes&&Object.entries(e.colorSchemes).forEach(([s,i])=>{var l,d;const a=e.getColorSchemeSelector(s);a.startsWith("@")?o[a]={[`:root:not(:has(.${_i}))`]:{colorScheme:(l=i.palette)==null?void 0:l.mode}}:o[a.replace(/\s*&/,"")]={[`&:not(:has(.${_i}))`]:{colorScheme:(d=i.palette)==null?void 0:d.mode}}}),t},Sy=Sp(_l?({theme:e,enableColorScheme:t})=>Kp(e,t):({theme:e})=>wy(e));function _y(e){const t=Ut({props:e,name:"MuiCssBaseline"}),{children:o,enableColorScheme:s=!1}=t;return h.jsxs(c.Fragment,{children:[_l&&h.jsx(Sy,{enableColorScheme:s}),!_l&&!s&&h.jsx("span",{className:_i,style:{display:"none"}}),o]})}function Py(e){return Wt("MuiDivider",e)}const Ju=Zt("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),Iy=e=>{const{absolute:t,children:o,classes:s,flexItem:i,light:a,orientation:l,textAlign:d,variant:p}=e;return Kt({root:["root",t&&"absolute",p,a&&"light",l==="vertical"&&"vertical",i&&"flexItem",o&&"withChildren",o&&l==="vertical"&&"withChildrenVertical",d==="right"&&l!=="vertical"&&"textAlignRight",d==="left"&&l!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",l==="vertical"&&"wrapperVertical"]},Py,s)},Ty=Le("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.absolute&&t.absolute,t[o.variant],o.light&&t.light,o.orientation==="vertical"&&t.vertical,o.flexItem&&t.flexItem,o.children&&t.withChildren,o.children&&o.orientation==="vertical"&&t.withChildrenVertical,o.textAlign==="right"&&o.orientation!=="vertical"&&t.textAlignRight,o.textAlign==="left"&&o.orientation!=="vertical"&&t.textAlignLeft]}})(bt(({theme:e})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(e.vars||e).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:e.vars?`rgba(${e.vars.palette.dividerChannel} / 0.08)`:Te(e.palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:e.spacing(2),marginRight:e.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:e.spacing(1),marginBottom:e.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:t})=>!!t.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:t})=>t.children&&t.orientation!=="vertical",style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(e.vars||e).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:t})=>t.orientation==="vertical"&&t.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(e.vars||e).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:t})=>t.textAlign==="right"&&t.orientation!=="vertical",style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:t})=>t.textAlign==="left"&&t.orientation!=="vertical",style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),ky=Le("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.wrapper,o.orientation==="vertical"&&t.wrapperVertical]}})(bt(({theme:e})=>({display:"inline-block",paddingLeft:`calc(${e.spacing(1)} * 1.2)`,paddingRight:`calc(${e.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${e.spacing(1)} * 1.2)`,paddingBottom:`calc(${e.spacing(1)} * 1.2)`}}]}))),ur=c.forwardRef(function(t,o){const s=Ut({props:t,name:"MuiDivider"}),{absolute:i=!1,children:a,className:l,orientation:d="horizontal",component:p=a||d==="vertical"?"div":"hr",flexItem:f=!1,light:m=!1,role:g=p!=="hr"?"separator":void 0,textAlign:v="center",variant:b="fullWidth",...C}=s,x={...s,absolute:i,component:p,flexItem:f,light:m,orientation:d,role:g,textAlign:v,variant:b},S=Iy(x);return h.jsx(Ty,{as:p,className:je(S.root,l),role:g,ref:o,ownerState:x,"aria-orientation":g==="separator"&&(p!=="hr"||d==="vertical")?d:void 0,...C,children:a?h.jsx(ky,{className:S.wrapper,ownerState:x,children:a}):null})});ur&&(ur.muiSkipListHighlight=!0);function My(e,t,o){const s=t.getBoundingClientRect(),i=o&&o.getBoundingClientRect(),a=na(t);let l;if(t.fakeTransform)l=t.fakeTransform;else{const f=a.getComputedStyle(t);l=f.getPropertyValue("-webkit-transform")||f.getPropertyValue("transform")}let d=0,p=0;if(l&&l!=="none"&&typeof l=="string"){const f=l.split("(")[1].split(")")[0].split(",");d=parseInt(f[4],10),p=parseInt(f[5],10)}return e==="left"?i?`translateX(${i.right+d-s.left}px)`:`translateX(${a.innerWidth+d-s.left}px)`:e==="right"?i?`translateX(-${s.right-i.left-d}px)`:`translateX(-${s.left+s.width-d}px)`:e==="up"?i?`translateY(${i.bottom+p-s.top}px)`:`translateY(${a.innerHeight+p-s.top}px)`:i?`translateY(-${s.top-i.top+s.height-p}px)`:`translateY(-${s.top+s.height-p}px)`}function Ay(e){return typeof e=="function"?e():e}function mi(e,t,o){const s=Ay(o),i=My(e,t,s);i&&(t.style.webkitTransform=i,t.style.transform=i)}const Ey=c.forwardRef(function(t,o){const s=zt(),i={enter:s.transitions.easing.easeOut,exit:s.transitions.easing.sharp},a={enter:s.transitions.duration.enteringScreen,exit:s.transitions.duration.leavingScreen},{addEndListener:l,appear:d=!0,children:p,container:f,direction:m="down",easing:g=i,in:v,onEnter:b,onEntered:C,onEntering:x,onExit:S,onExited:_,onExiting:P,style:z,timeout:R=a,TransitionComponent:j=hg,...k}=t,M=c.useRef(null),E=ta(wp(p),M,o),$=D=>V=>{D&&(V===void 0?D(M.current):D(M.current,V))},N=$((D,V)=>{mi(m,D,f),mg(D),b&&b(D,V)}),F=$((D,V)=>{const Z=Du({timeout:R,style:z,easing:g},{mode:"enter"});D.style.webkitTransition=s.transitions.create("-webkit-transform",{...Z}),D.style.transition=s.transitions.create("transform",{...Z}),D.style.webkitTransform="none",D.style.transform="none",x&&x(D,V)}),G=$(C),H=$(P),T=$(D=>{const V=Du({timeout:R,style:z,easing:g},{mode:"exit"});D.style.webkitTransition=s.transitions.create("-webkit-transform",V),D.style.transition=s.transitions.create("transform",V),mi(m,D,f),S&&S(D)}),A=$(D=>{D.style.webkitTransition="",D.style.transition="",_&&_(D)}),B=D=>{l&&l(M.current,D)},W=c.useCallback(()=>{M.current&&mi(m,M.current,f)},[m,f]);return c.useEffect(()=>{if(v||m==="down"||m==="right")return;const D=Wl(()=>{M.current&&mi(m,M.current,f)}),V=na(M.current);return V.addEventListener("resize",D),()=>{D.clear(),V.removeEventListener("resize",D)}},[m,v,f]),c.useEffect(()=>{v||W()},[v,W]),h.jsx(j,{nodeRef:M,onEnter:N,onEntered:G,onEntering:F,onExit:T,onExited:A,onExiting:H,addEndListener:B,appear:d,in:v,timeout:R,...k,children:(D,{ownerState:V,...Z})=>c.cloneElement(p,{ref:E,style:{visibility:D==="exited"&&!v?"hidden":void 0,...z,...p.props.style},...Z})})});function Dy(e){return Wt("MuiDrawer",e)}Zt("MuiDrawer",["root","docked","paper","anchorLeft","anchorRight","anchorTop","anchorBottom","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const Jp=(e,t)=>{const{ownerState:o}=e;return[t.root,(o.variant==="permanent"||o.variant==="persistent")&&t.docked,t.modal]},Ry=e=>{const{classes:t,anchor:o,variant:s}=e,i={root:["root",`anchor${ht(o)}`],docked:[(s==="permanent"||s==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${ht(o)}`,s!=="temporary"&&`paperAnchorDocked${ht(o)}`]};return Kt(i,Dy,t)},Ly=Le(fg,{name:"MuiDrawer",slot:"Root",overridesResolver:Jp})(bt(({theme:e})=>({zIndex:(e.vars||e).zIndex.drawer}))),Fy=Le("div",{shouldForwardProp:ea,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:Jp})({flex:"0 0 auto"}),Oy=Le(Nt,{name:"MuiDrawer",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.paper,t[`paperAnchor${ht(o.anchor)}`],o.variant!=="temporary"&&t[`paperAnchorDocked${ht(o.anchor)}`]]}})(bt(({theme:e})=>({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(e.vars||e).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0,variants:[{props:{anchor:"left"},style:{left:0}},{props:{anchor:"top"},style:{top:0,left:0,right:0,height:"auto",maxHeight:"100%"}},{props:{anchor:"right"},style:{right:0}},{props:{anchor:"bottom"},style:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"}},{props:({ownerState:t})=>t.anchor==="left"&&t.variant!=="temporary",style:{borderRight:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:t})=>t.anchor==="top"&&t.variant!=="temporary",style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:t})=>t.anchor==="right"&&t.variant!=="temporary",style:{borderLeft:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:t})=>t.anchor==="bottom"&&t.variant!=="temporary",style:{borderTop:`1px solid ${(e.vars||e).palette.divider}`}}]}))),qp={left:"right",right:"left",top:"down",bottom:"up"};function Ny(e){return["left","right"].includes(e)}function zy({direction:e},t){return e==="rtl"&&Ny(t)?qp[t]:t}const $y=c.forwardRef(function(t,o){const s=Ut({props:t,name:"MuiDrawer"}),i=zt(),a=oa(),l={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{anchor:d="left",BackdropProps:p,children:f,className:m,elevation:g=16,hideBackdrop:v=!1,ModalProps:{BackdropProps:b,...C}={},onClose:x,open:S=!1,PaperProps:_={},SlideProps:P,TransitionComponent:z,transitionDuration:R=l,variant:j="temporary",slots:k={},slotProps:M={},...E}=s,$=c.useRef(!1);c.useEffect(()=>{$.current=!0},[]);const N=zy({direction:a?"rtl":"ltr"},d),G={...s,anchor:d,elevation:g,open:S,variant:j,...E},H=Ry(G),T={slots:{transition:z,...k},slotProps:{paper:_,transition:P,...M,backdrop:xp(M.backdrop||{...p,...b},{transitionDuration:R})}},[A,B]=Pt("root",{ref:o,elementType:Ly,className:je(H.root,H.modal,m),shouldForwardComponentProp:!0,ownerState:G,externalForwardedProps:{...T,...E,...C},additionalProps:{open:S,onClose:x,hideBackdrop:v,slots:{backdrop:T.slots.backdrop},slotProps:{backdrop:T.slotProps.backdrop}}}),[W,D]=Pt("paper",{elementType:Oy,shouldForwardComponentProp:!0,className:je(H.paper,_.className),ownerState:G,externalForwardedProps:T,additionalProps:{elevation:j==="temporary"?g:0,square:!0}}),[V,Z]=Pt("docked",{elementType:Fy,ref:o,className:je(H.root,H.docked,m),ownerState:G,externalForwardedProps:T,additionalProps:E}),[K,Q]=Pt("transition",{elementType:Ey,ownerState:G,externalForwardedProps:T,additionalProps:{in:S,direction:qp[N],timeout:R,appear:$.current}}),Y=h.jsx(W,{...D,children:f});if(j==="permanent")return h.jsx(V,{...Z,children:Y});const ee=h.jsx(K,{...Q,children:Y});return j==="persistent"?h.jsx(V,{...Z,children:ee}):h.jsx(A,{...B,children:ee})});function By(e){return Wt("MuiFormControlLabel",e)}const gs=Zt("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),Hy=e=>{const{classes:t,disabled:o,labelPlacement:s,error:i,required:a}=e,l={root:["root",o&&"disabled",`labelPlacement${ht(s)}`,i&&"error",a&&"required"],label:["label",o&&"disabled"],asterisk:["asterisk",i&&"error"]};return Kt(l,By,t)},jy=Le("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[{[`& .${gs.label}`]:t.label},t.root,t[`labelPlacement${ht(o.labelPlacement)}`]]}})(bt(({theme:e})=>({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${gs.disabled}`]:{cursor:"default"},[`& .${gs.label}`]:{[`&.${gs.disabled}`]:{color:(e.vars||e).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:({labelPlacement:t})=>t==="start"||t==="top"||t==="bottom",style:{marginLeft:16}}]}))),Gy=Le("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(bt(({theme:e})=>({[`&.${gs.error}`]:{color:(e.vars||e).palette.error.main}}))),Vy=c.forwardRef(function(t,o){const s=Ut({props:t,name:"MuiFormControlLabel"}),{checked:i,className:a,componentsProps:l={},control:d,disabled:p,disableTypography:f,inputRef:m,label:g,labelPlacement:v="end",name:b,onChange:C,required:x,slots:S={},slotProps:_={},value:P,...z}=s,R=Cp(),j=p??d.props.disabled??(R==null?void 0:R.disabled),k=x??d.props.required,M={disabled:j,required:k};["checked","name","onChange","value","inputRef"].forEach(A=>{typeof d.props[A]>"u"&&typeof s[A]<"u"&&(M[A]=s[A])});const E=gg({props:s,muiFormControl:R,states:["error"]}),$={...s,disabled:j,labelPlacement:v,required:k,error:E.error},N=Hy($),F={slots:S,slotProps:{...l,..._}},[G,H]=Pt("typography",{elementType:yt,externalForwardedProps:F,ownerState:$});let T=g;return T!=null&&T.type!==yt&&!f&&(T=h.jsx(G,{component:"span",...H,className:je(N.label,H==null?void 0:H.className),children:T})),h.jsxs(jy,{className:je(N.root,a),ownerState:$,ref:o,...z,children:[c.cloneElement(d,M),k?h.jsxs("div",{children:[T,h.jsxs(Gy,{ownerState:$,"aria-hidden":!0,className:N.asterisk,children:["â€‰","*"]})]}):T]})});function Wy(e){return Wt("MuiListItem",e)}Zt("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);function Zy(e){return Wt("MuiListItemSecondaryAction",e)}Zt("MuiListItemSecondaryAction",["root","disableGutters"]);const Uy=e=>{const{disableGutters:t,classes:o}=e;return Kt({root:["root",t&&"disableGutters"]},Zy,o)},Ky=Le("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.disableGutters&&t.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:({ownerState:e})=>e.disableGutters,style:{right:0}}]}),Xp=c.forwardRef(function(t,o){const s=Ut({props:t,name:"MuiListItemSecondaryAction"}),{className:i,...a}=s,l=c.useContext(rr),d={...s,disableGutters:l.disableGutters},p=Uy(d);return h.jsx(Ky,{className:je(p.root,i),ownerState:d,ref:o,...a})});Xp.muiName="ListItemSecondaryAction";const Jy=(e,t)=>{const{ownerState:o}=e;return[t.root,o.dense&&t.dense,o.alignItems==="flex-start"&&t.alignItemsFlexStart,o.divider&&t.divider,!o.disableGutters&&t.gutters,!o.disablePadding&&t.padding,o.hasSecondaryAction&&t.secondaryAction]},qy=e=>{const{alignItems:t,classes:o,dense:s,disableGutters:i,disablePadding:a,divider:l,hasSecondaryAction:d}=e;return Kt({root:["root",s&&"dense",!i&&"gutters",!a&&"padding",l&&"divider",t==="flex-start"&&"alignItemsFlexStart",d&&"secondaryAction"],container:["container"]},Wy,o)},Xy=Le("div",{name:"MuiListItem",slot:"Root",overridesResolver:Jy})(bt(({theme:e})=>({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:({ownerState:t})=>!t.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:t})=>!t.disablePadding&&t.dense,style:{paddingTop:4,paddingBottom:4}},{props:({ownerState:t})=>!t.disablePadding&&!t.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:t})=>!t.disablePadding&&!!t.secondaryAction,style:{paddingRight:48}},{props:({ownerState:t})=>!!t.secondaryAction,style:{[`& > .${yg.root}`]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:t})=>t.divider,style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:t})=>t.button,style:{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:({ownerState:t})=>t.hasSecondaryAction,style:{paddingRight:48}}]}))),Yy=Le("li",{name:"MuiListItem",slot:"Container",overridesResolver:(e,t)=>t.container})({position:"relative"}),Fi=c.forwardRef(function(t,o){const s=Ut({props:t,name:"MuiListItem"}),{alignItems:i="center",children:a,className:l,component:d,components:p={},componentsProps:f={},ContainerComponent:m="li",ContainerProps:{className:g,...v}={},dense:b=!1,disableGutters:C=!1,disablePadding:x=!1,divider:S=!1,secondaryAction:_,slotProps:P={},slots:z={},...R}=s,j=c.useContext(rr),k=c.useMemo(()=>({dense:b||j.dense||!1,alignItems:i,disableGutters:C}),[i,j.dense,b,C]),M=c.useRef(null),E=c.Children.toArray(a),$=E.length&&vg(E[E.length-1],["ListItemSecondaryAction"]),N={...s,alignItems:i,dense:k.dense,disableGutters:C,disablePadding:x,divider:S,hasSecondaryAction:$},F=qy(N),G=ta(M,o),H=z.root||p.Root||Xy,T=P.root||f.root||{},A={className:je(F.root,T.className,l),...R};let B=d||"li";return $?(B=!A.component&&!d?"div":B,m==="li"&&(B==="li"?B="div":A.component==="li"&&(A.component="div")),h.jsx(rr.Provider,{value:k,children:h.jsxs(Yy,{as:m,className:je(F.container,g),ref:G,ownerState:N,...v,children:[h.jsx(H,{...T,...!Ru(H)&&{as:B,ownerState:{...N,...T.ownerState}},...A,children:E}),E.pop()]})})):h.jsx(rr.Provider,{value:k,children:h.jsxs(H,{...T,as:B,ref:G,...!Ru(H)&&{ownerState:{...N,...T.ownerState}},...A,children:[E,_&&h.jsx(Xp,{children:_})]})})});function Qy(e){return Wt("MuiListItemIcon",e)}const qu=Zt("MuiListItemIcon",["root","alignItemsFlexStart"]),eb=e=>{const{alignItems:t,classes:o}=e;return Kt({root:["root",t==="flex-start"&&"alignItemsFlexStart"]},Qy,o)},tb=Le("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.alignItems==="flex-start"&&t.alignItemsFlexStart]}})(bt(({theme:e})=>({minWidth:56,color:(e.vars||e).palette.action.active,flexShrink:0,display:"inline-flex",variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}))),Un=c.forwardRef(function(t,o){const s=Ut({props:t,name:"MuiListItemIcon"}),{className:i,...a}=s,l=c.useContext(rr),d={...s,alignItems:l.alignItems},p=eb(d);return h.jsx(tb,{className:je(p.root,i),ownerState:d,ref:o,...a})});function nb(e){return Wt("MuiMenuItem",e)}const ds=Zt("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),ob=(e,t)=>{const{ownerState:o}=e;return[t.root,o.dense&&t.dense,o.divider&&t.divider,!o.disableGutters&&t.gutters]},rb=e=>{const{disabled:t,dense:o,divider:s,disableGutters:i,selected:a,classes:l}=e,p=Kt({root:["root",o&&"dense",t&&"disabled",!i&&"gutters",s&&"divider",a&&"selected"]},nb,l);return{...l,...p}},sb=Le(Fs,{shouldForwardProp:e=>ea(e)||e==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:ob})(bt(({theme:e})=>({...e.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${ds.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Te(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${ds.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Te(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${ds.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Te(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Te(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${ds.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${ds.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${Ju.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${Ju.inset}`]:{marginLeft:52},[`& .${Lu.root}`]:{marginTop:0,marginBottom:0},[`& .${Lu.inset}`]:{paddingLeft:36},[`& .${qu.root}`]:{minWidth:36},variants:[{props:({ownerState:t})=>!t.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:t})=>t.divider,style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:t})=>!t.dense,style:{[e.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:t})=>t.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...e.typography.body2,[`& .${qu.root} svg`]:{fontSize:"1.25rem"}}}]}))),un=c.forwardRef(function(t,o){const s=Ut({props:t,name:"MuiMenuItem"}),{autoFocus:i=!1,component:a="li",dense:l=!1,divider:d=!1,disableGutters:p=!1,focusVisibleClassName:f,role:m="menuitem",tabIndex:g,className:v,...b}=s,C=c.useContext(rr),x=c.useMemo(()=>({dense:l||C.dense||!1,disableGutters:p}),[C.dense,l,p]),S=c.useRef(null);Qi(()=>{i&&S.current&&S.current.focus()},[i]);const _={...s,dense:x.dense,divider:d,disableGutters:p},P=rb(s),z=ta(S,o);let R;return s.disabled||(R=g!==void 0?g:-1),h.jsx(rr.Provider,{value:x,children:h.jsx(sb,{ref:z,role:m,tabIndex:R,component:a,focusVisibleClassName:je(P.focusVisible,f),className:je(P.root,v),...b,ownerState:_,classes:P})})}),ib=tt(h.jsx("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),"FirstPage"),ab=tt(h.jsx("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),"LastPage");function lb(e){return Wt("MuiSkeleton",e)}Zt("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const cb=e=>{const{classes:t,variant:o,animation:s,hasChildren:i,width:a,height:l}=e;return Kt({root:["root",o,s,i&&"withChildren",i&&!a&&"fitContent",i&&!l&&"heightAuto"]},lb,t)},Pl=Pp`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`,Il=Pp`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`,ub=typeof Pl!="string"?_p`
        animation: ${Pl} 2s ease-in-out 0.5s infinite;
      `:null,db=typeof Il!="string"?_p`
        &::after {
          animation: ${Il} 2s linear 0.5s infinite;
        }
      `:null,pb=Le("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,t[o.variant],o.animation!==!1&&t[o.animation],o.hasChildren&&t.withChildren,o.hasChildren&&!o.width&&t.fitContent,o.hasChildren&&!o.height&&t.heightAuto]}})(bt(({theme:e})=>{const t=av(e.shape.borderRadius)||"px",o=lv(e.shape.borderRadius);return{display:"block",backgroundColor:e.vars?e.vars.palette.Skeleton.bg:Te(e.palette.text.primary,e.palette.mode==="light"?.11:.13),height:"1.2em",variants:[{props:{variant:"text"},style:{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${o}${t}/${Math.round(o/.6*10)/10}${t}`,"&:empty:before":{content:'"\\00a0"'}}},{props:{variant:"circular"},style:{borderRadius:"50%"}},{props:{variant:"rounded"},style:{borderRadius:(e.vars||e).shape.borderRadius}},{props:({ownerState:s})=>s.hasChildren,style:{"& > *":{visibility:"hidden"}}},{props:({ownerState:s})=>s.hasChildren&&!s.width,style:{maxWidth:"fit-content"}},{props:({ownerState:s})=>s.hasChildren&&!s.height,style:{height:"auto"}},{props:{animation:"pulse"},style:ub||{animation:`${Pl} 2s ease-in-out 0.5s infinite`}},{props:{animation:"wave"},style:{position:"relative",overflow:"hidden",WebkitMaskImage:"-webkit-radial-gradient(white, black)","&::after":{background:`linear-gradient(
                90deg,
                transparent,
                ${(e.vars||e).palette.action.hover},
                transparent
              )`,content:'""',position:"absolute",transform:"translateX(-100%)",bottom:0,left:0,right:0,top:0}}},{props:{animation:"wave"},style:db||{"&::after":{animation:`${Il} 2s linear 0.5s infinite`}}}]}})),hb=c.forwardRef(function(t,o){const s=Ut({props:t,name:"MuiSkeleton"}),{animation:i="pulse",className:a,component:l="span",height:d,style:p,variant:f="text",width:m,...g}=s,v={...s,animation:i,component:l,variant:f,hasChildren:!!g.children},b=cb(v);return h.jsx(pb,{as:l,ref:o,className:je(b.root,a),ownerState:v,...g,style:{width:m,height:d,...p}})});function mb(e){return Wt("MuiSwitch",e)}const xn=Zt("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),fb=e=>{const{classes:t,edge:o,size:s,color:i,checked:a,disabled:l}=e,d={root:["root",o&&`edge${ht(o)}`,`size${ht(s)}`],switchBase:["switchBase",`color${ht(i)}`,a&&"checked",l&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},p=Kt(d,mb,t);return{...t,...p}},gb=Le("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.edge&&t[`edge${ht(o.edge)}`],t[`size${ht(o.size)}`]]}})({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${xn.thumb}`]:{width:16,height:16},[`& .${xn.switchBase}`]:{padding:4,[`&.${xn.checked}`]:{transform:"translateX(16px)"}}}}]}),vb=Le(Up,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.switchBase,{[`& .${xn.input}`]:t.input},o.color!=="default"&&t[`color${ht(o.color)}`]]}})(bt(({theme:e})=>({position:"absolute",top:0,left:0,zIndex:1,color:e.vars?e.vars.palette.Switch.defaultColor:`${e.palette.mode==="light"?e.palette.common.white:e.palette.grey[300]}`,transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),[`&.${xn.checked}`]:{transform:"translateX(20px)"},[`&.${xn.disabled}`]:{color:e.vars?e.vars.palette.Switch.defaultDisabledColor:`${e.palette.mode==="light"?e.palette.grey[100]:e.palette.grey[600]}`},[`&.${xn.checked} + .${xn.track}`]:{opacity:.5},[`&.${xn.disabled} + .${xn.track}`]:{opacity:e.vars?e.vars.opacity.switchTrackDisabled:`${e.palette.mode==="light"?.12:.2}`},[`& .${xn.input}`]:{left:"-100%",width:"300%"}})),bt(({theme:e})=>({"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Te(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(e.palette).filter(Ts(["light"])).map(([t])=>({props:{color:t},style:{[`&.${xn.checked}`]:{color:(e.vars||e).palette[t].main,"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Te(e.palette[t].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${xn.disabled}`]:{color:e.vars?e.vars.palette.Switch[`${t}DisabledColor`]:`${e.palette.mode==="light"?Ip(e.palette[t].main,.62):Tp(e.palette[t].main,.55)}`}},[`&.${xn.checked} + .${xn.track}`]:{backgroundColor:(e.vars||e).palette[t].main}}}))]}))),yb=Le("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(e,t)=>t.track})(bt(({theme:e})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:e.vars?e.vars.palette.common.onBackground:`${e.palette.mode==="light"?e.palette.common.black:e.palette.common.white}`,opacity:e.vars?e.vars.opacity.switchTrack:`${e.palette.mode==="light"?.38:.3}`}))),bb=Le("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(e,t)=>t.thumb})(bt(({theme:e})=>({boxShadow:(e.vars||e).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}))),Cb=c.forwardRef(function(t,o){const s=Ut({props:t,name:"MuiSwitch"}),{className:i,color:a="primary",edge:l=!1,size:d="medium",sx:p,slots:f={},slotProps:m={},...g}=s,v={...s,color:a,edge:l,size:d},b=fb(v),C={slots:f,slotProps:m},[x,S]=Pt("root",{className:je(b.root,i),elementType:gb,externalForwardedProps:C,ownerState:v,additionalProps:{sx:p}}),[_,P]=Pt("thumb",{className:b.thumb,elementType:bb,externalForwardedProps:C,ownerState:v}),z=h.jsx(_,{...P}),[R,j]=Pt("track",{className:b.track,elementType:yb,externalForwardedProps:C,ownerState:v});return h.jsxs(x,{...S,children:[h.jsx(vb,{type:"checkbox",icon:z,checkedIcon:z,ref:o,ownerState:v,...g,classes:{...b,root:b.switchBase},slots:{...f.switchBase&&{root:f.switchBase},...f.input&&{input:f.input}},slotProps:{...m.switchBase&&{root:typeof m.switchBase=="function"?m.switchBase(v):m.switchBase},...m.input&&{input:typeof m.input=="function"?m.input(v):m.input}}}),h.jsx(R,{...j})]})});function xb(e){return Wt("MuiTab",e)}const jn=Zt("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper","icon"]),wb=e=>{const{classes:t,textColor:o,fullWidth:s,wrapped:i,icon:a,label:l,selected:d,disabled:p}=e,f={root:["root",a&&l&&"labelIcon",`textColor${ht(o)}`,s&&"fullWidth",i&&"wrapped",d&&"selected",p&&"disabled"],icon:["iconWrapper","icon"]};return Kt(f,xb,t)},Sb=Le(Fs,{name:"MuiTab",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.label&&o.icon&&t.labelIcon,t[`textColor${ht(o.textColor)}`],o.fullWidth&&t.fullWidth,o.wrapped&&t.wrapped,{[`& .${jn.iconWrapper}`]:t.iconWrapper},{[`& .${jn.icon}`]:t.icon}]}})(bt(({theme:e})=>({...e.typography.button,maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center",lineHeight:1.25,variants:[{props:({ownerState:t})=>t.label&&(t.iconPosition==="top"||t.iconPosition==="bottom"),style:{flexDirection:"column"}},{props:({ownerState:t})=>t.label&&t.iconPosition!=="top"&&t.iconPosition!=="bottom",style:{flexDirection:"row"}},{props:({ownerState:t})=>t.icon&&t.label,style:{minHeight:72,paddingTop:9,paddingBottom:9}},{props:({ownerState:t,iconPosition:o})=>t.icon&&t.label&&o==="top",style:{[`& > .${jn.icon}`]:{marginBottom:6}}},{props:({ownerState:t,iconPosition:o})=>t.icon&&t.label&&o==="bottom",style:{[`& > .${jn.icon}`]:{marginTop:6}}},{props:({ownerState:t,iconPosition:o})=>t.icon&&t.label&&o==="start",style:{[`& > .${jn.icon}`]:{marginRight:e.spacing(1)}}},{props:({ownerState:t,iconPosition:o})=>t.icon&&t.label&&o==="end",style:{[`& > .${jn.icon}`]:{marginLeft:e.spacing(1)}}},{props:{textColor:"inherit"},style:{color:"inherit",opacity:.6,[`&.${jn.selected}`]:{opacity:1},[`&.${jn.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}}},{props:{textColor:"primary"},style:{color:(e.vars||e).palette.text.secondary,[`&.${jn.selected}`]:{color:(e.vars||e).palette.primary.main},[`&.${jn.disabled}`]:{color:(e.vars||e).palette.text.disabled}}},{props:{textColor:"secondary"},style:{color:(e.vars||e).palette.text.secondary,[`&.${jn.selected}`]:{color:(e.vars||e).palette.secondary.main},[`&.${jn.disabled}`]:{color:(e.vars||e).palette.text.disabled}}},{props:({ownerState:t})=>t.fullWidth,style:{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"}},{props:({ownerState:t})=>t.wrapped,style:{fontSize:e.typography.pxToRem(12)}}]}))),Xu=c.forwardRef(function(t,o){const s=Ut({props:t,name:"MuiTab"}),{className:i,disabled:a=!1,disableFocusRipple:l=!1,fullWidth:d,icon:p,iconPosition:f="top",indicator:m,label:g,onChange:v,onClick:b,onFocus:C,selected:x,selectionFollowsFocus:S,textColor:_="inherit",value:P,wrapped:z=!1,...R}=s,j={...s,disabled:a,disableFocusRipple:l,selected:x,icon:!!p,iconPosition:f,label:!!g,fullWidth:d,textColor:_,wrapped:z},k=wb(j),M=p&&g&&c.isValidElement(p)?c.cloneElement(p,{className:je(k.icon,p.props.className)}):p,E=N=>{!x&&v&&v(N,P),b&&b(N)},$=N=>{S&&!x&&v&&v(N,P),C&&C(N)};return h.jsxs(Sb,{focusRipple:!l,className:je(k.root,i),ref:o,role:"tab","aria-selected":x,disabled:a,onClick:E,onFocus:$,ownerState:j,tabIndex:x?0:-1,...R,children:[f==="top"||f==="start"?h.jsxs(c.Fragment,{children:[M,g]}):h.jsxs(c.Fragment,{children:[g,M]}),m]})});function _b(e){return Wt("MuiToolbar",e)}Zt("MuiToolbar",["root","gutters","regular","dense"]);const Pb=e=>{const{classes:t,disableGutters:o,variant:s}=e;return Kt({root:["root",!o&&"gutters",s]},_b,t)},Ib=Le("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,!o.disableGutters&&t.gutters,t[o.variant]]}})(bt(({theme:e})=>({position:"relative",display:"flex",alignItems:"center",variants:[{props:({ownerState:t})=>!t.disableGutters,style:{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}}},{props:{variant:"dense"},style:{minHeight:48}},{props:{variant:"regular"},style:e.mixins.toolbar}]}))),Yp=c.forwardRef(function(t,o){const s=Ut({props:t,name:"MuiToolbar"}),{className:i,component:a="div",disableGutters:l=!1,variant:d="regular",...p}=s,f={...s,component:a,disableGutters:l,variant:d},m=Pb(f);return h.jsx(Ib,{as:a,className:je(m.root,i),ref:o,ownerState:f,...p})}),Qp=tt(h.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),eh=tt(h.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight"),Tb=c.forwardRef(function(t,o){const{backIconButtonProps:s,count:i,disabled:a=!1,getItemAriaLabel:l,nextIconButtonProps:d,onPageChange:p,page:f,rowsPerPage:m,showFirstButton:g,showLastButton:v,slots:b={},slotProps:C={},...x}=t,S=oa(),_=K=>{p(K,0)},P=K=>{p(K,f-1)},z=K=>{p(K,f+1)},R=K=>{p(K,Math.max(0,Math.ceil(i/m)-1))},j=b.firstButton??fn,k=b.lastButton??fn,M=b.nextButton??fn,E=b.previousButton??fn,$=b.firstButtonIcon??ib,N=b.lastButtonIcon??ab,F=b.nextButtonIcon??eh,G=b.previousButtonIcon??Qp,H=S?k:j,T=S?M:E,A=S?E:M,B=S?j:k,W=S?C.lastButton:C.firstButton,D=S?C.nextButton:C.previousButton,V=S?C.previousButton:C.nextButton,Z=S?C.firstButton:C.lastButton;return h.jsxs("div",{ref:o,...x,children:[g&&h.jsx(H,{onClick:_,disabled:a||f===0,"aria-label":l("first",f),title:l("first",f),...W,children:S?h.jsx(N,{...C.lastButtonIcon}):h.jsx($,{...C.firstButtonIcon})}),h.jsx(T,{onClick:P,disabled:a||f===0,color:"inherit","aria-label":l("previous",f),title:l("previous",f),...D??s,children:S?h.jsx(F,{...C.nextButtonIcon}):h.jsx(G,{...C.previousButtonIcon})}),h.jsx(A,{onClick:z,disabled:a||(i!==-1?f>=Math.ceil(i/m)-1:!1),color:"inherit","aria-label":l("next",f),title:l("next",f),...V??d,children:S?h.jsx(G,{...C.previousButtonIcon}):h.jsx(F,{...C.nextButtonIcon})}),v&&h.jsx(B,{onClick:R,disabled:a||f>=Math.ceil(i/m)-1,"aria-label":l("last",f),title:l("last",f),...Z,children:S?h.jsx($,{...C.firstButtonIcon}):h.jsx(N,{...C.lastButtonIcon})})]})});function kb(e){return Wt("MuiTablePagination",e)}const sr=Zt("MuiTablePagination",["root","toolbar","spacer","selectLabel","selectRoot","select","selectIcon","input","menuItem","displayedRows","actions"]);var Yu;const Mb=Le(xl,{name:"MuiTablePagination",slot:"Root",overridesResolver:(e,t)=>t.root})(bt(({theme:e})=>({overflow:"auto",color:(e.vars||e).palette.text.primary,fontSize:e.typography.pxToRem(14),"&:last-child":{padding:0}}))),Ab=Le(Yp,{name:"MuiTablePagination",slot:"Toolbar",overridesResolver:(e,t)=>({[`& .${sr.actions}`]:t.actions,...t.toolbar})})(bt(({theme:e})=>({minHeight:52,paddingRight:2,[`${e.breakpoints.up("xs")} and (orientation: landscape)`]:{minHeight:52},[e.breakpoints.up("sm")]:{minHeight:52,paddingRight:2},[`& .${sr.actions}`]:{flexShrink:0,marginLeft:20}}))),Eb=Le("div",{name:"MuiTablePagination",slot:"Spacer",overridesResolver:(e,t)=>t.spacer})({flex:"1 1 100%"}),Db=Le("p",{name:"MuiTablePagination",slot:"SelectLabel",overridesResolver:(e,t)=>t.selectLabel})(bt(({theme:e})=>({...e.typography.body2,flexShrink:0}))),Rb=Le(kp,{name:"MuiTablePagination",slot:"Select",overridesResolver:(e,t)=>({[`& .${sr.selectIcon}`]:t.selectIcon,[`& .${sr.select}`]:t.select,...t.input,...t.selectRoot})})({color:"inherit",fontSize:"inherit",flexShrink:0,marginRight:32,marginLeft:8,[`& .${sr.select}`]:{paddingLeft:8,paddingRight:24,textAlign:"right",textAlignLast:"right"}}),Lb=Le(un,{name:"MuiTablePagination",slot:"MenuItem",overridesResolver:(e,t)=>t.menuItem})({}),Fb=Le("p",{name:"MuiTablePagination",slot:"DisplayedRows",overridesResolver:(e,t)=>t.displayedRows})(bt(({theme:e})=>({...e.typography.body2,flexShrink:0})));function Ob({from:e,to:t,count:o}){return`${e}â€“${t} of ${o!==-1?o:`more than ${t}`}`}function Nb(e){return`Go to ${e} page`}const zb=e=>{const{classes:t}=e;return Kt({root:["root"],toolbar:["toolbar"],spacer:["spacer"],selectLabel:["selectLabel"],select:["select"],input:["input"],selectIcon:["selectIcon"],menuItem:["menuItem"],displayedRows:["displayedRows"],actions:["actions"]},kb,t)},$b=c.forwardRef(function(t,o){const s=Ut({props:t,name:"MuiTablePagination"}),{ActionsComponent:i=Tb,backIconButtonProps:a,colSpan:l,component:d=xl,count:p,disabled:f=!1,getItemAriaLabel:m=Nb,labelDisplayedRows:g=Ob,labelRowsPerPage:v="Rows per page:",nextIconButtonProps:b,onPageChange:C,onRowsPerPageChange:x,page:S,rowsPerPage:_,rowsPerPageOptions:P=[10,25,50,100],SelectProps:z={},showFirstButton:R=!1,showLastButton:j=!1,slotProps:k={},slots:M={},...E}=s,$=s,N=zb($),F=(k==null?void 0:k.select)??z,G=F.native?"option":Lb;let H;(d===xl||d==="td")&&(H=l||1e3);const T=Zr(F.id),A=Zr(F.labelId),B=()=>p===-1?(S+1)*_:_===-1?p:Math.min(p,(S+1)*_),W={slots:M,slotProps:k},[D,V]=Pt("root",{ref:o,className:N.root,elementType:Mb,externalForwardedProps:{...W,component:d,...E},ownerState:$,additionalProps:{colSpan:H}}),[Z,K]=Pt("toolbar",{className:N.toolbar,elementType:Ab,externalForwardedProps:W,ownerState:$}),[Q,Y]=Pt("spacer",{className:N.spacer,elementType:Eb,externalForwardedProps:W,ownerState:$}),[ee,q]=Pt("selectLabel",{className:N.selectLabel,elementType:Db,externalForwardedProps:W,ownerState:$,additionalProps:{id:A}}),[te,ae]=Pt("select",{className:N.select,elementType:Rb,externalForwardedProps:W,ownerState:$}),[X,ve]=Pt("menuItem",{className:N.menuItem,elementType:G,externalForwardedProps:W,ownerState:$}),[Ce,le]=Pt("displayedRows",{className:N.displayedRows,elementType:Fb,externalForwardedProps:W,ownerState:$});return h.jsx(D,{...V,children:h.jsxs(Z,{...K,children:[h.jsx(Q,{...Y}),P.length>1&&h.jsx(ee,{...q,children:v}),P.length>1&&h.jsx(te,{variant:"standard",...!F.variant&&{input:Yu||(Yu=h.jsx(Zl,{}))},value:_,onChange:x,id:T,labelId:A,...F,classes:{...F.classes,root:je(N.input,N.selectRoot,(F.classes||{}).root),select:je(N.select,(F.classes||{}).select),icon:je(N.selectIcon,(F.classes||{}).icon)},disabled:f,...ae,children:P.map(ce=>c.createElement(X,{...ve,key:ce.label?ce.label:ce,value:ce.value?ce.value:ce},ce.label?ce.label:ce))}),h.jsx(Ce,{...le,children:g({from:p===0?0:S*_+1,to:B(),count:p===-1?-1:p,page:S})}),h.jsx(i,{className:N.actions,backIconButtonProps:a,count:p,nextIconButtonProps:b,onPageChange:C,page:S,rowsPerPage:_,showFirstButton:R,showLastButton:j,slotProps:k.actions,slots:M.actions,getItemAriaLabel:m,disabled:f})]})})});function Bb(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}function Hb(e,t,o,s={},i=()=>{}){const{ease:a=Bb,duration:l=300}=s;let d=null;const p=t[e];let f=!1;const m=()=>{f=!0},g=v=>{if(f){i(new Error("Animation cancelled"));return}d===null&&(d=v);const b=Math.min(1,(v-d)/l);if(t[e]=a(b)*(o-p)+p,b>=1){requestAnimationFrame(()=>{i(null)});return}requestAnimationFrame(g)};return p===o?(i(new Error("Element already at target position")),m):(requestAnimationFrame(g),m)}const jb={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function Gb(e){const{onChange:t,...o}=e,s=c.useRef(),i=c.useRef(null),a=()=>{s.current=i.current.offsetHeight-i.current.clientHeight};return Qi(()=>{const l=Wl(()=>{const p=s.current;a(),p!==s.current&&t(s.current)}),d=na(i.current);return d.addEventListener("resize",l),()=>{l.clear(),d.removeEventListener("resize",l)}},[t]),c.useEffect(()=>{a(),t(s.current)},[t]),h.jsx("div",{style:jb,...o,ref:i})}function Vb(e){return Wt("MuiTabScrollButton",e)}const Wb=Zt("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),Zb=e=>{const{classes:t,orientation:o,disabled:s}=e;return Kt({root:["root",o,s&&"disabled"]},Vb,t)},Ub=Le(Fs,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.orientation&&t[o.orientation]]}})({width:40,flexShrink:0,opacity:.8,[`&.${Wb.disabled}`]:{opacity:0},variants:[{props:{orientation:"vertical"},style:{width:"100%",height:40,"& svg":{transform:"var(--TabScrollButton-svgRotate)"}}}]}),Kb=c.forwardRef(function(t,o){const s=Ut({props:t,name:"MuiTabScrollButton"}),{className:i,slots:a={},slotProps:l={},direction:d,orientation:p,disabled:f,...m}=s,g=oa(),v={isRtl:g,...s},b=Zb(v),C=a.StartScrollButtonIcon??Qp,x=a.EndScrollButtonIcon??eh,S=Ri({elementType:C,externalSlotProps:l.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:v}),_=Ri({elementType:x,externalSlotProps:l.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:v});return h.jsx(Ub,{component:"div",className:je(b.root,i),ref:o,role:null,ownerState:v,tabIndex:null,...m,style:{...m.style,...p==="vertical"&&{"--TabScrollButton-svgRotate":`rotate(${g?-90:90}deg)`}},children:d==="left"?h.jsx(C,{...S}):h.jsx(x,{..._})})});function Jb(e){return Wt("MuiTabs",e)}const cl=Zt("MuiTabs",["root","vertical","list","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),Qu=(e,t)=>e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:e.firstChild,ed=(e,t)=>e===t?e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:e.lastChild,fi=(e,t,o)=>{let s=!1,i=o(e,t);for(;i;){if(i===e.firstChild){if(s)return;s=!0}const a=i.disabled||i.getAttribute("aria-disabled")==="true";if(!i.hasAttribute("tabindex")||a)i=o(e,i);else{i.focus();return}}},qb=e=>{const{vertical:t,fixed:o,hideScrollbar:s,scrollableX:i,scrollableY:a,centered:l,scrollButtonsHideMobile:d,classes:p}=e;return Kt({root:["root",t&&"vertical"],scroller:["scroller",o&&"fixed",s&&"hideScrollbar",i&&"scrollableX",a&&"scrollableY"],list:["list","flexContainer",t&&"flexContainerVertical",t&&"vertical",l&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",d&&"scrollButtonsHideMobile"],scrollableX:[i&&"scrollableX"],hideScrollbar:[s&&"hideScrollbar"]},Jb,p)},Xb=Le("div",{name:"MuiTabs",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[{[`& .${cl.scrollButtons}`]:t.scrollButtons},{[`& .${cl.scrollButtons}`]:o.scrollButtonsHideMobile&&t.scrollButtonsHideMobile},t.root,o.vertical&&t.vertical]}})(bt(({theme:e})=>({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex",variants:[{props:({ownerState:t})=>t.vertical,style:{flexDirection:"column"}},{props:({ownerState:t})=>t.scrollButtonsHideMobile,style:{[`& .${cl.scrollButtons}`]:{[e.breakpoints.down("sm")]:{display:"none"}}}}]}))),Yb=Le("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.scroller,o.fixed&&t.fixed,o.hideScrollbar&&t.hideScrollbar,o.scrollableX&&t.scrollableX,o.scrollableY&&t.scrollableY]}})({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap",variants:[{props:({ownerState:e})=>e.fixed,style:{overflowX:"hidden",width:"100%"}},{props:({ownerState:e})=>e.hideScrollbar,style:{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}},{props:({ownerState:e})=>e.scrollableX,style:{overflowX:"auto",overflowY:"hidden"}},{props:({ownerState:e})=>e.scrollableY,style:{overflowY:"auto",overflowX:"hidden"}}]}),Qb=Le("div",{name:"MuiTabs",slot:"List",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.list,t.flexContainer,o.vertical&&t.flexContainerVertical,o.centered&&t.centered]}})({display:"flex",variants:[{props:({ownerState:e})=>e.vertical,style:{flexDirection:"column"}},{props:({ownerState:e})=>e.centered,style:{justifyContent:"center"}}]}),e0=Le("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(e,t)=>t.indicator})(bt(({theme:e})=>({position:"absolute",height:2,bottom:0,width:"100%",transition:e.transitions.create(),variants:[{props:{indicatorColor:"primary"},style:{backgroundColor:(e.vars||e).palette.primary.main}},{props:{indicatorColor:"secondary"},style:{backgroundColor:(e.vars||e).palette.secondary.main}},{props:({ownerState:t})=>t.vertical,style:{height:"100%",width:2,right:0}}]}))),t0=Le(Gb)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),td={},n0=c.forwardRef(function(t,o){const s=Ut({props:t,name:"MuiTabs"}),i=zt(),a=oa(),{"aria-label":l,"aria-labelledby":d,action:p,centered:f=!1,children:m,className:g,component:v="div",allowScrollButtonsMobile:b=!1,indicatorColor:C="primary",onChange:x,orientation:S="horizontal",ScrollButtonComponent:_,scrollButtons:P="auto",selectionFollowsFocus:z,slots:R={},slotProps:j={},TabIndicatorProps:k={},TabScrollButtonProps:M={},textColor:E="primary",value:$,variant:N="standard",visibleScrollbar:F=!1,...G}=s,H=N==="scrollable",T=S==="vertical",A=T?"scrollTop":"scrollLeft",B=T?"top":"left",W=T?"bottom":"right",D=T?"clientHeight":"clientWidth",V=T?"height":"width",Z={...s,component:v,allowScrollButtonsMobile:b,indicatorColor:C,orientation:S,vertical:T,scrollButtons:P,textColor:E,variant:N,visibleScrollbar:F,fixed:!H,hideScrollbar:H&&!F,scrollableX:H&&!T,scrollableY:H&&T,centered:f&&!H,scrollButtonsHideMobile:!b},K=qb(Z),Q=Ri({elementType:R.StartScrollButtonIcon,externalSlotProps:j.startScrollButtonIcon,ownerState:Z}),Y=Ri({elementType:R.EndScrollButtonIcon,externalSlotProps:j.endScrollButtonIcon,ownerState:Z}),[ee,q]=c.useState(!1),[te,ae]=c.useState(td),[X,ve]=c.useState(!1),[Ce,le]=c.useState(!1),[ce,ie]=c.useState(!1),[fe,me]=c.useState({overflow:"hidden",scrollbarWidth:0}),ye=new Map,ne=c.useRef(null),ge=c.useRef(null),we={slots:R,slotProps:{indicator:k,scrollButton:M,...j}},Fe=()=>{const Se=ne.current;let Ae;if(Se){const Ee=Se.getBoundingClientRect();Ae={clientWidth:Se.clientWidth,scrollLeft:Se.scrollLeft,scrollTop:Se.scrollTop,scrollWidth:Se.scrollWidth,top:Ee.top,bottom:Ee.bottom,left:Ee.left,right:Ee.right}}let $e;if(Se&&$!==!1){const Ee=ge.current.children;if(Ee.length>0){const Me=Ee[ye.get($)];$e=Me?Me.getBoundingClientRect():null}}return{tabsMeta:Ae,tabMeta:$e}},Ne=jo(()=>{const{tabsMeta:Se,tabMeta:Ae}=Fe();let $e=0,Ee;T?(Ee="top",Ae&&Se&&($e=Ae.top-Se.top+Se.scrollTop)):(Ee=a?"right":"left",Ae&&Se&&($e=(a?-1:1)*(Ae[Ee]-Se[Ee]+Se.scrollLeft)));const Me={[Ee]:$e,[V]:Ae?Ae[V]:0};if(typeof te[Ee]!="number"||typeof te[V]!="number")ae(Me);else{const Oe=Math.abs(te[Ee]-Me[Ee]),De=Math.abs(te[V]-Me[V]);(Oe>=1||De>=1)&&ae(Me)}}),Ie=(Se,{animation:Ae=!0}={})=>{Ae?Hb(A,ne.current,Se,{duration:i.transitions.duration.standard}):ne.current[A]=Se},be=Se=>{let Ae=ne.current[A];T?Ae+=Se:Ae+=Se*(a?-1:1),Ie(Ae)},Pe=()=>{const Se=ne.current[D];let Ae=0;const $e=Array.from(ge.current.children);for(let Ee=0;Ee<$e.length;Ee+=1){const Me=$e[Ee];if(Ae+Me[D]>Se){Ee===0&&(Ae=Se);break}Ae+=Me[D]}return Ae},ke=()=>{be(-1*Pe())},We=()=>{be(Pe())},[nt,{onChange:et,...Xe}]=Pt("scrollbar",{className:je(K.scrollableX,K.hideScrollbar),elementType:t0,shouldForwardComponentProp:!0,externalForwardedProps:we,ownerState:Z}),Ke=c.useCallback(Se=>{et==null||et(Se),me({overflow:null,scrollbarWidth:Se})},[et]),[St,it]=Pt("scrollButtons",{className:je(K.scrollButtons,M.className),elementType:Kb,externalForwardedProps:we,ownerState:Z,additionalProps:{orientation:S,slots:{StartScrollButtonIcon:R.startScrollButtonIcon||R.StartScrollButtonIcon,EndScrollButtonIcon:R.endScrollButtonIcon||R.EndScrollButtonIcon},slotProps:{startScrollButtonIcon:Q,endScrollButtonIcon:Y}}}),ot=()=>{const Se={};Se.scrollbarSizeListener=H?h.jsx(nt,{...Xe,onChange:Ke}):null;const $e=H&&(P==="auto"&&(X||Ce)||P===!0);return Se.scrollButtonStart=$e?h.jsx(St,{direction:a?"right":"left",onClick:ke,disabled:!X,...it}):null,Se.scrollButtonEnd=$e?h.jsx(St,{direction:a?"left":"right",onClick:We,disabled:!Ce,...it}):null,Se},Jt=jo(Se=>{const{tabsMeta:Ae,tabMeta:$e}=Fe();if(!(!$e||!Ae)){if($e[B]<Ae[B]){const Ee=Ae[A]+($e[B]-Ae[B]);Ie(Ee,{animation:Se})}else if($e[W]>Ae[W]){const Ee=Ae[A]+($e[W]-Ae[W]);Ie(Ee,{animation:Se})}}}),kt=jo(()=>{H&&P!==!1&&ie(!ce)});c.useEffect(()=>{const Se=Wl(()=>{ne.current&&Ne()});let Ae;const $e=Oe=>{Oe.forEach(De=>{De.removedNodes.forEach(Qt=>{Ae==null||Ae.unobserve(Qt)}),De.addedNodes.forEach(Qt=>{Ae==null||Ae.observe(Qt)})}),Se(),kt()},Ee=na(ne.current);Ee.addEventListener("resize",Se);let Me;return typeof ResizeObserver<"u"&&(Ae=new ResizeObserver(Se),Array.from(ge.current.children).forEach(Oe=>{Ae.observe(Oe)})),typeof MutationObserver<"u"&&(Me=new MutationObserver($e),Me.observe(ge.current,{childList:!0})),()=>{Se.clear(),Ee.removeEventListener("resize",Se),Me==null||Me.disconnect(),Ae==null||Ae.disconnect()}},[Ne,kt]),c.useEffect(()=>{const Se=Array.from(ge.current.children),Ae=Se.length;if(typeof IntersectionObserver<"u"&&Ae>0&&H&&P!==!1){const $e=Se[0],Ee=Se[Ae-1],Me={root:ne.current,threshold:.99},Oe=Tt=>{ve(!Tt[0].isIntersecting)},De=new IntersectionObserver(Oe,Me);De.observe($e);const Qt=Tt=>{le(!Tt[0].isIntersecting)},pn=new IntersectionObserver(Qt,Me);return pn.observe(Ee),()=>{De.disconnect(),pn.disconnect()}}},[H,P,ce,m==null?void 0:m.length]),c.useEffect(()=>{q(!0)},[]),c.useEffect(()=>{Ne()}),c.useEffect(()=>{Jt(td!==te)},[Jt,te]),c.useImperativeHandle(p,()=>({updateIndicator:Ne,updateScrollButtons:kt}),[Ne,kt]);const[Ht,dn]=Pt("indicator",{className:je(K.indicator,k.className),elementType:e0,externalForwardedProps:we,ownerState:Z,additionalProps:{style:te}}),on=h.jsx(Ht,{...dn});let ln=0;const jt=c.Children.map(m,Se=>{if(!c.isValidElement(Se))return null;const Ae=Se.props.value===void 0?ln:Se.props.value;ye.set(Ae,ln);const $e=Ae===$;return ln+=1,c.cloneElement(Se,{fullWidth:N==="fullWidth",indicator:$e&&!ee&&on,selected:$e,selectionFollowsFocus:z,onChange:x,textColor:E,value:Ae,...ln===1&&$===!1&&!Se.props.tabIndex?{tabIndex:0}:{}})}),Ct=Se=>{if(Se.altKey||Se.shiftKey||Se.ctrlKey||Se.metaKey)return;const Ae=ge.current,$e=wi(Ae).activeElement;if($e.getAttribute("role")!=="tab")return;let Me=S==="horizontal"?"ArrowLeft":"ArrowUp",Oe=S==="horizontal"?"ArrowRight":"ArrowDown";switch(S==="horizontal"&&a&&(Me="ArrowRight",Oe="ArrowLeft"),Se.key){case Me:Se.preventDefault(),fi(Ae,$e,ed);break;case Oe:Se.preventDefault(),fi(Ae,$e,Qu);break;case"Home":Se.preventDefault(),fi(Ae,null,Qu);break;case"End":Se.preventDefault(),fi(Ae,null,ed);break}},de=ot(),[re,_e]=Pt("root",{ref:o,className:je(K.root,g),elementType:Xb,externalForwardedProps:{...we,...G,component:v},ownerState:Z}),[Je,Ze]=Pt("scroller",{ref:ne,className:K.scroller,elementType:Yb,externalForwardedProps:we,ownerState:Z,additionalProps:{style:{overflow:fe.overflow,[T?`margin${a?"Left":"Right"}`:"marginBottom"]:F?void 0:-fe.scrollbarWidth}}}),[qe,Ye]=Pt("list",{ref:ge,className:je(K.list,K.flexContainer),elementType:Qb,externalForwardedProps:we,ownerState:Z,getSlotProps:Se=>({...Se,onKeyDown:Ae=>{var $e;Ct(Ae),($e=Se.onKeyDown)==null||$e.call(Se,Ae)}})});return h.jsxs(re,{..._e,children:[de.scrollButtonStart,de.scrollbarSizeListener,h.jsxs(Je,{...Ze,children:[h.jsx(qe,{"aria-label":l,"aria-labelledby":d,"aria-orientation":S==="vertical"?"vertical":null,role:"tablist",...Ye,children:jt}),ee&&on]}),de.scrollButtonEnd]})}),th={xs:"100%",sm:"22ch",md:"28ch"},nd=32,Hr=48,o0={width:"100%",maxWidth:th,px:1,display:"flex",alignItems:"center",minHeight:Hr,flex:"0 0 auto","& .MuiInputBase-root":{minHeight:Hr},"& .MuiSelect-select":{display:"flex",alignItems:"center",minHeight:Hr},"& .MuiAutocomplete-inputRoot":{paddingTop:0,paddingBottom:0,transition:"all 120ms ease"}},Tl=({label:e,options:t,value:o,onChange:s,required:i=!1,inputValue:a,onInputChange:l,renderOption:d,wrapperSx:p})=>{const[f,m]=c.useState(""),g=a!==void 0?a:f,v=g.trim().toLowerCase(),b=c.useMemo(()=>v?t.filter(x=>(typeof x=="string"?x:x.label).toLowerCase().includes(v)):t,[v,t]),C=(x,S)=>{a===void 0&&m(S),l==null||l(S)};return h.jsx(Ue,{sx:p??o0,children:h.jsx(Ns,{componentsProps:{popper:{style:{zIndex:2e3}}},disableClearable:!0,options:b,value:o==null?void 0:t.find(S=>typeof S=="string"?S===o:S.value===o)??void 0,onChange:(x,S)=>{if(S==null){s(null);return}const _=typeof S=="string"?S:S.value;s(_)},inputValue:g,onInputChange:C,getOptionLabel:x=>typeof x=="string"?x:x.label,renderOption:d??((x,S)=>h.jsx(Fi,{...x,dense:!0,children:h.jsx(Rn,{primary:typeof S=="string"?S:S.label})})),renderInput:x=>{const S=h.jsx(h.Fragment,{children:x.InputProps.endAdornment});return h.jsx(Dn,{...x,placeholder:o?"":e,size:"small",required:i,"aria-label":e,InputProps:{...x.InputProps,endAdornment:S,sx:{height:Hr,transition:"all 120ms ease","& .MuiInputBase-input":{paddingTop:0,paddingBottom:0,paddingRight:"56px",fontSize:13,lineHeight:`${nd}px`}}}})},ListboxProps:{sx:{zIndex:2e3,maxHeight:320}},sx:{width:th,"& .MuiAutocomplete-inputRoot":{minHeight:Hr,maxHeight:Hr,alignItems:"center",transition:"all 120ms ease","& .MuiInputBase-input":{paddingTop:0,paddingBottom:0,paddingRight:"56px",fontSize:13,lineHeight:`${nd}px`}}}})})},r0=mr(Ue),od=mr(Nt),s0=({allResources:e,calloutGroups:t,onStart:o,onDismiss:s})=>{const i=zt(),[a,l]=c.useState(""),[d,p]=c.useState(""),[f,m]=c.useState(!1),g=c.useRef(null),v=a?e.filter(x=>x.calloutGroup===a):[];c.useMemo(()=>{if(!d.trim())return t;const x=d.toLowerCase();return t.filter(S=>S.toLowerCase().includes(x))},[t,d]);const b=c.useMemo(()=>{const x=new Map;for(const S of e){const _=S.calloutGroup??"";_&&x.set(_,(x.get(_)??0)+1)}return x},[e]);c.useEffect(()=>{if(!a){p("");return}p(a)},[a]),c.useEffect(()=>{const x=_=>{g.current&&(g.current.contains(_.target)||s())};document.addEventListener("mousedown",x);const S=_=>{_.key==="Escape"&&s()};return document.addEventListener("keydown",S),()=>{document.removeEventListener("mousedown",x),document.removeEventListener("keydown",S)}},[s]);const C=!a;return h.jsx(r0,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},sx:{position:"fixed",inset:0,zIndex:1e4,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"rgba(5,20,40,0.6)",backdropFilter:"blur(8px)"},onClick:s,children:h.jsx(od,{ref:g,elevation:18,onClick:x=>x.stopPropagation(),sx:{width:"100%",maxWidth:{xs:"100%",md:i.spacing(120)},mx:2,borderRadius:4,px:{xs:3,md:6},py:{xs:4,md:6},border:`1px solid ${Te(i.palette.primary.main,.18)}`,boxShadow:"0 24px 55px rgba(10,74,122,0.28)",backgroundImage:"none"},children:h.jsxs(It,{spacing:6,children:[h.jsxs(It,{direction:"row",spacing:3,alignItems:"center",children:[h.jsx(Ue,{sx:{height:i.spacing(5.5),width:i.spacing(5.5),borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",bgcolor:i.palette.primary.main,color:i.palette.primary.contrastText,boxShadow:"0 12px 28px rgba(10,74,122,0.35)"},children:h.jsx(sa,{size:20})}),h.jsxs(It,{spacing:.75,children:[h.jsx(yt,{variant:"h6",fontWeight:600,color:"text.primary",children:"Select Callout List"}),h.jsx(yt,{variant:"body2",color:"text.secondary",children:"Choose a callout group to begin the workflow."})]})]}),h.jsxs(It,{spacing:1.5,children:[h.jsx(yt,{variant:"overline",sx:{fontWeight:700,letterSpacing:1.2,color:Te(i.palette.primary.main,.8)},children:"Callout Group"}),h.jsx(Tl,{label:"Callout Group",options:t,value:a||null,inputValue:d,onInputChange:x=>{p(x),x||l("")},onChange:x=>{const S=x??"";l(S),p(S),m(!1),S&&o(S)},renderOption:(x,S)=>{const _=typeof S=="string"?S:S.label,P=b.get(_)??0;return c.createElement("li",{...x,key:_},h.jsxs(It,{direction:"row",spacing:1.5,alignItems:"center",justifyContent:"space-between",sx:{width:"100%"},children:[h.jsx(yt,{variant:"body2",color:"text.primary",children:_}),h.jsxs(yt,{variant:"caption",color:"text.secondary",children:[P," ",P===1?"resource":"resources"]})]}))}})]}),h.jsx(Ue,{sx:{minHeight:64},children:h.jsx(Jl,{mode:"wait",children:a&&h.jsx(od,{elevation:0,initial:{opacity:0,y:-6},animate:{opacity:1,y:0},exit:{opacity:0,y:-6},transition:{duration:.18},sx:{display:"inline-flex",alignItems:"center",gap:1,px:3,py:2,borderRadius:2,border:`1px solid ${Te(i.palette.primary.main,.25)}`,bgcolor:Te(i.palette.primary.main,.08),color:i.palette.primary.main,fontSize:"0.95rem",fontWeight:600},children:h.jsxs(yt,{variant:"body2",color:"inherit",children:[h.jsx(Ue,{component:"span",sx:{fontWeight:700},children:v.length})," ",v.length===1?"resource":"resources"," in this callout group."]})},a)})}),h.jsx(It,{direction:"row",justifyContent:"flex-end",children:h.jsx(Pn,{onClick:()=>{m(!1),o(a)},disabled:C,variant:"contained",endIcon:h.jsx(Ag,{size:16}),sx:{textTransform:"none",fontWeight:600,px:3,py:1.25,borderRadius:2},children:"Continue"})})]})})})},cn=JSON.parse('[{"taskId":"RG-AB30001","division":"Admin","taskStatus":"Not Assigned (ACT)","pwa":"ZB-ALPHA-12","taskType":"Admin Review","primarySkill":"ADMIN1","capabilities":["ADMIN1"],"importanceScore":97,"msc":"Y","taskCreated":"Mon 6 Jan, 10:40 AM","groupCode":"Admin Group","systemType":"FSM","employeeId":"T6344","resourceName":"Dylan Lewis","asset":"OFF-8247","assetName":"Document Verification Queue","commitmentDate":"Fri 7 Jan, 1:15 PM","commitmentType":"Complete By","arrivedAtDate":"","domain":"CF","estimatedDuration":150,"lastProgression":"On Site","category":"Administration","description":"Administration task for broadband/FTTP service in local area.","responseCode":"SH01","postCode":"CF44 8AU","appointmentStartDate":"","linkedTask":"","customerAddress":"","expectedStartDate":"Sat 7 Jan, 8:15 AM","expectedFinishDate":"Wed 8 Jan, 10:45 AM","externalQueueId":"EXT-441440","workId":"WK-790218","estimateNumber":"EST-55784","startDate":"","lat":51.70832,"lng":-3.44613,"expectedWindow":"8amâ€“10:30am","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 8AU\\n- Type Admin Review\\n- Skill ADMIN1\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Not Assigned (ACT)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Not Assigned (ACT)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30002","division":"Service Delivery","taskStatus":"Assigned (ACT)","pwa":"ZB-OMEGA-09","taskType":"Survey","primarySkill":"RISDN2","capabilities":["RISDN2"],"importanceScore":45,"msc":"Y","taskCreated":"Thu 7 Jan, 10:40 AM","groupCode":"Service Delivery","systemType":"NW","employeeId":"T7690","resourceName":"John Edwards","asset":"MH-5541","assetName":"Route Survey Node","commitmentDate":"Fri 10 Jan, 3:30 PM","commitmentType":"Future","arrivedAtDate":"","domain":"MN","estimatedDuration":90,"lastProgression":"On Site","category":"Survey","description":"Survey task for broadband/FTTP service in local area.","responseCode":"SH05","postCode":"CF44 7IW","appointmentStartDate":"","linkedTask":"","customerAddress":"111 Hirwaun Road, Aberdare","expectedStartDate":"Sat 8 Jan, 10:40 AM","expectedFinishDate":"Thu 11 Jan, 11:10 AM","externalQueueId":"EXT-441998","workId":"WK-729320","estimateNumber":"EST-55739","startDate":"","lat":51.70624,"lng":-3.44051,"expectedWindow":"10amâ€“11:30am","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7IW\\n- Type Survey\\n- Skill RISDN2\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Assigned (ACT)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Assigned (ACT)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30003","division":"Service Delivery","taskStatus":"Dispatched (AWI)","pwa":"ZB-ALPHA-02","taskType":"Repair","primarySkill":"RISDN2","capabilities":["RISDN2"],"importanceScore":90,"msc":"N","taskCreated":"Wed 11 Jan, 10:40 AM","groupCode":"Service Delivery","systemType":"OR","employeeId":"T6721","resourceName":"Ryan Jenkins","asset":"CAB-8837","assetName":"DP Pole","commitmentDate":"Wed 13 Jan, 11:20 AM","commitmentType":"Future","arrivedAtDate":"Thu 11 Jan, 8:15 AM","domain":"SE","estimatedDuration":120,"lastProgression":"On Site","category":"Repair","description":"Repair task for broadband/FTTP service in local area.","responseCode":"SH03","postCode":"CF44 7SL","appointmentStartDate":"","linkedTask":"","customerAddress":"108 Victoria Street, Aberdare","expectedStartDate":"Sat 11 Jan, 8:15 AM","expectedFinishDate":"Wed 14 Jan, 10:15 AM","externalQueueId":"EXT-441215","workId":"WK-703093","estimateNumber":"EST-55777","startDate":"Sat 11 Jan, 8:15 AM","lat":51.7204,"lng":-3.44196,"expectedWindow":"8amâ€“10am","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7SL\\n- Type Repair\\n- Skill RISDN2\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Dispatched (AWI)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Dispatched (AWI)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30004","division":"Complex Engineering","taskStatus":"Accepted (ISS)","pwa":"ZB-GAMMA-05","taskType":"Survey","primarySkill":"RFTTP1","capabilities":["RFTTP1"],"importanceScore":54,"msc":"Y","taskCreated":"Fri 3 Jan, 3:30 PM","groupCode":"Complex Engineering","systemType":"NW","employeeId":"T8224","resourceName":"Nia Brown","asset":"AS-1941","assetName":"Joint Box","commitmentDate":"Mon 5 Jan, 8:15 AM","commitmentType":"Start By","arrivedAtDate":"Mon 6 Jan, 4:10 PM","domain":"CF","estimatedDuration":45,"lastProgression":"Completed","category":"Survey","description":"Survey task for broadband/FTTP service in local area.","responseCode":"SH01","postCode":"CF44 6IQ","appointmentStartDate":"","linkedTask":"","customerAddress":"28 Aberaman Road, Aberdare","expectedStartDate":"Wed 7 Jan, 3:30 PM","expectedFinishDate":"Fri 10 Jan, 4:15 PM","externalQueueId":"EXT-441801","workId":"WK-746808","estimateNumber":"EST-55786","startDate":"Wed 7 Jan, 3:30 PM","lat":51.70576,"lng":-3.43954,"expectedWindow":"3pmâ€“3:45pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 6IQ\\n- Type Survey\\n- Skill RFTTP1\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Accepted (ISS)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Accepted (ISS)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30005","division":"Admin","taskStatus":"In Progress (EXC)","pwa":"ZB-OMEGA-06","taskType":"Admin Review","primarySkill":"ADMIN2","capabilities":["ADMIN2"],"importanceScore":64,"msc":"Y","taskCreated":"Fri 13 Jan, 9:05 AM","groupCode":"Admin Group","systemType":"OR","employeeId":"T7544","resourceName":"Harvey Rees","asset":"OFF-3588","assetName":"Document Verification Queue","commitmentDate":"Sat 15 Jan, 3:30 PM","commitmentType":"Complete By","arrivedAtDate":"Wed 16 Jan, 11:20 AM","domain":"SE","estimatedDuration":60,"lastProgression":"Accepted","category":"Administration","description":"Administration task for broadband/FTTP service in local area.","responseCode":"AD02","postCode":"CF44 7NZ","appointmentStartDate":"","linkedTask":"","customerAddress":"","expectedStartDate":"Thu 16 Jan, 11:20 AM","expectedFinishDate":"Fri 19 Jan, 12:20 PM","externalQueueId":"EXT-441383","workId":"WK-734734","estimateNumber":"EST-55767","startDate":"Thu 16 Jan, 11:20 AM","lat":51.70775,"lng":-3.44796,"expectedWindow":"11amâ€“12pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7NZ\\n- Type Admin Review\\n- Skill ADMIN2\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"In Progress (EXC)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"In Progress (EXC)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30006","division":"Admin","taskStatus":"Completed (COM)","pwa":"ZB-GAMMA-07","taskType":"Admin Review","primarySkill":"ADMIN1","capabilities":["ADMIN1"],"importanceScore":56,"msc":"Y","taskCreated":"Thu 10 Jan, 9:05 AM","groupCode":"Admin Group","systemType":"FSM","employeeId":"T5414","resourceName":"Ffion Davies","asset":"OFF-8718","assetName":"Admin Processing Queue","commitmentDate":"Fri 13 Jan, 11:20 AM","commitmentType":"Appointment","arrivedAtDate":"Sat 16 Jan, 4:10 PM","domain":"MN","estimatedDuration":90,"lastProgression":"Completed","category":"Administration","description":"Administration task for broadband/FTTP service in local area.","responseCode":"sh02","postCode":"CF44 7TJ","appointmentStartDate":"Sun 16 Jan, 8:15 AM","linkedTask":"","customerAddress":"","expectedStartDate":"Sat 16 Jan, 8:15 AM","expectedFinishDate":"Thu 19 Jan, 9:45 AM","externalQueueId":"EXT-441404","workId":"WK-728071","estimateNumber":"EST-55763","startDate":"Sat 16 Jan, 8:15 AM","lat":51.70737,"lng":-3.45195,"expectedWindow":"8amâ€“9:30am","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7TJ\\n- Type Admin Review\\n- Skill ADMIN1\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Completed (COM)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Completed (COM)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30007","division":"Complex Engineering","taskStatus":"Not Assigned (ACT)","pwa":"ZB-DELTA-07","taskType":"Survey","primarySkill":"ADMIN1","capabilities":["ADMIN1"],"importanceScore":74,"msc":"Y","taskCreated":"Mon 12 Jan, 8:15 AM","groupCode":"Complex Engineering","systemType":"OR","employeeId":"T1258","resourceName":"Nia Hughes","asset":"CAB-1922","assetName":"Route Survey Node","commitmentDate":"Tue 14 Jan, 2:00 PM","commitmentType":"Complete By","arrivedAtDate":"","domain":"SE","estimatedDuration":120,"lastProgression":"En Route","category":"Survey","description":"Survey task for broadband/FTTP service in local area.","responseCode":"SH05","postCode":"CF44 6XQ","appointmentStartDate":"","linkedTask":"","customerAddress":"75 Cardiff Road, Aberdare","expectedStartDate":"Fri 14 Jan, 2:00 PM","expectedFinishDate":"Sun 17 Jan, 4:00 PM","externalQueueId":"EXT-441499","workId":"WK-781809","estimateNumber":"EST-55797","startDate":"","lat":51.71928,"lng":-3.44445,"expectedWindow":"2pmâ€“4pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 6XQ\\n- Type Survey\\n- Skill ADMIN1\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Not Assigned (ACT)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Not Assigned (ACT)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30008","division":"Service Delivery","taskStatus":"Assigned (ACT)","pwa":"ZB-GAMMA-10","taskType":"Emergency","primarySkill":"RISDN3","capabilities":["RISDN3"],"importanceScore":89,"msc":"N","taskCreated":"Sat 8 Jan, 10:40 AM","groupCode":"Service Delivery","systemType":"OR","employeeId":"T9306","resourceName":"Ryan Lewis","asset":"AS-4107","assetName":"Backhaul Joint","commitmentDate":"Tue 10 Jan, 2:00 PM","commitmentType":"Future","arrivedAtDate":"","domain":"MN","estimatedDuration":90,"lastProgression":"On Site","category":"Emergency","description":"Emergency task for broadband/FTTP service in local area.","responseCode":"SH01","postCode":"CF44 8IN","appointmentStartDate":"","linkedTask":"RG-AB30003","customerAddress":"63 Brook Street, Aberdare","expectedStartDate":"Thu 10 Jan, 2:00 PM","expectedFinishDate":"Sun 13 Jan, 3:30 PM","externalQueueId":"EXT-441318","workId":"WK-764130","estimateNumber":"EST-55734","startDate":"","lat":51.70599,"lng":-3.44795,"expectedWindow":"2pmâ€“3:30pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 8IN\\n- Type Emergency\\n- Skill RISDN3\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Assigned (ACT)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Assigned (ACT)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30009","division":"Service Delivery","taskStatus":"Dispatched (AWI)","pwa":"ZB-ALPHA-06","taskType":"Emergency","primarySkill":"RISDN1","capabilities":["RISDN1"],"importanceScore":77,"msc":"Y","taskCreated":"Wed 8 Jan, 7:30 AM","groupCode":"Service Delivery","systemType":"OR","employeeId":"T2730","resourceName":"Nia Edwards","asset":"AS-1363","assetName":"Backhaul Joint","commitmentDate":"Thu 10 Jan, 7:30 AM","commitmentType":"Appointment","arrivedAtDate":"Thu 10 Jan, 11:20 AM","domain":"SE","estimatedDuration":150,"lastProgression":"On Site","category":"Emergency","description":"Emergency task for broadband/FTTP service in local area.","responseCode":"SH01","postCode":"CF44 7MH","appointmentStartDate":"Fri 10 Jan, 7:30 AM","linkedTask":"RG-AB30006","customerAddress":"71 Gadlys Road, Aberdare","expectedStartDate":"Fri 10 Jan, 7:30 AM","expectedFinishDate":"Sun 13 Jan, 10:00 AM","externalQueueId":"EXT-441511","workId":"WK-797851","estimateNumber":"EST-55735","startDate":"Fri 10 Jan, 7:30 AM","lat":51.7155,"lng":-3.45247,"expectedWindow":"7amâ€“9:30am","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7MH\\n- Type Emergency\\n- Skill RISDN1\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Dispatched (AWI)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Dispatched (AWI)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30010","division":"Complex Engineering","taskStatus":"Accepted (ISS)","pwa":"ZB-DELTA-05","taskType":"Inspection","primarySkill":"RISDN3","capabilities":["RISDN3"],"importanceScore":97,"msc":"Y","taskCreated":"Tue 11 Jan, 4:10 PM","groupCode":"Complex Engineering","systemType":"FSM","employeeId":"T9864","resourceName":"Nia Jenkins","asset":"AS-5489","assetName":"Distribution Point","commitmentDate":"Tue 13 Jan, 2:00 PM","commitmentType":"Appointment","arrivedAtDate":"Thu 15 Jan, 11:20 AM","domain":"MN","estimatedDuration":90,"lastProgression":"On Site","category":"Inspection","description":"Inspection task for broadband/FTTP service in local area.","responseCode":"SH04","postCode":"CF44 8JK","appointmentStartDate":"Thu 15 Jan, 2:00 PM","linkedTask":"","customerAddress":"91 Robertstown Road, Aberdare","expectedStartDate":"Thu 15 Jan, 2:00 PM","expectedFinishDate":"Sat 18 Jan, 3:30 PM","externalQueueId":"EXT-441812","workId":"WK-728959","estimateNumber":"EST-55777","startDate":"Thu 15 Jan, 2:00 PM","lat":51.70787,"lng":-3.44639,"expectedWindow":"2pmâ€“3:30pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 8JK\\n- Type Inspection\\n- Skill RISDN3\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Accepted (ISS)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Accepted (ISS)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30011","division":"Admin","taskStatus":"In Progress (EXC)","pwa":"ZB-OMEGA-02","taskType":"Admin Review","primarySkill":"ADMIN2","capabilities":["ADMIN2"],"importanceScore":45,"msc":"Y","taskCreated":"Wed 3 Jan, 10:40 AM","groupCode":"Admin Group","systemType":"FSM","employeeId":"T8103","resourceName":"Rhys Hughes","asset":"OFF-7322","assetName":"Document Verification Queue","commitmentDate":"Thu 5 Jan, 2:00 PM","commitmentType":"Appointment","arrivedAtDate":"Fri 8 Jan, 11:20 AM","domain":"CF","estimatedDuration":60,"lastProgression":"Completed","category":"Administration","description":"Administration task for broadband/FTTP service in local area.","responseCode":"SH04","postCode":"CF44 7JR","appointmentStartDate":"Sat 8 Jan, 2:00 PM","linkedTask":"RG-AB30003","customerAddress":"","expectedStartDate":"Sat 8 Jan, 2:00 PM","expectedFinishDate":"Tue 11 Jan, 3:00 PM","externalQueueId":"EXT-441888","workId":"WK-775917","estimateNumber":"EST-55728","startDate":"Sat 8 Jan, 2:00 PM","lat":51.7254,"lng":-3.50534,"expectedWindow":"2pmâ€“3pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7JR\\n- Type Admin Review\\n- Skill ADMIN2\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"In Progress (EXC)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"In Progress (EXC)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30012","division":"Complex Engineering","taskStatus":"Completed (COM)","pwa":"ZB-ALPHA-04","taskType":"Inspection","primarySkill":"RFTTP2","capabilities":["RFTTP2"],"importanceScore":49,"msc":"Y","taskCreated":"Sat 11 Jan, 9:05 AM","groupCode":"Complex Engineering","systemType":"NW","employeeId":"T8443","resourceName":"Lowri Jenkins","asset":"AS-8859","assetName":"Distribution Point","commitmentDate":"Sat 14 Jan, 1:15 PM","commitmentType":"Complete By","arrivedAtDate":"Mon 16 Jan, 4:10 PM","domain":"MN","estimatedDuration":90,"lastProgression":"Completed","category":"Inspection","description":"Inspection task for broadband/FTTP service in local area.","responseCode":"SH05","postCode":"CF44 7DZ","appointmentStartDate":"","linkedTask":"RG-AB30007","customerAddress":"109 High Street, Aberdare","expectedStartDate":"Tue 16 Jan, 4:10 PM","expectedFinishDate":"Fri 19 Jan, 5:40 PM","externalQueueId":"EXT-441590","workId":"WK-758165","estimateNumber":"EST-55792","startDate":"Tue 16 Jan, 4:10 PM","lat":51.72091,"lng":-3.52057,"expectedWindow":"4pmâ€“5:30pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7DZ\\n- Type Inspection\\n- Skill RFTTP2\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Completed (COM)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Completed (COM)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30013","division":"Service Delivery","taskStatus":"Not Assigned (ACT)","pwa":"ZB-ALPHA-04","taskType":"Inspection","primarySkill":"RISDN2","capabilities":["RISDN2"],"importanceScore":82,"msc":"Y","taskCreated":"Tue 7 Jan, 10:40 AM","groupCode":"Service Delivery","systemType":"NW","employeeId":"T9526","resourceName":"Lauren Evans","asset":"AS-9446","assetName":"Underground Joint Chamber","commitmentDate":"Wed 9 Jan, 11:20 AM","commitmentType":"Appointment","arrivedAtDate":"","domain":"CF","estimatedDuration":120,"lastProgression":"On Site","category":"Inspection","description":"Inspection task for broadband/FTTP service in local area.","responseCode":"SH01","postCode":"CF44 6EV","appointmentStartDate":"Thu 9 Jan, 11:20 AM","linkedTask":"RG-AB30003","customerAddress":"81 Cardiff Road, Aberdare","expectedStartDate":"Thu 9 Jan, 11:20 AM","expectedFinishDate":"Sun 12 Jan, 1:20 PM","externalQueueId":"EXT-441954","workId":"WK-790116","estimateNumber":"EST-55766","startDate":"","lat":51.72224,"lng":-3.51289,"expectedWindow":"11amâ€“1pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 6EV\\n- Type Inspection\\n- Skill RISDN2\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Not Assigned (ACT)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Not Assigned (ACT)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30014","division":"Complex Engineering","taskStatus":"Assigned (ACT)","pwa":"ZB-GAMMA-02","taskType":"Emergency","primarySkill":"RISDN3","capabilities":["RISDN3"],"importanceScore":88,"msc":"N","taskCreated":"Wed 13 Jan, 9:05 AM","groupCode":"Complex Engineering","systemType":"OR","employeeId":"T5309","resourceName":"Aled Evans","asset":"AS-9906","assetName":"Priority Splice Enclosure","commitmentDate":"Thu 16 Jan, 11:20 AM","commitmentType":"Appointment","arrivedAtDate":"","domain":"CF","estimatedDuration":90,"lastProgression":"Allocated","category":"Emergency","description":"Emergency task for broadband/FTTP service in local area.","responseCode":"SH05","postCode":"CF44 7AV","appointmentStartDate":"Fri 16 Jan, 11:20 AM","linkedTask":"","customerAddress":"77 Canon Street, Aberdare","expectedStartDate":"Fri 16 Jan, 11:20 AM","expectedFinishDate":"Mon 19 Jan, 12:50 PM","externalQueueId":"EXT-441587","workId":"WK-785274","estimateNumber":"EST-55720","startDate":"","lat":51.71383,"lng":-3.44986,"expectedWindow":"11amâ€“12:30pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7AV\\n- Type Emergency\\n- Skill RISDN3\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Assigned (ACT)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Assigned (ACT)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30015","division":"Service Delivery","taskStatus":"Dispatched (AWI)","pwa":"ZB-GAMMA-04","taskType":"Repair","primarySkill":"RISDN1","capabilities":["RISDN1"],"importanceScore":76,"msc":"N","taskCreated":"Sat 3 Jan, 7:30 AM","groupCode":"Service Delivery","systemType":"OR","employeeId":"T8571","resourceName":"Ffion Hughes","asset":"AS-8163","assetName":"Drop Wire","commitmentDate":"Mon 6 Jan, 9:05 AM","commitmentType":"Complete By","arrivedAtDate":"Wed 8 Jan, 10:40 AM","domain":"SE","estimatedDuration":60,"lastProgression":"Completed","category":"Repair","description":"Repair task for broadband/FTTP service in local area.","responseCode":"SH05","postCode":"CF44 8BQ","appointmentStartDate":"","linkedTask":"","customerAddress":"86 Albert Street, Aberdare","expectedStartDate":"Thu 8 Jan, 10:40 AM","expectedFinishDate":"Sun 11 Jan, 11:40 AM","externalQueueId":"EXT-441968","workId":"WK-703787","estimateNumber":"EST-55733","startDate":"Thu 8 Jan, 10:40 AM","lat":51.71159,"lng":-3.44429,"expectedWindow":"10amâ€“11am","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 8BQ\\n- Type Repair\\n- Skill RISDN1\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Dispatched (AWI)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Dispatched (AWI)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30016","division":"Complex Engineering","taskStatus":"Accepted (ISS)","pwa":"ZB-ALPHA-02","taskType":"Survey","primarySkill":"RFTTP1","capabilities":["RFTTP1"],"importanceScore":60,"msc":"Y","taskCreated":"Tue 5 Jan, 2:00 PM","groupCode":"Complex Engineering","systemType":"NW","employeeId":"T7749","resourceName":"Ryan Morgan","asset":"MH-8437","assetName":"Manhole Access Point","commitmentDate":"Wed 7 Jan, 3:30 PM","commitmentType":"Start By","arrivedAtDate":"Thu 9 Jan, 11:20 AM","domain":"MN","estimatedDuration":150,"lastProgression":"On Site","category":"Survey","description":"Survey task for broadband/FTTP service in local area.","responseCode":"SH05","postCode":"CF44 8WX","appointmentStartDate":"","linkedTask":"","customerAddress":"44 Commercial Street, Aberdare","expectedStartDate":"Thu 9 Jan, 11:20 AM","expectedFinishDate":"Sun 12 Jan, 1:50 PM","externalQueueId":"EXT-441720","workId":"WK-723933","estimateNumber":"EST-55754","startDate":"Thu 9 Jan, 11:20 AM","lat":51.71966,"lng":-3.44275,"expectedWindow":"11amâ€“1:30pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 8WX\\n- Type Survey\\n- Skill RFTTP1\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Accepted (ISS)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Accepted (ISS)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30017","division":"Admin","taskStatus":"In Progress (EXC)","pwa":"ZB-OMEGA-01","taskType":"Admin Review","primarySkill":"ADMIN2","capabilities":["ADMIN2"],"importanceScore":86,"msc":"Y","taskCreated":"Wed 7 Jan, 1:15 PM","groupCode":"Admin Group","systemType":"OR","employeeId":"T9344","resourceName":"Lauren Roberts","asset":"OFF-4090","assetName":"Admin Processing Queue","commitmentDate":"Thu 9 Jan, 3:30 PM","commitmentType":"Future","arrivedAtDate":"Sat 11 Jan, 11:20 AM","domain":"SE","estimatedDuration":40,"lastProgression":"Allocated","category":"Administration","description":"Administration task for broadband/FTTP service in local area.","responseCode":"AD02","postCode":"CF44 8PT","appointmentStartDate":"","linkedTask":"","customerAddress":"","expectedStartDate":"Sun 11 Jan, 11:20 AM","expectedFinishDate":"Wed 14 Jan, 12:00 PM","externalQueueId":"EXT-441249","workId":"WK-705434","estimateNumber":"EST-55758","startDate":"Sun 11 Jan, 11:20 AM","lat":51.7063,"lng":-3.50452,"expectedWindow":"11amâ€“12pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 8PT\\n- Type Admin Review\\n- Skill ADMIN2\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"In Progress (EXC)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"In Progress (EXC)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30018","division":"Service Delivery","taskStatus":"Completed (COM)","pwa":"ZB-OMEGA-11","taskType":"Emergency","primarySkill":"RISDN1","capabilities":["RISDN1"],"importanceScore":68,"msc":"Y","taskCreated":"Wed 9 Jan, 1:15 PM","groupCode":"Service Delivery","systemType":"OR","employeeId":"T9810","resourceName":"Ffion Smith","asset":"AS-7197","assetName":"Priority Splice Enclosure","commitmentDate":"Fri 11 Jan, 2:00 PM","commitmentType":"Future","arrivedAtDate":"Sun 13 Jan, 8:15 AM","domain":"CF","estimatedDuration":150,"lastProgression":"Completed","category":"Emergency","description":"Emergency task for broadband/FTTP service in local area.","responseCode":"SH01","postCode":"CF44 7WA","appointmentStartDate":"","linkedTask":"","customerAddress":"29 Robertstown Road, Aberdare","expectedStartDate":"Mon 13 Jan, 8:15 AM","expectedFinishDate":"Thu 16 Jan, 10:45 AM","externalQueueId":"EXT-441790","workId":"WK-772532","estimateNumber":"EST-55737","startDate":"Mon 13 Jan, 8:15 AM","lat":51.70622,"lng":-3.5041,"expectedWindow":"8amâ€“10:30am","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7WA\\n- Type Emergency\\n- Skill RISDN1\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Completed (COM)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Completed (COM)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30019","division":"Admin","taskStatus":"Assigned (ACT)","pwa":"ZB-GAMMA-09","taskType":"Admin Review","primarySkill":"ADMIN2","capabilities":["ADMIN2"],"importanceScore":71,"msc":"N","taskCreated":"Thu 13 Jan, 11:20 AM","groupCode":"Admin Group","systemType":"NW","employeeId":"T6541","resourceName":"Chloe Jenkins","asset":"OFF-1456","assetName":"Document Verification Queue","commitmentDate":"Fri 15 Jan, 2:00 PM","commitmentType":"Appointment","arrivedAtDate":"","domain":"SE","estimatedDuration":60,"lastProgression":"On Site","category":"Administration","description":"Administration task for broadband/FTTP service in local area.","responseCode":"AD02","postCode":"CF44 7XT","appointmentStartDate":"Sat 15 Jan, 2:00 PM","linkedTask":"","customerAddress":"","expectedStartDate":"Sat 15 Jan, 2:00 PM","expectedFinishDate":"Tue 18 Jan, 3:00 PM","externalQueueId":"EXT-441495","workId":"WK-765705","estimateNumber":"EST-55794","startDate":"","lat":51.70445,"lng":-3.4997,"expectedWindow":"2pmâ€“3pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7XT\\n- Type Admin Review\\n- Skill ADMIN2\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Assigned (ACT)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Assigned (ACT)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30020","division":"Service Delivery","taskStatus":"Dispatched (AWI)","pwa":"ZB-GAMMA-10","taskType":"Repair","primarySkill":"RISDN3","capabilities":["RISDN3"],"importanceScore":31,"msc":"Y","taskCreated":"Thu 5 Jan, 2:00 PM","groupCode":"Service Delivery","systemType":"OR","employeeId":"T9129","resourceName":"Chloe Hughes","asset":"CAB-1198","assetName":"Copper Joint Enclosure","commitmentDate":"Sat 7 Jan, 3:30 PM","commitmentType":"Start By","arrivedAtDate":"Sun 9 Jan, 10:40 AM","domain":"SE","estimatedDuration":45,"lastProgression":"Completed","category":"Repair","description":"Repair task for broadband/FTTP service in local area.","responseCode":"SH03","postCode":"CF44 7KB","appointmentStartDate":"","linkedTask":"RG-AB30018","customerAddress":"118 Cardiff Road, Aberdare","expectedStartDate":"Mon 9 Jan, 10:40 AM","expectedFinishDate":"Thu 12 Jan, 11:25 AM","externalQueueId":"EXT-441992","workId":"WK-731785","estimateNumber":"EST-55771","startDate":"Mon 9 Jan, 10:40 AM","lat":51.72207,"lng":-3.5099,"expectedWindow":"10amâ€“11:15am","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7KB\\n- Type Repair\\n- Skill RISDN3\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Dispatched (AWI)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Dispatched (AWI)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30021","division":"Complex Engineering","taskStatus":"Accepted (ISS)","pwa":"ZB-ALPHA-10","taskType":"Survey","primarySkill":"RFTTP1","capabilities":["RFTTP1"],"importanceScore":68,"msc":"Y","taskCreated":"Fri 9 Jan, 8:15 AM","groupCode":"Complex Engineering","systemType":"FSM","employeeId":"T7859","resourceName":"Tomos Hughes","asset":"AS-6348","assetName":"Route Survey Node","commitmentDate":"Sun 11 Jan, 3:30 PM","commitmentType":"Complete By","arrivedAtDate":"Mon 13 Jan, 11:20 AM","domain":"CF","estimatedDuration":90,"lastProgression":"Scheduled","category":"Survey","description":"Survey task for broadband/FTTP service in local area.","responseCode":"SH03","postCode":"CF44 6US","appointmentStartDate":"","linkedTask":"","customerAddress":"16 Brook Street, Aberdare","expectedStartDate":"Mon 13 Jan, 11:20 AM","expectedFinishDate":"Thu 16 Jan, 12:50 PM","externalQueueId":"EXT-441467","workId":"WK-716640","estimateNumber":"EST-55776","startDate":"Mon 13 Jan, 11:20 AM","lat":51.71882,"lng":-3.4518,"expectedWindow":"11amâ€“12:30pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 6US\\n- Type Survey\\n- Skill RFTTP1\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Accepted (ISS)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Accepted (ISS)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30022","division":"Service Delivery","taskStatus":"Not Assigned (ACT)","pwa":"ZB-DELTA-10","taskType":"Inspection","primarySkill":"RISDN3","capabilities":["RISDN3"],"importanceScore":69,"msc":"Y","taskCreated":"Mon 10 Jan, 9:05 AM","groupCode":"Service Delivery","systemType":"NW","employeeId":"T3909","resourceName":"Chloe Hughes","asset":"AS-7695","assetName":"Underground Joint Chamber","commitmentDate":"Tue 12 Jan, 1:15 PM","commitmentType":"Appointment","arrivedAtDate":"","domain":"MN","estimatedDuration":90,"lastProgression":"Allocated","category":"Inspection","description":"Inspection task for broadband/FTTP service in local area.","responseCode":"SH01","postCode":"CF44 7TT","appointmentStartDate":"Wed 12 Jan, 1:15 PM","linkedTask":"","customerAddress":"40 Cardif Road, Aberdare","expectedStartDate":"Wed 12 Jan, 1:15 PM","expectedFinishDate":"Sat 15 Jan, 2:45 PM","externalQueueId":"EXT-441413","workId":"WK-783470","estimateNumber":"EST-55797","startDate":"","lat":51.71277,"lng":-3.44368,"expectedWindow":"1pmâ€“2:30pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7TT\\n- Type Inspection\\n- Skill RISDN3\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Not Assigned (ACT)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Not Assigned (ACT)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30023","division":"Admin","taskStatus":"Assigned (ACT)","pwa":"ZB-DELTA-03","taskType":"Admin Review","primarySkill":"ADMIN1","capabilities":["ADMIN1"],"importanceScore":71,"msc":"Y","taskCreated":"Wed 13 Jan, 4:10 PM","groupCode":"Admin Group","systemType":"OR","employeeId":"T9772","resourceName":"Rhys Thomas","asset":"OFF-3119","assetName":"Admin Processing Queue","commitmentDate":"Fri 15 Jan, 1:15 PM","commitmentType":"Future","arrivedAtDate":"","domain":"MN","estimatedDuration":40,"lastProgression":"Scheduled","category":"Administration","description":"Administration task for broadband/FTTP service in local area.","responseCode":"AD02","postCode":"CF44 7ZV","appointmentStartDate":"","linkedTask":"RG-AB30010","customerAddress":"","expectedStartDate":"Sat 15 Jan, 1:15 PM","expectedFinishDate":"Tue 18 Jan, 1:55 PM","externalQueueId":"EXT-441695","workId":"WK-736499","estimateNumber":"EST-55740","startDate":"","lat":51.70499,"lng":-3.44123,"expectedWindow":"1pmâ€“1:40pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7ZV\\n- Type Admin Review\\n- Skill ADMIN1\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Assigned (ACT)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Assigned (ACT)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30024","division":"Complex Engineering","taskStatus":"Dispatched (AWI)","pwa":"ZB-GAMMA-04","taskType":"Emergency","primarySkill":"RFTTP2","capabilities":["RFTTP2"],"importanceScore":90,"msc":"N","taskCreated":"Sat 7 Jan, 7:30 AM","groupCode":"Complex Engineering","systemType":"OR","employeeId":"T6493","resourceName":"Tomos Hughes","asset":"AS-8145","assetName":"Core Node Cabinet","commitmentDate":"Sun 9 Jan, 8:15 AM","commitmentType":"Start By","arrivedAtDate":"Tue 11 Jan, 9:05 AM","domain":"MN","estimatedDuration":90,"lastProgression":"On Site","category":"Emergency","description":"Emergency task for broadband/FTTP service in local area.","responseCode":"SH03","postCode":"CF44 8ER","appointmentStartDate":"","linkedTask":"RG-AB30002","customerAddress":"96 Aberaman Road, Aberdare","expectedStartDate":"Tue 11 Jan, 9:05 AM","expectedFinishDate":"Fri 14 Jan, 10:35 AM","externalQueueId":"EXT-441684","workId":"WK-766702","estimateNumber":"EST-55764","startDate":"Tue 11 Jan, 9:05 AM","lat":51.7206,"lng":-3.4474,"expectedWindow":"9amâ€“10:30am","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 8ER\\n- Type Emergency\\n- Skill RFTTP2\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Dispatched (AWI)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Dispatched (AWI)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30025","division":"Service Delivery","taskStatus":"Accepted (ISS)","pwa":"ZB-DELTA-09","taskType":"Inspection","primarySkill":"RISDN1","capabilities":["RISDN1"],"importanceScore":45,"msc":"N","taskCreated":"Thu 6 Jan, 10:40 AM","groupCode":"Service Delivery","systemType":"FSM","employeeId":"T6815","resourceName":"Chloe Hughes","asset":"AS-4500","assetName":"Underground Joint Chamber","commitmentDate":"Sat 8 Jan, 11:20 AM","commitmentType":"Appointment","arrivedAtDate":"Sun 10 Jan, 4:10 PM","domain":"SE","estimatedDuration":120,"lastProgression":"Allocated","category":"Inspection","description":"Inspection task for broadband/FTTP service in local area.","responseCode":"SH04","postCode":"CF44 8KO","appointmentStartDate":"Mon 10 Jan, 11:20 AM","linkedTask":"RG-AB30010","customerAddress":"32 Cwmbach Road, Aberdare","expectedStartDate":"Mon 10 Jan, 11:20 AM","expectedFinishDate":"Thu 13 Jan, 1:20 PM","externalQueueId":"EXT-441842","workId":"WK-701053","estimateNumber":"EST-55742","startDate":"Mon 10 Jan, 11:20 AM","lat":51.70871,"lng":-3.51393,"expectedWindow":"11amâ€“1pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 8KO\\n- Type Inspection\\n- Skill RISDN1\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Accepted (ISS)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Accepted (ISS)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30026","division":"Admin","taskStatus":"In Progress (EXC)","pwa":"ZB-OMEGA-05","taskType":"Admin Review","primarySkill":"ADMIN1","capabilities":["ADMIN1"],"importanceScore":76,"msc":"N","taskCreated":"Tue 11 Jan, 1:15 PM","groupCode":"Admin Group","systemType":"NW","employeeId":"T8841","resourceName":"Steffan Hughes","asset":"OFF-5507","assetName":"Document Verification Queue","commitmentDate":"Thu 13 Jan, 2:00 PM","commitmentType":"Complete By","arrivedAtDate":"Fri 15 Jan, 2:00 PM","domain":"SE","estimatedDuration":60,"lastProgression":"Completed","category":"Administration","description":"Administration task for broadband/FTTP service in local area.","responseCode":"AD02","postCode":"CF44 8ZX","appointmentStartDate":"","linkedTask":"RG-AB30021","customerAddress":"","expectedStartDate":"Sat 15 Jan, 2:00 PM","expectedFinishDate":"Tue 18 Jan, 3:00 PM","externalQueueId":"EXT-441963","workId":"WK-794249","estimateNumber":"EST-55717","startDate":"Sat 15 Jan, 2:00 PM","lat":51.71019,"lng":-3.44802,"expectedWindow":"2pmâ€“3pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 8ZX\\n- Type Admin Review\\n- Skill ADMIN1\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"In Progress (EXC)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"In Progress (EXC)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30027","division":"Service Delivery","taskStatus":"Completed (COM)","pwa":"ZB-GAMMA-09","taskType":"Repair","primarySkill":"RISDN3","capabilities":["RISDN3"],"importanceScore":70,"msc":"N","taskCreated":"Fri 8 Jan, 3:30 PM","groupCode":"Service Delivery","systemType":"OR","employeeId":"T9031","resourceName":"Carys Jones","asset":"AS-6004","assetName":"Drop Wire","commitmentDate":"Sun 10 Jan, 8:15 AM","commitmentType":"Complete By","arrivedAtDate":"Tue 12 Jan, 10:40 AM","domain":"CF","estimatedDuration":60,"lastProgression":"Completed","category":"Repair","description":"Repair task for broadband/FTTP service in local area.","responseCode":"SH01","postCode":"CF44 7ZQ","appointmentStartDate":"","linkedTask":"","customerAddress":"53 King Street, Aberdare","expectedStartDate":"Tue 12 Jan, 10:40 AM","expectedFinishDate":"Fri 15 Jan, 11:40 AM","externalQueueId":"EXT-441878","workId":"WK-730760","estimateNumber":"EST-55777","startDate":"Tue 12 Jan, 10:40 AM","lat":51.70939,"lng":-3.43749,"expectedWindow":"10amâ€“11am","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7ZQ\\n- Type Repair\\n- Skill RISDN3\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Completed (COM)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Completed (COM)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30028","division":"Complex Engineering","taskStatus":"Not Assigned (ACT)","pwa":"ZB-OMEGA-10","taskType":"Survey","primarySkill":"RFTTP2","capabilities":["RFTTP2"],"importanceScore":96,"msc":"Y","taskCreated":"Wed 6 Jan, 7:30 AM","groupCode":"Complex Engineering","systemType":"NW","employeeId":"T7833","resourceName":"Bethan Hughes","asset":"AS-6244","assetName":"Route Survey Node","commitmentDate":"Thu 8 Jan, 8:15 AM","commitmentType":"Start By","arrivedAtDate":"","domain":"MN","estimatedDuration":150,"lastProgression":"Allocated","category":"Survey","description":"Survey task for broadband/FTTP service in local area.","responseCode":"SH01","postCode":"CF44 6BZ","appointmentStartDate":"","linkedTask":"","customerAddress":"13 Maesyffynnon Terrace, Aberdare","expectedStartDate":"Fri 8 Jan, 8:15 AM","expectedFinishDate":"Mon 11 Jan, 10:45 AM","externalQueueId":"EXT-441114","workId":"WK-741322","estimateNumber":"EST-55718","startDate":"","lat":51.72907,"lng":-3.5087,"expectedWindow":"8amâ€“10:30am","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 6BZ\\n- Type Survey\\n- Skill RFTTP2\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Not Assigned (ACT)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Not Assigned (ACT)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30029","division":"Service Delivery","taskStatus":"Assigned (ACT)","pwa":"ZB-ALPHA-03","taskType":"Inspection","primarySkill":"RISDN2","capabilities":["RISDN2"],"importanceScore":70,"msc":"Y","taskCreated":"Thu 11 Jan, 8:15 AM","groupCode":"Service Delivery","systemType":"FSM","employeeId":"T7794","resourceName":"Steffan James","asset":"AS-1291","assetName":"Distribution Point","commitmentDate":"Fri 13 Jan, 3:30 PM","commitmentType":"Appointment","arrivedAtDate":"","domain":"MN","estimatedDuration":90,"lastProgression":"En Route","category":"Inspection","description":"Inspection task for broadband/FTTP service in local area.","responseCode":"SH02","postCode":"CF44 6TK","appointmentStartDate":"Sat 13 Jan, 3:30 PM","linkedTask":"","customerAddress":"79 High Street, Aberdare","expectedStartDate":"Sat 13 Jan, 3:30 PM","expectedFinishDate":"Tue 16 Jan, 5:00 PM","externalQueueId":"EXT-441706","workId":"WK-708703","estimateNumber":"EST-55738","startDate":"","lat":51.7162,"lng":-3.45003,"expectedWindow":"3pmâ€“4:30pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 6TK\\n- Type Inspection\\n- Skill RISDN2\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Assigned (ACT)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Assigned (ACT)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30030","division":"Admin","taskStatus":"Dispatched (AWI)","pwa":"ZB-GAMMA-05","taskType":"Admin Review","primarySkill":"ADMIN2","capabilities":["ADMIN2"],"importanceScore":83,"msc":"Y","taskCreated":"Fri 8 Jan, 9:05 AM","groupCode":"Admin Group","systemType":"OR","employeeId":"T7728","resourceName":"Harvey Roberts","asset":"OFF-4119","assetName":"Admin Processing Queue","commitmentDate":"Sun 10 Jan, 1:15 PM","commitmentType":"Appointment","arrivedAtDate":"Tue 12 Jan, 4:10 PM","domain":"MN","estimatedDuration":40,"lastProgression":"On Site","category":"Administration","description":"Administration task for broadband/FTTP service in local area.","responseCode":"SH02","postCode":"CF44 7OD","appointmentStartDate":"Mon 10 Jan, 1:15 PM","linkedTask":"RG-AB30012","customerAddress":"","expectedStartDate":"Mon 10 Jan, 1:15 PM","expectedFinishDate":"Thu 13 Jan, 1:55 PM","externalQueueId":"EXT-441300","workId":"WK-719881","estimateNumber":"EST-55750","startDate":"Mon 10 Jan, 1:15 PM","lat":51.71655,"lng":-3.45119,"expectedWindow":"1pmâ€“1:40pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7OD\\n- Type Admin Review\\n- Skill ADMIN2\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Dispatched (AWI)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Dispatched (AWI)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30031","division":"Complex Engineering","taskStatus":"Accepted (ISS)","pwa":"ZB-DELTA-06","taskType":"Survey","primarySkill":"RFTTP2","capabilities":["RFTTP2"],"importanceScore":85,"msc":"N","taskCreated":"Mon 3 Jan, 10:40 AM","groupCode":"Complex Engineering","systemType":"NW","employeeId":"T3673","resourceName":"Owain Roberts","asset":"AS-3212","assetName":"Route Survey Node","commitmentDate":"Tue 5 Jan, 11:20 AM","commitmentType":"Start By","arrivedAtDate":"Thu 7 Jan, 4:10 PM","domain":"SE","estimatedDuration":150,"lastProgression":"Completed","category":"Survey","description":"Survey task for broadband/FTTP service in local area.","responseCode":"SH02","postCode":"CF44 7ED","appointmentStartDate":"","linkedTask":"","customerAddress":"11 Commercial Street, Aberdare","expectedStartDate":"Thu 7 Jan, 4:10 PM","expectedFinishDate":"Sun 10 Jan, 6:40 PM","externalQueueId":"EXT-441744","workId":"WK-733281","estimateNumber":"EST-55731","startDate":"Thu 7 Jan, 4:10 PM","lat":51.7242,"lng":-3.51178,"expectedWindow":"4pmâ€“6:30pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7ED\\n- Type Survey\\n- Skill RFTTP2\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Accepted (ISS)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Accepted (ISS)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30032","division":"Service Delivery","taskStatus":"In Progress (EXC)","pwa":"ZB-ALPHA-11","taskType":"Repair","primarySkill":"RISDN1","capabilities":["RISDN1"],"importanceScore":80,"msc":"Y","taskCreated":"Tue 4 Jan, 1:15 PM","groupCode":"Service Delivery","systemType":"OR","employeeId":"T4561","resourceName":"Chloe Price","asset":"AS-4599","assetName":"FTTC Cabinet","commitmentDate":"Thu 6 Jan, 2:00 PM","commitmentType":"Complete By","arrivedAtDate":"Fri 8 Jan, 8:15 AM","domain":"CF","estimatedDuration":90,"lastProgression":"On Site","category":"Repair","description":"Repair task for broadband/FTTP service in local area.","responseCode":"SH03","postCode":"CF44 8KL","appointmentStartDate":"","linkedTask":"","customerAddress":"22 Albert Street, Aberdare","expectedStartDate":"Sat 8 Jan, 8:15 AM","expectedFinishDate":"Tue 11 Jan, 9:45 AM","externalQueueId":"EXT-441728","workId":"WK-748868","estimateNumber":"EST-55729","startDate":"Sat 8 Jan, 8:15 AM","lat":51.71934,"lng":-3.44587,"expectedWindow":"8amâ€“9:30am","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 8KL\\n- Type Repair\\n- Skill RISDN1\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"In Progress (EXC)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"In Progress (EXC)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30033","division":"Admin","taskStatus":"Completed (COM)","pwa":"ZB-DELTA-08","taskType":"Admin Review","primarySkill":"ADMIN1","capabilities":["ADMIN1"],"importanceScore":67,"msc":"Y","taskCreated":"Wed 10 Jan, 9:05 AM","groupCode":"Admin Group","systemType":"FSM","employeeId":"T5944","resourceName":"Steffan Price","asset":"OFF-4311","assetName":"Document Verification Queue","commitmentDate":"Fri 12 Jan, 1:15 PM","commitmentType":"Complete By","arrivedAtDate":"Sun 14 Jan, 2:00 PM","domain":"CF","estimatedDuration":60,"lastProgression":"Completed","category":"Administration","description":"Administration task for broadband/FTTP service in local area.","responseCode":"SH02","postCode":"CF44 7JR","appointmentStartDate":"","linkedTask":"RG-AB30024","customerAddress":"","expectedStartDate":"Mon 14 Jan, 2:00 PM","expectedFinishDate":"Thu 17 Jan, 3:00 PM","externalQueueId":"EXT-441332","workId":"WK-725196","estimateNumber":"EST-55750","startDate":"Mon 14 Jan, 2:00 PM","lat":51.71125,"lng":-3.44951,"expectedWindow":"2pmâ€“3pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7TR\\n- Type Admin Review\\n- Skill ADMIN1\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Completed (COM)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Completed (COM)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30034","division":"Service Delivery","taskStatus":"Not Assigned (ACT)","pwa":"ZB-ALPHA-07","taskType":"Inspection","primarySkill":"RISDN3","capabilities":["RISDN3"],"importanceScore":51,"msc":"N","taskCreated":"Thu 9 Jan, 8:15 AM","groupCode":"Service Delivery","systemType":"OR","employeeId":"T5103","resourceName":"Rhys Thomas","asset":"AS-9476","assetName":"Underground Joint Chamber","commitmentDate":"Sat 11 Jan, 9:05 AM","commitmentType":"Future","arrivedAtDate":"","domain":"SE","estimatedDuration":90,"lastProgression":"Allocated","category":"Inspection","description":"Inspection task for broadband/FTTP service in local area.","responseCode":"SH02","postCode":"CF44 7DK","appointmentStartDate":"","linkedTask":"RG-AB30024","customerAddress":"62 High Street, Aberdare","expectedStartDate":"Sun 11 Jan, 9:05 AM","expectedFinishDate":"Wed 14 Jan, 10:35 AM","externalQueueId":"EXT-441935","workId":"WK-717714","estimateNumber":"EST-55793","startDate":"","lat":51.71377,"lng":-3.44688,"expectedWindow":"9amâ€“10:30am","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7DK\\n- Type Inspection\\n- Skill RISDN3\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Not Assigned (ACT)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Not Assigned (ACT)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30035","division":"Complex Engineering","taskStatus":"Assigned (ACT)","pwa":"ZB-DELTA-02","taskType":"Survey","primarySkill":"RFTTP2","capabilities":["RFTTP2"],"importanceScore":58,"msc":"Y","taskCreated":"Fri 8 Jan, 1:15 PM","groupCode":"Complex Engineering","systemType":"NW","employeeId":"T6650","resourceName":"Carys Morgan","asset":"AS-4821","assetName":"Joint Box","commitmentDate":"Sun 10 Jan, 3:30 PM","commitmentType":"Start By","arrivedAtDate":"","domain":"CF","estimatedDuration":150,"lastProgression":"On Site","category":"Survey","description":"Survey task for broadband/FTTP service in local area.","responseCode":"SH02","postCode":"CF44 7RA","appointmentStartDate":"","linkedTask":"","customerAddress":"66 Brook Street, Aberdare","expectedStartDate":"Mon 10 Jan, 3:30 PM","expectedFinishDate":"Thu 13 Jan, 6:00 PM","externalQueueId":"EXT-441144","workId":"WK-711545","estimateNumber":"EST-55786","startDate":"","lat":51.7161,"lng":-3.44434,"expectedWindow":"3pmâ€“5:30pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7RA\\n- Type Survey\\n- Skill RFTTP2\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Assigned (ACT)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Assigned (ACT)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30036","division":"Admin","taskStatus":"Dispatched (AWI)","pwa":"ZB-DELTA-01","taskType":"Admin Review","primarySkill":"ADMIN2","capabilities":["ADMIN2"],"importanceScore":62,"msc":"Y","taskCreated":"Sat 9 Jan, 9:05 AM","groupCode":"Admin Group","systemType":"OR","employeeId":"T7855","resourceName":"Steffan Jenkins","asset":"OFF-4023","assetName":"Admin Processing Queue","commitmentDate":"Mon 11 Jan, 1:15 PM","commitmentType":"Appointment","arrivedAtDate":"Wed 13 Jan, 2:00 PM","domain":"CF","estimatedDuration":40,"lastProgression":"Scheduled","category":"Administration","description":"Administration task for broadband/FTTP service in local area.","responseCode":"AD02","postCode":"CF44 8DW","appointmentStartDate":"Sun 11 Jan, 1:15 PM","linkedTask":"","customerAddress":"","expectedStartDate":"Sun 11 Jan, 1:15 PM","expectedFinishDate":"Wed 14 Jan, 1:55 PM","externalQueueId":"EXT-441939","workId":"WK-790818","estimateNumber":"EST-55733","startDate":"Sun 11 Jan, 1:15 PM","lat":51.70823,"lng":-3.50376,"expectedWindow":"1pmâ€“1:40pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 8DW\\n- Type Admin Review\\n- Skill ADMIN2\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Dispatched (AWI)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Dispatched (AWI)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30037","division":"Service Delivery","taskStatus":"Accepted (ISS)","pwa":"ZB-ALPHA-09","taskType":"Emergency","primarySkill":"RISDN3","capabilities":["RISDN3"],"importanceScore":92,"msc":"Y","taskCreated":"Sun 10 Jan, 8:15 AM","groupCode":"Service Delivery","systemType":"OR","employeeId":"T9012","resourceName":"Nia Davies","asset":"AS-5211","assetName":"Core Node Cabinet","commitmentDate":"Tue 12 Jan, 2:00 PM","commitmentType":"Tail","arrivedAtDate":"Wed 14 Jan, 11:20 AM","domain":"MN","estimatedDuration":150,"lastProgression":"En Route","category":"Emergency","description":"Emergency task for broadband/FTTP service in local area.","responseCode":"SH05","postCode":"CF44 7UU","appointmentStartDate":"","linkedTask":"RG-AB30032","customerAddress":"58 Cwmbach Road, Aberdare","expectedStartDate":"Thu 14 Jan, 11:20 AM","expectedFinishDate":"Sun 17 Jan, 1:50 PM","externalQueueId":"EXT-441306","workId":"WK-791918","estimateNumber":"EST-55790","startDate":"Thu 14 Jan, 11:20 AM","lat":51.71803,"lng":-3.44716,"expectedWindow":"11amâ€“1:30pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7UU\\n- Type Emergency\\n- Skill RISDN3\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Accepted (ISS)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Accepted (ISS)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30038","division":"Complex Engineering","taskStatus":"In Progress (EXC)","pwa":"ZB-GAMMA-12","taskType":"Survey","primarySkill":"RFTTP1","capabilities":["RFTTP1"],"importanceScore":78,"msc":"N","taskCreated":"Mon 11 Jan, 9:05 AM","groupCode":"Complex Engineering","systemType":"NW","employeeId":"T6772","resourceName":"Owain James","asset":"AS-5987","assetName":"Manhole Access Point","commitmentDate":"Wed 13 Jan, 1:15 PM","commitmentType":"Start By","arrivedAtDate":"Thu 15 Jan, 10:40 AM","domain":"CF","estimatedDuration":150,"lastProgression":"On Site","category":"Survey","description":"Survey task for broadband/FTTP service in local area.","responseCode":"SH04","postCode":"CF44 7LV","appointmentStartDate":"","linkedTask":"RG-AB30024","customerAddress":"19 Canon Street, Aberdare","expectedStartDate":"Thu 15 Jan, 10:40 AM","expectedFinishDate":"Sun 18 Jan, 1:10 PM","externalQueueId":"EXT-441653","workId":"WK-744988","estimateNumber":"EST-55779","startDate":"Thu 15 Jan, 10:40 AM","lat":51.72651,"lng":-3.45205,"expectedWindow":"10amâ€“12:30pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7LV\\n- Type Survey\\n- Skill RFTTP1\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"In Progress (EXC)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"In Progress (EXC)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30039","division":"Admin","taskStatus":"Completed (COM)","pwa":"ZB-ALPHA-01","taskType":"Admin Review","primarySkill":"ADMIN1","capabilities":["ADMIN1"],"importanceScore":63,"msc":"N","taskCreated":"Tue 12 Jan, 1:15 PM","groupCode":"Admin Group","systemType":"FSM","employeeId":"T7339","resourceName":"Harvey Price","asset":"OFF-6697","assetName":"Document Verification Queue","commitmentDate":"Thu 14 Jan, 3:30 PM","commitmentType":"Tail","arrivedAtDate":"Sat 16 Jan, 2:00 PM","domain":"MN","estimatedDuration":60,"lastProgression":"Completed","category":"Administration","description":"Administration task for broadband/FTTP service in local area.","responseCode":"AD02","postCode":"CF44 6TS","appointmentStartDate":"","linkedTask":"","customerAddress":"","expectedStartDate":"Sat 16 Jan, 2:00 PM","expectedFinishDate":"Tue 19 Jan, 3:00 PM","externalQueueId":"EXT-441923","workId":"WK-791162","estimateNumber":"EST-55748","startDate":"Sat 16 Jan, 2:00 PM","lat":51.7245,"lng":-3.44809,"expectedWindow":"2pmâ€“3pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 6TS\\n- Type Admin Review\\n- Skill ADMIN1\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Completed (COM)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Completed (COM)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30040","division":"Service Delivery","taskStatus":"Not Assigned (ACT)","pwa":"ZB-GAMMA-08","taskType":"Repair","primarySkill":"RISDN2","capabilities":["RISDN2"],"importanceScore":59,"msc":"Y","taskCreated":"Wed 13 Jan, 2:00 PM","groupCode":"Service Delivery","systemType":"OR","employeeId":"T6142","resourceName":"Ffion James","asset":"AS-6883","assetName":"FTTC Cabinet","commitmentDate":"Fri 15 Jan, 3:30 PM","commitmentType":"Future","arrivedAtDate":"","domain":"CF","estimatedDuration":110,"lastProgression":"Allocated","category":"Repair","description":"Repair task for broadband/FTTP service in local area.","responseCode":"SH04","postCode":"CF44 7QA","appointmentStartDate":"","linkedTask":"RG-AB30034","customerAddress":"88 Victoria Street, Aberdare","expectedStartDate":"Sat 15 Jan, 3:30 PM","expectedFinishDate":"Tue 18 Jan, 5:20 PM","externalQueueId":"EXT-441548","workId":"WK-742382","estimateNumber":"EST-55781","startDate":"","lat":51.71294,"lng":-3.44307,"expectedWindow":"3pmâ€“5:20pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7QA\\n- Type Repair\\n- Skill RISDN2\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Not Assigned (ACT)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Not Assigned (ACT)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]}]'),nh=JSON.parse('[{"resourceId":"SWBXA12","name":"John Evans","division":"Service Delivery","primarySkill":"RISDN2","secondarySkill":"RISDN1","status":"Available","pwa":"ZB-ALPHA-06","calloutGroup":"FJ","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900101","notes":"","history":[],"updatedAt":null,"homePostCode":"CF44 7AA","homeLat":51.71352,"homeLng":-3.44879},{"resourceId":"QWERB33","name":"Ffion Hughes","division":"Service Delivery","primarySkill":"RISDN3","secondarySkill":null,"status":"Unavailable","pwa":"ZB-GAMMA-04","calloutGroup":"ISDN","lastOutcome":"Unavailable","availableAgainAt":"2025-01-18T14:00","contactNumber":"07700900102","notes":"Medical appointment","history":[{"previousOutcome":null,"previousAvailableAgainAt":null,"changedAt":"2025-01-18T14:00:00Z"}],"updatedAt":"2025-01-18T14:00:00Z","homePostCode":"CF44 6ET","homeLat":51.71114,"homeLng":-3.43291},{"resourceId":"PLMKC14","name":"Owain Roberts","division":"Service Delivery","primarySkill":"RISDN1","secondarySkill":"RISDN2","status":"Available","pwa":"ZB-OMEGA-11","calloutGroup":"FJ","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900103","notes":"","history":[],"updatedAt":null,"homePostCode":"CF44 8NN","homeLat":51.72127,"homeLng":-3.44844},{"resourceId":"GHJTQ55","name":"Carys Morgan","division":"Service Delivery","primarySkill":"RISDN3","secondarySkill":null,"status":"On Task","pwa":"ZB-GAMMA-10","calloutGroup":"SD","lastOutcome":"Assigned","availableAgainAt":null,"contactNumber":"07700900104","notes":"","history":[],"updatedAt":"2025-01-17T09:30:00Z","homePostCode":"CF44 0AG","homeLat":51.69994,"homeLng":-3.43041},{"resourceId":"MNBGD82","name":"Rhys Davies","division":"Service Delivery","primarySkill":"RISDN2","secondarySkill":null,"status":"Available","pwa":"ZB-DELTA-10","calloutGroup":"FJ","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900105","notes":"","history":[],"updatedAt":null,"homePostCode":"CF44 9SW","homeLat":51.73152,"homeLng":-3.50623},{"resourceId":"LKJHF22","name":"Lowri Jenkins","division":"Complex Engineering","primarySkill":"RFTTP1","secondarySkill":"RFTTP2","status":"Available","pwa":"ZB-GAMMA-12","calloutGroup":"CE","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900106","notes":"","history":[],"updatedAt":null,"homePostCode":"CF45 3HD","homeLat":51.68691,"homeLng":-3.37852},{"resourceId":"ASDFR91","name":"Tomos Hughes","division":"Complex Engineering","primarySkill":"RFTTP2","secondarySkill":null,"status":"Unavailable","pwa":"ZB-DELTA-07","calloutGroup":"CE","lastOutcome":"Refusal","availableAgainAt":"2025-01-19T16:00","contactNumber":"07700900107","notes":"Family emergency","history":[{"previousOutcome":null,"previousAvailableAgainAt":null,"changedAt":"2025-01-17T12:00:00Z"}],"updatedAt":"2025-01-17T12:00:00Z","homePostCode":"CF47 8EL","homeLat":51.74842,"homeLng":-3.38123},{"resourceId":"ZXCVS67","name":"Bethan Evans","division":"Complex Engineering","primarySkill":"RFTTP2","secondarySkill":"RFTTP1","status":"On Task","pwa":"ZB-OMEGA-10","calloutGroup":"CE","lastOutcome":"Dispatched","availableAgainAt":null,"contactNumber":"07700900108","notes":"","history":[],"updatedAt":"2025-01-18T08:30:00Z","homePostCode":"CF44 6EA","homeLat":51.70887,"homeLng":-3.43811},{"resourceId":"BNMAS49","name":"Steffan Price","division":"Complex Engineering","primarySkill":"RFTTP1","secondarySkill":null,"status":"Available","pwa":"ZB-DELTA-05","calloutGroup":"CE","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900109","notes":"","history":[],"updatedAt":null,"homePostCode":"CF42 6UP","homeLat":51.65761,"homeLng":-3.50744},{"resourceId":"POIUY73","name":"Aled Thomas","division":"Complex Engineering","primarySkill":"RFTTP2","secondarySkill":null,"status":"Available","pwa":"ZB-ALPHA-02","calloutGroup":"CE","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900110","notes":"","history":[],"updatedAt":null,"homePostCode":"CF44 7AY","homeLat":51.71601,"homeLng":-3.45192},{"resourceId":"UJMKL89","name":"Lauren Evans","division":"Service Delivery","primarySkill":"RISDN2","secondarySkill":"RISDN3","status":"Available","pwa":"ZB-ALPHA-04","calloutGroup":"SD","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900116","notes":"","history":[],"updatedAt":null,"homePostCode":"CF44 7RP","homeLat":51.71074,"homeLng":-3.44591},{"resourceId":"KJHGF02","name":"Nia James","division":"Service Delivery","primarySkill":"RISDN1","secondarySkill":null,"status":"On Task","pwa":"ZB-GAMMA-09","calloutGroup":"ISDN","lastOutcome":"Dispatched","availableAgainAt":null,"contactNumber":"07700900117","notes":"","history":[],"updatedAt":"2025-01-18T08:50:00Z","homePostCode":"CF44 6AB","homeLat":51.70818,"homeLng":-3.42742},{"resourceId":"RTYHN44","name":"Chloe Davies","division":"Service Delivery","primarySkill":"RISDN3","secondarySkill":null,"status":"Available","pwa":"ZB-ALPHA-09","calloutGroup":"SD","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900120","notes":"","history":[],"updatedAt":null,"homePostCode":"CF44 9DL","homeLat":51.72475,"homeLng":-3.4862},{"resourceId":"SDNEW21","name":"Gareth Bowen","division":"Service Delivery","primarySkill":"RISDN1","secondarySkill":"RISDN2","status":"Available","pwa":"ZB-ALPHA-15","calloutGroup":"FJ","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900130","notes":"","history":[],"updatedAt":null,"homePostCode":"CF44 8HA","homeLat":51.71955,"homeLng":-3.45591},{"resourceId":"SDNEW22","name":"Megan Griffiths","division":"Service Delivery","primarySkill":"RISDN3","secondarySkill":"RISDN1","status":"Unavailable","pwa":"ZB-OMEGA-17","calloutGroup":"SD","lastOutcome":"Unavailable","availableAgainAt":"2025-01-20T09:00:00Z","contactNumber":"07700900131","notes":"Childcare","history":[],"updatedAt":"2025-01-18T13:15:00Z","homePostCode":"CF44 0SW","homeLat":51.70082,"homeLng":-3.4211},{"resourceId":"SDNEW23","name":"Ieuan Watkins","division":"Service Delivery","primarySkill":"RISDN1","secondarySkill":null,"status":"Available","pwa":"ZB-GAMMA-18","calloutGroup":"FJ","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900132","notes":"","history":[],"updatedAt":null,"homePostCode":"CF44 6LA","homeLat":51.70692,"homeLng":-3.43092},{"resourceId":"SDNEW24","name":"Seren Powell","division":"Service Delivery","primarySkill":"RISDN2","secondarySkill":"RISDN3","status":"On Task","pwa":"ZB-OMEGA-13","calloutGroup":"SD","lastOutcome":"Assigned","availableAgainAt":null,"contactNumber":"07700900133","notes":"","history":[],"updatedAt":"2025-01-18T10:10:00Z","homePostCode":"CF44 7PP","homeLat":51.71381,"homeLng":-3.45514},{"resourceId":"SDNEW25","name":"Rhys Llewellyn","division":"Service Delivery","primarySkill":"RISDN3","secondarySkill":"RISDN1","status":"Unavailable","pwa":"ZB-DELTA-11","calloutGroup":"ISDN","lastOutcome":"NoReply","availableAgainAt":"2025-01-21T08:00:00Z","contactNumber":"07700900134","notes":"Missed several calls","history":[{"previousOutcome":null,"previousAvailableAgainAt":null,"changedAt":"2025-01-18T12:45:00Z"}],"updatedAt":"2025-01-18T12:45:00Z","homePostCode":"CF44 9DJ","homeLat":51.7261,"homeLng":-3.49125},{"resourceId":"SDNEW26","name":"Catrin Rees","division":"Service Delivery","primarySkill":"RISDN2","secondarySkill":null,"status":"Available","pwa":"ZB-ALPHA-22","calloutGroup":"SD","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900135","notes":"","history":[],"updatedAt":null,"homePostCode":"CF44 0AJ","homeLat":51.70102,"homeLng":-3.43274},{"resourceId":"SDNEW27","name":"Gwenllian Thomas","division":"Service Delivery","primarySkill":"RISDN1","secondarySkill":"RISDN2","status":"Available","pwa":"ZB-GAMMA-22","calloutGroup":"FJ","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900136","notes":"","history":[],"updatedAt":null,"homePostCode":"CF44 9NH","homeLat":51.72982,"homeLng":-3.50008},{"resourceId":"FJNEW28","name":"Eleri Hopkins","division":"Service Delivery","primarySkill":"RISDN2","secondarySkill":"RISDN1","status":"Available","pwa":"ZB-ALPHA-18","calloutGroup":"FJ","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900137","notes":"","history":[],"updatedAt":null,"homePostCode":"CF44 7LS","homeLat":51.71743,"homeLng":-3.45271},{"resourceId":"FJNEW29","name":"Geraint Morgan","division":"Service Delivery","primarySkill":"RISDN3","secondarySkill":null,"status":"Available","pwa":"ZB-GAMMA-25","calloutGroup":"FJ","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900138","notes":"","history":[],"updatedAt":null,"homePostCode":"CF44 8PD","homeLat":51.72288,"homeLng":-3.45934},{"resourceId":"FJNEW30","name":"Non Davies","division":"Service Delivery","primarySkill":"RISDN2","secondarySkill":"RISDN3","status":"On Task","pwa":"ZB-DELTA-14","calloutGroup":"FJ","lastOutcome":"Dispatched","availableAgainAt":null,"contactNumber":"07700900139","notes":"","history":[],"updatedAt":"2025-01-18T15:10:00Z","homePostCode":"CF44 6QH","homeLat":51.70412,"homeLng":-3.42566}]'),oh={Appointment:"#F59E0B","Start By":"#EC4899","Complete By":"#3B82F6",Future:"#10B981",Tail:"#6B7280"},kl={Available:"#10B981",Unavailable:"#EF4444","On Task":"#3B82F6",Default:"#6B7280"},rh=36,sh=50;function ih(e,t){const o=i0(e,.35);return`
    <svg width="${rh}" height="${sh}" viewBox="0 0 40 56">
      ${t?`
        <rect x="1.5" y="1.5" width="37" height="53"
              rx="8" ry="8"
              fill="none"
              stroke="#DC2626"
              stroke-width="3" />`:""}

      <!-- Outer teardrop -->
      <path
        d="M20 2 C 11 2, 4 9, 4 18 C 4 29, 20 52, 20 52 C 20 52, 36 29, 36 18 C 36 9, 29 2, 20 2 Z"
        fill="#FFFFFF"
        stroke="#1F2937"
        stroke-width="2.5"
      />

      <!-- Inner coloured area (task commitment colour) -->
      <path
        d="M20 10 C 14 10, 9 15, 9 21 C 9 29, 20 44, 20 44 C 20 44, 31 29, 31 21 C 31 15, 26 10, 20 10 Z"
        fill="${e}"
        stroke="${o}"
        stroke-width="2.5"
      />
    </svg>
  `}function ah(e,t){const o=kl[e]||kl.Default;return`
    <svg width="${rh}" height="${sh}" viewBox="0 0 40 56">
      ${t?`
        <rect x="1.5" y="1.5" width="37" height="53"
              rx="8" ry="8"
              fill="none"
              stroke="#DC2626"
              stroke-width="3" />`:""}

      <!-- Outer teardrop -->
      <path
        d="M20 2 C 11 2, 4 9, 4 18 C 4 29, 20 52, 20 52 C 20 52, 36 29, 36 18 C 36 9, 29 2, 20 2 Z"
        fill="#FFFFFF"
        stroke="#1F2937"
        stroke-width="2.5"
      />

      <!-- Inner panel (light grey) to give contrast for the person icon -->
      <path
        d="M20 10 C 14 10, 9 15, 9 21 C 9 29, 20 44, 20 44 C 20 44, 31 29, 31 21 C 31 15, 26 10, 20 10 Z"
        fill="#E5E7EB"
        stroke="#D1D5DB"
        stroke-width="2"
      />

      <!-- Person / engineer silhouette -->
      <g transform="translate(8,6)" fill="#111827">
        <circle cx="12" cy="8" r="5.2" />
        <path d="M4.5 24.5c0-4.6 3.8-8.2 7.5-8.2s7.5 3.6 7.5 8.2v5.5H4.5v-5.5z" />
      </g>

      <!-- Status dot -->
      <circle
        cx="20"
        cy="39"
        r="5"
        fill="${o}"
        stroke="#FFFFFF"
        stroke-width="2"
      />
    </svg>
  `}function i0(e,t=.35){const o=e.replace("#",""),s=parseInt(o.substring(0,2),16),i=parseInt(o.substring(2,4),16),a=parseInt(o.substring(4,6),16);return`rgb(${Math.floor(s*(1-t))}, ${Math.floor(i*(1-t))}, ${Math.floor(a*(1-t))})`}function a0({visible:e,onClose:t}){const o=zt();return e?h.jsx(Ue,{sx:{position:"absolute",top:o.spacing(7),right:o.spacing(4),zIndex:9999},children:h.jsx(Nt,{elevation:14,sx:{width:o.spacing(36),borderRadius:3,px:3,py:2.5,border:`1px solid ${Te(o.palette.primary.main,.18)}`,boxShadow:"0 18px 46px rgba(8,58,97,0.22)",backgroundImage:"none"},children:h.jsxs(It,{spacing:3,children:[h.jsxs(It,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[h.jsx(yt,{variant:"subtitle2",fontWeight:600,color:"text.primary",children:"Map Legend"}),h.jsx(fn,{size:"small",onClick:t,sx:{color:Te(o.palette.text.primary,.6),"&:hover":{color:o.palette.primary.main,bgcolor:Te(o.palette.primary.main,.08)}},"aria-label":"Close legend",children:h.jsx(Op,{size:16})})]}),h.jsxs(It,{spacing:1.5,children:[h.jsx(yt,{variant:"overline",sx:{fontWeight:700,letterSpacing:1.1,color:Te(o.palette.text.secondary,.85)},children:"Resources"}),h.jsx(It,{spacing:1.5,children:Object.keys(kl).map(s=>h.jsxs(It,{direction:"row",spacing:2,alignItems:"center",children:[h.jsx(Ue,{sx:{transform:"scale(0.75)",transformOrigin:"left center"},dangerouslySetInnerHTML:{__html:ah(s,!1)}}),h.jsx(yt,{variant:"caption",color:"text.secondary",children:s})]},s))})]}),h.jsxs(It,{spacing:1.5,children:[h.jsx(yt,{variant:"overline",sx:{fontWeight:700,letterSpacing:1.1,color:Te(o.palette.text.secondary,.85)},children:"Tasks"}),h.jsx(It,{spacing:1.5,children:Object.entries(oh).map(([s,i])=>h.jsxs(It,{direction:"row",spacing:2,alignItems:"center",children:[h.jsx(Ue,{sx:{transform:"scale(0.75)",transformOrigin:"left center"},dangerouslySetInnerHTML:{__html:ih(i,!1)}}),h.jsx(yt,{variant:"caption",color:"text.secondary",children:s})]},s))})]})]})})}):null}const l0=tt(h.jsx("path",{d:"m18 7-1.41-1.41-6.34 6.34 1.41 1.41zm4.24-1.41L11.66 16.17 7.48 12l-1.41 1.41L11.66 19l12-12zM.41 13.41 6 19l1.41-1.41L1.83 12z"}),"DoneAll"),kr="__SELECT_ALL__",On=({label:e,options:t,value:o,onChange:s,required:i=!1,showSelectAllIcon:a=!0,wrapperSx:l})=>{const[d,p]=c.useState(""),f=d.trim().toLowerCase(),m=c.useMemo(()=>f?t.filter(R=>R.toLowerCase().includes(f)):t,[f,t]),g=m.filter(R=>o.includes(R)).length,v=m.length>0&&g===m.length,b=g>0&&!v,C=(R,j,k,M)=>{if((M==null?void 0:M.option)===kr){if(!m.length)return;const $=v?o.filter(N=>!m.includes(N)):Array.from(new Set([...o,...m]));s($);return}const E=j.filter($=>$!==kr);s(E)},x=R=>{if(R.stopPropagation(),!!m.length)if(v){const j=o.filter(k=>!m.includes(k));s(j)}else{const j=Array.from(new Set([...o,...m]));s(j)}},S={xs:"100%",sm:"22ch",md:"28ch"},_=32,P=48,z={width:"100%",maxWidth:S,px:1,display:"flex",alignItems:"center",minHeight:P,flex:"0 0 auto","& .MuiInputBase-root":{minHeight:P,transition:"all 120ms ease"},"& .MuiSelect-select":{display:"flex",alignItems:"center",minHeight:P,transition:"all 120ms ease"},"& .MuiAutocomplete-inputRoot":{paddingTop:0,paddingBottom:0,transition:"all 120ms ease"}};return h.jsx(Ue,{sx:l??z,children:h.jsx(Ns,{disableClearable:!0,multiple:!0,disableCloseOnSelect:!0,componentsProps:{popper:{style:{minWidth:"32ch",zIndex:2e3}}},sx:{width:S,"& .MuiAutocomplete-inputRoot":{minHeight:P,maxHeight:P,overflow:"hidden",alignItems:"center",transition:"all 120ms ease","& .MuiInputBase-input":{paddingRight:"56px",fontSize:13,lineHeight:`${_}px`,paddingTop:0,paddingBottom:0}},"& .MuiAutocomplete-tag":{display:"inline-flex",alignItems:"center",justifyContent:"center",height:_,maxWidth:"100%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},"& .MuiInputBase-root":{minHeight:P,transition:"all 120ms ease"}},options:[kr,...t],value:o,inputValue:d,onInputChange:(R,j)=>p(j),filterOptions:R=>R.filter(j=>j===kr||j.toLowerCase().includes(f)),onChange:C,getOptionLabel:R=>R===kr?"Select Filtered":R,renderOption:(R,j)=>j===kr?h.jsxs(Fi,{...R,dense:!0,children:[h.jsx(Un,{sx:{minWidth:32},children:h.jsx(Sl,{edge:"start",checked:v,indeterminate:b,size:"small"})}),h.jsx(Rn,{primary:v?"Clear Filtered":"Select Filtered"})]}):h.jsxs(Fi,{...R,dense:!0,children:[h.jsx(Un,{sx:{minWidth:32},children:h.jsx(Sl,{edge:"start",checked:o.includes(j),size:"small"})}),h.jsx(Rn,{primary:j})]}),renderTags:R=>{if(!R||R.length===0)return null;const j=R.length;return h.jsx(Ue,{sx:{display:"flex",gap:.5,alignItems:"center",overflow:"hidden",height:"100%",pr:"8px"},children:h.jsx(Vl,{label:`+${j}`,size:"small",variant:"outlined",sx:{flex:"0 0 auto",height:_,width:"auto",minWidth:_,display:"inline-flex",alignItems:"center",alignSelf:"center",justifyContent:"center",px:1,fontWeight:600,fontSize:13,lineHeight:`${_}px`,borderRadius:"9999px",bgcolor:"grey.100",borderColor:"rgba(0,0,0,0.08)",boxShadow:"inset 0 0 0 1px rgba(255,255,255,0.6)",border:"2px solid rgba(0,0,0,0.12)"}})})},renderInput:R=>{const j=h.jsxs(h.Fragment,{children:[a&&h.jsx(Mp,{title:v?"Clear filtered":"Select filtered",arrow:!0,children:h.jsx(fn,{size:"small",onClick:x,"aria-label":v?"Clear filtered":"Select filtered",sx:{mr:.75,px:.75},children:h.jsx(l0,{fontSize:"small",color:v?"primary":"inherit"})})}),R.InputProps.endAdornment]});return h.jsx(Dn,{...R,placeholder:o&&o.length?"":e,size:"small",required:i,"aria-label":e,InputProps:{...R.InputProps,endAdornment:j,sx:{height:P,transition:"all 120ms ease","& .MuiInputBase-input":{paddingTop:0,paddingBottom:0,paddingRight:"56px",fontSize:13,lineHeight:`${_}px`}}}})},ListboxProps:{sx:{maxHeight:320,zIndex:2e3}}})})},lh={xs:"100%",sm:"22ch",md:"28ch"},rd=32,jr=48,c0={width:"100%",maxWidth:lh,px:1,display:"flex",alignItems:"center",minHeight:jr,flex:"0 0 auto","& .MuiInputBase-root":{minHeight:jr},"& .MuiSelect-select":{display:"flex",alignItems:"center",minHeight:jr},"& .MuiAutocomplete-inputRoot":{paddingTop:0,paddingBottom:0,transition:"all 120ms ease"}},gi=({label:e,options:t,value:o,onChange:s,required:i=!1,wrapperSx:a,placeholder:l})=>{const[d,p]=c.useState(o??""),f=d.trim().toLowerCase(),m=c.useMemo(()=>f?t.filter(g=>g.toLowerCase().includes(f)):t,[f,t]);return h.jsx(Ue,{sx:a??c0,children:h.jsx(Ns,{freeSolo:!0,disableClearable:!0,componentsProps:{popper:{style:{zIndex:2e3}}},options:m,value:o||"",inputValue:d,onInputChange:(g,v)=>p(v),onChange:(g,v)=>s(String(v??"")),getOptionLabel:g=>typeof g=="string"?g:String(g),renderOption:(g,v)=>h.jsx(Fi,{...g,dense:!0,children:h.jsx(Rn,{primary:v})}),renderInput:g=>{const v=h.jsx(h.Fragment,{children:g.InputProps.endAdornment});return h.jsx(Dn,{...g,placeholder:o?"":l??e,size:"small",required:i,"aria-label":e,InputProps:{...g.InputProps,endAdornment:v,sx:{height:jr,transition:"all 120ms ease","& .MuiInputBase-input":{paddingTop:0,paddingBottom:0,paddingRight:"56px",fontSize:13,lineHeight:`${rd}px`}}}})},ListboxProps:{sx:{zIndex:2e3,maxHeight:320}},sx:{width:lh,"& .MuiAutocomplete-inputRoot":{minHeight:jr,maxHeight:jr,alignItems:"center",transition:"all 120ms ease","& .MuiInputBase-input":{paddingTop:0,paddingBottom:0,paddingRight:"56px",fontSize:13,lineHeight:`${rd}px`}}}})})};function sd(e){const t=e.match(/\(([^)]+)\)/);return t?t[1]:""}function id(e){return[...e].sort((t,o)=>{const s=sd(t),i=sd(o);return s===i?t.localeCompare(o):s.localeCompare(i)})}const u0=mr(Nt),d0=({mode:e="task-default",onSearch:t,onClear:o,dropdownData:s,resetKey:i,hideActions:a})=>{const l=zt(),[d,p]=c.useState({statuses:[],pwa:[],capabilities:[],commitmentTypes:[],responseCodes:[],impCondition:"",impValue:""}),[f,m]=c.useState(null),[g,v]=c.useState({statuses:"",pwa:"",capabilities:"",commitmentTypes:"",responseCodes:"",resourceStatuses:""});c.useEffect(()=>{p({statuses:[],pwa:[],capabilities:[],commitmentTypes:[],responseCodes:[],impCondition:"",impValue:""}),v({statuses:"",pwa:"",capabilities:"",commitmentTypes:"",responseCodes:"",resourceStatuses:""}),m(null)},[i]),c.useEffect(()=>{a&&t(d)},[d,a,t]);const b=$=>$??[],C=($,N)=>$.filter(F=>F.toLowerCase().includes(N.toLowerCase())),x={statuses:C(id(b(s.statuses)),g.statuses),pwa:C(b(s.pwa),g.pwa),capabilities:C(b(s.capabilities),g.capabilities),commitmentTypes:C(b(s.commitmentTypes),g.commitmentTypes),responseCodes:C(b(s.responseCodes),g.responseCodes),resourceStatuses:C(id(b(s.resourceStatuses)),g.resourceStatuses)},S=h.jsx(On,{label:"Task Status",options:x.statuses,value:d.statuses,onChange:$=>p(N=>({...N,statuses:$}))}),_=h.jsx(On,{label:"PWA",options:x.pwa,value:d.pwa,onChange:$=>p(N=>({...N,pwa:$}))}),P=h.jsx(On,{label:"Capabilities",options:x.capabilities,value:d.capabilities,onChange:$=>p(N=>({...N,capabilities:$}))}),z=h.jsx(On,{label:"Commit Type",options:x.commitmentTypes,value:d.commitmentTypes,onChange:$=>p(N=>({...N,commitmentTypes:$}))}),R=h.jsx(On,{label:"Response Code",options:x.responseCodes,value:d.responseCodes??[],onChange:$=>p(N=>({...N,responseCodes:$}))}),j=h.jsx(p0,{condition:d.impCondition??"",value:d.impValue??"",openDropdown:f,setOpenDropdown:m,onConditionChange:$=>p(N=>({...N,impCondition:$})),onValueChange:$=>p(N=>({...N,impValue:$}))}),k=h.jsx(On,{label:"Status",options:x.resourceStatuses,value:d.statuses,onChange:$=>p(N=>({...N,statuses:$}))}),M=e==="resource-active"?"resource-active":"task-default",E=()=>M==="task-default"?h.jsxs(Et,{container:!0,spacing:2,children:[h.jsx(Et,{item:!0,xs:12,sm:6,children:S}),h.jsx(Et,{item:!0,xs:12,sm:6,children:_}),h.jsx(Et,{item:!0,xs:12,sm:6,children:P}),h.jsx(Et,{item:!0,xs:12,sm:6,children:z}),h.jsx(Et,{item:!0,xs:12,sm:6,children:R}),h.jsx(Et,{item:!0,xs:12,children:j})]}):M==="resource-active"?h.jsxs(Et,{container:!0,spacing:2,children:[h.jsx(Et,{item:!0,xs:12,sm:6,children:k}),h.jsx(Et,{item:!0,xs:12,sm:6,children:_})]}):null;return h.jsxs(u0,{initial:{opacity:0,y:-4},animate:{opacity:1,y:0},transition:{duration:.2},elevation:0,sx:{width:"100%",maxWidth:{xs:"95vw",sm:l.spacing(100)},borderRadius:3,px:3,py:3,display:"flex",flexDirection:"column",gap:3,border:`1px solid ${Te(l.palette.primary.main,.18)}`,boxShadow:"0 18px 46px rgba(8,58,97,0.18)",backgroundImage:"none",overflowX:"hidden"},children:[E(),!a&&h.jsxs(It,{direction:"row",justifyContent:"flex-end",spacing:1.5,pt:2,mt:2,sx:{borderTop:`1px solid ${Te(l.palette.divider,.7)}`},children:[h.jsx(Pn,{variant:"contained",color:"primary",size:"small",onClick:()=>t(d),sx:{px:3,fontWeight:600,boxShadow:"none","&:hover":{boxShadow:"0 12px 28px rgba(8,58,97,0.25)"}},children:"Search"}),h.jsx(Pn,{variant:"outlined",size:"small",onClick:o,sx:{px:3,fontWeight:600,borderColor:Te(l.palette.primary.main,.28),"&:hover":{borderColor:l.palette.primary.main,backgroundColor:Te(l.palette.primary.main,.08)}},children:"Clear"})]})]})};function p0({condition:e,value:t,openDropdown:o,setOpenDropdown:s,onConditionChange:i,onValueChange:a}){const l=zt(),[d,p]=c.useState(null),f=o==="imp";c.useEffect(()=>{f||p(null)},[f]);const m=e==="greater"?"Greater Than":e==="less"?"Less Than":"IMP Score",g=b=>{f?s(null):(p(b.currentTarget),s("imp"))},v=()=>s(null);return h.jsxs(It,{direction:{xs:"column",sm:"row"},spacing:2,alignItems:{xs:"stretch",sm:"flex-start"},children:[h.jsx(Pn,{variant:"outlined",size:"small",endIcon:h.jsx(Np,{size:14}),onClick:g,sx:{maxWidth:240,width:"100%",justifyContent:"space-between",textTransform:"none",fontSize:12,fontWeight:500,height:36,borderRadius:1.5,borderColor:Te(l.palette.primary.main,.22),color:l.palette.text.primary,px:2,"&:hover":{borderColor:l.palette.primary.main,backgroundColor:Te(l.palette.primary.main,.06)}},children:h.jsx(yt,{variant:"caption",component:"span",sx:{flexGrow:1,textAlign:"left",pr:1.5,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:m})}),h.jsx(Dn,{type:"number",size:"small",value:t,onChange:b=>{const C=(b.target.value||"").replace(/\D/g,"").slice(0,3);a(C)},placeholder:"Value",inputProps:{min:0,max:999,style:{fontSize:12,padding:"6px 10px",width:"clamp(64px, 6vw, 90px)"}}}),h.jsxs(Ul,{anchorEl:d,open:f,onClose:v,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},MenuListProps:{dense:!0,sx:{fontSize:12}},slotProps:{paper:{elevation:12,sx:{minWidth:180,borderRadius:2,border:`1px solid ${Te(l.palette.primary.main,.18)}`,boxShadow:"0 18px 46px rgba(8,58,97,0.18)",backgroundImage:"none"}}},children:[h.jsx(un,{onClick:()=>{i("greater"),v()},children:"Greater Than"}),h.jsx(un,{onClick:()=>{i("less"),v()},children:"Less Than"})]})]})}function h0({mode:e,onSearch:t,onClear:o,dropdownData:s,resetKey:i}){return h.jsx(d0,{mode:e,onSearch:t,onClear:o,dropdownData:s,resetKey:i,hideActions:!0})}function m0(){const e=zt();return h.jsx(Nt,{elevation:0,sx:{height:"100%",borderRadius:3,px:3,py:2.5,border:`1px solid ${Te(e.palette.primary.main,.18)}`,boxShadow:"0 18px 46px rgba(8,58,97,0.18)",backgroundImage:"none"}})}function ch(e,t){const o=c.useRef(t);c.useEffect(function(){t!==o.current&&e.attributionControl!=null&&(o.current!=null&&e.attributionControl.removeAttribution(o.current),t!=null&&e.attributionControl.addAttribution(t)),o.current=t},[e,t])}const f0=1;function g0(e){return Object.freeze({__version:f0,map:e})}function v0(e,t){return Object.freeze({...e,...t})}const ic=c.createContext(null);function ac(){const e=c.use(ic);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function y0(e){function t(o,s){const{instance:i,context:a}=e(o).current;c.useImperativeHandle(s,()=>i);const{children:l}=o;return l==null?null:zn.createElement(ic,{value:a},l)}return c.forwardRef(t)}function b0(e){function t(o,s){const[i,a]=c.useState(!1),{instance:l}=e(o,a).current;c.useImperativeHandle(s,()=>l),c.useEffect(function(){i&&l.update()},[l,i,o.children]);const d=l._contentNode;return d?Os.createPortal(o.children,d):null}return c.forwardRef(t)}function C0(e){function t(o,s){const{instance:i}=e(o).current;return c.useImperativeHandle(s,()=>i),null}return c.forwardRef(t)}function uh(e,t){const o=c.useRef(void 0);c.useEffect(function(){return t!=null&&e.instance.on(t),o.current=t,function(){o.current!=null&&e.instance.off(o.current),o.current=null}},[e,t])}function lc(e,t){const o=e.pane??t.pane;return o?{...e,pane:o}:e}function x0(e,t){return function(s,i){const a=ac(),l=e(lc(s,a),a);return ch(a.map,s.attribution),uh(l.current,s.eventHandlers),t(l.current,a,s,i),l}}var vs={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var w0=vs.exports,ad;function S0(){return ad||(ad=1,function(e,t){(function(o,s){s(t)})(w0,function(o){var s="1.9.4";function i(n){var r,u,y,w;for(u=1,y=arguments.length;u<y;u++){w=arguments[u];for(r in w)n[r]=w[r]}return n}var a=Object.create||function(){function n(){}return function(r){return n.prototype=r,new n}}();function l(n,r){var u=Array.prototype.slice;if(n.bind)return n.bind.apply(n,u.call(arguments,1));var y=u.call(arguments,2);return function(){return n.apply(r,y.length?y.concat(u.call(arguments)):arguments)}}var d=0;function p(n){return"_leaflet_id"in n||(n._leaflet_id=++d),n._leaflet_id}function f(n,r,u){var y,w,O,U;return U=function(){y=!1,w&&(O.apply(u,w),w=!1)},O=function(){y?w=arguments:(n.apply(u,arguments),setTimeout(U,r),y=!0)},O}function m(n,r,u){var y=r[1],w=r[0],O=y-w;return n===y&&u?n:((n-w)%O+O)%O+w}function g(){return!1}function v(n,r){if(r===!1)return n;var u=Math.pow(10,r===void 0?6:r);return Math.round(n*u)/u}function b(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}function C(n){return b(n).split(/\s+/)}function x(n,r){Object.prototype.hasOwnProperty.call(n,"options")||(n.options=n.options?a(n.options):{});for(var u in r)n.options[u]=r[u];return n.options}function S(n,r,u){var y=[];for(var w in n)y.push(encodeURIComponent(u?w.toUpperCase():w)+"="+encodeURIComponent(n[w]));return(!r||r.indexOf("?")===-1?"?":"&")+y.join("&")}var _=/\{ *([\w_ -]+) *\}/g;function P(n,r){return n.replace(_,function(u,y){var w=r[y];if(w===void 0)throw new Error("No value provided for variable "+u);return typeof w=="function"&&(w=w(r)),w})}var z=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"};function R(n,r){for(var u=0;u<n.length;u++)if(n[u]===r)return u;return-1}var j="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function k(n){return window["webkit"+n]||window["moz"+n]||window["ms"+n]}var M=0;function E(n){var r=+new Date,u=Math.max(0,16-(r-M));return M=r+u,window.setTimeout(n,u)}var $=window.requestAnimationFrame||k("RequestAnimationFrame")||E,N=window.cancelAnimationFrame||k("CancelAnimationFrame")||k("CancelRequestAnimationFrame")||function(n){window.clearTimeout(n)};function F(n,r,u){if(u&&$===E)n.call(r);else return $.call(window,l(n,r))}function G(n){n&&N.call(window,n)}var H={__proto__:null,extend:i,create:a,bind:l,get lastId(){return d},stamp:p,throttle:f,wrapNum:m,falseFn:g,formatNum:v,trim:b,splitWords:C,setOptions:x,getParamString:S,template:P,isArray:z,indexOf:R,emptyImageUrl:j,requestFn:$,cancelFn:N,requestAnimFrame:F,cancelAnimFrame:G};function T(){}T.extend=function(n){var r=function(){x(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},u=r.__super__=this.prototype,y=a(u);y.constructor=r,r.prototype=y;for(var w in this)Object.prototype.hasOwnProperty.call(this,w)&&w!=="prototype"&&w!=="__super__"&&(r[w]=this[w]);return n.statics&&i(r,n.statics),n.includes&&(A(n.includes),i.apply(null,[y].concat(n.includes))),i(y,n),delete y.statics,delete y.includes,y.options&&(y.options=u.options?a(u.options):{},i(y.options,n.options)),y._initHooks=[],y.callInitHooks=function(){if(!this._initHooksCalled){u.callInitHooks&&u.callInitHooks.call(this),this._initHooksCalled=!0;for(var O=0,U=y._initHooks.length;O<U;O++)y._initHooks[O].call(this)}},r},T.include=function(n){var r=this.prototype.options;return i(this.prototype,n),n.options&&(this.prototype.options=r,this.mergeOptions(n.options)),this},T.mergeOptions=function(n){return i(this.prototype.options,n),this},T.addInitHook=function(n){var r=Array.prototype.slice.call(arguments,1),u=typeof n=="function"?n:function(){this[n].apply(this,r)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(u),this};function A(n){if(!(typeof L>"u"||!L||!L.Mixin)){n=z(n)?n:[n];for(var r=0;r<n.length;r++)n[r]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var B={on:function(n,r,u){if(typeof n=="object")for(var y in n)this._on(y,n[y],r);else{n=C(n);for(var w=0,O=n.length;w<O;w++)this._on(n[w],r,u)}return this},off:function(n,r,u){if(!arguments.length)delete this._events;else if(typeof n=="object")for(var y in n)this._off(y,n[y],r);else{n=C(n);for(var w=arguments.length===1,O=0,U=n.length;O<U;O++)w?this._off(n[O]):this._off(n[O],r,u)}return this},_on:function(n,r,u,y){if(typeof r!="function"){console.warn("wrong listener type: "+typeof r);return}if(this._listens(n,r,u)===!1){u===this&&(u=void 0);var w={fn:r,ctx:u};y&&(w.once=!0),this._events=this._events||{},this._events[n]=this._events[n]||[],this._events[n].push(w)}},_off:function(n,r,u){var y,w,O;if(this._events&&(y=this._events[n],!!y)){if(arguments.length===1){if(this._firingCount)for(w=0,O=y.length;w<O;w++)y[w].fn=g;delete this._events[n];return}if(typeof r!="function"){console.warn("wrong listener type: "+typeof r);return}var U=this._listens(n,r,u);if(U!==!1){var oe=y[U];this._firingCount&&(oe.fn=g,this._events[n]=y=y.slice()),y.splice(U,1)}}},fire:function(n,r,u){if(!this.listens(n,u))return this;var y=i({},r,{type:n,target:this,sourceTarget:r&&r.sourceTarget||this});if(this._events){var w=this._events[n];if(w){this._firingCount=this._firingCount+1||1;for(var O=0,U=w.length;O<U;O++){var oe=w[O],ue=oe.fn;oe.once&&this.off(n,ue,oe.ctx),ue.call(oe.ctx||this,y)}this._firingCount--}}return u&&this._propagateEvent(y),this},listens:function(n,r,u,y){typeof n!="string"&&console.warn('"string" type argument expected');var w=r;typeof r!="function"&&(y=!!r,w=void 0,u=void 0);var O=this._events&&this._events[n];if(O&&O.length&&this._listens(n,w,u)!==!1)return!0;if(y){for(var U in this._eventParents)if(this._eventParents[U].listens(n,r,u,y))return!0}return!1},_listens:function(n,r,u){if(!this._events)return!1;var y=this._events[n]||[];if(!r)return!!y.length;u===this&&(u=void 0);for(var w=0,O=y.length;w<O;w++)if(y[w].fn===r&&y[w].ctx===u)return w;return!1},once:function(n,r,u){if(typeof n=="object")for(var y in n)this._on(y,n[y],r,!0);else{n=C(n);for(var w=0,O=n.length;w<O;w++)this._on(n[w],r,u,!0)}return this},addEventParent:function(n){return this._eventParents=this._eventParents||{},this._eventParents[p(n)]=n,this},removeEventParent:function(n){return this._eventParents&&delete this._eventParents[p(n)],this},_propagateEvent:function(n){for(var r in this._eventParents)this._eventParents[r].fire(n.type,i({layer:n.target,propagatedFrom:n.target},n),!0)}};B.addEventListener=B.on,B.removeEventListener=B.clearAllEventListeners=B.off,B.addOneTimeEventListener=B.once,B.fireEvent=B.fire,B.hasEventListeners=B.listens;var W=T.extend(B);function D(n,r,u){this.x=u?Math.round(n):n,this.y=u?Math.round(r):r}var V=Math.trunc||function(n){return n>0?Math.floor(n):Math.ceil(n)};D.prototype={clone:function(){return new D(this.x,this.y)},add:function(n){return this.clone()._add(Z(n))},_add:function(n){return this.x+=n.x,this.y+=n.y,this},subtract:function(n){return this.clone()._subtract(Z(n))},_subtract:function(n){return this.x-=n.x,this.y-=n.y,this},divideBy:function(n){return this.clone()._divideBy(n)},_divideBy:function(n){return this.x/=n,this.y/=n,this},multiplyBy:function(n){return this.clone()._multiplyBy(n)},_multiplyBy:function(n){return this.x*=n,this.y*=n,this},scaleBy:function(n){return new D(this.x*n.x,this.y*n.y)},unscaleBy:function(n){return new D(this.x/n.x,this.y/n.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=V(this.x),this.y=V(this.y),this},distanceTo:function(n){n=Z(n);var r=n.x-this.x,u=n.y-this.y;return Math.sqrt(r*r+u*u)},equals:function(n){return n=Z(n),n.x===this.x&&n.y===this.y},contains:function(n){return n=Z(n),Math.abs(n.x)<=Math.abs(this.x)&&Math.abs(n.y)<=Math.abs(this.y)},toString:function(){return"Point("+v(this.x)+", "+v(this.y)+")"}};function Z(n,r,u){return n instanceof D?n:z(n)?new D(n[0],n[1]):n==null?n:typeof n=="object"&&"x"in n&&"y"in n?new D(n.x,n.y):new D(n,r,u)}function K(n,r){if(n)for(var u=r?[n,r]:n,y=0,w=u.length;y<w;y++)this.extend(u[y])}K.prototype={extend:function(n){var r,u;if(!n)return this;if(n instanceof D||typeof n[0]=="number"||"x"in n)r=u=Z(n);else if(n=Q(n),r=n.min,u=n.max,!r||!u)return this;return!this.min&&!this.max?(this.min=r.clone(),this.max=u.clone()):(this.min.x=Math.min(r.x,this.min.x),this.max.x=Math.max(u.x,this.max.x),this.min.y=Math.min(r.y,this.min.y),this.max.y=Math.max(u.y,this.max.y)),this},getCenter:function(n){return Z((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,n)},getBottomLeft:function(){return Z(this.min.x,this.max.y)},getTopRight:function(){return Z(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(n){var r,u;return typeof n[0]=="number"||n instanceof D?n=Z(n):n=Q(n),n instanceof K?(r=n.min,u=n.max):r=u=n,r.x>=this.min.x&&u.x<=this.max.x&&r.y>=this.min.y&&u.y<=this.max.y},intersects:function(n){n=Q(n);var r=this.min,u=this.max,y=n.min,w=n.max,O=w.x>=r.x&&y.x<=u.x,U=w.y>=r.y&&y.y<=u.y;return O&&U},overlaps:function(n){n=Q(n);var r=this.min,u=this.max,y=n.min,w=n.max,O=w.x>r.x&&y.x<u.x,U=w.y>r.y&&y.y<u.y;return O&&U},isValid:function(){return!!(this.min&&this.max)},pad:function(n){var r=this.min,u=this.max,y=Math.abs(r.x-u.x)*n,w=Math.abs(r.y-u.y)*n;return Q(Z(r.x-y,r.y-w),Z(u.x+y,u.y+w))},equals:function(n){return n?(n=Q(n),this.min.equals(n.getTopLeft())&&this.max.equals(n.getBottomRight())):!1}};function Q(n,r){return!n||n instanceof K?n:new K(n,r)}function Y(n,r){if(n)for(var u=r?[n,r]:n,y=0,w=u.length;y<w;y++)this.extend(u[y])}Y.prototype={extend:function(n){var r=this._southWest,u=this._northEast,y,w;if(n instanceof q)y=n,w=n;else if(n instanceof Y){if(y=n._southWest,w=n._northEast,!y||!w)return this}else return n?this.extend(te(n)||ee(n)):this;return!r&&!u?(this._southWest=new q(y.lat,y.lng),this._northEast=new q(w.lat,w.lng)):(r.lat=Math.min(y.lat,r.lat),r.lng=Math.min(y.lng,r.lng),u.lat=Math.max(w.lat,u.lat),u.lng=Math.max(w.lng,u.lng)),this},pad:function(n){var r=this._southWest,u=this._northEast,y=Math.abs(r.lat-u.lat)*n,w=Math.abs(r.lng-u.lng)*n;return new Y(new q(r.lat-y,r.lng-w),new q(u.lat+y,u.lng+w))},getCenter:function(){return new q((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new q(this.getNorth(),this.getWest())},getSouthEast:function(){return new q(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(n){typeof n[0]=="number"||n instanceof q||"lat"in n?n=te(n):n=ee(n);var r=this._southWest,u=this._northEast,y,w;return n instanceof Y?(y=n.getSouthWest(),w=n.getNorthEast()):y=w=n,y.lat>=r.lat&&w.lat<=u.lat&&y.lng>=r.lng&&w.lng<=u.lng},intersects:function(n){n=ee(n);var r=this._southWest,u=this._northEast,y=n.getSouthWest(),w=n.getNorthEast(),O=w.lat>=r.lat&&y.lat<=u.lat,U=w.lng>=r.lng&&y.lng<=u.lng;return O&&U},overlaps:function(n){n=ee(n);var r=this._southWest,u=this._northEast,y=n.getSouthWest(),w=n.getNorthEast(),O=w.lat>r.lat&&y.lat<u.lat,U=w.lng>r.lng&&y.lng<u.lng;return O&&U},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(n,r){return n?(n=ee(n),this._southWest.equals(n.getSouthWest(),r)&&this._northEast.equals(n.getNorthEast(),r)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ee(n,r){return n instanceof Y?n:new Y(n,r)}function q(n,r,u){if(isNaN(n)||isNaN(r))throw new Error("Invalid LatLng object: ("+n+", "+r+")");this.lat=+n,this.lng=+r,u!==void 0&&(this.alt=+u)}q.prototype={equals:function(n,r){if(!n)return!1;n=te(n);var u=Math.max(Math.abs(this.lat-n.lat),Math.abs(this.lng-n.lng));return u<=(r===void 0?1e-9:r)},toString:function(n){return"LatLng("+v(this.lat,n)+", "+v(this.lng,n)+")"},distanceTo:function(n){return X.distance(this,te(n))},wrap:function(){return X.wrapLatLng(this)},toBounds:function(n){var r=180*n/40075017,u=r/Math.cos(Math.PI/180*this.lat);return ee([this.lat-r,this.lng-u],[this.lat+r,this.lng+u])},clone:function(){return new q(this.lat,this.lng,this.alt)}};function te(n,r,u){return n instanceof q?n:z(n)&&typeof n[0]!="object"?n.length===3?new q(n[0],n[1],n[2]):n.length===2?new q(n[0],n[1]):null:n==null?n:typeof n=="object"&&"lat"in n?new q(n.lat,"lng"in n?n.lng:n.lon,n.alt):r===void 0?null:new q(n,r,u)}var ae={latLngToPoint:function(n,r){var u=this.projection.project(n),y=this.scale(r);return this.transformation._transform(u,y)},pointToLatLng:function(n,r){var u=this.scale(r),y=this.transformation.untransform(n,u);return this.projection.unproject(y)},project:function(n){return this.projection.project(n)},unproject:function(n){return this.projection.unproject(n)},scale:function(n){return 256*Math.pow(2,n)},zoom:function(n){return Math.log(n/256)/Math.LN2},getProjectedBounds:function(n){if(this.infinite)return null;var r=this.projection.bounds,u=this.scale(n),y=this.transformation.transform(r.min,u),w=this.transformation.transform(r.max,u);return new K(y,w)},infinite:!1,wrapLatLng:function(n){var r=this.wrapLng?m(n.lng,this.wrapLng,!0):n.lng,u=this.wrapLat?m(n.lat,this.wrapLat,!0):n.lat,y=n.alt;return new q(u,r,y)},wrapLatLngBounds:function(n){var r=n.getCenter(),u=this.wrapLatLng(r),y=r.lat-u.lat,w=r.lng-u.lng;if(y===0&&w===0)return n;var O=n.getSouthWest(),U=n.getNorthEast(),oe=new q(O.lat-y,O.lng-w),ue=new q(U.lat-y,U.lng-w);return new Y(oe,ue)}},X=i({},ae,{wrapLng:[-180,180],R:6371e3,distance:function(n,r){var u=Math.PI/180,y=n.lat*u,w=r.lat*u,O=Math.sin((r.lat-n.lat)*u/2),U=Math.sin((r.lng-n.lng)*u/2),oe=O*O+Math.cos(y)*Math.cos(w)*U*U,ue=2*Math.atan2(Math.sqrt(oe),Math.sqrt(1-oe));return this.R*ue}}),ve=6378137,Ce={R:ve,MAX_LATITUDE:85.0511287798,project:function(n){var r=Math.PI/180,u=this.MAX_LATITUDE,y=Math.max(Math.min(u,n.lat),-u),w=Math.sin(y*r);return new D(this.R*n.lng*r,this.R*Math.log((1+w)/(1-w))/2)},unproject:function(n){var r=180/Math.PI;return new q((2*Math.atan(Math.exp(n.y/this.R))-Math.PI/2)*r,n.x*r/this.R)},bounds:function(){var n=ve*Math.PI;return new K([-n,-n],[n,n])}()};function le(n,r,u,y){if(z(n)){this._a=n[0],this._b=n[1],this._c=n[2],this._d=n[3];return}this._a=n,this._b=r,this._c=u,this._d=y}le.prototype={transform:function(n,r){return this._transform(n.clone(),r)},_transform:function(n,r){return r=r||1,n.x=r*(this._a*n.x+this._b),n.y=r*(this._c*n.y+this._d),n},untransform:function(n,r){return r=r||1,new D((n.x/r-this._b)/this._a,(n.y/r-this._d)/this._c)}};function ce(n,r,u,y){return new le(n,r,u,y)}var ie=i({},X,{code:"EPSG:3857",projection:Ce,transformation:function(){var n=.5/(Math.PI*Ce.R);return ce(n,.5,-n,.5)}()}),fe=i({},ie,{code:"EPSG:900913"});function me(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function ye(n,r){var u="",y,w,O,U,oe,ue;for(y=0,O=n.length;y<O;y++){for(oe=n[y],w=0,U=oe.length;w<U;w++)ue=oe[w],u+=(w?"L":"M")+ue.x+" "+ue.y;u+=r?De.svg?"z":"x":""}return u||"M0 0"}var ne=document.documentElement.style,ge="ActiveXObject"in window,we=ge&&!document.addEventListener,Fe="msLaunchUri"in navigator&&!("documentMode"in document),Ne=Oe("webkit"),Ie=Oe("android"),be=Oe("android 2")||Oe("android 3"),Pe=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ke=Ie&&Oe("Google")&&Pe<537&&!("AudioNode"in window),We=!!window.opera,nt=!Fe&&Oe("chrome"),et=Oe("gecko")&&!Ne&&!We&&!ge,Xe=!nt&&Oe("safari"),Ke=Oe("phantom"),St="OTransition"in ne,it=navigator.platform.indexOf("Win")===0,ot=ge&&"transition"in ne,Jt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!be,kt="MozPerspective"in ne,Ht=!window.L_DISABLE_3D&&(ot||Jt||kt)&&!St&&!Ke,dn=typeof orientation<"u"||Oe("mobile"),on=dn&&Ne,ln=dn&&Jt,jt=!window.PointerEvent&&window.MSPointerEvent,Ct=!!(window.PointerEvent||jt),de="ontouchstart"in window||!!window.TouchEvent,re=!window.L_NO_TOUCH&&(de||Ct),_e=dn&&We,Je=dn&&et,Ze=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,qe=function(){var n=!1;try{var r=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("testPassiveEventSupport",g,r),window.removeEventListener("testPassiveEventSupport",g,r)}catch{}return n}(),Ye=function(){return!!document.createElement("canvas").getContext}(),Se=!!(document.createElementNS&&me("svg").createSVGRect),Ae=!!Se&&function(){var n=document.createElement("div");return n.innerHTML="<svg/>",(n.firstChild&&n.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),$e=!Se&&function(){try{var n=document.createElement("div");n.innerHTML='<v:shape adj="1"/>';var r=n.firstChild;return r.style.behavior="url(#default#VML)",r&&typeof r.adj=="object"}catch{return!1}}(),Ee=navigator.platform.indexOf("Mac")===0,Me=navigator.platform.indexOf("Linux")===0;function Oe(n){return navigator.userAgent.toLowerCase().indexOf(n)>=0}var De={ie:ge,ielt9:we,edge:Fe,webkit:Ne,android:Ie,android23:be,androidStock:ke,opera:We,chrome:nt,gecko:et,safari:Xe,phantom:Ke,opera12:St,win:it,ie3d:ot,webkit3d:Jt,gecko3d:kt,any3d:Ht,mobile:dn,mobileWebkit:on,mobileWebkit3d:ln,msPointer:jt,pointer:Ct,touch:re,touchNative:de,mobileOpera:_e,mobileGecko:Je,retina:Ze,passiveEvents:qe,canvas:Ye,svg:Se,vml:$e,inlineSvg:Ae,mac:Ee,linux:Me},Qt=De.msPointer?"MSPointerDown":"pointerdown",pn=De.msPointer?"MSPointerMove":"pointermove",Tt=De.msPointer?"MSPointerUp":"pointerup",Rt=De.msPointer?"MSPointerCancel":"pointercancel",rn={touchstart:Qt,touchmove:pn,touchend:Tt,touchcancel:Rt},Jn={touchstart:Ma,touchmove:Mo,touchend:Mo,touchcancel:Mo},he={},pe=!1;function He(n,r,u){return r==="touchstart"&&In(),Jn[r]?(u=Jn[r].bind(this,u),n.addEventListener(rn[r],u,!1),u):(console.warn("wrong event specified:",r),g)}function st(n,r,u){if(!rn[r]){console.warn("wrong event specified:",r);return}n.removeEventListener(rn[r],u,!1)}function gt(n){he[n.pointerId]=n}function Mt(n){he[n.pointerId]&&(he[n.pointerId]=n)}function Gt(n){delete he[n.pointerId]}function In(){pe||(document.addEventListener(Qt,gt,!0),document.addEventListener(pn,Mt,!0),document.addEventListener(Tt,Gt,!0),document.addEventListener(Rt,Gt,!0),pe=!0)}function Mo(n,r){if(r.pointerType!==(r.MSPOINTER_TYPE_MOUSE||"mouse")){r.touches=[];for(var u in he)r.touches.push(he[u]);r.changedTouches=[r],n(r)}}function Ma(n,r){r.MSPOINTER_TYPE_TOUCH&&r.pointerType===r.MSPOINTER_TYPE_TOUCH&&yn(r),Mo(n,r)}function Ks(n){var r={},u,y;for(y in n)u=n[y],r[y]=u&&u.bind?u.bind(n):u;return n=r,r.type="dblclick",r.detail=2,r.isTrusted=!1,r._simulated=!0,r}var vr=200;function yr(n,r){n.addEventListener("dblclick",r);var u=0,y;function w(O){if(O.detail!==1){y=O.detail;return}if(!(O.pointerType==="mouse"||O.sourceCapabilities&&!O.sourceCapabilities.firesTouchEvents)){var U=Uc(O);if(!(U.some(function(ue){return ue instanceof HTMLLabelElement&&ue.attributes.for})&&!U.some(function(ue){return ue instanceof HTMLInputElement||ue instanceof HTMLSelectElement}))){var oe=Date.now();oe-u<=vr?(y++,y===2&&r(Ks(O))):y=1,u=oe}}}return n.addEventListener("click",w),{dblclick:r,simDblclick:w}}function wt(n,r){n.removeEventListener("dblclick",r.dblclick),n.removeEventListener("click",r.simDblclick)}var Tn=Ys(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),kn=Ys(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ao=kn==="webkitTransition"||kn==="OTransition"?kn+"End":"transitionend";function Js(n){return typeof n=="string"?document.getElementById(n):n}function es(n,r){var u=n.style[r]||n.currentStyle&&n.currentStyle[r];if((!u||u==="auto")&&document.defaultView){var y=document.defaultView.getComputedStyle(n,null);u=y?y[r]:null}return u==="auto"?null:u}function _t(n,r,u){var y=document.createElement(n);return y.className=r||"",u&&u.appendChild(y),y}function Vt(n){var r=n.parentNode;r&&r.removeChild(n)}function qs(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function br(n){var r=n.parentNode;r&&r.lastChild!==n&&r.appendChild(n)}function Cr(n){var r=n.parentNode;r&&r.firstChild!==n&&r.insertBefore(n,r.firstChild)}function Aa(n,r){if(n.classList!==void 0)return n.classList.contains(r);var u=Xs(n);return u.length>0&&new RegExp("(^|\\s)"+r+"(\\s|$)").test(u)}function ct(n,r){if(n.classList!==void 0)for(var u=C(r),y=0,w=u.length;y<w;y++)n.classList.add(u[y]);else if(!Aa(n,r)){var O=Xs(n);Ea(n,(O?O+" ":"")+r)}}function en(n,r){n.classList!==void 0?n.classList.remove(r):Ea(n,b((" "+Xs(n)+" ").replace(" "+r+" "," ")))}function Ea(n,r){n.className.baseVal===void 0?n.className=r:n.className.baseVal=r}function Xs(n){return n.correspondingElement&&(n=n.correspondingElement),n.className.baseVal===void 0?n.className:n.className.baseVal}function $n(n,r){"opacity"in n.style?n.style.opacity=r:"filter"in n.style&&sf(n,r)}function sf(n,r){var u=!1,y="DXImageTransform.Microsoft.Alpha";try{u=n.filters.item(y)}catch{if(r===1)return}r=Math.round(r*100),u?(u.Enabled=r!==100,u.Opacity=r):n.style.filter+=" progid:"+y+"(opacity="+r+")"}function Ys(n){for(var r=document.documentElement.style,u=0;u<n.length;u++)if(n[u]in r)return n[u];return!1}function Ko(n,r,u){var y=r||new D(0,0);n.style[Tn]=(De.ie3d?"translate("+y.x+"px,"+y.y+"px)":"translate3d("+y.x+"px,"+y.y+"px,0)")+(u?" scale("+u+")":"")}function sn(n,r){n._leaflet_pos=r,De.any3d?Ko(n,r):(n.style.left=r.x+"px",n.style.top=r.y+"px")}function Jo(n){return n._leaflet_pos||new D(0,0)}var ts,ns,Da;if("onselectstart"in document)ts=function(){at(window,"selectstart",yn)},ns=function(){Lt(window,"selectstart",yn)};else{var os=Ys(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ts=function(){if(os){var n=document.documentElement.style;Da=n[os],n[os]="none"}},ns=function(){os&&(document.documentElement.style[os]=Da,Da=void 0)}}function Ra(){at(window,"dragstart",yn)}function La(){Lt(window,"dragstart",yn)}var Qs,Fa;function Oa(n){for(;n.tabIndex===-1;)n=n.parentNode;n.style&&(ei(),Qs=n,Fa=n.style.outlineStyle,n.style.outlineStyle="none",at(window,"keydown",ei))}function ei(){Qs&&(Qs.style.outlineStyle=Fa,Qs=void 0,Fa=void 0,Lt(window,"keydown",ei))}function Wc(n){do n=n.parentNode;while((!n.offsetWidth||!n.offsetHeight)&&n!==document.body);return n}function Na(n){var r=n.getBoundingClientRect();return{x:r.width/n.offsetWidth||1,y:r.height/n.offsetHeight||1,boundingClientRect:r}}var af={__proto__:null,TRANSFORM:Tn,TRANSITION:kn,TRANSITION_END:Ao,get:Js,getStyle:es,create:_t,remove:Vt,empty:qs,toFront:br,toBack:Cr,hasClass:Aa,addClass:ct,removeClass:en,setClass:Ea,getClass:Xs,setOpacity:$n,testProp:Ys,setTransform:Ko,setPosition:sn,getPosition:Jo,get disableTextSelection(){return ts},get enableTextSelection(){return ns},disableImageDrag:Ra,enableImageDrag:La,preventOutline:Oa,restoreOutline:ei,getSizedParentNode:Wc,getScale:Na};function at(n,r,u,y){if(r&&typeof r=="object")for(var w in r)$a(n,w,r[w],u);else{r=C(r);for(var O=0,U=r.length;O<U;O++)$a(n,r[O],u,y)}return this}var io="_leaflet_events";function Lt(n,r,u,y){if(arguments.length===1)Zc(n),delete n[io];else if(r&&typeof r=="object")for(var w in r)Ba(n,w,r[w],u);else if(r=C(r),arguments.length===2)Zc(n,function(oe){return R(r,oe)!==-1});else for(var O=0,U=r.length;O<U;O++)Ba(n,r[O],u,y);return this}function Zc(n,r){for(var u in n[io]){var y=u.split(/\d/)[0];(!r||r(y))&&Ba(n,y,null,null,u)}}var za={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function $a(n,r,u,y){var w=r+p(u)+(y?"_"+p(y):"");if(n[io]&&n[io][w])return this;var O=function(oe){return u.call(y||n,oe||window.event)},U=O;!De.touchNative&&De.pointer&&r.indexOf("touch")===0?O=He(n,r,O):De.touch&&r==="dblclick"?O=yr(n,O):"addEventListener"in n?r==="touchstart"||r==="touchmove"||r==="wheel"||r==="mousewheel"?n.addEventListener(za[r]||r,O,De.passiveEvents?{passive:!1}:!1):r==="mouseenter"||r==="mouseleave"?(O=function(oe){oe=oe||window.event,ja(n,oe)&&U(oe)},n.addEventListener(za[r],O,!1)):n.addEventListener(r,U,!1):n.attachEvent("on"+r,O),n[io]=n[io]||{},n[io][w]=O}function Ba(n,r,u,y,w){w=w||r+p(u)+(y?"_"+p(y):"");var O=n[io]&&n[io][w];if(!O)return this;!De.touchNative&&De.pointer&&r.indexOf("touch")===0?st(n,r,O):De.touch&&r==="dblclick"?wt(n,O):"removeEventListener"in n?n.removeEventListener(za[r]||r,O,!1):n.detachEvent("on"+r,O),n[io][w]=null}function qo(n){return n.stopPropagation?n.stopPropagation():n.originalEvent?n.originalEvent._stopped=!0:n.cancelBubble=!0,this}function Ha(n){return $a(n,"wheel",qo),this}function rs(n){return at(n,"mousedown touchstart dblclick contextmenu",qo),n._leaflet_disable_click=!0,this}function yn(n){return n.preventDefault?n.preventDefault():n.returnValue=!1,this}function Xo(n){return yn(n),qo(n),this}function Uc(n){if(n.composedPath)return n.composedPath();for(var r=[],u=n.target;u;)r.push(u),u=u.parentNode;return r}function Kc(n,r){if(!r)return new D(n.clientX,n.clientY);var u=Na(r),y=u.boundingClientRect;return new D((n.clientX-y.left)/u.x-r.clientLeft,(n.clientY-y.top)/u.y-r.clientTop)}var lf=De.linux&&De.chrome?window.devicePixelRatio:De.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Jc(n){return De.edge?n.wheelDeltaY/2:n.deltaY&&n.deltaMode===0?-n.deltaY/lf:n.deltaY&&n.deltaMode===1?-n.deltaY*20:n.deltaY&&n.deltaMode===2?-n.deltaY*60:n.deltaX||n.deltaZ?0:n.wheelDelta?(n.wheelDeltaY||n.wheelDelta)/2:n.detail&&Math.abs(n.detail)<32765?-n.detail*20:n.detail?n.detail/-32765*60:0}function ja(n,r){var u=r.relatedTarget;if(!u)return!0;try{for(;u&&u!==n;)u=u.parentNode}catch{return!1}return u!==n}var cf={__proto__:null,on:at,off:Lt,stopPropagation:qo,disableScrollPropagation:Ha,disableClickPropagation:rs,preventDefault:yn,stop:Xo,getPropagationPath:Uc,getMousePosition:Kc,getWheelDelta:Jc,isExternalTarget:ja,addListener:at,removeListener:Lt},qc=W.extend({run:function(n,r,u,y){this.stop(),this._el=n,this._inProgress=!0,this._duration=u||.25,this._easeOutPower=1/Math.max(y||.5,.2),this._startPos=Jo(n),this._offset=r.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=F(this._animate,this),this._step()},_step:function(n){var r=+new Date-this._startTime,u=this._duration*1e3;r<u?this._runFrame(this._easeOut(r/u),n):(this._runFrame(1),this._complete())},_runFrame:function(n,r){var u=this._startPos.add(this._offset.multiplyBy(n));r&&u._round(),sn(this._el,u),this.fire("step")},_complete:function(){G(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(n){return 1-Math.pow(1-n,this._easeOutPower)}}),xt=W.extend({options:{crs:ie,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(n,r){r=x(this,r),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(n),this._initLayout(),this._onResize=l(this._onResize,this),this._initEvents(),r.maxBounds&&this.setMaxBounds(r.maxBounds),r.zoom!==void 0&&(this._zoom=this._limitZoom(r.zoom)),r.center&&r.zoom!==void 0&&this.setView(te(r.center),r.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=kn&&De.any3d&&!De.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),at(this._proxy,Ao,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(n,r,u){if(r=r===void 0?this._zoom:this._limitZoom(r),n=this._limitCenter(te(n),r,this.options.maxBounds),u=u||{},this._stop(),this._loaded&&!u.reset&&u!==!0){u.animate!==void 0&&(u.zoom=i({animate:u.animate},u.zoom),u.pan=i({animate:u.animate,duration:u.duration},u.pan));var y=this._zoom!==r?this._tryAnimatedZoom&&this._tryAnimatedZoom(n,r,u.zoom):this._tryAnimatedPan(n,u.pan);if(y)return clearTimeout(this._sizeTimer),this}return this._resetView(n,r,u.pan&&u.pan.noMoveStart),this},setZoom:function(n,r){return this._loaded?this.setView(this.getCenter(),n,{zoom:r}):(this._zoom=n,this)},zoomIn:function(n,r){return n=n||(De.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+n,r)},zoomOut:function(n,r){return n=n||(De.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-n,r)},setZoomAround:function(n,r,u){var y=this.getZoomScale(r),w=this.getSize().divideBy(2),O=n instanceof D?n:this.latLngToContainerPoint(n),U=O.subtract(w).multiplyBy(1-1/y),oe=this.containerPointToLatLng(w.add(U));return this.setView(oe,r,{zoom:u})},_getBoundsCenterZoom:function(n,r){r=r||{},n=n.getBounds?n.getBounds():ee(n);var u=Z(r.paddingTopLeft||r.padding||[0,0]),y=Z(r.paddingBottomRight||r.padding||[0,0]),w=this.getBoundsZoom(n,!1,u.add(y));if(w=typeof r.maxZoom=="number"?Math.min(r.maxZoom,w):w,w===1/0)return{center:n.getCenter(),zoom:w};var O=y.subtract(u).divideBy(2),U=this.project(n.getSouthWest(),w),oe=this.project(n.getNorthEast(),w),ue=this.unproject(U.add(oe).divideBy(2).add(O),w);return{center:ue,zoom:w}},fitBounds:function(n,r){if(n=ee(n),!n.isValid())throw new Error("Bounds are not valid.");var u=this._getBoundsCenterZoom(n,r);return this.setView(u.center,u.zoom,r)},fitWorld:function(n){return this.fitBounds([[-90,-180],[90,180]],n)},panTo:function(n,r){return this.setView(n,this._zoom,{pan:r})},panBy:function(n,r){if(n=Z(n).round(),r=r||{},!n.x&&!n.y)return this.fire("moveend");if(r.animate!==!0&&!this.getSize().contains(n))return this._resetView(this.unproject(this.project(this.getCenter()).add(n)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new qc,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),r.noMoveStart||this.fire("movestart"),r.animate!==!1){ct(this._mapPane,"leaflet-pan-anim");var u=this._getMapPanePos().subtract(n).round();this._panAnim.run(this._mapPane,u,r.duration||.25,r.easeLinearity)}else this._rawPanBy(n),this.fire("move").fire("moveend");return this},flyTo:function(n,r,u){if(u=u||{},u.animate===!1||!De.any3d)return this.setView(n,r,u);this._stop();var y=this.project(this.getCenter()),w=this.project(n),O=this.getSize(),U=this._zoom;n=te(n),r=r===void 0?U:r;var oe=Math.max(O.x,O.y),ue=oe*this.getZoomScale(U,r),xe=w.distanceTo(y)||1,Be=1.42,Qe=Be*Be;function vt(an){var pi=an?-1:1,Xf=an?ue:oe,Yf=ue*ue-oe*oe+pi*Qe*Qe*xe*xe,Qf=2*Xf*Qe*xe,Qa=Yf/Qf,Au=Math.sqrt(Qa*Qa+1)-Qa,eg=Au<1e-9?-18:Math.log(Au);return eg}function wn(an){return(Math.exp(an)-Math.exp(-an))/2}function hn(an){return(Math.exp(an)+Math.exp(-an))/2}function Hn(an){return wn(an)/hn(an)}var Mn=vt(0);function Ir(an){return oe*(hn(Mn)/hn(Mn+Be*an))}function Uf(an){return oe*(hn(Mn)*Hn(Mn+Be*an)-wn(Mn))/Qe}function Kf(an){return 1-Math.pow(1-an,1.5)}var Jf=Date.now(),ku=(vt(1)-Mn)/Be,qf=u.duration?1e3*u.duration:1e3*ku*.8;function Mu(){var an=(Date.now()-Jf)/qf,pi=Kf(an)*ku;an<=1?(this._flyToFrame=F(Mu,this),this._move(this.unproject(y.add(w.subtract(y).multiplyBy(Uf(pi)/xe)),U),this.getScaleZoom(oe/Ir(pi),U),{flyTo:!0})):this._move(n,r)._moveEnd(!0)}return this._moveStart(!0,u.noMoveStart),Mu.call(this),this},flyToBounds:function(n,r){var u=this._getBoundsCenterZoom(n,r);return this.flyTo(u.center,u.zoom,r)},setMaxBounds:function(n){return n=ee(n),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),n.isValid()?(this.options.maxBounds=n,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(n){var r=this.options.minZoom;return this.options.minZoom=n,this._loaded&&r!==n&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(n):this},setMaxZoom:function(n){var r=this.options.maxZoom;return this.options.maxZoom=n,this._loaded&&r!==n&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(n):this},panInsideBounds:function(n,r){this._enforcingBounds=!0;var u=this.getCenter(),y=this._limitCenter(u,this._zoom,ee(n));return u.equals(y)||this.panTo(y,r),this._enforcingBounds=!1,this},panInside:function(n,r){r=r||{};var u=Z(r.paddingTopLeft||r.padding||[0,0]),y=Z(r.paddingBottomRight||r.padding||[0,0]),w=this.project(this.getCenter()),O=this.project(n),U=this.getPixelBounds(),oe=Q([U.min.add(u),U.max.subtract(y)]),ue=oe.getSize();if(!oe.contains(O)){this._enforcingBounds=!0;var xe=O.subtract(oe.getCenter()),Be=oe.extend(O).getSize().subtract(ue);w.x+=xe.x<0?-Be.x:Be.x,w.y+=xe.y<0?-Be.y:Be.y,this.panTo(this.unproject(w),r),this._enforcingBounds=!1}return this},invalidateSize:function(n){if(!this._loaded)return this;n=i({animate:!1,pan:!0},n===!0?{animate:!0}:n);var r=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var u=this.getSize(),y=r.divideBy(2).round(),w=u.divideBy(2).round(),O=y.subtract(w);return!O.x&&!O.y?this:(n.animate&&n.pan?this.panBy(O):(n.pan&&this._rawPanBy(O),this.fire("move"),n.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:r,newSize:u}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(n){if(n=this._locateOptions=i({timeout:1e4,watch:!1},n),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var r=l(this._handleGeolocationResponse,this),u=l(this._handleGeolocationError,this);return n.watch?this._locationWatchId=navigator.geolocation.watchPosition(r,u,n):navigator.geolocation.getCurrentPosition(r,u,n),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(n){if(this._container._leaflet_id){var r=n.code,u=n.message||(r===1?"permission denied":r===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:r,message:"Geolocation error: "+u+"."})}},_handleGeolocationResponse:function(n){if(this._container._leaflet_id){var r=n.coords.latitude,u=n.coords.longitude,y=new q(r,u),w=y.toBounds(n.coords.accuracy*2),O=this._locateOptions;if(O.setView){var U=this.getBoundsZoom(w);this.setView(y,O.maxZoom?Math.min(U,O.maxZoom):U)}var oe={latlng:y,bounds:w,timestamp:n.timestamp};for(var ue in n.coords)typeof n.coords[ue]=="number"&&(oe[ue]=n.coords[ue]);this.fire("locationfound",oe)}},addHandler:function(n,r){if(!r)return this;var u=this[n]=new r(this);return this._handlers.push(u),this.options[n]&&u.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Vt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(G(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var n;for(n in this._layers)this._layers[n].remove();for(n in this._panes)Vt(this._panes[n]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(n,r){var u="leaflet-pane"+(n?" leaflet-"+n.replace("Pane","")+"-pane":""),y=_t("div",u,r||this._mapPane);return n&&(this._panes[n]=y),y},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var n=this.getPixelBounds(),r=this.unproject(n.getBottomLeft()),u=this.unproject(n.getTopRight());return new Y(r,u)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(n,r,u){n=ee(n),u=Z(u||[0,0]);var y=this.getZoom()||0,w=this.getMinZoom(),O=this.getMaxZoom(),U=n.getNorthWest(),oe=n.getSouthEast(),ue=this.getSize().subtract(u),xe=Q(this.project(oe,y),this.project(U,y)).getSize(),Be=De.any3d?this.options.zoomSnap:1,Qe=ue.x/xe.x,vt=ue.y/xe.y,wn=r?Math.max(Qe,vt):Math.min(Qe,vt);return y=this.getScaleZoom(wn,y),Be&&(y=Math.round(y/(Be/100))*(Be/100),y=r?Math.ceil(y/Be)*Be:Math.floor(y/Be)*Be),Math.max(w,Math.min(O,y))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new D(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(n,r){var u=this._getTopLeftPoint(n,r);return new K(u,u.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(n){return this.options.crs.getProjectedBounds(n===void 0?this.getZoom():n)},getPane:function(n){return typeof n=="string"?this._panes[n]:n},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(n,r){var u=this.options.crs;return r=r===void 0?this._zoom:r,u.scale(n)/u.scale(r)},getScaleZoom:function(n,r){var u=this.options.crs;r=r===void 0?this._zoom:r;var y=u.zoom(n*u.scale(r));return isNaN(y)?1/0:y},project:function(n,r){return r=r===void 0?this._zoom:r,this.options.crs.latLngToPoint(te(n),r)},unproject:function(n,r){return r=r===void 0?this._zoom:r,this.options.crs.pointToLatLng(Z(n),r)},layerPointToLatLng:function(n){var r=Z(n).add(this.getPixelOrigin());return this.unproject(r)},latLngToLayerPoint:function(n){var r=this.project(te(n))._round();return r._subtract(this.getPixelOrigin())},wrapLatLng:function(n){return this.options.crs.wrapLatLng(te(n))},wrapLatLngBounds:function(n){return this.options.crs.wrapLatLngBounds(ee(n))},distance:function(n,r){return this.options.crs.distance(te(n),te(r))},containerPointToLayerPoint:function(n){return Z(n).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(n){return Z(n).add(this._getMapPanePos())},containerPointToLatLng:function(n){var r=this.containerPointToLayerPoint(Z(n));return this.layerPointToLatLng(r)},latLngToContainerPoint:function(n){return this.layerPointToContainerPoint(this.latLngToLayerPoint(te(n)))},mouseEventToContainerPoint:function(n){return Kc(n,this._container)},mouseEventToLayerPoint:function(n){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(n))},mouseEventToLatLng:function(n){return this.layerPointToLatLng(this.mouseEventToLayerPoint(n))},_initContainer:function(n){var r=this._container=Js(n);if(r){if(r._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");at(r,"scroll",this._onScroll,this),this._containerId=p(r)},_initLayout:function(){var n=this._container;this._fadeAnimated=this.options.fadeAnimation&&De.any3d,ct(n,"leaflet-container"+(De.touch?" leaflet-touch":"")+(De.retina?" leaflet-retina":"")+(De.ielt9?" leaflet-oldie":"")+(De.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var r=es(n,"position");r!=="absolute"&&r!=="relative"&&r!=="fixed"&&r!=="sticky"&&(n.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var n=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),sn(this._mapPane,new D(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ct(n.markerPane,"leaflet-zoom-hide"),ct(n.shadowPane,"leaflet-zoom-hide"))},_resetView:function(n,r,u){sn(this._mapPane,new D(0,0));var y=!this._loaded;this._loaded=!0,r=this._limitZoom(r),this.fire("viewprereset");var w=this._zoom!==r;this._moveStart(w,u)._move(n,r)._moveEnd(w),this.fire("viewreset"),y&&this.fire("load")},_moveStart:function(n,r){return n&&this.fire("zoomstart"),r||this.fire("movestart"),this},_move:function(n,r,u,y){r===void 0&&(r=this._zoom);var w=this._zoom!==r;return this._zoom=r,this._lastCenter=n,this._pixelOrigin=this._getNewPixelOrigin(n),y?u&&u.pinch&&this.fire("zoom",u):((w||u&&u.pinch)&&this.fire("zoom",u),this.fire("move",u)),this},_moveEnd:function(n){return n&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return G(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(n){sn(this._mapPane,this._getMapPanePos().subtract(n))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(n){this._targets={},this._targets[p(this._container)]=this;var r=n?Lt:at;r(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&r(window,"resize",this._onResize,this),De.any3d&&this.options.transform3DLimit&&(n?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){G(this._resizeRequest),this._resizeRequest=F(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var n=this._getMapPanePos();Math.max(Math.abs(n.x),Math.abs(n.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(n,r){for(var u=[],y,w=r==="mouseout"||r==="mouseover",O=n.target||n.srcElement,U=!1;O;){if(y=this._targets[p(O)],y&&(r==="click"||r==="preclick")&&this._draggableMoved(y)){U=!0;break}if(y&&y.listens(r,!0)&&(w&&!ja(O,n)||(u.push(y),w))||O===this._container)break;O=O.parentNode}return!u.length&&!U&&!w&&this.listens(r,!0)&&(u=[this]),u},_isClickDisabled:function(n){for(;n&&n!==this._container;){if(n._leaflet_disable_click)return!0;n=n.parentNode}},_handleDOMEvent:function(n){var r=n.target||n.srcElement;if(!(!this._loaded||r._leaflet_disable_events||n.type==="click"&&this._isClickDisabled(r))){var u=n.type;u==="mousedown"&&Oa(r),this._fireDOMEvent(n,u)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(n,r,u){if(n.type==="click"){var y=i({},n);y.type="preclick",this._fireDOMEvent(y,y.type,u)}var w=this._findEventTargets(n,r);if(u){for(var O=[],U=0;U<u.length;U++)u[U].listens(r,!0)&&O.push(u[U]);w=O.concat(w)}if(w.length){r==="contextmenu"&&yn(n);var oe=w[0],ue={originalEvent:n};if(n.type!=="keypress"&&n.type!=="keydown"&&n.type!=="keyup"){var xe=oe.getLatLng&&(!oe._radius||oe._radius<=10);ue.containerPoint=xe?this.latLngToContainerPoint(oe.getLatLng()):this.mouseEventToContainerPoint(n),ue.layerPoint=this.containerPointToLayerPoint(ue.containerPoint),ue.latlng=xe?oe.getLatLng():this.layerPointToLatLng(ue.layerPoint)}for(U=0;U<w.length;U++)if(w[U].fire(r,ue,!0),ue.originalEvent._stopped||w[U].options.bubblingMouseEvents===!1&&R(this._mouseEvents,r)!==-1)return}},_draggableMoved:function(n){return n=n.dragging&&n.dragging.enabled()?n:this,n.dragging&&n.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var n=0,r=this._handlers.length;n<r;n++)this._handlers[n].disable()},whenReady:function(n,r){return this._loaded?n.call(r||this,{target:this}):this.on("load",n,r),this},_getMapPanePos:function(){return Jo(this._mapPane)||new D(0,0)},_moved:function(){var n=this._getMapPanePos();return n&&!n.equals([0,0])},_getTopLeftPoint:function(n,r){var u=n&&r!==void 0?this._getNewPixelOrigin(n,r):this.getPixelOrigin();return u.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(n,r){var u=this.getSize()._divideBy(2);return this.project(n,r)._subtract(u)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(n,r,u){var y=this._getNewPixelOrigin(u,r);return this.project(n,r)._subtract(y)},_latLngBoundsToNewLayerBounds:function(n,r,u){var y=this._getNewPixelOrigin(u,r);return Q([this.project(n.getSouthWest(),r)._subtract(y),this.project(n.getNorthWest(),r)._subtract(y),this.project(n.getSouthEast(),r)._subtract(y),this.project(n.getNorthEast(),r)._subtract(y)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(n){return this.latLngToLayerPoint(n).subtract(this._getCenterLayerPoint())},_limitCenter:function(n,r,u){if(!u)return n;var y=this.project(n,r),w=this.getSize().divideBy(2),O=new K(y.subtract(w),y.add(w)),U=this._getBoundsOffset(O,u,r);return Math.abs(U.x)<=1&&Math.abs(U.y)<=1?n:this.unproject(y.add(U),r)},_limitOffset:function(n,r){if(!r)return n;var u=this.getPixelBounds(),y=new K(u.min.add(n),u.max.add(n));return n.add(this._getBoundsOffset(y,r))},_getBoundsOffset:function(n,r,u){var y=Q(this.project(r.getNorthEast(),u),this.project(r.getSouthWest(),u)),w=y.min.subtract(n.min),O=y.max.subtract(n.max),U=this._rebound(w.x,-O.x),oe=this._rebound(w.y,-O.y);return new D(U,oe)},_rebound:function(n,r){return n+r>0?Math.round(n-r)/2:Math.max(0,Math.ceil(n))-Math.max(0,Math.floor(r))},_limitZoom:function(n){var r=this.getMinZoom(),u=this.getMaxZoom(),y=De.any3d?this.options.zoomSnap:1;return y&&(n=Math.round(n/y)*y),Math.max(r,Math.min(u,n))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){en(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(n,r){var u=this._getCenterOffset(n)._trunc();return(r&&r.animate)!==!0&&!this.getSize().contains(u)?!1:(this.panBy(u,r),!0)},_createAnimProxy:function(){var n=this._proxy=_t("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(n),this.on("zoomanim",function(r){var u=Tn,y=this._proxy.style[u];Ko(this._proxy,this.project(r.center,r.zoom),this.getZoomScale(r.zoom,1)),y===this._proxy.style[u]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Vt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var n=this.getCenter(),r=this.getZoom();Ko(this._proxy,this.project(n,r),this.getZoomScale(r,1))},_catchTransitionEnd:function(n){this._animatingZoom&&n.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(n,r,u){if(this._animatingZoom)return!0;if(u=u||{},!this._zoomAnimated||u.animate===!1||this._nothingToAnimate()||Math.abs(r-this._zoom)>this.options.zoomAnimationThreshold)return!1;var y=this.getZoomScale(r),w=this._getCenterOffset(n)._divideBy(1-1/y);return u.animate!==!0&&!this.getSize().contains(w)?!1:(F(function(){this._moveStart(!0,u.noMoveStart||!1)._animateZoom(n,r,!0)},this),!0)},_animateZoom:function(n,r,u,y){this._mapPane&&(u&&(this._animatingZoom=!0,this._animateToCenter=n,this._animateToZoom=r,ct(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:n,zoom:r,noUpdate:y}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(l(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&en(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function uf(n,r){return new xt(n,r)}var qn=T.extend({options:{position:"topright"},initialize:function(n){x(this,n)},getPosition:function(){return this.options.position},setPosition:function(n){var r=this._map;return r&&r.removeControl(this),this.options.position=n,r&&r.addControl(this),this},getContainer:function(){return this._container},addTo:function(n){this.remove(),this._map=n;var r=this._container=this.onAdd(n),u=this.getPosition(),y=n._controlCorners[u];return ct(r,"leaflet-control"),u.indexOf("bottom")!==-1?y.insertBefore(r,y.firstChild):y.appendChild(r),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Vt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(n){this._map&&n&&n.screenX>0&&n.screenY>0&&this._map.getContainer().focus()}}),ss=function(n){return new qn(n)};xt.include({addControl:function(n){return n.addTo(this),this},removeControl:function(n){return n.remove(),this},_initControlPos:function(){var n=this._controlCorners={},r="leaflet-",u=this._controlContainer=_t("div",r+"control-container",this._container);function y(w,O){var U=r+w+" "+r+O;n[w+O]=_t("div",U,u)}y("top","left"),y("top","right"),y("bottom","left"),y("bottom","right")},_clearControlPos:function(){for(var n in this._controlCorners)Vt(this._controlCorners[n]);Vt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Xc=qn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(n,r,u,y){return u<y?-1:y<u?1:0}},initialize:function(n,r,u){x(this,u),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var y in n)this._addLayer(n[y],y);for(y in r)this._addLayer(r[y],y,!0)},onAdd:function(n){this._initLayout(),this._update(),this._map=n,n.on("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(n){return qn.prototype.addTo.call(this,n),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var n=0;n<this._layers.length;n++)this._layers[n].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(n,r){return this._addLayer(n,r),this._map?this._update():this},addOverlay:function(n,r){return this._addLayer(n,r,!0),this._map?this._update():this},removeLayer:function(n){n.off("add remove",this._onLayerChange,this);var r=this._getLayer(p(n));return r&&this._layers.splice(this._layers.indexOf(r),1),this._map?this._update():this},expand:function(){ct(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var n=this._map.getSize().y-(this._container.offsetTop+50);return n<this._section.clientHeight?(ct(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=n+"px"):en(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return en(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var n="leaflet-control-layers",r=this._container=_t("div",n),u=this.options.collapsed;r.setAttribute("aria-haspopup",!0),rs(r),Ha(r);var y=this._section=_t("section",n+"-list");u&&(this._map.on("click",this.collapse,this),at(r,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var w=this._layersLink=_t("a",n+"-toggle",r);w.href="#",w.title="Layers",w.setAttribute("role","button"),at(w,{keydown:function(O){O.keyCode===13&&this._expandSafely()},click:function(O){yn(O),this._expandSafely()}},this),u||this.expand(),this._baseLayersList=_t("div",n+"-base",y),this._separator=_t("div",n+"-separator",y),this._overlaysList=_t("div",n+"-overlays",y),r.appendChild(y)},_getLayer:function(n){for(var r=0;r<this._layers.length;r++)if(this._layers[r]&&p(this._layers[r].layer)===n)return this._layers[r]},_addLayer:function(n,r,u){this._map&&n.on("add remove",this._onLayerChange,this),this._layers.push({layer:n,name:r,overlay:u}),this.options.sortLayers&&this._layers.sort(l(function(y,w){return this.options.sortFunction(y.layer,w.layer,y.name,w.name)},this)),this.options.autoZIndex&&n.setZIndex&&(this._lastZIndex++,n.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;qs(this._baseLayersList),qs(this._overlaysList),this._layerControlInputs=[];var n,r,u,y,w=0;for(u=0;u<this._layers.length;u++)y=this._layers[u],this._addItem(y),r=r||y.overlay,n=n||!y.overlay,w+=y.overlay?0:1;return this.options.hideSingleBase&&(n=n&&w>1,this._baseLayersList.style.display=n?"":"none"),this._separator.style.display=r&&n?"":"none",this},_onLayerChange:function(n){this._handlingClick||this._update();var r=this._getLayer(p(n.target)),u=r.overlay?n.type==="add"?"overlayadd":"overlayremove":n.type==="add"?"baselayerchange":null;u&&this._map.fire(u,r)},_createRadioElement:function(n,r){var u='<input type="radio" class="leaflet-control-layers-selector" name="'+n+'"'+(r?' checked="checked"':"")+"/>",y=document.createElement("div");return y.innerHTML=u,y.firstChild},_addItem:function(n){var r=document.createElement("label"),u=this._map.hasLayer(n.layer),y;n.overlay?(y=document.createElement("input"),y.type="checkbox",y.className="leaflet-control-layers-selector",y.defaultChecked=u):y=this._createRadioElement("leaflet-base-layers_"+p(this),u),this._layerControlInputs.push(y),y.layerId=p(n.layer),at(y,"click",this._onInputClick,this);var w=document.createElement("span");w.innerHTML=" "+n.name;var O=document.createElement("span");r.appendChild(O),O.appendChild(y),O.appendChild(w);var U=n.overlay?this._overlaysList:this._baseLayersList;return U.appendChild(r),this._checkDisabledLayers(),r},_onInputClick:function(){if(!this._preventClick){var n=this._layerControlInputs,r,u,y=[],w=[];this._handlingClick=!0;for(var O=n.length-1;O>=0;O--)r=n[O],u=this._getLayer(r.layerId).layer,r.checked?y.push(u):r.checked||w.push(u);for(O=0;O<w.length;O++)this._map.hasLayer(w[O])&&this._map.removeLayer(w[O]);for(O=0;O<y.length;O++)this._map.hasLayer(y[O])||this._map.addLayer(y[O]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var n=this._layerControlInputs,r,u,y=this._map.getZoom(),w=n.length-1;w>=0;w--)r=n[w],u=this._getLayer(r.layerId).layer,r.disabled=u.options.minZoom!==void 0&&y<u.options.minZoom||u.options.maxZoom!==void 0&&y>u.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var n=this._section;this._preventClick=!0,at(n,"click",yn),this.expand();var r=this;setTimeout(function(){Lt(n,"click",yn),r._preventClick=!1})}}),df=function(n,r,u){return new Xc(n,r,u)},Ga=qn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(n){var r="leaflet-control-zoom",u=_t("div",r+" leaflet-bar"),y=this.options;return this._zoomInButton=this._createButton(y.zoomInText,y.zoomInTitle,r+"-in",u,this._zoomIn),this._zoomOutButton=this._createButton(y.zoomOutText,y.zoomOutTitle,r+"-out",u,this._zoomOut),this._updateDisabled(),n.on("zoomend zoomlevelschange",this._updateDisabled,this),u},onRemove:function(n){n.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(n){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(n.shiftKey?3:1))},_zoomOut:function(n){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(n.shiftKey?3:1))},_createButton:function(n,r,u,y,w){var O=_t("a",u,y);return O.innerHTML=n,O.href="#",O.title=r,O.setAttribute("role","button"),O.setAttribute("aria-label",r),rs(O),at(O,"click",Xo),at(O,"click",w,this),at(O,"click",this._refocusOnMap,this),O},_updateDisabled:function(){var n=this._map,r="leaflet-disabled";en(this._zoomInButton,r),en(this._zoomOutButton,r),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||n._zoom===n.getMinZoom())&&(ct(this._zoomOutButton,r),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||n._zoom===n.getMaxZoom())&&(ct(this._zoomInButton,r),this._zoomInButton.setAttribute("aria-disabled","true"))}});xt.mergeOptions({zoomControl:!0}),xt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ga,this.addControl(this.zoomControl))});var pf=function(n){return new Ga(n)},Yc=qn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(n){var r="leaflet-control-scale",u=_t("div",r),y=this.options;return this._addScales(y,r+"-line",u),n.on(y.updateWhenIdle?"moveend":"move",this._update,this),n.whenReady(this._update,this),u},onRemove:function(n){n.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(n,r,u){n.metric&&(this._mScale=_t("div",r,u)),n.imperial&&(this._iScale=_t("div",r,u))},_update:function(){var n=this._map,r=n.getSize().y/2,u=n.distance(n.containerPointToLatLng([0,r]),n.containerPointToLatLng([this.options.maxWidth,r]));this._updateScales(u)},_updateScales:function(n){this.options.metric&&n&&this._updateMetric(n),this.options.imperial&&n&&this._updateImperial(n)},_updateMetric:function(n){var r=this._getRoundNum(n),u=r<1e3?r+" m":r/1e3+" km";this._updateScale(this._mScale,u,r/n)},_updateImperial:function(n){var r=n*3.2808399,u,y,w;r>5280?(u=r/5280,y=this._getRoundNum(u),this._updateScale(this._iScale,y+" mi",y/u)):(w=this._getRoundNum(r),this._updateScale(this._iScale,w+" ft",w/r))},_updateScale:function(n,r,u){n.style.width=Math.round(this.options.maxWidth*u)+"px",n.innerHTML=r},_getRoundNum:function(n){var r=Math.pow(10,(Math.floor(n)+"").length-1),u=n/r;return u=u>=10?10:u>=5?5:u>=3?3:u>=2?2:1,r*u}}),hf=function(n){return new Yc(n)},mf='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Va=qn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(De.inlineSvg?mf+" ":"")+"Leaflet</a>"},initialize:function(n){x(this,n),this._attributions={}},onAdd:function(n){n.attributionControl=this,this._container=_t("div","leaflet-control-attribution"),rs(this._container);for(var r in n._layers)n._layers[r].getAttribution&&this.addAttribution(n._layers[r].getAttribution());return this._update(),n.on("layeradd",this._addAttribution,this),this._container},onRemove:function(n){n.off("layeradd",this._addAttribution,this)},_addAttribution:function(n){n.layer.getAttribution&&(this.addAttribution(n.layer.getAttribution()),n.layer.once("remove",function(){this.removeAttribution(n.layer.getAttribution())},this))},setPrefix:function(n){return this.options.prefix=n,this._update(),this},addAttribution:function(n){return n?(this._attributions[n]||(this._attributions[n]=0),this._attributions[n]++,this._update(),this):this},removeAttribution:function(n){return n?(this._attributions[n]&&(this._attributions[n]--,this._update()),this):this},_update:function(){if(this._map){var n=[];for(var r in this._attributions)this._attributions[r]&&n.push(r);var u=[];this.options.prefix&&u.push(this.options.prefix),n.length&&u.push(n.join(", ")),this._container.innerHTML=u.join(' <span aria-hidden="true">|</span> ')}}});xt.mergeOptions({attributionControl:!0}),xt.addInitHook(function(){this.options.attributionControl&&new Va().addTo(this)});var ff=function(n){return new Va(n)};qn.Layers=Xc,qn.Zoom=Ga,qn.Scale=Yc,qn.Attribution=Va,ss.layers=df,ss.zoom=pf,ss.scale=hf,ss.attribution=ff;var ao=T.extend({initialize:function(n){this._map=n},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});ao.addTo=function(n,r){return n.addHandler(r,this),this};var gf={Events:B},Qc=De.touch?"touchstart mousedown":"mousedown",Eo=W.extend({options:{clickTolerance:3},initialize:function(n,r,u,y){x(this,y),this._element=n,this._dragStartTarget=r||n,this._preventOutline=u},enable:function(){this._enabled||(at(this._dragStartTarget,Qc,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Eo._dragging===this&&this.finishDrag(!0),Lt(this._dragStartTarget,Qc,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(n){if(this._enabled&&(this._moved=!1,!Aa(this._element,"leaflet-zoom-anim"))){if(n.touches&&n.touches.length!==1){Eo._dragging===this&&this.finishDrag();return}if(!(Eo._dragging||n.shiftKey||n.which!==1&&n.button!==1&&!n.touches)&&(Eo._dragging=this,this._preventOutline&&Oa(this._element),Ra(),ts(),!this._moving)){this.fire("down");var r=n.touches?n.touches[0]:n,u=Wc(this._element);this._startPoint=new D(r.clientX,r.clientY),this._startPos=Jo(this._element),this._parentScale=Na(u);var y=n.type==="mousedown";at(document,y?"mousemove":"touchmove",this._onMove,this),at(document,y?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(n){if(this._enabled){if(n.touches&&n.touches.length>1){this._moved=!0;return}var r=n.touches&&n.touches.length===1?n.touches[0]:n,u=new D(r.clientX,r.clientY)._subtract(this._startPoint);!u.x&&!u.y||Math.abs(u.x)+Math.abs(u.y)<this.options.clickTolerance||(u.x/=this._parentScale.x,u.y/=this._parentScale.y,yn(n),this._moved||(this.fire("dragstart"),this._moved=!0,ct(document.body,"leaflet-dragging"),this._lastTarget=n.target||n.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ct(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(u),this._moving=!0,this._lastEvent=n,this._updatePosition())}},_updatePosition:function(){var n={originalEvent:this._lastEvent};this.fire("predrag",n),sn(this._element,this._newPos),this.fire("drag",n)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(n){en(document.body,"leaflet-dragging"),this._lastTarget&&(en(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Lt(document,"mousemove touchmove",this._onMove,this),Lt(document,"mouseup touchend touchcancel",this._onUp,this),La(),ns();var r=this._moved&&this._moving;this._moving=!1,Eo._dragging=!1,r&&this.fire("dragend",{noInertia:n,distance:this._newPos.distanceTo(this._startPos)})}});function eu(n,r,u){var y,w=[1,4,2,8],O,U,oe,ue,xe,Be,Qe,vt;for(O=0,Be=n.length;O<Be;O++)n[O]._code=Yo(n[O],r);for(oe=0;oe<4;oe++){for(Qe=w[oe],y=[],O=0,Be=n.length,U=Be-1;O<Be;U=O++)ue=n[O],xe=n[U],ue._code&Qe?xe._code&Qe||(vt=ti(xe,ue,Qe,r,u),vt._code=Yo(vt,r),y.push(vt)):(xe._code&Qe&&(vt=ti(xe,ue,Qe,r,u),vt._code=Yo(vt,r),y.push(vt)),y.push(ue));n=y}return n}function tu(n,r){var u,y,w,O,U,oe,ue,xe,Be;if(!n||n.length===0)throw new Error("latlngs not passed");Bn(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var Qe=te([0,0]),vt=ee(n),wn=vt.getNorthWest().distanceTo(vt.getSouthWest())*vt.getNorthEast().distanceTo(vt.getNorthWest());wn<1700&&(Qe=Wa(n));var hn=n.length,Hn=[];for(u=0;u<hn;u++){var Mn=te(n[u]);Hn.push(r.project(te([Mn.lat-Qe.lat,Mn.lng-Qe.lng])))}for(oe=ue=xe=0,u=0,y=hn-1;u<hn;y=u++)w=Hn[u],O=Hn[y],U=w.y*O.x-O.y*w.x,ue+=(w.x+O.x)*U,xe+=(w.y+O.y)*U,oe+=U*3;oe===0?Be=Hn[0]:Be=[ue/oe,xe/oe];var Ir=r.unproject(Z(Be));return te([Ir.lat+Qe.lat,Ir.lng+Qe.lng])}function Wa(n){for(var r=0,u=0,y=0,w=0;w<n.length;w++){var O=te(n[w]);r+=O.lat,u+=O.lng,y++}return te([r/y,u/y])}var vf={__proto__:null,clipPolygon:eu,polygonCenter:tu,centroid:Wa};function nu(n,r){if(!r||!n.length)return n.slice();var u=r*r;return n=Cf(n,u),n=bf(n,u),n}function ou(n,r,u){return Math.sqrt(is(n,r,u,!0))}function yf(n,r,u){return is(n,r,u)}function bf(n,r){var u=n.length,y=typeof Uint8Array<"u"?Uint8Array:Array,w=new y(u);w[0]=w[u-1]=1,Za(n,w,r,0,u-1);var O,U=[];for(O=0;O<u;O++)w[O]&&U.push(n[O]);return U}function Za(n,r,u,y,w){var O=0,U,oe,ue;for(oe=y+1;oe<=w-1;oe++)ue=is(n[oe],n[y],n[w],!0),ue>O&&(U=oe,O=ue);O>u&&(r[U]=1,Za(n,r,u,y,U),Za(n,r,u,U,w))}function Cf(n,r){for(var u=[n[0]],y=1,w=0,O=n.length;y<O;y++)xf(n[y],n[w])>r&&(u.push(n[y]),w=y);return w<O-1&&u.push(n[O-1]),u}var ru;function su(n,r,u,y,w){var O=y?ru:Yo(n,u),U=Yo(r,u),oe,ue,xe;for(ru=U;;){if(!(O|U))return[n,r];if(O&U)return!1;oe=O||U,ue=ti(n,r,oe,u,w),xe=Yo(ue,u),oe===O?(n=ue,O=xe):(r=ue,U=xe)}}function ti(n,r,u,y,w){var O=r.x-n.x,U=r.y-n.y,oe=y.min,ue=y.max,xe,Be;return u&8?(xe=n.x+O*(ue.y-n.y)/U,Be=ue.y):u&4?(xe=n.x+O*(oe.y-n.y)/U,Be=oe.y):u&2?(xe=ue.x,Be=n.y+U*(ue.x-n.x)/O):u&1&&(xe=oe.x,Be=n.y+U*(oe.x-n.x)/O),new D(xe,Be,w)}function Yo(n,r){var u=0;return n.x<r.min.x?u|=1:n.x>r.max.x&&(u|=2),n.y<r.min.y?u|=4:n.y>r.max.y&&(u|=8),u}function xf(n,r){var u=r.x-n.x,y=r.y-n.y;return u*u+y*y}function is(n,r,u,y){var w=r.x,O=r.y,U=u.x-w,oe=u.y-O,ue=U*U+oe*oe,xe;return ue>0&&(xe=((n.x-w)*U+(n.y-O)*oe)/ue,xe>1?(w=u.x,O=u.y):xe>0&&(w+=U*xe,O+=oe*xe)),U=n.x-w,oe=n.y-O,y?U*U+oe*oe:new D(w,O)}function Bn(n){return!z(n[0])||typeof n[0][0]!="object"&&typeof n[0][0]<"u"}function iu(n){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Bn(n)}function au(n,r){var u,y,w,O,U,oe,ue,xe;if(!n||n.length===0)throw new Error("latlngs not passed");Bn(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var Be=te([0,0]),Qe=ee(n),vt=Qe.getNorthWest().distanceTo(Qe.getSouthWest())*Qe.getNorthEast().distanceTo(Qe.getNorthWest());vt<1700&&(Be=Wa(n));var wn=n.length,hn=[];for(u=0;u<wn;u++){var Hn=te(n[u]);hn.push(r.project(te([Hn.lat-Be.lat,Hn.lng-Be.lng])))}for(u=0,y=0;u<wn-1;u++)y+=hn[u].distanceTo(hn[u+1])/2;if(y===0)xe=hn[0];else for(u=0,O=0;u<wn-1;u++)if(U=hn[u],oe=hn[u+1],w=U.distanceTo(oe),O+=w,O>y){ue=(O-y)/w,xe=[oe.x-ue*(oe.x-U.x),oe.y-ue*(oe.y-U.y)];break}var Mn=r.unproject(Z(xe));return te([Mn.lat+Be.lat,Mn.lng+Be.lng])}var wf={__proto__:null,simplify:nu,pointToSegmentDistance:ou,closestPointOnSegment:yf,clipSegment:su,_getEdgeIntersection:ti,_getBitCode:Yo,_sqClosestPointOnSegment:is,isFlat:Bn,_flat:iu,polylineCenter:au},Ua={project:function(n){return new D(n.lng,n.lat)},unproject:function(n){return new q(n.y,n.x)},bounds:new K([-180,-90],[180,90])},Ka={R:6378137,R_MINOR:6356752314245179e-9,bounds:new K([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(n){var r=Math.PI/180,u=this.R,y=n.lat*r,w=this.R_MINOR/u,O=Math.sqrt(1-w*w),U=O*Math.sin(y),oe=Math.tan(Math.PI/4-y/2)/Math.pow((1-U)/(1+U),O/2);return y=-u*Math.log(Math.max(oe,1e-10)),new D(n.lng*r*u,y)},unproject:function(n){for(var r=180/Math.PI,u=this.R,y=this.R_MINOR/u,w=Math.sqrt(1-y*y),O=Math.exp(-n.y/u),U=Math.PI/2-2*Math.atan(O),oe=0,ue=.1,xe;oe<15&&Math.abs(ue)>1e-7;oe++)xe=w*Math.sin(U),xe=Math.pow((1-xe)/(1+xe),w/2),ue=Math.PI/2-2*Math.atan(O*xe)-U,U+=ue;return new q(U*r,n.x*r/u)}},Sf={__proto__:null,LonLat:Ua,Mercator:Ka,SphericalMercator:Ce},_f=i({},X,{code:"EPSG:3395",projection:Ka,transformation:function(){var n=.5/(Math.PI*Ka.R);return ce(n,.5,-n,.5)}()}),lu=i({},X,{code:"EPSG:4326",projection:Ua,transformation:ce(1/180,1,-1/180,.5)}),Pf=i({},ae,{projection:Ua,transformation:ce(1,0,-1,0),scale:function(n){return Math.pow(2,n)},zoom:function(n){return Math.log(n)/Math.LN2},distance:function(n,r){var u=r.lng-n.lng,y=r.lat-n.lat;return Math.sqrt(u*u+y*y)},infinite:!0});ae.Earth=X,ae.EPSG3395=_f,ae.EPSG3857=ie,ae.EPSG900913=fe,ae.EPSG4326=lu,ae.Simple=Pf;var Xn=W.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(n){return n.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(n){return n&&n.removeLayer(this),this},getPane:function(n){return this._map.getPane(n?this.options[n]||n:this.options.pane)},addInteractiveTarget:function(n){return this._map._targets[p(n)]=this,this},removeInteractiveTarget:function(n){return delete this._map._targets[p(n)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(n){var r=n.target;if(r.hasLayer(this)){if(this._map=r,this._zoomAnimated=r._zoomAnimated,this.getEvents){var u=this.getEvents();r.on(u,this),this.once("remove",function(){r.off(u,this)},this)}this.onAdd(r),this.fire("add"),r.fire("layeradd",{layer:this})}}});xt.include({addLayer:function(n){if(!n._layerAdd)throw new Error("The provided object is not a Layer.");var r=p(n);return this._layers[r]?this:(this._layers[r]=n,n._mapToAdd=this,n.beforeAdd&&n.beforeAdd(this),this.whenReady(n._layerAdd,n),this)},removeLayer:function(n){var r=p(n);return this._layers[r]?(this._loaded&&n.onRemove(this),delete this._layers[r],this._loaded&&(this.fire("layerremove",{layer:n}),n.fire("remove")),n._map=n._mapToAdd=null,this):this},hasLayer:function(n){return p(n)in this._layers},eachLayer:function(n,r){for(var u in this._layers)n.call(r,this._layers[u]);return this},_addLayers:function(n){n=n?z(n)?n:[n]:[];for(var r=0,u=n.length;r<u;r++)this.addLayer(n[r])},_addZoomLimit:function(n){(!isNaN(n.options.maxZoom)||!isNaN(n.options.minZoom))&&(this._zoomBoundLayers[p(n)]=n,this._updateZoomLevels())},_removeZoomLimit:function(n){var r=p(n);this._zoomBoundLayers[r]&&(delete this._zoomBoundLayers[r],this._updateZoomLevels())},_updateZoomLevels:function(){var n=1/0,r=-1/0,u=this._getZoomSpan();for(var y in this._zoomBoundLayers){var w=this._zoomBoundLayers[y].options;n=w.minZoom===void 0?n:Math.min(n,w.minZoom),r=w.maxZoom===void 0?r:Math.max(r,w.maxZoom)}this._layersMaxZoom=r===-1/0?void 0:r,this._layersMinZoom=n===1/0?void 0:n,u!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var xr=Xn.extend({initialize:function(n,r){x(this,r),this._layers={};var u,y;if(n)for(u=0,y=n.length;u<y;u++)this.addLayer(n[u])},addLayer:function(n){var r=this.getLayerId(n);return this._layers[r]=n,this._map&&this._map.addLayer(n),this},removeLayer:function(n){var r=n in this._layers?n:this.getLayerId(n);return this._map&&this._layers[r]&&this._map.removeLayer(this._layers[r]),delete this._layers[r],this},hasLayer:function(n){var r=typeof n=="number"?n:this.getLayerId(n);return r in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(n){var r=Array.prototype.slice.call(arguments,1),u,y;for(u in this._layers)y=this._layers[u],y[n]&&y[n].apply(y,r);return this},onAdd:function(n){this.eachLayer(n.addLayer,n)},onRemove:function(n){this.eachLayer(n.removeLayer,n)},eachLayer:function(n,r){for(var u in this._layers)n.call(r,this._layers[u]);return this},getLayer:function(n){return this._layers[n]},getLayers:function(){var n=[];return this.eachLayer(n.push,n),n},setZIndex:function(n){return this.invoke("setZIndex",n)},getLayerId:function(n){return p(n)}}),If=function(n,r){return new xr(n,r)},vo=xr.extend({addLayer:function(n){return this.hasLayer(n)?this:(n.addEventParent(this),xr.prototype.addLayer.call(this,n),this.fire("layeradd",{layer:n}))},removeLayer:function(n){return this.hasLayer(n)?(n in this._layers&&(n=this._layers[n]),n.removeEventParent(this),xr.prototype.removeLayer.call(this,n),this.fire("layerremove",{layer:n})):this},setStyle:function(n){return this.invoke("setStyle",n)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var n=new Y;for(var r in this._layers){var u=this._layers[r];n.extend(u.getBounds?u.getBounds():u.getLatLng())}return n}}),Tf=function(n,r){return new vo(n,r)},wr=T.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(n){x(this,n)},createIcon:function(n){return this._createIcon("icon",n)},createShadow:function(n){return this._createIcon("shadow",n)},_createIcon:function(n,r){var u=this._getIconUrl(n);if(!u){if(n==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var y=this._createImg(u,r&&r.tagName==="IMG"?r:null);return this._setIconStyles(y,n),(this.options.crossOrigin||this.options.crossOrigin==="")&&(y.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),y},_setIconStyles:function(n,r){var u=this.options,y=u[r+"Size"];typeof y=="number"&&(y=[y,y]);var w=Z(y),O=Z(r==="shadow"&&u.shadowAnchor||u.iconAnchor||w&&w.divideBy(2,!0));n.className="leaflet-marker-"+r+" "+(u.className||""),O&&(n.style.marginLeft=-O.x+"px",n.style.marginTop=-O.y+"px"),w&&(n.style.width=w.x+"px",n.style.height=w.y+"px")},_createImg:function(n,r){return r=r||document.createElement("img"),r.src=n,r},_getIconUrl:function(n){return De.retina&&this.options[n+"RetinaUrl"]||this.options[n+"Url"]}});function kf(n){return new wr(n)}var as=wr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(n){return typeof as.imagePath!="string"&&(as.imagePath=this._detectIconPath()),(this.options.imagePath||as.imagePath)+wr.prototype._getIconUrl.call(this,n)},_stripUrl:function(n){var r=function(u,y,w){var O=y.exec(u);return O&&O[w]};return n=r(n,/^url\((['"])?(.+)\1\)$/,2),n&&r(n,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var n=_t("div","leaflet-default-icon-path",document.body),r=es(n,"background-image")||es(n,"backgroundImage");if(document.body.removeChild(n),r=this._stripUrl(r),r)return r;var u=document.querySelector('link[href$="leaflet.css"]');return u?u.href.substring(0,u.href.length-11-1):""}}),cu=ao.extend({initialize:function(n){this._marker=n},addHooks:function(){var n=this._marker._icon;this._draggable||(this._draggable=new Eo(n,n,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ct(n,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&en(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(n){var r=this._marker,u=r._map,y=this._marker.options.autoPanSpeed,w=this._marker.options.autoPanPadding,O=Jo(r._icon),U=u.getPixelBounds(),oe=u.getPixelOrigin(),ue=Q(U.min._subtract(oe).add(w),U.max._subtract(oe).subtract(w));if(!ue.contains(O)){var xe=Z((Math.max(ue.max.x,O.x)-ue.max.x)/(U.max.x-ue.max.x)-(Math.min(ue.min.x,O.x)-ue.min.x)/(U.min.x-ue.min.x),(Math.max(ue.max.y,O.y)-ue.max.y)/(U.max.y-ue.max.y)-(Math.min(ue.min.y,O.y)-ue.min.y)/(U.min.y-ue.min.y)).multiplyBy(y);u.panBy(xe,{animate:!1}),this._draggable._newPos._add(xe),this._draggable._startPos._add(xe),sn(r._icon,this._draggable._newPos),this._onDrag(n),this._panRequest=F(this._adjustPan.bind(this,n))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(n){this._marker.options.autoPan&&(G(this._panRequest),this._panRequest=F(this._adjustPan.bind(this,n)))},_onDrag:function(n){var r=this._marker,u=r._shadow,y=Jo(r._icon),w=r._map.layerPointToLatLng(y);u&&sn(u,y),r._latlng=w,n.latlng=w,n.oldLatLng=this._oldLatLng,r.fire("move",n).fire("drag",n)},_onDragEnd:function(n){G(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",n)}}),ni=Xn.extend({options:{icon:new as,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(n,r){x(this,r),this._latlng=te(n)},onAdd:function(n){this._zoomAnimated=this._zoomAnimated&&n.options.markerZoomAnimation,this._zoomAnimated&&n.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(n){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&n.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(n){var r=this._latlng;return this._latlng=te(n),this.update(),this.fire("move",{oldLatLng:r,latlng:this._latlng})},setZIndexOffset:function(n){return this.options.zIndexOffset=n,this.update()},getIcon:function(){return this.options.icon},setIcon:function(n){return this.options.icon=n,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var n=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(n)}return this},_initIcon:function(){var n=this.options,r="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),u=n.icon.createIcon(this._icon),y=!1;u!==this._icon&&(this._icon&&this._removeIcon(),y=!0,n.title&&(u.title=n.title),u.tagName==="IMG"&&(u.alt=n.alt||"")),ct(u,r),n.keyboard&&(u.tabIndex="0",u.setAttribute("role","button")),this._icon=u,n.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&at(u,"focus",this._panOnFocus,this);var w=n.icon.createShadow(this._shadow),O=!1;w!==this._shadow&&(this._removeShadow(),O=!0),w&&(ct(w,r),w.alt=""),this._shadow=w,n.opacity<1&&this._updateOpacity(),y&&this.getPane().appendChild(this._icon),this._initInteraction(),w&&O&&this.getPane(n.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Lt(this._icon,"focus",this._panOnFocus,this),Vt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Vt(this._shadow),this._shadow=null},_setPos:function(n){this._icon&&sn(this._icon,n),this._shadow&&sn(this._shadow,n),this._zIndex=n.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(n){this._icon&&(this._icon.style.zIndex=this._zIndex+n)},_animateZoom:function(n){var r=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center).round();this._setPos(r)},_initInteraction:function(){if(this.options.interactive&&(ct(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),cu)){var n=this.options.draggable;this.dragging&&(n=this.dragging.enabled(),this.dragging.disable()),this.dragging=new cu(this),n&&this.dragging.enable()}},setOpacity:function(n){return this.options.opacity=n,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var n=this.options.opacity;this._icon&&$n(this._icon,n),this._shadow&&$n(this._shadow,n)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var n=this._map;if(n){var r=this.options.icon.options,u=r.iconSize?Z(r.iconSize):Z(0,0),y=r.iconAnchor?Z(r.iconAnchor):Z(0,0);n.panInside(this._latlng,{paddingTopLeft:y,paddingBottomRight:u.subtract(y)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Mf(n,r){return new ni(n,r)}var Do=Xn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(n){this._renderer=n.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(n){return x(this,n),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&n&&Object.prototype.hasOwnProperty.call(n,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),oi=Do.extend({options:{fill:!0,radius:10},initialize:function(n,r){x(this,r),this._latlng=te(n),this._radius=this.options.radius},setLatLng:function(n){var r=this._latlng;return this._latlng=te(n),this.redraw(),this.fire("move",{oldLatLng:r,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(n){return this.options.radius=this._radius=n,this.redraw()},getRadius:function(){return this._radius},setStyle:function(n){var r=n&&n.radius||this._radius;return Do.prototype.setStyle.call(this,n),this.setRadius(r),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var n=this._radius,r=this._radiusY||n,u=this._clickTolerance(),y=[n+u,r+u];this._pxBounds=new K(this._point.subtract(y),this._point.add(y))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(n){return n.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Af(n,r){return new oi(n,r)}var Ja=oi.extend({initialize:function(n,r,u){if(typeof r=="number"&&(r=i({},u,{radius:r})),x(this,r),this._latlng=te(n),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(n){return this._mRadius=n,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var n=[this._radius,this._radiusY||this._radius];return new Y(this._map.layerPointToLatLng(this._point.subtract(n)),this._map.layerPointToLatLng(this._point.add(n)))},setStyle:Do.prototype.setStyle,_project:function(){var n=this._latlng.lng,r=this._latlng.lat,u=this._map,y=u.options.crs;if(y.distance===X.distance){var w=Math.PI/180,O=this._mRadius/X.R/w,U=u.project([r+O,n]),oe=u.project([r-O,n]),ue=U.add(oe).divideBy(2),xe=u.unproject(ue).lat,Be=Math.acos((Math.cos(O*w)-Math.sin(r*w)*Math.sin(xe*w))/(Math.cos(r*w)*Math.cos(xe*w)))/w;(isNaN(Be)||Be===0)&&(Be=O/Math.cos(Math.PI/180*r)),this._point=ue.subtract(u.getPixelOrigin()),this._radius=isNaN(Be)?0:ue.x-u.project([xe,n-Be]).x,this._radiusY=ue.y-U.y}else{var Qe=y.unproject(y.project(this._latlng).subtract([this._mRadius,0]));this._point=u.latLngToLayerPoint(this._latlng),this._radius=this._point.x-u.latLngToLayerPoint(Qe).x}this._updateBounds()}});function Ef(n,r,u){return new Ja(n,r,u)}var yo=Do.extend({options:{smoothFactor:1,noClip:!1},initialize:function(n,r){x(this,r),this._setLatLngs(n)},getLatLngs:function(){return this._latlngs},setLatLngs:function(n){return this._setLatLngs(n),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(n){for(var r=1/0,u=null,y=is,w,O,U=0,oe=this._parts.length;U<oe;U++)for(var ue=this._parts[U],xe=1,Be=ue.length;xe<Be;xe++){w=ue[xe-1],O=ue[xe];var Qe=y(n,w,O,!0);Qe<r&&(r=Qe,u=y(n,w,O))}return u&&(u.distance=Math.sqrt(r)),u},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return au(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(n,r){return r=r||this._defaultShape(),n=te(n),r.push(n),this._bounds.extend(n),this.redraw()},_setLatLngs:function(n){this._bounds=new Y,this._latlngs=this._convertLatLngs(n)},_defaultShape:function(){return Bn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(n){for(var r=[],u=Bn(n),y=0,w=n.length;y<w;y++)u?(r[y]=te(n[y]),this._bounds.extend(r[y])):r[y]=this._convertLatLngs(n[y]);return r},_project:function(){var n=new K;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,n),this._bounds.isValid()&&n.isValid()&&(this._rawPxBounds=n,this._updateBounds())},_updateBounds:function(){var n=this._clickTolerance(),r=new D(n,n);this._rawPxBounds&&(this._pxBounds=new K([this._rawPxBounds.min.subtract(r),this._rawPxBounds.max.add(r)]))},_projectLatlngs:function(n,r,u){var y=n[0]instanceof q,w=n.length,O,U;if(y){for(U=[],O=0;O<w;O++)U[O]=this._map.latLngToLayerPoint(n[O]),u.extend(U[O]);r.push(U)}else for(O=0;O<w;O++)this._projectLatlngs(n[O],r,u)},_clipPoints:function(){var n=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}var r=this._parts,u,y,w,O,U,oe,ue;for(u=0,w=0,O=this._rings.length;u<O;u++)for(ue=this._rings[u],y=0,U=ue.length;y<U-1;y++)oe=su(ue[y],ue[y+1],n,y,!0),oe&&(r[w]=r[w]||[],r[w].push(oe[0]),(oe[1]!==ue[y+1]||y===U-2)&&(r[w].push(oe[1]),w++))}},_simplifyPoints:function(){for(var n=this._parts,r=this.options.smoothFactor,u=0,y=n.length;u<y;u++)n[u]=nu(n[u],r)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(n,r){var u,y,w,O,U,oe,ue=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(u=0,O=this._parts.length;u<O;u++)for(oe=this._parts[u],y=0,U=oe.length,w=U-1;y<U;w=y++)if(!(!r&&y===0)&&ou(n,oe[w],oe[y])<=ue)return!0;return!1}});function Df(n,r){return new yo(n,r)}yo._flat=iu;var Sr=yo.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return tu(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(n){var r=yo.prototype._convertLatLngs.call(this,n),u=r.length;return u>=2&&r[0]instanceof q&&r[0].equals(r[u-1])&&r.pop(),r},_setLatLngs:function(n){yo.prototype._setLatLngs.call(this,n),Bn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Bn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var n=this._renderer._bounds,r=this.options.weight,u=new D(r,r);if(n=new K(n.min.subtract(u),n.max.add(u)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}for(var y=0,w=this._rings.length,O;y<w;y++)O=eu(this._rings[y],n,!0),O.length&&this._parts.push(O)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(n){var r=!1,u,y,w,O,U,oe,ue,xe;if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(O=0,ue=this._parts.length;O<ue;O++)for(u=this._parts[O],U=0,xe=u.length,oe=xe-1;U<xe;oe=U++)y=u[U],w=u[oe],y.y>n.y!=w.y>n.y&&n.x<(w.x-y.x)*(n.y-y.y)/(w.y-y.y)+y.x&&(r=!r);return r||yo.prototype._containsPoint.call(this,n,!0)}});function Rf(n,r){return new Sr(n,r)}var bo=vo.extend({initialize:function(n,r){x(this,r),this._layers={},n&&this.addData(n)},addData:function(n){var r=z(n)?n:n.features,u,y,w;if(r){for(u=0,y=r.length;u<y;u++)w=r[u],(w.geometries||w.geometry||w.features||w.coordinates)&&this.addData(w);return this}var O=this.options;if(O.filter&&!O.filter(n))return this;var U=ri(n,O);return U?(U.feature=ai(n),U.defaultOptions=U.options,this.resetStyle(U),O.onEachFeature&&O.onEachFeature(n,U),this.addLayer(U)):this},resetStyle:function(n){return n===void 0?this.eachLayer(this.resetStyle,this):(n.options=i({},n.defaultOptions),this._setLayerStyle(n,this.options.style),this)},setStyle:function(n){return this.eachLayer(function(r){this._setLayerStyle(r,n)},this)},_setLayerStyle:function(n,r){n.setStyle&&(typeof r=="function"&&(r=r(n.feature)),n.setStyle(r))}});function ri(n,r){var u=n.type==="Feature"?n.geometry:n,y=u?u.coordinates:null,w=[],O=r&&r.pointToLayer,U=r&&r.coordsToLatLng||qa,oe,ue,xe,Be;if(!y&&!u)return null;switch(u.type){case"Point":return oe=U(y),uu(O,n,oe,r);case"MultiPoint":for(xe=0,Be=y.length;xe<Be;xe++)oe=U(y[xe]),w.push(uu(O,n,oe,r));return new vo(w);case"LineString":case"MultiLineString":return ue=si(y,u.type==="LineString"?0:1,U),new yo(ue,r);case"Polygon":case"MultiPolygon":return ue=si(y,u.type==="Polygon"?1:2,U),new Sr(ue,r);case"GeometryCollection":for(xe=0,Be=u.geometries.length;xe<Be;xe++){var Qe=ri({geometry:u.geometries[xe],type:"Feature",properties:n.properties},r);Qe&&w.push(Qe)}return new vo(w);case"FeatureCollection":for(xe=0,Be=u.features.length;xe<Be;xe++){var vt=ri(u.features[xe],r);vt&&w.push(vt)}return new vo(w);default:throw new Error("Invalid GeoJSON object.")}}function uu(n,r,u,y){return n?n(r,u):new ni(u,y&&y.markersInheritOptions&&y)}function qa(n){return new q(n[1],n[0],n[2])}function si(n,r,u){for(var y=[],w=0,O=n.length,U;w<O;w++)U=r?si(n[w],r-1,u):(u||qa)(n[w]),y.push(U);return y}function Xa(n,r){return n=te(n),n.alt!==void 0?[v(n.lng,r),v(n.lat,r),v(n.alt,r)]:[v(n.lng,r),v(n.lat,r)]}function ii(n,r,u,y){for(var w=[],O=0,U=n.length;O<U;O++)w.push(r?ii(n[O],Bn(n[O])?0:r-1,u,y):Xa(n[O],y));return!r&&u&&w.length>0&&w.push(w[0].slice()),w}function _r(n,r){return n.feature?i({},n.feature,{geometry:r}):ai(r)}function ai(n){return n.type==="Feature"||n.type==="FeatureCollection"?n:{type:"Feature",properties:{},geometry:n}}var Ya={toGeoJSON:function(n){return _r(this,{type:"Point",coordinates:Xa(this.getLatLng(),n)})}};ni.include(Ya),Ja.include(Ya),oi.include(Ya),yo.include({toGeoJSON:function(n){var r=!Bn(this._latlngs),u=ii(this._latlngs,r?1:0,!1,n);return _r(this,{type:(r?"Multi":"")+"LineString",coordinates:u})}}),Sr.include({toGeoJSON:function(n){var r=!Bn(this._latlngs),u=r&&!Bn(this._latlngs[0]),y=ii(this._latlngs,u?2:r?1:0,!0,n);return r||(y=[y]),_r(this,{type:(u?"Multi":"")+"Polygon",coordinates:y})}}),xr.include({toMultiPoint:function(n){var r=[];return this.eachLayer(function(u){r.push(u.toGeoJSON(n).geometry.coordinates)}),_r(this,{type:"MultiPoint",coordinates:r})},toGeoJSON:function(n){var r=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(r==="MultiPoint")return this.toMultiPoint(n);var u=r==="GeometryCollection",y=[];return this.eachLayer(function(w){if(w.toGeoJSON){var O=w.toGeoJSON(n);if(u)y.push(O.geometry);else{var U=ai(O);U.type==="FeatureCollection"?y.push.apply(y,U.features):y.push(U)}}}),u?_r(this,{geometries:y,type:"GeometryCollection"}):{type:"FeatureCollection",features:y}}});function du(n,r){return new bo(n,r)}var Lf=du,li=Xn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(n,r,u){this._url=n,this._bounds=ee(r),x(this,u)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ct(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Vt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(n){return this.options.opacity=n,this._image&&this._updateOpacity(),this},setStyle:function(n){return n.opacity&&this.setOpacity(n.opacity),this},bringToFront:function(){return this._map&&br(this._image),this},bringToBack:function(){return this._map&&Cr(this._image),this},setUrl:function(n){return this._url=n,this._image&&(this._image.src=n),this},setBounds:function(n){return this._bounds=ee(n),this._map&&this._reset(),this},getEvents:function(){var n={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var n=this._url.tagName==="IMG",r=this._image=n?this._url:_t("img");if(ct(r,"leaflet-image-layer"),this._zoomAnimated&&ct(r,"leaflet-zoom-animated"),this.options.className&&ct(r,this.options.className),r.onselectstart=g,r.onmousemove=g,r.onload=l(this.fire,this,"load"),r.onerror=l(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(r.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),n){this._url=r.src;return}r.src=this._url,r.alt=this.options.alt},_animateZoom:function(n){var r=this._map.getZoomScale(n.zoom),u=this._map._latLngBoundsToNewLayerBounds(this._bounds,n.zoom,n.center).min;Ko(this._image,u,r)},_reset:function(){var n=this._image,r=new K(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),u=r.getSize();sn(n,r.min),n.style.width=u.x+"px",n.style.height=u.y+"px"},_updateOpacity:function(){$n(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var n=this.options.errorOverlayUrl;n&&this._url!==n&&(this._url=n,this._image.src=n)},getCenter:function(){return this._bounds.getCenter()}}),Ff=function(n,r,u){return new li(n,r,u)},pu=li.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var n=this._url.tagName==="VIDEO",r=this._image=n?this._url:_t("video");if(ct(r,"leaflet-image-layer"),this._zoomAnimated&&ct(r,"leaflet-zoom-animated"),this.options.className&&ct(r,this.options.className),r.onselectstart=g,r.onmousemove=g,r.onloadeddata=l(this.fire,this,"load"),n){for(var u=r.getElementsByTagName("source"),y=[],w=0;w<u.length;w++)y.push(u[w].src);this._url=u.length>0?y:[r.src];return}z(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(r.style,"objectFit")&&(r.style.objectFit="fill"),r.autoplay=!!this.options.autoplay,r.loop=!!this.options.loop,r.muted=!!this.options.muted,r.playsInline=!!this.options.playsInline;for(var O=0;O<this._url.length;O++){var U=_t("source");U.src=this._url[O],r.appendChild(U)}}});function Of(n,r,u){return new pu(n,r,u)}var hu=li.extend({_initImage:function(){var n=this._image=this._url;ct(n,"leaflet-image-layer"),this._zoomAnimated&&ct(n,"leaflet-zoom-animated"),this.options.className&&ct(n,this.options.className),n.onselectstart=g,n.onmousemove=g}});function Nf(n,r,u){return new hu(n,r,u)}var lo=Xn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(n,r){n&&(n instanceof q||z(n))?(this._latlng=te(n),x(this,r)):(x(this,n),this._source=r),this.options.content&&(this._content=this.options.content)},openOn:function(n){return n=arguments.length?n:this._source._map,n.hasLayer(this)||n.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(n){return this._map?this.close():(arguments.length?this._source=n:n=this._source,this._prepareOpen(),this.openOn(n._map)),this},onAdd:function(n){this._zoomAnimated=n._zoomAnimated,this._container||this._initLayout(),n._fadeAnimated&&$n(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),n._fadeAnimated&&$n(this._container,1),this.bringToFront(),this.options.interactive&&(ct(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(n){n._fadeAnimated?($n(this._container,0),this._removeTimeout=setTimeout(l(Vt,void 0,this._container),200)):Vt(this._container),this.options.interactive&&(en(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(n){return this._latlng=te(n),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(n){return this._content=n,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var n={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&br(this._container),this},bringToBack:function(){return this._map&&Cr(this._container),this},_prepareOpen:function(n){var r=this._source;if(!r._map)return!1;if(r instanceof vo){r=null;var u=this._source._layers;for(var y in u)if(u[y]._map){r=u[y];break}if(!r)return!1;this._source=r}if(!n)if(r.getCenter)n=r.getCenter();else if(r.getLatLng)n=r.getLatLng();else if(r.getBounds)n=r.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(n),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var n=this._contentNode,r=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof r=="string")n.innerHTML=r;else{for(;n.hasChildNodes();)n.removeChild(n.firstChild);n.appendChild(r)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var n=this._map.latLngToLayerPoint(this._latlng),r=Z(this.options.offset),u=this._getAnchor();this._zoomAnimated?sn(this._container,n.add(u)):r=r.add(n).add(u);var y=this._containerBottom=-r.y,w=this._containerLeft=-Math.round(this._containerWidth/2)+r.x;this._container.style.bottom=y+"px",this._container.style.left=w+"px"}},_getAnchor:function(){return[0,0]}});xt.include({_initOverlay:function(n,r,u,y){var w=r;return w instanceof n||(w=new n(y).setContent(r)),u&&w.setLatLng(u),w}}),Xn.include({_initOverlay:function(n,r,u,y){var w=u;return w instanceof n?(x(w,y),w._source=this):(w=r&&!y?r:new n(y,this),w.setContent(u)),w}});var ci=lo.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(n){return n=arguments.length?n:this._source._map,!n.hasLayer(this)&&n._popup&&n._popup.options.autoClose&&n.removeLayer(n._popup),n._popup=this,lo.prototype.openOn.call(this,n)},onAdd:function(n){lo.prototype.onAdd.call(this,n),n.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Do||this._source.on("preclick",qo))},onRemove:function(n){lo.prototype.onRemove.call(this,n),n.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Do||this._source.off("preclick",qo))},getEvents:function(){var n=lo.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(n.preclick=this.close),this.options.keepInView&&(n.moveend=this._adjustPan),n},_initLayout:function(){var n="leaflet-popup",r=this._container=_t("div",n+" "+(this.options.className||"")+" leaflet-zoom-animated"),u=this._wrapper=_t("div",n+"-content-wrapper",r);if(this._contentNode=_t("div",n+"-content",u),rs(r),Ha(this._contentNode),at(r,"contextmenu",qo),this._tipContainer=_t("div",n+"-tip-container",r),this._tip=_t("div",n+"-tip",this._tipContainer),this.options.closeButton){var y=this._closeButton=_t("a",n+"-close-button",r);y.setAttribute("role","button"),y.setAttribute("aria-label","Close popup"),y.href="#close",y.innerHTML='<span aria-hidden="true">&#215;</span>',at(y,"click",function(w){yn(w),this.close()},this)}},_updateLayout:function(){var n=this._contentNode,r=n.style;r.width="",r.whiteSpace="nowrap";var u=n.offsetWidth;u=Math.min(u,this.options.maxWidth),u=Math.max(u,this.options.minWidth),r.width=u+1+"px",r.whiteSpace="",r.height="";var y=n.offsetHeight,w=this.options.maxHeight,O="leaflet-popup-scrolled";w&&y>w?(r.height=w+"px",ct(n,O)):en(n,O),this._containerWidth=this._container.offsetWidth},_animateZoom:function(n){var r=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center),u=this._getAnchor();sn(this._container,r.add(u))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var n=this._map,r=parseInt(es(this._container,"marginBottom"),10)||0,u=this._container.offsetHeight+r,y=this._containerWidth,w=new D(this._containerLeft,-u-this._containerBottom);w._add(Jo(this._container));var O=n.layerPointToContainerPoint(w),U=Z(this.options.autoPanPadding),oe=Z(this.options.autoPanPaddingTopLeft||U),ue=Z(this.options.autoPanPaddingBottomRight||U),xe=n.getSize(),Be=0,Qe=0;O.x+y+ue.x>xe.x&&(Be=O.x+y-xe.x+ue.x),O.x-Be-oe.x<0&&(Be=O.x-oe.x),O.y+u+ue.y>xe.y&&(Qe=O.y+u-xe.y+ue.y),O.y-Qe-oe.y<0&&(Qe=O.y-oe.y),(Be||Qe)&&(this.options.keepInView&&(this._autopanning=!0),n.fire("autopanstart").panBy([Be,Qe]))}},_getAnchor:function(){return Z(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),zf=function(n,r){return new ci(n,r)};xt.mergeOptions({closePopupOnClick:!0}),xt.include({openPopup:function(n,r,u){return this._initOverlay(ci,n,r,u).openOn(this),this},closePopup:function(n){return n=arguments.length?n:this._popup,n&&n.close(),this}}),Xn.include({bindPopup:function(n,r){return this._popup=this._initOverlay(ci,this._popup,n,r),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(n){return this._popup&&(this instanceof vo||(this._popup._source=this),this._popup._prepareOpen(n||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(n){return this._popup&&this._popup.setContent(n),this},getPopup:function(){return this._popup},_openPopup:function(n){if(!(!this._popup||!this._map)){Xo(n);var r=n.layer||n.target;if(this._popup._source===r&&!(r instanceof Do)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(n.latlng);return}this._popup._source=r,this.openPopup(n.latlng)}},_movePopup:function(n){this._popup.setLatLng(n.latlng)},_onKeyPress:function(n){n.originalEvent.keyCode===13&&this._openPopup(n)}});var ui=lo.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(n){lo.prototype.onAdd.call(this,n),this.setOpacity(this.options.opacity),n.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(n){lo.prototype.onRemove.call(this,n),n.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var n=lo.prototype.getEvents.call(this);return this.options.permanent||(n.preclick=this.close),n},_initLayout:function(){var n="leaflet-tooltip",r=n+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=_t("div",r),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+p(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(n){var r,u,y=this._map,w=this._container,O=y.latLngToContainerPoint(y.getCenter()),U=y.layerPointToContainerPoint(n),oe=this.options.direction,ue=w.offsetWidth,xe=w.offsetHeight,Be=Z(this.options.offset),Qe=this._getAnchor();oe==="top"?(r=ue/2,u=xe):oe==="bottom"?(r=ue/2,u=0):oe==="center"?(r=ue/2,u=xe/2):oe==="right"?(r=0,u=xe/2):oe==="left"?(r=ue,u=xe/2):U.x<O.x?(oe="right",r=0,u=xe/2):(oe="left",r=ue+(Be.x+Qe.x)*2,u=xe/2),n=n.subtract(Z(r,u,!0)).add(Be).add(Qe),en(w,"leaflet-tooltip-right"),en(w,"leaflet-tooltip-left"),en(w,"leaflet-tooltip-top"),en(w,"leaflet-tooltip-bottom"),ct(w,"leaflet-tooltip-"+oe),sn(w,n)},_updatePosition:function(){var n=this._map.latLngToLayerPoint(this._latlng);this._setPosition(n)},setOpacity:function(n){this.options.opacity=n,this._container&&$n(this._container,n)},_animateZoom:function(n){var r=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center);this._setPosition(r)},_getAnchor:function(){return Z(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),$f=function(n,r){return new ui(n,r)};xt.include({openTooltip:function(n,r,u){return this._initOverlay(ui,n,r,u).openOn(this),this},closeTooltip:function(n){return n.close(),this}}),Xn.include({bindTooltip:function(n,r){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ui,this._tooltip,n,r),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(n){if(!(!n&&this._tooltipHandlersAdded)){var r=n?"off":"on",u={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?u.add=this._openTooltip:(u.mouseover=this._openTooltip,u.mouseout=this.closeTooltip,u.click=this._openTooltip,this._map?this._addFocusListeners():u.add=this._addFocusListeners),this._tooltip.options.sticky&&(u.mousemove=this._moveTooltip),this[r](u),this._tooltipHandlersAdded=!n}},openTooltip:function(n){return this._tooltip&&(this instanceof vo||(this._tooltip._source=this),this._tooltip._prepareOpen(n)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(n){return this._tooltip&&this._tooltip.setContent(n),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(n){var r=typeof n.getElement=="function"&&n.getElement();r&&(at(r,"focus",function(){this._tooltip._source=n,this.openTooltip()},this),at(r,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(n){var r=typeof n.getElement=="function"&&n.getElement();r&&r.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(n){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var r=this;this._map.once("moveend",function(){r._openOnceFlag=!1,r._openTooltip(n)});return}this._tooltip._source=n.layer||n.target,this.openTooltip(this._tooltip.options.sticky?n.latlng:void 0)}},_moveTooltip:function(n){var r=n.latlng,u,y;this._tooltip.options.sticky&&n.originalEvent&&(u=this._map.mouseEventToContainerPoint(n.originalEvent),y=this._map.containerPointToLayerPoint(u),r=this._map.layerPointToLatLng(y)),this._tooltip.setLatLng(r)}});var mu=wr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(n){var r=n&&n.tagName==="DIV"?n:document.createElement("div"),u=this.options;if(u.html instanceof Element?(qs(r),r.appendChild(u.html)):r.innerHTML=u.html!==!1?u.html:"",u.bgPos){var y=Z(u.bgPos);r.style.backgroundPosition=-y.x+"px "+-y.y+"px"}return this._setIconStyles(r,"icon"),r},createShadow:function(){return null}});function Bf(n){return new mu(n)}wr.Default=as;var ls=Xn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:De.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(n){x(this,n)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(n){n._addZoomLimit(this)},onRemove:function(n){this._removeAllTiles(),Vt(this._container),n._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(br(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Cr(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(n){return this.options.opacity=n,this._updateOpacity(),this},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var n=this._clampZoom(this._map.getZoom());n!==this._tileZoom&&(this._tileZoom=n,this._updateLevels()),this._update()}return this},getEvents:function(){var n={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=f(this._onMoveEnd,this.options.updateInterval,this)),n.move=this._onMove),this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},createTile:function(){return document.createElement("div")},getTileSize:function(){var n=this.options.tileSize;return n instanceof D?n:new D(n,n)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(n){for(var r=this.getPane().children,u=-n(-1/0,1/0),y=0,w=r.length,O;y<w;y++)O=r[y].style.zIndex,r[y]!==this._container&&O&&(u=n(u,+O));isFinite(u)&&(this.options.zIndex=u+n(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!De.ielt9){$n(this._container,this.options.opacity);var n=+new Date,r=!1,u=!1;for(var y in this._tiles){var w=this._tiles[y];if(!(!w.current||!w.loaded)){var O=Math.min(1,(n-w.loaded)/200);$n(w.el,O),O<1?r=!0:(w.active?u=!0:this._onOpaqueTile(w),w.active=!0)}}u&&!this._noPrune&&this._pruneTiles(),r&&(G(this._fadeFrame),this._fadeFrame=F(this._updateOpacity,this))}},_onOpaqueTile:g,_initContainer:function(){this._container||(this._container=_t("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var n=this._tileZoom,r=this.options.maxZoom;if(n!==void 0){for(var u in this._levels)u=Number(u),this._levels[u].el.children.length||u===n?(this._levels[u].el.style.zIndex=r-Math.abs(n-u),this._onUpdateLevel(u)):(Vt(this._levels[u].el),this._removeTilesAtZoom(u),this._onRemoveLevel(u),delete this._levels[u]);var y=this._levels[n],w=this._map;return y||(y=this._levels[n]={},y.el=_t("div","leaflet-tile-container leaflet-zoom-animated",this._container),y.el.style.zIndex=r,y.origin=w.project(w.unproject(w.getPixelOrigin()),n).round(),y.zoom=n,this._setZoomTransform(y,w.getCenter(),w.getZoom()),g(y.el.offsetWidth),this._onCreateLevel(y)),this._level=y,y}},_onUpdateLevel:g,_onRemoveLevel:g,_onCreateLevel:g,_pruneTiles:function(){if(this._map){var n,r,u=this._map.getZoom();if(u>this.options.maxZoom||u<this.options.minZoom){this._removeAllTiles();return}for(n in this._tiles)r=this._tiles[n],r.retain=r.current;for(n in this._tiles)if(r=this._tiles[n],r.current&&!r.active){var y=r.coords;this._retainParent(y.x,y.y,y.z,y.z-5)||this._retainChildren(y.x,y.y,y.z,y.z+2)}for(n in this._tiles)this._tiles[n].retain||this._removeTile(n)}},_removeTilesAtZoom:function(n){for(var r in this._tiles)this._tiles[r].coords.z===n&&this._removeTile(r)},_removeAllTiles:function(){for(var n in this._tiles)this._removeTile(n)},_invalidateAll:function(){for(var n in this._levels)Vt(this._levels[n].el),this._onRemoveLevel(Number(n)),delete this._levels[n];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(n,r,u,y){var w=Math.floor(n/2),O=Math.floor(r/2),U=u-1,oe=new D(+w,+O);oe.z=+U;var ue=this._tileCoordsToKey(oe),xe=this._tiles[ue];return xe&&xe.active?(xe.retain=!0,!0):(xe&&xe.loaded&&(xe.retain=!0),U>y?this._retainParent(w,O,U,y):!1)},_retainChildren:function(n,r,u,y){for(var w=2*n;w<2*n+2;w++)for(var O=2*r;O<2*r+2;O++){var U=new D(w,O);U.z=u+1;var oe=this._tileCoordsToKey(U),ue=this._tiles[oe];if(ue&&ue.active){ue.retain=!0;continue}else ue&&ue.loaded&&(ue.retain=!0);u+1<y&&this._retainChildren(w,O,u+1,y)}},_resetView:function(n){var r=n&&(n.pinch||n.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),r,r)},_animateZoom:function(n){this._setView(n.center,n.zoom,!0,n.noUpdate)},_clampZoom:function(n){var r=this.options;return r.minNativeZoom!==void 0&&n<r.minNativeZoom?r.minNativeZoom:r.maxNativeZoom!==void 0&&r.maxNativeZoom<n?r.maxNativeZoom:n},_setView:function(n,r,u,y){var w=Math.round(r);this.options.maxZoom!==void 0&&w>this.options.maxZoom||this.options.minZoom!==void 0&&w<this.options.minZoom?w=void 0:w=this._clampZoom(w);var O=this.options.updateWhenZooming&&w!==this._tileZoom;(!y||O)&&(this._tileZoom=w,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),w!==void 0&&this._update(n),u||this._pruneTiles(),this._noPrune=!!u),this._setZoomTransforms(n,r)},_setZoomTransforms:function(n,r){for(var u in this._levels)this._setZoomTransform(this._levels[u],n,r)},_setZoomTransform:function(n,r,u){var y=this._map.getZoomScale(u,n.zoom),w=n.origin.multiplyBy(y).subtract(this._map._getNewPixelOrigin(r,u)).round();De.any3d?Ko(n.el,w,y):sn(n.el,w)},_resetGrid:function(){var n=this._map,r=n.options.crs,u=this._tileSize=this.getTileSize(),y=this._tileZoom,w=this._map.getPixelWorldBounds(this._tileZoom);w&&(this._globalTileRange=this._pxBoundsToTileRange(w)),this._wrapX=r.wrapLng&&!this.options.noWrap&&[Math.floor(n.project([0,r.wrapLng[0]],y).x/u.x),Math.ceil(n.project([0,r.wrapLng[1]],y).x/u.y)],this._wrapY=r.wrapLat&&!this.options.noWrap&&[Math.floor(n.project([r.wrapLat[0],0],y).y/u.x),Math.ceil(n.project([r.wrapLat[1],0],y).y/u.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(n){var r=this._map,u=r._animatingZoom?Math.max(r._animateToZoom,r.getZoom()):r.getZoom(),y=r.getZoomScale(u,this._tileZoom),w=r.project(n,this._tileZoom).floor(),O=r.getSize().divideBy(y*2);return new K(w.subtract(O),w.add(O))},_update:function(n){var r=this._map;if(r){var u=this._clampZoom(r.getZoom());if(n===void 0&&(n=r.getCenter()),this._tileZoom!==void 0){var y=this._getTiledPixelBounds(n),w=this._pxBoundsToTileRange(y),O=w.getCenter(),U=[],oe=this.options.keepBuffer,ue=new K(w.getBottomLeft().subtract([oe,-oe]),w.getTopRight().add([oe,-oe]));if(!(isFinite(w.min.x)&&isFinite(w.min.y)&&isFinite(w.max.x)&&isFinite(w.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var xe in this._tiles){var Be=this._tiles[xe].coords;(Be.z!==this._tileZoom||!ue.contains(new D(Be.x,Be.y)))&&(this._tiles[xe].current=!1)}if(Math.abs(u-this._tileZoom)>1){this._setView(n,u);return}for(var Qe=w.min.y;Qe<=w.max.y;Qe++)for(var vt=w.min.x;vt<=w.max.x;vt++){var wn=new D(vt,Qe);if(wn.z=this._tileZoom,!!this._isValidTile(wn)){var hn=this._tiles[this._tileCoordsToKey(wn)];hn?hn.current=!0:U.push(wn)}}if(U.sort(function(Mn,Ir){return Mn.distanceTo(O)-Ir.distanceTo(O)}),U.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Hn=document.createDocumentFragment();for(vt=0;vt<U.length;vt++)this._addTile(U[vt],Hn);this._level.el.appendChild(Hn)}}}},_isValidTile:function(n){var r=this._map.options.crs;if(!r.infinite){var u=this._globalTileRange;if(!r.wrapLng&&(n.x<u.min.x||n.x>u.max.x)||!r.wrapLat&&(n.y<u.min.y||n.y>u.max.y))return!1}if(!this.options.bounds)return!0;var y=this._tileCoordsToBounds(n);return ee(this.options.bounds).overlaps(y)},_keyToBounds:function(n){return this._tileCoordsToBounds(this._keyToTileCoords(n))},_tileCoordsToNwSe:function(n){var r=this._map,u=this.getTileSize(),y=n.scaleBy(u),w=y.add(u),O=r.unproject(y,n.z),U=r.unproject(w,n.z);return[O,U]},_tileCoordsToBounds:function(n){var r=this._tileCoordsToNwSe(n),u=new Y(r[0],r[1]);return this.options.noWrap||(u=this._map.wrapLatLngBounds(u)),u},_tileCoordsToKey:function(n){return n.x+":"+n.y+":"+n.z},_keyToTileCoords:function(n){var r=n.split(":"),u=new D(+r[0],+r[1]);return u.z=+r[2],u},_removeTile:function(n){var r=this._tiles[n];r&&(Vt(r.el),delete this._tiles[n],this.fire("tileunload",{tile:r.el,coords:this._keyToTileCoords(n)}))},_initTile:function(n){ct(n,"leaflet-tile");var r=this.getTileSize();n.style.width=r.x+"px",n.style.height=r.y+"px",n.onselectstart=g,n.onmousemove=g,De.ielt9&&this.options.opacity<1&&$n(n,this.options.opacity)},_addTile:function(n,r){var u=this._getTilePos(n),y=this._tileCoordsToKey(n),w=this.createTile(this._wrapCoords(n),l(this._tileReady,this,n));this._initTile(w),this.createTile.length<2&&F(l(this._tileReady,this,n,null,w)),sn(w,u),this._tiles[y]={el:w,coords:n,current:!0},r.appendChild(w),this.fire("tileloadstart",{tile:w,coords:n})},_tileReady:function(n,r,u){r&&this.fire("tileerror",{error:r,tile:u,coords:n});var y=this._tileCoordsToKey(n);u=this._tiles[y],u&&(u.loaded=+new Date,this._map._fadeAnimated?($n(u.el,0),G(this._fadeFrame),this._fadeFrame=F(this._updateOpacity,this)):(u.active=!0,this._pruneTiles()),r||(ct(u.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:u.el,coords:n})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),De.ielt9||!this._map._fadeAnimated?F(this._pruneTiles,this):setTimeout(l(this._pruneTiles,this),250)))},_getTilePos:function(n){return n.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(n){var r=new D(this._wrapX?m(n.x,this._wrapX):n.x,this._wrapY?m(n.y,this._wrapY):n.y);return r.z=n.z,r},_pxBoundsToTileRange:function(n){var r=this.getTileSize();return new K(n.min.unscaleBy(r).floor(),n.max.unscaleBy(r).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var n in this._tiles)if(!this._tiles[n].loaded)return!1;return!0}});function Hf(n){return new ls(n)}var Pr=ls.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(n,r){this._url=n,r=x(this,r),r.detectRetina&&De.retina&&r.maxZoom>0?(r.tileSize=Math.floor(r.tileSize/2),r.zoomReverse?(r.zoomOffset--,r.minZoom=Math.min(r.maxZoom,r.minZoom+1)):(r.zoomOffset++,r.maxZoom=Math.max(r.minZoom,r.maxZoom-1)),r.minZoom=Math.max(0,r.minZoom)):r.zoomReverse?r.minZoom=Math.min(r.maxZoom,r.minZoom):r.maxZoom=Math.max(r.minZoom,r.maxZoom),typeof r.subdomains=="string"&&(r.subdomains=r.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(n,r){return this._url===n&&r===void 0&&(r=!0),this._url=n,r||this.redraw(),this},createTile:function(n,r){var u=document.createElement("img");return at(u,"load",l(this._tileOnLoad,this,r,u)),at(u,"error",l(this._tileOnError,this,r,u)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(u.referrerPolicy=this.options.referrerPolicy),u.alt="",u.src=this.getTileUrl(n),u},getTileUrl:function(n){var r={r:De.retina?"@2x":"",s:this._getSubdomain(n),x:n.x,y:n.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var u=this._globalTileRange.max.y-n.y;this.options.tms&&(r.y=u),r["-y"]=u}return P(this._url,i(r,this.options))},_tileOnLoad:function(n,r){De.ielt9?setTimeout(l(n,this,null,r),0):n(null,r)},_tileOnError:function(n,r,u){var y=this.options.errorTileUrl;y&&r.getAttribute("src")!==y&&(r.src=y),n(u,r)},_onTileRemove:function(n){n.tile.onload=null},_getZoomForUrl:function(){var n=this._tileZoom,r=this.options.maxZoom,u=this.options.zoomReverse,y=this.options.zoomOffset;return u&&(n=r-n),n+y},_getSubdomain:function(n){var r=Math.abs(n.x+n.y)%this.options.subdomains.length;return this.options.subdomains[r]},_abortLoading:function(){var n,r;for(n in this._tiles)if(this._tiles[n].coords.z!==this._tileZoom&&(r=this._tiles[n].el,r.onload=g,r.onerror=g,!r.complete)){r.src=j;var u=this._tiles[n].coords;Vt(r),delete this._tiles[n],this.fire("tileabort",{tile:r,coords:u})}},_removeTile:function(n){var r=this._tiles[n];if(r)return r.el.setAttribute("src",j),ls.prototype._removeTile.call(this,n)},_tileReady:function(n,r,u){if(!(!this._map||u&&u.getAttribute("src")===j))return ls.prototype._tileReady.call(this,n,r,u)}});function fu(n,r){return new Pr(n,r)}var gu=Pr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(n,r){this._url=n;var u=i({},this.defaultWmsParams);for(var y in r)y in this.options||(u[y]=r[y]);r=x(this,r);var w=r.detectRetina&&De.retina?2:1,O=this.getTileSize();u.width=O.x*w,u.height=O.y*w,this.wmsParams=u},onAdd:function(n){this._crs=this.options.crs||n.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var r=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[r]=this._crs.code,Pr.prototype.onAdd.call(this,n)},getTileUrl:function(n){var r=this._tileCoordsToNwSe(n),u=this._crs,y=Q(u.project(r[0]),u.project(r[1])),w=y.min,O=y.max,U=(this._wmsVersion>=1.3&&this._crs===lu?[w.y,w.x,O.y,O.x]:[w.x,w.y,O.x,O.y]).join(","),oe=Pr.prototype.getTileUrl.call(this,n);return oe+S(this.wmsParams,oe,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+U},setParams:function(n,r){return i(this.wmsParams,n),r||this.redraw(),this}});function jf(n,r){return new gu(n,r)}Pr.WMS=gu,fu.wms=jf;var Co=Xn.extend({options:{padding:.1},initialize:function(n){x(this,n),p(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ct(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var n={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(n.zoomanim=this._onAnimZoom),n},_onAnimZoom:function(n){this._updateTransform(n.center,n.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(n,r){var u=this._map.getZoomScale(r,this._zoom),y=this._map.getSize().multiplyBy(.5+this.options.padding),w=this._map.project(this._center,r),O=y.multiplyBy(-u).add(w).subtract(this._map._getNewPixelOrigin(n,r));De.any3d?Ko(this._container,O,u):sn(this._container,O)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var n in this._layers)this._layers[n]._reset()},_onZoomEnd:function(){for(var n in this._layers)this._layers[n]._project()},_updatePaths:function(){for(var n in this._layers)this._layers[n]._update()},_update:function(){var n=this.options.padding,r=this._map.getSize(),u=this._map.containerPointToLayerPoint(r.multiplyBy(-n)).round();this._bounds=new K(u,u.add(r.multiplyBy(1+n*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),vu=Co.extend({options:{tolerance:0},getEvents:function(){var n=Co.prototype.getEvents.call(this);return n.viewprereset=this._onViewPreReset,n},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Co.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var n=this._container=document.createElement("canvas");at(n,"mousemove",this._onMouseMove,this),at(n,"click dblclick mousedown mouseup contextmenu",this._onClick,this),at(n,"mouseout",this._handleMouseOut,this),n._leaflet_disable_events=!0,this._ctx=n.getContext("2d")},_destroyContainer:function(){G(this._redrawRequest),delete this._ctx,Vt(this._container),Lt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var n;this._redrawBounds=null;for(var r in this._layers)n=this._layers[r],n._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Co.prototype._update.call(this);var n=this._bounds,r=this._container,u=n.getSize(),y=De.retina?2:1;sn(r,n.min),r.width=y*u.x,r.height=y*u.y,r.style.width=u.x+"px",r.style.height=u.y+"px",De.retina&&this._ctx.scale(2,2),this._ctx.translate(-n.min.x,-n.min.y),this.fire("update")}},_reset:function(){Co.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(n){this._updateDashArray(n),this._layers[p(n)]=n;var r=n._order={layer:n,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=r),this._drawLast=r,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(n){this._requestRedraw(n)},_removePath:function(n){var r=n._order,u=r.next,y=r.prev;u?u.prev=y:this._drawLast=y,y?y.next=u:this._drawFirst=u,delete n._order,delete this._layers[p(n)],this._requestRedraw(n)},_updatePath:function(n){this._extendRedrawBounds(n),n._project(),n._update(),this._requestRedraw(n)},_updateStyle:function(n){this._updateDashArray(n),this._requestRedraw(n)},_updateDashArray:function(n){if(typeof n.options.dashArray=="string"){var r=n.options.dashArray.split(/[, ]+/),u=[],y,w;for(w=0;w<r.length;w++){if(y=Number(r[w]),isNaN(y))return;u.push(y)}n.options._dashArray=u}else n.options._dashArray=n.options.dashArray},_requestRedraw:function(n){this._map&&(this._extendRedrawBounds(n),this._redrawRequest=this._redrawRequest||F(this._redraw,this))},_extendRedrawBounds:function(n){if(n._pxBounds){var r=(n.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new K,this._redrawBounds.extend(n._pxBounds.min.subtract([r,r])),this._redrawBounds.extend(n._pxBounds.max.add([r,r]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var n=this._redrawBounds;if(n){var r=n.getSize();this._ctx.clearRect(n.min.x,n.min.y,r.x,r.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var n,r=this._redrawBounds;if(this._ctx.save(),r){var u=r.getSize();this._ctx.beginPath(),this._ctx.rect(r.min.x,r.min.y,u.x,u.y),this._ctx.clip()}this._drawing=!0;for(var y=this._drawFirst;y;y=y.next)n=y.layer,(!r||n._pxBounds&&n._pxBounds.intersects(r))&&n._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(n,r){if(this._drawing){var u,y,w,O,U=n._parts,oe=U.length,ue=this._ctx;if(oe){for(ue.beginPath(),u=0;u<oe;u++){for(y=0,w=U[u].length;y<w;y++)O=U[u][y],ue[y?"lineTo":"moveTo"](O.x,O.y);r&&ue.closePath()}this._fillStroke(ue,n)}}},_updateCircle:function(n){if(!(!this._drawing||n._empty())){var r=n._point,u=this._ctx,y=Math.max(Math.round(n._radius),1),w=(Math.max(Math.round(n._radiusY),1)||y)/y;w!==1&&(u.save(),u.scale(1,w)),u.beginPath(),u.arc(r.x,r.y/w,y,0,Math.PI*2,!1),w!==1&&u.restore(),this._fillStroke(u,n)}},_fillStroke:function(n,r){var u=r.options;u.fill&&(n.globalAlpha=u.fillOpacity,n.fillStyle=u.fillColor||u.color,n.fill(u.fillRule||"evenodd")),u.stroke&&u.weight!==0&&(n.setLineDash&&n.setLineDash(r.options&&r.options._dashArray||[]),n.globalAlpha=u.opacity,n.lineWidth=u.weight,n.strokeStyle=u.color,n.lineCap=u.lineCap,n.lineJoin=u.lineJoin,n.stroke())},_onClick:function(n){for(var r=this._map.mouseEventToLayerPoint(n),u,y,w=this._drawFirst;w;w=w.next)u=w.layer,u.options.interactive&&u._containsPoint(r)&&(!(n.type==="click"||n.type==="preclick")||!this._map._draggableMoved(u))&&(y=u);this._fireEvent(y?[y]:!1,n)},_onMouseMove:function(n){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var r=this._map.mouseEventToLayerPoint(n);this._handleMouseHover(n,r)}},_handleMouseOut:function(n){var r=this._hoveredLayer;r&&(en(this._container,"leaflet-interactive"),this._fireEvent([r],n,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(n,r){if(!this._mouseHoverThrottled){for(var u,y,w=this._drawFirst;w;w=w.next)u=w.layer,u.options.interactive&&u._containsPoint(r)&&(y=u);y!==this._hoveredLayer&&(this._handleMouseOut(n),y&&(ct(this._container,"leaflet-interactive"),this._fireEvent([y],n,"mouseover"),this._hoveredLayer=y)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,n),this._mouseHoverThrottled=!0,setTimeout(l(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(n,r,u){this._map._fireDOMEvent(r,u||r.type,n)},_bringToFront:function(n){var r=n._order;if(r){var u=r.next,y=r.prev;if(u)u.prev=y;else return;y?y.next=u:u&&(this._drawFirst=u),r.prev=this._drawLast,this._drawLast.next=r,r.next=null,this._drawLast=r,this._requestRedraw(n)}},_bringToBack:function(n){var r=n._order;if(r){var u=r.next,y=r.prev;if(y)y.next=u;else return;u?u.prev=y:y&&(this._drawLast=y),r.prev=null,r.next=this._drawFirst,this._drawFirst.prev=r,this._drawFirst=r,this._requestRedraw(n)}}});function yu(n){return De.canvas?new vu(n):null}var cs=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(n){return document.createElement("<lvml:"+n+' class="lvml">')}}catch{}return function(n){return document.createElement("<"+n+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Gf={_initContainer:function(){this._container=_t("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Co.prototype._update.call(this),this.fire("update"))},_initPath:function(n){var r=n._container=cs("shape");ct(r,"leaflet-vml-shape "+(this.options.className||"")),r.coordsize="1 1",n._path=cs("path"),r.appendChild(n._path),this._updateStyle(n),this._layers[p(n)]=n},_addPath:function(n){var r=n._container;this._container.appendChild(r),n.options.interactive&&n.addInteractiveTarget(r)},_removePath:function(n){var r=n._container;Vt(r),n.removeInteractiveTarget(r),delete this._layers[p(n)]},_updateStyle:function(n){var r=n._stroke,u=n._fill,y=n.options,w=n._container;w.stroked=!!y.stroke,w.filled=!!y.fill,y.stroke?(r||(r=n._stroke=cs("stroke")),w.appendChild(r),r.weight=y.weight+"px",r.color=y.color,r.opacity=y.opacity,y.dashArray?r.dashStyle=z(y.dashArray)?y.dashArray.join(" "):y.dashArray.replace(/( *, *)/g," "):r.dashStyle="",r.endcap=y.lineCap.replace("butt","flat"),r.joinstyle=y.lineJoin):r&&(w.removeChild(r),n._stroke=null),y.fill?(u||(u=n._fill=cs("fill")),w.appendChild(u),u.color=y.fillColor||y.color,u.opacity=y.fillOpacity):u&&(w.removeChild(u),n._fill=null)},_updateCircle:function(n){var r=n._point.round(),u=Math.round(n._radius),y=Math.round(n._radiusY||u);this._setPath(n,n._empty()?"M0 0":"AL "+r.x+","+r.y+" "+u+","+y+" 0,"+65535*360)},_setPath:function(n,r){n._path.v=r},_bringToFront:function(n){br(n._container)},_bringToBack:function(n){Cr(n._container)}},di=De.vml?cs:me,us=Co.extend({_initContainer:function(){this._container=di("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=di("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Vt(this._container),Lt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Co.prototype._update.call(this);var n=this._bounds,r=n.getSize(),u=this._container;(!this._svgSize||!this._svgSize.equals(r))&&(this._svgSize=r,u.setAttribute("width",r.x),u.setAttribute("height",r.y)),sn(u,n.min),u.setAttribute("viewBox",[n.min.x,n.min.y,r.x,r.y].join(" ")),this.fire("update")}},_initPath:function(n){var r=n._path=di("path");n.options.className&&ct(r,n.options.className),n.options.interactive&&ct(r,"leaflet-interactive"),this._updateStyle(n),this._layers[p(n)]=n},_addPath:function(n){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(n._path),n.addInteractiveTarget(n._path)},_removePath:function(n){Vt(n._path),n.removeInteractiveTarget(n._path),delete this._layers[p(n)]},_updatePath:function(n){n._project(),n._update()},_updateStyle:function(n){var r=n._path,u=n.options;r&&(u.stroke?(r.setAttribute("stroke",u.color),r.setAttribute("stroke-opacity",u.opacity),r.setAttribute("stroke-width",u.weight),r.setAttribute("stroke-linecap",u.lineCap),r.setAttribute("stroke-linejoin",u.lineJoin),u.dashArray?r.setAttribute("stroke-dasharray",u.dashArray):r.removeAttribute("stroke-dasharray"),u.dashOffset?r.setAttribute("stroke-dashoffset",u.dashOffset):r.removeAttribute("stroke-dashoffset")):r.setAttribute("stroke","none"),u.fill?(r.setAttribute("fill",u.fillColor||u.color),r.setAttribute("fill-opacity",u.fillOpacity),r.setAttribute("fill-rule",u.fillRule||"evenodd")):r.setAttribute("fill","none"))},_updatePoly:function(n,r){this._setPath(n,ye(n._parts,r))},_updateCircle:function(n){var r=n._point,u=Math.max(Math.round(n._radius),1),y=Math.max(Math.round(n._radiusY),1)||u,w="a"+u+","+y+" 0 1,0 ",O=n._empty()?"M0 0":"M"+(r.x-u)+","+r.y+w+u*2+",0 "+w+-u*2+",0 ";this._setPath(n,O)},_setPath:function(n,r){n._path.setAttribute("d",r)},_bringToFront:function(n){br(n._path)},_bringToBack:function(n){Cr(n._path)}});De.vml&&us.include(Gf);function bu(n){return De.svg||De.vml?new us(n):null}xt.include({getRenderer:function(n){var r=n.options.renderer||this._getPaneRenderer(n.options.pane)||this.options.renderer||this._renderer;return r||(r=this._renderer=this._createRenderer()),this.hasLayer(r)||this.addLayer(r),r},_getPaneRenderer:function(n){if(n==="overlayPane"||n===void 0)return!1;var r=this._paneRenderers[n];return r===void 0&&(r=this._createRenderer({pane:n}),this._paneRenderers[n]=r),r},_createRenderer:function(n){return this.options.preferCanvas&&yu(n)||bu(n)}});var Cu=Sr.extend({initialize:function(n,r){Sr.prototype.initialize.call(this,this._boundsToLatLngs(n),r)},setBounds:function(n){return this.setLatLngs(this._boundsToLatLngs(n))},_boundsToLatLngs:function(n){return n=ee(n),[n.getSouthWest(),n.getNorthWest(),n.getNorthEast(),n.getSouthEast()]}});function Vf(n,r){return new Cu(n,r)}us.create=di,us.pointsToPath=ye,bo.geometryToLayer=ri,bo.coordsToLatLng=qa,bo.coordsToLatLngs=si,bo.latLngToCoords=Xa,bo.latLngsToCoords=ii,bo.getFeature=_r,bo.asFeature=ai,xt.mergeOptions({boxZoom:!0});var xu=ao.extend({initialize:function(n){this._map=n,this._container=n._container,this._pane=n._panes.overlayPane,this._resetStateTimeout=0,n.on("unload",this._destroy,this)},addHooks:function(){at(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Lt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Vt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(n){if(!n.shiftKey||n.which!==1&&n.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),ts(),Ra(),this._startPoint=this._map.mouseEventToContainerPoint(n),at(document,{contextmenu:Xo,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(n){this._moved||(this._moved=!0,this._box=_t("div","leaflet-zoom-box",this._container),ct(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(n);var r=new K(this._point,this._startPoint),u=r.getSize();sn(this._box,r.min),this._box.style.width=u.x+"px",this._box.style.height=u.y+"px"},_finish:function(){this._moved&&(Vt(this._box),en(this._container,"leaflet-crosshair")),ns(),La(),Lt(document,{contextmenu:Xo,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(n){if(!(n.which!==1&&n.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(l(this._resetState,this),0);var r=new Y(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(r).fire("boxzoomend",{boxZoomBounds:r})}},_onKeyDown:function(n){n.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});xt.addInitHook("addHandler","boxZoom",xu),xt.mergeOptions({doubleClickZoom:!0});var wu=ao.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(n){var r=this._map,u=r.getZoom(),y=r.options.zoomDelta,w=n.originalEvent.shiftKey?u-y:u+y;r.options.doubleClickZoom==="center"?r.setZoom(w):r.setZoomAround(n.containerPoint,w)}});xt.addInitHook("addHandler","doubleClickZoom",wu),xt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Su=ao.extend({addHooks:function(){if(!this._draggable){var n=this._map;this._draggable=new Eo(n._mapPane,n._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),n.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),n.on("zoomend",this._onZoomEnd,this),n.whenReady(this._onZoomEnd,this))}ct(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){en(this._map._container,"leaflet-grab"),en(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var n=this._map;if(n._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var r=ee(this._map.options.maxBounds);this._offsetLimit=Q(this._map.latLngToContainerPoint(r.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(r.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;n.fire("movestart").fire("dragstart"),n.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(n){if(this._map.options.inertia){var r=this._lastTime=+new Date,u=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(u),this._times.push(r),this._prunePositions(r)}this._map.fire("move",n).fire("drag",n)},_prunePositions:function(n){for(;this._positions.length>1&&n-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var n=this._map.getSize().divideBy(2),r=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=r.subtract(n).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(n,r){return n-(n-r)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var n=this._draggable._newPos.subtract(this._draggable._startPos),r=this._offsetLimit;n.x<r.min.x&&(n.x=this._viscousLimit(n.x,r.min.x)),n.y<r.min.y&&(n.y=this._viscousLimit(n.y,r.min.y)),n.x>r.max.x&&(n.x=this._viscousLimit(n.x,r.max.x)),n.y>r.max.y&&(n.y=this._viscousLimit(n.y,r.max.y)),this._draggable._newPos=this._draggable._startPos.add(n)}},_onPreDragWrap:function(){var n=this._worldWidth,r=Math.round(n/2),u=this._initialWorldOffset,y=this._draggable._newPos.x,w=(y-r+u)%n+r-u,O=(y+r+u)%n-r-u,U=Math.abs(w+u)<Math.abs(O+u)?w:O;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=U},_onDragEnd:function(n){var r=this._map,u=r.options,y=!u.inertia||n.noInertia||this._times.length<2;if(r.fire("dragend",n),y)r.fire("moveend");else{this._prunePositions(+new Date);var w=this._lastPos.subtract(this._positions[0]),O=(this._lastTime-this._times[0])/1e3,U=u.easeLinearity,oe=w.multiplyBy(U/O),ue=oe.distanceTo([0,0]),xe=Math.min(u.inertiaMaxSpeed,ue),Be=oe.multiplyBy(xe/ue),Qe=xe/(u.inertiaDeceleration*U),vt=Be.multiplyBy(-Qe/2).round();!vt.x&&!vt.y?r.fire("moveend"):(vt=r._limitOffset(vt,r.options.maxBounds),F(function(){r.panBy(vt,{duration:Qe,easeLinearity:U,noMoveStart:!0,animate:!0})}))}}});xt.addInitHook("addHandler","dragging",Su),xt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var _u=ao.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(n){this._map=n,this._setPanDelta(n.options.keyboardPanDelta),this._setZoomDelta(n.options.zoomDelta)},addHooks:function(){var n=this._map._container;n.tabIndex<=0&&(n.tabIndex="0"),at(n,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Lt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var n=document.body,r=document.documentElement,u=n.scrollTop||r.scrollTop,y=n.scrollLeft||r.scrollLeft;this._map._container.focus(),window.scrollTo(y,u)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(n){var r=this._panKeys={},u=this.keyCodes,y,w;for(y=0,w=u.left.length;y<w;y++)r[u.left[y]]=[-1*n,0];for(y=0,w=u.right.length;y<w;y++)r[u.right[y]]=[n,0];for(y=0,w=u.down.length;y<w;y++)r[u.down[y]]=[0,n];for(y=0,w=u.up.length;y<w;y++)r[u.up[y]]=[0,-1*n]},_setZoomDelta:function(n){var r=this._zoomKeys={},u=this.keyCodes,y,w;for(y=0,w=u.zoomIn.length;y<w;y++)r[u.zoomIn[y]]=n;for(y=0,w=u.zoomOut.length;y<w;y++)r[u.zoomOut[y]]=-n},_addHooks:function(){at(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Lt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(n){if(!(n.altKey||n.ctrlKey||n.metaKey)){var r=n.keyCode,u=this._map,y;if(r in this._panKeys){if(!u._panAnim||!u._panAnim._inProgress)if(y=this._panKeys[r],n.shiftKey&&(y=Z(y).multiplyBy(3)),u.options.maxBounds&&(y=u._limitOffset(Z(y),u.options.maxBounds)),u.options.worldCopyJump){var w=u.wrapLatLng(u.unproject(u.project(u.getCenter()).add(y)));u.panTo(w)}else u.panBy(y)}else if(r in this._zoomKeys)u.setZoom(u.getZoom()+(n.shiftKey?3:1)*this._zoomKeys[r]);else if(r===27&&u._popup&&u._popup.options.closeOnEscapeKey)u.closePopup();else return;Xo(n)}}});xt.addInitHook("addHandler","keyboard",_u),xt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Pu=ao.extend({addHooks:function(){at(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Lt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(n){var r=Jc(n),u=this._map.options.wheelDebounceTime;this._delta+=r,this._lastMousePos=this._map.mouseEventToContainerPoint(n),this._startTime||(this._startTime=+new Date);var y=Math.max(u-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(l(this._performZoom,this),y),Xo(n)},_performZoom:function(){var n=this._map,r=n.getZoom(),u=this._map.options.zoomSnap||0;n._stop();var y=this._delta/(this._map.options.wheelPxPerZoomLevel*4),w=4*Math.log(2/(1+Math.exp(-Math.abs(y))))/Math.LN2,O=u?Math.ceil(w/u)*u:w,U=n._limitZoom(r+(this._delta>0?O:-O))-r;this._delta=0,this._startTime=null,U&&(n.options.scrollWheelZoom==="center"?n.setZoom(r+U):n.setZoomAround(this._lastMousePos,r+U))}});xt.addInitHook("addHandler","scrollWheelZoom",Pu);var Wf=600;xt.mergeOptions({tapHold:De.touchNative&&De.safari&&De.mobile,tapTolerance:15});var Iu=ao.extend({addHooks:function(){at(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Lt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(n){if(clearTimeout(this._holdTimeout),n.touches.length===1){var r=n.touches[0];this._startPos=this._newPos=new D(r.clientX,r.clientY),this._holdTimeout=setTimeout(l(function(){this._cancel(),this._isTapValid()&&(at(document,"touchend",yn),at(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",r))},this),Wf),at(document,"touchend touchcancel contextmenu",this._cancel,this),at(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function n(){Lt(document,"touchend",yn),Lt(document,"touchend touchcancel",n)},_cancel:function(){clearTimeout(this._holdTimeout),Lt(document,"touchend touchcancel contextmenu",this._cancel,this),Lt(document,"touchmove",this._onMove,this)},_onMove:function(n){var r=n.touches[0];this._newPos=new D(r.clientX,r.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(n,r){var u=new MouseEvent(n,{bubbles:!0,cancelable:!0,view:window,screenX:r.screenX,screenY:r.screenY,clientX:r.clientX,clientY:r.clientY});u._simulated=!0,r.target.dispatchEvent(u)}});xt.addInitHook("addHandler","tapHold",Iu),xt.mergeOptions({touchZoom:De.touch,bounceAtZoomLimits:!0});var Tu=ao.extend({addHooks:function(){ct(this._map._container,"leaflet-touch-zoom"),at(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){en(this._map._container,"leaflet-touch-zoom"),Lt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(n){var r=this._map;if(!(!n.touches||n.touches.length!==2||r._animatingZoom||this._zooming)){var u=r.mouseEventToContainerPoint(n.touches[0]),y=r.mouseEventToContainerPoint(n.touches[1]);this._centerPoint=r.getSize()._divideBy(2),this._startLatLng=r.containerPointToLatLng(this._centerPoint),r.options.touchZoom!=="center"&&(this._pinchStartLatLng=r.containerPointToLatLng(u.add(y)._divideBy(2))),this._startDist=u.distanceTo(y),this._startZoom=r.getZoom(),this._moved=!1,this._zooming=!0,r._stop(),at(document,"touchmove",this._onTouchMove,this),at(document,"touchend touchcancel",this._onTouchEnd,this),yn(n)}},_onTouchMove:function(n){if(!(!n.touches||n.touches.length!==2||!this._zooming)){var r=this._map,u=r.mouseEventToContainerPoint(n.touches[0]),y=r.mouseEventToContainerPoint(n.touches[1]),w=u.distanceTo(y)/this._startDist;if(this._zoom=r.getScaleZoom(w,this._startZoom),!r.options.bounceAtZoomLimits&&(this._zoom<r.getMinZoom()&&w<1||this._zoom>r.getMaxZoom()&&w>1)&&(this._zoom=r._limitZoom(this._zoom)),r.options.touchZoom==="center"){if(this._center=this._startLatLng,w===1)return}else{var O=u._add(y)._divideBy(2)._subtract(this._centerPoint);if(w===1&&O.x===0&&O.y===0)return;this._center=r.unproject(r.project(this._pinchStartLatLng,this._zoom).subtract(O),this._zoom)}this._moved||(r._moveStart(!0,!1),this._moved=!0),G(this._animRequest);var U=l(r._move,r,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=F(U,this,!0),yn(n)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,G(this._animRequest),Lt(document,"touchmove",this._onTouchMove,this),Lt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});xt.addInitHook("addHandler","touchZoom",Tu),xt.BoxZoom=xu,xt.DoubleClickZoom=wu,xt.Drag=Su,xt.Keyboard=_u,xt.ScrollWheelZoom=Pu,xt.TapHold=Iu,xt.TouchZoom=Tu,o.Bounds=K,o.Browser=De,o.CRS=ae,o.Canvas=vu,o.Circle=Ja,o.CircleMarker=oi,o.Class=T,o.Control=qn,o.DivIcon=mu,o.DivOverlay=lo,o.DomEvent=cf,o.DomUtil=af,o.Draggable=Eo,o.Evented=W,o.FeatureGroup=vo,o.GeoJSON=bo,o.GridLayer=ls,o.Handler=ao,o.Icon=wr,o.ImageOverlay=li,o.LatLng=q,o.LatLngBounds=Y,o.Layer=Xn,o.LayerGroup=xr,o.LineUtil=wf,o.Map=xt,o.Marker=ni,o.Mixin=gf,o.Path=Do,o.Point=D,o.PolyUtil=vf,o.Polygon=Sr,o.Polyline=yo,o.Popup=ci,o.PosAnimation=qc,o.Projection=Sf,o.Rectangle=Cu,o.Renderer=Co,o.SVG=us,o.SVGOverlay=hu,o.TileLayer=Pr,o.Tooltip=ui,o.Transformation=le,o.Util=H,o.VideoOverlay=pu,o.bind=l,o.bounds=Q,o.canvas=yu,o.circle=Ef,o.circleMarker=Af,o.control=ss,o.divIcon=Bf,o.extend=i,o.featureGroup=Tf,o.geoJSON=du,o.geoJson=Lf,o.gridLayer=Hf,o.icon=kf,o.imageOverlay=Ff,o.latLng=te,o.latLngBounds=ee,o.layerGroup=If,o.map=uf,o.marker=Mf,o.point=Z,o.polygon=Rf,o.polyline=Df,o.popup=zf,o.rectangle=Vf,o.setOptions=x,o.stamp=p,o.svg=bu,o.svgOverlay=Nf,o.tileLayer=fu,o.tooltip=$f,o.transformation=ce,o.version=s,o.videoOverlay=Of;var Zf=window.L;o.noConflict=function(){return window.L=Zf,this},window.L=o})}(vs,vs.exports)),vs.exports}var zs=S0();const Ml=jp(zs);function cc(e,t,o){return Object.freeze({instance:e,context:t,container:o})}function uc(e,t){return t==null?function(s,i){const a=c.useRef(void 0);return a.current||(a.current=e(s,i)),a}:function(s,i){const a=c.useRef(void 0);a.current||(a.current=e(s,i));const l=c.useRef(s),{instance:d}=a.current;return c.useEffect(function(){l.current!==s&&(t(d,s,l.current),l.current=s)},[d,s,t]),a}}function _0(e,t){c.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var a;(a=t.layerContainer)==null||a.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function dh(e){return function(o){const s=ac(),i=e(lc(o,s),s);return ch(s.map,o.attribution),uh(i.current,o.eventHandlers),_0(i.current,s),i}}function P0(e,t){const o=uc(e,t),s=dh(o);return y0(s)}function I0(e,t){const o=uc(e),s=x0(o,t);return b0(s)}function T0(e,t){const o=uc(e,t),s=dh(o);return C0(s)}function k0(e,t,o){const{opacity:s,zIndex:i}=t;s!=null&&s!==o.opacity&&e.setOpacity(s),i!=null&&i!==o.zIndex&&e.setZIndex(i)}function dc(){return ac().map}function M0(e){const t=dc();return c.useEffect(function(){return t.on(e),function(){t.off(e)}},[t,e]),t}function A0({bounds:e,boundsOptions:t,center:o,children:s,className:i,id:a,placeholder:l,style:d,whenReady:p,zoom:f,...m},g){const[v]=c.useState({className:i,id:a,style:d}),[b,C]=c.useState(null),x=c.useRef(void 0);c.useImperativeHandle(g,()=>(b==null?void 0:b.map)??null,[b]);const S=c.useCallback(P=>{if(P!==null&&!x.current){const z=new zs.Map(P,m);x.current=z,o!=null&&f!=null?z.setView(o,f):e!=null&&z.fitBounds(e,t),p!=null&&z.whenReady(p),C(g0(z))}},[]);c.useEffect(()=>()=>{b==null||b.map.remove()},[b]);const _=b?zn.createElement(ic,{value:b},s):l??null;return zn.createElement("div",{...v,ref:S},_)}const E0=c.forwardRef(A0),ld=P0(function({position:t,...o},s){const i=new zs.Marker(t,o);return cc(i,v0(s,{overlayContainer:i}))},function(t,o,s){o.position!==s.position&&t.setLatLng(o.position),o.icon!=null&&o.icon!==s.icon&&t.setIcon(o.icon),o.zIndexOffset!=null&&o.zIndexOffset!==s.zIndexOffset&&t.setZIndexOffset(o.zIndexOffset),o.opacity!=null&&o.opacity!==s.opacity&&t.setOpacity(o.opacity),t.dragging!=null&&o.draggable!==s.draggable&&(o.draggable===!0?t.dragging.enable():t.dragging.disable())}),D0=T0(function({url:t,...o},s){const i=new zs.TileLayer(t,lc(o,s));return cc(i,s)},function(t,o,s){k0(t,o,s);const{url:i}=o;i!=null&&i!==s.url&&t.setUrl(i)}),cd=I0(function(t,o){const s=new zs.Tooltip(t,o.overlayContainer);return cc(s,o)},function(t,o,{position:s},i){c.useEffect(function(){const l=o.overlayContainer;if(l==null)return;const{instance:d}=t,p=m=>{m.tooltip===d&&(s!=null&&d.setLatLng(s),d.update(),i(!0))},f=m=>{m.tooltip===d&&i(!1)};return l.on({tooltipopen:p,tooltipclose:f}),l.bindTooltip(d),function(){l.off({tooltipopen:p,tooltipclose:f}),l._map!=null&&l.unbindTooltip()}},[t,o,i,s])});function R0(){const e=dc();return c.useEffect(()=>{const t=e.getContainer(),o=new ResizeObserver(()=>{e.invalidateSize({animate:!1})});return o.observe(t),()=>o.disconnect()},[e]),null}function L0({onMapDragStart:e,onMapDragEnd:t}){return M0({dragstart(){e()},dragend(){t()},click(){}}),null}function F0({selectedTask:e,selectedTasks:t,selectedResource:o,selectedResources:s,shouldZoom:i}){const a=dc(),l=zn.useRef("");return c.useEffect(()=>{if(!i)return;const d=t.length?t:e?[e]:[],p=s.length?s:o?[o]:[],f=[...d.filter(v=>v.lat&&v.lng),...p.filter(v=>v.homeLat&&v.homeLng)];if(!f.length)return;const m=f.map(v=>v.taskId?v.taskId:v.resourceId).join(",");if(m===l.current)return;if(l.current=m,f.length===1){const v=f[0];a.setView([Number(v.lat??v.homeLat),Number(v.lng??v.homeLng)],15,{animate:!1});return}const g=Ml.latLngBounds(f.map(v=>[Number(v.lat??v.homeLat),Number(v.lng??v.homeLng)]));a.fitBounds(g,{padding:[60,60],animate:!1})},[e,t,o,s,i,a]),null}function O0({tasks:e,resources:t,selectedTask:o,selectedTasks:s,selectedResource:i,selectedResources:a,shouldZoom:l,handleTaskMapClick:d,handleResourceMapClick:p,notifyMapDragStart:f,notifyMapDragEnd:m}){const g=zt(),v=c.useMemo(()=>e.filter(S=>S.lat&&S.lng),[e]),b=c.useMemo(()=>t.filter(S=>S.homeLat&&S.homeLng),[t]),C=new Set(s.map(S=>S.taskId)),x=new Set(a.map(S=>S.resourceId));return h.jsx(Nt,{"data-map-root":"true",elevation:0,sx:{height:"100%",display:"flex",flexDirection:"column",borderRadius:3,px:3,py:2.5,border:`1px solid ${Te(g.palette.primary.main,.18)}`,boxShadow:"0 18px 46px rgba(8,58,97,0.18)",backgroundImage:"none"},children:h.jsx(Ue,{sx:{flex:1,borderRadius:2,overflow:"hidden",position:"relative"},children:h.jsxs(E0,{center:[51.713,-3.449],zoom:12,style:{width:"100%",height:"100%"},children:[h.jsx(R0,{}),h.jsx(L0,{onMapDragStart:f,onMapDragEnd:m}),h.jsx(F0,{selectedTask:o,selectedTasks:s,selectedResource:i,selectedResources:a,shouldZoom:l}),h.jsx(D0,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),v.map(S=>{const _=!!(C.has(S.taskId)||o&&o.taskId===S.taskId),P=Ml.divIcon({className:"custom-pin",iconSize:[36,50],iconAnchor:[18,46],html:ih(oh[S.commitmentType]??"#6B7280",_)});return h.jsx(ld,{position:[S.lat,S.lng],icon:P,eventHandlers:{click:z=>{var j,k;const R=((j=z.originalEvent)==null?void 0:j.ctrlKey)||((k=z.originalEvent)==null?void 0:k.metaKey)||!1;d(S,R)},mouseover:z=>{var j;const R=z.target;(j=R.closeTooltip)==null||j.call(R)},dblclick:z=>{var j;const R=z.target;(j=R.openTooltip)==null||j.call(R)}},children:h.jsx(cd,{direction:"top",offset:[0,-36],permanent:!1,sticky:!1,opacity:1,className:"leaflet-tooltip-surface",children:h.jsxs(Ue,{sx:{fontSize:12,lineHeight:1.4,color:g.palette.text.primary},children:[h.jsx(Ue,{component:"span",sx:{fontWeight:700,display:"block"},children:S.taskId}),h.jsx(Ue,{component:"span",sx:{color:g.palette.text.secondary},children:S.customerAddress})]})})},S.taskId)}),b.map(S=>{const _=!!(x.has(S.resourceId)||i&&i.resourceId===S.resourceId),P=Ml.divIcon({className:"custom-pin",iconSize:[36,50],iconAnchor:[18,46],html:ah(S.status,_)});return h.jsx(ld,{position:[S.homeLat,S.homeLng],icon:P,eventHandlers:{click:z=>{var j,k;const R=((j=z.originalEvent)==null?void 0:j.ctrlKey)||((k=z.originalEvent)==null?void 0:k.metaKey)||!1;p(S,R)},mouseover:z=>{var j;const R=z.target;(j=R.closeTooltip)==null||j.call(R)},dblclick:z=>{var j;const R=z.target;(j=R.openTooltip)==null||j.call(R)}},children:h.jsx(cd,{direction:"top",offset:[0,-36],permanent:!1,sticky:!1,opacity:1,className:"leaflet-tooltip-surface",children:h.jsxs(Ue,{sx:{fontSize:12,lineHeight:1.4,color:g.palette.text.primary},children:[h.jsx(Ue,{component:"span",sx:{fontWeight:700,display:"block"},children:S.name}),h.jsx(Ue,{component:"span",sx:{display:"block",color:g.palette.text.secondary},children:S.homePostCode}),h.jsxs(Ue,{component:"span",sx:{color:g.palette.text.secondary},children:["Status: ",S.status]})]})})},S.resourceId)})]})})})}const ph=c.createContext(void 0);function pt(){const e=c.useContext(ph);if(e===void 0)throw new Error(["MUI: Could not find the data grid context.","It looks like you rendered your component outside of a DataGrid, DataGridPro or DataGridPremium parent component.","This can also happen if you are bundling multiple versions of the data grid."].join(`
`));return e}const N0=()=>c.useRef({}),hh=c.createContext(void 0),Ge=()=>{const e=c.useContext(hh);if(!e)throw new Error("MUI: useGridRootProps should only be used inside the DataGrid, DataGridPro or DataGridPremium component.");return e};function z0(e,t){return()=>null}function nr(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function mh(e){if(c.isValidElement(e)||!nr(e))return e;const t={};return Object.keys(e).forEach(o=>{t[o]=mh(e[o])}),t}function Oi(e,t,o={clone:!0}){const s=o.clone?I({},e):e;return nr(e)&&nr(t)&&Object.keys(t).forEach(i=>{c.isValidElement(t[i])?s[i]=t[i]:nr(t[i])&&Object.prototype.hasOwnProperty.call(e,i)&&nr(e[i])?s[i]=Oi(e[i],t[i],o):o.clone?s[i]=nr(t[i])?mh(t[i]):t[i]:s[i]=t[i]}),s}function $0(e){let t="https://mui.com/production-error/?code="+e;for(let o=1;o<arguments.length;o+=1)t+="&args[]="+encodeURIComponent(arguments[o]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function mo(e){if(typeof e!="string")throw new Error($0(7));return e.charAt(0).toUpperCase()+e.slice(1)}function fh(e,t=166){let o;function s(...i){const a=()=>{e.apply(this,i)};clearTimeout(o),o=setTimeout(a,t)}return s.clear=()=>{clearTimeout(o)},s}function $s(e){return e&&e.ownerDocument||document}function B0(e){return $s(e).defaultView||window}function H0(e,t){typeof e=="function"?e(t):e&&(e.current=t)}const gn=typeof window<"u"?c.useLayoutEffect:c.useEffect;let ud=0;function j0(e){const[t,o]=c.useState(e),s=t;return c.useEffect(()=>{t==null&&(ud+=1,o(`mui-${ud}`))},[t]),s}const dd=Fp.useId;function Bt(e){return dd!==void 0?dd():j0(e)}function to(e){const t=c.useRef(e);return gn(()=>{t.current=e}),c.useRef((...o)=>(0,t.current)(...o)).current}function Vo(...e){return c.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(o=>{H0(o,t)})},e)}function mt(e,t,o=void 0){const s={};return Object.keys(e).forEach(i=>{s[i]=e[i].reduce((a,l)=>{if(l){const d=t(l);d!==""&&a.push(d),o&&o[l]&&a.push(o[l])}return a},[]).join(" ")}),s}const pd=e=>e,G0=()=>{let e=pd;return{configure(t){e=t},generate(t){return e(t)},reset(){e=pd}}},V0=G0(),W0={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function gh(e,t,o="Mui"){const s=W0[t];return s?`${o}-${s}`:`${V0.generate(e)}-${t}`}function vh(e,t,o="Mui"){const s={};return t.forEach(i=>{s[i]=gh(e,i,o)}),s}const yh=c.createContext(void 0);function Wo(){const e=c.useContext(yh);if(e===void 0)throw new Error(["MUI: Could not find the data grid private context.","It looks like you rendered your component outside of a DataGrid, DataGridPro or DataGridPremium parent component.","This can also happen if you are bundling multiple versions of the data grid."].join(`
`));return e}const hd={};function pc(e,t){const o=c.useRef(hd);return o.current===hd&&(o.current=e(t)),o}const Z0=[];function bh(e){c.useEffect(e,Z0)}const go=(e,t="warning")=>{let o=!1;const s=Array.isArray(e)?e.join(`
`):e;return()=>{o||(o=!0,t==="error"?console.error(s):console.warn(s))}},U0=Object.is;function Ch(e,t){if(e===t)return!0;if(!(e instanceof Object)||!(t instanceof Object))return!1;let o=0,s=0;for(const i in e)if(o+=1,!U0(e[i],t[i])||!(i in t))return!1;for(const i in t)s+=1;return o===s}go(["MUI: `useGridSelector` has been called before the initialization of the state.","This hook can only be used inside the context of the grid."]);function K0(e){return e.acceptsApiRef}function md(e,t){return K0(t)?t(e):t(e.current.state)}const J0=Object.is,hc=Ch,q0=()=>({state:null,equals:null,selector:null}),Re=(e,t,o=J0)=>{const s=pc(q0),i=s.current.selector!==null,[a,l]=c.useState(i?null:md(e,t));return s.current.state=a,s.current.equals=o,s.current.selector=t,bh(()=>e.current.store.subscribe(()=>{const d=md(e,s.current.selector);s.current.equals(s.current.state,d)||(s.current.state=d,l(d))})),a};function X0(e,t){return bg(e,t)}const Y0=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))},fd=[];function gd(e){return fd[0]=e,Cg(fd)}const Q0=["values","unit","step"],eC=e=>{const t=Object.keys(e).map(o=>({key:o,val:e[o]}))||[];return t.sort((o,s)=>o.val-s.val),t.reduce((o,s)=>I({},o,{[s.key]:s.val}),{})};function tC(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:o="px",step:s=5}=e,i=ze(e,Q0),a=eC(t),l=Object.keys(a);function d(v){return`@media (min-width:${typeof t[v]=="number"?t[v]:v}${o})`}function p(v){return`@media (max-width:${(typeof t[v]=="number"?t[v]:v)-s/100}${o})`}function f(v,b){const C=l.indexOf(b);return`@media (min-width:${typeof t[v]=="number"?t[v]:v}${o}) and (max-width:${(C!==-1&&typeof t[l[C]]=="number"?t[l[C]]:b)-s/100}${o})`}function m(v){return l.indexOf(v)+1<l.length?f(v,l[l.indexOf(v)+1]):d(v)}function g(v){const b=l.indexOf(v);return b===0?d(l[1]):b===l.length-1?p(l[b]):f(v,l[l.indexOf(v)+1]).replace("@media","@media not all and")}return I({keys:l,values:a,up:d,down:p,between:f,only:m,not:g,unit:o},i)}const nC={borderRadius:4};function _s(e,t){return t?Oi(e,t,{clone:!1}):e}const mc={xs:0,sm:600,md:900,lg:1200,xl:1536},vd={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${mc[e]}px)`};function To(e,t,o){const s=e.theme||{};if(Array.isArray(t)){const a=s.breakpoints||vd;return t.reduce((l,d,p)=>(l[a.up(a.keys[p])]=o(t[p]),l),{})}if(typeof t=="object"){const a=s.breakpoints||vd;return Object.keys(t).reduce((l,d)=>{if(Object.keys(a.values||mc).indexOf(d)!==-1){const p=a.up(d);l[p]=o(t[d],d)}else{const p=d;l[p]=t[p]}return l},{})}return o(t)}function oC(e={}){var t;return((t=e.keys)==null?void 0:t.reduce((s,i)=>{const a=e.up(i);return s[a]={},s},{}))||{}}function yd(e,t){return e.reduce((o,s)=>{const i=o[s];return(!i||Object.keys(i).length===0)&&delete o[s],o},t)}function ia(e,t,o=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&o){const s=`vars.${t}`.split(".").reduce((i,a)=>i&&i[a]?i[a]:null,e);if(s!=null)return s}return t.split(".").reduce((s,i)=>s&&s[i]!=null?s[i]:null,e)}function Ni(e,t,o,s=o){let i;return typeof e=="function"?i=e(o):Array.isArray(e)?i=e[o]||s:i=ia(e,o)||s,t&&(i=t(i,s,e)),i}function nn(e){const{prop:t,cssProperty:o=e.prop,themeKey:s,transform:i}=e,a=l=>{if(l[t]==null)return null;const d=l[t],p=l.theme,f=ia(p,s)||{};return To(l,d,g=>{let v=Ni(f,i,g);return g===v&&typeof g=="string"&&(v=Ni(f,i,`${t}${g==="default"?"":mo(g)}`,g)),o===!1?v:{[o]:v}})};return a.propTypes={},a.filterProps=[t],a}function rC(e){const t={};return o=>(t[o]===void 0&&(t[o]=e(o)),t[o])}const sC={m:"margin",p:"padding"},iC={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},bd={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},aC=rC(e=>{if(e.length>2)if(bd[e])e=bd[e];else return[e];const[t,o]=e.split(""),s=sC[t],i=iC[o]||"";return Array.isArray(i)?i.map(a=>s+a):[s+i]}),fc=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],gc=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...fc,...gc];function Bs(e,t,o,s){var i;const a=(i=ia(e,t,!1))!=null?i:o;return typeof a=="number"?l=>typeof l=="string"?l:a*l:Array.isArray(a)?l=>typeof l=="string"?l:a[l]:typeof a=="function"?a:()=>{}}function xh(e){return Bs(e,"spacing",8)}function Hs(e,t){if(typeof t=="string"||t==null)return t;const o=Math.abs(t),s=e(o);return t>=0?s:typeof s=="number"?-s:`-${s}`}function lC(e,t){return o=>e.reduce((s,i)=>(s[i]=Hs(t,o),s),{})}function cC(e,t,o,s){if(t.indexOf(o)===-1)return null;const i=aC(o),a=lC(i,s),l=e[o];return To(e,l,a)}function wh(e,t){const o=xh(e.theme);return Object.keys(e).map(s=>cC(e,t,s,o)).reduce(_s,{})}function qt(e){return wh(e,fc)}qt.propTypes={};qt.filterProps=fc;function Xt(e){return wh(e,gc)}Xt.propTypes={};Xt.filterProps=gc;function uC(e=8){if(e.mui)return e;const t=xh({spacing:e}),o=(...s)=>(s.length===0?[1]:s).map(a=>{const l=t(a);return typeof l=="number"?`${l}px`:l}).join(" ");return o.mui=!0,o}function aa(...e){const t=e.reduce((s,i)=>(i.filterProps.forEach(a=>{s[a]=i}),s),{}),o=s=>Object.keys(s).reduce((i,a)=>t[a]?_s(i,t[a](s)):i,{});return o.propTypes={},o.filterProps=e.reduce((s,i)=>s.concat(i.filterProps),[]),o}function Zn(e){return typeof e!="number"?e:`${e}px solid`}function Kn(e,t){return nn({prop:e,themeKey:"borders",transform:t})}const dC=Kn("border",Zn),pC=Kn("borderTop",Zn),hC=Kn("borderRight",Zn),mC=Kn("borderBottom",Zn),fC=Kn("borderLeft",Zn),gC=Kn("borderColor"),vC=Kn("borderTopColor"),yC=Kn("borderRightColor"),bC=Kn("borderBottomColor"),CC=Kn("borderLeftColor"),xC=Kn("outline",Zn),wC=Kn("outlineColor"),la=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=Bs(e.theme,"shape.borderRadius",4),o=s=>({borderRadius:Hs(t,s)});return To(e,e.borderRadius,o)}return null};la.propTypes={};la.filterProps=["borderRadius"];aa(dC,pC,hC,mC,fC,gC,vC,yC,bC,CC,la,xC,wC);const ca=e=>{if(e.gap!==void 0&&e.gap!==null){const t=Bs(e.theme,"spacing",8),o=s=>({gap:Hs(t,s)});return To(e,e.gap,o)}return null};ca.propTypes={};ca.filterProps=["gap"];const ua=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=Bs(e.theme,"spacing",8),o=s=>({columnGap:Hs(t,s)});return To(e,e.columnGap,o)}return null};ua.propTypes={};ua.filterProps=["columnGap"];const da=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=Bs(e.theme,"spacing",8),o=s=>({rowGap:Hs(t,s)});return To(e,e.rowGap,o)}return null};da.propTypes={};da.filterProps=["rowGap"];const SC=nn({prop:"gridColumn"}),_C=nn({prop:"gridRow"}),PC=nn({prop:"gridAutoFlow"}),IC=nn({prop:"gridAutoColumns"}),TC=nn({prop:"gridAutoRows"}),kC=nn({prop:"gridTemplateColumns"}),MC=nn({prop:"gridTemplateRows"}),AC=nn({prop:"gridTemplateAreas"}),EC=nn({prop:"gridArea"});aa(ca,ua,da,SC,_C,PC,IC,TC,kC,MC,AC,EC);function Gr(e,t){return t==="grey"?t:e}const DC=nn({prop:"color",themeKey:"palette",transform:Gr}),RC=nn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Gr}),LC=nn({prop:"backgroundColor",themeKey:"palette",transform:Gr});aa(DC,RC,LC);function Nn(e){return e<=1&&e!==0?`${e*100}%`:e}const FC=nn({prop:"width",transform:Nn}),vc=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=o=>{var s,i;const a=((s=e.theme)==null||(s=s.breakpoints)==null||(s=s.values)==null?void 0:s[o])||mc[o];return a?((i=e.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${a}${e.theme.breakpoints.unit}`}:{maxWidth:a}:{maxWidth:Nn(o)}};return To(e,e.maxWidth,t)}return null};vc.filterProps=["maxWidth"];const OC=nn({prop:"minWidth",transform:Nn}),NC=nn({prop:"height",transform:Nn}),zC=nn({prop:"maxHeight",transform:Nn}),$C=nn({prop:"minHeight",transform:Nn});nn({prop:"size",cssProperty:"width",transform:Nn});nn({prop:"size",cssProperty:"height",transform:Nn});const BC=nn({prop:"boxSizing"});aa(FC,vc,OC,NC,zC,$C,BC);const Sh={border:{themeKey:"borders",transform:Zn},borderTop:{themeKey:"borders",transform:Zn},borderRight:{themeKey:"borders",transform:Zn},borderBottom:{themeKey:"borders",transform:Zn},borderLeft:{themeKey:"borders",transform:Zn},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Zn},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:la},color:{themeKey:"palette",transform:Gr},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Gr},backgroundColor:{themeKey:"palette",transform:Gr},p:{style:Xt},pt:{style:Xt},pr:{style:Xt},pb:{style:Xt},pl:{style:Xt},px:{style:Xt},py:{style:Xt},padding:{style:Xt},paddingTop:{style:Xt},paddingRight:{style:Xt},paddingBottom:{style:Xt},paddingLeft:{style:Xt},paddingX:{style:Xt},paddingY:{style:Xt},paddingInline:{style:Xt},paddingInlineStart:{style:Xt},paddingInlineEnd:{style:Xt},paddingBlock:{style:Xt},paddingBlockStart:{style:Xt},paddingBlockEnd:{style:Xt},m:{style:qt},mt:{style:qt},mr:{style:qt},mb:{style:qt},ml:{style:qt},mx:{style:qt},my:{style:qt},margin:{style:qt},marginTop:{style:qt},marginRight:{style:qt},marginBottom:{style:qt},marginLeft:{style:qt},marginX:{style:qt},marginY:{style:qt},marginInline:{style:qt},marginInlineStart:{style:qt},marginInlineEnd:{style:qt},marginBlock:{style:qt},marginBlockStart:{style:qt},marginBlockEnd:{style:qt},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:ca},rowGap:{style:da},columnGap:{style:ua},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Nn},maxWidth:{style:vc},minWidth:{transform:Nn},height:{transform:Nn},maxHeight:{transform:Nn},minHeight:{transform:Nn},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function HC(...e){const t=e.reduce((s,i)=>s.concat(Object.keys(i)),[]),o=new Set(t);return e.every(s=>o.size===Object.keys(s).length)}function jC(e,t){return typeof e=="function"?e(t):e}function GC(){function e(o,s,i,a){const l={[o]:s,theme:i},d=a[o];if(!d)return{[o]:s};const{cssProperty:p=o,themeKey:f,transform:m,style:g}=d;if(s==null)return null;if(f==="typography"&&s==="inherit")return{[o]:s};const v=ia(i,f)||{};return g?g(l):To(l,s,C=>{let x=Ni(v,m,C);return C===x&&typeof C=="string"&&(x=Ni(v,m,`${o}${C==="default"?"":mo(C)}`,C)),p===!1?x:{[p]:x}})}function t(o){var s;const{sx:i,theme:a={},nested:l}=o||{};if(!i)return null;const d=(s=a.unstable_sxConfig)!=null?s:Sh;function p(f){let m=f;if(typeof f=="function")m=f(a);else if(typeof f!="object")return f;if(!m)return null;const g=oC(a.breakpoints),v=Object.keys(g);let b=g;return Object.keys(m).forEach(C=>{const x=jC(m[C],a);if(x!=null)if(typeof x=="object")if(d[C])b=_s(b,e(C,x,a,d));else{const S=To({theme:a},x,_=>({[C]:_}));HC(S,x)?b[C]=t({sx:x,theme:a,nested:!0}):b=_s(b,S)}else b=_s(b,e(C,x,a,d))}),!l&&a.modularCssLayers?{"@layer sx":yd(v,b)}:yd(v,b)}return Array.isArray(i)?i.map(p):p(i)}return t}const yc=GC();yc.filterProps=["sx"];function VC(e,t){const o=this;return o.vars&&typeof o.getColorSchemeSelector=="function"?{[o.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)")]:t}:o.palette.mode===e?t:{}}const WC=["breakpoints","palette","spacing","shape"];function ZC(e={},...t){const{breakpoints:o={},palette:s={},spacing:i,shape:a={}}=e,l=ze(e,WC),d=tC(o),p=uC(i);let f=Oi({breakpoints:d,direction:"ltr",components:{},palette:I({mode:"light"},s),spacing:p,shape:I({},nC,a)},l);return f.applyStyles=VC,f=t.reduce((m,g)=>Oi(m,g),f),f.unstable_sxConfig=I({},Sh,l==null?void 0:l.unstable_sxConfig),f.unstable_sx=function(g){return yc({sx:g,theme:this})},f}const UC=["ownerState"],KC=["variants"],JC=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function qC(e){return Object.keys(e).length===0}function XC(e){return typeof e=="string"&&e.charCodeAt(0)>96}function ul(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}function Cd(e,t){return t&&e&&typeof e=="object"&&e.styles&&!e.styles.startsWith("@layer")&&(e.styles=`@layer ${t}{${String(e.styles)}}`),e}const YC=ZC(),QC=e=>e&&e.charAt(0).toLowerCase()+e.slice(1);function vi({defaultTheme:e,theme:t,themeId:o}){return qC(t)?e:t[o]||t}function ex(e){return e?(t,o)=>o[e]:null}function Pi(e,t,o){let{ownerState:s}=t,i=ze(t,UC);const a=typeof e=="function"?e(I({ownerState:s},i)):e;if(Array.isArray(a))return a.flatMap(l=>Pi(l,I({ownerState:s},i),o));if(a&&typeof a=="object"&&Array.isArray(a.variants)){const{variants:l=[]}=a;let p=ze(a,KC);return l.forEach(f=>{let m=!0;if(typeof f.props=="function"?m=f.props(I({ownerState:s},i,s)):Object.keys(f.props).forEach(g=>{(s==null?void 0:s[g])!==f.props[g]&&i[g]!==f.props[g]&&(m=!1)}),m){Array.isArray(p)||(p=[p]);const g=typeof f.style=="function"?f.style(I({ownerState:s},i,s)):f.style;p.push(o?Cd(gd(g),o):g)}}),p}return o?Cd(gd(a),o):a}function tx(e={}){const{themeId:t,defaultTheme:o=YC,rootShouldForwardProp:s=ul,slotShouldForwardProp:i=ul}=e,a=l=>yc(I({},l,{theme:vi(I({},l,{defaultTheme:o,themeId:t}))}));return a.__mui_systemSx=!0,(l,d={})=>{Y0(l,k=>k.filter(M=>!(M!=null&&M.__mui_systemSx)));const{name:p,slot:f,skipVariantsResolver:m,skipSx:g,overridesResolver:v=ex(QC(f))}=d,b=ze(d,JC),C=p&&p.startsWith("Mui")||f?"components":"custom",x=m!==void 0?m:f&&f!=="Root"&&f!=="root"||!1,S=g||!1;let _,P=ul;f==="Root"||f==="root"?P=s:f?P=i:XC(l)&&(P=void 0);const z=X0(l,I({shouldForwardProp:P,label:_},b)),R=k=>typeof k=="function"&&k.__emotion_real!==k||nr(k)?M=>{const E=vi({theme:M.theme,defaultTheme:o,themeId:t});return Pi(k,I({},M,{theme:E}),E.modularCssLayers?C:void 0)}:k,j=(k,...M)=>{let E=R(k);const $=M?M.map(R):[];p&&v&&$.push(G=>{const H=vi(I({},G,{defaultTheme:o,themeId:t}));if(!H.components||!H.components[p]||!H.components[p].styleOverrides)return null;const T=H.components[p].styleOverrides,A={};return Object.entries(T).forEach(([B,W])=>{A[B]=Pi(W,I({},G,{theme:H}),H.modularCssLayers?"theme":void 0)}),v(G,A)}),p&&!x&&$.push(G=>{var H;const T=vi(I({},G,{defaultTheme:o,themeId:t})),A=T==null||(H=T.components)==null||(H=H[p])==null?void 0:H.variants;return Pi({variants:A},I({},G,{theme:T}),T.modularCssLayers?"theme":void 0)}),S||$.push(a);const N=$.length-M.length;if(Array.isArray(k)&&N>0){const G=new Array(N).fill("");E=[...k,...G],E.raw=[...k.raw,...G]}const F=z(E,...$);return l.muiName&&(F.muiName=l.muiName),F};return z.withConfig&&(j.withConfig=z.withConfig),j}}const vn=tx();function ks(e){"@babel/helpers - typeof";return ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ks(e)}function nx(e,t){if(ks(e)!="object"||!e)return e;var o=e[Symbol.toPrimitive];if(o!==void 0){var s=o.call(e,t);if(ks(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Ms(e){var t=nx(e,"string");return ks(t)=="symbol"?t:t+""}function ft(e){return gh("MuiDataGrid",e)}const J=vh("MuiDataGrid",["actionsCell","aggregationColumnHeader","aggregationColumnHeader--alignLeft","aggregationColumnHeader--alignCenter","aggregationColumnHeader--alignRight","aggregationColumnHeaderLabel","autoHeight","autosizing","booleanCell","cell--editable","cell--editing","cell--textCenter","cell--textLeft","cell--textRight","cell--withRenderer","cell--rangeTop","cell--rangeBottom","cell--rangeLeft","cell--rangeRight","cell--selectionMode","cell","cellContent","cellCheckbox","cellSkeleton","checkboxInput","columnHeader--alignCenter","columnHeader--alignLeft","columnHeader--alignRight","columnHeader--dragging","columnHeader--moving","columnHeader--numeric","columnHeader--sortable","columnHeader--sorted","columnHeader--filtered","columnHeader","columnHeaderCheckbox","columnHeaderDraggableContainer","columnHeaderDropZone","columnHeaderTitle","columnHeaderTitleContainer","columnHeaderTitleContainerContent","columnGroupHeader","columnHeader--filledGroup","columnHeader--emptyGroup","columnHeader--showColumnBorder","columnHeaders","columnHeadersInner","columnHeadersInner--scrollable","columnSeparator--resizable","columnSeparator--resizing","columnSeparator--sideLeft","columnSeparator--sideRight","columnSeparator","columnsPanel","columnsPanelRow","detailPanel","detailPanels","detailPanelToggleCell","detailPanelToggleCell--expanded","footerCell","panel","panelHeader","panelWrapper","panelContent","panelFooter","paper","editBooleanCell","editInputCell","filterForm","filterFormDeleteIcon","filterFormLogicOperatorInput","filterFormColumnInput","filterFormOperatorInput","filterFormValueInput","filterIcon","footerContainer","headerFilterRow","iconButtonContainer","iconSeparator","main","menu","menuIcon","menuIconButton","menuOpen","menuList","overlay","overlayWrapper","overlayWrapperInner","root","root--densityStandard","root--densityComfortable","root--densityCompact","root--disableUserSelection","row","row--editable","row--editing","row--lastVisible","row--dragging","row--dynamicHeight","row--detailPanelExpanded","rowReorderCellPlaceholder","rowCount","rowReorderCellContainer","rowReorderCell","rowReorderCell--draggable","scrollArea--left","scrollArea--right","scrollArea","selectedRowCount","sortIcon","toolbarContainer","toolbarFilterList","virtualScroller","virtualScrollerContent","virtualScrollerContent--overflowed","virtualScrollerRenderZone","pinnedColumns","pinnedColumns--left","pinnedColumns--right","pinnedColumnHeaders","pinnedColumnHeaders--left","pinnedColumnHeaders--right","withBorderColor","cell--withRightBorder","columnHeader--withRightBorder","treeDataGroupingCell","treeDataGroupingCellToggle","groupingCriteriaCell","groupingCriteriaCellToggle","pinnedRows","pinnedRows--top","pinnedRows--bottom","pinnedRowsRenderZone"]);var zi="NOT_FOUND";function ox(e){var t;return{get:function(s){return t&&e(t.key,s)?t.value:zi},put:function(s,i){t={key:s,value:i}},getEntries:function(){return t?[t]:[]},clear:function(){t=void 0}}}function rx(e,t){var o=[];function s(d){var p=o.findIndex(function(m){return t(d,m.key)});if(p>-1){var f=o[p];return p>0&&(o.splice(p,1),o.unshift(f)),f.value}return zi}function i(d,p){s(d)===zi&&(o.unshift({key:d,value:p}),o.length>e&&o.pop())}function a(){return o}function l(){o=[]}return{get:s,put:i,getEntries:a,clear:l}}var sx=function(t,o){return t===o};function ix(e){return function(o,s){if(o===null||s===null||o.length!==s.length)return!1;for(var i=o.length,a=0;a<i;a++)if(!e(o[a],s[a]))return!1;return!0}}function pa(e,t){var o=typeof t=="object"?t:{equalityCheck:t},s=o.equalityCheck,i=s===void 0?sx:s,a=o.maxSize,l=a===void 0?1:a,d=o.resultEqualityCheck,p=ix(i),f=l===1?ox(p):rx(l,p);function m(){var g=f.get(arguments);if(g===zi){if(g=e.apply(null,arguments),d){var v=f.getEntries(),b=v.find(function(C){return d(C.value,g)});b&&(g=b.value)}f.put(arguments,g)}return g}return m.clearCache=function(){return f.clear()},m}function ax(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(s){return typeof s=="function"})){var o=t.map(function(s){return typeof s=="function"?"function "+(s.name||"unnamed")+"()":typeof s}).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+o+"]")}return t}function lx(e){for(var t=arguments.length,o=new Array(t>1?t-1:0),s=1;s<t;s++)o[s-1]=arguments[s];var i=function(){for(var l=arguments.length,d=new Array(l),p=0;p<l;p++)d[p]=arguments[p];var f=0,m,g={memoizeOptions:void 0},v=d.pop();if(typeof v=="object"&&(g=v,v=d.pop()),typeof v!="function")throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof v+"]");var b=g,C=b.memoizeOptions,x=C===void 0?o:C,S=Array.isArray(x)?x:[x],_=ax(d),P=e.apply(void 0,[function(){return f++,v.apply(null,arguments)}].concat(S)),z=e(function(){for(var j=[],k=_.length,M=0;M<k;M++)j.push(_[M].apply(null,arguments));return m=P.apply(null,j),m});return Object.assign(z,{resultFunc:v,memoizedResultFunc:P,dependencies:_,lastResult:function(){return m},recomputations:function(){return f},resetRecomputations:function(){return f=0}}),z};return i}var cx=lx(pa);const ux={cache:new WeakMap};go(["MUI: A selector was called without passing the instance ID, which may impact the performance of the grid.","To fix, call it with `apiRef`, e.g. `mySelector(apiRef)`, or pass the instance ID explicitly, e.g. `mySelector(state, apiRef.current.instanceId)`."]);function Lr(e){return"current"in e&&"instanceId"in e.current}const Fr={id:"default"},rt=(e,t,o,s,i,a,...l)=>{if(l.length>0)throw new Error("Unsupported number of selectors");let d;if(e&&t&&o&&s&&i&&a)d=(p,f)=>{const m=Lr(p),g=f??(m?p.current.instanceId:Fr),v=m?p.current.state:p,b=e(v,g),C=t(v,g),x=o(v,g),S=s(v,g),_=i(v,g);return a(b,C,x,S,_)};else if(e&&t&&o&&s&&i)d=(p,f)=>{const m=Lr(p),g=f??(m?p.current.instanceId:Fr),v=m?p.current.state:p,b=e(v,g),C=t(v,g),x=o(v,g),S=s(v,g);return i(b,C,x,S)};else if(e&&t&&o&&s)d=(p,f)=>{const m=Lr(p),g=f??(m?p.current.instanceId:Fr),v=m?p.current.state:p,b=e(v,g),C=t(v,g),x=o(v,g);return s(b,C,x)};else if(e&&t&&o)d=(p,f)=>{const m=Lr(p),g=f??(m?p.current.instanceId:Fr),v=m?p.current.state:p,b=e(v,g),C=t(v,g);return o(b,C)};else if(e&&t)d=(p,f)=>{const m=Lr(p),g=f??(m?p.current.instanceId:Fr),v=m?p.current.state:p,b=e(v,g);return t(b)};else throw new Error("Missing arguments");return d.acceptsApiRef=!0,d},$t=(...e)=>{const t=(...o)=>{var s,i;const[a,l]=o,d=Lr(a),p=d?a.current.instanceId:l??Fr,f=d?a.current.state:a,{cache:m}=ux;if(m.get(p)&&(s=m.get(p))!=null&&s.get(e)){var g;return(g=m.get(p))==null?void 0:g.get(e)(f,p)}const v=cx(...e);return m.get(p)||m.set(p,new Map),(i=m.get(p))==null||i.set(e,v),v(f,p)};return t.acceptsApiRef=!0,t},ir=e=>e.columns,Io=rt(ir,e=>e.orderedFields),fr=rt(ir,e=>e.lookup),po=$t(Io,fr,(e,t)=>e.map(o=>t[o])),eo=rt(ir,e=>e.columnVisibilityModel),bn=$t(po,eo,(e,t)=>e.filter(o=>t[o.field]!==!1)),ha=$t(bn,e=>e.map(t=>t.field)),Ur=$t(bn,e=>{const t=[];let o=0;for(let s=0;s<e.length;s+=1)t.push(o),o+=e[s].computedWidth;return t}),bc=rt(bn,Ur,(e,t)=>{const o=e.length;return o===0?0:t[o-1]+e[o-1].computedWidth}),_h=$t(po,e=>e.filter(t=>t.filterable)),dx=$t(po,e=>e.reduce((t,o)=>(o.filterable&&(t[o.field]=o),t),{})),ma=e=>e.columnGrouping,px=$t(ma,e=>{var t;return(t=e==null?void 0:e.unwrappedGroupingModel)!=null?t:{}}),Ph=$t(ma,e=>{var t;return(t=e==null?void 0:e.lookup)!=null?t:{}}),hx=$t(ma,e=>{var t;return(t=e==null?void 0:e.headerStructure)!=null?t:[]}),js=rt(ma,e=>{var t;return(t=e==null?void 0:e.maxDepth)!=null?t:0}),so=e=>e.rows,fa=rt(so,e=>e.totalRowCount),mx=rt(so,e=>e.loading),fx=rt(so,e=>e.totalTopLevelRowCount),Po=rt(so,e=>e.dataRowIdToModelLookup),$i=rt(so,e=>e.dataRowIdToIdLookup),Qn=rt(so,e=>e.tree),gx=rt(so,e=>e.groupingName),xd=rt(so,e=>e.treeDepths),ga=$t(so,e=>{const t=Object.entries(e.treeDepths);return t.length===0?1:t.filter(([,o])=>o>0).map(([o])=>Number(o)).sort((o,s)=>s-o)[0]+1}),ys=rt(so,e=>e.dataRowIds),vx=rt(so,e=>e==null?void 0:e.additionalRowGroups),Xr=$t(vx,e=>{var t,o;const s=e==null?void 0:e.pinnedRows;return{bottom:s==null||(t=s.bottom)==null?void 0:t.map(i=>{var a;return{id:i.id,model:(a=i.model)!=null?a:{}}}),top:s==null||(o=s.top)==null?void 0:o.map(i=>{var a;return{id:i.id,model:(a=i.model)!=null?a:{}}})}}),yx=rt(Xr,e=>{var t,o;return((e==null||(t=e.top)==null?void 0:t.length)||0)+((e==null||(o=e.bottom)==null?void 0:o.length)||0)}),Ih=()=>{var e;const t=Wo(),o=Ge(),s=Re(t,bn),i=Re(t,fa),a=Re(t,js),l=Re(t,yx);let d="grid";return(e=o.experimentalFeatures)!=null&&e.ariaV7&&o.treeData&&(d="treegrid"),{role:d,"aria-colcount":s.length,"aria-rowcount":a+1+l+i,"aria-multiselectable":!o.disableMultipleRowSelection}},bx=e=>{const{classes:t}=e;return mt({root:["main"]},ft,t)},Cx=vn("div",{name:"MuiDataGrid",slot:"Main",overridesResolver:(e,t)=>t.main})(()=>({position:"relative",flexGrow:1,display:"flex",flexDirection:"column",overflow:"hidden"})),xx=c.forwardRef((e,t)=>{var o;const s=Ge(),i=bx(s),a=(o=s.experimentalFeatures)!=null&&o.ariaV7?Ih:null,l=typeof a=="function"?a():null;return h.jsx(Cx,I({ref:t,className:i.root,ownerState:s},l,{children:e.children}))}),Th=e=>e.sorting,Cc=rt(Th,e=>e.sortedRows),xc=$t(Cc,Po,(e,t)=>e.map(o=>{var s;return{id:o,model:(s=t[o])!=null?s:{}}})),Gn=rt(Th,e=>e.sortModel),wx=$t(Gn,e=>e.reduce((o,s,i)=>(o[s.field]={sortDirection:s.sort,sortIndex:e.length>1?i+1:void 0},o),{})),wc=e=>e.filter,mn=rt(wc,e=>e.filterModel);rt(mn,e=>e.quickFilterValues);const Sx=e=>e.visibleRowsLookup,kh=rt(wc,e=>e.filteredRowsLookup);rt(wc,e=>e.filteredDescendantCountLookup);const Zo=$t(Sx,xc,(e,t)=>t.filter(o=>e[o.id]!==!1)),Ps=$t(Zo,e=>e.map(t=>t.id)),_x=$t(kh,xc,(e,t)=>t.filter(o=>e[o.id]!==!1)),Px=$t(_x,e=>e.map(t=>t.id)),Mh=$t(Zo,Qn,ga,(e,t,o)=>o<2?e:e.filter(s=>{var i;return((i=t[s.id])==null?void 0:i.depth)===0})),Ah=rt(Zo,e=>e.length),Eh=rt(Mh,e=>e.length),Dh=$t(mn,fr,(e,t)=>{var o;return(o=e.items)==null?void 0:o.filter(s=>{var i,a;if(!s.field)return!1;const l=t[s.field];if(!(l!=null&&l.filterOperators)||(l==null||(i=l.filterOperators)==null?void 0:i.length)===0)return!1;const d=l.filterOperators.find(p=>p.value===s.operator);return d?!d.InputComponent||s.value!=null&&((a=s.value)==null?void 0:a.toString())!=="":!1})}),Ix=$t(Dh,e=>e.reduce((o,s)=>(o[s.field]?o[s.field].push(s):o[s.field]=[s],o),{})),va=e=>e.focus,Ln=rt(va,e=>e.cell),Tx=rt(va,e=>e.columnHeader);rt(va,e=>e.columnHeaderFilter);const Bi=rt(va,e=>e.columnGroupHeader),ya=e=>e.tabIndex,Hi=rt(ya,e=>e.cell),Rh=rt(ya,e=>e.columnHeader);rt(ya,e=>e.columnHeaderFilter);const kx=rt(ya,e=>e.columnGroupHeader),Sc=e=>e.density,Lh=rt(Sc,e=>e.value),Yr=rt(Sc,e=>e.factor),Al=e=>e.columnMenu;function Mx(e){const{VirtualScrollerComponent:t,ColumnHeadersProps:o,children:s}=e,i=Wo(),a=Ge(),l=c.useRef(null),d=Re(i,bn),p=Re(i,Ix),f=Re(i,wx),m=Re(i,Ur),g=Re(i,Rh),v=Re(i,Hi),b=Re(i,kx),C=Re(i,Tx),x=Re(i,Bi),S=Re(i,Yr),_=Re(i,js),P=Re(i,Al),z=Re(i,eo),R=Re(i,hx),j=!(b===null&&g===null&&v===null);gn(()=>{i.current.computeSizeAndPublishResizeEvent();const N=l.current;if(typeof ResizeObserver>"u")return()=>{};let F;const G=new ResizeObserver(()=>{F=requestAnimationFrame(()=>{i.current.computeSizeAndPublishResizeEvent()})});return N&&G.observe(N),()=>{F&&window.cancelAnimationFrame(F),N&&G.unobserve(N)}},[i]);const k=c.useRef(null),M=c.useRef(null),E=c.useRef(null);i.current.register("private",{columnHeadersContainerElementRef:M,columnHeadersElementRef:k,virtualScrollerRef:E,mainElementRef:l});const $=!!i.current.getRootDimensions();return h.jsxs(xx,{ref:l,children:[h.jsx(a.slots.columnHeaders,I({ref:M,innerRef:k,visibleColumns:d,filterColumnLookup:p,sortColumnLookup:f,columnPositions:m,columnHeaderTabIndexState:g,columnGroupHeaderTabIndexState:b,columnHeaderFocus:C,columnGroupHeaderFocus:x,densityFactor:S,headerGroupingMaxDepth:_,columnMenuState:P,columnVisibility:z,columnGroupsHeaderStructure:R,hasOtherElementInTabSequence:j},o)),$&&h.jsx(t,{ref:E}),s]})}function Ax(){var e;const t=Ge();return t.hideFooter?null:h.jsx(t.slots.footer,I({},(e=t.slotProps)==null?void 0:e.footer))}const _n="auto-generated-group-node-root",Vr=Symbol("mui.id_autogenerated"),Ex=()=>({type:"group",id:_n,depth:-1,groupingField:null,groupingKey:null,isAutoGenerated:!0,children:[],childrenFromPath:{},childrenExpanded:!0,parent:null});function Dx(e,t,o="A row was provided without id in the rows prop:"){if(e==null)throw new Error(["MUI: The data grid component requires all rows to have a unique `id` property.","Alternatively, you can use the `getRowId` prop to specify a custom id for each row.",o,JSON.stringify(t)].join(`
`))}const ji=(e,t,o)=>{const s=t?t(e):e.id;return Dx(s,e,o),s},Ii=({rows:e,getRowId:t,loading:o,rowCount:s})=>{const i={type:"full",rows:[]},a={},l={};for(let d=0;d<e.length;d+=1){const p=e[d],f=ji(p,t);a[f]=p,l[f]=f,i.rows.push(f)}return{rowsBeforePartialUpdates:e,loadingPropBeforePartialUpdates:o,rowCountPropBeforePartialUpdates:s,updates:i,dataRowIdToIdLookup:l,dataRowIdToModelLookup:a}},Fh=({tree:e,rowCountProp:t=0})=>{const o=e[_n];return Math.max(t,o.children.length+(o.footerId==null?0:1))},Oh=({apiRef:e,rowCountProp:t=0,loadingProp:o,previousTree:s,previousTreeDepths:i})=>{const a=e.current.caches.rows,{tree:l,treeDepths:d,dataRowIds:p,groupingName:f}=e.current.applyStrategyProcessor("rowTreeCreation",{previousTree:s,previousTreeDepths:i,updates:a.updates,dataRowIdToIdLookup:a.dataRowIdToIdLookup,dataRowIdToModelLookup:a.dataRowIdToModelLookup}),m=e.current.unstable_applyPipeProcessors("hydrateRows",{tree:l,treeDepths:d,dataRowIdToIdLookup:a.dataRowIdToIdLookup,dataRowIds:p,dataRowIdToModelLookup:a.dataRowIdToModelLookup});return e.current.caches.rows.updates={type:"partial",actions:{insert:[],modify:[],remove:[]},idToActionLookup:{}},I({},m,{totalRowCount:Math.max(t,m.dataRowIds.length),totalTopLevelRowCount:Fh({tree:m.tree,rowCountProp:t}),groupingName:f,loading:o})},As=e=>e.type==="skeletonRow"||e.type==="footer"||e.type==="group"&&e.isAutoGenerated||e.type==="pinnedRow"&&e.isAutoGenerated,_c=(e,t,o)=>{const s=e[t];if(s.type!=="group")return[];const i=[];for(let a=0;a<s.children.length;a+=1){const l=s.children[a];(!o||!As(e[l]))&&i.push(l);const d=_c(e,l,o);for(let p=0;p<d.length;p+=1)i.push(d[p])}return!o&&s.footerId!=null&&i.push(s.footerId),i},Rx=({previousCache:e,getRowId:t,updates:o})=>{var s,i,a;if(e.updates.type==="full")throw new Error("MUI: Unable to prepare a partial update if a full update is not applied yet");const l=new Map;o.forEach(v=>{const b=ji(v,t,"A row was provided without id when calling updateRows():");l.has(b)?l.set(b,I({},l.get(b),v)):l.set(b,v)});const d={type:"partial",actions:{insert:[...(s=e.updates.actions.insert)!=null?s:[]],modify:[...(i=e.updates.actions.modify)!=null?i:[]],remove:[...(a=e.updates.actions.remove)!=null?a:[]]},idToActionLookup:I({},e.updates.idToActionLookup)},p=I({},e.dataRowIdToModelLookup),f=I({},e.dataRowIdToIdLookup),m={insert:{},modify:{},remove:{}};l.forEach((v,b)=>{const C=d.idToActionLookup[b];if(v._action==="delete"){if(C==="remove"||!p[b])return;C!=null&&(m[C][b]=!0),d.actions.remove.push(b),delete p[b],delete f[b];return}const x=p[b];if(x){C==="remove"?(m.remove[b]=!0,d.actions.modify.push(b)):C==null&&d.actions.modify.push(b),p[b]=I({},x,v);return}C==="remove"?(m.remove[b]=!0,d.actions.insert.push(b)):C==null&&d.actions.insert.push(b),p[b]=v,f[b]=b});const g=Object.keys(m);for(let v=0;v<g.length;v+=1){const b=g[v],C=m[b];Object.keys(C).length>0&&(d.actions[b]=d.actions[b].filter(x=>!C[x]))}return{dataRowIdToModelLookup:p,dataRowIdToIdLookup:f,updates:d,rowsBeforePartialUpdates:e.rowsBeforePartialUpdates,loadingPropBeforePartialUpdates:e.loadingPropBeforePartialUpdates,rowCountPropBeforePartialUpdates:e.rowCountPropBeforePartialUpdates}};function Nh(e){var t,o;const s=Xr(e),i=(s==null||(t=s.top)==null?void 0:t.reduce((l,d)=>(l+=e.current.unstable_getRowHeight(d.id),l),0))||0,a=(s==null||(o=s.bottom)==null?void 0:o.reduce((l,d)=>(l+=e.current.unstable_getRowHeight(d.id),l),0))||0;return{top:i,bottom:a}}function zh(e,t){const o=Yr(e);return`var(--DataGrid-overlayHeight, ${2*Math.floor(t*o)}px)`}const Lx=vn("div",{name:"MuiDataGrid",slot:"OverlayWrapper",shouldForwardProp:e=>e!=="overlayType",overridesResolver:(e,t)=>t.overlayWrapper})(({overlayType:e})=>({position:"sticky",top:0,left:0,width:0,height:0,zIndex:e==="loadingOverlay"?5:4})),Fx=vn("div",{name:"MuiDataGrid",slot:"OverlayWrapperInner",shouldForwardProp:e=>e!=="overlayType",overridesResolver:(e,t)=>t.overlayWrapperInner})({}),Ox=e=>{const{classes:t}=e;return mt({root:["overlayWrapper"],inner:["overlayWrapperInner"]},ft,t)};function Nx(e){var t,o;const s=pt(),i=Ge(),[a,l]=c.useState(()=>{var m,g;return(m=(g=s.current.getRootDimensions())==null?void 0:g.viewportInnerSize)!=null?m:null}),d=c.useCallback(()=>{var m,g;l((m=(g=s.current.getRootDimensions())==null?void 0:g.viewportInnerSize)!=null?m:null)},[s]);gn(()=>s.current.subscribeEvent("viewportInnerSizeChange",d),[s,d]);let p=(t=a==null?void 0:a.height)!=null?t:0;i.autoHeight&&p===0&&(p=zh(s,i.rowHeight));const f=Ox(I({},e,{classes:i.classes}));return a?h.jsx(Lx,{className:je(f.root),overlayType:e.overlayType,children:h.jsx(Fx,I({className:je(f.inner),style:{height:p,width:(o=a==null?void 0:a.width)!=null?o:0}},e))}):null}function zx(){const e=pt(),t=Ge(),o=Re(e,fa),s=Re(e,Ah),i=Re(e,mx),a=!i&&o===0,l=!i&&o>0&&s===0;let d=null,p="";if(a){var f;d=h.jsx(t.slots.noRowsOverlay,I({},(f=t.slotProps)==null?void 0:f.noRowsOverlay)),p="noRowsOverlay"}if(l){var m;d=h.jsx(t.slots.noResultsOverlay,I({},(m=t.slotProps)==null?void 0:m.noResultsOverlay)),p="noResultsOverlay"}if(i){var g;d=h.jsx(t.slots.loadingOverlay,I({},(g=t.slotProps)==null?void 0:g.loadingOverlay)),p="loadingOverlay"}return d===null?null:h.jsx(Nx,{overlayType:p,children:d})}function ba(e){return c.memo(e,Ch)}let dl;function $x(){return dl===void 0&&document.createElement("div").focus({get preventScroll(){return dl=!0,!1}}),dl}var fo=function(e){return e.Cell="cell",e.Row="row",e}(fo||{}),At=function(e){return e.Edit="edit",e.View="view",e}(At||{}),Ft=function(e){return e.Edit="edit",e.View="view",e}(Ft||{}),En=function(e){return e.And="and",e.Or="or",e}(En||{}),wo=function(e){return e.enterKeyDown="enterKeyDown",e.cellDoubleClick="cellDoubleClick",e.printableKeyDown="printableKeyDown",e.deleteKeyDown="deleteKeyDown",e.pasteKeyDown="pasteKeyDown",e}(wo||{}),Yn=function(e){return e.cellFocusOut="cellFocusOut",e.escapeKeyDown="escapeKeyDown",e.enterKeyDown="enterKeyDown",e.tabKeyDown="tabKeyDown",e.shiftTabKeyDown="shiftTabKeyDown",e}(Yn||{}),Fo=function(e){return e.enterKeyDown="enterKeyDown",e.cellDoubleClick="cellDoubleClick",e.printableKeyDown="printableKeyDown",e.deleteKeyDown="deleteKeyDown",e}(Fo||{}),So=function(e){return e.rowFocusOut="rowFocusOut",e.escapeKeyDown="escapeKeyDown",e.enterKeyDown="enterKeyDown",e.tabKeyDown="tabKeyDown",e.shiftTabKeyDown="shiftTabKeyDown",e}(So||{});function $h(e){return e.field!==void 0}function Bx(e){return e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth}function Hx(e,t){return e.closest(`.${t}`)}function Pc(e){return e.replace(/["\\]/g,"\\$&")}function jx(e,t){return e.querySelector(`[role="columnheader"][data-field="${Pc(t)}"]`)}function Bh(e){return`.${J.row}[data-id="${Pc(String(e))}"]`}function Gx(e,t){return e.querySelector(Bh(t))}function Vx(e,{id:t,field:o}){const s=Bh(t),i=`.${J.cell}[data-field="${Pc(o)}"]`,a=`${s} ${i}`;return e.querySelector(a)}function Gs(e){return e.target.nodeType===1&&!e.currentTarget.contains(e.target)}function lt(e,t,o){const s=c.useRef(!0);c.useEffect(()=>{s.current=!1,e.current.register(o,t)},[e,o,t]),s.current&&e.current.register(o,t)}class zr extends Error{}function Wx(e,t){const{getRowId:o}=t,s=c.useCallback(C=>({field:C,colDef:e.current.getColumn(C)}),[e]),i=c.useCallback(C=>{const x=e.current.getRow(C);if(!x)throw new zr(`No row with id #${C} found`);return{id:C,columns:e.current.getAllColumns(),row:x}},[e]),a=c.useCallback((C,x)=>{const S=e.current.getRow(C),_=e.current.getRowNode(C);if(!S||!_)throw new zr(`No row with id #${C} found`);const P=Ln(e),z=Hi(e);return{id:C,field:x,row:S,rowNode:_,value:S[x],colDef:e.current.getColumn(x),cellMode:e.current.getCellMode(C,x),api:e.current,hasFocus:P!==null&&P.field===x&&P.id===C,tabIndex:z&&z.field===x&&z.id===C?0:-1}},[e]),l=c.useCallback((C,x)=>{const S=e.current.getColumn(x),_=e.current.getCellValue(C,x),P=e.current.getRow(C),z=e.current.getRowNode(C);if(!P||!z)throw new zr(`No row with id #${C} found`);const R=Ln(e),j=Hi(e),k={id:C,field:x,row:P,rowNode:z,colDef:S,cellMode:e.current.getCellMode(C,x),hasFocus:R!==null&&R.field===x&&R.id===C,tabIndex:j&&j.field===x&&j.id===C?0:-1,value:_,formattedValue:_,isEditable:!1};return S&&S.valueFormatter&&(k.formattedValue=S.valueFormatter({id:C,field:k.field,value:k.value,api:e.current})),k.isEditable=S&&e.current.isCellEditable(k),k},[e]),d=c.useCallback((C,x)=>{const S=e.current.getColumn(x);if(!S||!S.valueGetter){const _=e.current.getRow(C);if(!_)throw new zr(`No row with id #${C} found`);return _[x]}return S.valueGetter(a(C,x))},[e,a]),p=c.useCallback((C,x)=>{var S;const _=Vr in C?C[Vr]:(S=o==null?void 0:o(C))!=null?S:C.id,P=x.field;return!x||!x.valueGetter?C[P]:x.valueGetter(a(_,P))},[a,o]),f=c.useCallback((C,x)=>{var S;const _=p(C,x);if(!x||!x.valueFormatter)return _;const P=(S=o?o(C):C.id)!=null?S:C[Vr],z=x.field;return x.valueFormatter({id:P,field:z,value:_,api:e.current})},[e,o,p]),m=c.useCallback(C=>e.current.rootElementRef.current?jx(e.current.rootElementRef.current,C):null,[e]),g=c.useCallback(C=>e.current.rootElementRef.current?Gx(e.current.rootElementRef.current,C):null,[e]),v=c.useCallback((C,x)=>e.current.rootElementRef.current?Vx(e.current.rootElementRef.current,{id:C,field:x}):null,[e]);lt(e,{getCellValue:d,getCellParams:l,getCellElement:v,getRowValue:p,getRowFormattedValue:f,getRowParams:i,getRowElement:g,getColumnHeaderParams:s,getColumnHeaderElement:m},"public")}const Zx=["changeReason","unstable_updateValueOnRender"],Ux=["column","rowId","editCellState","align","children","colIndex","height","width","className","showRightBorder","extendRowFullWidth","row","colSpan","disableDragEvents","isNotVisible","onClick","onDoubleClick","onMouseDown","onMouseUp","onMouseOver","onKeyDown","onKeyUp","onDragEnter","onDragOver","style"],Kx=["changeReason","unstable_updateValueOnRender"],Gi={id:-1,field:"__unset__",row:{},rowNode:{id:-1,depth:0,type:"leaf",parent:-1,groupingKey:null},colDef:{type:"string",field:"__unset__",computedWidth:0},cellMode:At.View,hasFocus:!1,tabIndex:-1,value:null,formattedValue:"__unset__",isEditable:!1,api:{}},Jx=e=>{const{align:t,showRightBorder:o,isEditable:s,isSelected:i,isSelectionMode:a,classes:l}=e,d={root:["cell",`cell--text${mo(t)}`,s&&"cell--editable",i&&"selected",o&&"cell--withRightBorder",a&&!s&&"cell--selectionMode","withBorderColor"],content:["cellContent"]};return mt(d,ft,l)},qx=c.forwardRef((e,t)=>{const{column:o,rowId:s,editCellState:i}=e,a=pt(),l=Ge(),d=o.field,p=Re(a,()=>{try{const $=a.current.getCellParams(s,d);return $.api=a.current,$}catch(E){if(E instanceof zr)return Gi;throw E}},hc),f=Re(a,()=>a.current.unstable_applyPipeProcessors("isCellSelected",!1,{id:s,field:d}));if(p===Gi)return null;const{cellMode:m,hasFocus:g,isEditable:v,value:b,formattedValue:C}=p,x=o.type==="actions",S=(m==="view"||!v)&&!x?p.tabIndex:-1,{classes:_,getCellClassName:P}=l,z=a.current.unstable_applyPipeProcessors("cellClassName",[],{id:s,field:d});o.cellClassName&&z.push(typeof o.cellClassName=="function"?o.cellClassName(p):o.cellClassName),P&&z.push(P(p));let R;if(i==null&&o.renderCell&&(R=o.renderCell(p),z.push(J["cell--withRenderer"]),z.push(_==null?void 0:_["cell--withRenderer"])),i!=null&&o.renderEditCell){const E=a.current.getRowWithUpdatedValues(s,o.field),$=ze(i,Zx),N=I({},p,{row:E},$);R=o.renderEditCell(N),z.push(J["cell--editing"]),z.push(_==null?void 0:_["cell--editing"])}const{slots:j}=l,k=j.cell,M=I({},e,{ref:t,field:d,formattedValue:C,hasFocus:g,isEditable:v,isSelected:f,value:b,cellMode:m,children:R,tabIndex:S,className:je(z)});return c.createElement(k,M)}),Xx=ba(qx),Yx=c.forwardRef((e,t)=>{var o,s,i,a;const{column:l,rowId:d,editCellState:p,align:f,colIndex:m,height:g,width:v,className:b,showRightBorder:C,colSpan:x,disableDragEvents:S,isNotVisible:_,onClick:P,onDoubleClick:z,onMouseDown:R,onMouseUp:j,onMouseOver:k,onKeyDown:M,onKeyUp:E,onDragEnter:$,onDragOver:N,style:F}=e,G=ze(e,Ux),H=pt(),T=Ge(),A=l.field,B=Re(H,()=>{try{const Pe=H.current.getCellParams(d,A);return Pe.api=H.current,Pe}catch(be){if(be instanceof zr)return Gi;throw be}},hc),W=Re(H,()=>H.current.unstable_applyPipeProcessors("isCellSelected",!1,{id:d,field:A})),{cellMode:D,hasFocus:V,isEditable:Z,value:K,formattedValue:Q}=B,Y=l.type==="actions"&&((o=(s=l).getActions)==null?void 0:o.call(s,H.current.getRowParams(d)).some(be=>!be.props.disabled)),ee=(D==="view"||!Z)&&!Y?B.tabIndex:-1,{classes:q,getCellClassName:te}=T,ae=H.current.unstable_applyPipeProcessors("cellClassName",[],{id:d,field:A});l.cellClassName&&ae.push(typeof l.cellClassName=="function"?l.cellClassName(B):l.cellClassName),te&&ae.push(te(B));const X=Q??K,ve=c.useRef(null),Ce=Vo(t,ve),le=c.useRef(null),ce=(i=T.unstable_cellSelection)!=null?i:!1,ie={align:f,showRightBorder:C,isEditable:Z,classes:T.classes,isSelected:W,isSelectionMode:ce},fe=Jx(ie),me=c.useCallback(be=>Pe=>{const ke=H.current.getCellParams(d,A||"");H.current.publishEvent(be,ke,Pe),j&&j(Pe)},[H,A,j,d]),ye=c.useCallback(be=>Pe=>{const ke=H.current.getCellParams(d,A||"");H.current.publishEvent(be,ke,Pe),R&&R(Pe)},[H,A,R,d]),ne=c.useCallback((be,Pe)=>ke=>{if(!H.current.getRow(d))return;const We=H.current.getCellParams(d,A||"");H.current.publishEvent(be,We,ke),Pe&&Pe(ke)},[H,A,d]),ge=c.useMemo(()=>_?I({padding:0,opacity:0,width:0,border:0},F):I({minWidth:v,maxWidth:v,minHeight:g,maxHeight:g==="auto"?"none":g},F),[v,g,_,F]);if(c.useEffect(()=>{if(!V||D===At.Edit)return;const be=$s(H.current.rootElementRef.current);if(ve.current&&!ve.current.contains(be.activeElement)){const Pe=ve.current.querySelector('[tabindex="0"]'),ke=le.current||Pe||ve.current;if($x())ke.focus({preventScroll:!0});else{const We=H.current.getScrollPosition();ke.focus(),H.current.scroll(We)}}},[V,D,H]),B===Gi)return null;let we=G.onFocus,Fe;if(p==null&&l.renderCell&&(Fe=l.renderCell(B),ae.push(J["cell--withRenderer"]),ae.push(q==null?void 0:q["cell--withRenderer"])),p!=null&&l.renderEditCell){const be=H.current.getRowWithUpdatedValues(d,l.field),Pe=ze(p,Kx),ke=I({},B,{row:be},Pe);Fe=l.renderEditCell(ke),ae.push(J["cell--editing"]),ae.push(q==null?void 0:q["cell--editing"])}if(Fe===void 0){const be=X==null?void 0:X.toString();Fe=h.jsx("div",{className:fe.content,title:be,role:"presentation",children:be})}c.isValidElement(Fe)&&Y&&(Fe=c.cloneElement(Fe,{focusElementRef:le}));const Ne=S?null:{onDragEnter:ne("cellDragEnter",$),onDragOver:ne("cellDragOver",N)},Ie=(a=T.experimentalFeatures)==null?void 0:a.ariaV7;return h.jsx("div",I({ref:Ce,className:je(b,ae,fe.root),role:Ie?"gridcell":"cell","data-field":A,"data-colindex":m,"aria-colindex":m+1,"aria-colspan":x,style:ge,tabIndex:ee,onClick:ne("cellClick",P),onDoubleClick:ne("cellDoubleClick",z),onMouseOver:ne("cellMouseOver",k),onMouseDown:ye("cellMouseDown"),onMouseUp:me("cellMouseUp"),onKeyDown:ne("cellKeyDown",M),onKeyUp:ne("cellKeyUp",E)},Ne,G,{onFocus:we,children:Fe}))}),El=ba(Yx),Qx=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","hasFocus","tabIndex"],ew=e=>{const{classes:t}=e;return mt({root:["booleanCell"]},ft,t)};function tw(e){const{value:t}=e,o=ze(e,Qx),s=pt(),i=Ge(),a={classes:i.classes},l=ew(a),d=c.useMemo(()=>t?i.slots.booleanCellTrueIcon:i.slots.booleanCellFalseIcon,[i.slots.booleanCellFalseIcon,i.slots.booleanCellTrueIcon,t]);return h.jsx(d,I({fontSize:"small",className:l.root,titleAccess:s.current.getLocaleText(t?"booleanCellTrueLabel":"booleanCellFalseLabel"),"data-value":!!t},o))}const nw=c.memo(tw),ow=e=>As(e.rowNode)?"":h.jsx(nw,I({},e)),rw=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","className","hasFocus","isValidating","isProcessingProps","error","onValueChange"],sw=e=>{const{classes:t}=e;return mt({root:["editBooleanCell"]},ft,t)};function iw(e){var t;const{id:o,value:s,field:i,className:a,hasFocus:l,onValueChange:d}=e,p=ze(e,rw),f=pt(),m=c.useRef(null),g=Bt(),[v,b]=c.useState(s),C=Ge(),x={classes:C.classes},S=sw(x),_=c.useCallback(async P=>{const z=P.target.checked;d&&await d(P,z),b(z),await f.current.setEditCellValue({id:o,field:i,value:z},P)},[f,i,o,d]);return c.useEffect(()=>{b(s)},[s]),gn(()=>{l&&m.current.focus()},[l]),h.jsx("label",I({htmlFor:g,className:je(S.root,a)},p,{children:h.jsx(C.slots.baseCheckbox,I({id:g,inputRef:m,checked:!!v,onChange:_,size:"small"},(t=C.slotProps)==null?void 0:t.baseCheckbox))}))}const aw=e=>h.jsx(iw,I({},e)),lw=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","hasFocus","inputProps","isValidating","isProcessingProps","onValueChange"],cw=Le(Zl)({fontSize:"inherit"}),uw=e=>{const{classes:t}=e;return mt({root:["editInputCell"]},ft,t)};function dw(e){const{id:t,value:o,field:s,colDef:i,hasFocus:a,inputProps:l,onValueChange:d}=e,p=ze(e,lw),f=i.type==="dateTime",m=pt(),g=c.useRef(),v=c.useMemo(()=>{let R;o==null?R=null:o instanceof Date?R=o:R=new Date((o??"").toString());let j;return R==null||Number.isNaN(R.getTime())?j="":j=new Date(R.getTime()-R.getTimezoneOffset()*60*1e3).toISOString().substr(0,f?16:10),{parsed:R,formatted:j}},[o,f]),[b,C]=c.useState(v),S={classes:Ge().classes},_=uw(S),P=c.useCallback(R=>{if(R==="")return null;const[j,k]=R.split("T"),[M,E,$]=j.split("-"),N=new Date;if(N.setFullYear(Number(M),Number(E)-1,Number($)),N.setHours(0,0,0,0),k){const[F,G]=k.split(":");N.setHours(Number(F),Number(G),0,0)}return N},[]),z=c.useCallback(async R=>{const j=R.target.value,k=P(j);d&&await d(R,k),C({parsed:k,formatted:j}),m.current.setEditCellValue({id:t,field:s,value:k},R)},[m,s,t,d,P]);return c.useEffect(()=>{C(R=>{var j,k;return v.parsed!==R.parsed&&((j=v.parsed)==null?void 0:j.getTime())!==((k=R.parsed)==null?void 0:k.getTime())?v:R})},[v]),gn(()=>{a&&g.current.focus()},[a]),h.jsx(cw,I({inputRef:g,fullWidth:!0,className:_.root,type:f?"datetime-local":"date",inputProps:I({max:f?"9999-12-31T23:59":"9999-12-31"},l),value:b.formatted,onChange:z},p))}const Hh=e=>h.jsx(dw,I({},e)),pw=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","hasFocus","isValidating","debounceMs","isProcessingProps","onValueChange"],hw=e=>{const{classes:t}=e;return mt({root:["editInputCell"]},ft,t)},mw=Le(Zl,{name:"MuiDataGrid",slot:"EditInputCell",overridesResolver:(e,t)=>t.editInputCell})(({theme:e})=>I({},e.typography.body2,{padding:"1px 0","& input":{padding:"0 16px",height:"100%"}})),fw=c.forwardRef((e,t)=>{const o=Ge(),{id:s,value:i,field:a,colDef:l,hasFocus:d,debounceMs:p=200,isProcessingProps:f,onValueChange:m}=e,g=ze(e,pw),v=pt(),b=c.useRef(),[C,x]=c.useState(i),S=hw(o),_=c.useCallback(async z=>{const R=z.target.value;m&&await m(z,R);const j=v.current.getColumn(a);let k=R;j.valueParser&&(k=j.valueParser(R,v.current.getCellParams(s,a))),x(k),v.current.setEditCellValue({id:s,field:a,value:k,debounceMs:p,unstable_skipValueParser:!0},z)},[v,p,a,s,m]),P=v.current.unstable_getEditCellMeta(s,a);return c.useEffect(()=>{(P==null?void 0:P.changeReason)!=="debouncedSetEditCellValue"&&x(i)},[P,i]),gn(()=>{d&&b.current.focus()},[d]),h.jsx(mw,I({ref:t,inputRef:b,className:S.root,ownerState:o,fullWidth:!0,type:l.type==="number"?l.type:"text",value:C??"",onChange:_,endAdornment:f?h.jsx(o.slots.loadIcon,{fontSize:"small",color:"action"}):void 0},g))}),gw=e=>h.jsx(fw,I({},e)),Vi=e=>e==="Escape",vw=e=>e==="Enter",Ic=e=>e==="Tab",jh=e=>e===" ",yw=e=>e.indexOf("Arrow")===0,bw=e=>e==="Home"||e==="End",Cw=e=>e.indexOf("Page")===0;function Gh(e){return e.key.length===1&&!e.ctrlKey&&!e.metaKey}const Wi=e=>bw(e)||yw(e)||Cw(e)||jh(e),xw=e=>!!e.key,Vh=e=>Ic(e)||Vi(e);function ar(e){return(e==null?void 0:e.type)==="singleSelect"}function Dl(e,t,o){if(t===void 0)return;const s=t.find(i=>{const a=o(i);return String(a)===String(e)});return o(s)}const ww=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","className","hasFocus","isValidating","isProcessingProps","error","onValueChange","initialOpen","getOptionLabel","getOptionValue"],Sw=["MenuProps"];function _w(e){return!!e.key}function Pw(e){var t,o,s;const i=Ge(),{id:a,value:l,field:d,row:p,colDef:f,hasFocus:m,error:g,onValueChange:v,initialOpen:b=i.editMode===fo.Cell,getOptionLabel:C,getOptionValue:x}=e,S=ze(e,ww),_=pt(),P=c.useRef(),z=c.useRef(),[R,j]=c.useState(b),M=(o=(((t=i.slotProps)==null?void 0:t.baseSelect)||{}).native)!=null?o:!1,E=((s=i.slotProps)==null?void 0:s.baseSelect)||{},{MenuProps:$}=E,N=ze(E,Sw);if(gn(()=>{if(m){var W;(W=z.current)==null||W.focus()}},[m]),!ar(f))return null;let F;if(typeof(f==null?void 0:f.valueOptions)=="function"?F=f==null?void 0:f.valueOptions({id:a,row:p,field:d}):F=f==null?void 0:f.valueOptions,!F)return null;const G=x||f.getOptionValue,H=C||f.getOptionLabel,T=async W=>{if(!ar(f)||!F)return;j(!1);const D=W.target,V=Dl(D.value,F,G);v&&await v(W,V),await _.current.setEditCellValue({id:a,field:d,value:V},W)},A=(W,D)=>{if(i.editMode===fo.Row){j(!1);return}if(D==="backdropClick"||Vi(W.key)){const V=_.current.getCellParams(a,d);_.current.publishEvent("cellEditStop",I({},V,{reason:Vi(W.key)?Yn.escapeKeyDown:Yn.cellFocusOut}))}},B=W=>{_w(W)&&W.key==="Enter"||j(!0)};return!F||!f?null:h.jsx(i.slots.baseSelect,I({ref:P,inputRef:z,value:l,onChange:T,open:R,onOpen:B,MenuProps:I({onClose:A},$),error:g,native:M,fullWidth:!0},S,N,{children:F.map(W=>{var D;const V=G(W);return c.createElement(i.slots.baseSelectOption,I({},((D=i.slotProps)==null?void 0:D.baseSelectOption)||{},{native:M,key:V,value:V}),H(W))})}))}const Iw=e=>h.jsx(Pw,I({},e)),Tw=["open","target","onClose","children","position","className","onExited"],kw=e=>{const{classes:t}=e;return mt({root:["menu"]},ft,t)},Mw=Le(qr,{name:"MuiDataGrid",slot:"Menu",overridesResolver:(e,t)=>t.menu})(({theme:e})=>({zIndex:e.zIndex.modal,[`& .${J.menuList}`]:{outline:0}})),Aw={"bottom-start":"top left","bottom-end":"top right"};function Tc(e){var t;const{open:o,target:s,onClose:i,children:a,position:l,className:d,onExited:p}=e,f=ze(e,Tw),m=pt(),g=Ge(),v=kw(g),b=c.useRef(null);gn(()=>{if(o)b.current=document.activeElement instanceof HTMLElement?document.activeElement:null;else{var S,_;(S=b.current)==null||(_=S.focus)==null||_.call(S),b.current=null}},[o]),c.useEffect(()=>{const S=o?"menuOpen":"menuClose";m.current.publishEvent(S,{target:s})},[m,o,s]);const C=S=>_=>{S&&S(),p&&p(_)},x=S=>{S.target&&(s===S.target||s!=null&&s.contains(S.target))||i(S)};return h.jsx(Mw,I({as:g.slots.basePopper,className:je(d,v.root),ownerState:g,open:o,anchorEl:s,transition:!0,placement:l},f,(t=g.slotProps)==null?void 0:t.basePopper,{children:({TransitionProps:S,placement:_})=>h.jsx(sc,{onClickAway:x,mouseEvent:"onMouseDown",children:h.jsx(xg,I({},S,{style:{transformOrigin:Aw[_]},onExited:C(S==null?void 0:S.onExited),children:h.jsx(Nt,{children:a})}))})}))}const Ew=["api","colDef","id","hasFocus","isEditable","field","value","formattedValue","row","rowNode","cellMode","tabIndex","position","focusElementRef"],Dw=e=>typeof e.getActions=="function";function Rw(e){var t;const{colDef:o,id:s,hasFocus:i,tabIndex:a,position:l="bottom-end",focusElementRef:d}=e,p=ze(e,Ew),[f,m]=c.useState(-1),[g,v]=c.useState(!1),b=pt(),C=c.useRef(null),x=c.useRef(null),S=c.useRef(!1),_=c.useRef({}),P=zt(),z=Bt(),R=Bt(),j=Ge();if(!Dw(o))throw new Error("MUI: Missing the `getActions` property in the `GridColDef`.");const k=o.getActions(b.current.getRowParams(s)),M=k.filter(B=>!B.props.showInMenu),E=k.filter(B=>B.props.showInMenu),$=M.length+(E.length?1:0);c.useLayoutEffect(()=>{i||Object.entries(_.current).forEach(([B,W])=>{W==null||W.stop({},()=>{delete _.current[B]})})},[i]),c.useEffect(()=>{if(f<0||!C.current||f>=C.current.children.length)return;C.current.children[f].focus({preventScroll:!0})},[f]),c.useEffect(()=>{i||(m(-1),S.current=!1)},[i]),c.useImperativeHandle(d,()=>({focus(){if(!S.current){const B=k.findIndex(W=>!W.props.disabled);m(B)}}}),[k]),c.useEffect(()=>{f>=$&&m($-1)},[f,$]);const N=()=>{v(!0),m($-1),S.current=!0},F=()=>{v(!1)},G=B=>W=>{_.current[B]=W},H=(B,W)=>D=>{m(B),S.current=!0,W&&W(D)},T=B=>{if($<=1)return;const W=(V,Z)=>{var K;if(V<0||V>k.length)return V;const Q=P.direction==="rtl"?-1:1,Y=(Z==="left"?-1:1)*Q;return(K=k[V+Y])!=null&&K.props.disabled?W(V+Y,Z):V+Y};let D=f;B.key==="ArrowRight"?D=W(f,"right"):B.key==="ArrowLeft"&&(D=W(f,"left")),!(D<0||D>=$)&&D!==f&&(B.preventDefault(),B.stopPropagation(),m(D))},A=B=>{B.key==="Tab"&&B.preventDefault(),["Tab","Escape"].includes(B.key)&&F()};return h.jsxs("div",I({role:"menu",ref:C,tabIndex:-1,className:J.actionsCell,onKeyDown:T},p,{children:[M.map((B,W)=>c.cloneElement(B,{key:W,touchRippleRef:G(W),onClick:H(W,B.props.onClick),tabIndex:f===W?a:-1})),E.length>0&&R&&h.jsx(j.slots.baseIconButton,I({ref:x,id:R,"aria-label":b.current.getLocaleText("actionsCellMore"),"aria-haspopup":"menu","aria-expanded":g,"aria-controls":g?z:void 0,role:"menuitem",size:"small",onClick:N,touchRippleRef:G(R),tabIndex:f===M.length?a:-1},(t=j.slotProps)==null?void 0:t.baseIconButton,{children:h.jsx(j.slots.moreActionsIcon,{fontSize:"small"})})),E.length>0&&h.jsx(Tc,{open:g,target:x.current,position:l,onClose:F,children:h.jsx(Kl,{id:z,className:J.menuList,onKeyDown:A,"aria-labelledby":R,variant:"menu",autoFocusItem:!0,children:E.map((B,W)=>c.cloneElement(B,{key:W,closeMenu:F}))})})]}))}const Lw=e=>h.jsx(Rw,I({},e)),Fw=["field","align","width","contentWidth"],Ow=e=>{const{align:t,classes:o}=e,s={root:["cell","cellSkeleton",`cell--text${mo(t)}`,"withBorderColor"]};return mt(s,ft,o)};function Nw(e){const{align:t,width:o,contentWidth:s}=e,i=ze(e,Fw),l={classes:Ge().classes,align:t},d=Ow(l);return h.jsx("div",I({className:d.root,style:{width:o}},i,{children:h.jsx(hb,{width:`${s}%`})}))}function zw(e){return e.vars?e.vars.palette.TableCell.border:e.palette.mode==="light"?Ip(Te(e.palette.divider,1),.88):Tp(Te(e.palette.divider,1),.68)}const wd={[`.${J.columnSeparator}, .${J["columnSeparator--resizing"]}`]:{visibility:"visible",width:"auto"}},Sd={[`& .${J.iconButtonContainer}`]:{visibility:"visible",width:"auto"},[`& .${J.menuIcon}`]:{width:"auto",visibility:"visible"}},$w=Le("div",{name:"MuiDataGrid",slot:"Root",overridesResolver:(e,t)=>[{[`&.${J.autoHeight}`]:t.autoHeight},{[`&.${J.aggregationColumnHeader}`]:t.aggregationColumnHeader},{[`&.${J["aggregationColumnHeader--alignLeft"]}`]:t["aggregationColumnHeader--alignLeft"]},{[`&.${J["aggregationColumnHeader--alignCenter"]}`]:t["aggregationColumnHeader--alignCenter"]},{[`&.${J["aggregationColumnHeader--alignRight"]}`]:t["aggregationColumnHeader--alignRight"]},{[`&.${J.aggregationColumnHeaderLabel}`]:t.aggregationColumnHeaderLabel},{[`&.${J["root--disableUserSelection"]} .${J.cell}`]:t["root--disableUserSelection"]},{[`&.${J.autosizing}`]:t.autosizing},{[`& .${J.editBooleanCell}`]:t.editBooleanCell},{[`& .${J["cell--editing"]}`]:t["cell--editing"]},{[`& .${J["cell--textCenter"]}`]:t["cell--textCenter"]},{[`& .${J["cell--textLeft"]}`]:t["cell--textLeft"]},{[`& .${J["cell--textRight"]}`]:t["cell--textRight"]},{[`& .${J["cell--withRenderer"]}`]:t["cell--withRenderer"]},{[`& .${J.cell}`]:t.cell},{[`& .${J["cell--rangeTop"]}`]:t["cell--rangeTop"]},{[`& .${J["cell--rangeBottom"]}`]:t["cell--rangeBottom"]},{[`& .${J["cell--rangeLeft"]}`]:t["cell--rangeLeft"]},{[`& .${J["cell--rangeRight"]}`]:t["cell--rangeRight"]},{[`& .${J["cell--withRightBorder"]}`]:t["cell--withRightBorder"]},{[`& .${J.cellContent}`]:t.cellContent},{[`& .${J.cellCheckbox}`]:t.cellCheckbox},{[`& .${J.cellSkeleton}`]:t.cellSkeleton},{[`& .${J.checkboxInput}`]:t.checkboxInput},{[`& .${J["columnHeader--alignCenter"]}`]:t["columnHeader--alignCenter"]},{[`& .${J["columnHeader--alignLeft"]}`]:t["columnHeader--alignLeft"]},{[`& .${J["columnHeader--alignRight"]}`]:t["columnHeader--alignRight"]},{[`& .${J["columnHeader--dragging"]}`]:t["columnHeader--dragging"]},{[`& .${J["columnHeader--moving"]}`]:t["columnHeader--moving"]},{[`& .${J["columnHeader--numeric"]}`]:t["columnHeader--numeric"]},{[`& .${J["columnHeader--sortable"]}`]:t["columnHeader--sortable"]},{[`& .${J["columnHeader--sorted"]}`]:t["columnHeader--sorted"]},{[`& .${J["columnHeader--withRightBorder"]}`]:t["columnHeader--withRightBorder"]},{[`& .${J.columnHeader}`]:t.columnHeader},{[`& .${J.headerFilterRow}`]:t.headerFilterRow},{[`& .${J.columnHeaderCheckbox}`]:t.columnHeaderCheckbox},{[`& .${J.columnHeaderDraggableContainer}`]:t.columnHeaderDraggableContainer},{[`& .${J.columnHeaderTitleContainer}`]:t.columnHeaderTitleContainer},{[`& .${J["columnSeparator--resizable"]}`]:t["columnSeparator--resizable"]},{[`& .${J["columnSeparator--resizing"]}`]:t["columnSeparator--resizing"]},{[`& .${J.columnSeparator}`]:t.columnSeparator},{[`& .${J.filterIcon}`]:t.filterIcon},{[`& .${J.iconSeparator}`]:t.iconSeparator},{[`& .${J.menuIcon}`]:t.menuIcon},{[`& .${J.menuIconButton}`]:t.menuIconButton},{[`& .${J.menuOpen}`]:t.menuOpen},{[`& .${J.menuList}`]:t.menuList},{[`& .${J["row--editable"]}`]:t["row--editable"]},{[`& .${J["row--editing"]}`]:t["row--editing"]},{[`& .${J["row--dragging"]}`]:t["row--dragging"]},{[`& .${J.row}`]:t.row},{[`& .${J.rowReorderCellPlaceholder}`]:t.rowReorderCellPlaceholder},{[`& .${J.rowReorderCell}`]:t.rowReorderCell},{[`& .${J["rowReorderCell--draggable"]}`]:t["rowReorderCell--draggable"]},{[`& .${J.sortIcon}`]:t.sortIcon},{[`& .${J.withBorderColor}`]:t.withBorderColor},{[`& .${J.treeDataGroupingCell}`]:t.treeDataGroupingCell},{[`& .${J.treeDataGroupingCellToggle}`]:t.treeDataGroupingCellToggle},{[`& .${J.detailPanelToggleCell}`]:t.detailPanelToggleCell},{[`& .${J["detailPanelToggleCell--expanded"]}`]:t["detailPanelToggleCell--expanded"]},t.root]})(({theme:e})=>{const t=zw(e),o=e.shape.borderRadius;return I({"--unstable_DataGrid-radius":typeof o=="number"?`${o}px`:o,"--unstable_DataGrid-headWeight":e.typography.fontWeightMedium,"--unstable_DataGrid-overlayBackground":e.vars?`rgba(${e.vars.palette.background.defaultChannel} / ${e.vars.palette.action.disabledOpacity})`:Te(e.palette.background.default,e.palette.action.disabledOpacity),"--DataGrid-cellOffsetMultiplier":2,flex:1,boxSizing:"border-box",position:"relative",borderWidth:"1px",borderStyle:"solid",borderColor:t,borderRadius:"var(--unstable_DataGrid-radius)",color:(e.vars||e).palette.text.primary},e.typography.body2,{outline:"none",height:"100%",display:"flex",minWidth:0,minHeight:0,flexDirection:"column",overflowAnchor:"none",[`&.${J.autoHeight}`]:{height:"auto",[`& .${J["row--lastVisible"]} .${J.cell}`]:{borderBottomColor:"transparent"}},[`&.${J.autosizing}`]:{[`& .${J.columnHeaderTitleContainerContent} > *`]:{overflow:"visible !important"},[`& .${J.cell} > *`]:{overflow:"visible !important",whiteSpace:"nowrap"},[`& .${J.groupingCriteriaCell}`]:{width:"unset"},[`& .${J.treeDataGroupingCell}`]:{width:"unset"}},[`& .${J["virtualScrollerContent--overflowed"]} .${J["row--lastVisible"]} .${J.cell}`]:{borderBottomColor:"transparent"},[`& .${J.columnHeader}, & .${J.cell}`]:{WebkitTapHighlightColor:"transparent",lineHeight:null,padding:"0 10px",boxSizing:"border-box"},[`& .${J.columnHeader}:focus-within, & .${J.cell}:focus-within`]:{outline:`solid ${e.vars?`rgba(${e.vars.palette.primary.mainChannel} / 0.5)`:Te(e.palette.primary.main,.5)} 1px`,outlineWidth:1,outlineOffset:-1},[`& .${J.columnHeader}:focus, & .${J.cell}:focus`]:{outline:`solid ${e.palette.primary.main} 1px`},[`& .${J.columnHeaderCheckbox}, & .${J.cellCheckbox}`]:{padding:0,justifyContent:"center",alignItems:"center"},[`& .${J.columnHeader}`]:{position:"relative",display:"flex",alignItems:"center"},[`& .${J["columnHeader--sorted"]} .${J.iconButtonContainer}, & .${J["columnHeader--filtered"]} .${J.iconButtonContainer}`]:{visibility:"visible",width:"auto"},[`& .${J.columnHeader}:not(.${J["columnHeader--sorted"]}) .${J.sortIcon}`]:{opacity:0,transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.shorter})},[`& .${J.columnHeaderTitleContainer}`]:{display:"flex",alignItems:"center",minWidth:0,flex:1,whiteSpace:"nowrap",overflow:"hidden",position:"relative"},[`& .${J.columnHeaderTitleContainerContent}`]:{overflow:"hidden",display:"flex",alignItems:"center"},[`& .${J["columnHeader--filledGroup"]} .${J.columnHeaderTitleContainer}`]:{borderBottomWidth:"1px",borderBottomStyle:"solid",boxSizing:"border-box"},[`& .${J["columnHeader--filledGroup"]}.${J["columnHeader--showColumnBorder"]} .${J.columnHeaderTitleContainer}`]:{borderBottom:"none"},[`& .${J["columnHeader--filledGroup"]}.${J["columnHeader--showColumnBorder"]}`]:{borderBottomWidth:"1px",borderBottomStyle:"solid",boxSizing:"border-box"},[`& .${J.headerFilterRow}`]:{borderTop:`1px solid ${t}`},[`& .${J.sortIcon}, & .${J.filterIcon}`]:{fontSize:"inherit"},[`& .${J["columnHeader--sortable"]}`]:{cursor:"pointer"},[`& .${J["columnHeader--alignCenter"]} .${J.columnHeaderTitleContainer}`]:{justifyContent:"center"},[`& .${J["columnHeader--alignRight"]} .${J.columnHeaderDraggableContainer}, & .${J["columnHeader--alignRight"]} .${J.columnHeaderTitleContainer}`]:{flexDirection:"row-reverse"},[`& .${J["columnHeader--alignCenter"]} .${J.menuIcon}, & .${J["columnHeader--alignRight"]} .${J.menuIcon}`]:{marginRight:"auto",marginLeft:-6},[`& .${J["columnHeader--alignRight"]} .${J.menuIcon}, & .${J["columnHeader--alignRight"]} .${J.menuIcon}`]:{marginRight:"auto",marginLeft:-10},[`& .${J["columnHeader--moving"]}`]:{backgroundColor:(e.vars||e).palette.action.hover},[`& .${J.columnSeparator}`]:{visibility:"hidden",position:"absolute",zIndex:100,display:"flex",flexDirection:"column",justifyContent:"center",color:t},"@media (hover: hover)":{[`& .${J.columnHeaders}:hover`]:wd,[`& .${J.columnHeader}:hover`]:Sd,[`& .${J.columnHeader}:not(.${J["columnHeader--sorted"]}):hover .${J.sortIcon}`]:{opacity:.5}},"@media (hover: none)":{[`& .${J.columnHeaders}`]:wd,[`& .${J.columnHeader}`]:Sd},[`& .${J["columnSeparator--sideLeft"]}`]:{left:-12},[`& .${J["columnSeparator--sideRight"]}`]:{right:-12},[`& .${J["columnSeparator--resizable"]}`]:{cursor:"col-resize",touchAction:"none","&:hover":{color:(e.vars||e).palette.text.primary,"@media (hover: none)":{color:t}},[`&.${J["columnSeparator--resizing"]}`]:{color:(e.vars||e).palette.text.primary},"& svg":{pointerEvents:"none"}},[`& .${J.iconSeparator}`]:{color:"inherit"},[`& .${J.menuIcon}`]:{width:0,visibility:"hidden",fontSize:20,marginRight:-10,display:"flex",alignItems:"center"},[`.${J.menuOpen}`]:{visibility:"visible",width:"auto"},[`& .${J.row}`]:{display:"flex",width:"fit-content",breakInside:"avoid","&:hover, &.Mui-hovered":{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},"&.Mui-selected":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Te(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover, &.Mui-hovered":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(
                ${e.vars.palette.action.selectedOpacity} + 
                ${e.vars.palette.action.hoverOpacity}
              ))`:Te(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Te(e.palette.primary.main,e.palette.action.selectedOpacity)}}}},[`& .${J.cell}`]:{display:"flex",alignItems:"center",borderBottom:"1px solid","&.Mui-selected":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Te(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover, &.Mui-hovered":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity+e.palette.action.hoverOpacity})`:Te(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Te(e.palette.primary.main,e.palette.action.selectedOpacity)}}}},[`&.${J["root--disableUserSelection"]} .${J.cell}`]:{userSelect:"none"},[`& .${J.row}:not(.${J["row--dynamicHeight"]}) > .${J.cell}`]:{overflow:"hidden",whiteSpace:"nowrap"},[`& .${J.cellContent}`]:{overflow:"hidden",textOverflow:"ellipsis"},[`& .${J.cell}.${J["cell--selectionMode"]}`]:{cursor:"default"},[`& .${J.cell}.${J["cell--editing"]}`]:{padding:1,display:"flex",boxShadow:e.shadows[2],backgroundColor:(e.vars||e).palette.background.paper,"&:focus-within":{outline:`solid ${(e.vars||e).palette.primary.main} 1px`,outlineOffset:"-1px"}},[`& .${J["row--editing"]}`]:{boxShadow:e.shadows[2]},[`& .${J["row--editing"]} .${J.cell}`]:{boxShadow:e.shadows[0],backgroundColor:(e.vars||e).palette.background.paper},[`& .${J.editBooleanCell}`]:{display:"flex",height:"100%",width:"100%",alignItems:"center",justifyContent:"center"},[`& .${J.booleanCell}[data-value="true"]`]:{color:(e.vars||e).palette.text.secondary},[`& .${J.booleanCell}[data-value="false"]`]:{color:(e.vars||e).palette.text.disabled},[`& .${J.actionsCell}`]:{display:"inline-flex",alignItems:"center",gridGap:e.spacing(1)},[`& .${J.rowReorderCell}`]:{display:"inline-flex",flex:1,alignItems:"center",justifyContent:"center",opacity:(e.vars||e).palette.action.disabledOpacity},[`& .${J["rowReorderCell--draggable"]}`]:{cursor:"move",opacity:1},[`& .${J.rowReorderCellContainer}`]:{padding:0,alignItems:"stretch"},[`.${J.withBorderColor}`]:{borderColor:t},[`& .${J["cell--withRightBorder"]}`]:{borderRightWidth:"1px",borderRightStyle:"solid"},[`& .${J["columnHeader--withRightBorder"]}`]:{borderRightWidth:"1px",borderRightStyle:"solid"},[`& .${J["cell--textLeft"]}`]:{justifyContent:"flex-start"},[`& .${J["cell--textRight"]}`]:{justifyContent:"flex-end"},[`& .${J["cell--textCenter"]}`]:{justifyContent:"center"},[`& .${J.columnHeaderDraggableContainer}`]:{display:"flex",width:"100%",height:"100%"},[`& .${J.rowReorderCellPlaceholder}`]:{display:"none"},[`& .${J["columnHeader--dragging"]}, & .${J["row--dragging"]}`]:{background:(e.vars||e).palette.background.paper,padding:"0 12px",borderRadius:"var(--unstable_DataGrid-radius)",opacity:(e.vars||e).palette.action.disabledOpacity},[`& .${J["row--dragging"]}`]:{background:(e.vars||e).palette.background.paper,padding:"0 12px",borderRadius:"var(--unstable_DataGrid-radius)",opacity:(e.vars||e).palette.action.disabledOpacity,[`& .${J.rowReorderCellPlaceholder}`]:{display:"flex"}},[`& .${J.treeDataGroupingCell}`]:{display:"flex",alignItems:"center",width:"100%"},[`& .${J.treeDataGroupingCellToggle}`]:{flex:"0 0 28px",alignSelf:"stretch",marginRight:e.spacing(2)},[`& .${J.groupingCriteriaCell}`]:{display:"flex",alignItems:"center",width:"100%"},[`& .${J.groupingCriteriaCellToggle}`]:{flex:"0 0 28px",alignSelf:"stretch",marginRight:e.spacing(2)}})}),Bw=["children","className"],Hw=e=>{const{autoHeight:t,density:o,classes:s}=e,i={root:["root",t&&"autoHeight",`root--density${mo(o)}`,"withBorderColor"]};return mt(i,ft,s)},jw=c.forwardRef(function(t,o){var s;const i=Ge(),{children:a,className:l}=t,d=ze(t,Bw),p=Wo(),f=Re(p,Lh),m=c.useRef(null),g=Vo(m,o),v=(s=i.experimentalFeatures)!=null&&s.ariaV7?null:Ih,b=typeof v=="function"?v():null,C=I({},i,{density:f}),x=Hw(C);p.current.register("public",{rootElementRef:m});const[S,_]=c.useState(!1);return gn(()=>{_(!0)},[]),S?h.jsx($w,I({ref:g,className:je(l,x.root),ownerState:C},b,d,{children:a})):null}),Gw=["className"],Vw=e=>{const{classes:t}=e;return mt({root:["footerContainer","withBorderColor"]},ft,t)},Ww=vn("div",{name:"MuiDataGrid",slot:"FooterContainer",overridesResolver:(e,t)=>t.footerContainer})({display:"flex",justifyContent:"space-between",alignItems:"center",minHeight:52,borderTop:"1px solid"}),Zw=c.forwardRef(function(t,o){const{className:s}=t,i=ze(t,Gw),a=Ge(),l=Vw(a);return h.jsx(Ww,I({ref:o,className:je(l.root,s),ownerState:a},i))}),Uw=["className"],Kw=e=>{const{classes:t}=e;return mt({root:["overlay"]},ft,t)},Jw=vn("div",{name:"MuiDataGrid",slot:"Overlay",overridesResolver:(e,t)=>t.overlay})({width:"100%",height:"100%",display:"flex",alignSelf:"center",alignItems:"center",justifyContent:"center",backgroundColor:"var(--unstable_DataGrid-overlayBackground)"}),kc=c.forwardRef(function(t,o){const{className:s}=t,i=ze(t,Uw),a=Ge(),l=Kw(a);return h.jsx(Jw,I({ref:o,className:je(l.root,s),ownerState:a},i))}),qw=["className","children"],Xw=e=>{const{classes:t}=e;return mt({root:["toolbarContainer"]},ft,t)},Yw=vn("div",{name:"MuiDataGrid",slot:"ToolbarContainer",overridesResolver:(e,t)=>t.toolbarContainer})(({theme:e})=>({display:"flex",alignItems:"center",flexWrap:"wrap",gap:e.spacing(1),padding:e.spacing(.5,.5,0)})),Qw=c.forwardRef(function(t,o){const{className:s,children:i}=t,a=ze(t,qw),l=Ge(),d=Xw(l);return i?h.jsx(Yw,I({ref:o,className:je(s,d.root),ownerState:l},a,{children:i})):null}),eS=["className"],tS=e=>{const{classes:t}=e;return mt({root:["iconButtonContainer"]},ft,t)},nS=vn("div",{name:"MuiDataGrid",slot:"IconButtonContainer",overridesResolver:(e,t)=>t.iconButtonContainer})(()=>({display:"flex",visibility:"hidden",width:0})),Wh=c.forwardRef(function(t,o){const{className:s}=t,i=ze(t,eS),a=Ge(),l=tS(a);return h.jsx(nS,I({ref:o,className:je(l.root,s),ownerState:a},i))}),oS=e=>{const{classes:t}=e;return mt({icon:["sortIcon"]},ft,t)};function rS(e,t,o,s){let i;const a={};return t==="asc"?i=e.columnSortedAscendingIcon:t==="desc"?i=e.columnSortedDescendingIcon:(i=e.columnUnsortedIcon,a.sortingOrder=s),i?h.jsx(i,I({fontSize:"small",className:o},a)):null}function sS(e){var t;const{direction:o,index:s,sortingOrder:i}=e,a=pt(),l=Ge(),d=I({},e,{classes:l.classes}),p=oS(d),f=rS(l.slots,o,p.icon,i);if(!f)return null;const m=h.jsx(l.slots.baseIconButton,I({tabIndex:-1,"aria-label":a.current.getLocaleText("columnHeaderSortIconLabel"),title:a.current.getLocaleText("columnHeaderSortIconLabel"),size:"small"},(t=l.slotProps)==null?void 0:t.baseIconButton,{children:f}));return h.jsxs(Wh,{children:[s!=null&&h.jsx(rc,{badgeContent:s,color:"default",children:m}),s==null&&m]})}const iS=c.memo(sS),aS=e=>{const{classes:t,open:o}=e;return mt({root:["menuIcon",o&&"menuOpen"],button:["menuIconButton"]},ft,t)},lS=c.memo(e=>{var t,o;const{colDef:s,open:i,columnMenuId:a,columnMenuButtonId:l,iconButtonRef:d}=e,p=pt(),f=Ge(),m=I({},e,{classes:f.classes}),g=aS(m),v=c.useCallback(b=>{b.preventDefault(),b.stopPropagation(),p.current.toggleColumnMenu(s.field)},[p,s.field]);return h.jsx("div",{className:g.root,children:h.jsx(f.slots.baseTooltip,I({title:p.current.getLocaleText("columnMenuLabel"),enterDelay:1e3},(t=f.slotProps)==null?void 0:t.baseTooltip,{children:h.jsx(f.slots.baseIconButton,I({ref:d,tabIndex:-1,className:g.button,"aria-label":p.current.getLocaleText("columnMenuLabel"),size:"small",onClick:v,"aria-haspopup":"menu","aria-expanded":i,"aria-controls":i?a:void 0,id:l},(o=f.slotProps)==null?void 0:o.baseIconButton,{children:h.jsx(f.slots.columnMenuIcon,{fontSize:"small"})}))}))})});function cS({columnMenuId:e,columnMenuButtonId:t,ContentComponent:o,contentComponentProps:s,field:i,open:a,target:l,onExited:d}){const p=pt(),f=p.current.getColumn(i),m=to(g=>{g&&(g.stopPropagation(),l!=null&&l.contains(g.target))||p.current.hideColumnMenu()});return!l||!f?null:h.jsx(Tc,{placement:`bottom-${f.align==="right"?"start":"end"}`,open:a,target:l,onClose:m,onExited:d,children:h.jsx(o,I({colDef:f,hideMenu:m,open:a,id:e,labelledby:t},s))})}const uS=["className"],dS=e=>{const{classes:t}=e;return mt({root:["columnHeaderTitle"]},ft,t)},pS=vn("div",{name:"MuiDataGrid",slot:"ColumnHeaderTitle",overridesResolver:(e,t)=>t.columnHeaderTitle})({textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",fontWeight:"var(--unstable_DataGrid-headWeight)"}),hS=c.forwardRef(function(t,o){const{className:s}=t,i=ze(t,uS),a=Ge(),l=dS(a);return h.jsx(pS,I({ref:o,className:je(l.root,s),ownerState:a},i))});function mS(e){var t;const{label:o,description:s}=e,i=Ge(),a=c.useRef(null),[l,d]=c.useState(""),p=c.useCallback(()=>{if(!s&&a!=null&&a.current){const f=Bx(a.current);d(f?o:"")}},[s,o]);return h.jsx(i.slots.baseTooltip,I({title:s||l},(t=i.slotProps)==null?void 0:t.baseTooltip,{children:h.jsx(hS,{onMouseOver:p,ref:a,children:o})}))}const fS=["resizable","resizing","height","side"];var Zh=function(e){return e.Left="left",e.Right="right",e}(Zh||{});const gS=e=>{const{resizable:t,resizing:o,classes:s,side:i}=e,a={root:["columnSeparator",t&&"columnSeparator--resizable",o&&"columnSeparator--resizing",i&&`columnSeparator--side${mo(i)}`],icon:["iconSeparator"]};return mt(a,ft,s)};function vS(e){const{height:t,side:o=Zh.Right}=e,s=ze(e,fS),i=Ge(),a=I({},e,{side:o,classes:i.classes}),l=gS(a),d=c.useCallback(p=>{p.preventDefault(),p.stopPropagation()},[]);return h.jsx("div",I({className:l.root,style:{minHeight:t,opacity:i.showColumnVerticalBorder?0:1}},s,{onClick:d,children:h.jsx(i.slots.columnResizeIcon,{className:l.icon})}))}const yS=c.memo(vS),bS=["classes","columnMenuOpen","colIndex","height","isResizing","sortDirection","hasFocus","tabIndex","separatorSide","isDraggable","headerComponent","description","elementId","width","columnMenuIconButton","columnMenu","columnTitleIconButtons","headerClassName","label","resizable","draggableContainerProps","columnHeaderSeparatorProps"],Uh=c.forwardRef(function(t,o){const{classes:s,columnMenuOpen:i,colIndex:a,height:l,isResizing:d,sortDirection:p,hasFocus:f,tabIndex:m,separatorSide:g,isDraggable:v,headerComponent:b,description:C,width:x,columnMenuIconButton:S=null,columnMenu:_=null,columnTitleIconButtons:P=null,headerClassName:z,label:R,resizable:j,draggableContainerProps:k,columnHeaderSeparatorProps:M}=t,E=ze(t,bS),$=Wo(),N=Ge(),F=c.useRef(null),[G,H]=c.useState(i),T=Vo(F,o);let A="none";return p!=null&&(A=p==="asc"?"ascending":"descending"),c.useEffect(()=>{G||H(i)},[G,i]),c.useLayoutEffect(()=>{const B=$.current.state.columnMenu;if(f&&!B.open){const D=F.current.querySelector('[tabindex="0"]')||F.current;D==null||D.focus(),$.current.columnHeadersContainerElementRef.current.scrollLeft=0}},[$,f]),h.jsxs("div",I({ref:T,className:je(s.root,z),style:{height:l,width:x,minWidth:x,maxWidth:x},role:"columnheader",tabIndex:m,"aria-colindex":a+1,"aria-sort":A,"aria-label":b==null?R:void 0},E,{children:[h.jsxs("div",I({className:s.draggableContainer,draggable:v,role:"presentation"},k,{children:[h.jsxs("div",{className:s.titleContainer,role:"presentation",children:[h.jsx("div",{className:s.titleContainerContent,children:b!==void 0?b:h.jsx(mS,{label:R,description:C,columnWidth:x})}),P]}),S]})),h.jsx(yS,I({resizable:!N.disableColumnResize&&!!j,resizing:d,height:l,side:g},M)),_]}))}),CS=e=>{const{colDef:t,classes:o,isDragging:s,sortDirection:i,showRightBorder:a,filterItemsCounter:l}=e,d=i!=null,p=l!=null&&l>0,f=t.type==="number",m={root:["columnHeader",t.headerAlign==="left"&&"columnHeader--alignLeft",t.headerAlign==="center"&&"columnHeader--alignCenter",t.headerAlign==="right"&&"columnHeader--alignRight",t.sortable&&"columnHeader--sortable",s&&"columnHeader--moving",d&&"columnHeader--sorted",p&&"columnHeader--filtered",f&&"columnHeader--numeric","withBorderColor",a&&"columnHeader--withRightBorder"],draggableContainer:["columnHeaderDraggableContainer"],titleContainer:["columnHeaderTitleContainer"],titleContainerContent:["columnHeaderTitleContainerContent"]};return mt(m,ft,o)};function xS(e){var t,o,s,i;const{colDef:a,columnMenuOpen:l,colIndex:d,headerHeight:p,isResizing:f,sortDirection:m,sortIndex:g,filterItemsCounter:v,hasFocus:b,tabIndex:C,disableReorder:x,separatorSide:S}=e,_=Wo(),P=Ge(),z=c.useRef(null),R=Bt(),j=Bt(),k=c.useRef(null),[M,E]=c.useState(l),$=c.useMemo(()=>!P.disableColumnReorder&&!x&&!a.disableReorder,[P.disableColumnReorder,x,a.disableReorder]);let N;a.renderHeader&&(N=a.renderHeader(_.current.getColumnHeaderParams(a.field)));const F=I({},e,{classes:P.classes,showRightBorder:P.showColumnVerticalBorder}),G=CS(F),H=c.useCallback(ee=>q=>{Gs(q)||_.current.publishEvent(ee,_.current.getColumnHeaderParams(a.field),q)},[_,a.field]),T=c.useMemo(()=>({onClick:H("columnHeaderClick"),onDoubleClick:H("columnHeaderDoubleClick"),onMouseOver:H("columnHeaderOver"),onMouseOut:H("columnHeaderOut"),onMouseEnter:H("columnHeaderEnter"),onMouseLeave:H("columnHeaderLeave"),onKeyDown:H("columnHeaderKeyDown"),onFocus:H("columnHeaderFocus"),onBlur:H("columnHeaderBlur")}),[H]),A=c.useMemo(()=>$?{onDragStart:H("columnHeaderDragStart"),onDragEnter:H("columnHeaderDragEnter"),onDragOver:H("columnHeaderDragOver"),onDragEnd:H("columnHeaderDragEnd")}:{},[$,H]),B=c.useMemo(()=>({onMouseDown:H("columnSeparatorMouseDown"),onDoubleClick:H("columnSeparatorDoubleClick")}),[H]);c.useEffect(()=>{M||E(l)},[M,l]);const W=c.useCallback(()=>{E(!1)},[]),D=!P.disableColumnMenu&&!a.disableColumnMenu&&h.jsx(lS,{colDef:a,columnMenuId:R,columnMenuButtonId:j,open:M,iconButtonRef:k}),V=h.jsx(cS,{columnMenuId:R,columnMenuButtonId:j,field:a.field,open:l,target:k.current,ContentComponent:P.slots.columnMenu,contentComponentProps:(t=P.slotProps)==null?void 0:t.columnMenu,onExited:W}),Z=(o=a.sortingOrder)!=null?o:P.sortingOrder,K=h.jsxs(c.Fragment,{children:[!P.disableColumnFilter&&h.jsx(P.slots.columnHeaderFilterIconButton,I({field:a.field,counter:v},(s=P.slotProps)==null?void 0:s.columnHeaderFilterIconButton)),a.sortable&&!a.hideSortIcons&&h.jsx(iS,{direction:m,index:g,sortingOrder:Z})]});c.useLayoutEffect(()=>{const ee=_.current.state.columnMenu;if(b&&!ee.open){var q;const ae=z.current.querySelector('[tabindex="0"]')||z.current;ae==null||ae.focus(),(q=_.current.columnHeadersContainerElementRef)!=null&&q.current&&(_.current.columnHeadersContainerElementRef.current.scrollLeft=0)}},[_,b]);const Q=typeof a.headerClassName=="function"?a.headerClassName({field:a.field,colDef:a}):a.headerClassName,Y=(i=a.headerName)!=null?i:a.field;return h.jsx(Uh,I({ref:z,classes:G,columnMenuOpen:l,colIndex:d,height:p,isResizing:f,sortDirection:m,hasFocus:b,tabIndex:C,separatorSide:S,isDraggable:$,headerComponent:N,description:a.description,elementId:a.field,width:a.computedWidth,columnMenuIconButton:D,columnTitleIconButtons:K,headerClassName:Q,label:Y,resizable:!P.disableColumnResize&&!!a.resizable,"data-field":a.field,columnMenu:V,draggableContainerProps:A,columnHeaderSeparatorProps:B},T))}const Es=()=>({items:[],logicOperator:En.And,quickFilterValues:[],quickFilterLogicOperator:En.And}),_d=1e3;class wS{constructor(t=_d){this.timeouts=new Map,this.cleanupTimeout=_d,this.cleanupTimeout=t}register(t,o,s){this.timeouts||(this.timeouts=new Map);const i=setTimeout(()=>{typeof o=="function"&&o(),this.timeouts.delete(s.cleanupToken)},this.cleanupTimeout);this.timeouts.set(s.cleanupToken,i)}unregister(t){const o=this.timeouts.get(t.cleanupToken);o&&(this.timeouts.delete(t.cleanupToken),clearTimeout(o))}reset(){this.timeouts&&(this.timeouts.forEach((t,o)=>{this.unregister({cleanupToken:o})}),this.timeouts=void 0)}}class SS{constructor(){this.registry=new FinalizationRegistry(t=>{typeof t=="function"&&t()})}register(t,o,s){this.registry.register(t,o,s)}unregister(t){this.registry.unregister(t)}reset(){}}var ho=function(e){return e.DataGrid="DataGrid",e.DataGridPro="DataGridPro",e}(ho||{});class _S{}function PS(e){let t=0;return function(s,i,a,l){e.registry===null&&(e.registry=typeof FinalizationRegistry<"u"?new SS:new wS);const[d]=c.useState(new _S),p=c.useRef(null),f=c.useRef();f.current=a;const m=c.useRef(null);if(!p.current&&f.current){const g=(v,b,C)=>{if(!b.defaultMuiPrevented){var x;(x=f.current)==null||x.call(f,v,b,C)}};p.current=s.current.subscribeEvent(i,g,l),t+=1,m.current={cleanupToken:t},e.registry.register(d,()=>{var v;(v=p.current)==null||v.call(p),p.current=null,m.current=null},m.current)}else!f.current&&p.current&&(p.current(),p.current=null,m.current&&(e.registry.unregister(m.current),m.current=null));c.useEffect(()=>{if(!p.current&&f.current){const g=(v,b,C)=>{if(!b.defaultMuiPrevented){var x;(x=f.current)==null||x.call(f,v,b,C)}};p.current=s.current.subscribeEvent(i,g,l)}return m.current&&e.registry&&(e.registry.unregister(m.current),m.current=null),()=>{var g;(g=p.current)==null||g.call(p),p.current=null}},[s,i,l])}}const IS={registry:null},Ve=PS(IS),TS={isFirst:!0};function Ot(e,t,o){Ve(e,t,o,TS)}function Cn(e,t){const o=c.useRef(null);if(o.current)return o.current;const s=e.current.getLogger(t);return o.current=s,s}function kS(e){return typeof e=="number"&&!Number.isNaN(e)}function Kh(e){return typeof e=="function"}function Mc(e){return typeof e=="object"&&e!==null}function MS(){try{const e="__some_random_key_you_are_not_going_to_use__";return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch{return!1}}function Ti(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}const Kr=(e,t,o)=>Math.max(t,Math.min(o,e));function lr(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;if(Array.isArray(e)){const i=e.length;if(i!==t.length)return!1;for(let a=0;a<i;a+=1)if(!lr(e[a],t[a]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;const i=Array.from(e.entries());for(let a=0;a<i.length;a+=1)if(!t.has(i[a][0]))return!1;for(let a=0;a<i.length;a+=1){const l=i[a];if(!lr(l[1],t.get(l[0])))return!1}return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;const i=Array.from(e.entries());for(let a=0;a<i.length;a+=1)if(!t.has(i[a][0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){const i=e.length;if(i!==t.length)return!1;for(let a=0;a<i;a+=1)if(e[a]!==t[a])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();const o=Object.keys(e),s=o.length;if(s!==Object.keys(t).length)return!1;for(let i=0;i<s;i+=1)if(!Object.prototype.hasOwnProperty.call(t,o[i]))return!1;for(let i=0;i<s;i+=1){const a=o[i];if(!lr(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function AS(e){return()=>{let t=e+=1831565813;return t=Math.imul(t^t>>>15,t|1),t^=t+Math.imul(t^t>>>7,t|61),((t^t>>>14)>>>0)/4294967296}}function ES(e,t,o){const s=AS(e);return()=>t+(o-t)*s()}function Jh(e){return typeof structuredClone=="function"?structuredClone(e):JSON.parse(JSON.stringify(e))}const DS=(e,t,o,s,i)=>{const a=Cn(e,"useNativeEventListener"),[l,d]=c.useState(!1),p=c.useRef(s),f=c.useCallback(m=>p.current&&p.current(m),[]);c.useEffect(()=>{p.current=s},[s]),c.useEffect(()=>{let m;if(Kh(t)?m=t():m=t&&t.current?t.current:null,m&&o&&!l){a.debug(`Binding native ${o} event`),m.addEventListener(o,f,i);const g=m;d(!0);const v=()=>{a.debug(`Clearing native ${o} event`),g.removeEventListener(o,f,i)};e.current.subscribeEvent("unmount",v)}},[t,f,o,l,a,i,e])},Vs=e=>{const t=c.useRef(!0);t.current&&(t.current=!1,e())},RS=100,LS=e=>e?0:100,qh=(e,t)=>t>0&&e>0?Math.ceil(e/t):0;go(["MUI: the 'rowCount' prop is undefined while using paginationMode='server'","For more detail, see http://mui.com/components/data-grid/pagination/#basic-implementation"],"error");const Xh=e=>({page:0,pageSize:e?0:100}),FS=(e,t=0)=>t===0?e:Math.max(Math.min(e,t-1),0),Yh=(e,t)=>{if(t===ho.DataGrid&&e>RS)throw new Error(["MUI: `pageSize` cannot exceed 100 in the MIT version of the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join(`
`))},Ac=e=>e.pagination,Vn=rt(Ac,e=>e.paginationModel),$r=rt(Ac,e=>e.rowCount),OS=rt(Vn,e=>e.page),Qh=rt(Vn,e=>e.pageSize),NS=rt(Qh,$r,(e,t)=>qh(t,e)),Ec=$t(Vn,Qn,ga,Zo,Mh,(e,t,o,s,i)=>{const a=i.length,l=Math.min(e.pageSize*e.page,a-1),d=Math.min(l+e.pageSize-1,a-1);if(l===-1||d===-1)return null;if(o<2)return{firstRowIndex:l,lastRowIndex:d};const p=i[l],f=d-l+1,m=s.findIndex(C=>C.id===p.id);let g=m,v=0;for(;g<s.length&&v<=f;){var b;const C=s[g],x=(b=t[C.id])==null?void 0:b.depth;x===void 0?g+=1:((v<f||x>0)&&(g+=1),x===0&&(v+=1))}return{firstRowIndex:m,lastRowIndex:g-1}}),zS=$t(Zo,Ec,(e,t)=>t?e.slice(t.firstRowIndex,t.lastRowIndex+1):[]),em=$t(Ps,Ec,(e,t)=>t?e.slice(t.firstRowIndex,t.lastRowIndex+1):[]),dr=e=>e.preferencePanel;var ro=function(e){return e.filters="filters",e.columns="columns",e}(ro||{});const Ds=e=>e.rowsMeta,Wn=e=>e.rowSelection,$S=rt(Wn,e=>e.length),BS=$t(Wn,Po,(e,t)=>new Map(e.map(o=>[o,t[o]]))),Zi=$t(Wn,e=>e.reduce((t,o)=>(t[o]=o,t),{})),HS=go(["MUI: The `sortModel` can only contain a single item when the `disableMultipleColumnsSorting` prop is set to `true`.","If you are using the community version of the `DataGrid`, this prop is always `true`."],"error"),tm=(e,t)=>t&&e.length>1?(HS(),[e[0]]):e,Pd=(e,t)=>o=>I({},o,{sorting:I({},o.sorting,{sortModel:tm(e,t)})}),jS=e=>e==="desc",GS=(e,t)=>{const o=t.current.getColumn(e.field);if(!o)return null;const s=jS(e.sort)?(...a)=>-1*o.sortComparator(...a):o.sortComparator;return{getSortCellParams:a=>({id:a,field:o.field,rowNode:t.current.getRowNode(a),value:t.current.getCellValue(a,o.field),api:t.current}),comparator:s}},VS=(e,t,o)=>e.reduce((s,i,a)=>{if(s!==0)return s;const l=t.params[a],d=o.params[a];return s=i.comparator(l.value,d.value,l,d),s},0),WS=(e,t)=>{const o=e.map(s=>GS(s,t)).filter(s=>!!s);return o.length===0?null:s=>s.map(i=>({node:i,params:o.map(a=>a.getSortCellParams(i.id))})).sort((i,a)=>VS(o,i,a)).map(i=>i.node.id)},Id=(e,t)=>{const o=e.indexOf(t);return!t||o===-1||o+1===e.length?e[0]:e[o+1]},Dc=(e,t)=>e==null&&t!=null?-1:t==null&&e!=null?1:e==null&&t==null?0:null,ZS=new Intl.Collator,US=(e,t)=>{const o=Dc(e,t);return o!==null?o:typeof e=="string"?ZS.compare(e.toString(),t.toString()):e-t},nm=(e,t)=>{const o=Dc(e,t);return o!==null?o:Number(e)-Number(t)},om=(e,t)=>{const o=Dc(e,t);return o!==null?o:e>t?1:e<t?-1:0},rm=e=>e.headerFiltering,KS=rt(rm,e=>e.editing),JS=rt(rm,e=>e.menuOpen),qS=(e,t)=>{const o={enabled:!t.disableVirtualization,enabledForColumns:!0};return I({},e,{virtualization:o})};function XS(e,t){const o=a=>{e.current.setState(l=>I({},l,{virtualization:I({},l.virtualization,{enabled:a})}))};lt(e,{unstable_setVirtualization:o,unstable_setColumnVirtualization:a=>{e.current.setState(l=>I({},l,{virtualization:I({},l.virtualization,{enabledForColumns:a})}))}},"public"),c.useEffect(()=>{o(!t.disableVirtualization)},[t.disableVirtualization])}const sm=e=>e.virtualization,YS=rt(sm,e=>e.enabled),im=rt(sm,e=>e.enabledForColumns),QS=e=>{const{classes:t}=e;return mt({icon:["filterIcon"]},ft,t)};function e1(e){var t,o;const{counter:s,field:i,onClick:a}=e,l=pt(),d=Ge(),p=I({},e,{classes:d.classes}),f=QS(p),m=Re(l,dr),g=Bt(),v=Bt(),b=c.useCallback(S=>{S.preventDefault(),S.stopPropagation();const{open:_,openedPanelValue:P}=dr(l.current.state);_&&P===ro.filters?l.current.hideFilterPanel():l.current.showFilterPanel(void 0,v,g),a&&a(l.current.getColumnHeaderParams(i),S)},[l,i,a,v,g]);if(!s)return null;const C=m.open&&m.labelId===g,x=h.jsx(d.slots.baseIconButton,I({id:g,onClick:b,color:"default","aria-label":l.current.getLocaleText("columnHeaderFiltersLabel"),size:"small",tabIndex:-1,"aria-haspopup":"menu","aria-expanded":C,"aria-controls":C?v:void 0},(t=d.slotProps)==null?void 0:t.baseIconButton,{children:h.jsx(d.slots.columnFilteredIcon,{className:f.icon,fontSize:"small"})}));return h.jsx(d.slots.baseTooltip,I({title:l.current.getLocaleText("columnHeaderFiltersTooltipActive")(s),enterDelay:1e3},(o=d.slotProps)==null?void 0:o.baseTooltip,{children:h.jsxs(Wh,{children:[s>1&&h.jsx(rc,{badgeContent:s,color:"default",children:x}),s===1&&x]})}))}const t1=["field","id","value","formattedValue","row","rowNode","colDef","isEditable","cellMode","hasFocus","tabIndex","api"],n1=e=>{const{classes:t}=e;return mt({root:["checkboxInput"]},ft,t)},o1=c.forwardRef(function(t,o){var s;const{field:i,id:a,value:l,rowNode:d,hasFocus:p,tabIndex:f}=t,m=ze(t,t1),g=pt(),v=Ge(),b={classes:v.classes},C=n1(b),x=c.useRef(null),S=c.useRef(null),_=Vo(x,o),P=g.current.getCellElement(a,i),z=M=>{const E={value:M.target.checked,id:a};g.current.publishEvent("rowSelectionCheckboxChange",E,M)};c.useLayoutEffect(()=>{f===0&&P&&(P.tabIndex=-1)},[P,f]),c.useEffect(()=>{if(p){var M;const E=(M=x.current)==null?void 0:M.querySelector("input");E==null||E.focus({preventScroll:!0})}else S.current&&S.current.stop({})},[p]);const R=c.useCallback(M=>{jh(M.key)&&M.stopPropagation()},[]);if(d.type==="footer"||d.type==="pinnedRow")return null;const j=g.current.isRowSelectable(a),k=g.current.getLocaleText(l?"checkboxSelectionUnselectRow":"checkboxSelectionSelectRow");return h.jsx(v.slots.baseCheckbox,I({ref:_,tabIndex:f,checked:l,onChange:z,className:C.root,inputProps:{"aria-label":k},onKeyDown:R,disabled:!j,touchRippleRef:S},(s=v.slotProps)==null?void 0:s.baseCheckbox,m))}),r1=o1,s1=["field","colDef"],i1=e=>{const{classes:t}=e;return mt({root:["checkboxInput"]},ft,t)},a1=c.forwardRef(function(t,o){var s;const i=ze(t,s1),[,a]=c.useState(!1),l=pt(),d=Ge(),p={classes:d.classes},f=i1(p),m=Re(l,Rh),g=Re(l,Wn),v=Re(l,Ps),b=Re(l,em),C=c.useMemo(()=>typeof d.isRowSelectable!="function"?g:g.filter(E=>l.current.getRow(E)?d.isRowSelectable(l.current.getRowParams(E)):!1),[l,d.isRowSelectable,g]),x=c.useMemo(()=>(!d.pagination||!d.checkboxSelectionVisibleOnly?v:b).reduce(($,N)=>($[N]=!0,$),{}),[d.pagination,d.checkboxSelectionVisibleOnly,b,v]),S=c.useMemo(()=>C.filter(E=>x[E]).length,[C,x]),_=S>0&&S<Object.keys(x).length,P=S>0,z=E=>{const $={value:E.target.checked};l.current.publishEvent("headerSelectionCheckboxChange",$)},R=m!==null&&m.field===t.field?0:-1;c.useLayoutEffect(()=>{const E=l.current.getColumnHeaderElement(t.field);R===0&&E&&(E.tabIndex=-1)},[R,l,t.field]);const j=c.useCallback(E=>{E.key===" "&&l.current.publishEvent("headerSelectionCheckboxChange",{value:!P})},[l,P]),k=c.useCallback(()=>{a(E=>!E)},[]);c.useEffect(()=>l.current.subscribeEvent("rowSelectionChange",k),[l,k]);const M=l.current.getLocaleText(P?"checkboxSelectionUnselectAllRows":"checkboxSelectionSelectAllRows");return h.jsx(d.slots.baseCheckbox,I({ref:o,indeterminate:_,checked:P,onChange:z,className:f.root,inputProps:{"aria-label":M},tabIndex:R,onKeyDown:j},(s=d.slotProps)==null?void 0:s.baseCheckbox,i))}),Td=tt(h.jsx("path",{d:"M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"}),"ArrowUpward"),kd=tt(h.jsx("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward"),Md=tt(h.jsx("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"KeyboardArrowRight"),Ad=tt(h.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),l1=tt(h.jsx("path",{d:"M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"}),"FilterList"),Ed=tt(h.jsx("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61z"}),"FilterAlt"),c1=tt(h.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");tt(h.jsx("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu");tt(h.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckCircle");const u1=tt(h.jsx("path",{d:"M6 5H3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm14 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm-7 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1z"}),"ColumnIcon"),d1=tt(h.jsx("path",{d:"M11 19V5h2v14z"}),"Separator"),p1=tt(h.jsx("path",{d:"M4 15h16v-2H4v2zm0 4h16v-2H4v2zm0-8h16V9H4v2zm0-6v2h16V5H4z"}),"ViewHeadline"),h1=tt(h.jsx("path",{d:"M21,8H3V4h18V8z M21,10H3v4h18V10z M21,16H3v4h18V16z"}),"TableRows"),m1=tt(h.jsx("path",{d:"M4 18h17v-6H4v6zM4 5v6h17V5H4z"}),"ViewStream"),f1=tt(h.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"TripleDotsVertical"),pl=tt(h.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),Dd=tt(h.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add"),g1=tt(h.jsx("path",{d:"M19 13H5v-2h14v2z"}),"Remove"),v1=tt(h.jsx("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"}),"Load"),Rd=tt(h.jsx("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"Drag"),y1=tt(h.jsx("path",{d:"M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z"}),"SaveAlt"),b1=tt(h.jsx("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),C1=tt(h.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert"),x1=tt(h.jsx("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"}),"VisibilityOff"),w1=tt(h.jsx("g",{children:h.jsx("path",{d:"M14.67,5v14H9.33V5H14.67z M15.67,19H21V5h-5.33V19z M8.33,19V5H3v14H8.33z"})}),"ViewColumn"),S1=tt(h.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");tt(h.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");const _1=tt(h.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}),"Delete"),P1=["hideMenu","colDef","id","labelledby","className","children","open"],I1=Le(Kl)(()=>({minWidth:248})),T1=c.forwardRef(function(t,o){const{hideMenu:s,id:i,labelledby:a,className:l,children:d,open:p}=t,f=ze(t,P1),m=c.useCallback(g=>{Ic(g.key)&&g.preventDefault(),Vh(g.key)&&s(g)},[s]);return h.jsx(I1,I({id:i,ref:o,className:je(J.menuList,l),"aria-labelledby":a,onKeyDown:m,autoFocus:p},f,{children:d}))}),k1=["displayOrder"],M1=e=>{const t=Wo(),{defaultSlots:o,defaultSlotProps:s,slots:i={},slotProps:a={},hideMenu:l,colDef:d,addDividers:p=!0}=e,f=c.useMemo(()=>I({},o,i),[o,i]),m=c.useMemo(()=>{if(!a||Object.keys(a).length===0)return s;const b=I({},a);return Object.entries(s).forEach(([C,x])=>{b[C]=I({},x,a[C]||{})}),b},[s,a]),g=t.current.unstable_applyPipeProcessors("columnMenu",[],e.colDef),v=c.useMemo(()=>{const b=Object.keys(o);return Object.keys(i).filter(C=>!b.includes(C))},[i,o]);return c.useMemo(()=>{const x=Array.from(new Set([...g,...v])).filter(S=>f[S]!=null).sort((S,_)=>{const P=m[S],z=m[_],R=Number.isFinite(P==null?void 0:P.displayOrder)?P.displayOrder:100,j=Number.isFinite(z==null?void 0:z.displayOrder)?z.displayOrder:100;return R-j});return x.reduce((S,_,P)=>{let z={colDef:d,onClick:l};const R=m[_];if(R){const j=ze(R,k1);z=I({},z,j)}return p&&P!==x.length-1?[...S,[f[_],z],[ur,{}]]:[...S,[f[_],z]]},[])},[p,d,g,l,f,m,v])};function A1(e){const{colDef:t,onClick:o}=e,s=pt(),i=Ge(),d=bn(s).filter(f=>f.disableColumnMenu!==!0).length===1,p=c.useCallback(f=>{d||(s.current.setColumnVisibility(t.field,!1),o(f))},[s,t.field,o,d]);return i.disableColumnSelector||t.hideable===!1?null:h.jsxs(un,{onClick:p,disabled:d,children:[h.jsx(Un,{children:h.jsx(i.slots.columnMenuHideIcon,{fontSize:"small"})}),h.jsx(Rn,{children:s.current.getLocaleText("columnMenuHideColumn")})]})}function E1(e){const{onClick:t}=e,o=pt(),s=Ge(),i=c.useCallback(a=>{t(a),o.current.showPreferences(ro.columns)},[o,t]);return s.disableColumnSelector?null:h.jsxs(un,{onClick:i,children:[h.jsx(Un,{children:h.jsx(s.slots.columnMenuManageColumnsIcon,{fontSize:"small"})}),h.jsx(Rn,{children:o.current.getLocaleText("columnMenuManageColumns")})]})}function D1(e){return h.jsxs(c.Fragment,{children:[h.jsx(A1,I({},e)),h.jsx(E1,I({},e))]})}function R1(e){const{colDef:t,onClick:o}=e,s=pt(),i=Ge(),a=c.useCallback(l=>{o(l),s.current.showFilterPanel(t.field)},[s,t.field,o]);return i.disableColumnFilter||!t.filterable?null:h.jsxs(un,{onClick:a,children:[h.jsx(Un,{children:h.jsx(i.slots.columnMenuFilterIcon,{fontSize:"small"})}),h.jsx(Rn,{children:s.current.getLocaleText("columnMenuFilter")})]})}function L1(e){var t;const{colDef:o,onClick:s}=e,i=pt(),a=Re(i,Gn),l=Ge(),d=c.useMemo(()=>{if(!o)return null;const g=a.find(v=>v.field===o.field);return g==null?void 0:g.sort},[o,a]),p=(t=o.sortingOrder)!=null?t:l.sortingOrder,f=c.useCallback(g=>{s(g);const v=g.currentTarget.getAttribute("data-value")||null;i.current.sortColumn(o,v===d?null:v)},[i,o,s,d]);if(!o||!o.sortable||!p.some(g=>!!g))return null;const m=g=>{const v=i.current.getLocaleText(g);return typeof v=="function"?v(o):v};return h.jsxs(c.Fragment,{children:[p.includes("asc")&&d!=="asc"?h.jsxs(un,{onClick:f,"data-value":"asc",children:[h.jsx(Un,{children:h.jsx(l.slots.columnMenuSortAscendingIcon,{fontSize:"small"})}),h.jsx(Rn,{children:m("columnMenuSortAsc")})]}):null,p.includes("desc")&&d!=="desc"?h.jsxs(un,{onClick:f,"data-value":"desc",children:[h.jsx(Un,{children:h.jsx(l.slots.columnMenuSortDescendingIcon,{fontSize:"small"})}),h.jsx(Rn,{children:m("columnMenuSortDesc")})]}):null,p.includes(null)&&d!=null?h.jsxs(un,{onClick:f,children:[h.jsx(Un,{}),h.jsx(Rn,{children:i.current.getLocaleText("columnMenuUnsort")})]}):null]})}const F1=["defaultSlots","defaultSlotProps","slots","slotProps"],O1={columnMenuSortItem:L1,columnMenuFilterItem:R1,columnMenuColumnsItem:D1},N1={columnMenuSortItem:{displayOrder:10},columnMenuFilterItem:{displayOrder:20},columnMenuColumnsItem:{displayOrder:30}},z1=c.forwardRef(function(t,o){const{defaultSlots:s,defaultSlotProps:i,slots:a,slotProps:l}=t,d=ze(t,F1),p=M1(I({},d,{defaultSlots:s,defaultSlotProps:i,slots:a,slotProps:l}));return h.jsx(T1,I({ref:o},d,{children:p.map(([f,m],g)=>h.jsx(f,I({},m),g))}))}),$1=c.forwardRef(function(t,o){return h.jsx(z1,I({},t,{ref:o,defaultSlots:O1,defaultSlotProps:N1}))}),B1=["className"],H1=e=>{const{classes:t}=e;return mt({root:["panelContent"]},ft,t)},j1=vn("div",{name:"MuiDataGrid",slot:"PanelContent",overridesResolver:(e,t)=>t.panelContent})({display:"flex",flexDirection:"column",overflow:"auto",flex:"1 1",maxHeight:400});function am(e){const{className:t}=e,o=ze(e,B1),s=Ge(),i=H1(s);return h.jsx(j1,I({className:je(t,i.root),ownerState:s},o))}const G1=["className"],V1=e=>{const{classes:t}=e;return mt({root:["panelFooter"]},ft,t)},W1=vn("div",{name:"MuiDataGrid",slot:"PanelFooter",overridesResolver:(e,t)=>t.panelFooter})(({theme:e})=>({padding:e.spacing(.5),display:"flex",justifyContent:"space-between"}));function lm(e){const{className:t}=e,o=ze(e,G1),s=Ge(),i=V1(s);return h.jsx(W1,I({className:je(t,i.root),ownerState:s},o))}const Z1=["className"],U1=e=>{const{classes:t}=e;return mt({root:["panelHeader"]},ft,t)},K1=vn("div",{name:"MuiDataGrid",slot:"PanelHeader",overridesResolver:(e,t)=>t.panelHeader})(({theme:e})=>({padding:e.spacing(1)}));function J1(e){const{className:t}=e,o=ze(e,Z1),s=Ge(),i=U1(s);return h.jsx(K1,I({className:je(t,i.root),ownerState:s},o))}const q1=["className","slotProps"],X1=e=>{const{classes:t}=e;return mt({root:["panelWrapper"]},ft,t)},Y1=Le("div",{name:"MuiDataGrid",slot:"PanelWrapper",overridesResolver:(e,t)=>t.panelWrapper})({display:"flex",flexDirection:"column",flex:1,"&:focus":{outline:0}}),Q1=()=>!0,cm=c.forwardRef(function(t,o){const{className:s,slotProps:i={}}=t,a=ze(t,q1),l=Ge(),d=X1(l);return h.jsx(wg,I({open:!0,disableEnforceFocus:!0,isEnabled:Q1},i.TrapFocus,{children:h.jsx(Y1,I({ref:o,tabIndex:-1,className:je(s,d.root),ownerState:l},a))}))}),e_=!1,t_=["sort","searchPredicate","autoFocusSearchField","disableHideAllButton","disableShowAllButton","getTogglableColumns"],n_=e=>{const{classes:t}=e;return mt({root:["columnsPanel"],columnsPanelRow:["columnsPanelRow"]},ft,t)},o_=Le("div",{name:"MuiDataGrid",slot:"ColumnsPanel",overridesResolver:(e,t)=>t.columnsPanel})({padding:"8px 0px 8px 8px"}),r_=Le("div",{name:"MuiDataGrid",slot:"ColumnsPanelRow",overridesResolver:(e,t)=>t.columnsPanelRow})(({theme:e})=>({display:"flex",justifyContent:"space-between",padding:"1px 8px 1px 7px",[`& .${xn.root}`]:{marginRight:e.spacing(.5)}}));Le(fn)({justifyContent:"flex-end"});const Ld=new Intl.Collator,s_=(e,t)=>(e.headerName||e.field).toLowerCase().indexOf(t)>-1;function i_(e){var t,o,s;const i=pt(),a=c.useRef(null),l=Re(i,po),d=Re(i,eo),p=Ge(),[f,m]=c.useState(""),g=n_(p),{sort:v,searchPredicate:b=s_,autoFocusSearchField:C=!0,disableHideAllButton:x=!1,disableShowAllButton:S=!1,getTogglableColumns:_}=e,P=ze(e,t_),z=c.useMemo(()=>{switch(v){case"asc":return[...l].sort((F,G)=>Ld.compare(F.headerName||F.field,G.headerName||G.field));case"desc":return[...l].sort((F,G)=>-Ld.compare(F.headerName||F.field,G.headerName||G.field));default:return l}},[l,v]),R=F=>{const{name:G}=F.target;i.current.setColumnVisibility(G,d[G]===!1)},j=c.useCallback(F=>{const G=eo(i),H=I({},G),T=_?_(l):null;return l.forEach(A=>{A.hideable&&(T==null||T.includes(A.field))&&(F?delete H[A.field]:H[A.field]=!1)}),i.current.setColumnVisibilityModel(H)},[i,l,_]),k=c.useCallback(F=>{m(F.target.value)},[]),M=c.useMemo(()=>{const F=_?_(z):null,G=F?z.filter(({field:H})=>F.includes(H)):z;return f?G.filter(H=>b(H,f.toLowerCase())):G},[z,f,b,_]),E=c.useRef(null);c.useEffect(()=>{C?a.current.focus():E.current&&typeof E.current.focus=="function"&&E.current.focus()},[C]);let $=!1;const N=F=>$===!1&&F.hideable!==!1?($=!0,!0):!1;return h.jsxs(cm,I({},P,{children:[h.jsx(J1,{children:h.jsx(p.slots.baseTextField,I({label:i.current.getLocaleText("columnsPanelTextFieldLabel"),placeholder:i.current.getLocaleText("columnsPanelTextFieldPlaceholder"),inputRef:a,value:f,onChange:k,variant:"standard",fullWidth:!0},(t=p.slotProps)==null?void 0:t.baseTextField))}),h.jsx(am,{children:h.jsx(o_,{className:g.root,ownerState:p,children:M.map(F=>{var G;return h.jsxs(r_,{className:g.columnsPanelRow,ownerState:p,children:[h.jsx(Vy,{control:h.jsx(p.slots.baseSwitch,I({disabled:F.hideable===!1,checked:d[F.field]!==!1,onClick:R,name:F.field,size:"small",inputRef:N(F)?E:void 0},(G=p.slotProps)==null?void 0:G.baseSwitch)),label:F.headerName||F.field}),!p.disableColumnReorder&&e_]},F.field)})})}),S&&x?null:h.jsxs(lm,{children:[x?h.jsx("span",{}):h.jsx(p.slots.baseButton,I({onClick:()=>j(!1)},(o=p.slotProps)==null?void 0:o.baseButton,{disabled:x,children:i.current.getLocaleText("columnsPanelHideAllButton")})),S?null:h.jsx(p.slots.baseButton,I({onClick:()=>j(!0)},(s=p.slotProps)==null?void 0:s.baseButton,{disabled:S,children:i.current.getLocaleText("columnsPanelShowAllButton")}))]})]}))}const a_=["children","className","classes"],l_=vh("MuiDataGrid",["panel","paper"]),c_=Le(qr,{name:"MuiDataGrid",slot:"Panel",overridesResolver:(e,t)=>t.panel})(({theme:e})=>({zIndex:e.zIndex.modal})),u_=Le(Nt,{name:"MuiDataGrid",slot:"Paper",overridesResolver:(e,t)=>t.paper})(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,minWidth:300,maxHeight:450,display:"flex"})),d_=c.forwardRef((e,t)=>{const{children:o,className:s}=e,i=ze(e,a_),a=pt(),l=Ge(),d=l_,[p,f]=c.useState(!1),m=c.useCallback(()=>{a.current.hidePreferences()},[a]),g=c.useCallback(x=>{Vi(x.key)&&a.current.hidePreferences()},[a]),v=c.useMemo(()=>[{name:"flip",enabled:!0,options:{rootBoundary:"document"}},{name:"isPlaced",enabled:!0,phase:"main",fn:()=>{f(!0)},effect:()=>()=>{f(!1)}}],[]),[b,C]=c.useState(null);return c.useEffect(()=>{var x;const S=(x=a.current.rootElementRef)==null||(x=x.current)==null?void 0:x.querySelector(`.${J.columnHeaders}`);S&&C(S)},[a]),b?h.jsx(c_,I({ref:t,placement:"bottom-start",className:je(s,d.panel),ownerState:l,anchorEl:b,modifiers:v},i,{children:h.jsx(sc,{mouseEvent:"onMouseUp",onClickAway:m,children:h.jsx(u_,{className:d.paper,ownerState:l,elevation:8,onKeyDown:g,children:p&&o})})})):null}),p_=c.forwardRef(function(t,o){var s,i,a;const l=pt(),d=Re(l,po),p=Ge(),f=Re(l,dr),m=l.current.unstable_applyPipeProcessors("preferencePanel",null,(s=f.openedPanelValue)!=null?s:ro.filters);return h.jsx(p.slots.panel,I({ref:o,as:p.slots.basePopper,open:d.length>0&&f.open,id:f.panelId,"aria-labelledby":f.labelId},(i=p.slotProps)==null?void 0:i.panel,t,(a=p.slotProps)==null?void 0:a.basePopper,{children:m}))}),h_=["item","hasMultipleFilters","deleteFilter","applyFilterChanges","multiFilterOperator","showMultiFilterOperators","disableMultiFilterOperator","applyMultiFilterOperatorChanges","focusElementRef","logicOperators","columnsSort","filterColumns","deleteIconProps","logicOperatorInputProps","operatorInputProps","columnInputProps","valueInputProps","children"],m_=["InputComponentProps"],f_=e=>{const{classes:t}=e;return mt({root:["filterForm"],deleteIcon:["filterFormDeleteIcon"],logicOperatorInput:["filterFormLogicOperatorInput"],columnInput:["filterFormColumnInput"],operatorInput:["filterFormOperatorInput"],valueInput:["filterFormValueInput"]},ft,t)},g_=Le("div",{name:"MuiDataGrid",slot:"FilterForm",overridesResolver:(e,t)=>t.filterForm})(({theme:e})=>({display:"flex",padding:e.spacing(1)})),v_=Le("div",{name:"MuiDataGrid",slot:"FilterFormDeleteIcon",overridesResolver:(e,t)=>t.filterFormDeleteIcon})(({theme:e})=>({flexShrink:0,justifyContent:"flex-end",marginRight:e.spacing(.5),marginBottom:e.spacing(.2)})),y_=Le("div",{name:"MuiDataGrid",slot:"FilterFormLogicOperatorInput",overridesResolver:(e,t)=>t.filterFormLogicOperatorInput})({minWidth:55,marginRight:5,justifyContent:"end"}),b_=Le("div",{name:"MuiDataGrid",slot:"FilterFormColumnInput",overridesResolver:(e,t)=>t.filterFormColumnInput})({width:150}),C_=Le("div",{name:"MuiDataGrid",slot:"FilterFormOperatorInput",overridesResolver:(e,t)=>t.filterFormOperatorInput})({width:120}),x_=Le("div",{name:"MuiDataGrid",slot:"FilterFormValueInput",overridesResolver:(e,t)=>t.filterFormValueInput})({width:190}),w_=e=>{switch(e){case En.And:return"filterPanelOperatorAnd";case En.Or:return"filterPanelOperatorOr";default:throw new Error("MUI: Invalid `logicOperator` property in the `GridFilterPanel`.")}},ps=e=>e.headerName||e.field,Fd=new Intl.Collator,S_=c.forwardRef(function(t,o){var s,i,a,l,d,p,f,m,g,v;const{item:b,hasMultipleFilters:C,deleteFilter:x,applyFilterChanges:S,multiFilterOperator:_,showMultiFilterOperators:P,disableMultiFilterOperator:z,applyMultiFilterOperatorChanges:R,focusElementRef:j,logicOperators:k=[En.And,En.Or],columnsSort:M,filterColumns:E,deleteIconProps:$={},logicOperatorInputProps:N={},operatorInputProps:F={},columnInputProps:G={},valueInputProps:H={}}=t,T=ze(t,h_),A=pt(),B=Re(A,_h),W=Re(A,mn),D=Bt(),V=Bt(),Z=Bt(),K=Bt(),Q=Ge(),Y=f_(Q),ee=c.useRef(null),q=c.useRef(null),te=C&&k.length>0,ae=((s=Q.slotProps)==null?void 0:s.baseFormControl)||{},ve=(a=(((i=Q.slotProps)==null?void 0:i.baseSelect)||{}).native)!=null?a:!0,Ce=((l=Q.slotProps)==null?void 0:l.baseInputLabel)||{},le=((d=Q.slotProps)==null?void 0:d.baseSelectOption)||{},{InputComponentProps:ce}=H,ie=ze(H,m_),fe=c.useMemo(()=>{if(E===void 0||typeof E!="function")return B;const Ie=E({field:b.field,columns:B,currentFilters:(W==null?void 0:W.items)||[]});return B.filter(be=>Ie.includes(be.field))},[E,W==null?void 0:W.items,B,b.field]),me=c.useMemo(()=>{switch(M){case"asc":return fe.sort((Ie,be)=>Fd.compare(ps(Ie),ps(be)));case"desc":return fe.sort((Ie,be)=>-Fd.compare(ps(Ie),ps(be)));default:return fe}},[fe,M]),ye=b.field?A.current.getColumn(b.field):null,ne=c.useMemo(()=>{var Ie;return!b.operator||!ye?null:(Ie=ye.filterOperators)==null?void 0:Ie.find(be=>be.value===b.operator)},[b,ye]),ge=c.useCallback(Ie=>{const be=Ie.target.value,Pe=A.current.getColumn(be);if(Pe.field===ye.field)return;const ke=Pe.filterOperators.find(nt=>nt.value===b.operator)||Pe.filterOperators[0],We=!ke.InputComponent||ke.InputComponent!==(ne==null?void 0:ne.InputComponent)||Pe.type!==ye.type;S(I({},b,{field:be,operator:ke.value,value:We?void 0:b.value}))},[A,S,b,ye,ne]),we=c.useCallback(Ie=>{const be=Ie.target.value,Pe=ye==null?void 0:ye.filterOperators.find(We=>We.value===be),ke=!(Pe!=null&&Pe.InputComponent)||(Pe==null?void 0:Pe.InputComponent)!==(ne==null?void 0:ne.InputComponent);S(I({},b,{operator:be,value:ke?void 0:b.value}))},[S,b,ye,ne]),Fe=c.useCallback(Ie=>{const be=Ie.target.value===En.And.toString()?En.And:En.Or;R(be)},[R]),Ne=()=>{Q.disableMultipleColumnsFiltering?b.value===void 0?x(b):S(I({},b,{value:void 0})):x(b)};return c.useImperativeHandle(j,()=>({focus:()=>{if(ne!=null&&ne.InputComponent){var Ie;ee==null||(Ie=ee.current)==null||Ie.focus()}else q.current.focus()}}),[ne]),h.jsxs(g_,I({ref:o,className:Y.root,"data-id":b.id,ownerState:Q},T,{children:[h.jsx(v_,I({variant:"standard",as:Q.slots.baseFormControl},ae,$,{className:je(Y.deleteIcon,ae.className,$.className),ownerState:Q,children:h.jsx(Q.slots.baseIconButton,I({"aria-label":A.current.getLocaleText("filterPanelDeleteIconLabel"),title:A.current.getLocaleText("filterPanelDeleteIconLabel"),onClick:Ne,size:"small"},(p=Q.slotProps)==null?void 0:p.baseIconButton,{children:h.jsx(Q.slots.filterPanelDeleteIcon,{fontSize:"small"})}))})),h.jsx(y_,I({variant:"standard",as:Q.slots.baseFormControl},ae,N,{sx:I({display:te?"flex":"none",visibility:P?"visible":"hidden"},ae.sx||{},N.sx||{}),className:je(Y.logicOperatorInput,ae.className,N.className),ownerState:Q,children:h.jsx(Q.slots.baseSelect,I({inputProps:{"aria-label":A.current.getLocaleText("filterPanelLogicOperator")},value:_,onChange:Fe,disabled:!!z||k.length===1,native:ve},(f=Q.slotProps)==null?void 0:f.baseSelect,{children:k.map(Ie=>c.createElement(Q.slots.baseSelectOption,I({},le,{native:ve,key:Ie.toString(),value:Ie.toString()}),A.current.getLocaleText(w_(Ie))))}))})),h.jsxs(b_,I({variant:"standard",as:Q.slots.baseFormControl},ae,G,{className:je(Y.columnInput,ae.className,G.className),ownerState:Q,children:[h.jsx(Q.slots.baseInputLabel,I({},Ce,{htmlFor:D,id:V,children:A.current.getLocaleText("filterPanelColumns")})),h.jsx(Q.slots.baseSelect,I({labelId:V,id:D,label:A.current.getLocaleText("filterPanelColumns"),value:b.field||"",onChange:ge,native:ve},(m=Q.slotProps)==null?void 0:m.baseSelect,{children:me.map(Ie=>c.createElement(Q.slots.baseSelectOption,I({},le,{native:ve,key:Ie.field,value:Ie.field}),ps(Ie)))}))]})),h.jsxs(C_,I({variant:"standard",as:Q.slots.baseFormControl},ae,F,{className:je(Y.operatorInput,ae.className,F.className),ownerState:Q,children:[h.jsx(Q.slots.baseInputLabel,I({},Ce,{htmlFor:Z,id:K,children:A.current.getLocaleText("filterPanelOperator")})),h.jsx(Q.slots.baseSelect,I({labelId:K,label:A.current.getLocaleText("filterPanelOperator"),id:Z,value:b.operator,onChange:we,native:ve,inputRef:q},(g=Q.slotProps)==null?void 0:g.baseSelect,{children:ye==null||(v=ye.filterOperators)==null?void 0:v.map(Ie=>c.createElement(Q.slots.baseSelectOption,I({},le,{native:ve,key:Ie.value,value:Ie.value}),Ie.label||A.current.getLocaleText(`filterOperator${mo(Ie.value)}`)))}))]})),h.jsx(x_,I({variant:"standard",as:Q.slots.baseFormControl},ae,ie,{className:je(Y.valueInput,ae.className,ie.className),ownerState:Q,children:ne!=null&&ne.InputComponent?h.jsx(ne.InputComponent,I({apiRef:A,item:b,applyValue:S,focusElementRef:ee},ne.InputComponentProps,ce)):null}))]}))});class Rc{constructor(){this.currentId=0,this.clear=()=>{this.currentId!==0&&(clearTimeout(this.currentId),this.currentId=0)},this.disposeEffect=()=>this.clear}static create(){return new Rc}start(t,o){this.clear(),this.currentId=setTimeout(o,t)}}function Lc(){const e=pc(Rc.create).current;return bh(e.disposeEffect),e}const __=["item","applyValue","type","apiRef","focusElementRef","tabIndex","disabled","isFilterActive","clearButton","InputProps","variant"];function co(e){var t,o;const{item:s,applyValue:i,type:a,apiRef:l,focusElementRef:d,tabIndex:p,disabled:f,clearButton:m,InputProps:g,variant:v="standard"}=e,b=ze(e,__),C=Lc(),[x,S]=c.useState((t=s.value)!=null?t:""),[_,P]=c.useState(!1),z=Bt(),R=Ge(),j=c.useCallback(k=>{const{value:M}=k.target;S(String(M)),P(!0),C.start(R.filterDebounceMs,()=>{const E=I({},s,{value:M,fromInput:z});i(E),P(!1)})},[z,i,s,R.filterDebounceMs,C]);return c.useEffect(()=>{if(s.fromInput!==z||s.value===void 0){var M;S(String((M=s.value)!=null?M:""))}},[z,s]),h.jsx(R.slots.baseTextField,I({id:z,label:l.current.getLocaleText("filterPanelInputLabel"),placeholder:l.current.getLocaleText("filterPanelInputPlaceholder"),value:x,onChange:j,variant:v,type:a||"text",InputProps:I({},_||m?{endAdornment:_?h.jsx(R.slots.loadIcon,{fontSize:"small",color:"action"}):m}:{},{disabled:f},g,{inputProps:I({tabIndex:p},g==null?void 0:g.inputProps)}),InputLabelProps:{shrink:!0},inputRef:d},b,(o=R.slotProps)==null?void 0:o.baseTextField))}const P_=["item","applyValue","type","apiRef","focusElementRef","InputProps","isFilterActive","clearButton","tabIndex","disabled"];function Mr(e){var t,o;const{item:s,applyValue:i,type:a,apiRef:l,focusElementRef:d,InputProps:p,clearButton:f,tabIndex:m,disabled:g}=e,v=ze(e,P_),b=Lc(),[C,x]=c.useState((t=s.value)!=null?t:""),[S,_]=c.useState(!1),P=Bt(),z=Ge(),R=c.useCallback(j=>{const k=j.target.value;x(String(k)),_(!0),b.start(z.filterDebounceMs,()=>{i(I({},s,{value:k})),_(!1)})},[i,s,z.filterDebounceMs,b]);return c.useEffect(()=>{var j;const k=(j=s.value)!=null?j:"";x(String(k))},[s.value]),h.jsx(z.slots.baseTextField,I({fullWidth:!0,id:P,label:l.current.getLocaleText("filterPanelInputLabel"),placeholder:l.current.getLocaleText("filterPanelInputPlaceholder"),value:C,onChange:R,variant:"standard",type:a||"text",InputLabelProps:{shrink:!0},inputRef:d,InputProps:I({},S||f?{endAdornment:S?h.jsx(z.slots.loadIcon,{fontSize:"small",color:"action"}):f}:{},{disabled:g},p,{inputProps:I({max:a==="datetime-local"?"9999-12-31T23:59":"9999-12-31",tabIndex:m},p==null?void 0:p.inputProps)})},v,(o=z.slotProps)==null?void 0:o.baseTextField))}const I_=["item","applyValue","type","apiRef","focusElementRef","getOptionLabel","getOptionValue","placeholder","tabIndex","label","variant","isFilterActive","clearButton","InputLabelProps"],T_=({column:{valueOptions:e,field:t},OptionComponent:o,getOptionLabel:s,getOptionValue:i,isSelectNative:a,baseSelectOptionProps:l})=>(typeof e=="function"?["",...e({field:t})]:["",...e||[]]).map(p=>{const f=i(p),m=s(p);return c.createElement(o,I({},l,{native:a,key:f,value:f}),m)}),k_=Le("div")({display:"flex",alignItems:"flex-end",width:"100%","& button":{margin:"auto 0px 5px 5px"}});function Od(e){var t,o,s,i,a,l,d,p;const{item:f,applyValue:m,type:g,apiRef:v,focusElementRef:b,getOptionLabel:C,getOptionValue:x,placeholder:S,tabIndex:_,label:P,variant:z="standard",clearButton:R}=e,j=ze(e,I_),[k,M]=c.useState((t=f.value)!=null?t:""),E=Bt(),$=Bt(),N=Ge(),F=(o=(s=N.slotProps)==null||(s=s.baseSelect)==null?void 0:s.native)!=null?o:!0;let G=null;if(f.field){const D=v.current.getColumn(f.field);ar(D)&&(G=D)}const H=x||((i=G)==null?void 0:i.getOptionValue),T=C||((a=G)==null?void 0:a.getOptionLabel),A=c.useMemo(()=>{if(G)return typeof G.valueOptions=="function"?G.valueOptions({field:G.field}):G.valueOptions},[G]),B=c.useCallback(D=>{let V=D.target.value;V=Dl(V,A,H),M(String(V)),m(I({},f,{value:V}))},[A,H,m,f]);if(c.useEffect(()=>{var D;let V;if(A!==void 0){if(V=Dl(f.value,A,H),V!==f.value){m(I({},f,{value:V}));return}}else V=f.value;V=(D=V)!=null?D:"",M(String(V))},[f,A,m,H]),!ar(G)||!ar(G))return null;const W=P??v.current.getLocaleText("filterPanelInputLabel");return h.jsxs(k_,{children:[h.jsxs(N.slots.baseFormControl,{children:[h.jsx(N.slots.baseInputLabel,I({},(l=N.slotProps)==null?void 0:l.baseInputLabel,{id:$,htmlFor:E,shrink:!0,variant:z,children:W})),h.jsx(N.slots.baseSelect,I({id:E,label:W,labelId:$,value:k,onChange:B,variant:z,type:g||"text",inputProps:{tabIndex:_,ref:b,placeholder:S??v.current.getLocaleText("filterPanelInputPlaceholder")},native:F,notched:z==="outlined"?!0:void 0},j,(d=N.slotProps)==null?void 0:d.baseSelect,{children:T_({column:G,OptionComponent:N.slots.baseSelectOption,getOptionLabel:T,getOptionValue:H,isSelectNative:F,baseSelectOptionProps:(p=N.slotProps)==null?void 0:p.baseSelectOption})}))]}),R]})}const M_=["item","applyValue","apiRef","focusElementRef","isFilterActive","clearButton","tabIndex","label","variant","InputLabelProps"],A_=Le("div")({display:"flex",alignItems:"center",width:"100%","& button":{margin:"auto 0px 5px 5px"}});function E_(e){var t,o,s,i;const{item:a,applyValue:l,apiRef:d,focusElementRef:p,clearButton:f,tabIndex:m,label:g,variant:v="standard"}=e,b=ze(e,M_),[C,x]=c.useState(a.value||""),S=Ge(),_=Bt(),P=Bt(),z=((t=S.slotProps)==null?void 0:t.baseSelect)||{},R=(o=z.native)!=null?o:!0,j=((s=S.slotProps)==null?void 0:s.baseSelectOption)||{},k=c.useCallback(E=>{const $=E.target.value;x($),l(I({},a,{value:$}))},[l,a]);c.useEffect(()=>{x(a.value||"")},[a.value]);const M=g??d.current.getLocaleText("filterPanelInputLabel");return h.jsxs(A_,{children:[h.jsxs(S.slots.baseFormControl,{fullWidth:!0,children:[h.jsx(S.slots.baseInputLabel,I({},(i=S.slotProps)==null?void 0:i.baseInputLabel,{id:_,shrink:!0,variant:v,children:M})),h.jsxs(S.slots.baseSelect,I({labelId:_,id:P,label:M,value:C,onChange:k,variant:v,notched:v==="outlined"?!0:void 0,native:R,displayEmpty:!0,inputProps:{ref:p,tabIndex:m}},b,z,{children:[h.jsx(S.slots.baseSelectOption,I({},j,{native:R,value:"",children:d.current.getLocaleText("filterValueAny")})),h.jsx(S.slots.baseSelectOption,I({},j,{native:R,value:"true",children:d.current.getLocaleText("filterValueTrue")})),h.jsx(S.slots.baseSelectOption,I({},j,{native:R,value:"false",children:d.current.getLocaleText("filterValueFalse")}))]}))]}),f]})}const D_=["logicOperators","columnsSort","filterFormProps","getColumnForNewFilter","children","disableAddFilterButton","disableRemoveAllButton"],Nd=e=>({field:e.field,operator:e.filterOperators[0].value,id:Math.round(Math.random()*1e5)}),R_=c.forwardRef(function(t,o){var s,i;const a=pt(),l=Ge(),d=Re(a,mn),p=Re(a,_h),f=c.useRef(null),m=c.useRef(null),{logicOperators:g=[En.And,En.Or],columnsSort:v,filterFormProps:b,getColumnForNewFilter:C,disableAddFilterButton:x=!1,disableRemoveAllButton:S=!1}=t,_=ze(t,D_),P=a.current.upsertFilterItem,z=c.useCallback(F=>{a.current.setFilterLogicOperator(F)},[a]),R=c.useCallback(()=>{let F;if(C&&typeof C=="function"){const G=C({currentFilters:(d==null?void 0:d.items)||[],columns:p});if(G===null)return null;F=p.find(({field:H})=>H===G)}else F=p.find(G=>{var H;return(H=G.filterOperators)==null?void 0:H.length});return F?Nd(F):null},[d==null?void 0:d.items,p,C]),j=c.useCallback(()=>{if(C===void 0||typeof C!="function")return R();const F=d.items.length?d.items:[R()].filter(Boolean),G=C({currentFilters:F,columns:p});if(G===null)return null;const H=p.find(({field:T})=>T===G);return H?Nd(H):null},[d.items,p,C,R]),k=c.useMemo(()=>d.items.length?d.items:(m.current||(m.current=R()),m.current?[m.current]:[]),[d.items,R]),M=k.length>1,E=()=>{const F=j();F&&a.current.upsertFilterItems([...k,F])},$=c.useCallback(F=>{const G=k.length===1;a.current.deleteFilterItem(F),G&&a.current.hideFilterPanel()},[a,k.length]),N=()=>{k.length===1&&k[0].value===void 0&&(a.current.deleteFilterItem(k[0]),a.current.hideFilterPanel()),a.current.setFilterModel(I({},d,{items:[]}))};return c.useEffect(()=>{g.length>0&&d.logicOperator&&!g.includes(d.logicOperator)&&z(g[0])},[g,z,d.logicOperator]),c.useEffect(()=>{k.length>0&&f.current.focus()},[k.length]),h.jsxs(cm,I({ref:o},_,{children:[h.jsx(am,{children:k.map((F,G)=>h.jsx(S_,I({item:F,applyFilterChanges:P,deleteFilter:$,hasMultipleFilters:M,showMultiFilterOperators:G>0,multiFilterOperator:d.logicOperator,disableMultiFilterOperator:G!==1,applyMultiFilterOperatorChanges:z,focusElementRef:G===k.length-1?f:null,logicOperators:g,columnsSort:v},b),F.id==null?G:F.id))}),!l.disableMultipleColumnsFiltering&&!(x&&S)?h.jsxs(lm,{children:[x?h.jsx("span",{}):h.jsx(l.slots.baseButton,I({onClick:E,startIcon:h.jsx(l.slots.filterPanelAddIcon,{})},(s=l.slotProps)==null?void 0:s.baseButton,{children:a.current.getLocaleText("filterPanelAddFilter")})),S?null:h.jsx(l.slots.baseButton,I({onClick:N,startIcon:h.jsx(l.slots.filterPanelRemoveAllIcon,{})},(i=l.slotProps)==null?void 0:i.baseButton,{children:a.current.getLocaleText("filterPanelRemoveAll")}))]}):null]}))}),L_=["item","applyValue","type","apiRef","focusElementRef","color","error","helperText","size","variant"];function um(e){const{item:t,applyValue:o,type:s,apiRef:i,focusElementRef:a,color:l,error:d,helperText:p,size:f,variant:m}=e,g=ze(e,L_),v={color:l,error:d,helperText:p,size:f,variant:m},[b,C]=c.useState(t.value||[]),x=Bt(),S=Ge();c.useEffect(()=>{var P;const z=(P=t.value)!=null?P:[];C(z.map(String))},[t.value]);const _=c.useCallback((P,z)=>{C(z.map(String)),o(I({},t,{value:[...z]}))},[o,t]);return h.jsx(Ns,I({multiple:!0,freeSolo:!0,options:[],filterOptions:(P,z)=>{const{inputValue:R}=z;return R==null||R===""?[]:[R]},id:x,value:b,onChange:_,renderTags:(P,z)=>P.map((R,j)=>h.jsx(S.slots.baseChip,I({variant:"outlined",size:"small",label:R},z({index:j})))),renderInput:P=>{var z;return h.jsx(S.slots.baseTextField,I({},P,{label:i.current.getLocaleText("filterPanelInputLabel"),placeholder:i.current.getLocaleText("filterPanelInputPlaceholder"),InputLabelProps:I({},P.InputLabelProps,{shrink:!0}),inputRef:a,type:s||"text"},v,(z=S.slotProps)==null?void 0:z.baseTextField))}},g))}const F_=["item","applyValue","type","apiRef","focusElementRef","color","error","helperText","size","variant","getOptionLabel","getOptionValue"],O_=Zp();function N_(e){var t,o;const{item:s,applyValue:i,apiRef:a,focusElementRef:l,color:d,error:p,helperText:f,size:m,variant:g="standard",getOptionLabel:v,getOptionValue:b}=e,C=ze(e,F_),x={color:d,error:p,helperText:f,size:m,variant:g},S=Bt(),_=Ge();let P=null;if(s.field){const N=a.current.getColumn(s.field);ar(N)&&(P=N)}const z=b||((t=P)==null?void 0:t.getOptionValue),R=v||((o=P)==null?void 0:o.getOptionLabel),j=c.useCallback((N,F)=>z(N)===z(F),[z]),k=c.useMemo(()=>{var N;return(N=P)!=null&&N.valueOptions?typeof P.valueOptions=="function"?P.valueOptions({field:P.field}):P.valueOptions:[]},[P]),M=c.useMemo(()=>k==null?void 0:k.map(z),[k,z]),E=c.useMemo(()=>Array.isArray(s.value)?k!==void 0?s.value.map(F=>M==null?void 0:M.findIndex(G=>G===F)).filter(F=>F>=0).map(F=>k[F]):s.value:[],[s.value,k,M]);c.useEffect(()=>{(!Array.isArray(s.value)||E.length!==s.value.length)&&i(I({},s,{value:E.map(z)}))},[s,E,i,z]);const $=c.useCallback((N,F)=>{i(I({},s,{value:F.map(z)}))},[i,s,z]);return h.jsx(Ns,I({multiple:!0,options:k,isOptionEqualToValue:j,filterOptions:O_,id:S,value:E,onChange:$,getOptionLabel:R,renderTags:(N,F)=>N.map((G,H)=>h.jsx(_.slots.baseChip,I({variant:"outlined",size:"small",label:R(G)},F({index:H})))),renderInput:N=>{var F;return h.jsx(_.slots.baseTextField,I({},N,{label:a.current.getLocaleText("filterPanelInputLabel"),placeholder:a.current.getLocaleText("filterPanelInputPlaceholder"),InputLabelProps:I({},N.InputLabelProps,{shrink:!0}),inputRef:l,type:"singleSelect"},x,(F=_.slotProps)==null?void 0:F.baseTextField))}},C))}const z_=["onClick"],$_=c.forwardRef(function(t,o){var s;const{onClick:i}=t,a=ze(t,z_),l=Zr(),d=Zr(),p=pt(),f=Ge(),m=Re(p,dr),g=b=>{m.open&&m.openedPanelValue===ro.columns?p.current.hidePreferences():p.current.showPreferences(ro.columns,d,l),i==null||i(b)};if(f.disableColumnSelector)return null;const v=m.open&&m.panelId===d;return h.jsx(f.slots.baseButton,I({ref:o,id:l,size:"small","aria-label":p.current.getLocaleText("toolbarColumnsLabel"),"aria-haspopup":"menu","aria-expanded":v,"aria-controls":v?d:void 0,startIcon:h.jsx(f.slots.columnSelectorIcon,{})},a,{onClick:g},(s=f.slotProps)==null?void 0:s.baseButton,{children:p.current.getLocaleText("toolbarColumns")}))}),B_=["onClick"],H_=c.forwardRef(function(t,o){var s;const{onClick:i}=t,a=ze(t,B_),l=pt(),d=Ge(),p=Re(l,Lh),f=Bt(),m=Bt(),[g,v]=c.useState(!1),b=c.useRef(null),C=Vo(o,b),x=[{icon:h.jsx(d.slots.densityCompactIcon,{}),label:l.current.getLocaleText("toolbarDensityCompact"),value:"compact"},{icon:h.jsx(d.slots.densityStandardIcon,{}),label:l.current.getLocaleText("toolbarDensityStandard"),value:"standard"},{icon:h.jsx(d.slots.densityComfortableIcon,{}),label:l.current.getLocaleText("toolbarDensityComfortable"),value:"comfortable"}],S=c.useMemo(()=>{switch(p){case"compact":return h.jsx(d.slots.densityCompactIcon,{});case"comfortable":return h.jsx(d.slots.densityComfortableIcon,{});default:return h.jsx(d.slots.densityStandardIcon,{})}},[p,d]),_=k=>{v(M=>!M),i==null||i(k)},P=()=>{v(!1)},z=k=>{l.current.setDensity(k),v(!1)},R=k=>{Ic(k.key)&&k.preventDefault(),Vh(k.key)&&v(!1)};if(d.disableDensitySelector)return null;const j=x.map((k,M)=>h.jsxs(un,{onClick:()=>z(k.value),selected:k.value===p,children:[h.jsx(Un,{children:k.icon}),k.label]},M));return h.jsxs(c.Fragment,{children:[h.jsx(d.slots.baseButton,I({ref:C,size:"small",startIcon:S,"aria-label":l.current.getLocaleText("toolbarDensityLabel"),"aria-haspopup":"menu","aria-expanded":g,"aria-controls":g?m:void 0,id:f},a,{onClick:_},(s=d.slotProps)==null?void 0:s.baseButton,{children:l.current.getLocaleText("toolbarDensity")})),h.jsx(Tc,{open:g,target:b.current,onClose:P,position:"bottom-start",children:h.jsx(Kl,{id:m,className:J.menuList,"aria-labelledby":f,onKeyDown:R,autoFocusItem:g,children:j})})]})}),j_=["componentsProps"],G_=e=>{const{classes:t}=e;return mt({root:["toolbarFilterList"]},ft,t)},V_=Le("ul",{name:"MuiDataGrid",slot:"ToolbarFilterList",overridesResolver:(e,t)=>t.toolbarFilterList})(({theme:e})=>({margin:e.spacing(1,1,.5),padding:e.spacing(0,1)})),W_=c.forwardRef(function(t,o){var s,i;const{componentsProps:a={}}=t,l=ze(t,j_),d=a.button||{},p=pt(),f=Ge(),m=Re(p,Dh),g=Re(p,fr),v=Re(p,dr),b=G_(f),C=Bt(),x=Bt(),S=c.useMemo(()=>{if(v.open)return p.current.getLocaleText("toolbarFiltersTooltipHide");if(m.length===0)return p.current.getLocaleText("toolbarFiltersTooltipShow");const z=j=>g[j.field].filterOperators.find(k=>k.value===j.operator).label||p.current.getLocaleText(`filterOperator${mo(j.operator)}`).toString(),R=j=>{const{getValueAsString:k}=g[j.field].filterOperators.find(M=>M.value===j.operator);return k?k(j.value):j.value};return h.jsxs("div",{children:[p.current.getLocaleText("toolbarFiltersTooltipActive")(m.length),h.jsx(V_,{className:b.root,ownerState:f,children:m.map((j,k)=>I({},g[j.field]&&h.jsx("li",{children:`${g[j.field].headerName||j.field}
                  ${z(j)}
                  ${j.value!=null?R(j):""}`},k)))})]})},[p,f,v.open,m,g,b]),_=z=>{var R;const{open:j,openedPanelValue:k}=v;j&&k===ro.filters?p.current.hidePreferences():p.current.showPreferences(ro.filters,x,C),(R=d.onClick)==null||R.call(d,z)};if(f.disableColumnFilter)return null;const P=v.open&&v.panelId===x;return h.jsx(f.slots.baseTooltip,I({title:S,enterDelay:1e3},l,(s=f.slotProps)==null?void 0:s.baseTooltip,{children:h.jsx(f.slots.baseButton,I({ref:o,id:C,size:"small","aria-label":p.current.getLocaleText("toolbarFiltersLabel"),"aria-controls":P?x:void 0,"aria-expanded":P,"aria-haspopup":!0,startIcon:h.jsx(rc,{badgeContent:m.length,color:"primary",children:h.jsx(f.slots.openFilterButtonIcon,{})})},d,{onClick:_},(i=f.slotProps)==null?void 0:i.baseButton,{children:p.current.getLocaleText("toolbarFilters")}))}))}),Z_=["hideMenu","options"],U_=["hideMenu","options"];function K_(e){const t=pt(),{hideMenu:o,options:s}=e,i=ze(e,Z_);return h.jsx(un,I({onClick:()=>{t.current.exportDataAsCsv(s),o==null||o()}},i,{children:t.current.getLocaleText("toolbarExportCSV")}))}function J_(e){const t=pt(),{hideMenu:o,options:s}=e,i=ze(e,U_);return h.jsx(un,I({onClick:()=>{t.current.exportDataAsPrint(s),o==null||o()}},i,{children:t.current.getLocaleText("toolbarExportPrint")}))}const q_=["className","selectedRowCount"],X_=e=>{const{classes:t}=e;return mt({root:["selectedRowCount"]},ft,t)},Y_=vn("div",{name:"MuiDataGrid",slot:"SelectedRowCount",overridesResolver:(e,t)=>t.selectedRowCount})(({theme:e})=>({alignItems:"center",display:"flex",margin:e.spacing(0,2),visibility:"hidden",width:0,height:0,[e.breakpoints.up("sm")]:{visibility:"visible",width:"auto",height:"auto"}})),Q_=c.forwardRef(function(t,o){const{className:s,selectedRowCount:i}=t,a=ze(t,q_),l=pt(),d=Ge(),p=X_(d),f=l.current.getLocaleText("footerRowSelected")(i);return h.jsx(Y_,I({ref:o,className:je(p.root,s),ownerState:d},a,{children:f}))}),eP=c.forwardRef(function(t,o){var s,i;const a=pt(),l=Ge(),d=Re(a,fx),p=Re(a,$S),f=Re(a,Eh),m=!l.hideFooterSelectedRowCount&&p>0?h.jsx(Q_,{selectedRowCount:p}):h.jsx("div",{}),g=!l.hideFooterRowCount&&!l.pagination?h.jsx(l.slots.footerRowCount,I({},(s=l.slotProps)==null?void 0:s.footerRowCount,{rowCount:d,visibleRowCount:f})):null,v=l.pagination&&!l.hideFooterPagination&&l.slots.pagination&&h.jsx(l.slots.pagination,I({},(i=l.slotProps)==null?void 0:i.pagination));return h.jsxs(Zw,I({ref:o},t,{children:[m,g,v]}))});function tP(){var e,t;const o=Ge();return h.jsxs(c.Fragment,{children:[h.jsx(o.slots.preferencesPanel,I({},(e=o.slotProps)==null?void 0:e.preferencesPanel)),o.slots.toolbar&&h.jsx(o.slots.toolbar,I({},(t=o.slotProps)==null?void 0:t.toolbar))]})}const nP=c.forwardRef(function(t,o){return h.jsx(kc,I({ref:o},t,{children:h.jsx(Sg,{})}))}),oP=c.forwardRef(function(t,o){const i=pt().current.getLocaleText("noRowsLabel");return h.jsx(kc,I({ref:o},t,{children:i}))}),rP=Le($b)(({theme:e})=>({[`& .${sr.selectLabel}`]:{display:"none",[e.breakpoints.up("sm")]:{display:"block"}},[`& .${sr.input}`]:{display:"none",[e.breakpoints.up("sm")]:{display:"inline-flex"}}})),sP=c.forwardRef(function(t,o){const s=pt(),i=Ge(),a=Re(s,Vn),l=Re(s,$r),d=c.useMemo(()=>Math.floor(l/(a.pageSize||1)),[l,a.pageSize]),p=c.useCallback(v=>{const b=Number(v.target.value);s.current.setPageSize(b)},[s]),f=c.useCallback((v,b)=>{s.current.setPage(b)},[s]),g=(v=>{for(let b=0;b<i.pageSizeOptions.length;b+=1){const C=i.pageSizeOptions[b];if(typeof C=="number"){if(C===v)return!0}else if(C.value===v)return!0}return!1})(a.pageSize)?i.pageSizeOptions:[];return h.jsx(rP,I({ref:o,component:"div",count:l,page:a.page<=d?a.page:d,rowsPerPageOptions:g,rowsPerPage:a.pageSize,onPageChange:f,onRowsPerPageChange:p},s.current.getLocaleText("MuiTablePagination"),t))}),iP=["className","rowCount","visibleRowCount"],aP=e=>{const{classes:t}=e;return mt({root:["rowCount"]},ft,t)},lP=vn("div",{name:"MuiDataGrid",slot:"RowCount",overridesResolver:(e,t)=>t.rowCount})(({theme:e})=>({alignItems:"center",display:"flex",margin:e.spacing(0,2)})),cP=c.forwardRef(function(t,o){const{className:s,rowCount:i,visibleRowCount:a}=t,l=ze(t,iP),d=pt(),p=Ge(),f=aP(p);if(i===0)return null;const m=a<i?d.current.getLocaleText("footerTotalVisibleRows")(a,i):i.toLocaleString();return h.jsxs(lP,I({ref:o,className:je(f.root,s),ownerState:p},l,{children:[d.current.getLocaleText("footerTotalRows")," ",m]}))}),Ui=(e,t)=>{let o,s;return t.pagination&&t.paginationMode==="client"?(s=Ec(e),o=zS(e)):(o=Zo(e),o.length===0?s=null:s={firstRowIndex:0,lastRowIndex:o.length-1}),{rows:o,range:s}},gr=(e,t)=>{const o=Ui(e,t);return c.useMemo(()=>({rows:o.rows,range:o.range}),[o.rows,o.range])},Rl={current:null};function Ws(e){return e.isInternal=!0,e}function Ki(e){return e!==void 0&&e.isInternal===!0}function uP(e){return Ws((t,o)=>{const s=e(t,o);return s&&(i=>s(i.value,i.row,o,Rl.current))})}function Zs(e){return e.map(t=>I({},t,{getApplyFilterFn:uP(t.getApplyFilterFnV7),getApplyFilterFnV7:Ws(t.getApplyFilterFnV7)}))}function dm(e){return Ws((t,o,s)=>{const i=e(t,o,s);return i&&(a=>i(a.value,a.row,o,s))})}function pm(e){return{current:e.current.getPublicApi()}}let hs;function dP(){if(hs!==void 0)return hs;try{hs=new Function("return true")()}catch{hs=!1}return hs}const Ll=(e,t)=>{const o=I({},e);if(o.id==null&&(o.id=Math.round(Math.random()*1e5)),o.operator==null){const s=fr(t)[o.field];o.operator=s&&s.filterOperators[0].value}return o},pP=go(["MUI: The `filterModel` can only contain a single item when the `disableMultipleColumnsFiltering` prop is set to `true`.","If you are using the community version of the `DataGrid`, this prop is always `true`."],"error"),hP=go("MUI: The `id` field is required on `filterModel.items` when you use multiple filters.","error"),mP=go("MUI: The `operator` field is required on `filterModel.items`, one or more of your filtering item has no `operator` provided.","error"),hm=(e,t,o)=>{const s=e.items.length>1;let i;s&&t?(pP(),i=[e.items[0]]):i=e.items;const a=s&&i.some(d=>d.id==null),l=i.some(d=>d.operator==null);return a&&hP(),l&&mP(),l||a?I({},e,{items:i.map(d=>Ll(d,o))}):e.items!==i?I({},e,{items:i}):e},zd=(e,t,o)=>s=>I({},s,{filterModel:hm(e,t,o)}),Go=e=>typeof e=="string"?e.normalize("NFD").replace(/[\u0300-\u036f]/g,""):e,mm=(e,t)=>{if(!e.field||!e.operator)return null;const o=t.current.getColumn(e.field);if(!o)return null;let s;if(o.valueParser){var i;const b=o.valueParser;s=Array.isArray(e.value)?(i=e.value)==null?void 0:i.map(C=>b(C)):b(e.value)}else s=e.value;const{ignoreDiacritics:a}=t.current.rootProps;a&&(s=Go(s));const l=I({},e,{value:s}),d=o.filterOperators;if(!(d!=null&&d.length))throw new Error(`MUI: No filter operators found for column '${o.field}'.`);const p=d.find(b=>b.value===l.operator);if(!p)throw new Error(`MUI: No filter operator found for column '${o.field}' and operator value '${l.operator}'.`);const f=!Ki(p.getApplyFilterFn),m=!Ki(p.getApplyFilterFnV7),g=pm(t);if(p.getApplyFilterFnV7&&!(f&&!m)){const b=p.getApplyFilterFnV7(l,o);return typeof b!="function"?null:{v7:!0,item:l,fn:C=>{let x=t.current.getRowValue(C,o);return a&&(x=Go(x)),b(x,C,o,g)}}}const v=p.getApplyFilterFn(l,o);return typeof v!="function"?null:{v7:!1,item:l,fn:b=>{const C=t.current.getCellParams(b,l.field);Rl.current=g,a&&(C.value=Go(C.value));const x=v(C);return Rl.current=null,x}}};let $d=1;const fP=(e,t,o)=>{const{items:s}=e,i=s.map(d=>mm(d,t)).filter(d=>!!d);if(i.length===0)return null;if(o||!dP())return(d,p)=>{const f={};for(let m=0;m<i.length;m+=1){const g=i[m];(!p||p(g.item.field))&&(f[g.item.id]=g.v7?g.fn(d):g.fn(t.current.getRowId(d)))}return f};const a=new Function("getRowId","appliers","row","shouldApplyFilter",`"use strict";
${i.map((d,p)=>`const shouldApply${p} = !shouldApplyFilter || shouldApplyFilter(${JSON.stringify(d.item.field)});`).join(`
`)}

const result$$ = {
${i.map((d,p)=>`  ${JSON.stringify(String(d.item.id))}: !shouldApply${p}
    ? false
    : ${d.v7?`appliers[${p}].fn(row)`:`appliers[${p}].fn(getRowId(row))`},`).join(`
`)}
};

return result$$;`.replaceAll("$$",String($d)));return $d+=1,(d,p)=>a(t.current.getRowId,i,d,p)},gP=(e,t)=>{var o,s,i;const a=(o=(s=e.quickFilterValues)==null?void 0:s.filter(Boolean))!=null?o:[];if(a.length===0)return null;const d=((i=e.quickFilterExcludeHiddenColumns)!=null?i:!1)?ha(t):Io(t),p=[],{ignoreDiacritics:f}=t.current.rootProps,m=pm(t);return d.forEach(g=>{const v=t.current.getColumn(g),b=v==null?void 0:v.getApplyQuickFilterFn,C=v==null?void 0:v.getApplyQuickFilterFnV7,x=!Ki(b),S=!Ki(C);C&&!(x&&!S)?p.push({column:v,appliers:a.map(_=>{const P=f?Go(_):_;return{v7:!0,fn:C(P,v,m)}})}):b&&p.push({column:v,appliers:a.map(_=>{const P=f?Go(_):_;return{v7:!1,fn:b(P,v,m)}})})}),function(v,b){const C={},x={};e:for(let _=0;_<a.length;_+=1){const P=a[_];for(let z=0;z<p.length;z+=1){const{column:R,appliers:j}=p[z],{field:k}=R;if(b&&!b(k))continue;const M=j[_];let E=t.current.getRowValue(v,R);if(M.fn!==null)if(M.v7){if(f&&(E=Go(E)),M.fn(E,v,R,m)){C[P]=!0;continue e}}else{var S;const $=(S=x[k])!=null?S:t.current.getCellParams(t.current.getRowId(v),k);if(f&&($.value=Go($.value)),x[k]=$,M.fn($)){C[P]=!0;continue e}}}C[P]=!1}return C}},vP=(e,t,o)=>{const s=fP(e,t,o),i=gP(e,t);return function(l,d,p){var f,m;p.passingFilterItems=(f=s==null?void 0:s(l,d))!=null?f:null,p.passingQuickFilterValues=(m=i==null?void 0:i(l,d))!=null?m:null}},Bd=e=>e!=null,yP=(e,t,o)=>(e.cleanedFilterItems||(e.cleanedFilterItems=o.filter(s=>mm(s,t)!==null)),e.cleanedFilterItems),bP=(e,t,o,s,i)=>{const a=yP(i,s,o.items),l=e.filter(Bd),d=t.filter(Bd);if(l.length>0){var p;const m=v=>l.some(b=>b[v.id]);if(((p=o.logicOperator)!=null?p:Es().logicOperator)===En.And){if(!a.every(m))return!1}else if(!a.some(m))return!1}if(d.length>0&&o.quickFilterValues!=null){var f;const m=v=>d.some(b=>b[v]);if(((f=o.quickFilterLogicOperator)!=null?f:Es().quickFilterLogicOperator)===En.And){if(!o.quickFilterValues.every(m))return!1}else if(!o.quickFilterValues.some(m))return!1}return!0},Hd=Ws(e=>{if(!e)return null;const t=new RegExp(Ti(e),"i");return(o,s,i,a)=>{let l=a.current.getRowFormattedValue(s,i);return a.current.ignoreDiacritics&&(l=Go(l)),l!=null?t.test(l.toString()):!1}}),CP=(e=!1)=>Zs([{value:"contains",getApplyFilterFnV7:t=>{if(!t.value)return null;const o=e?t.value:t.value.trim(),s=new RegExp(Ti(o),"i");return i=>i!=null?s.test(String(i)):!1},InputComponent:co},{value:"equals",getApplyFilterFnV7:t=>{if(!t.value)return null;const o=e?t.value:t.value.trim(),s=new Intl.Collator(void 0,{sensitivity:"base",usage:"search"});return i=>i!=null?s.compare(o,i.toString())===0:!1},InputComponent:co},{value:"startsWith",getApplyFilterFnV7:t=>{if(!t.value)return null;const o=e?t.value:t.value.trim(),s=new RegExp(`^${Ti(o)}.*$`,"i");return i=>i!=null?s.test(i.toString()):!1},InputComponent:co},{value:"endsWith",getApplyFilterFnV7:t=>{if(!t.value)return null;const o=e?t.value:t.value.trim(),s=new RegExp(`.*${Ti(o)}$`,"i");return i=>i!=null?s.test(i.toString()):!1},InputComponent:co},{value:"isEmpty",getApplyFilterFnV7:()=>t=>t===""||t==null,requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFnV7:()=>t=>t!==""&&t!=null,requiresFilterValue:!1},{value:"isAnyOf",getApplyFilterFnV7:t=>{if(!Array.isArray(t.value)||t.value.length===0)return null;const o=e?t.value:t.value.map(i=>i.trim()),s=new Intl.Collator(void 0,{sensitivity:"base",usage:"search"});return i=>i!=null?o.some(a=>s.compare(a,i.toString()||"")===0):!1},InputComponent:um}]),no={width:100,minWidth:50,maxWidth:1/0,hideable:!0,sortable:!0,resizable:!0,filterable:!0,groupable:!0,pinnable:!0,aggregable:!0,editable:!1,sortComparator:US,type:"string",align:"left",filterOperators:CP(),renderEditCell:gw,getApplyQuickFilterFn:dm(Hd),getApplyQuickFilterFnV7:Hd},xP=()=>Zs([{value:"is",getApplyFilterFnV7:e=>{if(!e.value)return null;const t=e.value==="true";return o=>!!o===t},InputComponent:E_}]);function wP({value:e,api:t}){return e?t.getLocaleText("booleanCellTrueLabel"):t.getLocaleText("booleanCellFalseLabel")}const SP=e=>{switch(e.toLowerCase().trim()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case"null":case"undefined":return!1;default:return}},fm=I({},no,{type:"boolean",align:"center",headerAlign:"center",renderCell:ow,renderEditCell:aw,sortComparator:nm,valueFormatter:wP,filterOperators:xP(),getApplyQuickFilterFn:void 0,getApplyQuickFilterFnV7:void 0,aggregable:!1,pastedValueParser:e=>SP(e)}),Oo="__check__",Qr=I({},fm,{field:Oo,type:"checkboxSelection",width:50,resizable:!1,sortable:!1,filterable:!1,aggregable:!1,disableColumnMenu:!0,disableReorder:!0,disableExport:!0,getApplyQuickFilterFn:void 0,getApplyQuickFilterFnV7:void 0,valueGetter:e=>Zi(e.api.state,e.api.instanceId)[e.id]!==void 0,renderHeader:e=>h.jsx(a1,I({},e)),renderCell:e=>h.jsx(r1,I({},e))}),Ca="actions",_P=I({},no,{sortable:!1,filterable:!1,aggregable:!1,width:100,align:"center",headerAlign:"center",headerName:"",disableColumnMenu:!0,disableExport:!0,renderCell:Lw,getApplyQuickFilterFn:void 0,getApplyQuickFilterFnV7:void 0}),Fc="__detail_panel_toggle__",Sn=e=>e.editRows,PP=["selected","hovered","rowId","row","index","style","position","rowHeight","className","visibleColumns","renderedColumns","containerWidth","firstColumnToRender","lastColumnToRender","isLastVisible","focusedCellColumnIndexNotInRange","isNotVisible","focusedCell","tabbableCell","onClick","onDoubleClick","onMouseEnter","onMouseLeave","onMouseOut","onMouseOver"],IP=e=>{const{editable:t,editing:o,selected:s,isLastVisible:i,rowHeight:a,classes:l}=e;return mt({root:["row",s&&"selected",t&&"row--editable",o&&"row--editing",i&&"row--lastVisible",a==="auto"&&"row--dynamicHeight"]},ft,l)};function TP({width:e}){if(!e)return null;const t={width:e};return h.jsx("div",{className:`${J.cell} ${J.withBorderColor}`,style:t})}const kP=c.forwardRef(function(t,o){const{selected:s,hovered:i,rowId:a,row:l,index:d,style:p,position:f,rowHeight:m,className:g,visibleColumns:v,renderedColumns:b,containerWidth:C,firstColumnToRender:x,isLastVisible:S=!1,focusedCellColumnIndexNotInRange:_,isNotVisible:P,focusedCell:z,onClick:R,onDoubleClick:j,onMouseEnter:k,onMouseLeave:M,onMouseOut:E,onMouseOver:$}=t,N=ze(t,PP),F=pt(),G=c.useRef(null),H=Ge(),T=gr(F,H),A=Re(F,bc),B=Re(F,Gn),W=Re(F,ga),D=Re(F,js),V=Re(F,Sn),Z=Vo(G,o),K=d+D+2,Q={selected:s,isLastVisible:S,classes:H.classes,editing:F.current.getRowMode(a)===Ft.Edit,editable:H.editMode===fo.Row,rowHeight:m},Y=IP(Q);c.useLayoutEffect(()=>{m==="auto"&&G.current&&typeof ResizeObserver>"u"&&F.current.unstable_storeRowHeightMeasurement(a,G.current.clientHeight,f)},[F,m,a,f]),c.useLayoutEffect(()=>{if(T.range){const We=F.current.getRowIndexRelativeToVisibleRows(a);We!=null&&F.current.unstable_setLastMeasuredRowIndex(We)}const be=G.current;if(!be||m!=="auto"||typeof ResizeObserver>"u")return;const ke=new ResizeObserver(We=>{const[nt]=We,et=nt.borderBoxSize&&nt.borderBoxSize.length>0?nt.borderBoxSize[0].blockSize:nt.contentRect.height;F.current.unstable_storeRowHeightMeasurement(a,et,f)});return ke.observe(be),()=>ke.disconnect()},[F,T.range,d,m,a,f]);const ee=c.useCallback((be,Pe)=>ke=>{Gs(ke)||F.current.getRow(a)&&(F.current.publishEvent(be,F.current.getRowParams(a),ke),Pe&&Pe(ke))},[F,a]),q=c.useCallback(be=>{const Pe=Hx(be.target,J.cell),ke=Pe==null?void 0:Pe.getAttribute("data-field");if(ke){if(ke===Qr.field||ke===Fc||ke==="__reorder__"||F.current.getCellMode(a,ke)===At.Edit)return;const We=F.current.getColumn(ke);if((We==null?void 0:We.type)===Ca)return}ee("rowClick",R)(be)},[F,R,ee,a]),{slots:te,slotProps:ae,disableColumnReorder:X}=H,ve=te.cell===El?El:Xx,Ce=H.rowReordering,le=(be,Pe)=>{var ke,We;const nt=X&&be.disableReorder||!Ce&&!!B.length&&W>1&&Object.keys(V).length>0,et=(ke=(We=V[a])==null?void 0:We[be.field])!=null?ke:null;let Xe=!1;return _!==void 0&&v[_].field===be.field&&(Xe=!0),h.jsx(ve,I({column:be,width:Pe.width,rowId:a,height:m,showRightBorder:Pe.showRightBorder,align:be.align||"left",colIndex:Pe.indexRelativeToAllColumns,colSpan:Pe.colSpan,disableDragEvents:nt,editCellState:et,isNotVisible:Xe},ae==null?void 0:ae.cell),be.field)},ce=Re(F,()=>I({},F.current.unstable_getRowInternalSizes(a)),hc);let ie=m;if(ie==="auto"&&ce){let be=0;const Pe=Object.entries(ce).reduce((ke,[We,nt])=>/^base[A-Z]/.test(We)?(be+=1,nt>ke?nt:ke):ke,0);Pe>0&&be>1&&(ie=Pe)}const fe=c.useMemo(()=>{if(P)return{opacity:0,width:0,height:0};const be=I({},p,{maxHeight:m==="auto"?"none":m,minHeight:ie});if(ce!=null&&ce.spacingTop){const Pe=H.rowSpacingType==="border"?"borderTopWidth":"marginTop";be[Pe]=ce.spacingTop}if(ce!=null&&ce.spacingBottom){const Pe=H.rowSpacingType==="border"?"borderBottomWidth":"marginBottom";let ke=be[Pe];typeof ke!="number"&&(ke=parseInt(ke||"0",10)),ke+=ce.spacingBottom,be[Pe]=ke}return be},[P,m,p,ie,ce,H.rowSpacingType]),me=F.current.unstable_applyPipeProcessors("rowClassName",[],a);if(typeof H.getRowClassName=="function"){var ye;const be=d-(((ye=T.range)==null?void 0:ye.firstRowIndex)||0),Pe=I({},F.current.getRowParams(a),{isFirstVisible:be===0,isLastVisible:be===T.rows.length-1,indexRelativeToCurrentPage:be});me.push(H.getRowClassName(Pe))}const ne=ES(1e4,20,80),ge=F.current.getRowNode(a);if(!ge)return null;const we=ge.type,Fe=[];for(let be=0;be<b.length;be+=1){const Pe=b[be];let ke=x+be;_!==void 0&&z&&(v[_].field===Pe.field?ke=_:ke-=1);const We=F.current.unstable_getCellColSpanInfo(a,ke);if(We&&!We.spannedByColSpan)if(we!=="skeletonRow"){const{colSpan:nt,width:et}=We.cellProps,Xe={width:et,colSpan:nt,showRightBorder:H.showCellVerticalBorder,indexRelativeToAllColumns:ke};Fe.push(le(Pe,Xe))}else{const{width:nt}=We.cellProps,et=Math.round(ne());Fe.push(h.jsx(te.skeletonCell,{width:nt,contentWidth:et,field:Pe.field,align:Pe.align},Pe.field))}}const Ne=C-A,Ie=l?{onClick:q,onDoubleClick:ee("rowDoubleClick",j),onMouseEnter:ee("rowMouseEnter",k),onMouseLeave:ee("rowMouseLeave",M),onMouseOut:ee("rowMouseOut",E),onMouseOver:ee("rowMouseOver",$)}:null;return h.jsxs("div",I({ref:Z,"data-id":a,"data-rowindex":d,role:"row",className:je(...me,Y.root,g,i&&"Mui-hovered"),"aria-rowindex":K,"aria-selected":s,style:fe},Ie,N,{children:[Fe,Ne>0&&h.jsx(TP,{width:Ne})]}))}),MP=ba(kP);function AP({privateApiRef:e,props:t,children:o}){const s=c.useRef(e.current.getPublicApi());return h.jsx(hh.Provider,{value:t,children:h.jsx(yh.Provider,{value:e,children:h.jsx(ph.Provider,{value:s,children:o})})})}const EP=MS()&&window.localStorage.getItem("DEBUG")!=null,bs=()=>{},DP={debug:bs,info:bs,warn:bs,error:bs},jd=["debug","info","warn","error"];function Gd(e,t,o=console){const s=jd.indexOf(t);if(s===-1)throw new Error(`MUI: Log level ${t} not recognized.`);return jd.reduce((a,l,d)=>(d>=s?a[l]=(...p)=>{const[f,...m]=p;o[l](`MUI: ${e} - ${f}`,...m)}:a[l]=bs,a),{})}const RP=(e,t)=>{const o=c.useCallback(s=>EP?Gd(s,"debug",t.logger):t.logLevel?Gd(s,t.logLevel.toString(),t.logger):DP,[t.logLevel,t.logger]);lt(e,{getLogger:o},"private")};class Oc{static create(t){return new Oc(t)}constructor(t){this.value=void 0,this.listeners=void 0,this.subscribe=o=>(this.listeners.add(o),()=>{this.listeners.delete(o)}),this.getSnapshot=()=>this.value,this.update=o=>{this.value=o,this.listeners.forEach(s=>s(o))},this.value=t,this.listeners=new Set}}class LP{constructor(){this.maxListeners=20,this.warnOnce=!1,this.events={}}on(t,o,s={}){let i=this.events[t];i||(i={highPriority:new Map,regular:new Map},this.events[t]=i),s.isFirst?i.highPriority.set(o,!0):i.regular.set(o,!0)}removeListener(t,o){this.events[t]&&(this.events[t].regular.delete(o),this.events[t].highPriority.delete(o))}removeAllListeners(){this.events={}}emit(t,...o){const s=this.events[t];if(!s)return;const i=Array.from(s.highPriority.keys()),a=Array.from(s.regular.keys());for(let l=i.length-1;l>=0;l-=1){const d=i[l];s.highPriority.has(d)&&d.apply(this,o)}for(let l=0;l<a.length;l+=1){const d=a[l];s.regular.has(d)&&d.apply(this,o)}}once(t,o){const s=this;this.on(t,function i(...a){s.removeListener(t,i),o.apply(s,a)})}}const gm=Symbol("mui.api_private"),FP=e=>e.isPropagationStopped!==void 0;let Vd=0;function OP(e){var t;const o=(t=e.current)==null?void 0:t[gm];if(o)return o;const s={},i={state:s,store:Oc.create(s),instanceId:{id:Vd}};return Vd+=1,i.getPublicApi=()=>e.current,i.register=(a,l)=>{Object.keys(l).forEach(d=>{const p=l[d],f=i[d];if((f==null?void 0:f.spying)===!0?f.target=p:i[d]=p,a==="public"){const m=e.current,g=m[d];(g==null?void 0:g.spying)===!0?g.target=p:m[d]=p}})},i.register("private",{caches:{},eventManager:new LP}),i}function NP(e){return{get state(){return e.current.state},get store(){return e.current.store},get instanceId(){return e.current.instanceId},[gm]:e.current}}function zP(e,t){const o=c.useRef(),s=c.useRef();s.current||(s.current=OP(o)),o.current||(o.current=NP(s));const i=c.useCallback((...l)=>{const[d,p,f={}]=l;if(f.defaultMuiPrevented=!1,FP(f)&&f.isPropagationStopped())return;const m=t.signature===ho.DataGridPro?{api:s.current.getPublicApi()}:{};s.current.eventManager.emit(d,p,f,m)},[s,t.signature]),a=c.useCallback((l,d,p)=>{s.current.eventManager.on(l,d,p);const f=s.current;return()=>{f.eventManager.removeListener(l,d)}},[s]);return lt(s,{subscribeEvent:a,publishEvent:i},"public"),c.useImperativeHandle(e,()=>o.current,[o]),c.useEffect(()=>{const l=s.current;return()=>{l.publishEvent("unmount")}},[s]),s}const $P=(e,t)=>{const o=c.useCallback(s=>{if(t.localeText[s]==null)throw new Error(`Missing translation for key ${s}.`);return t.localeText[s]},[t.localeText]);e.current.register("public",{getLocaleText:o})},BP=e=>{const t=c.useRef({}),o=c.useRef(!1),s=c.useCallback(m=>{o.current||!m||(o.current=!0,Object.values(m.appliers).forEach(g=>{g()}),o.current=!1)},[]),i=c.useCallback((m,g,v)=>{t.current[m]||(t.current[m]={processors:new Map,appliers:{}});const b=t.current[m];return b.processors.get(g)!==v&&(b.processors.set(g,v),s(b)),()=>{t.current[m].processors.set(g,null)}},[s]),a=c.useCallback((m,g,v)=>(t.current[m]||(t.current[m]={processors:new Map,appliers:{}}),t.current[m].appliers[g]=v,()=>{const b=t.current[m].appliers,C=ze(b,[g].map(Ms));t.current[m].appliers=C}),[]),l=c.useCallback(m=>{const g=t.current[m];s(g)},[s]),d=c.useCallback((...m)=>{const[g,v,b]=m;return t.current[g]?Array.from(t.current[g].processors.values()).reduce((x,S)=>S?S(x,b):x,v):v},[]),p={registerPipeProcessor:i,registerPipeApplier:a,requestPipeProcessorsApplication:l},f={unstable_applyPipeProcessors:d};lt(e,p,"private"),lt(e,f,"public")},tn=(e,t,o)=>{const s=c.useRef(),i=c.useRef(`mui-${Math.round(Math.random()*1e9)}`),a=c.useCallback(()=>{s.current=e.current.registerPipeProcessor(t,i.current,o)},[e,o,t]);Vs(()=>{a()});const l=c.useRef(!0);c.useEffect(()=>(l.current?l.current=!1:a(),()=>{s.current&&(s.current(),s.current=null)}),[a])},Nc=(e,t,o)=>{const s=c.useRef(),i=c.useRef(`mui-${Math.round(Math.random()*1e9)}`),a=c.useCallback(()=>{s.current=e.current.registerPipeApplier(t,i.current,o)},[e,o,t]);Vs(()=>{a()});const l=c.useRef(!0);c.useEffect(()=>(l.current?l.current=!1:a(),()=>{s.current&&(s.current(),s.current=null)}),[a])},Ji=(e,t,o,s)=>{const i=c.useCallback(()=>{e.current.registerStrategyProcessor(t,o,s)},[e,s,o,t]);Vs(()=>{i()});const a=c.useRef(!0);c.useEffect(()=>{a.current?a.current=!1:i()},[i])},pr="none",Wd={rowTreeCreation:"rowTree",filtering:"rowTree",sorting:"rowTree",visibleRowsLookupCreation:"rowTree"},HP=e=>{const t=c.useRef(new Map),o=c.useRef({}),s=c.useCallback((p,f,m)=>{const g=()=>{const C=o.current[f],x=ze(C,[p].map(Ms));o.current[f]=x};o.current[f]||(o.current[f]={});const v=o.current[f],b=v[p];return v[p]=m,!b||b===m||p===e.current.getActiveStrategy(Wd[f])&&e.current.publishEvent("activeStrategyProcessorChange",f),g},[e]),i=c.useCallback((p,f)=>{const m=e.current.getActiveStrategy(Wd[p]);if(m==null)throw new Error("Can't apply a strategy processor before defining an active strategy");const g=o.current[p];if(!g||!g[m])throw new Error(`No processor found for processor "${p}" on strategy "${m}"`);const v=g[m];return v(f)},[e]),a=c.useCallback(p=>{var f;const g=Array.from(t.current.entries()).find(([,v])=>v.group!==p?!1:v.isAvailable());return(f=g==null?void 0:g[0])!=null?f:pr},[]),l=c.useCallback((p,f,m)=>{t.current.set(f,{group:p,isAvailable:m}),e.current.publishEvent("strategyAvailabilityChange")},[e]);lt(e,{registerStrategyProcessor:s,applyStrategyProcessor:i,getActiveStrategy:a,setStrategyAvailability:l},"private")},jP=(e,t)=>{const o=c.useRef({}),[,s]=c.useState(),i=c.useCallback(m=>{o.current[m.stateId]=m},[]),a=c.useCallback((m,g)=>{let v;if(Kh(m)?v=m(e.current.state):v=m,e.current.state===v)return!1;let b=!1;const C=[];if(Object.keys(o.current).forEach(x=>{const S=o.current[x],_=S.stateSelector(e.current.state,e.current.instanceId),P=S.stateSelector(v,e.current.instanceId);P!==_&&(C.push({stateId:S.stateId,hasPropChanged:P!==S.propModel}),S.propModel!==void 0&&P!==S.propModel&&(b=!0))}),C.length>1)throw new Error(`You're not allowed to update several sub-state in one transaction. You already updated ${C[0].stateId}, therefore, you're not allowed to update ${C.map(x=>x.stateId).join(", ")} in the same transaction.`);if(b||(e.current.state=v,e.current.publishEvent&&e.current.publishEvent("stateChange",v),e.current.store.update(v)),C.length===1){const{stateId:x,hasPropChanged:S}=C[0],_=o.current[x],P=_.stateSelector(v,e.current.instanceId);if(_.propOnChange&&S){const z=t.signature===ho.DataGridPro?{api:e.current,reason:g}:{reason:g};_.propOnChange(P,z)}b||e.current.publishEvent(_.changeEvent,P,{reason:g})}return!b},[e,t.signature]),l=c.useCallback((m,g,v)=>e.current.setState(b=>I({},b,{[m]:g(b[m])}),v),[e]),d=c.useCallback(()=>s(()=>e.current.state),[e]),p={setState:a,forceUpdate:d},f={updateControlState:l,registerControlState:i};lt(e,p,"public"),lt(e,f,"private")},GP=(e,t)=>{const o=zP(e,t);return RP(o,t),jP(o,t),BP(o),HP(o),$P(o,t),o.current.register("private",{rootProps:t}),o},An=(e,t,o)=>{const s=c.useRef(!1);s.current||(t.current.state=e(t.current.state,o,t),s.current=!0)},VP=/(\d+)-(\d+)-(\d+)/,WP=/(\d+)-(\d+)-(\d+)T(\d+):(\d+)/;function Ar(e,t,o,s){if(!e.value)return null;const[i,a,l,d,p]=e.value.match(o?WP:VP).slice(1).map(Number),f=new Date(i,a-1,l,d||0,p||0).getTime();return m=>{if(!m)return!1;if(s)return t(m.getTime(),f);const v=new Date(m).setHours(o?m.getHours():0,o?m.getMinutes():0,0,0);return t(v,f)}}const vm=e=>Zs([{value:"is",getApplyFilterFnV7:t=>Ar(t,(o,s)=>o===s,e),InputComponent:Mr,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"not",getApplyFilterFnV7:t=>Ar(t,(o,s)=>o!==s,e),InputComponent:Mr,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"after",getApplyFilterFnV7:t=>Ar(t,(o,s)=>o>s,e),InputComponent:Mr,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"onOrAfter",getApplyFilterFnV7:t=>Ar(t,(o,s)=>o>=s,e),InputComponent:Mr,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"before",getApplyFilterFnV7:t=>Ar(t,(o,s)=>o<s,e,!e),InputComponent:Mr,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"onOrBefore",getApplyFilterFnV7:t=>Ar(t,(o,s)=>o<=s,e),InputComponent:Mr,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"isEmpty",getApplyFilterFnV7:()=>t=>t==null,requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFnV7:()=>t=>t!=null,requiresFilterValue:!1}]);function ym({value:e,columnType:t,rowId:o,field:s}){if(!(e instanceof Date))throw new Error([`MUI: \`${t}\` column type only accepts \`Date\` objects as values.`,"Use `valueGetter` to transform the value into a `Date` object.",`Row ID: ${o}, field: "${s}".`].join(`
`))}function ZP({value:e,field:t,id:o}){return e?(ym({value:e,columnType:"date",rowId:o,field:t}),e.toLocaleDateString()):""}function UP({value:e,field:t,id:o}){return e?(ym({value:e,columnType:"dateTime",rowId:o,field:t}),e.toLocaleString()):""}const KP=I({},no,{type:"date",sortComparator:om,valueFormatter:ZP,filterOperators:vm(),renderEditCell:Hh,pastedValueParser:e=>new Date(e)}),JP=I({},no,{type:"dateTime",sortComparator:om,valueFormatter:UP,filterOperators:vm(!0),renderEditCell:Hh,pastedValueParser:e=>new Date(e)}),No=e=>e==null?null:Number(e),Zd=Ws(e=>e==null||Number.isNaN(e)||e===""?null:t=>No(t)===No(e)),qP=()=>Zs([{value:"=",getApplyFilterFnV7:e=>e.value==null||Number.isNaN(e.value)?null:t=>No(t)===e.value,InputComponent:co,InputComponentProps:{type:"number"}},{value:"!=",getApplyFilterFnV7:e=>e.value==null||Number.isNaN(e.value)?null:t=>No(t)!==e.value,InputComponent:co,InputComponentProps:{type:"number"}},{value:">",getApplyFilterFnV7:e=>e.value==null||Number.isNaN(e.value)?null:t=>t==null?!1:No(t)>e.value,InputComponent:co,InputComponentProps:{type:"number"}},{value:">=",getApplyFilterFnV7:e=>e.value==null||Number.isNaN(e.value)?null:t=>t==null?!1:No(t)>=e.value,InputComponent:co,InputComponentProps:{type:"number"}},{value:"<",getApplyFilterFnV7:e=>e.value==null||Number.isNaN(e.value)?null:t=>t==null?!1:No(t)<e.value,InputComponent:co,InputComponentProps:{type:"number"}},{value:"<=",getApplyFilterFnV7:e=>e.value==null||Number.isNaN(e.value)?null:t=>t==null?!1:No(t)<=e.value,InputComponent:co,InputComponentProps:{type:"number"}},{value:"isEmpty",getApplyFilterFnV7:()=>e=>e==null,requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFnV7:()=>e=>e!=null,requiresFilterValue:!1},{value:"isAnyOf",getApplyFilterFnV7:e=>!Array.isArray(e.value)||e.value.length===0?null:t=>t!=null&&e.value.includes(Number(t)),InputComponent:um,InputComponentProps:{type:"number"}}]),XP=I({},no,{type:"number",align:"right",headerAlign:"right",sortComparator:nm,valueParser:e=>e===""?null:Number(e),valueFormatter:({value:e})=>kS(e)?e.toLocaleString():e||"",filterOperators:qP(),getApplyQuickFilterFn:dm(Zd),getApplyQuickFilterFnV7:Zd}),Er=e=>e==null||!Mc(e)?e:e.value,YP=()=>Zs([{value:"is",getApplyFilterFnV7:e=>e.value==null||e.value===""?null:t=>Er(t)===Er(e.value),InputComponent:Od},{value:"not",getApplyFilterFnV7:e=>e.value==null||e.value===""?null:t=>Er(t)!==Er(e.value),InputComponent:Od},{value:"isAnyOf",getApplyFilterFnV7:e=>{if(!Array.isArray(e.value)||e.value.length===0)return null;const t=e.value.map(Er);return o=>t.includes(Er(o))},InputComponent:N_}]),QP=e=>typeof e[0]=="object",eI=e=>Mc(e)?e.value:e,tI=e=>Mc(e)?e.label:String(e),nI=I({},no,{type:"singleSelect",getOptionLabel:tI,getOptionValue:eI,valueFormatter(e){const{id:t,field:o,value:s,api:i}=e,a=e.api.getColumn(o);if(!ar(a))return"";let l;if(typeof a.valueOptions=="function"?l=a.valueOptions({id:t,row:t?i.getRow(t):null,field:o}):l=a.valueOptions,s==null)return"";if(!l)return s;if(!QP(l))return a.getOptionLabel(s);const d=l.find(p=>a.getOptionValue(p)===s);return d?a.getOptionLabel(d):""},renderEditCell:Iw,filterOperators:YP(),pastedValueParser:(e,t)=>{const o=t.colDef,s=o.valueOptions,i=typeof s=="function"?s({field:o.field}):s||[],a=o.getOptionValue;if(i.find(d=>a(d)===e))return e}}),bm="__default__",oI=()=>({string:no,number:XP,date:KP,dateTime:JP,boolean:fm,singleSelect:nI,[Ca]:_P,[bm]:no});function Fl(e,t){if(typeof e=="string"){if(t.shouldAppendQuotes||t.escapeFormulas){const o=e.replace(/"/g,'""');return[t.delimiter,`
`,"\r",'"'].some(s=>e.includes(s))?`"${o}"`:t.escapeFormulas&&["=","+","-","@","	","\r"].includes(o[0])?`'${o}`:o}return e}return e}const Cm=(e,t)=>{const{csvOptions:o,ignoreValueFormatter:s}=t;let i;if(s){var a;const d=e.colDef.type;if(d==="number")i=String(e.value);else if(d==="date"||d==="dateTime"){var l;i=(l=e.value)==null?void 0:l.toISOString()}else typeof((a=e.value)==null?void 0:a.toString)=="function"?i=e.value.toString():i=e.value}else i=e.formattedValue;return Fl(i,o)};go(["MUI: When the value of a field is an object or a `renderCell` is provided, the CSV export might not display the value correctly.","You can provide a `valueFormatter` with a string representation to be used."]);class Ol{constructor(t){this.options=void 0,this.rowString="",this.isEmpty=!0,this.options=t}addValue(t){this.isEmpty||(this.rowString+=this.options.csvOptions.delimiter),t==null?this.rowString+="":typeof this.options.sanitizeCellValue=="function"?this.rowString+=this.options.sanitizeCellValue(t,this.options.csvOptions):this.rowString+=t,this.isEmpty=!1}getRowString(){return this.rowString}}const rI=({id:e,columns:t,getCellParams:o,csvOptions:s,ignoreValueFormatter:i})=>{const a=new Ol({csvOptions:s});return t.forEach(l=>{const d=o(e,l.field);a.addValue(Cm(d,{ignoreValueFormatter:i,csvOptions:s}))}),a.getRowString()};function sI(e){const{columns:t,rowIds:o,csvOptions:s,ignoreValueFormatter:i,apiRef:a}=e,l=o.reduce((g,v)=>`${g}${rI({id:v,columns:t,getCellParams:a.current.getCellParams,ignoreValueFormatter:i,csvOptions:s})}\r
`,"").trim();if(!s.includeHeaders)return l;const d=t.filter(g=>g.field!==Qr.field),p=[];if(s.includeColumnGroupsHeaders){const g=a.current.unstable_getAllGroupDetails();let v=0;const b=d.reduce((C,x)=>{const S=a.current.unstable_getColumnGroupPath(x.field);return C[x.field]=S,v=Math.max(v,S.length),C},{});for(let C=0;C<v;C+=1){const x=new Ol({csvOptions:s,sanitizeCellValue:Fl});p.push(x),d.forEach(S=>{const _=(b[S.field]||[])[C],P=g[_];x.addValue(P?P.headerName||P.groupId:"")})}}const f=new Ol({csvOptions:s,sanitizeCellValue:Fl});return d.forEach(g=>{f.addValue(g.headerName||g.field)}),p.push(f),`${`${p.map(g=>g.getRowString()).join(`\r
`)}\r
`}${l}`.trim()}function Ud(e){const t=document.createElement("span");t.style.whiteSpace="pre",t.style.userSelect="all",t.style.opacity="0px",t.textContent=e,document.body.appendChild(t);const o=document.createRange();o.selectNode(t);const s=window.getSelection();s.removeAllRanges(),s.addRange(o);try{document.execCommand("copy")}finally{document.body.removeChild(t)}}function iI(e){navigator.clipboard?navigator.clipboard.writeText(e).catch(()=>{Ud(e)}):Ud(e)}function aI(e){var t;return!!((t=window.getSelection())!=null&&t.toString()||e&&(e.selectionEnd||0)-(e.selectionStart||0)>0)}const lI=(e,t)=>{const o=t.unstable_ignoreValueFormatterDuringExport,s=(typeof o=="object"?o==null?void 0:o.clipboardExport:o)||!1,i=t.clipboardCopyCellDelimiter,a=c.useCallback(l=>{if(!((l.ctrlKey||l.metaKey)&&l.key==="c")||aI(l.target))return;let d="";if(e.current.getSelectedRows().size>0)d=e.current.getDataAsCsv({includeHeaders:!1,delimiter:i,shouldAppendQuotes:!1,escapeFormulas:!1});else{const f=Ln(e);if(f){const m=e.current.getCellParams(f.id,f.field);d=Cm(m,{csvOptions:{delimiter:i,shouldAppendQuotes:!1,escapeFormulas:!1},ignoreValueFormatter:s})}}d=e.current.unstable_applyPipeProcessors("clipboardCopy",d),d&&(iI(d),e.current.publishEvent("clipboardCopy",d))},[e,s,i]);DS(e,e.current.rootElementRef,"keydown",a),Ot(e,"clipboardCopy",t.onClipboardCopy)},cI=e=>I({},e,{columnMenu:{open:!1}}),uI=e=>{const t=Cn(e,"useGridColumnMenu"),o=c.useCallback(l=>{e.current.setState(p=>p.columnMenu.open&&p.columnMenu.field===l?p:(t.debug("Opening Column Menu"),I({},p,{columnMenu:{open:!0,field:l}})))&&(e.current.hidePreferences(),e.current.forceUpdate())},[e,t]),s=c.useCallback(()=>{const l=Al(e.current.state);if(l.field){const p=fr(e),f=eo(e),m=Io(e);let g=l.field;if(p[g]||(g=m[0]),f[g]===!1){const v=m.filter(C=>C===g?!0:f[C]!==!1),b=v.indexOf(g);g=v[b+1]||v[b-1]}e.current.setColumnHeaderFocus(g)}e.current.setState(p=>!p.columnMenu.open&&p.columnMenu.field===void 0?p:(t.debug("Hiding Column Menu"),I({},p,{columnMenu:I({},p.columnMenu,{open:!1,field:void 0})})))&&e.current.forceUpdate()},[e,t]),i=c.useCallback(l=>{t.debug("Toggle Column Menu");const d=Al(e.current.state);!d.open||d.field!==l?o(l):s()},[e,t,o,s]);lt(e,{showColumnMenu:o,hideColumnMenu:s,toggleColumnMenu:i},"public"),Ve(e,"columnResizeStart",s),Ve(e,"virtualScrollerWheel",e.current.hideColumnMenu),Ve(e,"virtualScrollerTouchMove",e.current.hideColumnMenu)},xm=["maxWidth","minWidth","width","flex"];function dI({initialFreeSpace:e,totalFlexUnits:t,flexColumns:o}){const s=new Set(o.map(l=>l.field)),i={all:{},frozenFields:[],freeze:l=>{const d=i.all[l];d&&d.frozen!==!0&&(i.all[l].frozen=!0,i.frozenFields.push(l))}};function a(){if(i.frozenFields.length===s.size)return;const l={min:{},max:{}};let d=e,p=t,f=0;i.frozenFields.forEach(m=>{d-=i.all[m].computedWidth,p-=i.all[m].flex});for(let m=0;m<o.length;m+=1){const g=o[m];if(i.all[g.field]&&i.all[g.field].frozen===!0)continue;let b=d/p*g.flex;b<g.minWidth?(f+=g.minWidth-b,b=g.minWidth,l.min[g.field]=!0):b>g.maxWidth&&(f+=g.maxWidth-b,b=g.maxWidth,l.max[g.field]=!0),i.all[g.field]={frozen:!1,computedWidth:b,flex:g.flex}}f<0?Object.keys(l.max).forEach(m=>{i.freeze(m)}):f>0?Object.keys(l.min).forEach(m=>{i.freeze(m)}):o.forEach(({field:m})=>{i.freeze(m)}),a()}return a(),i.all}const Nl=(e,t)=>{const o={};let s=0,i=0;const a=[];e.orderedFields.forEach(d=>{const p=I({},e.lookup[d]);if(e.columnVisibilityModel[d]===!1)p.computedWidth=0;else{let f;p.flex&&p.flex>0?(s+=p.flex,f=0,a.push(p)):f=Kr(p.width||no.width,p.minWidth||no.minWidth,p.maxWidth||no.maxWidth),i+=f,p.computedWidth=f}o[d]=p});const l=Math.max(t-i,0);if(s>0&&t>0){const d=dI({initialFreeSpace:l,totalFlexUnits:s,flexColumns:a});Object.keys(d).forEach(p=>{o[p].computedWidth=d[p].computedWidth})}return I({},e,{lookup:o})},pI=(e,t)=>{if(!t)return e;const{orderedFields:o=[],dimensions:s={}}=t,i=Object.keys(s);if(i.length===0&&o.length===0)return e;const a={},l=[];for(let m=0;m<o.length;m+=1){const g=o[m];e.lookup[g]&&(a[g]=!0,l.push(g))}const d=l.length===0?e.orderedFields:[...l,...e.orderedFields.filter(m=>!a[m])],p=I({},e.lookup);for(let m=0;m<i.length;m+=1){const g=i[m],v=I({},p[g],{hasBeenResized:!0});Object.entries(s[g]).forEach(([b,C])=>{v[b]=C===-1?1/0:C}),p[g]=v}return I({},e,{orderedFields:d,lookup:p})};function Kd(e,t){let o=e[bm];return t&&e[t]&&(o=e[t]),o}const Or=({apiRef:e,columnsToUpsert:t,initialState:o,columnTypes:s,columnVisibilityModel:i=eo(e),keepOnlyColumnsToUpsert:a=!1})=>{var l,d,p;const f=!e.current.state.columns;let m;if(f)m={orderedFields:[],lookup:{},columnVisibilityModel:i};else{const C=ir(e.current.state);m={orderedFields:a?[]:[...C.orderedFields],lookup:I({},C.lookup),columnVisibilityModel:i}}let g={};a&&!f&&(g=Object.keys(m.lookup).reduce((C,x)=>I({},C,{[x]:!1}),{})),t.forEach(C=>{const{field:x}=C;g[x]=!0;let S=m.lookup[x];S==null?(S=I({},Kd(s,C.type),{field:x,hasBeenResized:!1}),m.orderedFields.push(x)):a&&m.orderedFields.push(x),S&&S.type!==C.type&&(S=I({},Kd(s,C.type),{field:x}));let _=S.hasBeenResized;xm.forEach(P=>{C[P]!==void 0&&(_=!0,C[P]===-1&&(C[P]=1/0))}),m.lookup[x]=I({},S,C,{hasBeenResized:_})}),a&&!f&&Object.keys(m.lookup).forEach(C=>{g[C]||delete m.lookup[C]});const v=e.current.unstable_applyPipeProcessors("hydrateColumns",m),b=pI(v,o);return Nl(b,(l=(d=(p=e.current).getRootDimensions)==null||(d=d.call(p))==null?void 0:d.viewportInnerSize.width)!=null?l:0)},Jd=e=>t=>I({},t,{columns:e});function zl({firstColumnToRender:e,apiRef:t,firstRowToRender:o,lastRowToRender:s,visibleRows:i}){let a=e;for(let l=o;l<s;l+=1)if(i[l]){const p=i[l].id,f=t.current.unstable_getCellColSpanInfo(p,e);f&&f.spannedByColSpan&&(a=f.leftVisibleCellIndex)}return a}function hI({firstColumnIndex:e,minColumnIndex:t,columnBuffer:o,firstRowToRender:s,lastRowToRender:i,apiRef:a,visibleRows:l}){const d=Math.max(e-o,t);return zl({firstColumnToRender:d,apiRef:a,firstRowToRender:s,lastRowToRender:i,visibleRows:l})}function zc(e,t){const o=Yr(e),s=js(e);return Math.floor(t*o)*((s??0)+1)}const wm=oI(),mI=(e,t,o)=>{var s,i,a,l;const d=Or({apiRef:o,columnTypes:wm,columnsToUpsert:t.columns,initialState:(s=t.initialState)==null?void 0:s.columns,columnVisibilityModel:(i=(a=t.columnVisibilityModel)!=null?a:(l=t.initialState)==null||(l=l.columns)==null?void 0:l.columnVisibilityModel)!=null?i:{},keepOnlyColumnsToUpsert:!0});return I({},e,{columns:d})};function fI(e,t){var o,s;const i=Cn(e,"useGridColumns"),a=wm,l=c.useRef(t.columns),d=c.useRef(a);e.current.registerControlState({stateId:"visibleColumns",propModel:t.columnVisibilityModel,propOnChange:t.onColumnVisibilityModelChange,stateSelector:eo,changeEvent:"columnVisibilityModelChange"});const p=c.useCallback(T=>{i.debug("Updating columns state."),e.current.setState(Jd(T)),e.current.forceUpdate(),e.current.publishEvent("columnsChange",T.orderedFields)},[i,e]),f=c.useCallback(T=>fr(e)[T],[e]),m=c.useCallback(()=>po(e),[e]),g=c.useCallback(()=>bn(e),[e]),v=c.useCallback((T,A=!0)=>(A?bn(e):po(e)).findIndex(W=>W.field===T),[e]),b=c.useCallback(T=>{const A=v(T);return Ur(e)[A]},[e,v]),C=c.useCallback(T=>{eo(e)!==T&&(e.current.setState(B=>I({},B,{columns:Or({apiRef:e,columnTypes:a,columnsToUpsert:[],initialState:void 0,columnVisibilityModel:T,keepOnlyColumnsToUpsert:!1})})),e.current.forceUpdate())},[e,a]),x=c.useCallback(T=>{const A=Or({apiRef:e,columnTypes:a,columnsToUpsert:T,initialState:void 0,keepOnlyColumnsToUpsert:!1});p(A)},[e,p,a]),S=c.useCallback((T,A)=>{var B;const W=eo(e),D=(B=W[T])!=null?B:!0;if(A!==D){const V=I({},W,{[T]:A});e.current.setColumnVisibilityModel(V)}},[e]),_=c.useCallback(T=>Io(e).findIndex(B=>B===T),[e]),P=c.useCallback((T,A)=>{const B=Io(e),W=_(T);if(W===A)return;i.debug(`Moving column ${T} to index ${A}`);const D=[...B],V=D.splice(W,1)[0];D.splice(A,0,V),p(I({},ir(e.current.state),{orderedFields:D}));const Z={column:e.current.getColumn(T),targetIndex:e.current.getColumnIndexRelativeToVisibleColumns(T),oldIndex:W};e.current.publishEvent("columnIndexChange",Z)},[e,i,p,_]),z=c.useCallback((T,A)=>{var B,W;i.debug(`Updating column ${T} width to ${A}`);const D=ir(e.current.state),V=D.lookup[T],Z=I({},V,{width:A,hasBeenResized:!0});p(Nl(I({},D,{lookup:I({},D.lookup,{[T]:Z})}),(B=(W=e.current.getRootDimensions())==null?void 0:W.viewportInnerSize.width)!=null?B:0)),e.current.publishEvent("columnWidthChange",{element:e.current.getColumnHeaderElement(T),colDef:Z,width:A})},[e,i,p]),R={getColumn:f,getAllColumns:m,getColumnIndex:v,getColumnPosition:b,getVisibleColumns:g,getColumnIndexRelativeToVisibleColumns:_,updateColumns:x,setColumnVisibilityModel:C,setColumnVisibility:S,setColumnWidth:z},j={setColumnIndex:P};lt(e,R,"public"),lt(e,j,t.signature===ho.DataGrid?"private":"public");const k=c.useCallback((T,A)=>{var B,W;const D={},V=eo(e);(!A.exportOnlyDirtyModels||t.columnVisibilityModel!=null||Object.keys((B=(W=t.initialState)==null||(W=W.columns)==null?void 0:W.columnVisibilityModel)!=null?B:{}).length>0||Object.keys(V).length>0)&&(D.columnVisibilityModel=V),D.orderedFields=Io(e);const K=po(e),Q={};return K.forEach(Y=>{if(Y.hasBeenResized){const ee={};xm.forEach(q=>{let te=Y[q];te===1/0&&(te=-1),ee[q]=te}),Q[Y.field]=ee}}),Object.keys(Q).length>0&&(D.dimensions=Q),I({},T,{columns:D})},[e,t.columnVisibilityModel,(o=t.initialState)==null?void 0:o.columns]),M=c.useCallback((T,A)=>{var B;const W=(B=A.stateToRestore.columns)==null?void 0:B.columnVisibilityModel,D=A.stateToRestore.columns;if(W==null&&D==null)return T;const V=Or({apiRef:e,columnTypes:a,columnsToUpsert:[],initialState:D,columnVisibilityModel:W,keepOnlyColumnsToUpsert:!1});return e.current.setState(Jd(V)),D!=null&&e.current.publishEvent("columnsChange",V.orderedFields),T},[e,a]),E=c.useCallback((T,A)=>{if(A===ro.columns){var B;const W=t.slots.columnsPanel;return h.jsx(W,I({},(B=t.slotProps)==null?void 0:B.columnsPanel))}return T},[t.slots.columnsPanel,(s=t.slotProps)==null?void 0:s.columnsPanel]),$=c.useCallback(T=>t.disableColumnSelector?T:[...T,"columnMenuColumnsItem"],[t.disableColumnSelector]);tn(e,"columnMenu",$),tn(e,"exportState",k),tn(e,"restoreState",M),tn(e,"preferencePanel",E);const N=c.useRef(null);Ve(e,"viewportInnerSizeChange",T=>{N.current!==T.width&&(N.current=T.width,p(Nl(ir(e.current.state),T.width)))});const G=c.useCallback(()=>{i.info("Columns pipe processing have changed, regenerating the columns");const T=Or({apiRef:e,columnTypes:a,columnsToUpsert:[],initialState:void 0,keepOnlyColumnsToUpsert:!1});p(T)},[e,i,p,a]);Nc(e,"hydrateColumns",G);const H=c.useRef(!0);c.useEffect(()=>{if(H.current){H.current=!1;return}if(i.info(`GridColumns have changed, new length ${t.columns.length}`),l.current===t.columns&&d.current===a)return;const T=Or({apiRef:e,columnTypes:a,initialState:void 0,columnsToUpsert:t.columns,keepOnlyColumnsToUpsert:!0});l.current=t.columns,d.current=a,p(T)},[i,e,p,t.columns,a]),c.useEffect(()=>{t.columnVisibilityModel!==void 0&&e.current.setColumnVisibilityModel(t.columnVisibilityModel)},[e,i,t.columnVisibilityModel])}const gI=.7,vI=1.3,Sm={compact:gI,comfortable:vI,standard:1},yI=(e,t)=>I({},e,{density:{value:t.density,factor:Sm[t.density]}}),bI=(e,t)=>{const o=Cn(e,"useDensity"),s=c.useCallback(a=>{o.debug(`Set grid density to ${a}`),e.current.setState(l=>{const d=Sc(l),p={value:a,factor:Sm[a]};return lr(d,p)?l:I({},l,{density:p})}),e.current.forceUpdate()},[o,e]);c.useEffect(()=>{e.current.setDensity(t.density)},[e,t.density]),lt(e,{setDensity:s},"public")};function CI(e,t="csv",o=document.title||"untitled"){const s=`${o}.${t}`;if("download"in HTMLAnchorElement.prototype){const i=URL.createObjectURL(e),a=document.createElement("a");a.href=i,a.download=s,a.click(),setTimeout(()=>{URL.revokeObjectURL(i)});return}throw new Error("MUI: exportAs not supported")}const _m=({apiRef:e,options:t})=>{const o=po(e);return t.fields?t.fields.reduce((i,a)=>{const l=o.find(d=>d.field===a);return l&&i.push(l),i},[]):(t.allColumns?o:bn(e)).filter(i=>!i.disableExport)},xI=({apiRef:e})=>{var t,o;const s=Px(e),i=Qn(e),a=e.current.getSelectedRows(),l=s.filter(m=>i[m].type!=="footer"),d=Xr(e),p=(d==null||(t=d.top)==null?void 0:t.map(m=>m.id))||[],f=(d==null||(o=d.bottom)==null?void 0:o.map(m=>m.id))||[];return l.unshift(...p),l.push(...f),a.size>0?l.filter(m=>a.has(m)):l},wI=(e,t)=>{const o=Cn(e,"useGridCsvExport"),s=t.unstable_ignoreValueFormatterDuringExport,i=(typeof s=="object"?s==null?void 0:s.csvExport:s)||!1,a=c.useCallback((f={})=>{var m,g,v,b,C;o.debug("Get data as CSV");const x=_m({apiRef:e,options:f}),_=((m=f.getRowsToExport)!=null?m:xI)({apiRef:e});return sI({columns:x,rowIds:_,csvOptions:{delimiter:f.delimiter||",",shouldAppendQuotes:(g=f.shouldAppendQuotes)!=null?g:!0,includeHeaders:(v=f.includeHeaders)!=null?v:!0,includeColumnGroupsHeaders:(b=f.includeColumnGroupsHeaders)!=null?b:!0,escapeFormulas:(C=f.escapeFormulas)!=null?C:!0},ignoreValueFormatter:i,apiRef:e})},[o,e,i]),l=c.useCallback(f=>{o.debug("Export data as CSV");const m=a(f),g=new Blob([f!=null&&f.utf8WithBom?new Uint8Array([239,187,191]):"",m],{type:"text/csv"});CI(g,"csv",f==null?void 0:f.fileName)},[o,a]);lt(e,{getDataAsCsv:a,exportDataAsCsv:l},"public");const p=c.useCallback((f,m)=>{var g;return(g=m.csvOptions)!=null&&g.disableToolbarButton?f:[...f,{component:h.jsx(K_,{options:m.csvOptions}),componentName:"csvExport"}]},[]);tn(e,"exportMenu",p)},ki=(e,t,o)=>{var s;let i=e.paginationModel;const a=e.rowCount,l=(s=o==null?void 0:o.pageSize)!=null?s:i.pageSize,d=qh(a,l);o&&((o==null?void 0:o.page)!==i.page||(o==null?void 0:o.pageSize)!==i.pageSize)&&(i=o);const p=FS(i.page,d);return p!==i.page&&(i=I({},i,{page:p})),Yh(i.pageSize,t),i},SI=(e,t)=>{var o;const s=Cn(e,"useGridPaginationModel"),i=Re(e,Yr),a=Math.floor(t.rowHeight*i);e.current.registerControlState({stateId:"paginationModel",propModel:t.paginationModel,propOnChange:t.onPaginationModelChange,stateSelector:Vn,changeEvent:"paginationModelChange"});const l=c.useCallback(x=>{const S=Vn(e);x!==S.page&&(s.debug(`Setting page to ${x}`),e.current.setPaginationModel({page:x,pageSize:S.pageSize}))},[e,s]),d=c.useCallback(x=>{const S=Vn(e);x!==S.pageSize&&(s.debug(`Setting page size to ${x}`),e.current.setPaginationModel({pageSize:x,page:S.page}))},[e,s]),p=c.useCallback(x=>{const S=Vn(e);x!==S&&(s.debug("Setting 'paginationModel' to",x),e.current.setState(_=>I({},_,{pagination:I({},_.pagination,{paginationModel:ki(_.pagination,t.signature,x)})})))},[e,s,t.signature]);lt(e,{setPage:l,setPageSize:d,setPaginationModel:p},"public");const m=c.useCallback((x,S)=>{var _;const P=Vn(e);return!S.exportOnlyDirtyModels||t.paginationModel!=null||((_=t.initialState)==null||(_=_.pagination)==null?void 0:_.paginationModel)!=null||P.page!==0&&P.pageSize!==LS(t.autoPageSize)?I({},x,{pagination:I({},x.pagination,{paginationModel:P})}):x},[e,t.paginationModel,(o=t.initialState)==null||(o=o.pagination)==null?void 0:o.paginationModel,t.autoPageSize]),g=c.useCallback((x,S)=>{var _,P;const z=(_=S.stateToRestore.pagination)!=null&&_.paginationModel?I({},Xh(t.autoPageSize),(P=S.stateToRestore.pagination)==null?void 0:P.paginationModel):Vn(e);return e.current.setState(R=>I({},R,{pagination:I({},R.pagination,{paginationModel:ki(R.pagination,t.signature,z)})})),x},[e,t.autoPageSize,t.signature]);tn(e,"exportState",m),tn(e,"restoreState",g);const v=()=>{var x;const S=Vn(e);(x=e.current.virtualScrollerRef)!=null&&x.current&&e.current.scrollToIndexes({rowIndex:S.page*S.pageSize})},b=c.useCallback(()=>{if(!t.autoPageSize)return;const x=e.current.getRootDimensions()||{viewportInnerSize:{height:0}},S=Nh(e),_=Math.floor((x.viewportInnerSize.height-S.top-S.bottom)/a);e.current.setPageSize(_)},[e,t.autoPageSize,a]),C=c.useCallback(x=>{if(x==null)return;const S=Vn(e),_=NS(e);S.page>_-1&&e.current.setPage(Math.max(0,_-1))},[e]);Ve(e,"viewportInnerSizeChange",b),Ve(e,"paginationModelChange",v),Ve(e,"rowCountChange",C),c.useEffect(()=>{e.current.setState(x=>I({},x,{pagination:I({},x.pagination,{paginationModel:ki(x.pagination,t.signature,t.paginationModel)})}))},[e,t.paginationModel,t.paginationMode,t.signature]),c.useEffect(b,[b])};function _I(){return new Promise(e=>{requestAnimationFrame(()=>{e()})})}function PI(e){const t=document.createElement("iframe");return t.style.position="absolute",t.style.width="0px",t.style.height="0px",t.title=e||document.title,t}const II=(e,t)=>{const o=Cn(e,"useGridPrintExport"),s=c.useRef(null),i=c.useRef(null),a=c.useRef({}),l=c.useRef([]);c.useEffect(()=>{s.current=$s(e.current.rootElementRef.current)},[e]);const d=c.useCallback((C,x,S)=>new Promise(_=>{const P=_m({apiRef:e,options:{fields:C,allColumns:x}}).map(j=>j.field),z=po(e),R={};z.forEach(j=>{R[j.field]=P.includes(j.field)}),S&&(R[Qr.field]=!0),e.current.setColumnVisibilityModel(R),_()}),[e]),p=c.useCallback(C=>{const S=C({apiRef:e}).map(_=>e.current.getRow(_));e.current.setRows(S)},[e]),f=c.useCallback((C,x)=>{var S,_;const P=I({copyStyles:!0,hideToolbar:!1,hideFooter:!1,includeCheckboxes:!1},x),z=C.contentDocument;if(!z)return;const R=Ds(e.current.state),j=e.current.rootElementRef.current,k=j.cloneNode(!0),M=k.querySelector(`.${J.main}`);M.style.overflow="visible",k.style.contain="size";const $=k.querySelector(`.${J.columnHeaders}`).querySelector(`.${J.columnHeadersInner}`);$.style.width="100%";let N=((S=j.querySelector(`.${J.toolbarContainer}`))==null?void 0:S.offsetHeight)||0,F=((_=j.querySelector(`.${J.footerContainer}`))==null?void 0:_.offsetHeight)||0;if(P.hideToolbar){var G;(G=k.querySelector(`.${J.toolbarContainer}`))==null||G.remove(),N=0}if(P.hideFooter){var H;(H=k.querySelector(`.${J.footerContainer}`))==null||H.remove(),F=0}const T=R.currentPageTotalHeight+zc(e,t.columnHeaderHeight)+N+F;if(k.style.height=`${T}px`,k.style.boxSizing="content-box",x!=null&&x.getRowsToExport){const D=k.querySelector(`.${J.footerContainer}`);D.style.position="absolute",D.style.width="100%",D.style.top=`${T-F}px`}const A=document.createElement("div");A.appendChild(k),z.body.innerHTML=A.innerHTML;const B=typeof P.pageStyle=="function"?P.pageStyle():P.pageStyle;if(typeof B=="string"){const D=z.createElement("style");D.appendChild(z.createTextNode(B)),z.head.appendChild(D)}P.bodyClassName&&z.body.classList.add(...P.bodyClassName.split(" "));const W=[];if(P.copyStyles){const D=j.getRootNode(),Z=(D.constructor.name==="ShadowRoot"?D:s.current).querySelectorAll("style, link[rel='stylesheet']");for(let K=0;K<Z.length;K+=1){const Q=Z[K];if(Q.tagName==="STYLE"){const Y=z.createElement(Q.tagName),ee=Q.sheet;if(ee){let q="";for(let te=0;te<ee.cssRules.length;te+=1)typeof ee.cssRules[te].cssText=="string"&&(q+=`${ee.cssRules[te].cssText}\r
`);Y.appendChild(z.createTextNode(q)),z.head.appendChild(Y)}}else if(Q.getAttribute("href")){const Y=z.createElement(Q.tagName);for(let ee=0;ee<Q.attributes.length;ee+=1){const q=Q.attributes[ee];q&&Y.setAttribute(q.nodeName,q.nodeValue||"")}W.push(new Promise(ee=>{Y.addEventListener("load",()=>ee())})),z.head.appendChild(Y)}}}Promise.all(W).then(()=>{C.contentWindow.print()})},[e,s,t.columnHeaderHeight]),m=c.useCallback(C=>{var x;s.current.body.removeChild(C),e.current.restoreState(i.current||{}),(x=i.current)!=null&&(x=x.columns)!=null&&x.columnVisibilityModel||e.current.setColumnVisibilityModel(a.current),e.current.unstable_setVirtualization(!0),e.current.setRows(l.current),i.current=null,a.current={},l.current=[]},[e]),v={exportDataAsPrint:c.useCallback(async C=>{if(o.debug("Export data as Print"),!e.current.rootElementRef.current)throw new Error("MUI: No grid root element available.");i.current=e.current.exportState(),a.current=eo(e);const x=Po(e);if(l.current=ys(e).map(_=>x[_]),t.pagination){const P={page:0,pageSize:Ah(e)};e.current.setState(z=>I({},z,{pagination:I({},z.pagination,{paginationModel:ki(z.pagination,"DataGridPro",P)})})),e.current.forceUpdate()}await d(C==null?void 0:C.fields,C==null?void 0:C.allColumns,C==null?void 0:C.includeCheckboxes),C!=null&&C.getRowsToExport&&p(C.getRowsToExport),e.current.unstable_setVirtualization(!1),await _I();const S=PI(C==null?void 0:C.fileName);S.onload=()=>{f(S,C),S.contentWindow.matchMedia("print").addEventListener("change",P=>{P.matches===!1&&m(S)})},s.current.body.appendChild(S)},[t,o,e,f,m,d,p])};lt(e,v,"public");const b=c.useCallback((C,x)=>{var S;return(S=x.printOptions)!=null&&S.disableToolbarButton?C:[...C,{component:h.jsx(J_,{options:x.printOptions}),componentName:"printExport"}]},[]);tn(e,"exportMenu",b)},TI=(e,t,o)=>{var s,i,a;const l=(s=(i=t.filterModel)!=null?i:(a=t.initialState)==null||(a=a.filter)==null?void 0:a.filterModel)!=null?s:Es();return I({},e,{filter:{filterModel:hm(l,t.disableMultipleColumnsFiltering,o),filteredRowsLookup:{},filteredDescendantCountLookup:{}},visibleRowsLookup:{}})},kI=e=>e.filteredRowsLookup;function qd(e,t){return e.current.applyStrategyProcessor("visibleRowsLookupCreation",{tree:t.rows.tree,filteredRowsLookup:t.filter.filteredRowsLookup})}function MI(){return pa(Object.values)}const AI=(e,t)=>{var o,s;const i=Cn(e,"useGridFilter");e.current.registerControlState({stateId:"filter",propModel:t.filterModel,propOnChange:t.onFilterModelChange,stateSelector:mn,changeEvent:"filterModelChange"});const a=c.useCallback(()=>{e.current.setState(N=>{const F=mn(N,e.current.instanceId),G=t.filterMode==="client"?vP(F,e,t.disableEval):null,H=e.current.applyStrategyProcessor("filtering",{isRowMatchingFilters:G,filterModel:F??Es()}),T=I({},N,{filter:I({},N.filter,H)}),A=qd(e,T);return I({},T,{visibleRowsLookup:A})}),e.current.publishEvent("filteredRowsSet")},[e,t.filterMode,t.disableEval]),l=c.useCallback((N,F)=>F==null||F.filterable===!1||t.disableColumnFilter?N:[...N,"columnMenuFilterItem"],[t.disableColumnFilter]),d=c.useCallback(()=>{a(),e.current.forceUpdate()},[e,a]),p=c.useCallback(N=>{const F=mn(e),G=[...F.items],H=G.findIndex(T=>T.id===N.id);H===-1?G.push(N):G[H]=N,e.current.setFilterModel(I({},F,{items:G}),"upsertFilterItem")},[e]),f=c.useCallback(N=>{const F=mn(e),G=[...F.items];N.forEach(H=>{const T=N.findIndex(A=>A.id===H.id);T===-1?G.push(H):G[T]=H}),e.current.setFilterModel(I({},F,{items:N}),"upsertFilterItems")},[e]),m=c.useCallback(N=>{const F=mn(e),G=F.items.filter(H=>H.id!==N.id);G.length!==F.items.length&&e.current.setFilterModel(I({},F,{items:G}),"deleteFilterItem")},[e]),g=c.useCallback((N,F,G)=>{if(i.debug("Displaying filter panel"),N){const H=mn(e),T=H.items.filter(D=>{var V;if(D.value!==void 0)return!(Array.isArray(D.value)&&D.value.length===0);const K=(V=e.current.getColumn(D.field).filterOperators)==null?void 0:V.find(Y=>Y.value===D.operator);return!(typeof(K==null?void 0:K.requiresFilterValue)>"u"?!0:K==null?void 0:K.requiresFilterValue)});let A;const B=T.find(D=>D.field===N),W=e.current.getColumn(N);B?A=T:t.disableMultipleColumnsFiltering?A=[Ll({field:N,operator:W.filterOperators[0].value},e)]:A=[...T,Ll({field:N,operator:W.filterOperators[0].value},e)],e.current.setFilterModel(I({},H,{items:A}))}e.current.showPreferences(ro.filters,F,G)},[e,i,t.disableMultipleColumnsFiltering]),v=c.useCallback(()=>{i.debug("Hiding filter panel"),e.current.hidePreferences()},[e,i]),b=c.useCallback(N=>{const F=mn(e);F.logicOperator!==N&&e.current.setFilterModel(I({},F,{logicOperator:N}),"changeLogicOperator")},[e]),C=c.useCallback(N=>{const F=mn(e);lr(F.quickFilterValues,N)||e.current.setFilterModel(I({},F,{quickFilterValues:[...N]}))},[e]),x=c.useCallback((N,F)=>{mn(e)!==N&&(i.debug("Setting filter model"),e.current.updateControlState("filter",zd(N,t.disableMultipleColumnsFiltering,e),F),e.current.unstable_applyFilters())},[e,i,t.disableMultipleColumnsFiltering]),S={setFilterLogicOperator:b,unstable_applyFilters:d,deleteFilterItem:m,upsertFilterItem:p,upsertFilterItems:f,setFilterModel:x,showFilterPanel:g,hideFilterPanel:v,setQuickFilterValues:C,ignoreDiacritics:t.ignoreDiacritics};lt(e,S,"public");const _=c.useCallback((N,F)=>{var G;const H=mn(e);return!F.exportOnlyDirtyModels||t.filterModel!=null||((G=t.initialState)==null||(G=G.filter)==null?void 0:G.filterModel)!=null||!lr(H,Es())?I({},N,{filter:{filterModel:H}}):N},[e,t.filterModel,(o=t.initialState)==null||(o=o.filter)==null?void 0:o.filterModel]),P=c.useCallback((N,F)=>{var G;const H=(G=F.stateToRestore.filter)==null?void 0:G.filterModel;return H==null?N:(e.current.updateControlState("filter",zd(H,t.disableMultipleColumnsFiltering,e),"restoreState"),I({},N,{callbacks:[...N.callbacks,e.current.unstable_applyFilters]}))},[e,t.disableMultipleColumnsFiltering]),z=c.useCallback((N,F)=>{if(F===ro.filters){var G;const H=t.slots.filterPanel;return h.jsx(H,I({},(G=t.slotProps)==null?void 0:G.filterPanel))}return N},[t.slots.filterPanel,(s=t.slotProps)==null?void 0:s.filterPanel]),{getRowId:R}=t,j=pc(MI),k=c.useCallback(N=>{if(t.filterMode!=="client"||!N.isRowMatchingFilters)return{filteredRowsLookup:{},filteredDescendantCountLookup:{}};const F=Po(e),G={},{isRowMatchingFilters:H}=N,T={},A={passingFilterItems:null,passingQuickFilterValues:null},B=j.current(e.current.state.rows.dataRowIdToModelLookup);for(let V=0;V<B.length;V+=1){const Z=B[V],K=R?R(Z):Z.id;H(Z,void 0,A);const Q=bP([A.passingFilterItems],[A.passingQuickFilterValues],N.filterModel,e,T);G[K]=Q}const W="auto-generated-group-footer-root";return F[W]&&(G[W]=!0),{filteredRowsLookup:G,filteredDescendantCountLookup:{}}},[e,t.filterMode,R,j]);tn(e,"columnMenu",l),tn(e,"exportState",_),tn(e,"restoreState",P),tn(e,"preferencePanel",z),Ji(e,pr,"filtering",k),Ji(e,pr,"visibleRowsLookupCreation",kI);const M=c.useCallback(()=>{i.debug("onColUpdated - GridColumns changed, applying filters");const N=mn(e),F=dx(e),G=N.items.filter(H=>H.field&&F[H.field]);G.length<N.items.length&&e.current.setFilterModel(I({},N,{items:G}))},[e,i]),E=c.useCallback(N=>{N==="filtering"&&e.current.unstable_applyFilters()},[e]),$=c.useCallback(()=>{e.current.setState(N=>I({},N,{visibleRowsLookup:qd(e,N)})),e.current.forceUpdate()},[e]);Ve(e,"rowsSet",a),Ve(e,"columnsChange",M),Ve(e,"activeStrategyProcessorChange",E),Ve(e,"rowExpansionChange",$),Ve(e,"columnVisibilityModelChange",()=>{const N=mn(e);N.quickFilterValues&&N.quickFilterExcludeHiddenColumns&&e.current.unstable_applyFilters()}),Vs(()=>{e.current.unstable_applyFilters()}),gn(()=>{t.filterModel!==void 0&&e.current.setFilterModel(t.filterModel)},[e,i,t.filterModel])},EI=e=>I({},e,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null},tabIndex:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}}),DI=(e,t)=>{const o=Cn(e,"useGridFocus"),s=c.useRef(null),i=c.useCallback((M,E)=>{M&&e.current.getRow(M.id)&&e.current.publishEvent("cellFocusOut",e.current.getCellParams(M.id,M.field),E)},[e]),a=c.useCallback((M,E)=>{const $=Ln(e);($==null?void 0:$.id)===M&&($==null?void 0:$.field)===E||(e.current.setState(N=>(o.debug(`Focusing on cell with id=${M} and field=${E}`),I({},N,{tabIndex:{cell:{id:M,field:E},columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null},focus:{cell:{id:M,field:E},columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}}))),e.current.forceUpdate(),e.current.getRow(M)&&($&&i($,{}),e.current.publishEvent("cellFocusIn",e.current.getCellParams(M,E))))},[e,o,i]),l=c.useCallback((M,E={})=>{const $=Ln(e);i($,E),e.current.setState(N=>(o.debug(`Focusing on column header with colIndex=${M}`),I({},N,{tabIndex:{columnHeader:{field:M},columnHeaderFilter:null,cell:null,columnGroupHeader:null},focus:{columnHeader:{field:M},columnHeaderFilter:null,cell:null,columnGroupHeader:null}}))),e.current.forceUpdate()},[e,o,i]),d=c.useCallback((M,E={})=>{const $=Ln(e);i($,E),e.current.setState(N=>(o.debug(`Focusing on column header filter with colIndex=${M}`),I({},N,{tabIndex:{columnHeader:null,columnHeaderFilter:{field:M},cell:null,columnGroupHeader:null},focus:{columnHeader:null,columnHeaderFilter:{field:M},cell:null,columnGroupHeader:null}}))),e.current.forceUpdate()},[e,o,i]),p=c.useCallback((M,E,$={})=>{const N=Ln(e);N&&e.current.publishEvent("cellFocusOut",e.current.getCellParams(N.id,N.field),$),e.current.setState(F=>I({},F,{tabIndex:{columnGroupHeader:{field:M,depth:E},columnHeader:null,columnHeaderFilter:null,cell:null},focus:{columnGroupHeader:{field:M,depth:E},columnHeader:null,columnHeaderFilter:null,cell:null}})),e.current.forceUpdate()},[e]),f=c.useCallback(()=>Bi(e),[e]),m=c.useCallback((M,E,$)=>{let N=e.current.getColumnIndex(E);const F=bn(e),G=Ui(e,{pagination:t.pagination,paginationMode:t.paginationMode}),H=Xr(e),T=[].concat(H.top||[],G.rows,H.bottom||[]);let A=T.findIndex(V=>V.id===M);$==="right"?N+=1:$==="left"?N-=1:A+=1,N>=F.length?(A+=1,A<T.length&&(N=0)):N<0&&(A-=1,A>=0&&(N=F.length-1)),A=Kr(A,0,T.length-1);const B=T[A];if(!B)return;const W=e.current.unstable_getCellColSpanInfo(B.id,N);W&&W.spannedByColSpan&&($==="left"||$==="below"?N=W.leftVisibleCellIndex:$==="right"&&(N=W.rightVisibleCellIndex)),N=Kr(N,0,F.length-1);const D=F[N];e.current.setCellFocus(B.id,D.field)},[e,t.pagination,t.paginationMode]),g=c.useCallback(({id:M,field:E})=>{e.current.setCellFocus(M,E)},[e]),v=c.useCallback((M,E)=>{E.key==="Enter"||E.key==="Tab"||E.key==="Shift"||Wi(E.key)||e.current.setCellFocus(M.id,M.field)},[e]),b=c.useCallback(({field:M},E)=>{E.target===E.currentTarget&&e.current.setColumnHeaderFocus(M,E)},[e]),C=c.useCallback(({fields:M,depth:E},$)=>{if($.target!==$.currentTarget)return;const N=Bi(e);N!==null&&N.depth===E&&M.includes(N.field)||e.current.setColumnGroupHeaderFocus(M[0],E,$)},[e]),x=c.useCallback((M,E)=>{var $;($=E.relatedTarget)!=null&&$.className.includes(J.columnHeader)||(o.debug("Clearing focus"),e.current.setState(N=>I({},N,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}})))},[o,e]),S=c.useCallback(M=>{s.current=M},[]),_=c.useCallback(M=>{const E=s.current;s.current=null;const $=Ln(e);if(!e.current.unstable_applyPipeProcessors("canUpdateFocus",!0,{event:M,cell:E}))return;if(!$){E&&e.current.setCellFocus(E.id,E.field);return}if((E==null?void 0:E.id)===$.id&&(E==null?void 0:E.field)===$.field)return;const F=e.current.getCellElement($.id,$.field);F!=null&&F.contains(M.target)||(E?e.current.setCellFocus(E.id,E.field):(e.current.setState(G=>I({},G,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}})),e.current.forceUpdate(),i($,M)))},[e,i]),P=c.useCallback(M=>{if(M.cellMode==="view")return;const E=Ln(e);((E==null?void 0:E.id)!==M.id||(E==null?void 0:E.field)!==M.field)&&e.current.setCellFocus(M.id,M.field)},[e]),z=c.useCallback(()=>{const M=Ln(e);M&&!e.current.getRow(M.id)&&e.current.setState(E=>I({},E,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}}))},[e]),R=to(()=>{const M=Ln(e);if(!M)return;const E=Ui(e,{pagination:t.pagination,paginationMode:t.paginationMode});if(E.rows.find(F=>F.id===M.id))return;const N=bn(e);e.current.setState(F=>I({},F,{tabIndex:{cell:{id:E.rows[0].id,field:N[0].field},columnGroupHeader:null,columnHeader:null,columnHeaderFilter:null}}))}),j={setCellFocus:a,setColumnHeaderFocus:l,setColumnHeaderFilterFocus:d},k={moveFocusToRelativeCell:m,setColumnGroupHeaderFocus:p,getColumnGroupHeaderFocus:f};lt(e,j,"public"),lt(e,k,"private"),c.useEffect(()=>{const M=$s(e.current.rootElementRef.current);return M.addEventListener("mouseup",_),()=>{M.removeEventListener("mouseup",_)}},[e,_]),Ve(e,"columnHeaderBlur",x),Ve(e,"cellDoubleClick",g),Ve(e,"cellMouseDown",S),Ve(e,"cellKeyDown",v),Ve(e,"cellModeChange",P),Ve(e,"columnHeaderFocus",b),Ve(e,"columnGroupHeaderFocus",C),Ve(e,"rowsSet",z),Ve(e,"paginationModelChange",R)};function RI(e,t){const o=Xr(e)||{};return[...o.top||[],...t,...o.bottom||[]]}const hl=({currentColIndex:e,firstColIndex:t,lastColIndex:o,direction:s})=>{if(s==="rtl"){if(e<o)return e+1}else if(s==="ltr"&&e>t)return e-1;return null},ml=({currentColIndex:e,firstColIndex:t,lastColIndex:o,direction:s})=>{if(s==="rtl"){if(e>t)return e-1}else if(s==="ltr"&&e<o)return e+1;return null},LI=(e,t)=>{const o=Cn(e,"useGridKeyboardNavigation"),s=gr(e,t).rows,i=zt(),a=c.useMemo(()=>RI(e,s),[e,s]),l=t.signature!=="DataGrid"&&t.unstable_headerFilters,d=c.useCallback((_,P,z="left")=>{const R=Zo(e),j=e.current.unstable_getCellColSpanInfo(P,_);j&&j.spannedByColSpan&&(z==="left"?_=j.leftVisibleCellIndex:z==="right"&&(_=j.rightVisibleCellIndex));const k=R.findIndex(E=>E.id===P);o.debug(`Navigating to cell row ${k}, col ${_}`),e.current.scrollToIndexes({colIndex:_,rowIndex:k});const M=e.current.getVisibleColumns()[_].field;e.current.setCellFocus(P,M)},[e,o]),p=c.useCallback((_,P)=>{o.debug(`Navigating to header col ${_}`),e.current.scrollToIndexes({colIndex:_});const z=e.current.getVisibleColumns()[_].field;e.current.setColumnHeaderFocus(z,P)},[e,o]),f=c.useCallback((_,P)=>{o.debug(`Navigating to header filter col ${_}`),e.current.scrollToIndexes({colIndex:_});const z=e.current.getVisibleColumns()[_].field;e.current.setColumnHeaderFilterFocus(z,P)},[e,o]),m=c.useCallback((_,P,z)=>{o.debug(`Navigating to header col ${_}`),e.current.scrollToIndexes({colIndex:_});const{field:R}=e.current.getVisibleColumns()[_];e.current.setColumnGroupHeaderFocus(R,P,z)},[e,o]),g=c.useCallback(_=>{var P;return(P=a[_])==null?void 0:P.id},[a]),v=c.useCallback((_,P)=>{const z=P.currentTarget.querySelector(`.${J.columnHeaderTitleContainerContent}`);if(!!z&&z.contains(P.target)&&_.field!==Qr.field||!e.current.getRootDimensions())return;const k=e.current.getViewportPageSize(),M=_.field?e.current.getColumnIndex(_.field):0,E=a.length>0?0:null,$=a.length-1,N=0,F=bn(e).length-1,G=js(e);let H=!0;switch(P.key){case"ArrowDown":{E!==null&&(l?f(M,P):d(M,g(E)));break}case"ArrowRight":{const T=ml({currentColIndex:M,firstColIndex:N,lastColIndex:F,direction:i.direction});T!==null&&p(T,P);break}case"ArrowLeft":{const T=hl({currentColIndex:M,firstColIndex:N,lastColIndex:F,direction:i.direction});T!==null&&p(T,P);break}case"ArrowUp":{G>0&&m(M,G-1,P);break}case"PageDown":{E!==null&&$!==null&&d(M,g(Math.min(E+k,$)));break}case"Home":{p(N,P);break}case"End":{p(F,P);break}case"Enter":{(P.ctrlKey||P.metaKey)&&e.current.toggleColumnMenu(_.field);break}case" ":break;default:H=!1}H&&P.preventDefault()},[e,a.length,l,f,d,g,i.direction,p,m]),b=c.useCallback((_,P)=>{if(!e.current.getRootDimensions())return;const R=KS(e)===_.field,j=JS(e)===_.field;if(R||j||!Wi(P.key))return;const k=e.current.getViewportPageSize(),M=_.field?e.current.getColumnIndex(_.field):0,E=0,$=a.length-1,N=0,F=bn(e).length-1;let G=!0;switch(P.key){case"ArrowDown":{const H=g(E);H!=null&&d(M,H);break}case"ArrowRight":{const H=ml({currentColIndex:M,firstColIndex:N,lastColIndex:F,direction:i.direction});H!==null&&f(H,P);break}case"ArrowLeft":{const H=hl({currentColIndex:M,firstColIndex:N,lastColIndex:F,direction:i.direction});H!==null?f(H,P):e.current.setColumnHeaderFilterFocus(_.field,P);break}case"ArrowUp":{p(M,P);break}case"PageDown":{$!==null&&d(M,g(Math.min(E+k,$)));break}case"Home":{f(N,P);break}case"End":{f(F,P);break}case" ":break;default:G=!1}G&&P.preventDefault()},[e,a.length,f,i.direction,p,d,g]),C=c.useCallback((_,P)=>{if(!e.current.getRootDimensions())return;const R=Bi(e);if(R===null)return;const{field:j,depth:k}=R,{fields:M,depth:E,maxDepth:$}=_,N=e.current.getViewportPageSize(),F=e.current.getColumnIndex(j),G=j?e.current.getColumnIndex(j):0,H=0,T=a.length-1,A=0,B=bn(e).length-1;let W=!0;switch(P.key){case"ArrowDown":{E===$-1?p(F,P):m(F,k+1,P);break}case"ArrowUp":{E>0&&m(F,k-1,P);break}case"ArrowRight":{const D=M.length-M.indexOf(j)-1;F+D+1<=B&&m(F+D+1,k,P);break}case"ArrowLeft":{const D=M.indexOf(j);F-D-1>=A&&m(F-D-1,k,P);break}case"PageDown":{T!==null&&d(G,g(Math.min(H+N,T)));break}case"Home":{m(A,k,P);break}case"End":{m(B,k,P);break}case" ":break;default:W=!1}W&&P.preventDefault()},[e,a.length,p,m,d,g]),x=c.useCallback((_,P)=>{if(Gs(P))return;const z=e.current.getCellParams(_.id,_.field);if(z.cellMode===At.Edit||!Wi(P.key)||!e.current.unstable_applyPipeProcessors("canUpdateFocus",!0,{event:P,cell:z}))return;const j=e.current.getRootDimensions();if(a.length===0||!j)return;const k=i.direction,M=e.current.getViewportPageSize(),E=_.field?e.current.getColumnIndex(_.field):0,$=a.findIndex(A=>A.id===_.id),N=0,F=a.length-1,G=0,H=bn(e).length-1;let T=!0;switch(P.key){case"ArrowDown":{$<F&&d(E,g($+1));break}case"ArrowUp":{$>N?d(E,g($-1)):l?f(E,P):p(E,P);break}case"ArrowRight":{const A=ml({currentColIndex:E,firstColIndex:G,lastColIndex:H,direction:k});A!==null&&d(A,g($),k==="rtl"?"left":"right");break}case"ArrowLeft":{const A=hl({currentColIndex:E,firstColIndex:G,lastColIndex:H,direction:k});A!==null&&d(A,g($),k==="rtl"?"right":"left");break}case"Tab":{P.shiftKey&&E>G?d(E-1,g($),"left"):!P.shiftKey&&E<H&&d(E+1,g($),"right");break}case" ":{if(_.field===Fc)break;const B=_.colDef;if(B&&B.type==="treeDataGroup")break;!P.shiftKey&&$<F&&d(E,g(Math.min($+M,F)));break}case"PageDown":{$<F&&d(E,g(Math.min($+M,F)));break}case"PageUp":{const A=Math.max($-M,N);A!==$&&A>=N?d(E,g(A)):p(E,P);break}case"Home":{P.ctrlKey||P.metaKey||P.shiftKey?d(G,g(N)):d(G,g($));break}case"End":{P.ctrlKey||P.metaKey||P.shiftKey?d(H,g(F)):d(H,g($));break}default:T=!1}T&&P.preventDefault()},[e,a,i.direction,d,g,l,f,p]),S=c.useCallback((_,{event:P})=>P.key===" "?!1:_,[]);tn(e,"canStartEditing",S),Ve(e,"columnHeaderKeyDown",v),Ve(e,"headerFilterKeyDown",b),Ve(e,"columnGroupHeaderKeyDown",C),Ve(e,"cellKeyDown",x)},FI=(e,t)=>{var o;const s=Cn(e,"useGridRowCount"),i=Re(e,Eh),a=Re(e,$r);e.current.registerControlState({stateId:"paginationRowCount",propModel:t.rowCount,propOnChange:t.onRowCountChange,stateSelector:$r,changeEvent:"rowCountChange"});const d={setRowCount:c.useCallback(m=>{a!==m&&(s.debug("Setting 'rowCount' to",m),e.current.setState(g=>I({},g,{pagination:I({},g.pagination,{rowCount:m})})))},[e,s,a])};lt(e,d,"public");const p=c.useCallback((m,g)=>{var v;const b=$r(e);return!g.exportOnlyDirtyModels||t.rowCount!=null||((v=t.initialState)==null||(v=v.pagination)==null?void 0:v.rowCount)!=null?I({},m,{pagination:I({},m.pagination,{rowCount:b})}):m},[e,t.rowCount,(o=t.initialState)==null||(o=o.pagination)==null?void 0:o.rowCount]),f=c.useCallback((m,g)=>{var v;const b=(v=g.stateToRestore.pagination)!=null&&v.rowCount?g.stateToRestore.pagination.rowCount:$r(e);return e.current.setState(C=>I({},C,{pagination:I({},C.pagination,{rowCount:b})})),m},[e]);tn(e,"exportState",p),tn(e,"restoreState",f),c.useEffect(()=>{},[t.rowCount,t.paginationMode]),c.useEffect(()=>{t.paginationMode==="client"?e.current.setRowCount(i):t.rowCount!=null&&e.current.setRowCount(t.rowCount)},[e,i,t.paginationMode,t.rowCount])},OI=(e,t)=>{var o,s,i,a,l;const d=I({},Xh(t.autoPageSize),(o=t.paginationModel)!=null?o:(s=t.initialState)==null||(s=s.pagination)==null?void 0:s.paginationModel);Yh(d.pageSize,t.signature);const p=(i=(a=t.rowCount)!=null?a:(l=t.initialState)==null||(l=l.pagination)==null?void 0:l.rowCount)!=null?i:0;return I({},e,{pagination:{paginationModel:d,rowCount:p}})},NI=(e,t)=>{SI(e,t),FI(e,t)},zI=(e,t)=>{var o,s;return I({},e,{preferencePanel:(o=(s=t.initialState)==null?void 0:s.preferencePanel)!=null?o:{open:!1}})},$I=(e,t)=>{var o;const s=Cn(e,"useGridPreferencesPanel"),i=c.useRef(),a=c.useRef(),l=c.useCallback(()=>{s.debug("Hiding Preferences Panel");const v=dr(e.current.state);v.openedPanelValue&&e.current.publishEvent("preferencePanelClose",{openedPanelValue:v.openedPanelValue}),e.current.setState(b=>I({},b,{preferencePanel:{open:!1}})),e.current.forceUpdate()},[e,s]),d=c.useCallback(()=>{a.current=setTimeout(()=>clearTimeout(i.current),0)},[]),p=c.useCallback(()=>{i.current=setTimeout(l,100)},[l]),f=c.useCallback((v,b,C)=>{s.debug("Opening Preferences Panel"),d(),e.current.setState(x=>I({},x,{preferencePanel:I({},x.preferencePanel,{open:!0,openedPanelValue:v,panelId:b,labelId:C})})),e.current.publishEvent("preferencePanelOpen",{openedPanelValue:v}),e.current.forceUpdate()},[s,d,e]);lt(e,{showPreferences:f,hidePreferences:p},"public");const m=c.useCallback((v,b)=>{var C;const x=dr(e.current.state);return!b.exportOnlyDirtyModels||((C=t.initialState)==null?void 0:C.preferencePanel)!=null||x.open?I({},v,{preferencePanel:x}):v},[e,(o=t.initialState)==null?void 0:o.preferencePanel]),g=c.useCallback((v,b)=>{const C=b.stateToRestore.preferencePanel;return C!=null&&e.current.setState(x=>I({},x,{preferencePanel:C})),v},[e]);tn(e,"exportState",m),tn(e,"restoreState",g),c.useEffect(()=>()=>{clearTimeout(i.current),clearTimeout(a.current)},[])},BI=["id","field"],HI=["id","field"],jI=go(["MUI: A call to `processRowUpdate` threw an error which was not handled because `onProcessRowUpdateError` is missing.","To handle the error pass a callback to the `onProcessRowUpdateError` prop, e.g. `<DataGrid onProcessRowUpdateError={(error) => ...} />`.","For more detail, see http://mui.com/components/data-grid/editing/#server-side-persistence."],"error"),GI=(e,t)=>{const[o,s]=c.useState({}),i=c.useRef(o),a=c.useRef({}),{processRowUpdate:l,onProcessRowUpdateError:d,cellModesModel:p,onCellModesModelChange:f}=t,m=T=>(...A)=>{t.editMode===fo.Cell&&T(...A)},g=c.useCallback((T,A)=>{const B=e.current.getCellParams(T,A);if(!e.current.isCellEditable(B))throw new Error(`MUI: The cell with id=${T} and field=${A} is not editable.`)},[e]),v=c.useCallback((T,A,B)=>{if(e.current.getCellMode(T,A)!==B)throw new Error(`MUI: The cell with id=${T} and field=${A} is not in ${B} mode.`)},[e]),b=c.useCallback((T,A)=>{if(!T.isEditable||T.cellMode===At.Edit)return;const B=I({},T,{reason:wo.cellDoubleClick});e.current.publishEvent("cellEditStart",B,A)},[e]),C=c.useCallback((T,A)=>{if(T.cellMode===At.View||e.current.getCellMode(T.id,T.field)===At.View)return;const B=I({},T,{reason:Yn.cellFocusOut});e.current.publishEvent("cellEditStop",B,A)},[e]),x=c.useCallback((T,A)=>{if(T.cellMode===At.Edit){if(A.which===229)return;let B;if(A.key==="Escape"?B=Yn.escapeKeyDown:A.key==="Enter"?B=Yn.enterKeyDown:A.key==="Tab"&&(B=A.shiftKey?Yn.shiftTabKeyDown:Yn.tabKeyDown,A.preventDefault()),B){const W=I({},T,{reason:B});e.current.publishEvent("cellEditStop",W,A)}}else if(T.isEditable){let B;if(!e.current.unstable_applyPipeProcessors("canStartEditing",!0,{event:A,cellParams:T,editMode:"cell"}))return;if(Gh(A)?B=wo.printableKeyDown:(A.ctrlKey||A.metaKey)&&A.key==="v"?B=wo.pasteKeyDown:A.key==="Enter"?B=wo.enterKeyDown:(A.key==="Delete"||A.key==="Backspace")&&(B=wo.deleteKeyDown),B){const D=I({},T,{reason:B,key:A.key});e.current.publishEvent("cellEditStart",D,A)}}},[e]),S=c.useCallback(T=>{const{id:A,field:B,reason:W}=T,D={id:A,field:B};(W===wo.printableKeyDown||W===wo.deleteKeyDown||W===wo.pasteKeyDown)&&(D.deleteValue=!0),e.current.startCellEditMode(D)},[e]),_=c.useCallback(T=>{const{id:A,field:B,reason:W}=T;e.current.runPendingEditCellValueMutation(A,B);let D;W===Yn.enterKeyDown?D="below":W===Yn.tabKeyDown?D="right":W===Yn.shiftTabKeyDown&&(D="left");const V=W==="escapeKeyDown";e.current.stopCellEditMode({id:A,field:B,ignoreModifications:V,cellToFocusAfter:D})},[e]);Ve(e,"cellDoubleClick",m(b)),Ve(e,"cellFocusOut",m(C)),Ve(e,"cellKeyDown",m(x)),Ve(e,"cellEditStart",m(S)),Ve(e,"cellEditStop",m(_)),Ot(e,"cellEditStart",t.onCellEditStart),Ot(e,"cellEditStop",t.onCellEditStop);const P=c.useCallback((T,A)=>{const B=Sn(e.current.state);return B[T]&&B[T][A]?At.Edit:At.View},[e]),z=to(T=>{const A=T!==t.cellModesModel;f&&A&&f(T,{}),!(t.cellModesModel&&A)&&(s(T),i.current=T,e.current.publishEvent("cellModesModelChange",T))}),R=c.useCallback((T,A,B)=>{const W=I({},i.current);if(B!==null)W[T]=I({},W[T],{[A]:I({},B)});else{const D=W[T],V=ze(D,[A].map(Ms));W[T]=V,Object.keys(W[T]).length===0&&delete W[T]}z(W)},[z]),j=c.useCallback((T,A,B)=>{e.current.setState(W=>{const D=I({},W.editRows);return B!==null?D[T]=I({},D[T],{[A]:I({},B)}):(delete D[T][A],Object.keys(D[T]).length===0&&delete D[T]),I({},W,{editRows:D})}),e.current.forceUpdate()},[e]),k=c.useCallback(T=>{const{id:A,field:B}=T,W=ze(T,BI);g(A,B),v(A,B,At.View),R(A,B,I({mode:At.Edit},W))},[g,v,R]),M=to(T=>{const{id:A,field:B,deleteValue:W,initialValue:D}=T;let V=e.current.getCellValue(A,B);(W||D)&&(V=W?"":D),j(A,B,{value:V,error:!1,isProcessingProps:!1}),e.current.setCellFocus(A,B)}),E=c.useCallback(T=>{const{id:A,field:B}=T,W=ze(T,HI);v(A,B,At.Edit),R(A,B,I({mode:At.View},W))},[v,R]),$=to(async T=>{const{id:A,field:B,ignoreModifications:W,cellToFocusAfter:D="none"}=T;v(A,B,At.Edit),e.current.runPendingEditCellValueMutation(A,B);const V=()=>{j(A,B,null),R(A,B,null),D!=="none"&&e.current.moveFocusToRelativeCell(A,B,D)};if(W){V();return}const Z=Sn(e.current.state),{error:K,isProcessingProps:Q}=Z[A][B];if(K||Q){a.current[A][B].mode=At.Edit,R(A,B,{mode:At.Edit});return}const Y=e.current.getRowWithUpdatedValuesFromCellEditing(A,B);if(l){const ee=q=>{a.current[A][B].mode=At.Edit,R(A,B,{mode:At.Edit}),d?d(q):jI()};try{const q=e.current.getRow(A);Promise.resolve(l(Y,q)).then(te=>{e.current.updateRows([te]),V()}).catch(ee)}catch(q){ee(q)}}else e.current.updateRows([Y]),V()}),N=c.useCallback(async T=>{var A;const{id:B,field:W,value:D,debounceMs:V,unstable_skipValueParser:Z}=T;g(B,W),v(B,W,At.Edit);const K=e.current.getColumn(W),Q=e.current.getRow(B);let Y=D;K.valueParser&&!Z&&(Y=K.valueParser(D,e.current.getCellParams(B,W)));let ee=Sn(e.current.state),q=I({},ee[B][W],{value:Y,changeReason:V?"debouncedSetEditCellValue":"setEditCellValue"});if(K.preProcessEditCellProps){const te=D!==ee[B][W].value;q=I({},q,{isProcessingProps:!0}),j(B,W,q),q=await Promise.resolve(K.preProcessEditCellProps({id:B,row:Q,props:q,hasChanged:te}))}return e.current.getCellMode(B,W)===At.View?!1:(ee=Sn(e.current.state),q=I({},q,{isProcessingProps:!1}),q.value=K.preProcessEditCellProps?ee[B][W].value:Y,j(B,W,q),ee=Sn(e.current.state),!((A=ee[B])!=null&&(A=A[W])!=null&&A.error))},[e,g,v,j]),F=c.useCallback((T,A)=>{const B=e.current.getColumn(A),W=Sn(e.current.state),D=e.current.getRow(T);if(!W[T]||!W[T][A])return e.current.getRow(T);const{value:V}=W[T][A];return B.valueSetter?B.valueSetter({value:V,row:D}):I({},D,{[A]:V})},[e]),G={getCellMode:P,startCellEditMode:k,stopCellEditMode:E},H={setCellEditingEditCellValue:N,getRowWithUpdatedValuesFromCellEditing:F};lt(e,G,"public"),lt(e,H,"private"),c.useEffect(()=>{p&&z(p)},[p,z]),gn(()=>{const T=$i(e),A=a.current;a.current=Jh(o),Object.entries(o).forEach(([B,W])=>{Object.entries(W).forEach(([D,V])=>{var Z,K;const Q=((Z=A[B])==null||(Z=Z[D])==null?void 0:Z.mode)||At.View,Y=(K=T[B])!=null?K:B;V.mode===At.Edit&&Q===At.View?M(I({id:Y,field:D},V)):V.mode===At.View&&Q===At.Edit&&$(I({id:Y,field:D},V))})})},[e,o,M,$])},VI=["id"],WI=["id"],ZI=go(["MUI: A call to `processRowUpdate` threw an error which was not handled because `onProcessRowUpdateError` is missing.","To handle the error pass a callback to the `onProcessRowUpdateError` prop, e.g. `<DataGrid onProcessRowUpdateError={(error) => ...} />`.","For more detail, see http://mui.com/components/data-grid/editing/#server-side-persistence."],"error"),UI=(e,t)=>{const[o,s]=c.useState({}),i=c.useRef(o),a=c.useRef({}),l=c.useRef(null),d=c.useRef(null),{processRowUpdate:p,onProcessRowUpdateError:f,rowModesModel:m,onRowModesModelChange:g}=t,v=D=>(...V)=>{t.editMode===fo.Row&&D(...V)},b=c.useCallback((D,V)=>{const Z=e.current.getCellParams(D,V);if(!e.current.isCellEditable(Z))throw new Error(`MUI: The cell with id=${D} and field=${V} is not editable.`)},[e]),C=c.useCallback((D,V)=>{if(e.current.getRowMode(D)!==V)throw new Error(`MUI: The row with id=${D} is not in ${V} mode.`)},[e]),x=c.useCallback((D,V)=>{if(!D.isEditable||e.current.getRowMode(D.id)===Ft.Edit)return;const Z=e.current.getRowParams(D.id),K=I({},Z,{field:D.field,reason:Fo.cellDoubleClick});e.current.publishEvent("rowEditStart",K,V)},[e]),S=c.useCallback(D=>{d.current=D},[]),_=c.useCallback((D,V)=>{D.isEditable&&e.current.getRowMode(D.id)!==Ft.View&&(d.current=null,l.current=setTimeout(()=>{var Z;if(l.current=null,((Z=d.current)==null?void 0:Z.id)!==D.id){if(!e.current.getRow(D.id)||e.current.getRowMode(D.id)===Ft.View)return;const K=e.current.getRowParams(D.id),Q=I({},K,{field:D.field,reason:So.rowFocusOut});e.current.publishEvent("rowEditStop",Q,V)}}))},[e]);c.useEffect(()=>()=>{clearTimeout(l.current)},[]);const P=c.useCallback((D,V)=>{if(D.cellMode===Ft.Edit){if(V.which===229)return;let Z;if(V.key==="Escape")Z=So.escapeKeyDown;else if(V.key==="Enter")Z=So.enterKeyDown;else if(V.key==="Tab"){const K=ha(e).filter(Q=>e.current.getColumn(Q).type===Ca?!0:e.current.isCellEditable(e.current.getCellParams(D.id,Q)));if(V.shiftKey?D.field===K[0]&&(Z=So.shiftTabKeyDown):D.field===K[K.length-1]&&(Z=So.tabKeyDown),V.preventDefault(),!Z){const Q=K.findIndex(ee=>ee===D.field),Y=K[V.shiftKey?Q-1:Q+1];e.current.setCellFocus(D.id,Y)}}if(Z){const K=I({},e.current.getRowParams(D.id),{reason:Z,field:D.field});e.current.publishEvent("rowEditStop",K,V)}}else if(D.isEditable){let Z;if(!e.current.unstable_applyPipeProcessors("canStartEditing",!0,{event:V,cellParams:D,editMode:"row"}))return;if(Gh(V)||(V.ctrlKey||V.metaKey)&&V.key==="v"?Z=Fo.printableKeyDown:V.key==="Enter"?Z=Fo.enterKeyDown:(V.key==="Delete"||V.key==="Backspace")&&(Z=Fo.deleteKeyDown),Z){const Q=e.current.getRowParams(D.id),Y=I({},Q,{field:D.field,reason:Z});e.current.publishEvent("rowEditStart",Y,V)}}},[e]),z=c.useCallback(D=>{const{id:V,field:Z,reason:K}=D,Q={id:V,fieldToFocus:Z};(K===Fo.printableKeyDown||K===Fo.deleteKeyDown)&&(Q.deleteValue=!!Z),e.current.startRowEditMode(Q)},[e]),R=c.useCallback(D=>{const{id:V,reason:Z,field:K}=D;e.current.runPendingEditCellValueMutation(V);let Q;Z===So.enterKeyDown?Q="below":Z===So.tabKeyDown?Q="right":Z===So.shiftTabKeyDown&&(Q="left");const Y=Z==="escapeKeyDown";e.current.stopRowEditMode({id:V,ignoreModifications:Y,field:K,cellToFocusAfter:Q})},[e]);Ve(e,"cellDoubleClick",v(x)),Ve(e,"cellFocusIn",v(S)),Ve(e,"cellFocusOut",v(_)),Ve(e,"cellKeyDown",v(P)),Ve(e,"rowEditStart",v(z)),Ve(e,"rowEditStop",v(R)),Ot(e,"rowEditStart",t.onRowEditStart),Ot(e,"rowEditStop",t.onRowEditStop);const j=c.useCallback(D=>{if(t.editMode===fo.Cell)return Ft.View;const V=Sn(e.current.state);return V[D]&&Object.keys(V[D]).length>0?Ft.Edit:Ft.View},[e,t.editMode]),k=to(D=>{const V=D!==t.rowModesModel;g&&V&&g(D,{}),!(t.rowModesModel&&V)&&(s(D),i.current=D,e.current.publishEvent("rowModesModelChange",D))}),M=c.useCallback((D,V)=>{const Z=I({},i.current);V!==null?Z[D]=I({},V):delete Z[D],k(Z)},[k]),E=c.useCallback((D,V)=>{e.current.setState(Z=>{const K=I({},Z.editRows);return V!==null?K[D]=V:delete K[D],I({},Z,{editRows:K})}),e.current.forceUpdate()},[e]),$=c.useCallback((D,V,Z)=>{e.current.setState(K=>{const Q=I({},K.editRows);return Z!==null?Q[D]=I({},Q[D],{[V]:I({},Z)}):(delete Q[D][V],Object.keys(Q[D]).length===0&&delete Q[D]),I({},K,{editRows:Q})}),e.current.forceUpdate()},[e]),N=c.useCallback(D=>{const{id:V}=D,Z=ze(D,VI);C(V,Ft.View),M(V,I({mode:Ft.Edit},Z))},[C,M]),F=to(D=>{const{id:V,fieldToFocus:Z,deleteValue:K,initialValue:Q}=D,ee=Io(e).reduce((q,te)=>{if(!e.current.getCellParams(V,te).isEditable)return q;let X=e.current.getCellValue(V,te);return Z===te&&(K||Q)&&(X=K?"":Q),q[te]={value:X,error:!1,isProcessingProps:!1},q},{});E(V,ee),Z&&e.current.setCellFocus(V,Z)}),G=c.useCallback(D=>{const{id:V}=D,Z=ze(D,WI);C(V,Ft.Edit),M(V,I({mode:Ft.View},Z))},[C,M]),H=to(D=>{const{id:V,ignoreModifications:Z,field:K,cellToFocusAfter:Q="none"}=D;e.current.runPendingEditCellValueMutation(V);const Y=()=>{Q!=="none"&&K&&e.current.moveFocusToRelativeCell(V,K,Q),E(V,null),M(V,null)};if(Z){Y();return}const ee=Sn(e.current.state),q=e.current.getRow(V);if(Object.values(ee[V]).some(ve=>ve.isProcessingProps)){a.current[V].mode=Ft.Edit;return}if(Object.values(ee[V]).some(ve=>ve.error)){a.current[V].mode=Ft.Edit,M(V,{mode:Ft.Edit});return}const X=e.current.getRowWithUpdatedValuesFromRowEditing(V);if(p){const ve=Ce=>{a.current[V].mode=Ft.Edit,M(V,{mode:Ft.Edit}),f?f(Ce):ZI()};try{Promise.resolve(p(X,q)).then(Ce=>{e.current.updateRows([Ce]),Y()}).catch(ve)}catch(Ce){ve(Ce)}}else e.current.updateRows([X]),Y()}),T=c.useCallback(D=>{const{id:V,field:Z,value:K,debounceMs:Q,unstable_skipValueParser:Y}=D;b(V,Z);const ee=e.current.getColumn(Z),q=e.current.getRow(V);let te=K;ee.valueParser&&!Y&&(te=ee.valueParser(K,e.current.getCellParams(V,Z)));let ae=Sn(e.current.state),X=I({},ae[V][Z],{value:te,changeReason:Q?"debouncedSetEditCellValue":"setEditCellValue"});return ee.preProcessEditCellProps||$(V,Z,X),new Promise(ve=>{const Ce=[];if(ee.preProcessEditCellProps){const le=X.value!==ae[V][Z].value;X=I({},X,{isProcessingProps:!0}),$(V,Z,X);const ce=ae[V],ie=ze(ce,[Z].map(Ms)),fe=Promise.resolve(ee.preProcessEditCellProps({id:V,row:q,props:X,hasChanged:le,otherFieldsProps:ie})).then(me=>{if(e.current.getRowMode(V)===Ft.View){ve(!1);return}ae=Sn(e.current.state),me=I({},me,{isProcessingProps:!1}),me.value=ee.preProcessEditCellProps?ae[V][Z].value:te,$(V,Z,me)});Ce.push(fe)}Object.entries(ae[V]).forEach(([le,ce])=>{if(le===Z)return;const ie=e.current.getColumn(le);if(!ie.preProcessEditCellProps)return;ce=I({},ce,{isProcessingProps:!0}),$(V,le,ce),ae=Sn(e.current.state);const fe=ae[V],me=ze(fe,[le].map(Ms)),ye=Promise.resolve(ie.preProcessEditCellProps({id:V,row:q,props:ce,hasChanged:!1,otherFieldsProps:me})).then(ne=>{if(e.current.getRowMode(V)===Ft.View){ve(!1);return}ne=I({},ne,{isProcessingProps:!1}),$(V,le,ne)});Ce.push(ye)}),Promise.all(Ce).then(()=>{e.current.getRowMode(V)===Ft.Edit?(ae=Sn(e.current.state),ve(!ae[V][Z].error)):ve(!1)})})},[e,b,$]),A=c.useCallback(D=>{const V=Sn(e.current.state),Z=e.current.getRow(D);if(!V[D])return e.current.getRow(D);let K=I({},Z);return Object.entries(V[D]).forEach(([Q,Y])=>{const ee=e.current.getColumn(Q);ee.valueSetter?K=ee.valueSetter({value:Y.value,row:K}):K[Q]=Y.value}),K},[e]),B={getRowMode:j,startRowEditMode:N,stopRowEditMode:G},W={setRowEditingEditCellValue:T,getRowWithUpdatedValuesFromRowEditing:A};lt(e,B,"public"),lt(e,W,"private"),c.useEffect(()=>{m&&k(m)},[m,k]),gn(()=>{const D=$i(e),V=a.current;a.current=Jh(o),Object.entries(o).forEach(([Z,K])=>{var Q,Y;const ee=((Q=V[Z])==null?void 0:Q.mode)||Ft.View,q=(Y=D[Z])!=null?Y:Z;K.mode===Ft.Edit&&ee===Ft.View?F(I({id:q},K)):K.mode===Ft.View&&ee===Ft.Edit&&H(I({id:q},K))})},[e,o,F,H])},KI=e=>I({},e,{editRows:{}}),JI=(e,t)=>{GI(e,t),UI(e,t);const o=c.useRef({}),{isCellEditable:s}=t,i=c.useCallback(v=>As(v.rowNode)||!v.colDef.editable||!v.colDef.renderEditCell?!1:s?s(v):!0,[s]),a=(v,b,C,x)=>{if(!C){x();return}if(o.current[v]||(o.current[v]={}),o.current[v][b]){const[P]=o.current[v][b];clearTimeout(P)}const S=()=>{const[P]=o.current[v][b];clearTimeout(P),x(),delete o.current[v][b]},_=setTimeout(()=>{x(),delete o.current[v][b]},C);o.current[v][b]=[_,S]};c.useEffect(()=>{const v=o.current;return()=>{Object.entries(v).forEach(([b,C])=>{Object.keys(C).forEach(x=>{const[S]=v[b][x];clearTimeout(S),delete v[b][x]})})}},[]);const l=c.useCallback((v,b)=>{if(o.current[v]){if(!b)Object.keys(o.current[v]).forEach(C=>{const[,x]=o.current[v][C];x()});else if(o.current[v][b]){const[,C]=o.current[v][b];C()}}},[]),d=c.useCallback(v=>{const{id:b,field:C,debounceMs:x}=v;return new Promise(S=>{a(b,C,x,async()=>{const _=t.editMode===fo.Row?e.current.setRowEditingEditCellValue:e.current.setCellEditingEditCellValue;if(e.current.getCellMode(b,C)===At.Edit){const P=await _(v);S(P)}})})},[e,t.editMode]),p=c.useCallback((v,b)=>t.editMode===fo.Cell?e.current.getRowWithUpdatedValuesFromCellEditing(v,b):e.current.getRowWithUpdatedValuesFromRowEditing(v),[e,t.editMode]),f=c.useCallback((v,b)=>{var C,x;return(C=(x=Sn(e.current.state)[v])==null?void 0:x[b])!=null?C:null},[e]),m={isCellEditable:i,setEditCellValue:d,getRowWithUpdatedValues:p,unstable_getEditCellMeta:f},g={runPendingEditCellValueMutation:l};lt(e,m,"public"),lt(e,g,"private")},qI=(e,t,o)=>(o.current.caches.rows=Ii({rows:t.rows,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),I({},e,{rows:Oh({apiRef:o,rowCountProp:t.rowCount,loadingProp:t.loading,previousTree:null,previousTreeDepths:null})})),XI=(e,t)=>{const o=Cn(e,"useGridRows"),s=gr(e,t),i=c.useRef(Date.now()),a=Lc(),l=c.useCallback(H=>{const T=Po(e)[H];if(T)return T;const A=e.current.getRowNode(H);return A&&As(A)?{[Vr]:H}:null},[e]),d=t.getRowId,p=c.useCallback(H=>Vr in H?H[Vr]:d?d(H):H.id,[d]),f=c.useMemo(()=>s.rows.reduce((H,{id:T},A)=>(H[T]=A,H),{}),[s.rows]),m=c.useCallback(({cache:H,throttle:T})=>{const A=()=>{i.current=Date.now(),e.current.setState(W=>I({},W,{rows:Oh({apiRef:e,rowCountProp:t.rowCount,loadingProp:t.loading,previousTree:Qn(e),previousTreeDepths:xd(e)})})),e.current.publishEvent("rowsSet"),e.current.forceUpdate()};if(a.clear(),e.current.caches.rows=H,!T){A();return}const B=t.throttleRowsMs-(Date.now()-i.current);if(B>0){a.start(B,A);return}A()},[t.throttleRowsMs,t.rowCount,t.loading,e,a]),g=c.useCallback(H=>{o.debug(`Updating all rows, new length ${H.length}`);const T=Ii({rows:H,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),A=e.current.caches.rows;T.rowsBeforePartialUpdates=A.rowsBeforePartialUpdates,m({cache:T,throttle:!0})},[o,t.getRowId,t.loading,t.rowCount,m,e]),v=c.useCallback(H=>{if(t.signature===ho.DataGrid&&H.length>1)throw new Error(["MUI: You can't update several rows at once in `apiRef.current.updateRows` on the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join(`
`));const T=[];H.forEach(B=>{const W=ji(B,t.getRowId,"A row was provided without id when calling updateRows():"),D=e.current.getRowNode(W);if((D==null?void 0:D.type)==="pinnedRow"){const V=e.current.caches.pinnedRows,Z=V.idLookup[W];Z&&(V.idLookup[W]=I({},Z,B))}else T.push(B)});const A=Rx({updates:T,getRowId:t.getRowId,previousCache:e.current.caches.rows});m({cache:A,throttle:!0})},[t.signature,t.getRowId,m,e]),b=c.useCallback(()=>{const H=ys(e),T=Po(e);return new Map(H.map(A=>{var B;return[A,(B=T[A])!=null?B:{}]}))},[e]),C=c.useCallback(()=>fa(e),[e]),x=c.useCallback(()=>ys(e),[e]),S=c.useCallback(H=>f[H],[f]),_=c.useCallback((H,T)=>{const A=e.current.getRowNode(H);if(!A)throw new Error(`MUI: No row with id #${H} found`);if(A.type!=="group")throw new Error("MUI: Only group nodes can be expanded or collapsed");const B=I({},A,{childrenExpanded:T});e.current.setState(W=>I({},W,{rows:I({},W.rows,{tree:I({},W.rows.tree,{[H]:B})})})),e.current.forceUpdate(),e.current.publishEvent("rowExpansionChange",B)},[e]),P=c.useCallback(H=>{var T;return(T=Qn(e)[H])!=null?T:null},[e]),z=c.useCallback(({skipAutoGeneratedRows:H=!0,groupId:T,applySorting:A,applyFiltering:B})=>{const W=Qn(e);let D;if(A){const V=W[T];if(!V)return[];const Z=Cc(e);D=[];const K=Z.findIndex(Q=>Q===T)+1;for(let Q=K;Q<Z.length&&W[Z[Q]].depth>V.depth;Q+=1){const Y=Z[Q];(!H||!As(W[Y]))&&D.push(Y)}}else D=_c(W,T,H);if(B){const V=kh(e);D=D.filter(Z=>V[Z]!==!1)}return D},[e]),R=c.useCallback((H,T)=>{const A=e.current.getRowNode(H);if(!A)throw new Error(`MUI: No row with id #${H} found`);if(A.parent!==_n)throw new Error("MUI: The row reordering do not support reordering of grouped rows yet");if(A.type!=="leaf")throw new Error("MUI: The row reordering do not support reordering of footer or grouping rows");e.current.setState(B=>{const W=Qn(B,e.current.instanceId)[_n],D=W.children,V=D.findIndex(K=>K===H);if(V===-1||V===T)return B;o.debug(`Moving row ${H} to index ${T}`);const Z=[...D];return Z.splice(T,0,Z.splice(V,1)[0]),I({},B,{rows:I({},B.rows,{tree:I({},B.rows.tree,{[_n]:I({},W,{children:Z})})})})}),e.current.publishEvent("rowsSet")},[e,o]),j=c.useCallback((H,T)=>{if(t.signature===ho.DataGrid&&T.length>1)throw new Error(["MUI: You can't replace rows using `apiRef.current.unstable_replaceRows` on the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join(`
`));if(T.length===0)return;if(ga(e)>1)throw new Error("`apiRef.current.unstable_replaceRows` is not compatible with tree data and row grouping");const B=I({},Qn(e)),W=I({},Po(e)),D=I({},$i(e)),V=B[_n],Z=[...V.children],K=new Set;for(let Y=0;Y<T.length;Y+=1){const ee=T[Y],q=ji(ee,t.getRowId,"A row was provided without id when calling replaceRows()."),[te]=Z.splice(H+Y,1,q);K.has(te)||(delete W[te],delete D[te],delete B[te]);const ae={id:q,depth:0,parent:_n,type:"leaf",groupingKey:null};W[q]=ee,D[q]=q,B[q]=ae,K.add(q)}B[_n]=I({},V,{children:Z});const Q=Z.filter(Y=>B[Y].type==="leaf");e.current.caches.rows.dataRowIdToModelLookup=W,e.current.caches.rows.dataRowIdToIdLookup=D,e.current.setState(Y=>I({},Y,{rows:I({},Y.rows,{dataRowIdToModelLookup:W,dataRowIdToIdLookup:D,dataRowIds:Q,tree:B})})),e.current.publishEvent("rowsSet")},[e,t.signature,t.getRowId]),k={getRow:l,getRowId:p,getRowModels:b,getRowsCount:C,getAllRowIds:x,setRows:g,updateRows:v,getRowNode:P,getRowIndexRelativeToVisibleRows:S,unstable_replaceRows:j},M={setRowIndex:R,setRowChildrenExpansion:_,getRowGroupChildren:z},E=c.useCallback(()=>{o.info("Row grouping pre-processing have changed, regenerating the row tree");let H;e.current.caches.rows.rowsBeforePartialUpdates===t.rows?H=I({},e.current.caches.rows,{updates:{type:"full",rows:ys(e)}}):H=Ii({rows:t.rows,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),m({cache:H,throttle:!1})},[o,e,t.rows,t.getRowId,t.loading,t.rowCount,m]),$=c.useCallback(H=>{H==="rowTreeCreation"&&E()},[E]),N=c.useCallback(()=>{e.current.getActiveStrategy("rowTree")!==gx(e)&&E()},[e,E]);Ve(e,"activeStrategyProcessorChange",$),Ve(e,"strategyAvailabilityChange",N);const F=c.useCallback(()=>{e.current.setState(H=>{const T=e.current.unstable_applyPipeProcessors("hydrateRows",{tree:Qn(H,e.current.instanceId),treeDepths:xd(H,e.current.instanceId),dataRowIds:ys(H,e.current.instanceId),dataRowIdToModelLookup:Po(H,e.current.instanceId),dataRowIdToIdLookup:$i(H,e.current.instanceId)});return I({},H,{rows:I({},H.rows,T,{totalTopLevelRowCount:Fh({tree:T.tree,rowCountProp:t.rowCount})})})}),e.current.publishEvent("rowsSet"),e.current.forceUpdate()},[e,t.rowCount]);Nc(e,"hydrateRows",F),lt(e,k,"public"),lt(e,M,t.signature===ho.DataGrid?"private":"public");const G=c.useRef(!0);c.useEffect(()=>{if(G.current){G.current=!1;return}const H=e.current.caches.rows.rowsBeforePartialUpdates===t.rows,T=e.current.caches.rows.loadingPropBeforePartialUpdates===t.loading,A=e.current.caches.rows.rowCountPropBeforePartialUpdates===t.rowCount;if(H){T||(e.current.setState(B=>I({},B,{rows:I({},B.rows,{loading:t.loading})})),e.current.caches.rows.loadingPropBeforePartialUpdates=t.loading,e.current.forceUpdate()),A||(e.current.setState(B=>I({},B,{rows:I({},B.rows,{totalRowCount:Math.max(t.rowCount||0,B.rows.totalRowCount),totalTopLevelRowCount:Math.max(t.rowCount||0,B.rows.totalTopLevelRowCount)})})),e.current.caches.rows.rowCountPropBeforePartialUpdates=t.rowCount,e.current.forceUpdate());return}o.debug(`Updating all rows, new length ${t.rows.length}`),m({cache:Ii({rows:t.rows,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),throttle:!1})},[t.rows,t.rowCount,t.getRowId,t.loading,o,m,e])},YI=e=>{const t={[_n]:I({},Ex(),{children:e})};for(let o=0;o<e.length;o+=1){const s=e[o];t[s]={id:s,depth:0,parent:_n,type:"leaf",groupingKey:null}}return{groupingName:pr,tree:t,treeDepths:{0:e.length},dataRowIds:e}},QI=({previousTree:e,actions:t})=>{const o=I({},e),s={};for(let l=0;l<t.remove.length;l+=1){const d=t.remove[l];s[d]=!0,delete o[d]}for(let l=0;l<t.insert.length;l+=1){const d=t.insert[l];o[d]={id:d,depth:0,parent:_n,type:"leaf",groupingKey:null}}const i=o[_n];let a=[...i.children,...t.insert];return Object.values(s).length&&(a=a.filter(l=>!s[l])),o[_n]=I({},i,{children:a}),{groupingName:pr,tree:o,treeDepths:{0:a.length},dataRowIds:a}},eT=e=>e.updates.type==="full"?YI(e.updates.rows):QI({previousTree:e.previousTree,actions:e.updates.actions}),tT=e=>{Ji(e,pr,"rowTreeCreation",eT)},Pm=(e,t)=>e==null||Array.isArray(e)?e:t&&t[0]===e?t:[e],nT=(e,t)=>{var o;return I({},e,{rowSelection:t.rowSelection?(o=Pm(t.rowSelectionModel))!=null?o:[]:[]})},oT=(e,t)=>{const o=Cn(e,"useGridSelection"),s=T=>(...A)=>{t.rowSelection&&T(...A)},i=c.useMemo(()=>Pm(t.rowSelectionModel,Wn(e.current.state)),[e,t.rowSelectionModel]),a=c.useRef(null);e.current.registerControlState({stateId:"rowSelection",propModel:i,propOnChange:t.onRowSelectionModelChange,stateSelector:Wn,changeEvent:"rowSelectionChange"});const{checkboxSelection:l,disableMultipleRowSelection:d,disableRowSelectionOnClick:p,isRowSelectable:f}=t,m=!d||l,g=gr(e,t),v=c.useCallback(T=>{var A;let B=T;const W=(A=a.current)!=null?A:T,D=e.current.isRowSelected(T);if(D){const V=Ps(e),Z=V.findIndex(Q=>Q===W),K=V.findIndex(Q=>Q===B);if(Z===K)return;Z>K?B=V[K+1]:B=V[K-1]}a.current=T,e.current.selectRowRange({startId:W,endId:B},!D)},[e]),b=c.useCallback(T=>{if(t.signature===ho.DataGrid&&!t.checkboxSelection&&Array.isArray(T)&&T.length>1)throw new Error(["MUI: `rowSelectionModel` can only contain 1 item in DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock multiple selection."].join(`
`));Wn(e.current.state)!==T&&(o.debug("Setting selection model"),e.current.setState(B=>I({},B,{rowSelection:t.rowSelection?T:[]})),e.current.forceUpdate())},[e,o,t.rowSelection,t.signature,t.checkboxSelection]),C=c.useCallback(T=>Wn(e.current.state).includes(T),[e]),x=c.useCallback(T=>{if(f&&!f(e.current.getRowParams(T)))return!1;const A=e.current.getRowNode(T);return!((A==null?void 0:A.type)==="footer"||(A==null?void 0:A.type)==="pinnedRow")},[e,f]),S=c.useCallback(()=>BS(e),[e]),_=c.useCallback((T,A=!0,B=!1)=>{if(e.current.isRowSelectable(T))if(a.current=T,B)o.debug(`Setting selection for row ${T}`),e.current.setRowSelectionModel(A?[T]:[]);else{o.debug(`Toggling selection for row ${T}`);const D=Wn(e.current.state).filter(Z=>Z!==T);A&&D.push(T),(D.length<2||m)&&e.current.setRowSelectionModel(D)}},[e,o,m]),P=c.useCallback((T,A=!0,B=!1)=>{o.debug("Setting selection for several rows");const W=T.filter(Z=>e.current.isRowSelectable(Z));let D;if(B)D=A?W:[];else{const Z=I({},Zi(e));W.forEach(K=>{A?Z[K]=K:delete Z[K]}),D=Object.values(Z)}(D.length<2||m)&&e.current.setRowSelectionModel(D)},[e,o,m]),z=c.useCallback(({startId:T,endId:A},B=!0,W=!1)=>{if(!e.current.getRow(T)||!e.current.getRow(A))return;o.debug(`Expanding selection from row ${T} to row ${A}`);const D=Ps(e),V=D.indexOf(T),Z=D.indexOf(A),[K,Q]=V>Z?[Z,V]:[V,Z],Y=D.slice(K,Q+1);e.current.selectRows(Y,B,W)},[e,o]),R={selectRow:_,setRowSelectionModel:b,getSelectedRows:S,isRowSelected:C,isRowSelectable:x},j={selectRows:P,selectRowRange:z};lt(e,R,"public"),lt(e,j,t.signature===ho.DataGrid?"private":"public");const k=c.useCallback(()=>{if(t.keepNonExistentRowsSelected)return;const T=Wn(e.current.state),A=Po(e),B=I({},Zi(e));let W=!1;T.forEach(D=>{A[D]||(delete B[D],W=!0)}),W&&e.current.setRowSelectionModel(Object.values(B))},[e,t.keepNonExistentRowsSelected]),M=c.useCallback((T,A)=>{const B=A.metaKey||A.ctrlKey,W=!l&&!B&&!xw(A),D=!m||W,V=e.current.isRowSelected(T);D?e.current.selectRow(T,W?!0:!V,!0):e.current.selectRow(T,!V,!1)},[e,m,l]),E=c.useCallback((T,A)=>{var B;if(p)return;const W=(B=A.target.closest(`.${J.cell}`))==null?void 0:B.getAttribute("data-field");if(W===Qr.field||W===Fc)return;if(W){const V=e.current.getColumn(W);if((V==null?void 0:V.type)===Ca)return}e.current.getRowNode(T.id).type!=="pinnedRow"&&(A.shiftKey&&(m||l)?v(T.id):M(T.id,A))},[p,m,l,e,v,M]),$=c.useCallback((T,A)=>{if(m&&A.shiftKey){var B;(B=window.getSelection())==null||B.removeAllRanges()}},[m]),N=c.useCallback((T,A)=>{A.nativeEvent.shiftKey?v(T.id):e.current.selectRow(T.id,T.value)},[e,v]),F=c.useCallback(T=>{const B=t.checkboxSelectionVisibleOnly&&t.pagination?em(e):Ps(e),W=mn(e);e.current.selectRows(B,T.value,(W==null?void 0:W.items.length)>0)},[e,t.checkboxSelectionVisibleOnly,t.pagination]),G=c.useCallback((T,A)=>{if(e.current.getCellMode(T.id,T.field)!==At.Edit&&!Gs(A)){if(Wi(A.key)&&A.shiftKey){const B=Ln(e);if(B&&B.id!==T.id){A.preventDefault();const W=e.current.isRowSelected(B.id);if(!m){e.current.selectRow(B.id,!W,!0);return}const D=e.current.getRowIndexRelativeToVisibleRows(B.id),V=e.current.getRowIndexRelativeToVisibleRows(T.id);let Z,K;D>V?W?(Z=V,K=D-1):(Z=V,K=D):W?(Z=D+1,K=V):(Z=D,K=V);const Q=g.rows.slice(Z,K+1).map(Y=>Y.id);e.current.selectRows(Q,!W);return}}if(A.key===" "&&A.shiftKey){A.preventDefault(),M(T.id,A);return}A.key==="a"&&(A.ctrlKey||A.metaKey)&&(A.preventDefault(),P(e.current.getAllRowIds(),!0))}},[e,M,P,g.rows,m]);Ve(e,"sortedRowsSet",s(k)),Ve(e,"rowClick",s(E)),Ve(e,"rowSelectionCheckboxChange",s(N)),Ve(e,"headerSelectionCheckboxChange",F),Ve(e,"cellMouseDown",s($)),Ve(e,"cellKeyDown",s(G)),c.useEffect(()=>{i!==void 0&&e.current.setRowSelectionModel(i)},[e,i,t.rowSelection]),c.useEffect(()=>{t.rowSelection||e.current.setRowSelectionModel([])},[e,t.rowSelection]);const H=i!=null;c.useEffect(()=>{if(H||!t.rowSelection)return;const T=Wn(e.current.state);if(x){const A=T.filter(B=>x(B));A.length<T.length&&e.current.setRowSelectionModel(A)}},[e,x,H,t.rowSelection]),c.useEffect(()=>{if(!t.rowSelection||H)return;const T=Wn(e.current.state);!m&&T.length>1&&e.current.setRowSelectionModel([])},[e,m,l,H,t.rowSelection])},rT={noRowsLabel:"No rows",noResultsOverlayLabel:"No results found.",toolbarDensity:"Density",toolbarDensityLabel:"Density",toolbarDensityCompact:"Compact",toolbarDensityStandard:"Standard",toolbarDensityComfortable:"Comfortable",toolbarColumns:"Columns",toolbarColumnsLabel:"Select columns",toolbarFilters:"Filters",toolbarFiltersLabel:"Show filters",toolbarFiltersTooltipHide:"Hide filters",toolbarFiltersTooltipShow:"Show filters",toolbarFiltersTooltipActive:e=>e!==1?`${e} active filters`:`${e} active filter`,toolbarQuickFilterPlaceholder:"Searchâ€¦",toolbarQuickFilterLabel:"Search",toolbarQuickFilterDeleteIconLabel:"Clear",toolbarExport:"Export",toolbarExportLabel:"Export",toolbarExportCSV:"Download as CSV",toolbarExportPrint:"Print",toolbarExportExcel:"Download as Excel",columnsPanelTextFieldLabel:"Find column",columnsPanelTextFieldPlaceholder:"Column title",columnsPanelDragIconLabel:"Reorder column",columnsPanelShowAllButton:"Show all",columnsPanelHideAllButton:"Hide all",filterPanelAddFilter:"Add filter",filterPanelRemoveAll:"Remove all",filterPanelDeleteIconLabel:"Delete",filterPanelLogicOperator:"Logic operator",filterPanelOperator:"Operator",filterPanelOperatorAnd:"And",filterPanelOperatorOr:"Or",filterPanelColumns:"Columns",filterPanelInputLabel:"Value",filterPanelInputPlaceholder:"Filter value",filterOperatorContains:"contains",filterOperatorEquals:"equals",filterOperatorStartsWith:"starts with",filterOperatorEndsWith:"ends with",filterOperatorIs:"is",filterOperatorNot:"is not",filterOperatorAfter:"is after",filterOperatorOnOrAfter:"is on or after",filterOperatorBefore:"is before",filterOperatorOnOrBefore:"is on or before",filterOperatorIsEmpty:"is empty",filterOperatorIsNotEmpty:"is not empty",filterOperatorIsAnyOf:"is any of","filterOperator=":"=","filterOperator!=":"!=","filterOperator>":">","filterOperator>=":">=","filterOperator<":"<","filterOperator<=":"<=",headerFilterOperatorContains:"Contains",headerFilterOperatorEquals:"Equals",headerFilterOperatorStartsWith:"Starts with",headerFilterOperatorEndsWith:"Ends with",headerFilterOperatorIs:"Is",headerFilterOperatorNot:"Is not",headerFilterOperatorAfter:"Is after",headerFilterOperatorOnOrAfter:"Is on or after",headerFilterOperatorBefore:"Is before",headerFilterOperatorOnOrBefore:"Is on or before",headerFilterOperatorIsEmpty:"Is empty",headerFilterOperatorIsNotEmpty:"Is not empty",headerFilterOperatorIsAnyOf:"Is any of","headerFilterOperator=":"Equals","headerFilterOperator!=":"Not equals","headerFilterOperator>":"Greater than","headerFilterOperator>=":"Greater than or equal to","headerFilterOperator<":"Less than","headerFilterOperator<=":"Less than or equal to",filterValueAny:"any",filterValueTrue:"true",filterValueFalse:"false",columnMenuLabel:"Menu",columnMenuShowColumns:"Show columns",columnMenuManageColumns:"Manage columns",columnMenuFilter:"Filter",columnMenuHideColumn:"Hide column",columnMenuUnsort:"Unsort",columnMenuSortAsc:"Sort by ASC",columnMenuSortDesc:"Sort by DESC",columnHeaderFiltersTooltipActive:e=>e!==1?`${e} active filters`:`${e} active filter`,columnHeaderFiltersLabel:"Show filters",columnHeaderSortIconLabel:"Sort",footerRowSelected:e=>e!==1?`${e.toLocaleString()} rows selected`:`${e.toLocaleString()} row selected`,footerTotalRows:"Total Rows:",footerTotalVisibleRows:(e,t)=>`${e.toLocaleString()} of ${t.toLocaleString()}`,checkboxSelectionHeaderName:"Checkbox selection",checkboxSelectionSelectAllRows:"Select all rows",checkboxSelectionUnselectAllRows:"Unselect all rows",checkboxSelectionSelectRow:"Select row",checkboxSelectionUnselectRow:"Unselect row",booleanCellTrueLabel:"yes",booleanCellFalseLabel:"no",actionsCellMore:"more",pinToLeft:"Pin to left",pinToRight:"Pin to right",unpin:"Unpin",treeDataGroupingHeaderName:"Group",treeDataExpand:"see children",treeDataCollapse:"hide children",groupingColumnHeaderName:"Group",groupColumn:e=>`Group by ${e}`,unGroupColumn:e=>`Stop grouping by ${e}`,detailPanelToggle:"Detail panel toggle",expandDetailPanel:"Expand",collapseDetailPanel:"Collapse",MuiTablePagination:{},rowReorderingHeaderName:"Row reordering",aggregationMenuItemHeader:"Aggregation",aggregationFunctionLabelSum:"sum",aggregationFunctionLabelAvg:"avg",aggregationFunctionLabelMin:"min",aggregationFunctionLabelMax:"max",aggregationFunctionLabelSize:"size"},sT=e=>{const{classes:t}=e;return c.useMemo(()=>mt({cellCheckbox:["cellCheckbox"],columnHeaderCheckbox:["columnHeaderCheckbox"]},ft,t),[t])},iT=(e,t)=>{const o={classes:t.classes},s=sT(o),i=c.useCallback(a=>{const l=I({},Qr,{cellClassName:s.cellCheckbox,headerClassName:s.columnHeaderCheckbox,headerName:e.current.getLocaleText("checkboxSelectionHeaderName")}),d=t.checkboxSelection,p=a.lookup[Oo]!=null;return d&&!p?(a.lookup[Oo]=l,a.orderedFields=[Oo,...a.orderedFields]):!d&&p?(delete a.lookup[Oo],a.orderedFields=a.orderedFields.filter(f=>f!==Oo)):d&&p&&(a.lookup[Oo]=I({},l,a.lookup[Oo])),a},[e,s,t.checkboxSelection]);tn(e,"hydrateColumns",i)},aT=(e,t)=>{var o,s,i;const a=(o=(s=t.sortModel)!=null?s:(i=t.initialState)==null||(i=i.sorting)==null?void 0:i.sortModel)!=null?o:[];return I({},e,{sorting:{sortModel:tm(a,t.disableMultipleColumnsSorting),sortedRows:[]}})},lT=(e,t)=>{var o;const s=Cn(e,"useGridSorting");e.current.registerControlState({stateId:"sortModel",propModel:t.sortModel,propOnChange:t.onSortModelChange,stateSelector:Gn,changeEvent:"sortModelChange"});const i=c.useCallback((k,M)=>{const E=Gn(e),$=E.findIndex(F=>F.field===k);let N=[...E];return $>-1?M?N.splice($,1,M):N.splice($,1):N=[...E,M],N},[e]),a=c.useCallback((k,M)=>{var E;const N=Gn(e).find(G=>G.field===k.field);if(N){var F;const G=M===void 0?Id((F=k.sortingOrder)!=null?F:t.sortingOrder,N.sort):M;return G==null?void 0:I({},N,{sort:G})}return{field:k.field,sort:M===void 0?Id((E=k.sortingOrder)!=null?E:t.sortingOrder):M}},[e,t.sortingOrder]),l=c.useCallback((k,M)=>M==null||M.sortable===!1?k:(M.sortingOrder||t.sortingOrder).some($=>!!$)?[...k,"columnMenuSortItem"]:k,[t.sortingOrder]),d=c.useCallback(()=>{e.current.setState(k=>{if(t.sortingMode==="server")return s.debug("Skipping sorting rows as sortingMode = server"),I({},k,{sorting:I({},k.sorting,{sortedRows:_c(Qn(e),_n,!1)})});const M=Gn(k,e.current.instanceId),E=WS(M,e),$=e.current.applyStrategyProcessor("sorting",{sortRowList:E});return I({},k,{sorting:I({},k.sorting,{sortedRows:$})})}),e.current.publishEvent("sortedRowsSet"),e.current.forceUpdate()},[e,s,t.sortingMode]),p=c.useCallback(k=>{Gn(e)!==k&&(s.debug("Setting sort model"),e.current.setState(Pd(k,t.disableMultipleColumnsSorting)),e.current.forceUpdate(),e.current.applySorting())},[e,s,t.disableMultipleColumnsSorting]),f=c.useCallback((k,M,E)=>{if(!k.sortable)return;const $=a(k,M);let N;!E||t.disableMultipleColumnsSorting?N=$?[$]:[]:N=i(k.field,$),e.current.setSortModel(N)},[e,i,a,t.disableMultipleColumnsSorting]),m=c.useCallback(()=>Gn(e),[e]),g=c.useCallback(()=>xc(e).map(M=>M.model),[e]),v=c.useCallback(()=>Cc(e),[e]),b=c.useCallback(k=>e.current.getSortedRowIds()[k],[e]);lt(e,{getSortModel:m,getSortedRows:g,getSortedRowIds:v,getRowIdFromRowIndex:b,setSortModel:p,sortColumn:f,applySorting:d},"public");const x=c.useCallback((k,M)=>{var E;const $=Gn(e);return!M.exportOnlyDirtyModels||t.sortModel!=null||((E=t.initialState)==null||(E=E.sorting)==null?void 0:E.sortModel)!=null||$.length>0?I({},k,{sorting:{sortModel:$}}):k},[e,t.sortModel,(o=t.initialState)==null||(o=o.sorting)==null?void 0:o.sortModel]),S=c.useCallback((k,M)=>{var E;const $=(E=M.stateToRestore.sorting)==null?void 0:E.sortModel;return $==null?k:(e.current.setState(Pd($,t.disableMultipleColumnsSorting)),I({},k,{callbacks:[...k.callbacks,e.current.applySorting]}))},[e,t.disableMultipleColumnsSorting]),_=c.useCallback(k=>{const M=Qn(e),E=M[_n],$=k.sortRowList?k.sortRowList(E.children.map(N=>M[N])):[...E.children];return E.footerId!=null&&$.push(E.footerId),$},[e]);tn(e,"exportState",x),tn(e,"restoreState",S),Ji(e,pr,"sorting",_);const P=c.useCallback(({colDef:k},M)=>{const E=M.shiftKey||M.metaKey||M.ctrlKey;f(k,void 0,E)},[f]),z=c.useCallback(({colDef:k},M)=>{vw(M.key)&&!M.ctrlKey&&!M.metaKey&&f(k,void 0,M.shiftKey)},[f]),R=c.useCallback(()=>{const k=Gn(e),M=fr(e);if(k.length>0){const E=k.filter($=>M[$.field]);E.length<k.length&&e.current.setSortModel(E)}},[e]),j=c.useCallback(k=>{k==="sorting"&&e.current.applySorting()},[e]);tn(e,"columnMenu",l),Ve(e,"columnHeaderClick",P),Ve(e,"columnHeaderKeyDown",z),Ve(e,"rowsSet",e.current.applySorting),Ve(e,"columnsChange",R),Ve(e,"activeStrategyProcessorChange",j),Vs(()=>{e.current.applySorting()}),gn(()=>{t.sortModel!==void 0&&e.current.setSortModel(t.sortModel)},[e,t.sortModel])};function Xd(e){const{clientHeight:t,scrollTop:o,offsetHeight:s,offsetTop:i}=e,a=i+s;if(s>t)return i;if(a-t>o)return a-t;if(i<o)return i}const cT=(e,t)=>{const o=zt(),s=Cn(e,"useGridScroll"),i=e.current.columnHeadersElementRef,a=e.current.virtualScrollerRef,l=Re(e,Zo),d=c.useCallback(g=>{const v=fa(e),b=bn(e);if(!(g.rowIndex==null)&&v===0||b.length===0)return!1;s.debug(`Scrolling to cell at row ${g.rowIndex}, col: ${g.colIndex} `);let x={};if(g.colIndex!=null){const z=Ur(e);let R;if(typeof g.rowIndex<"u"){var S;const j=(S=l[g.rowIndex])==null?void 0:S.id,k=e.current.unstable_getCellColSpanInfo(j,g.colIndex);k&&!k.spannedByColSpan&&(R=k.cellProps.width)}typeof R>"u"&&(R=b[g.colIndex].computedWidth),x.left=Xd({clientHeight:a.current.clientWidth,scrollTop:Math.abs(a.current.scrollLeft),offsetHeight:R,offsetTop:z[g.colIndex]})}if(g.rowIndex!=null){var _,P;const z=Ds(e.current.state),R=OS(e),j=Qh(e),k=t.pagination?g.rowIndex-R*j:g.rowIndex,M=z.positions[k+1]?z.positions[k+1]-z.positions[k]:z.currentPageTotalHeight-z.positions[k],E=((_=a.current.querySelector(`.${J["pinnedRows--top"]}`))==null?void 0:_.clientHeight)||0,$=((P=a.current.querySelector(`.${J["pinnedRows--bottom"]}`))==null?void 0:P.clientHeight)||0;x.top=Xd({clientHeight:a.current.clientHeight-E-$,scrollTop:a.current.scrollTop,offsetHeight:M,offsetTop:z.positions[k]})}return x=e.current.unstable_applyPipeProcessors("scrollToIndexes",x,g),typeof x.left!==void 0||typeof x.top!==void 0?(e.current.scroll(x),!0):!1},[s,e,a,t.pagination,l]),p=c.useCallback(g=>{if(a.current&&g.left!=null&&i.current){const v=o.direction==="rtl"?-1:1;i.current.scrollLeft=g.left,a.current.scrollLeft=v*g.left,s.debug(`Scrolling left: ${g.left}`)}a.current&&g.top!=null&&(a.current.scrollTop=g.top,s.debug(`Scrolling top: ${g.top}`)),s.debug("Scrolling, updating container, and viewport")},[a,o.direction,i,s]),f=c.useCallback(()=>a!=null&&a.current?{top:a.current.scrollTop,left:a.current.scrollLeft}:{top:0,left:0},[a]);lt(e,{scroll:p,scrollToIndexes:d,getScrollPosition:f},"public")};function uT(e,t){Ot(e,"columnHeaderClick",t.onColumnHeaderClick),Ot(e,"columnHeaderDoubleClick",t.onColumnHeaderDoubleClick),Ot(e,"columnHeaderOver",t.onColumnHeaderOver),Ot(e,"columnHeaderOut",t.onColumnHeaderOut),Ot(e,"columnHeaderEnter",t.onColumnHeaderEnter),Ot(e,"columnHeaderLeave",t.onColumnHeaderLeave),Ot(e,"cellClick",t.onCellClick),Ot(e,"cellDoubleClick",t.onCellDoubleClick),Ot(e,"cellKeyDown",t.onCellKeyDown),Ot(e,"preferencePanelClose",t.onPreferencePanelClose),Ot(e,"preferencePanelOpen",t.onPreferencePanelOpen),Ot(e,"menuOpen",t.onMenuOpen),Ot(e,"menuClose",t.onMenuClose),Ot(e,"rowDoubleClick",t.onRowDoubleClick),Ot(e,"rowClick",t.onRowClick),Ot(e,"stateChange",t.onStateChange)}const dT=({content:e,container:t,scrollBarSize:o})=>{const s=e.width>t.width,i=e.height>t.height;let a=!1,l=!1;return(s||i)&&(a=s,l=e.height+(a?o:0)>t.height,l&&(a=e.width+o>t.width)),{hasScrollX:a,hasScrollY:l}};function pT(e,t){const o=Cn(e,"useResizeContainer"),s=c.useRef(!1),i=c.useRef(null),a=c.useRef(null),l=Re(e,Ds),d=Re(e,Yr),p=Math.floor(t.rowHeight*d),f=zc(e,t.columnHeaderHeight),m=c.useCallback(()=>{var M;const E=(M=e.current.rootElementRef)==null?void 0:M.current,$=bc(e),N=Nh(e);if(!i.current)return;let F;if(t.scrollbarSize!=null)F=t.scrollbarSize;else if(!$||!E)F=0;else{const V=$s(E).createElement("div");V.style.width="99px",V.style.height="99px",V.style.position="absolute",V.style.overflow="scroll",V.className="scrollDiv",E.appendChild(V),F=V.offsetWidth-V.clientWidth,E.removeChild(V)}let G,H,T;if(t.autoHeight)T=!1,H=Math.round($)>Math.round(i.current.width),G={width:i.current.width,height:l.currentPageTotalHeight+(H?F:0)};else{G={width:i.current.width,height:Math.max(i.current.height-f,0)};const D=dT({content:{width:Math.round($),height:l.currentPageTotalHeight},container:{width:Math.round(G.width),height:G.height-N.top-N.bottom},scrollBarSize:F});T=D.hasScrollY,H=D.hasScrollX}const A={width:G.width-(T?F:0),height:G.height-(H?F:0)},B={viewportOuterSize:G,viewportInnerSize:A,hasScrollX:H,hasScrollY:T,scrollBarSize:F},W=a.current;a.current=B,(B.viewportInnerSize.width!==(W==null?void 0:W.viewportInnerSize.width)||B.viewportInnerSize.height!==(W==null?void 0:W.viewportInnerSize.height))&&e.current.publishEvent("viewportInnerSizeChange",B.viewportInnerSize)},[e,t.scrollbarSize,t.autoHeight,l.currentPageTotalHeight,f]),[g,v]=c.useState(),b=c.useMemo(()=>fh(v,60),[]),C=c.useRef();gn(()=>{g&&(m(),e.current.publishEvent("debouncedResize",i.current))},[e,g,m]);const x=c.useCallback(()=>{e.current.computeSizeAndPublishResizeEvent()},[e]),S=c.useCallback(()=>a.current,[]),_=c.useCallback(()=>{const M=e.current.getRootDimensions();if(!M)return 0;const E=Ui(e,{pagination:t.pagination,paginationMode:t.paginationMode});if(t.getRowHeight){const N=e.current.getRenderContext(),F=N.lastRowIndex-N.firstRowIndex;return Math.min(F-1,E.rows.length)}const $=Math.floor(M.viewportInnerSize.height/p);return Math.min($,E.rows.length)},[e,t.pagination,t.paginationMode,t.getRowHeight,p]),P=c.useCallback(()=>{var M,E,$;const N=(M=e.current.mainElementRef)==null?void 0:M.current;if(!N)return;const G=B0(N).getComputedStyle(N),H=parseFloat(G.height)||0,T=parseFloat(G.width)||0,A=H!==((E=C.current)==null?void 0:E.height),B=T!==(($=C.current)==null?void 0:$.width);if(!C.current||A||B){const W={width:T,height:H};e.current.publishEvent("resize",W),C.current=W}},[e]),z={resize:x,getRootDimensions:S},R={getViewportPageSize:_,updateGridDimensionsRef:m,computeSizeAndPublishResizeEvent:P};lt(e,z,"public"),lt(e,R,"private");const j=c.useRef(!0),k=c.useCallback(M=>{i.current=M;const E=/jsdom/.test(window.navigator.userAgent);if(M.height===0&&!s.current&&!t.autoHeight&&!E&&(o.error(["The parent DOM element of the data grid has an empty height.","Please make sure that this element has an intrinsic height.","The grid displays with a height of 0px.","","More details: https://mui.com/r/x-data-grid-no-dimensions."].join(`
`)),s.current=!0),M.width===0&&!s.current&&!E&&(o.error(["The parent DOM element of the data grid has an empty width.","Please make sure that this element has an intrinsic width.","The grid displays with a width of 0px.","","More details: https://mui.com/r/x-data-grid-no-dimensions."].join(`
`)),s.current=!0),j.current){v(M),j.current=!1;return}b(M)},[t.autoHeight,b,o]);gn(()=>m(),[m]),Ot(e,"sortedRowsSet",m),Ot(e,"paginationModelChange",m),Ot(e,"columnsChange",m),Ve(e,"resize",k),Ot(e,"debouncedResize",t.onResize)}const hT=["style"],mT=["style"];function Jr(e,t,o=0,s=t.length){if(t.length<=0)return-1;if(o>=s)return o;const i=o+Math.floor((s-o)/2),a=t[i];return e<=a?Jr(e,t,o,i):Jr(e,t,i+1,s)}function fT(e,t,o){let s=1;for(;o<t.length&&Math.abs(t[o])<e;)o+=s,s*=2;return Jr(e,t,Math.floor(o/2),Math.min(o,t.length))}const zo=({firstIndex:e,lastIndex:t,buffer:o,minFirstIndex:s,maxLastIndex:i})=>[Kr(e-o,s,i),Kr(t+o,s,i)],Im=(e,t)=>e===t?!0:e.firstRowIndex===t.firstRowIndex&&e.lastRowIndex===t.lastRowIndex&&e.firstColumnIndex===t.firstColumnIndex&&e.lastColumnIndex===t.lastColumnIndex,gT={maxSize:3},vT=e=>{const t=Wo(),o=Ge(),s=Re(t,bn),i=Re(t,YS),a=Re(t,im),{ref:l,onRenderZonePositioning:d,renderZoneMinColumnIndex:p=0,renderZoneMaxColumnIndex:f=s.length,getRowProps:m}=e,g=zt(),v=Re(t,Ur),b=Re(t,bc),C=Re(t,Ln),x=Re(t,Hi),S=Re(t,Ds),_=Re(t,Zi),P=gr(t,o),z=c.useRef(null),R=c.useRef(null),j=Vo(l,R),[k,M]=c.useState(null),E=c.useRef(k),$=c.useRef({top:0,left:0}),[N,F]=c.useState({width:null,height:null}),G=c.useRef(b),[H,T]=c.useState(null),A=c.useRef(Object.create(null)),B=c.useRef(),W=c.useRef(),D=c.useRef(pa((ie,fe,me,ye,ne,ge)=>{let we;const Fe=ie.slice(fe,me);return ge>-1&&(fe>ge&&ge>=ye||me<ge&&ge<ne)&&(we=ge),{focusedCellColumnIndexNotInRange:we,renderedColumns:Fe}},gT)),V=c.useMemo(()=>C!==null?s.findIndex(ie=>ie.field===C.field):-1,[C,s]),Z=c.useCallback(()=>{if(!i)return{firstRowIndex:0,lastRowIndex:P.rows.length,firstColumnIndex:0,lastColumnIndex:s.length};const{top:ie,left:fe}=$.current,me=Math.min(Yd(t,P,S,ie),S.positions.length-1),ye=o.autoHeight?me+P.rows.length:Yd(t,P,S,ie+N.height);let ne=0,ge=v.length;if(a){let we=!1;const[Fe,Ne]=zo({firstIndex:me,lastIndex:ye,minFirstIndex:0,maxLastIndex:P.rows.length,buffer:o.rowBuffer});for(let Ie=Fe;Ie<Ne&&!we;Ie+=1){const be=P.rows[Ie];we=t.current.rowHasAutoHeight(be.id)}we||(ne=Jr(Math.abs(fe),v),ge=Jr(Math.abs(fe)+N.width,v))}return{firstRowIndex:me,lastRowIndex:ye,firstColumnIndex:ne,lastColumnIndex:ge}},[i,a,S,o.autoHeight,o.rowBuffer,P,v,s.length,t,N]);gn(()=>{i?(R.current.scrollLeft=0,R.current.scrollTop=0):z.current.style.transform="translate3d(0px, 0px, 0px)"},[i]),gn(()=>{F({width:R.current.clientWidth,height:R.current.clientHeight})},[S.currentPageTotalHeight]);const K=c.useCallback(()=>{R.current&&F({width:R.current.clientWidth,height:R.current.clientHeight})},[]);Ve(t,"debouncedResize",K);const Q=c.useCallback(ie=>{const[fe,me]=zo({firstIndex:ie.firstRowIndex,lastIndex:ie.lastRowIndex,minFirstIndex:0,maxLastIndex:P.rows.length,buffer:o.rowBuffer}),[ye]=zo({firstIndex:ie.firstColumnIndex,lastIndex:ie.lastColumnIndex,minFirstIndex:p,maxLastIndex:f,buffer:o.columnBuffer}),ne=zl({firstColumnToRender:ye,apiRef:t,firstRowToRender:fe,lastRowToRender:me,visibleRows:P.rows}),ge=g.direction==="ltr"?1:-1,we=Ds(t.current.state).positions[fe],Fe=ge*Ur(t)[ne];z.current.style.transform=`translate3d(${Fe}px, ${we}px, 0px)`,typeof d=="function"&&d({top:we,left:Fe})},[t,P.rows,d,p,f,o.columnBuffer,o.rowBuffer,g.direction]),Y=c.useCallback(()=>E.current,[]),ee=c.useCallback(ie=>{if(E.current&&Im(ie,E.current)){Q(ie);return}M(ie),Q(ie);const[fe,me]=zo({firstIndex:ie.firstRowIndex,lastIndex:ie.lastRowIndex,minFirstIndex:0,maxLastIndex:P.rows.length,buffer:o.rowBuffer});t.current.publishEvent("renderedRowsIntervalChange",{firstRowToRender:fe,lastRowToRender:me}),E.current=ie},[t,M,E,P.rows.length,o.rowBuffer,Q]);gn(()=>{if(N.width==null)return;const ie=Z();ee(ie);const{top:fe,left:me}=$.current,ye={top:fe,left:me,renderContext:ie};t.current.publishEvent("scrollPositionChange",ye)},[t,Z,N.width,ee]);const q=to(ie=>{const{scrollTop:fe,scrollLeft:me}=ie.currentTarget;if($.current.top=fe,$.current.left=me,!E.current||fe<0||g.direction==="ltr"&&me<0||g.direction==="rtl"&&me>0)return;const ye=i?Z():E.current,ne=Math.abs(ye.firstRowIndex-E.current.firstRowIndex),ge=Math.abs(ye.lastRowIndex-E.current.lastRowIndex),we=Math.abs(ye.firstColumnIndex-E.current.firstColumnIndex),Fe=Math.abs(ye.lastColumnIndex-E.current.lastColumnIndex),Ne=ne>=o.rowThreshold||ge>=o.rowThreshold||we>=o.columnThreshold||Fe>=o.columnThreshold||G.current!==b;t.current.publishEvent("scrollPositionChange",{top:fe,left:me,renderContext:Ne?ye:E.current},ie),Ne&&(Os.flushSync(()=>{ee(ye)}),G.current=b)}),te=to(ie=>{t.current.publishEvent("virtualScrollerWheel",{},ie)}),ae=to(ie=>{t.current.publishEvent("virtualScrollerTouchMove",{},ie)}),X=c.useMemo(()=>C!==null?P.rows.findIndex(ie=>ie.id===C.id):-1,[C,P.rows]);Ve(t,"rowMouseOver",(ie,fe)=>{var me;fe.currentTarget.contains(fe.relatedTarget)||T((me=ie.id)!=null?me:null)}),Ve(t,"rowMouseOut",(ie,fe)=>{fe.currentTarget.contains(fe.relatedTarget)||T(null)});const ve=(ie={renderContext:k})=>{var fe;const{onRowRender:me,renderContext:ye,minFirstColumn:ne=p,maxLastColumn:ge=f,availableSpace:we=N.width,rowIndexOffset:Fe=0,position:Ne="center"}=ie;if(!ye||we==null)return null;const Ie=i?o.rowBuffer:0,be=i?o.columnBuffer:0,[Pe,ke]=zo({firstIndex:ye.firstRowIndex,lastIndex:ye.lastRowIndex,minFirstIndex:0,maxLastIndex:P.rows.length,buffer:Ie}),We=[];if(ie.rows)ie.rows.forEach(Ct=>{We.push(Ct),t.current.calculateColSpan({rowId:Ct.id,minFirstColumn:ne,maxLastColumn:ge,columns:s})});else{if(!P.range)return null;for(let Ct=Pe;Ct<ke;Ct+=1){const de=P.rows[Ct];We.push(de),t.current.calculateColSpan({rowId:de.id,minFirstColumn:ne,maxLastColumn:ge,columns:s})}}let nt=!1;if(X>-1){const Ct=P.rows[X];(Pe>X||ke<X)&&(nt=!0,X>Pe?We.push(Ct):We.unshift(Ct),t.current.calculateColSpan({rowId:Ct.id,minFirstColumn:ne,maxLastColumn:ge,columns:s}))}const[et,Xe]=zo({firstIndex:ye.firstColumnIndex,lastIndex:ye.lastColumnIndex,minFirstIndex:ne,maxLastIndex:ge,buffer:be}),Ke=zl({firstColumnToRender:et,apiRef:t,firstRowToRender:Pe,lastRowToRender:ke,visibleRows:P.rows});let St=!1;(Ke>V||Xe<V)&&(St=!0);const{focusedCellColumnIndexNotInRange:it,renderedColumns:ot}=D.current(s,Ke,Xe,ne,ge,St?V:-1),Jt=((fe=o.slotProps)==null?void 0:fe.row)||{},{style:kt}=Jt,Ht=ze(Jt,hT);(B.current!==m||W.current!==kt)&&(A.current=Object.create(null));const on=[];let ln=!1;for(let Ct=0;Ct<We.length;Ct+=1){var jt;const{id:de,model:re}=We[Ct],_e=nt&&C.id===de,Je=nt?Pe+Ct===P.rows.length:Pe+Ct===P.rows.length-1,Ze=t.current.rowHasAutoHeight(de)?"auto":t.current.unstable_getRowHeight(de);let qe;_[de]==null?qe=!1:qe=t.current.isRowSelectable(de),me&&me(de);const Ye=C!==null&&C.id===de?C.field:null,Se=it!==void 0&&s[it],Ae=Se&&Ye?[Se,...ot]:ot;let $e=null;x!==null&&x.id===de&&($e=t.current.getCellParams(de,x.field).cellMode==="view"?x.field:null);const Ee=typeof m=="function"&&m(de,re)||{},{style:Me}=Ee,Oe=ze(Ee,mT);if(!A.current[de]){const Qt=I({},Me,kt);A.current[de]=Qt}let De=Fe+((P==null||(jt=P.range)==null?void 0:jt.firstRowIndex)||0)+Pe+Ct;nt&&(C==null?void 0:C.id)===de?(De=X,ln=!0):ln&&(De-=1),on.push(h.jsx(o.slots.row,I({row:re,rowId:de,focusedCellColumnIndexNotInRange:it,isNotVisible:_e,rowHeight:Ze,focusedCell:Ye,tabbableCell:$e,renderedColumns:Ae,visibleColumns:s,firstColumnToRender:Ke,lastColumnToRender:Xe,selected:qe,index:De,containerWidth:we,isLastVisible:Je,position:Ne},Oe,Ht,{hovered:H===de,style:A.current[de]}),de))}return B.current=m,W.current=kt,on},Ce=N.width&&b>=N.width,le=c.useMemo(()=>{const ie=Math.max(S.currentPageTotalHeight,1);let fe=!1;R!=null&&R.current&&ie<=(R==null?void 0:R.current.clientHeight)&&(fe=!0);const me={width:Ce?b:"auto",height:ie,minHeight:fe?"100%":"auto"};return o.autoHeight&&P.rows.length===0&&(me.height=zh(t,o.rowHeight)),me},[t,R,b,S.currentPageTotalHeight,Ce,o.autoHeight,o.rowHeight,P.rows.length]);c.useEffect(()=>{t.current.publishEvent("virtualScrollerContentSizeChange")},[t,le]);const ce=c.useMemo(()=>{const ie={};return Ce||(ie.overflowX="hidden"),o.autoHeight&&(ie.overflowY="hidden"),ie},[Ce,o.autoHeight]);return t.current.register("private",{getRenderContext:Y}),{renderContext:k,updateRenderZonePosition:Q,getRows:ve,getRootProps:(ie={})=>I({ref:j,onScroll:q,onWheel:te,onTouchMove:ae},ie,{style:ie.style?I({},ie.style,ce):ce,role:"presentation"}),getContentProps:({style:ie}={})=>({style:ie?I({},ie,le):le,role:"presentation"}),getRenderZoneProps:()=>({ref:z,role:"rowgroup"})}};function Yd(e,t,o,s){var i,a;const l=e.current.getLastMeasuredRowIndex();let d=l===1/0;(i=t.range)!=null&&i.lastRowIndex&&!d&&(d=l>=t.range.lastRowIndex);const p=Kr(l-(((a=t.range)==null?void 0:a.firstRowIndex)||0),0,o.positions.length);return d||o.positions[p]>=s?Jr(s,o.positions):fT(s,o.positions,p)}const yT=e=>{const{classes:t,headerAlign:o,isDragging:s,showColumnBorder:i,groupId:a}=e;return mt({root:["columnHeader",o==="left"&&"columnHeader--alignLeft",o==="center"&&"columnHeader--alignCenter",o==="right"&&"columnHeader--alignRight",s&&"columnHeader--moving",i&&"columnHeader--showColumnBorder",i&&"columnHeader--withRightBorder","withBorderColor",a===null?"columnHeader--emptyGroup":"columnHeader--filledGroup"],draggableContainer:["columnHeaderDraggableContainer"],titleContainer:["columnHeaderTitleContainer","withBorderColor"],titleContainerContent:["columnHeaderTitleContainerContent"]},ft,t)};function bT(e){var t;const{groupId:o,width:s,depth:i,maxDepth:a,fields:l,height:d,colIndex:p,hasFocus:f,tabIndex:m,isLastColumn:g}=e,v=Ge(),b=c.useRef(null),C=pt(),x=Re(C,Ph),S=o?x[o]:{},{headerName:_=o??"",description:P="",headerAlign:z=void 0}=S;let R;const j=o&&((t=x[o])==null?void 0:t.renderHeaderGroup),k=c.useMemo(()=>({groupId:o,headerName:_,description:P,depth:i,maxDepth:a,fields:l,colIndex:p,isLastColumn:g}),[o,_,P,i,a,l,p,g]);o&&j&&(R=j(k));const M=v.showColumnVerticalBorder,E=I({},e,{classes:v.classes,showColumnBorder:M,headerAlign:z,depth:i,isDragging:!1}),$=_??o,N=Bt(),F=o===null?`empty-group-cell-${N}`:o,G=yT(E);c.useLayoutEffect(()=>{if(f){const W=b.current.querySelector('[tabindex="0"]')||b.current;W==null||W.focus()}},[C,f]);const H=c.useCallback(B=>W=>{Gs(W)||C.current.publishEvent(B,k,W)},[C,k]),T=c.useMemo(()=>({onKeyDown:H("columnGroupHeaderKeyDown"),onFocus:H("columnGroupHeaderFocus"),onBlur:H("columnGroupHeaderBlur")}),[H]),A=typeof S.headerClassName=="function"?S.headerClassName(k):S.headerClassName;return h.jsx(Uh,I({ref:b,classes:G,columnMenuOpen:!1,colIndex:p,height:d,isResizing:!1,sortDirection:null,hasFocus:!1,tabIndex:m,isDraggable:!1,headerComponent:R,headerClassName:A,description:P,elementId:F,width:s,columnMenuIconButton:null,columnTitleIconButtons:null,resizable:!1,label:$,"aria-colspan":l.length,"data-fields":`|-${l.join("-|-")}-|`},T))}const Qd=Le("div",{name:"MuiDataGrid",slot:"ColumnHeaderRow",overridesResolver:(e,t)=>t.columnHeaderRow})(()=>({display:"flex"}));function CT(e){return!!e.target}const xT=e=>{const{innerRef:t,minColumnIndex:o=0,visibleColumns:s,sortColumnLookup:i,filterColumnLookup:a,columnPositions:l,columnHeaderTabIndexState:d,columnGroupHeaderTabIndexState:p,columnHeaderFocus:f,columnGroupHeaderFocus:m,densityFactor:g,headerGroupingMaxDepth:v,columnMenuState:b,columnVisibility:C,columnGroupsHeaderStructure:x,hasOtherElementInTabSequence:S}=e,_=zt(),[P,z]=c.useState(""),[R,j]=c.useState(""),k=Wo(),M=Re(k,im),E=Ge(),$=c.useRef(null),N=Vo(t,$),[F,G]=c.useState(null),H=c.useRef(F),T=c.useRef(0),A=gr(k,E),B=zc(k,E.columnHeaderHeight),W=Math.floor(E.columnHeaderHeight*g),D=c.useCallback(Ce=>{F&&Ce&&Im(F,Ce)||G(Ce)},[F]);c.useEffect(()=>{var Ce;(Ce=k.current.columnHeadersContainerElementRef)!=null&&Ce.current&&(k.current.columnHeadersContainerElementRef.current.scrollLeft=0)},[k]);const V=c.useRef(pa(hI,{equalityCheck:(Ce,le)=>["firstColumnIndex","minColumnIndex","columnBuffer"].every(ce=>Ce[ce]===le[ce])})),Z=c.useCallback(Ce=>{const[le,ce]=zo({firstIndex:Ce.firstRowIndex,lastIndex:Ce.lastRowIndex,minFirstIndex:0,maxLastIndex:A.rows.length,buffer:E.rowBuffer}),ie=V.current({firstColumnIndex:Ce.firstColumnIndex,minColumnIndex:o,columnBuffer:E.columnBuffer,firstRowToRender:le,lastRowToRender:ce,apiRef:k,visibleRows:A.rows}),fe=_.direction==="ltr"?1:-1,me=ie>0?T.current-fe*l[ie]:T.current;$.current.style.transform=`translate3d(${-me}px, 0px, 0px)`},[l,o,E.columnBuffer,k,A.rows,E.rowBuffer,_.direction]);c.useLayoutEffect(()=>{F&&Z(F)},[F,Z]);const K=c.useCallback(({left:Ce,renderContext:le=null},ce)=>{var ie,fe;if(!$.current||T.current===Ce&&((ie=H.current)==null?void 0:ie.firstColumnIndex)===(le==null?void 0:le.firstColumnIndex)&&((fe=H.current)==null?void 0:fe.lastColumnIndex)===(le==null?void 0:le.lastColumnIndex))return;T.current=Ce;let me=!1;le!==H.current||!H.current?(CT(ce)?(Os.flushSync(()=>{D(le)}),me=!0):D(le),H.current=le):me=!0,le&&me&&Z(le)},[Z,D]),Q=c.useCallback(Ce=>j(Ce.field),[]),Y=c.useCallback(()=>j(""),[]),ee=c.useCallback(Ce=>z(Ce.field),[]),q=c.useCallback(()=>z(""),[]);Ve(k,"columnResizeStart",Q),Ve(k,"columnResizeStop",Y),Ve(k,"columnHeaderDragStart",ee),Ve(k,"columnHeaderDragEnd",q),Ve(k,"scrollPositionChange",K);const te=Ce=>{const{renderContext:le=F,minFirstColumn:ce=o,maxLastColumn:ie=s.length}=Ce||{};if(!le)return null;const[fe,me]=zo({firstIndex:le.firstRowIndex,lastIndex:le.lastRowIndex,minFirstIndex:0,maxLastIndex:A.rows.length,buffer:E.rowBuffer}),ye=M?V.current({firstColumnIndex:le.firstColumnIndex,minColumnIndex:ce,columnBuffer:E.columnBuffer,apiRef:k,firstRowToRender:fe,lastRowToRender:me,visibleRows:A.rows}):0,ne=M?Math.min(le.lastColumnIndex+E.columnBuffer,ie):ie;return{renderedColumns:s.slice(ye,ne),firstColumnToRender:ye,lastColumnToRender:ne,minFirstColumn:ce,maxLastColumn:ie}},ae=(Ce,le={})=>{const ce=te(Ce);if(ce==null)return null;const{renderedColumns:ie,firstColumnToRender:fe}=ce,me=[];for(let ye=0;ye<ie.length;ye+=1){const ne=ie[ye],ge=fe+ye,we=ge===0,Fe=d!==null&&d.field===ne.field||we&&!S?0:-1,Ne=f!==null&&f.field===ne.field,Ie=b.open&&b.field===ne.field;me.push(h.jsx(xS,I({},i[ne.field],{columnMenuOpen:Ie,filterItemsCounter:a[ne.field]&&a[ne.field].length,headerHeight:W,isDragging:ne.field===P,colDef:ne,colIndex:ge,isResizing:R===ne.field,hasFocus:Ne,tabIndex:Fe},le),ne.field))}return h.jsx(Qd,{role:"row","aria-rowindex":v+1,ownerState:E,children:me})},X=Ce=>{if(v===0)return null;const le=te(Ce);if(le==null||le.renderedColumns.length===0)return null;const{firstColumnToRender:ce,lastColumnToRender:ie}=le,fe=[],me=[];for(let ge=0;ge<v;ge+=1){var ye,ne;const we=x[ge],Fe=s[ce].field,Ne=(ye=k.current.unstable_getColumnGroupPath(Fe)[ge])!=null?ye:null,Ie=we.findIndex(({groupId:it,columnFields:ot})=>it===Ne&&ot.includes(Fe)),be=s[ie-1].field,Pe=(ne=k.current.unstable_getColumnGroupPath(be)[ge])!=null?ne:null,ke=we.findIndex(({groupId:it,columnFields:ot})=>it===Pe&&ot.includes(be)),We=we.slice(Ie,ke+1).map(it=>I({},it,{columnFields:it.columnFields.filter(ot=>C[ot]!==!1)})).filter(it=>it.columnFields.length>0),nt=We[0].columnFields.indexOf(Fe),Xe=We[0].columnFields.slice(0,nt).reduce((it,ot)=>{var Jt;const kt=k.current.getColumn(ot);return it+((Jt=kt.computedWidth)!=null?Jt:0)},0);let Ke=ce;const St=We.map(({groupId:it,columnFields:ot})=>{const Jt=m!==null&&m.depth===ge&&ot.includes(m.field),kt=p!==null&&p.depth===ge&&ot.includes(p.field)?0:-1,Ht={groupId:it,width:ot.reduce((dn,on)=>dn+k.current.getColumn(on).computedWidth,0),fields:ot,colIndex:Ke,hasFocus:Jt,tabIndex:kt};return Ke+=ot.length,Ht});me.push({leftOverflow:Xe,elements:St})}return me.forEach((ge,we)=>{fe.push(h.jsx(Qd,{style:{height:`${W}px`,transform:`translateX(-${ge.leftOverflow}px)`},role:"row","aria-rowindex":we+1,ownerState:E,children:ge.elements.map(({groupId:Fe,width:Ne,fields:Ie,colIndex:be,hasFocus:Pe,tabIndex:ke},We)=>h.jsx(bT,{groupId:Fe,width:Ne,fields:Ie,colIndex:be,depth:we,isLastColumn:be===s.length-Ie.length,maxDepth:me.length,height:W,hasFocus:Pe,tabIndex:ke},We))},we))}),fe},ve={minHeight:B,maxHeight:B,lineHeight:`${W}px`};return{renderContext:F,getColumnHeaders:ae,getColumnsToRender:te,getColumnGroupHeaders:X,isDragging:!!P,getRootProps:(Ce={})=>I({style:ve},Ce),getInnerProps:()=>({ref:N,role:"rowgroup"}),headerHeight:W}},wT=["className"],ST=e=>{const{classes:t}=e;return mt({root:["columnHeaders","withBorderColor"]},ft,t)},_T=vn("div",{name:"MuiDataGrid",slot:"ColumnHeaders",overridesResolver:(e,t)=>t.columnHeaders})({position:"relative",overflow:"hidden",display:"flex",alignItems:"center",boxSizing:"border-box",borderBottom:"1px solid",borderTopLeftRadius:"var(--unstable_DataGrid-radius)",borderTopRightRadius:"var(--unstable_DataGrid-radius)"}),PT=c.forwardRef(function(t,o){const{className:s}=t,i=ze(t,wT),a=Ge(),l=ST(a);return h.jsx(_T,I({ref:o,className:je(s,l.root),ownerState:a},i,{role:"presentation"}))}),IT=["isDragging","className"],TT=e=>{const{isDragging:t,hasScrollX:o,classes:s}=e;return mt({root:["columnHeadersInner",t&&"columnHeaderDropZone",o&&"columnHeadersInner--scrollable"]},ft,s)},kT=vn("div",{name:"MuiDataGrid",slot:"columnHeadersInner",overridesResolver:(e,t)=>[{[`&.${J.columnHeaderDropZone}`]:t.columnHeaderDropZone},t.columnHeadersInner]})(()=>({display:"flex",alignItems:"flex-start",flexDirection:"column",[`&.${J.columnHeaderDropZone} .${J.columnHeaderDraggableContainer}`]:{cursor:"move"},[`&.${J["columnHeadersInner--scrollable"]} .${J.columnHeader}:last-child`]:{borderRight:"none"}})),MT=c.forwardRef(function(t,o){var s,i;const{isDragging:a,className:l}=t,d=ze(t,IT),p=pt(),f=Ge(),m=I({},f,{isDragging:a,hasScrollX:(s=(i=p.current.getRootDimensions())==null?void 0:i.hasScrollX)!=null?s:!1}),g=TT(m);return h.jsx(kT,I({ref:o,className:je(l,g.root),ownerState:m},d))}),AT=["innerRef","className","visibleColumns","sortColumnLookup","filterColumnLookup","columnPositions","columnHeaderTabIndexState","columnGroupHeaderTabIndexState","columnHeaderFocus","columnGroupHeaderFocus","densityFactor","headerGroupingMaxDepth","columnMenuState","columnVisibility","columnGroupsHeaderStructure","hasOtherElementInTabSequence"],ET=c.forwardRef(function(t,o){const{innerRef:s,visibleColumns:i,sortColumnLookup:a,filterColumnLookup:l,columnPositions:d,columnHeaderTabIndexState:p,columnGroupHeaderTabIndexState:f,columnHeaderFocus:m,columnGroupHeaderFocus:g,densityFactor:v,headerGroupingMaxDepth:b,columnMenuState:C,columnVisibility:x,columnGroupsHeaderStructure:S,hasOtherElementInTabSequence:_}=t,P=ze(t,AT),{isDragging:z,getRootProps:R,getInnerProps:j,getColumnHeaders:k,getColumnGroupHeaders:M}=xT({innerRef:s,visibleColumns:i,sortColumnLookup:a,filterColumnLookup:l,columnPositions:d,columnHeaderTabIndexState:p,columnGroupHeaderTabIndexState:f,columnHeaderFocus:m,columnGroupHeaderFocus:g,densityFactor:v,headerGroupingMaxDepth:b,columnMenuState:C,columnVisibility:x,columnGroupsHeaderStructure:S,hasOtherElementInTabSequence:_});return h.jsx(PT,I({ref:o},R(P),{children:h.jsxs(MT,I({isDragging:z},j(),{children:[M(),k()]}))}))}),DT=ba(ET),RT=c.forwardRef(function(t,o){const i=pt().current.getLocaleText("noResultsOverlayLabel");return h.jsx(kc,I({ref:o},t,{children:i}))}),LT=["sortingOrder"],FT=c.memo(function(t){const{sortingOrder:o}=t,s=ze(t,LT),i=Ge(),[a]=o,l=a==="asc"?i.slots.columnSortedAscendingIcon:i.slots.columnSortedDescendingIcon;return l?h.jsx(l,I({},s)):null}),OT=["native"];function NT(e){let{native:t}=e,o=ze(e,OT);return t?h.jsx("option",I({},o)):h.jsx(un,I({},o))}const zT={BooleanCellTrueIcon:b1,BooleanCellFalseIcon:pl,ColumnMenuIcon:f1,OpenFilterButtonIcon:l1,FilterPanelDeleteIcon:pl,ColumnFilteredIcon:Ed,ColumnSelectorIcon:u1,ColumnUnsortedIcon:FT,ColumnSortedAscendingIcon:Td,ColumnSortedDescendingIcon:kd,ColumnResizeIcon:d1,DensityCompactIcon:p1,DensityStandardIcon:h1,DensityComfortableIcon:m1,ExportIcon:y1,MoreActionsIcon:C1,TreeDataCollapseIcon:Ad,TreeDataExpandIcon:Md,GroupingCriteriaCollapseIcon:Ad,GroupingCriteriaExpandIcon:Md,DetailPanelExpandIcon:Dd,DetailPanelCollapseIcon:g1,RowReorderIcon:Rd,QuickFilterIcon:c1,QuickFilterClearIcon:pl,ColumnMenuHideIcon:x1,ColumnMenuSortAscendingIcon:Td,ColumnMenuSortDescendingIcon:kd,ColumnMenuFilterIcon:Ed,ColumnMenuManageColumnsIcon:w1,ColumnMenuClearIcon:S1,LoadIcon:v1,FilterPanelAddIcon:Dd,FilterPanelRemoveAllIcon:_1,ColumnReorderIcon:Rd},$T=I({},zT,{BaseCheckbox:Sl,BaseTextField:Dn,BaseFormControl:Pg,BaseSelect:kp,BaseSwitch:Cb,BaseButton:Pn,BaseIconButton:fn,BaseInputAdornment:ra,BaseTooltip:Mp,BasePopper:qr,BaseInputLabel:_g,BaseSelectOption:NT,BaseChip:Vl}),BT=I({},$T,{Cell:El,SkeletonCell:Nw,ColumnHeaderFilterIconButton:e1,ColumnMenu:$1,ColumnHeaders:DT,Footer:eP,FooterRowCount:cP,Toolbar:null,PreferencesPanel:p_,LoadingOverlay:nP,NoResultsOverlay:RT,NoRowsOverlay:oP,Pagination:sP,FilterPanel:R_,ColumnsPanel:i_,Panel:d_,Row:MP}),Tm=e=>{if(e!==void 0)return Object.keys(e).reduce((t,o)=>I({},t,{[`${o.charAt(0).toLowerCase()}${o.slice(1)}`]:e[o]}),{})};function HT({defaultSlots:e,slots:t,components:o}){const s=t??(o?Tm(o):null);if(!s||Object.keys(s).length===0)return e;const i=I({},e);return Object.keys(s).forEach(a=>{const l=a;s[l]!==void 0&&(i[l]=s[l])}),i}const jT=["components","componentsProps"];function GT(e){var t;const o=Object.keys(e);if(!o.some(a=>a.startsWith("aria-")||a.startsWith("data-")))return e;const s={},i=(t=e.forwardedProps)!=null?t:{};for(let a=0;a<o.length;a+=1){const l=o[a];l.startsWith("aria-")||l.startsWith("data-")?i[l]=e[l]:s[l]=e[l]}return s.forwardedProps=i,s}function VT(e){return c.useMemo(()=>{const{components:t,componentsProps:o}=e,s=ze(e,jT);return[t,o,GT(s)]},[e])}const WT={disableMultipleColumnsFiltering:!0,disableMultipleColumnsSorting:!0,disableMultipleRowSelection:!0,throttleRowsMs:void 0,hideFooterRowCount:!1,pagination:!0,checkboxSelectionVisibleOnly:!1,disableColumnReorder:!0,disableColumnResize:!0,keepColumnPositionIfDraggedOutside:!1,signature:"DataGrid"},xa={autoHeight:!1,autoPageSize:!1,checkboxSelection:!1,checkboxSelectionVisibleOnly:!1,columnBuffer:3,rowBuffer:3,columnThreshold:3,rowThreshold:3,rowSelection:!0,density:"standard",disableColumnFilter:!1,disableColumnMenu:!1,disableColumnSelector:!1,disableDensitySelector:!1,disableEval:!1,disableMultipleColumnsFiltering:!1,disableMultipleRowSelection:!1,disableMultipleColumnsSorting:!1,disableRowSelectionOnClick:!1,disableVirtualization:!1,editMode:fo.Cell,filterMode:"client",filterDebounceMs:150,columnHeaderHeight:56,hideFooter:!1,hideFooterPagination:!1,hideFooterRowCount:!1,hideFooterSelectedRowCount:!1,ignoreDiacritics:!1,logger:console,logLevel:"error",pagination:!1,paginationMode:"client",rowHeight:52,pageSizeOptions:[25,50,100],rowSpacingType:"margin",showCellVerticalBorder:!1,showColumnVerticalBorder:!1,sortingOrder:["asc","desc",null],sortingMode:"client",throttleRowsMs:0,disableColumnReorder:!1,disableColumnResize:!1,keepNonExistentRowsSelected:!1,keepColumnPositionIfDraggedOutside:!1,unstable_ignoreValueFormatterDuringExport:!1,clipboardCopyCellDelimiter:"	",rowPositionsDebounceMs:166},ZT=Tm(BT),UT=e=>{const[t,o,s]=VT(cv({props:e,name:"MuiDataGrid"})),i=c.useMemo(()=>I({},rT,s.localeText),[s.localeText]),a=c.useMemo(()=>HT({defaultSlots:ZT,slots:s.slots,components:t}),[t,s.slots]);return c.useMemo(()=>{var l;return I({},xa,s,{localeText:i,slots:a,slotProps:(l=s.slotProps)!=null?l:o},WT)},[s,i,a,o])},KT=e=>I({},e,{rowsMeta:{currentPageTotalHeight:0,positions:[]}}),ep=(e,t,o)=>typeof e=="number"&&e>0?e:t,JT=(e,t)=>{const{getRowHeight:o,getRowSpacing:s,getEstimatedRowHeight:i}=t,a=c.useRef(Object.create(null)),l=c.useRef(-1),d=c.useRef(!1),p=Re(e,Yr),f=Re(e,mn),m=Re(e,Ac),g=Re(e,Gn),v=gr(e,t),b=Re(e,Xr),C=ep(t.rowHeight,xa.rowHeight),x=Math.floor(C*p),S=c.useCallback(()=>{var G,H;d.current=!1;const T=W=>{a.current[W.id]||(a.current[W.id]={sizes:{baseCenter:x},isResized:!1,autoHeight:!1,needsFirstMeasurement:!0});const{isResized:D,needsFirstMeasurement:V,sizes:Z}=a.current[W.id];let K=typeof x=="number"&&x>0?x:52;const Q=Z.baseCenter;if(D)K=Q;else if(o){const ae=o(I({},W,{densityFactor:p}));if(ae==="auto"){if(V){const X=i?i(I({},W,{densityFactor:p})):x;K=X??x}else K=Q;d.current=!0,a.current[W.id].autoHeight=!0}else K=ep(ae,x),a.current[W.id].needsFirstMeasurement=!1,a.current[W.id].autoHeight=!1}else a.current[W.id].needsFirstMeasurement=!1;const Y={};for(const ae in Z)/^base[A-Z]/.test(ae)&&(Y[ae]=Z[ae]);if(Y.baseCenter=K,s){var ee,q;const ae=e.current.getRowIndexRelativeToVisibleRows(W.id),X=s(I({},W,{isFirstVisible:ae===0,isLastVisible:ae===v.rows.length-1,indexRelativeToCurrentPage:ae}));Y.spacingTop=(ee=X.top)!=null?ee:0,Y.spacingBottom=(q=X.bottom)!=null?q:0}const te=e.current.unstable_applyPipeProcessors("rowHeight",Y,W);return a.current[W.id].sizes=te,te},A=[],B=v.rows.reduce((W,D)=>{A.push(W);let V=0,Z=0;const K=T(D);for(const Q in K){const Y=K[Q];/^base[A-Z]/.test(Q)?V=Y>V?Y:V:Z+=Y}return W+V+Z},0);b==null||(G=b.top)==null||G.forEach(W=>{T(W)}),b==null||(H=b.bottom)==null||H.forEach(W=>{T(W)}),e.current.setState(W=>I({},W,{rowsMeta:{currentPageTotalHeight:B,positions:A}})),d.current||(l.current=1/0),e.current.forceUpdate()},[e,v.rows,x,o,s,i,b,p]),_=c.useCallback(G=>{const H=a.current[G];return H?H.sizes.baseCenter:x},[x]),P=G=>{var H;return(H=a.current[G])==null?void 0:H.sizes},z=c.useCallback((G,H)=>{a.current[G].sizes.baseCenter=H,a.current[G].isResized=!0,a.current[G].needsFirstMeasurement=!1,S()},[S]),R=c.useMemo(()=>fh(S,t.rowPositionsDebounceMs),[S,t.rowPositionsDebounceMs]),j=c.useCallback((G,H,T)=>{if(!a.current[G]||!a.current[G].autoHeight)return;const A=a.current[G].sizes[`base${mo(T)}`]!==H;a.current[G].needsFirstMeasurement=!1,a.current[G].sizes[`base${mo(T)}`]=H,A&&R()},[R]),k=c.useCallback(G=>{var H;return((H=a.current[G])==null?void 0:H.autoHeight)||!1},[]),M=c.useCallback(()=>l.current,[]),E=c.useCallback(G=>{d.current&&G>l.current&&(l.current=G)},[]),$=c.useCallback(()=>{a.current={},S()},[S]);c.useEffect(()=>{S()},[x,f,m,g,S]),Nc(e,"rowHeight",S);const N={unstable_setLastMeasuredRowIndex:E,unstable_getRowHeight:_,unstable_getRowInternalSizes:P,unstable_setRowHeight:z,unstable_storeRowHeightMeasurement:j,resetRowHeights:$},F={getLastMeasuredRowIndex:M,rowHasAutoHeight:k};lt(e,N,"public"),lt(e,F,"private")},qT=e=>{const t=c.useCallback((i={})=>e.current.unstable_applyPipeProcessors("exportState",{},i),[e]),o=c.useCallback(i=>{e.current.unstable_applyPipeProcessors("restoreState",{callbacks:[]},{stateToRestore:i}).callbacks.forEach(l=>{l()}),e.current.forceUpdate()},[e]);lt(e,{exportState:t,restoreState:o},"public")},XT=e=>{const t=c.useRef({}),o=c.useCallback((f,m,g)=>{const v=t.current;v[f]||(v[f]={}),v[f][m]=g},[]),s=c.useCallback((f,m)=>{var g;return(g=t.current[f])==null?void 0:g[m]},[]),i=c.useCallback(f=>{const{columnIndex:m,rowId:g,minFirstColumnIndex:v,maxLastColumnIndex:b,columns:C}=f,x=C.length,S=C[m],_=typeof S.colSpan=="function"?S.colSpan(e.current.getCellParams(g,S.field)):S.colSpan;if(!_||_===1)return o(g,m,{spannedByColSpan:!1,cellProps:{colSpan:1,width:S.computedWidth}}),{colSpan:1};let P=S.computedWidth;for(let z=1;z<_;z+=1){const R=m+z;if(R>=v&&R<b){const j=C[R];P+=j.computedWidth,o(g,m+z,{spannedByColSpan:!0,rightVisibleCellIndex:Math.min(m+_,x-1),leftVisibleCellIndex:m})}o(g,m,{spannedByColSpan:!1,cellProps:{colSpan:_,width:P}})}return{colSpan:_}},[e,o]),a=c.useCallback(({rowId:f,minFirstColumn:m,maxLastColumn:g,columns:v})=>{for(let b=m;b<g;b+=1){const C=i({columnIndex:b,rowId:f,minFirstColumnIndex:m,maxLastColumnIndex:g,columns:v});C.colSpan>1&&(b+=C.colSpan-1)}},[i]),l={unstable_getCellColSpanInfo:s},d={calculateColSpan:a};lt(e,l,"public"),lt(e,d,"private");const p=c.useCallback(()=>{t.current={}},[]);Ve(e,"columnOrderChange",p)},km=(e,t,o)=>{if($h(e)){if(o[e.field]!==void 0)throw new Error(["MUI: columnGroupingModel contains duplicated field",`column field ${e.field} occurs two times in the grouping model:`,`- ${o[e.field].join(" > ")}`,`- ${t.join(" > ")}`].join(`
`));o[e.field]=t;return}const{groupId:s,children:i}=e;i.forEach(a=>{km(a,[...t,s],o)})},$l=e=>{if(!e)return{};const t={};return e.forEach(o=>{km(o,[],t)}),t},Bl=(e,t,o)=>{const s=p=>{var f;return(f=t[p])!=null?f:[]},i=[],a=Math.max(...e.map(p=>s(p).length)),l=(p,f,m)=>lr(s(p).slice(0,m+1),s(f).slice(0,m+1)),d=(p,f)=>!!(o!=null&&o.left&&o.left.includes(p)&&!o.left.includes(f)||o!=null&&o.right&&!o.right.includes(p)&&o.right.includes(f));for(let p=0;p<a;p+=1){const f=e.reduce((m,g)=>{var v;const b=(v=s(g)[p])!=null?v:null;if(m.length===0)return[{columnFields:[g],groupId:b}];const C=m[m.length-1],x=C.columnFields[C.columnFields.length-1];return C.groupId!==b||!l(x,g,p)||d(x,g)?[...m,{columnFields:[g],groupId:b}]:[...m.slice(0,m.length-1),{columnFields:[...C.columnFields,g],groupId:b}]},[]);i.push(f)}return i},YT=["groupId","children"],$c=e=>{let t={};return e.forEach(o=>{if($h(o))return;const{groupId:s,children:i}=o,a=ze(o,YT);if(!s)throw new Error("MUI: An element of the columnGroupingModel does not have either `field` or `groupId`.");i||console.warn(`MUI: group groupId=${s} has no children.`);const l=I({},a,{groupId:s}),d=$c(i);if(d[s]!==void 0||t[s]!==void 0)throw new Error(`MUI: The groupId ${s} is used multiple times in the columnGroupingModel.`);t=I({},t,d,{[s]:l})}),I({},t)},QT=(e,t,o)=>{var s,i,a,l;if(!((s=t.experimentalFeatures)!=null&&s.columnGrouping))return e;const d=Io(o),p=ha(o),f=$c((i=t.columnGroupingModel)!=null?i:[]),m=$l((a=t.columnGroupingModel)!=null?a:[]),g=Bl(d,m,(l=o.current.state.pinnedColumns)!=null?l:{}),v=p.length===0?0:Math.max(...p.map(b=>{var C,x;return(C=(x=m[b])==null?void 0:x.length)!=null?C:0}));return I({},e,{columnGrouping:{lookup:f,unwrappedGroupingModel:m,headerStructure:g,maxDepth:v}})},ek=(e,t)=>{var o;const s=c.useCallback(p=>{var f;return(f=px(e)[p])!=null?f:[]},[e]),i=c.useCallback(()=>Ph(e),[e]);lt(e,{unstable_getColumnGroupPath:s,unstable_getAllGroupDetails:i},"public");const l=c.useCallback(()=>{var p;const f=$l((p=t.columnGroupingModel)!=null?p:[]);e.current.setState(m=>{var g,v,b;const C=(g=(v=m.columns)==null?void 0:v.orderedFields)!=null?g:[],x=(b=m.pinnedColumns)!=null?b:{},S=Bl(C,f,x);return I({},m,{columnGrouping:I({},m.columnGrouping,{headerStructure:S})})})},[e,t.columnGroupingModel]),d=c.useCallback(p=>{var f,m,g,v;if(!((f=t.experimentalFeatures)!=null&&f.columnGrouping))return;const b=(m=(g=(v=e.current).getPinnedColumns)==null?void 0:g.call(v))!=null?m:{},C=Io(e),x=ha(e),S=$c(p??[]),_=$l(p??[]),P=Bl(C,_,b),z=x.length===0?0:Math.max(...x.map(R=>{var j,k;return(j=(k=_[R])==null?void 0:k.length)!=null?j:0}));e.current.setState(R=>I({},R,{columnGrouping:{lookup:S,unwrappedGroupingModel:_,headerStructure:P,maxDepth:z}}))},[e,(o=t.experimentalFeatures)==null?void 0:o.columnGrouping]);Ve(e,"columnIndexChange",l),Ve(e,"columnsChange",()=>{d(t.columnGroupingModel)}),Ve(e,"columnVisibilityModelChange",()=>{d(t.columnGroupingModel)}),c.useEffect(()=>{d(t.columnGroupingModel)},[d,t.columnGroupingModel])},tk=(e,t)=>{const o=GP(e,t);return iT(o,t),tT(o),An(nT,o,t),An(mI,o,t),An(qI,o,t),An(KI,o,t),An(EI,o,t),An(aT,o,t),An(zI,o,t),An(TI,o,t),An(yI,o,t),An(OI,o,t),An(KT,o,t),An(cI,o,t),An(QT,o,t),An(qS,o,t),LI(o,t),oT(o,t),fI(o,t),XI(o,t),Wx(o,t),XT(o),ek(o,t),JI(o,t),DI(o,t),$I(o,t),AI(o,t),lT(o,t),bI(o,t),NI(o,t),JT(o,t),cT(o,t),uI(o),wI(o,t),II(o,t),lI(o,t),pT(o,t),uT(o,t),qT(o),XS(o,t),o},nk=e=>{const{classes:t}=e;return mt({root:["virtualScroller"]},ft,t)},ok=vn("div",{name:"MuiDataGrid",slot:"VirtualScroller",overridesResolver:(e,t)=>t.virtualScroller})({overflow:"auto",height:"100%",position:"relative","@media print":{overflow:"hidden"},zIndex:0}),rk=c.forwardRef(function(t,o){const s=Ge(),i=nk(s);return h.jsx(ok,I({ref:o},t,{className:je(i.root,t.className),ownerState:s}))}),sk=(e,t)=>{const{classes:o}=e;return mt({root:["virtualScrollerContent",t&&"virtualScrollerContent--overflowed"]},ft,o)},ik=vn("div",{name:"MuiDataGrid",slot:"VirtualScrollerContent",overridesResolver:(e,t)=>t.virtualScrollerContent})({}),ak=c.forwardRef(function(t,o){var s;const i=Ge(),a=!i.autoHeight&&((s=t.style)==null?void 0:s.minHeight)==="auto",l=sk(i,a);return h.jsx(ik,I({ref:o},t,{ownerState:i,className:je(l.root,t.className)}))}),lk=["className"],ck=e=>{const{classes:t}=e;return mt({root:["virtualScrollerRenderZone"]},ft,t)},uk=vn("div",{name:"MuiDataGrid",slot:"VirtualScrollerRenderZone",overridesResolver:(e,t)=>t.virtualScrollerRenderZone})({position:"absolute",display:"flex",flexDirection:"column"}),dk=c.forwardRef(function(t,o){const{className:s}=t,i=ze(t,lk),a=Ge(),l=ck(a);return h.jsx(uk,I({ref:o,className:je(l.root,s),ownerState:a},i))}),pk=["className"],hk=c.forwardRef(function(t,o){const{className:s}=t,i=ze(t,pk),{getRootProps:a,getContentProps:l,getRenderZoneProps:d,getRows:p}=vT({ref:o});return h.jsxs(rk,I({className:s},a(i),{children:[h.jsx(zx,{}),h.jsx(ak,I({},l(),{children:h.jsx(dk,I({},d(),{children:p()}))}))]}))}),Mm=c.forwardRef(function(t,o){const s=UT(t),i=tk(s.apiRef,s);return h.jsx(AP,{privateApiRef:i,props:s,children:h.jsxs(jw,I({className:s.className,style:s.style,sx:s.sx,ref:o},s.forwardedProps,{children:[h.jsx(tP,{}),h.jsx(Mx,{VirtualScrollerComponent:hk}),h.jsx(Ax,{})]}))})}),mk=c.memo(Mm);xa.filterDebounceMs;xa.filterDebounceMs;Mm.propTypes={apiRef:se.shape({current:se.object.isRequired}),"aria-label":se.string,"aria-labelledby":se.string,autoHeight:se.bool,autoPageSize:se.bool,cellModesModel:se.object,checkboxSelection:se.bool,classes:se.object,clipboardCopyCellDelimiter:se.string,columnBuffer:se.number,columnGroupingModel:se.arrayOf(se.object),columnHeaderHeight:se.number,columns:z0(se.array.isRequired),columnThreshold:se.number,columnVisibilityModel:se.object,components:se.object,componentsProps:se.object,density:se.oneOf(["comfortable","compact","standard"]),disableColumnFilter:se.bool,disableColumnMenu:se.bool,disableColumnSelector:se.bool,disableDensitySelector:se.bool,disableEval:se.bool,disableRowSelectionOnClick:se.bool,disableVirtualization:se.bool,editMode:se.oneOf(["cell","row"]),experimentalFeatures:se.shape({ariaV7:se.bool,columnGrouping:se.bool,warnIfFocusStateIsNotSynced:se.bool}),filterDebounceMs:se.number,filterMode:se.oneOf(["client","server"]),filterModel:se.shape({items:se.arrayOf(se.shape({field:se.string.isRequired,id:se.oneOfType([se.number,se.string]),operator:se.string.isRequired,value:se.any})).isRequired,logicOperator:se.oneOf(["and","or"]),quickFilterExcludeHiddenColumns:se.bool,quickFilterLogicOperator:se.oneOf(["and","or"]),quickFilterValues:se.array}),forwardedProps:se.object,getCellClassName:se.func,getDetailPanelContent:se.func,getEstimatedRowHeight:se.func,getRowClassName:se.func,getRowHeight:se.func,getRowId:se.func,getRowSpacing:se.func,hideFooter:se.bool,hideFooterPagination:se.bool,hideFooterSelectedRowCount:se.bool,ignoreDiacritics:se.bool,initialState:se.object,isCellEditable:se.func,isRowSelectable:se.func,keepNonExistentRowsSelected:se.bool,loading:se.bool,localeText:se.object,logger:se.shape({debug:se.func.isRequired,error:se.func.isRequired,info:se.func.isRequired,warn:se.func.isRequired}),logLevel:se.oneOf(["debug","error","info","warn",!1]),nonce:se.string,onCellClick:se.func,onCellDoubleClick:se.func,onCellEditStart:se.func,onCellEditStop:se.func,onCellKeyDown:se.func,onCellModesModelChange:se.func,onClipboardCopy:se.func,onColumnHeaderClick:se.func,onColumnHeaderDoubleClick:se.func,onColumnHeaderEnter:se.func,onColumnHeaderLeave:se.func,onColumnHeaderOut:se.func,onColumnHeaderOver:se.func,onColumnOrderChange:se.func,onColumnVisibilityModelChange:se.func,onFilterModelChange:se.func,onMenuClose:se.func,onMenuOpen:se.func,onPaginationModelChange:se.func,onPreferencePanelClose:se.func,onPreferencePanelOpen:se.func,onProcessRowUpdateError:se.func,onResize:se.func,onRowClick:se.func,onRowCountChange:se.func,onRowDoubleClick:se.func,onRowEditStart:se.func,onRowEditStop:se.func,onRowModesModelChange:se.func,onRowSelectionModelChange:se.func,onSortModelChange:se.func,onStateChange:se.func,pageSizeOptions:se.arrayOf(se.oneOfType([se.number,se.shape({label:se.string.isRequired,value:se.number.isRequired})]).isRequired),pagination:e=>e.pagination===!1?new Error(["MUI: `<DataGrid pagination={false} />` is not a valid prop.","Infinite scrolling is not available in the MIT version.","","You need to upgrade to DataGridPro or DataGridPremium component to disable the pagination."].join(`
`)):null,paginationMode:se.oneOf(["client","server"]),paginationModel:se.shape({page:se.number.isRequired,pageSize:se.number.isRequired}),processRowUpdate:se.func,rowBuffer:se.number,rowCount:se.number,rowHeight:se.number,rowModesModel:se.object,rowPositionsDebounceMs:se.number,rows:se.arrayOf(se.object).isRequired,rowSelection:se.bool,rowSelectionModel:se.oneOfType([se.arrayOf(se.oneOfType([se.number,se.string]).isRequired),se.number,se.string]),rowSpacingType:se.oneOf(["border","margin"]),rowThreshold:se.number,scrollbarSize:se.number,showCellVerticalBorder:se.bool,showColumnVerticalBorder:se.bool,slotProps:se.object,slots:se.object,sortingMode:se.oneOf(["client","server"]),sortingOrder:se.arrayOf(se.oneOf(["asc","desc"])),sortModel:se.arrayOf(se.shape({field:se.string.isRequired,sort:se.oneOf(["asc","desc"])})),sx:se.oneOfType([se.arrayOf(se.oneOfType([se.func,se.object,se.bool])),se.func,se.object]),unstable_ignoreValueFormatterDuringExport:se.oneOfType([se.shape({clipboardExport:se.bool,csvExport:se.bool}),se.bool])};const Am="taskTable_columns_v1";function Lo(){try{const e=localStorage.getItem(Am);return e?JSON.parse(e):null}catch{return null}}function Dr(e){try{localStorage.setItem(Am,JSON.stringify(e))}catch{}}function fk(e,t){if(!t)return e;const o=t.widths||{},s=new Set(t.hidden||[]),i=t.order||[];if(i.length){const a=new Map(e.map(d=>[d.field,d])),l=[];i.forEach(d=>{a.has(d)&&l.push({...a.get(d)})}),e.forEach(d=>{i.includes(d.field)||l.push({...d})}),e=l}else e=e.map(a=>({...a}));return e.map(a=>({...a,width:o[a.field]??a.width,hide:s.has(a.field)}))}function gk({visible:e,x:t,y:o,selectedRows:s,clickedColumnKey:i,clickedRow:a,onClose:l,onOpenPopout:d,onOpenCalloutIncident:p,onProgressTasks:f,onProgressNotes:m,mouseScreenX:g,mouseScreenY:v}){if(!e)return null;const b=s.length?s:a?[a]:[],C=b.length,x=C>1?`Open Viewer (${C})`:"Open Viewer",S=()=>{if(b.length){try{d(b,g,v)}catch($){console.error("ContextMenu â†’ onOpenPopout error:",$)}l()}},_=()=>{if(!(!b.length||!f)){try{f(b)}catch($){console.error("ContextMenu â†’ onProgressTasks error:",$)}l()}},P=()=>{if(!(!b.length||!m)){try{m(b)}catch($){console.error("ContextMenu â†’ onProgressNotes error:",$)}l()}},z=async()=>{if(!a||!i)return;const $=a[i],N=$==null?"":String($);try{await navigator.clipboard.writeText(N)}catch(F){console.error("Clipboard write error:",F)}l()},R=a&&i?String(a[i]??""):"",j=()=>{if(a){try{p(a)}catch($){console.error("ContextMenu â†’ onOpenCalloutIncident error:",$)}l()}},k=(a==null?void 0:a.taskId)??(a==null?void 0:a.TaskID)??(a==null?void 0:a.TaskId)??(a==null?void 0:a.id)??null,M=k?`Callout Incident: ${k}`:"Callout Incident",E=h.jsx(Jl,{children:e&&h.jsxs(mr.ul,{initial:{opacity:0,scale:.96},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.96},transition:{duration:.12},style:{position:"fixed",top:v,left:g,minWidth:`min(90vw, ${24*14.1667}px)`,zIndex:99999},className:"rounded-xl border border-gray-200 bg-white shadow-xl text-sm text-gray-800 py-1 overflow-hidden",onMouseDown:$=>$.stopPropagation(),children:[i&&a&&h.jsxs("li",{onClick:z,className:`px-4 py-2.5 flex items-center gap-3 cursor-pointer 
                         hover:bg-gray-50 transition-all`,children:[h.jsx(Eg,{size:15,className:"text-gray-700"}),h.jsxs("span",{className:"text-gray-800",children:["Copy value:"," ",h.jsx("span",{className:"font-semibold",children:R})]})]}),b.length>0&&f&&h.jsxs("li",{onClick:_,className:`px-4 py-2.5 flex items-center gap-3 cursor-pointer 
                         hover:bg-gray-50 transition-all`,children:[h.jsx(ql,{size:15,className:"text-[#0A4A7A]"}),h.jsx("span",{className:"font-medium text-gray-800",children:C>1?`Progress Tasks (${C})`:"Progress Task"})]}),b.length>0&&m&&h.jsxs("li",{onClick:P,className:`px-4 py-2.5 flex items-center gap-3 cursor-pointer 
                         hover:bg-gray-50 transition-all`,children:[h.jsx(Dg,{size:15,className:"text-[#0A4A7A]"}),h.jsx("span",{className:"font-medium text-gray-800",children:C>1?`Progress Notes (${C})`:"Progress Notes"})]}),h.jsxs("li",{onClick:S,className:`px-4 py-2.5 flex items-center gap-3 cursor-pointer 
                       hover:bg-gray-50 transition-all`,children:[h.jsx(Rg,{size:15,className:"text-gray-700"}),h.jsx("span",{className:"font-medium text-gray-800",children:x})]}),a&&h.jsxs("li",{onClick:j,className:`px-4 py-2.5 flex items-center gap-3 cursor-pointer 
                       hover:bg-red-50 transition-all text-red-700`,children:[h.jsx(Xl,{size:15,className:"text-red-600"}),h.jsx("span",{className:"font-semibold",children:M})]})]})});try{return Os.createPortal(E,document.body)}catch{return E}}function vk({rows:e,headerNames:t,tableHeight:o=600,containerRef:s,reserveBottom:i=160,onOpenPopout:a,onSelectionChange:l,openColumnsAnchor:d,onRequestCloseColumns:p}){const[f,m]=c.useState([]),g=zt(),v=c.useRef([]),b=c.useRef(null),C=c.useRef(null),x=c.useRef(null),S=c.useRef(null),_=c.useRef(null),P=c.useRef(null),z=c.useRef(null),R=c.useRef(null),j=typeof window<"u"&&localStorage.getItem("taskTableDensity")||"compact",k=c.useMemo(()=>Object.keys(t).map(le=>({field:le,headerName:t[le]??le,minWidth:120,sortable:!0,renderHeader:ce=>h.jsxs(Ue,{sx:{display:"inline-flex",alignItems:"center",gap:1,position:"relative"},children:[h.jsx(yt,{variant:"body2",sx:{fontWeight:600,cursor:"grab"},onMouseDown:ie=>{P.current&&(window.clearTimeout(P.current),P.current=null);const fe=ie.nativeEvent;P.current=window.setTimeout(()=>{S.current&&S.current(fe,le),P.current=null},200)},onMouseUp:()=>{P.current&&(window.clearTimeout(P.current),P.current=null)},onMouseLeave:()=>{P.current&&(window.clearTimeout(P.current),P.current=null)},children:t[le]??le}),h.jsx(Ue,{onMouseDown:ie=>_.current&&_.current(ie,le),sx:{position:"absolute",right:-6,top:0,bottom:0,width:12,cursor:"col-resize"},"aria-hidden":!0})]})})),[t]),M=c.useMemo(()=>e.map((le,ce)=>({id:le.taskId??le.workId??ce,...le})),[e]),[E,$]=c.useState(()=>k);c.useEffect(()=>{$(k)},[k]),c.useEffect(()=>{v.current=E},[E]);const N=c.useRef(null);c.useEffect(()=>{try{const ce=(Lo()||{}).widths||{},ie=JSON.stringify({headers:Object.keys(t),rowCount:M.length,sample:M.slice(0,50).map(Ne=>Object.keys(t).map(Ie=>String(Ne[Ie]??"")).join("|")).join("||")});if(N.current===ie||(N.current=ie,!v.current.filter(Ne=>!(ce||{})[Ne.field]).map(Ne=>Ne.field).length))return;const ye=document.createElement("canvas").getContext("2d");if(!ye)return;const ne=window.getComputedStyle(document.body);ye.font=ne.font||"14px sans-serif";const ge=56,we=Math.max(300,Math.round(window.innerWidth*.6)),Fe={};v.current.forEach(Ne=>{const Ie=Ne.field;let be=0;const Pe=String(Ne.headerName??Ie);be=Math.max(be,Math.round(ye.measureText(Pe).width));const ke=M.slice(0,200);for(let nt=0;nt<ke.length;nt++){const et=String(ke[nt][Ie]??"");if(!et)continue;const Xe=Math.round(ye.measureText(et).width);Xe>be&&(be=Xe)}const We=Math.min(we,Math.max(Ne.minWidth||120,be+ge));Fe[Ie]=We}),$(Ne=>Ne.map(Ie=>({...Ie,width:Fe[Ie.field]||Ie.width})));try{const Ne=Lo()||{},Ie={...Ne.widths||{}};Object.assign(Ie,Fe),Dr({...Ne,widths:Ie})}catch{}}catch{}},[M]),c.useEffect(()=>{try{const le=Lo();if(le){const ce=fk(k,le);$(ce)}}catch{}},[]);const F=c.useRef(null),G=(le,ce)=>{ce.preventDefault();const ie=ce.target.closest("[data-field]"),fe=ie?ie.getAttribute("data-field"):null;ve({visible:!0,x:ce.clientX,y:ce.clientY,clickedRow:le.row,clickedColumnKey:fe,mouseScreenX:ce.screenX??0,mouseScreenY:ce.screenY??0})};c.useEffect(()=>{if(l){const le=M.filter(ce=>f.includes(ce.id));l(le)}},[f]);const[H,T]=c.useState(!1),[A,B]=c.useState(null),[W,D]=c.useState(""),[V,Z]=c.useState(()=>{const le={};return k.forEach(ce=>{le[ce.field]=!ce.hide}),le});c.useEffect(()=>{Z(()=>{const le={};return(E||k).forEach(ce=>{le[ce.field]=!ce.hide}),le})},[E,k]),c.useEffect(()=>{if(d&&te&&te.current){const le=E&&E.length&&E[0].field?E[0].field:void 0;if(le)try{te.current.toggleColumnMenu(le)}catch{}}},[d]),c.useEffect(()=>()=>{},[]);const K=(le,ce)=>{le.preventDefault();const ie=le.clientX;b.current={type:"reorder",field:ce,startX:ie},C.current=fe=>{fe.preventDefault();try{const me=document.elementFromPoint(fe.clientX,fe.clientY),ye=me?me.closest("[data-field]"):null;if(!F.current)return;const ne=F.current.getBoundingClientRect();if(ye){const ge=ye.getBoundingClientRect(),we=ge.left+ge.width/2,Fe=fe.clientX<we?ge.left:ge.right;ee({left:Fe-ne.left,top:ge.top-ne.top,height:ge.height,visible:!0}),z.current!==ye&&(z.current&&(z.current.style.background=""),ye.style.background="rgba(34,197,94,0.08)",z.current=ye)}else ee(ge=>({...ge,visible:!1})),z.current&&(z.current.style.background="",z.current=null)}catch{}},x.current=fe=>{try{const me=document.elementFromPoint(fe.clientX,fe.clientY),ye=me?me.closest("[data-field]"):null,ne=ye?ye.getAttribute("data-field"):null;if(ne&&b.current&&b.current.field){const ge=b.current.field,we=v.current.slice(),Fe={};we.forEach(ke=>{Fe[ke.field]=ke});const Ne=we.map(ke=>ke.field).filter(Boolean),Ie=Ne.indexOf(ge);Ie!==-1&&Ne.splice(Ie,1);const be=Ne.indexOf(ne);be===-1?Ne.push(ge):Ne.splice(be,0,ge);const Pe=Ne.map(ke=>({...Fe[ke]}));$(Pe);try{const ke=Lo()||{};Dr({...ke,order:Ne})}catch{}}}catch{}if(ee(me=>({...me,visible:!1})),z.current&&(z.current.style.background="",z.current=null),C.current&&document.removeEventListener("mousemove",C.current,!0),x.current&&document.removeEventListener("mouseup",x.current,!0),R.current){try{const me=R.current.querySelector(".MuiDataGrid-columnSeparator");me&&(me.style.background="",me.style.width=""),R.current.style.boxShadow=""}catch{}R.current=null}b.current=null,C.current=null,x.current=null},document.addEventListener("mousemove",C.current,!0),document.addEventListener("mouseup",x.current,!0)},Q=(le,ce)=>{le.preventDefault(),le.stopPropagation();const ie=le.clientX,fe=v.current.find(ye=>ye.field===ce),me=fe&&fe.width||fe&&fe.minWidth||120;b.current={type:"resize",field:ce,startX:ie,startWidth:me};try{const ye=document.querySelector(`[data-field="${ce}"]`);if(ye){R.current=ye;const ne=ye.querySelector(".MuiDataGrid-columnSeparator");ne?(ne.style.background="rgba(34,197,94,0.9)",ne.style.width="2px"):ye.style.boxShadow="inset -4px 0 0 rgba(34,197,94,0.08)"}}catch{}C.current=ye=>{ye.preventDefault();const ne=ye.clientX-b.current.startX,ge=Math.max(40,Math.round(b.current.startWidth+ne));$(we=>we.map(Fe=>Fe.field===ce?{...Fe,width:ge}:Fe))},x.current=ye=>{try{const ne=v.current.find(ge=>ge.field===ce);if(ne)try{const ge=Lo()||{},we={...ge.widths||{}};we[ce]=ne.width||120,Dr({...ge,widths:we})}catch{}}catch{}C.current&&document.removeEventListener("mousemove",C.current,!0),x.current&&document.removeEventListener("mouseup",x.current,!0),b.current=null,C.current=null,x.current=null},document.addEventListener("mousemove",C.current,!0),document.addEventListener("mouseup",x.current,!0)},[Y,ee]=c.useState({left:0,top:0,height:0,visible:!1});c.useEffect(()=>{S.current=K,_.current=Q},[]);const q=mk,te=N0(),ae=()=>h.jsxs(Qw,{children:[h.jsx($_,{}),h.jsx(W_,{}),h.jsx(H_,{})]}),[X,ve]=c.useState({visible:!1,x:0,y:0}),Ce=()=>ve({visible:!1,x:0,y:0});return h.jsxs(Ue,{sx:{width:"100%",display:"flex",flexDirection:"column",flex:1,minHeight:0,position:"relative"},children:[h.jsx(Nt,{sx:{height:o,width:"100%",zIndex:0},children:h.jsx(q,{rows:M,columns:E,components:{Toolbar:ae},checkboxSelection:!0,density:j,pageSizeOptions:[25,50,100],initialState:{pagination:{paginationModel:{pageSize:100}}},onRowDoubleClick:(le,ce)=>{a&&a([le.row],ce.screenX??0,ce.screenY??0)},onRowContextMenu:G,sx:{border:0,"& .MuiDataGrid-cell":{py:j==="compact"?.5:1,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},"& .MuiDataGrid-columnHeaders":{backgroundColor:g.palette.action.hover},"& .MuiDataGrid-columnHeaderTitle":{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},onColumnResize:le=>{const{colDef:ce,width:ie}=le;$(fe=>fe.map(me=>me.field===ce.field?{...me,width:ie}:me));try{const fe=Lo()||{},me={...fe.widths||{}};me[ce.field]=ie,Dr({...fe,widths:me})}catch{}},onColumnVisibilityModelChange:le=>{try{Z(()=>({...le||{}})),$(fe=>fe.map(me=>({...me,hide:!(le||{})[me.field]})));const ce=Lo()||{},ie=Object.keys(le).filter(fe=>!le[fe]);Dr({...ce,hidden:ie})}catch{}},onColumnOrderChange:le=>{try{const ce=Lo()||{},ie=le.columnFields||le.items||[];Dr({...ce,order:ie}),Array.isArray(ie)&&ie.length&&$(fe=>{const me={};fe.forEach(ne=>{me[ne.field]=ne});const ye=[];return ie.forEach(ne=>{me[ne]&&ye.push({...me[ne]})}),fe.forEach(ne=>{ie.includes(ne.field)||ye.push({...ne})}),ye})}catch{}}})}),h.jsx(Ue,{sx:{position:"absolute",left:0,top:0,pointerEvents:"none",width:"100%",height:"100%",zIndex:1200},ref:F,children:Y.visible&&h.jsx(Ue,{sx:{position:"absolute",width:2,bgcolor:"primary.main",left:Y.left,top:Y.top,height:Y.height,transform:"translateX(-1px)"}})}),h.jsx(gk,{visible:X.visible,x:X.x,y:X.y,selectedRows:M.filter(le=>f.includes(le.id)),clickedColumnKey:X.clickedColumnKey??null,clickedRow:X.clickedRow??null,onClose:Ce,mouseScreenX:X.mouseScreenX??0,mouseScreenY:X.mouseScreenY??0,onOpenPopout:(le,ce,ie)=>{a&&a(le,ce,ie)},onOpenCalloutIncident:le=>{},onProgressTasks:le=>{},onProgressNotes:le=>{}})]})}const Bc=({rows:e,columns:t,loading:o,...s})=>{const i=c.useRef(null);return h.jsx(Ue,{sx:{width:"100%",display:"flex",flex:1,minHeight:0},ref:i,children:h.jsx(vk,{rows:e,headerNames:s&&s.headerNames||{},loading:o,containerRef:i,...s})})},tp=["taskId","taskStatus","resourceName","commitmentType","postCode","customerAddress","taskType","primarySkill","importanceScore","taskCreated","appointmentStartDate"];function yk(e){return e.replace(/[_\-]+/g," ").replace(/([a-z0-9])([A-Z])/g,"$1 $2").replace(/\s+/g," ").trim().replace(/^./,t=>t.toUpperCase())}function bk({data:e,selectedTasks:t,onSelectionChange:o}){const s=zt(),i={height:"100%",display:"flex",flexDirection:"column",borderRadius:3,px:3,py:2.5,border:`1px solid ${Te(s.palette.primary.main,.18)}`,boxShadow:"0 18px 46px rgba(8,58,97,0.18)",backgroundImage:"none"},a=c.useMemo(()=>{if(!e||e.length===0)return{};const d=new Set;e.forEach(m=>Object.keys(m).forEach(g=>d.add(g)));const p=[...tp.filter(m=>d.has(m)),...[...d].filter(m=>!tp.includes(m))],f={};return p.forEach(m=>f[m]=yk(m)),f},[e]),l=c.useMemo(()=>t!=null&&t.length?new Set(t.map(d=>String(d.taskId))):new Set,[t]);return!e||e.length===0?h.jsx(Nt,{elevation:0,sx:i,children:h.jsx(It,{spacing:1,alignItems:"center",justifyContent:"center",sx:{flex:1},children:h.jsx(yt,{variant:"body2",color:"text.secondary",textAlign:"center",children:"No tasks loaded yet. Please define filters and press Search."})})}):h.jsx(Nt,{elevation:0,sx:i,children:h.jsx(Ue,{sx:{flex:1,display:"flex",flexDirection:"column"},children:h.jsx(Bc,{rows:e,headerNames:a,sx:{height:"100%"},tableHeight:"100%",rowIdKey:"taskId",controlledSelectedRowIds:l,onSelectionChange:d=>o(d)})})})}const np=["resourceId","name","status","calloutGroup","primarySkill","availableAgainAt"];function Ck(e){return e.replace(/[_\-]+/g," ").replace(/([a-z0-9])([A-Z])/g,"$1 $2").replace(/\s+/g," ").trim().replace(/^./,t=>t.toUpperCase())}function xk({data:e,selectedResources:t,onSelectionChange:o}){const s=zt(),i={height:"100%",display:"flex",flexDirection:"column",borderRadius:3,px:3,py:2.5,border:`1px solid ${Te(s.palette.primary.main,.18)}`,boxShadow:"0 18px 46px rgba(8,58,97,0.18)",backgroundImage:"none"},a=c.useMemo(()=>{if(!(e!=null&&e.length))return{};const d=new Set;e.forEach(m=>Object.keys(m).forEach(g=>d.add(g)));const p=[...np.filter(m=>d.has(m)),...[...d].filter(m=>!np.includes(m))],f={};return p.forEach(m=>f[m]=Ck(m)),f},[e]),l=c.useMemo(()=>new Set(t.map(d=>String(d.resourceId))),[t]);return!e||e.length===0?h.jsx(Nt,{elevation:0,sx:i,children:h.jsx(It,{spacing:1,alignItems:"center",justifyContent:"center",sx:{flex:1},children:h.jsx(yt,{variant:"body2",color:"text.secondary",textAlign:"center",children:"No resources loaded. Please define filters and press Search."})})}):h.jsx(Nt,{elevation:0,sx:i,children:h.jsx(Ue,{sx:{flex:1,display:"flex",flexDirection:"column"},children:h.jsx(Bc,{rows:e,headerNames:a,sx:{height:"100%"},tableHeight:"100%",rowIdKey:"resourceId",controlledSelectedRowIds:l,onSelectionChange:d=>o(d)})})})}const wa=c.createContext(null);wa.displayName="PanelGroupContext";const Yt={group:"data-panel-group",groupDirection:"data-panel-group-direction",groupId:"data-panel-group-id",panel:"data-panel",panelCollapsible:"data-panel-collapsible",panelId:"data-panel-id",panelSize:"data-panel-size",resizeHandle:"data-resize-handle",resizeHandleActive:"data-resize-handle-active",resizeHandleEnabled:"data-panel-resize-handle-enabled",resizeHandleId:"data-panel-resize-handle-id",resizeHandleState:"data-resize-handle-state"},Hc=10,cr=c.useLayoutEffect,op=Fp.useId,wk=typeof op=="function"?op:()=>null;let Sk=0;function jc(e=null){const t=wk(),o=c.useRef(e||t||null);return o.current===null&&(o.current=""+Sk++),e??o.current}function Em({children:e,className:t="",collapsedSize:o,collapsible:s,defaultSize:i,forwardedRef:a,id:l,maxSize:d,minSize:p,onCollapse:f,onExpand:m,onResize:g,order:v,style:b,tagName:C="div",...x}){const S=c.useContext(wa);if(S===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:_,expandPanel:P,getPanelSize:z,getPanelStyle:R,groupId:j,isPanelCollapsed:k,reevaluatePanelConstraints:M,registerPanel:E,resizePanel:$,unregisterPanel:N}=S,F=jc(l),G=c.useRef({callbacks:{onCollapse:f,onExpand:m,onResize:g},constraints:{collapsedSize:o,collapsible:s,defaultSize:i,maxSize:d,minSize:p},id:F,idIsFromProps:l!==void 0,order:v});c.useRef({didLogMissingDefaultSizeWarning:!1}),cr(()=>{const{callbacks:T,constraints:A}=G.current,B={...A};G.current.id=F,G.current.idIsFromProps=l!==void 0,G.current.order=v,T.onCollapse=f,T.onExpand=m,T.onResize=g,A.collapsedSize=o,A.collapsible=s,A.defaultSize=i,A.maxSize=d,A.minSize=p,(B.collapsedSize!==A.collapsedSize||B.collapsible!==A.collapsible||B.maxSize!==A.maxSize||B.minSize!==A.minSize)&&M(G.current,B)}),cr(()=>{const T=G.current;return E(T),()=>{N(T)}},[v,F,E,N]),c.useImperativeHandle(a,()=>({collapse:()=>{_(G.current)},expand:T=>{P(G.current,T)},getId(){return F},getSize(){return z(G.current)},isCollapsed(){return k(G.current)},isExpanded(){return!k(G.current)},resize:T=>{$(G.current,T)}}),[_,P,z,k,F,$]);const H=R(G.current,i);return c.createElement(C,{...x,children:e,className:t,id:F,style:{...H,...b},[Yt.groupId]:j,[Yt.panel]:"",[Yt.panelCollapsible]:s||void 0,[Yt.panelId]:F,[Yt.panelSize]:parseFloat(""+H.flexGrow).toFixed(1)})}const Cs=c.forwardRef((e,t)=>c.createElement(Em,{...e,forwardedRef:t}));Em.displayName="Panel";Cs.displayName="forwardRef(Panel)";let Hl=null,Mi=-1,$o=null;function _k(e,t,o){const s=(t&Om)!==0,i=(t&Nm)!==0,a=(t&zm)!==0,l=(t&$m)!==0;if(t){if(s)return a?"se-resize":l?"ne-resize":"e-resize";if(i)return a?"sw-resize":l?"nw-resize":"w-resize";if(a)return"s-resize";if(l)return"n-resize"}switch(e){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function Pk(){$o!==null&&(document.head.removeChild($o),Hl=null,$o=null,Mi=-1)}function fl(e,t,o){var s,i;const a=_k(e,t);if(Hl!==a){if(Hl=a,$o===null&&($o=document.createElement("style"),document.head.appendChild($o)),Mi>=0){var l;(l=$o.sheet)===null||l===void 0||l.removeRule(Mi)}Mi=(s=(i=$o.sheet)===null||i===void 0?void 0:i.insertRule(`*{cursor: ${a} !important;}`))!==null&&s!==void 0?s:-1}}function Dm(e){return e.type==="keydown"}function Rm(e){return e.type.startsWith("pointer")}function Lm(e){return e.type.startsWith("mouse")}function Sa(e){if(Rm(e)){if(e.isPrimary)return{x:e.clientX,y:e.clientY}}else if(Lm(e))return{x:e.clientX,y:e.clientY};return{x:1/0,y:1/0}}function Ik(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function Tk(e,t,o){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y}function kk(e,t){if(e===t)throw new Error("Cannot compare node with itself");const o={a:ip(e),b:ip(t)};let s;for(;o.a.at(-1)===o.b.at(-1);)e=o.a.pop(),t=o.b.pop(),s=e;dt(s,"Stacking order can only be calculated for elements with a common ancestor");const i={a:sp(rp(o.a)),b:sp(rp(o.b))};if(i.a===i.b){const a=s.childNodes,l={a:o.a.at(-1),b:o.b.at(-1)};let d=a.length;for(;d--;){const p=a[d];if(p===l.a)return 1;if(p===l.b)return-1}}return Math.sign(i.a-i.b)}const Mk=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function Ak(e){var t;const o=getComputedStyle((t=Fm(e))!==null&&t!==void 0?t:e).display;return o==="flex"||o==="inline-flex"}function Ek(e){const t=getComputedStyle(e);return!!(t.position==="fixed"||t.zIndex!=="auto"&&(t.position!=="static"||Ak(e))||+t.opacity<1||"transform"in t&&t.transform!=="none"||"webkitTransform"in t&&t.webkitTransform!=="none"||"mixBlendMode"in t&&t.mixBlendMode!=="normal"||"filter"in t&&t.filter!=="none"||"webkitFilter"in t&&t.webkitFilter!=="none"||"isolation"in t&&t.isolation==="isolate"||Mk.test(t.willChange)||t.webkitOverflowScrolling==="touch")}function rp(e){let t=e.length;for(;t--;){const o=e[t];if(dt(o,"Missing node"),Ek(o))return o}return null}function sp(e){return e&&Number(getComputedStyle(e).zIndex)||0}function ip(e){const t=[];for(;e;)t.push(e),e=Fm(e);return t}function Fm(e){const{parentNode:t}=e;return t&&t instanceof ShadowRoot?t.host:t}const Om=1,Nm=2,zm=4,$m=8,Dk=Ik()==="coarse";let oo=[],Wr=!1,Bo=new Map,_a=new Map;const Rs=new Set;function Rk(e,t,o,s,i){var a;const{ownerDocument:l}=t,d={direction:o,element:t,hitAreaMargins:s,setResizeHandlerState:i},p=(a=Bo.get(l))!==null&&a!==void 0?a:0;return Bo.set(l,p+1),Rs.add(d),qi(),function(){var m;_a.delete(e),Rs.delete(d);const g=(m=Bo.get(l))!==null&&m!==void 0?m:1;if(Bo.set(l,g-1),qi(),g===1&&Bo.delete(l),oo.includes(d)){const v=oo.indexOf(d);v>=0&&oo.splice(v,1),Pa(),i("up",!0,null)}}}function Lk(e){const{target:t}=e,{x:o,y:s}=Sa(e);Wr=!0,Gc({target:t,x:o,y:s}),qi(),oo.length>0&&(Xi("down",e),Pa(),e.preventDefault(),Bm(t)||e.stopImmediatePropagation())}function gl(e){const{x:t,y:o}=Sa(e);if(Wr&&e.type!=="pointerleave"&&e.buttons===0&&(Wr=!1,Xi("up",e)),!Wr){const{target:s}=e;Gc({target:s,x:t,y:o})}Xi("move",e),Pa(),oo.length>0&&e.preventDefault()}function vl(e){const{target:t}=e,{x:o,y:s}=Sa(e);_a.clear(),Wr=!1,oo.length>0&&(e.preventDefault(),Bm(t)||e.stopImmediatePropagation()),Xi("up",e),Gc({target:t,x:o,y:s}),Pa(),qi()}function Bm(e){let t=e;for(;t;){if(t.hasAttribute(Yt.resizeHandle))return!0;t=t.parentElement}return!1}function Gc({target:e,x:t,y:o}){oo.splice(0);let s=null;(e instanceof HTMLElement||e instanceof SVGElement)&&(s=e),Rs.forEach(i=>{const{element:a,hitAreaMargins:l}=i,d=a.getBoundingClientRect(),{bottom:p,left:f,right:m,top:g}=d,v=Dk?l.coarse:l.fine;if(t>=f-v&&t<=m+v&&o>=g-v&&o<=p+v){if(s!==null&&document.contains(s)&&a!==s&&!a.contains(s)&&!s.contains(a)&&kk(s,a)>0){let C=s,x=!1;for(;C&&!C.contains(a);){if(Tk(C.getBoundingClientRect(),d)){x=!0;break}C=C.parentElement}if(x)return}oo.push(i)}})}function yl(e,t){_a.set(e,t)}function Pa(){let e=!1,t=!1;oo.forEach(s=>{const{direction:i}=s;i==="horizontal"?e=!0:t=!0});let o=0;_a.forEach(s=>{o|=s}),e&&t?fl("intersection",o):e?fl("horizontal",o):t?fl("vertical",o):Pk()}let bl;function qi(){var e;(e=bl)===null||e===void 0||e.abort(),bl=new AbortController;const t={capture:!0,signal:bl.signal};Rs.size&&(Wr?(oo.length>0&&Bo.forEach((o,s)=>{const{body:i}=s;o>0&&(i.addEventListener("contextmenu",vl,t),i.addEventListener("pointerleave",gl,t),i.addEventListener("pointermove",gl,t))}),Bo.forEach((o,s)=>{const{body:i}=s;i.addEventListener("pointerup",vl,t),i.addEventListener("pointercancel",vl,t)})):Bo.forEach((o,s)=>{const{body:i}=s;o>0&&(i.addEventListener("pointerdown",Lk,t),i.addEventListener("pointermove",gl,t))}))}function Xi(e,t){Rs.forEach(o=>{const{setResizeHandlerState:s}=o,i=oo.includes(o);s(e,i,t)})}function Fk(){const[e,t]=c.useState(0);return c.useCallback(()=>t(o=>o+1),[])}function dt(e,t){if(!e)throw console.error(t),Error(t)}function hr(e,t,o=Hc){return e.toFixed(o)===t.toFixed(o)?0:e>t?1:-1}function _o(e,t,o=Hc){return hr(e,t,o)===0}function Fn(e,t,o){return hr(e,t,o)===0}function Ok(e,t,o){if(e.length!==t.length)return!1;for(let s=0;s<e.length;s++){const i=e[s],a=t[s];if(!Fn(i,a,o))return!1}return!0}function Br({panelConstraints:e,panelIndex:t,size:o}){const s=e[t];dt(s!=null,`Panel constraints not found for index ${t}`);let{collapsedSize:i=0,collapsible:a,maxSize:l=100,minSize:d=0}=s;if(hr(o,d)<0)if(a){const p=(i+d)/2;hr(o,p)<0?o=i:o=d}else o=d;return o=Math.min(l,o),o=parseFloat(o.toFixed(Hc)),o}function xs({delta:e,initialLayout:t,panelConstraints:o,pivotIndices:s,prevLayout:i,trigger:a}){if(Fn(e,0))return t;const l=[...t],[d,p]=s;dt(d!=null,"Invalid first pivot index"),dt(p!=null,"Invalid second pivot index");let f=0;if(a==="keyboard"){{const g=e<0?p:d,v=o[g];dt(v,`Panel constraints not found for index ${g}`);const{collapsedSize:b=0,collapsible:C,minSize:x=0}=v;if(C){const S=t[g];if(dt(S!=null,`Previous layout not found for panel index ${g}`),Fn(S,b)){const _=x-S;hr(_,Math.abs(e))>0&&(e=e<0?0-_:_)}}}{const g=e<0?d:p,v=o[g];dt(v,`No panel constraints found for index ${g}`);const{collapsedSize:b=0,collapsible:C,minSize:x=0}=v;if(C){const S=t[g];if(dt(S!=null,`Previous layout not found for panel index ${g}`),Fn(S,x)){const _=S-b;hr(_,Math.abs(e))>0&&(e=e<0?0-_:_)}}}}{const g=e<0?1:-1;let v=e<0?p:d,b=0;for(;;){const x=t[v];dt(x!=null,`Previous layout not found for panel index ${v}`);const _=Br({panelConstraints:o,panelIndex:v,size:100})-x;if(b+=_,v+=g,v<0||v>=o.length)break}const C=Math.min(Math.abs(e),Math.abs(b));e=e<0?0-C:C}{let v=e<0?d:p;for(;v>=0&&v<o.length;){const b=Math.abs(e)-Math.abs(f),C=t[v];dt(C!=null,`Previous layout not found for panel index ${v}`);const x=C-b,S=Br({panelConstraints:o,panelIndex:v,size:x});if(!Fn(C,S)&&(f+=C-S,l[v]=S,f.toFixed(3).localeCompare(Math.abs(e).toFixed(3),void 0,{numeric:!0})>=0))break;e<0?v--:v++}}if(Ok(i,l))return i;{const g=e<0?p:d,v=t[g];dt(v!=null,`Previous layout not found for panel index ${g}`);const b=v+f,C=Br({panelConstraints:o,panelIndex:g,size:b});if(l[g]=C,!Fn(C,b)){let x=b-C,_=e<0?p:d;for(;_>=0&&_<o.length;){const P=l[_];dt(P!=null,`Previous layout not found for panel index ${_}`);const z=P+x,R=Br({panelConstraints:o,panelIndex:_,size:z});if(Fn(P,R)||(x-=R-P,l[_]=R),Fn(x,0))break;e>0?_--:_++}}}const m=l.reduce((g,v)=>v+g,0);return Fn(m,100)?l:i}function Nk({layout:e,panelsArray:t,pivotIndices:o}){let s=0,i=100,a=0,l=0;const d=o[0];dt(d!=null,"No pivot index found"),t.forEach((g,v)=>{const{constraints:b}=g,{maxSize:C=100,minSize:x=0}=b;v===d?(s=x,i=C):(a+=x,l+=C)});const p=Math.min(i,100-a),f=Math.max(s,100-l),m=e[d];return{valueMax:p,valueMin:f,valueNow:m}}function Ls(e,t=document){return Array.from(t.querySelectorAll(`[${Yt.resizeHandleId}][data-panel-group-id="${e}"]`))}function Hm(e,t,o=document){const i=Ls(e,o).findIndex(a=>a.getAttribute(Yt.resizeHandleId)===t);return i??null}function jm(e,t,o){const s=Hm(e,t,o);return s!=null?[s,s+1]:[-1,-1]}function zk(e){return e instanceof HTMLElement?!0:typeof e=="object"&&e!==null&&"tagName"in e&&"getAttribute"in e}function Gm(e,t=document){if(zk(t)&&t.dataset.panelGroupId==e)return t;const o=t.querySelector(`[data-panel-group][data-panel-group-id="${e}"]`);return o||null}function Ia(e,t=document){const o=t.querySelector(`[${Yt.resizeHandleId}="${e}"]`);return o||null}function $k(e,t,o,s=document){var i,a,l,d;const p=Ia(t,s),f=Ls(e,s),m=p?f.indexOf(p):-1,g=(i=(a=o[m])===null||a===void 0?void 0:a.id)!==null&&i!==void 0?i:null,v=(l=(d=o[m+1])===null||d===void 0?void 0:d.id)!==null&&l!==void 0?l:null;return[g,v]}function Bk({committedValuesRef:e,eagerValuesRef:t,groupId:o,layout:s,panelDataArray:i,panelGroupElement:a,setLayout:l}){c.useRef({didWarnAboutMissingResizeHandle:!1}),cr(()=>{if(!a)return;const d=Ls(o,a);for(let p=0;p<i.length-1;p++){const{valueMax:f,valueMin:m,valueNow:g}=Nk({layout:s,panelsArray:i,pivotIndices:[p,p+1]}),v=d[p];if(v!=null){const b=i[p];dt(b,`No panel data found for index "${p}"`),v.setAttribute("aria-controls",b.id),v.setAttribute("aria-valuemax",""+Math.round(f)),v.setAttribute("aria-valuemin",""+Math.round(m)),v.setAttribute("aria-valuenow",g!=null?""+Math.round(g):"")}}return()=>{d.forEach((p,f)=>{p.removeAttribute("aria-controls"),p.removeAttribute("aria-valuemax"),p.removeAttribute("aria-valuemin"),p.removeAttribute("aria-valuenow")})}},[o,s,i,a]),c.useEffect(()=>{if(!a)return;const d=t.current;dt(d,"Eager values not found");const{panelDataArray:p}=d,f=Gm(o,a);dt(f!=null,`No group found for id "${o}"`);const m=Ls(o,a);dt(m,`No resize handles found for group id "${o}"`);const g=m.map(v=>{const b=v.getAttribute(Yt.resizeHandleId);dt(b,"Resize handle element has no handle id attribute");const[C,x]=$k(o,b,p,a);if(C==null||x==null)return()=>{};const S=_=>{if(!_.defaultPrevented)switch(_.key){case"Enter":{_.preventDefault();const P=p.findIndex(z=>z.id===C);if(P>=0){const z=p[P];dt(z,`No panel data found for index ${P}`);const R=s[P],{collapsedSize:j=0,collapsible:k,minSize:M=0}=z.constraints;if(R!=null&&k){const E=xs({delta:Fn(R,j)?M-j:j-R,initialLayout:s,panelConstraints:p.map($=>$.constraints),pivotIndices:jm(o,b,a),prevLayout:s,trigger:"keyboard"});s!==E&&l(E)}}break}}};return v.addEventListener("keydown",S),()=>{v.removeEventListener("keydown",S)}});return()=>{g.forEach(v=>v())}},[a,e,t,o,s,i,l])}function ap(e,t){if(e.length!==t.length)return!1;for(let o=0;o<e.length;o++)if(e[o]!==t[o])return!1;return!0}function Vm(e,t){const o=e==="horizontal",{x:s,y:i}=Sa(t);return o?s:i}function Hk(e,t,o,s,i){const a=o==="horizontal",l=Ia(t,i);dt(l,`No resize handle element found for id "${t}"`);const d=l.getAttribute(Yt.groupId);dt(d,"Resize handle element has no group id attribute");let{initialCursorPosition:p}=s;const f=Vm(o,e),m=Gm(d,i);dt(m,`No group element found for id "${d}"`);const g=m.getBoundingClientRect(),v=a?g.width:g.height;return(f-p)/v*100}function jk(e,t,o,s,i,a){if(Dm(e)){const l=o==="horizontal";let d=0;e.shiftKey?d=100:i!=null?d=i:d=10;let p=0;switch(e.key){case"ArrowDown":p=l?0:d;break;case"ArrowLeft":p=l?-d:0;break;case"ArrowRight":p=l?d:0;break;case"ArrowUp":p=l?0:-d;break;case"End":p=100;break;case"Home":p=-100;break}return p}else return s==null?0:Hk(e,t,o,s,a)}function Gk({panelDataArray:e}){const t=Array(e.length),o=e.map(a=>a.constraints);let s=0,i=100;for(let a=0;a<e.length;a++){const l=o[a];dt(l,`Panel constraints not found for index ${a}`);const{defaultSize:d}=l;d!=null&&(s++,t[a]=d,i-=d)}for(let a=0;a<e.length;a++){const l=o[a];dt(l,`Panel constraints not found for index ${a}`);const{defaultSize:d}=l;if(d!=null)continue;const p=e.length-s,f=i/p;s++,t[a]=f,i-=f}return t}function Rr(e,t,o){t.forEach((s,i)=>{const a=e[i];dt(a,`Panel data not found for index ${i}`);const{callbacks:l,constraints:d,id:p}=a,{collapsedSize:f=0,collapsible:m}=d,g=o[p];if(g==null||s!==g){o[p]=s;const{onCollapse:v,onExpand:b,onResize:C}=l;C&&C(s,g),m&&(v||b)&&(b&&(g==null||_o(g,f))&&!_o(s,f)&&b(),v&&(g==null||!_o(g,f))&&_o(s,f)&&v())}})}function yi(e,t){if(e.length!==t.length)return!1;for(let o=0;o<e.length;o++)if(e[o]!=t[o])return!1;return!0}function Vk({defaultSize:e,dragState:t,layout:o,panelData:s,panelIndex:i,precision:a=3}){const l=o[i];let d;return l==null?d=e!=null?e.toFixed(a):"1":s.length===1?d="1":d=l.toFixed(a),{flexBasis:0,flexGrow:d,flexShrink:1,overflow:"hidden",pointerEvents:t!==null?"none":void 0}}function Wk(e,t=10){let o=null;return(...i)=>{o!==null&&clearTimeout(o),o=setTimeout(()=>{e(...i)},t)}}function lp(e){try{if(typeof localStorage<"u")e.getItem=t=>localStorage.getItem(t),e.setItem=(t,o)=>{localStorage.setItem(t,o)};else throw new Error("localStorage not supported in this environment")}catch(t){console.error(t),e.getItem=()=>null,e.setItem=()=>{}}}function Wm(e){return`react-resizable-panels:${e}`}function Zm(e){return e.map(t=>{const{constraints:o,id:s,idIsFromProps:i,order:a}=t;return i?s:a?`${a}:${JSON.stringify(o)}`:JSON.stringify(o)}).sort((t,o)=>t.localeCompare(o)).join(",")}function Um(e,t){try{const o=Wm(e),s=t.getItem(o);if(s){const i=JSON.parse(s);if(typeof i=="object"&&i!=null)return i}}catch{}return null}function Zk(e,t,o){var s,i;const a=(s=Um(e,o))!==null&&s!==void 0?s:{},l=Zm(t);return(i=a[l])!==null&&i!==void 0?i:null}function Uk(e,t,o,s,i){var a;const l=Wm(e),d=Zm(t),p=(a=Um(e,i))!==null&&a!==void 0?a:{};p[d]={expandToSizes:Object.fromEntries(o.entries()),layout:s};try{i.setItem(l,JSON.stringify(p))}catch(f){console.error(f)}}function cp({layout:e,panelConstraints:t}){const o=[...e],s=o.reduce((a,l)=>a+l,0);if(o.length!==t.length)throw Error(`Invalid ${t.length} panel layout: ${o.map(a=>`${a}%`).join(", ")}`);if(!Fn(s,100)&&o.length>0)for(let a=0;a<t.length;a++){const l=o[a];dt(l!=null,`No layout data found for index ${a}`);const d=100/s*l;o[a]=d}let i=0;for(let a=0;a<t.length;a++){const l=o[a];dt(l!=null,`No layout data found for index ${a}`);const d=Br({panelConstraints:t,panelIndex:a,size:l});l!=d&&(i+=l-d,o[a]=d)}if(!Fn(i,0))for(let a=0;a<t.length;a++){const l=o[a];dt(l!=null,`No layout data found for index ${a}`);const d=l+i,p=Br({panelConstraints:t,panelIndex:a,size:d});if(l!==p&&(i-=p-l,o[a]=p,Fn(i,0)))break}return o}const Kk=100,ws={getItem:e=>(lp(ws),ws.getItem(e)),setItem:(e,t)=>{lp(ws),ws.setItem(e,t)}},up={};function Km({autoSaveId:e=null,children:t,className:o="",direction:s,forwardedRef:i,id:a=null,onLayout:l=null,keyboardResizeBy:d=null,storage:p=ws,style:f,tagName:m="div",...g}){const v=jc(a),b=c.useRef(null),[C,x]=c.useState(null),[S,_]=c.useState([]),P=Fk(),z=c.useRef({}),R=c.useRef(new Map),j=c.useRef(0),k=c.useRef({autoSaveId:e,direction:s,dragState:C,id:v,keyboardResizeBy:d,onLayout:l,storage:p}),M=c.useRef({layout:S,panelDataArray:[],panelDataArrayChanged:!1});c.useRef({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),c.useImperativeHandle(i,()=>({getId:()=>k.current.id,getLayout:()=>{const{layout:Y}=M.current;return Y},setLayout:Y=>{const{onLayout:ee}=k.current,{layout:q,panelDataArray:te}=M.current,ae=cp({layout:Y,panelConstraints:te.map(X=>X.constraints)});ap(q,ae)||(_(ae),M.current.layout=ae,ee&&ee(ae),Rr(te,ae,z.current))}}),[]),cr(()=>{k.current.autoSaveId=e,k.current.direction=s,k.current.dragState=C,k.current.id=v,k.current.onLayout=l,k.current.storage=p}),Bk({committedValuesRef:k,eagerValuesRef:M,groupId:v,layout:S,panelDataArray:M.current.panelDataArray,setLayout:_,panelGroupElement:b.current}),c.useEffect(()=>{const{panelDataArray:Y}=M.current;if(e){if(S.length===0||S.length!==Y.length)return;let ee=up[e];ee==null&&(ee=Wk(Uk,Kk),up[e]=ee);const q=[...Y],te=new Map(R.current);ee(e,q,te,S,p)}},[e,S,p]),c.useEffect(()=>{});const E=c.useCallback(Y=>{const{onLayout:ee}=k.current,{layout:q,panelDataArray:te}=M.current;if(Y.constraints.collapsible){const ae=te.map(le=>le.constraints),{collapsedSize:X=0,panelSize:ve,pivotIndices:Ce}=er(te,Y,q);if(dt(ve!=null,`Panel size not found for panel "${Y.id}"`),!_o(ve,X)){R.current.set(Y.id,ve);const ce=Nr(te,Y)===te.length-1?ve-X:X-ve,ie=xs({delta:ce,initialLayout:q,panelConstraints:ae,pivotIndices:Ce,prevLayout:q,trigger:"imperative-api"});yi(q,ie)||(_(ie),M.current.layout=ie,ee&&ee(ie),Rr(te,ie,z.current))}}},[]),$=c.useCallback((Y,ee)=>{const{onLayout:q}=k.current,{layout:te,panelDataArray:ae}=M.current;if(Y.constraints.collapsible){const X=ae.map(fe=>fe.constraints),{collapsedSize:ve=0,panelSize:Ce=0,minSize:le=0,pivotIndices:ce}=er(ae,Y,te),ie=ee??le;if(_o(Ce,ve)){const fe=R.current.get(Y.id),me=fe!=null&&fe>=ie?fe:ie,ne=Nr(ae,Y)===ae.length-1?Ce-me:me-Ce,ge=xs({delta:ne,initialLayout:te,panelConstraints:X,pivotIndices:ce,prevLayout:te,trigger:"imperative-api"});yi(te,ge)||(_(ge),M.current.layout=ge,q&&q(ge),Rr(ae,ge,z.current))}}},[]),N=c.useCallback(Y=>{const{layout:ee,panelDataArray:q}=M.current,{panelSize:te}=er(q,Y,ee);return dt(te!=null,`Panel size not found for panel "${Y.id}"`),te},[]),F=c.useCallback((Y,ee)=>{const{panelDataArray:q}=M.current,te=Nr(q,Y);return Vk({defaultSize:ee,dragState:C,layout:S,panelData:q,panelIndex:te})},[C,S]),G=c.useCallback(Y=>{const{layout:ee,panelDataArray:q}=M.current,{collapsedSize:te=0,collapsible:ae,panelSize:X}=er(q,Y,ee);return dt(X!=null,`Panel size not found for panel "${Y.id}"`),ae===!0&&_o(X,te)},[]),H=c.useCallback(Y=>{const{layout:ee,panelDataArray:q}=M.current,{collapsedSize:te=0,collapsible:ae,panelSize:X}=er(q,Y,ee);return dt(X!=null,`Panel size not found for panel "${Y.id}"`),!ae||hr(X,te)>0},[]),T=c.useCallback(Y=>{const{panelDataArray:ee}=M.current;ee.push(Y),ee.sort((q,te)=>{const ae=q.order,X=te.order;return ae==null&&X==null?0:ae==null?-1:X==null?1:ae-X}),M.current.panelDataArrayChanged=!0,P()},[P]);cr(()=>{if(M.current.panelDataArrayChanged){M.current.panelDataArrayChanged=!1;const{autoSaveId:Y,onLayout:ee,storage:q}=k.current,{layout:te,panelDataArray:ae}=M.current;let X=null;if(Y){const Ce=Zk(Y,ae,q);Ce&&(R.current=new Map(Object.entries(Ce.expandToSizes)),X=Ce.layout)}X==null&&(X=Gk({panelDataArray:ae}));const ve=cp({layout:X,panelConstraints:ae.map(Ce=>Ce.constraints)});ap(te,ve)||(_(ve),M.current.layout=ve,ee&&ee(ve),Rr(ae,ve,z.current))}}),cr(()=>{const Y=M.current;return()=>{Y.layout=[]}},[]);const A=c.useCallback(Y=>{let ee=!1;const q=b.current;return q&&window.getComputedStyle(q,null).getPropertyValue("direction")==="rtl"&&(ee=!0),function(ae){ae.preventDefault();const X=b.current;if(!X)return()=>null;const{direction:ve,dragState:Ce,id:le,keyboardResizeBy:ce,onLayout:ie}=k.current,{layout:fe,panelDataArray:me}=M.current,{initialLayout:ye}=Ce??{},ne=jm(le,Y,X);let ge=jk(ae,Y,ve,Ce,ce,X);const we=ve==="horizontal";we&&ee&&(ge=-ge);const Fe=me.map(be=>be.constraints),Ne=xs({delta:ge,initialLayout:ye??fe,panelConstraints:Fe,pivotIndices:ne,prevLayout:fe,trigger:Dm(ae)?"keyboard":"mouse-or-touch"}),Ie=!yi(fe,Ne);(Rm(ae)||Lm(ae))&&j.current!=ge&&(j.current=ge,!Ie&&ge!==0?we?yl(Y,ge<0?Om:Nm):yl(Y,ge<0?zm:$m):yl(Y,0)),Ie&&(_(Ne),M.current.layout=Ne,ie&&ie(Ne),Rr(me,Ne,z.current))}},[]),B=c.useCallback((Y,ee)=>{const{onLayout:q}=k.current,{layout:te,panelDataArray:ae}=M.current,X=ae.map(fe=>fe.constraints),{panelSize:ve,pivotIndices:Ce}=er(ae,Y,te);dt(ve!=null,`Panel size not found for panel "${Y.id}"`);const ce=Nr(ae,Y)===ae.length-1?ve-ee:ee-ve,ie=xs({delta:ce,initialLayout:te,panelConstraints:X,pivotIndices:Ce,prevLayout:te,trigger:"imperative-api"});yi(te,ie)||(_(ie),M.current.layout=ie,q&&q(ie),Rr(ae,ie,z.current))},[]),W=c.useCallback((Y,ee)=>{const{layout:q,panelDataArray:te}=M.current,{collapsedSize:ae=0,collapsible:X}=ee,{collapsedSize:ve=0,collapsible:Ce,maxSize:le=100,minSize:ce=0}=Y.constraints,{panelSize:ie}=er(te,Y,q);ie!=null&&(X&&Ce&&_o(ie,ae)?_o(ae,ve)||B(Y,ve):ie<ce?B(Y,ce):ie>le&&B(Y,le))},[B]),D=c.useCallback((Y,ee)=>{const{direction:q}=k.current,{layout:te}=M.current;if(!b.current)return;const ae=Ia(Y,b.current);dt(ae,`Drag handle element not found for id "${Y}"`);const X=Vm(q,ee);x({dragHandleId:Y,dragHandleRect:ae.getBoundingClientRect(),initialCursorPosition:X,initialLayout:te})},[]),V=c.useCallback(()=>{x(null)},[]),Z=c.useCallback(Y=>{const{panelDataArray:ee}=M.current,q=Nr(ee,Y);q>=0&&(ee.splice(q,1),delete z.current[Y.id],M.current.panelDataArrayChanged=!0,P())},[P]),K=c.useMemo(()=>({collapsePanel:E,direction:s,dragState:C,expandPanel:$,getPanelSize:N,getPanelStyle:F,groupId:v,isPanelCollapsed:G,isPanelExpanded:H,reevaluatePanelConstraints:W,registerPanel:T,registerResizeHandle:A,resizePanel:B,startDragging:D,stopDragging:V,unregisterPanel:Z,panelGroupElement:b.current}),[E,C,s,$,N,F,v,G,H,W,T,A,B,D,V,Z]),Q={display:"flex",flexDirection:s==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return c.createElement(wa.Provider,{value:K},c.createElement(m,{...g,children:t,className:o,id:a,ref:b,style:{...Q,...f},[Yt.group]:"",[Yt.groupDirection]:s,[Yt.groupId]:v}))}const Ai=c.forwardRef((e,t)=>c.createElement(Km,{...e,forwardedRef:t}));Km.displayName="PanelGroup";Ai.displayName="forwardRef(PanelGroup)";function Nr(e,t){return e.findIndex(o=>o===t||o.id===t.id)}function er(e,t,o){const s=Nr(e,t),a=s===e.length-1?[s-1,s]:[s,s+1],l=o[s];return{...t.constraints,panelSize:l,pivotIndices:a}}function Jk({disabled:e,handleId:t,resizeHandler:o,panelGroupElement:s}){c.useEffect(()=>{if(e||o==null||s==null)return;const i=Ia(t,s);if(i==null)return;const a=l=>{if(!l.defaultPrevented)switch(l.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{l.preventDefault(),o(l);break}case"F6":{l.preventDefault();const d=i.getAttribute(Yt.groupId);dt(d,`No group element found for id "${d}"`);const p=Ls(d,s),f=Hm(d,t,s);dt(f!==null,`No resize element found for id "${t}"`);const m=l.shiftKey?f>0?f-1:p.length-1:f+1<p.length?f+1:0;p[m].focus();break}}};return i.addEventListener("keydown",a),()=>{i.removeEventListener("keydown",a)}},[s,e,t,o])}function Ei({children:e=null,className:t="",disabled:o=!1,hitAreaMargins:s,id:i,onBlur:a,onClick:l,onDragging:d,onFocus:p,onPointerDown:f,onPointerUp:m,style:g={},tabIndex:v=0,tagName:b="div",...C}){var x,S;const _=c.useRef(null),P=c.useRef({onClick:l,onDragging:d,onPointerDown:f,onPointerUp:m});c.useEffect(()=>{P.current.onClick=l,P.current.onDragging=d,P.current.onPointerDown=f,P.current.onPointerUp=m});const z=c.useContext(wa);if(z===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:R,groupId:j,registerResizeHandle:k,startDragging:M,stopDragging:E,panelGroupElement:$}=z,N=jc(i),[F,G]=c.useState("inactive"),[H,T]=c.useState(!1),[A,B]=c.useState(null),W=c.useRef({state:F});cr(()=>{W.current.state=F}),c.useEffect(()=>{if(o)B(null);else{const K=k(N);B(()=>K)}},[o,N,k]);const D=(x=s==null?void 0:s.coarse)!==null&&x!==void 0?x:15,V=(S=s==null?void 0:s.fine)!==null&&S!==void 0?S:5;c.useEffect(()=>{if(o||A==null)return;const K=_.current;dt(K,"Element ref not attached");let Q=!1;return Rk(N,K,R,{coarse:D,fine:V},(ee,q,te)=>{if(!q){G("inactive");return}switch(ee){case"down":{G("drag"),Q=!1,dt(te,'Expected event to be defined for "down" action'),M(N,te);const{onDragging:ae,onPointerDown:X}=P.current;ae==null||ae(!0),X==null||X();break}case"move":{const{state:ae}=W.current;Q=!0,ae!=="drag"&&G("hover"),dt(te,'Expected event to be defined for "move" action'),A(te);break}case"up":{G("hover"),E();const{onClick:ae,onDragging:X,onPointerUp:ve}=P.current;X==null||X(!1),ve==null||ve(),Q||ae==null||ae();break}}})},[D,R,o,V,k,N,A,M,E]),Jk({disabled:o,handleId:N,resizeHandler:A,panelGroupElement:$});const Z={touchAction:"none",userSelect:"none"};return c.createElement(b,{...C,children:e,className:t,id:i,onBlur:()=>{T(!1),a==null||a()},onFocus:()=>{T(!0),p==null||p()},ref:_,role:"separator",style:{...Z,...g},tabIndex:v,[Yt.groupDirection]:R,[Yt.groupId]:j,[Yt.resizeHandle]:"",[Yt.resizeHandleActive]:F==="drag"?"pointer":H?"keyboard":void 0,[Yt.resizeHandleEnabled]:!o,[Yt.resizeHandleId]:N,[Yt.resizeHandleState]:F})}Ei.displayName="PanelResizeHandle";function qk(e=["timeline","map","resources","tasks"]){const[t,o]=c.useState(e),[s,i]=c.useState(null),a=m=>{o(g=>g.includes(m)?g.filter(v=>v!==m):[...g,m])},l=m=>{o(g=>g.filter(v=>v!==m)),s===m&&i(null)},d=m=>{t.length<=1||i(g=>g===m?null:m)},p=c.useMemo(()=>e.filter(m=>!t.includes(m)),[t,e]);return{visiblePanels:t,maximizedPanel:s,collapsedPanels:p,isPanelMaximized:m=>s===m,togglePanel:a,closePanel:l,maximizePanel:d}}function dp({title:e,icon:t,isMaximized:o,onMaximize:s,onClose:i,children:a,visibleCount:l}){const d=zt(),p=Te(d.palette.primary.main,.12),f=Te(d.palette.primary.main,.05),m=Te(d.palette.text.primary,.6);return h.jsxs(Nt,{elevation:o?6:1,sx:{display:"flex",flexDirection:"column",height:"100%",width:"100%",borderRadius:2,border:`1px solid ${p}`,overflow:"hidden",backgroundImage:"none"},children:[h.jsxs(It,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{px:1.5,py:.75,borderBottom:`1px solid ${p}`,backgroundColor:f},children:[h.jsxs(It,{direction:"row",spacing:1,alignItems:"center",children:[h.jsx(t,{size:16,color:m}),h.jsx(yt,{variant:"subtitle2",sx:{fontWeight:600,color:d.palette.text.primary},children:e})]}),h.jsxs(It,{direction:"row",alignItems:"center",spacing:.5,children:[l>1&&h.jsx(fn,{size:"small",onClick:s,title:o?"Restore":"Maximize",sx:{borderRadius:1.5,border:`1px solid ${Te(d.palette.primary.main,.12)}`,bgcolor:o?Te(d.palette.primary.main,.12):d.palette.common.white,"&:hover":{bgcolor:Te(d.palette.primary.main,.18)}},children:h.jsx(Lg,{size:16,color:d.palette.text.primary,style:{transform:o?"rotate(180deg)":"none",transition:"transform 150ms ease"}})}),h.jsx(fn,{size:"small",onClick:i,title:"Close",sx:{borderRadius:1.5,border:`1px solid ${Te(d.palette.primary.main,.12)}`,bgcolor:d.palette.common.white,"&:hover":{bgcolor:Te(d.palette.primary.main,.18)}},children:h.jsx(Op,{size:16,color:d.palette.text.primary})})]})]}),h.jsx(Ue,{sx:{flex:1,minHeight:0,overflow:"hidden"},children:a})]})}const tr=[{id:"tasksByCommit",label:"Active Tasks by Commit",group:"task"},{id:"resource-active",label:"Active Resources",group:"resource"}];function Xk(){var m;const[e,t]=c.useState("task"),[o,s]=c.useState(((m=tr.find(g=>g.group==="task"))==null?void 0:m.id)??tr[0].id),i=g=>{t(g);const v=tr.find(b=>b.group===g);v&&s(v.id)},a=g=>e===g,l=g=>{s(g);const v=tr.find(b=>b.id===g);v&&t(v.group)},d=g=>g===o,p=tr.filter(g=>g.group==="task"),f=tr.filter(g=>g.group==="resource");return{MENU:tr,activeTab:e,selectedMode:o,selectTab:i,isTab:a,select:l,isActive:d,taskItems:p,resourceItems:f}}function Yk(){const[e,t]=c.useState([]),[o,s]=c.useState([]),[i,a]=c.useState(!0),l=c.useRef(null),d=c.useRef(!1),p=c.useRef(!1),f=c.useRef(0),m=200,g=e.length===1?e[0]:null,v=o.length===1?o[0]:null;c.useEffect(()=>{console.log("â†’ SELECTED TASKS:",e.map(j=>j.taskId)),console.log("â†’ SELECTED RESOURCES:",o.map(j=>j.resourceId))},[e,o]);const b=(j,k,M)=>{console.log("APPLY SELECTION (origin:",M,")",j),l.current=M,k(j),setTimeout(()=>{l.current=null},0)};return{selectedTasks:e,selectedTask:g,handleTaskMapClick:(j,k=!1)=>{console.log("MAP CLICK TASK:",j.taskId,"multi:",k),a(!1),l.current="map",d.current=!0,f.current=Date.now(),t(M=>k?M.some($=>$.taskId===j.taskId)?M.filter($=>$.taskId!==j.taskId):[...M,j]:[j]),setTimeout(()=>{l.current=null,d.current=!1},30)},handleTaskTableSelect:j=>{if(console.log("TABLE SELECT TASKS:",j.map(M=>M.taskId)),!j||j.length===0){console.log("TABLE SELECT TASKS ignored (empty selection)");return}const k=Date.now()-f.current<m;if(d.current||l.current==="map"||p.current||k){console.log("TABLE IGNORED â€” map is selecting/dragging/suppress window");return}a(!0),b(j,t,"table")},selectedResources:o,selectedResource:v,handleResourceMapClick:(j,k=!1)=>{console.log("MAP CLICK RESOURCE:",j.resourceId,"multi:",k),a(!1),l.current="map",d.current=!0,f.current=Date.now(),s(M=>k?M.some($=>$.resourceId===j.resourceId)?M.filter($=>$.resourceId!==j.resourceId):[...M,j]:[j]),setTimeout(()=>{l.current=null,d.current=!1},30)},handleResourceTableSelect:j=>{if(console.log("TABLE SELECT RESOURCES:",j.map(M=>M.resourceId)),!j||j.length===0){console.log("TABLE SELECT RESOURCES ignored (empty selection)");return}const k=Date.now()-f.current<m;if(d.current||l.current==="map"||p.current||k){console.log("TABLE IGNORED â€” map is selecting/dragging/suppress window");return}a(!0),b(j,s,"table")},shouldZoom:i,notifyMapDragStart:()=>{console.log("MAP DRAG START"),p.current=!0,f.current=Date.now()},notifyMapDragEnd:()=>{console.log("MAP DRAG END"),setTimeout(()=>{p.current=!1},80)},clearAll:()=>{console.log("CLEAR ALL"),l.current="clear",t([]),s([]),a(!0),setTimeout(()=>{l.current=null},0)}}}const ms={timeline:{label:"Gantt Timeline",icon:$g},map:{label:"Map View",icon:zg},resources:{label:"Resource Table",icon:sa},tasks:{label:"Task Table",icon:Ql}};function pp(e){return e==="resource-active"?"resource-active":"task-default"}function Qk(){const e=zt(),t=e.palette.primary.main,o=e.palette.primary.dark,s=Te(t,.1),i=Te(t,.18),a="0 24px 54px rgba(8,58,97,0.22)",[l,d]=c.useState(""),[p,f]=c.useState(""),[m,g]=c.useState(!1),[v,b]=c.useState(!1),[C,x]=c.useState(!1),[S,_]=c.useState(!1),P=c.useRef(null),[z,R]=c.useState(""),j=c.useRef({}),[k,M]=c.useState([]),[E,$]=c.useState([]),N=nh,[F,G]=c.useState({statuses:[],pwa:[],capabilities:[],commitmentTypes:[]}),[H,T]=c.useState(0),{selectedMode:A,select:B,isActive:W,taskItems:D,resourceItems:V}=Xk(),{selectedTasks:Z,selectedTask:K,handleTaskMapClick:Q,handleTaskTableSelect:Y,selectedResources:ee,selectedResource:q,handleResourceMapClick:te,handleResourceTableSelect:ae,shouldZoom:X,clearAll:ve,notifyMapDragStart:Ce,notifyMapDragEnd:le}=Yk(),ce=c.useMemo(()=>{const de=new Set;return cn.forEach(re=>re.division&&de.add(re.division)),Array.from(de).sort()},[]),ie=c.useMemo(()=>{const de=new Set;return cn.forEach(re=>re.domain&&de.add(String(re.domain).toUpperCase())),Array.from(de).sort()},[]);function fe(de){const re=new Set,_e=new Set,Je=new Set,Ze=new Set;for(const qe of de)qe.taskStatus&&re.add(qe.taskStatus),qe.pwa&&_e.add(qe.pwa),Array.isArray(qe.capabilities)&&qe.capabilities.forEach(Ye=>Je.add(Ye)),qe.commitmentType&&Ze.add(qe.commitmentType);return{statuses:[...re].sort(),pwa:[..._e].sort(),capabilities:[...Je].sort(),commitmentTypes:[...Ze].sort()}}const me=de=>{if(f(de),M([]),$([]),T(re=>re+1),de){const re=cn.filter(_e=>_e.division===de);G(fe(re))}else G({statuses:[],pwa:[],capabilities:[],commitmentTypes:[]});R("")},ye=de=>{d(de),M([]),$([]),T(_e=>_e+1);let re=[...cn];de&&(re=re.filter(_e=>String(_e.domain).toUpperCase()===de)),p&&(re=re.filter(_e=>_e.division===p)),G(fe(re)),R("")},{visiblePanels:ne,maximizedPanel:ge,collapsedPanels:we,isPanelMaximized:Fe,togglePanel:Ne,closePanel:Ie,maximizePanel:be}=qk(),Pe=()=>{x(!1),_(!1)},ke=()=>{p&&x(de=>{const re=!de;return _(re),re})},We=P.current,nt=!!(C&&p&&We),et=de=>{We&&We.contains(de.target)||Pe()},Xe=de=>{var _e,Je,Ze,qe;let re=[...cn];l&&(re=re.filter(Ye=>String(Ye.domain).toUpperCase()===l)),p&&(re=re.filter(Ye=>Ye.division===p)),(_e=de.statuses)!=null&&_e.length&&(re=re.filter(Ye=>de.statuses.includes(Ye.taskStatus))),(Je=de.pwa)!=null&&Je.length&&(re=re.filter(Ye=>de.pwa.includes(Ye.pwa))),(Ze=de.capabilities)!=null&&Ze.length&&(re=re.filter(Ye=>{var Se;return(Se=Ye.capabilities)==null?void 0:Se.some(Ae=>de.capabilities.includes(Ae))})),(qe=de.commitmentTypes)!=null&&qe.length&&(re=re.filter(Ye=>de.commitmentTypes.includes(Ye.commitmentType))),re.sort((Ye,Se)=>{const Ae=Number(Ye.importanceScore??0),$e=Number(Se.importanceScore??0);if($e!==Ae)return $e-Ae;const Ee=Ye.appointmentStartDate?new Date(Ye.appointmentStartDate).getTime():0,Me=Se.appointmentStartDate?new Date(Se.appointmentStartDate).getTime():0;return Ee-Me}),M(re),Pe()},Ke=de=>{var Je,Ze;if(!p){$([]),Pe();return}let re=[...N];re=re.filter(qe=>qe.division===p),l&&(re=re.filter(qe=>String(qe.domain).toUpperCase()===l)),(Je=de.statuses)!=null&&Je.length&&(re=re.filter(qe=>de.statuses.includes(qe.status))),(Ze=de.pwa)!=null&&Ze.length&&(re=re.filter(qe=>de.pwa.includes(qe.pwa)));const _e={Available:1,Busy:2,Offline:3};re.sort((qe,Ye)=>{const Se=_e[qe.status]??99,Ae=_e[Ye.status]??99;if(Se!==Ae)return Se-Ae;const $e=qe.availableAgainAt?new Date(qe.availableAgainAt).getTime():Number.POSITIVE_INFINITY,Ee=Ye.availableAgainAt?new Date(Ye.availableAgainAt).getTime():Number.POSITIVE_INFINITY;return $e-Ee}),$(re),Pe()},St=()=>{const de=z.trim().toLowerCase();if(!de)return;let re=!1;const _e=cn.filter(Ze=>Ze.taskId&&Ze.taskId.toLowerCase()===de);_e.length&&(M(_e),re=!0);const Je=N.filter(Ze=>Ze.resourceId&&String(Ze.resourceId).toLowerCase()===de);Je.length&&($(Je),re=!0),re||console.log("No match found."),Pe()},it=()=>{if(ve(),R(""),M([]),$([]),T(de=>de+1),p){const de=cn.filter(re=>re.division===p);G(fe(de))}else G({statuses:[],pwa:[],capabilities:[],commitmentTypes:[]});Pe()},ot=de=>{switch(de){case"timeline":return h.jsx(m0,{});case"map":return h.jsx(O0,{tasks:k,resources:E,selectedTask:K,selectedTasks:Z,selectedResource:q,selectedResources:ee,shouldZoom:X,handleTaskMapClick:Q,handleResourceMapClick:te,notifyMapDragStart:Ce,notifyMapDragEnd:le});case"resources":return h.jsx(xk,{data:E,selectedResources:ee,onSelectionChange:ae});case"tasks":return h.jsx(bk,{data:k,selectedTasks:Z,onSelectionChange:Y});default:return null}},Jt=["timeline","map"],kt=["resources","tasks"],Ht=Jt.filter(de=>ne.includes(de)),dn=kt.filter(de=>ne.includes(de)),on=ge?[ge]:Ht,ln=ge?[]:dn,jt=h.jsxs(Nt,{elevation:0,sx:{width:"100%",borderBottom:`1px solid ${Te(e.palette.primary.main,.1)}`,px:2.5,py:1.5,display:"flex",alignItems:"center",gap:2,backgroundImage:"none",borderRadius:0},children:[h.jsxs(Dn,{select:!0,size:"small",value:p,onChange:de=>me(de.target.value),sx:{minWidth:{xs:e.spacing(14),sm:e.spacing(18)}},SelectProps:{displayEmpty:!0,renderValue:de=>de?String(de):"Division"},children:[h.jsx(un,{value:"",children:"All"}),ce.map(de=>h.jsx(un,{value:de,children:de},de))]}),h.jsxs(Dn,{select:!0,size:"small",value:l,onChange:de=>ye(de.target.value),sx:{minWidth:{xs:e.spacing(14),sm:e.spacing(18)}},SelectProps:{displayEmpty:!0,renderValue:de=>de?String(de):"Domain"},children:[h.jsx(un,{value:"",children:"All"}),ie.map(de=>h.jsx(un,{value:de,children:de},de))]}),h.jsx(Dn,{size:"small",value:z,onChange:de=>R(de.target.value),onKeyDown:de=>de.key==="Enter"&&St(),placeholder:"Search anywhereâ€¦",sx:{minWidth:{xs:e.spacing(20),sm:e.spacing(30)}},InputProps:{startAdornment:h.jsx(ra,{position:"start",sx:{color:Te(e.palette.text.primary,.6)},children:h.jsx(Yl,{size:16})})}}),h.jsx(Pn,{ref:P,onClick:ke,variant:S?"contained":"outlined",color:"primary",size:"small",startIcon:h.jsx(Fg,{size:16}),disabled:!p,sx:{boxShadow:S?"0 14px 36px rgba(8,58,97,0.25)":"none",bgcolor:S?s:void 0,borderColor:S?t:void 0},children:"Search Tool"}),h.jsx(fn,{size:"small",onClick:()=>g(de=>!de),sx:{borderRadius:2,border:`1px solid ${i}`,boxShadow:m?"0 14px 36px rgba(8,58,97,0.2)":"none",bgcolor:m?t:"white",color:m?e.palette.common.white:e.palette.text.primary,"&:hover":{bgcolor:m?o:Te(t,.08)}},children:h.jsx(Og,{size:16})}),h.jsx(fn,{size:"small",onClick:()=>b(de=>!de),sx:{borderRadius:2,border:`1px solid ${i}`,boxShadow:v?"0 14px 36px rgba(8,58,97,0.2)":"none",bgcolor:v?t:"white",color:v?e.palette.common.white:e.palette.text.primary,"&:hover":{bgcolor:v?o:Te(t,.08)}},title:"Map Legend",children:h.jsx(Ng,{size:16})}),h.jsx(Ue,{sx:{flexGrow:1}}),h.jsx(Pn,{variant:"outlined",size:"small",onClick:it,children:"Clear All"}),we.length>0&&h.jsx(It,{direction:"row",spacing:1.5,ml:2,alignItems:"center",children:we.map(de=>h.jsx(fn,{size:"small",onClick:()=>Ne(de),sx:{width:32,height:32,borderRadius:1.5,border:`1px solid ${Te(e.palette.primary.main,.12)}`,bgcolor:"white","&:hover":{bgcolor:Te(e.palette.primary.main,.08)}},children:zn.createElement(ms[de].icon,{size:15})},de))})]}),Ct=h.jsx(qr,{open:nt,anchorEl:We,placement:"bottom-start",transition:!0,modifiers:[{name:"offset",options:{offset:[0,10]}}],children:({TransitionProps:de})=>h.jsx(Ap,{...de,timeout:160,children:h.jsx(Ue,{children:h.jsx(sc,{onClickAway:et,children:h.jsxs(Nt,{elevation:16,sx:{borderRadius:3,p:3,border:`1px solid ${i}`,boxShadow:a,backgroundImage:"none",display:"flex",flexDirection:"column",gap:3},style:{width:"min(95vw, 760px)"},children:[h.jsxs(It,{direction:{xs:"column",md:"row"},spacing:3,children:[h.jsxs(Nt,{elevation:0,sx:{width:{xs:"100%",md:"clamp(200px,24vw,240px)"},borderRadius:2,border:`1px solid ${Te(t,.12)}`,boxShadow:"0 18px 42px rgba(8,58,97,0.18)",backgroundImage:"none",p:2.5,display:"flex",flexDirection:"column",gap:3},children:[h.jsxs(Ue,{children:[h.jsx(yt,{variant:"overline",sx:{fontWeight:700,color:Te(e.palette.text.secondary,.9)},children:"Task Searches"}),h.jsx(It,{spacing:1,mt:1.5,children:D.map(re=>h.jsx(Pn,{onClick:()=>B(re.id),fullWidth:!0,size:"small",variant:W(re.id)?"contained":"outlined",color:"primary",sx:{justifyContent:"flex-start",textTransform:"none",fontSize:12,fontWeight:600,borderRadius:1.5},children:re.label},re.id))})]}),h.jsx(ur,{flexItem:!0,sx:{my:1}}),h.jsxs(Ue,{children:[h.jsx(yt,{variant:"overline",sx:{fontWeight:700,color:Te(e.palette.text.secondary,.9)},children:"Resource Searches"}),h.jsx(It,{spacing:1,mt:1.5,children:V.map(re=>h.jsx(Pn,{onClick:()=>B(re.id),fullWidth:!0,size:"small",variant:W(re.id)?"contained":"outlined",color:"primary",sx:{justifyContent:"flex-start",textTransform:"none",fontSize:12,fontWeight:600,borderRadius:1.5},children:re.label},re.id))})]})]}),h.jsx(Nt,{elevation:0,sx:{flex:1,borderRadius:2,border:`1px solid ${Te(t,.12)}`,boxShadow:"0 18px 42px rgba(8,58,97,0.18)",backgroundImage:"none",p:3},children:h.jsx(h0,{mode:pp(A),onSearch:re=>{j.current=re},onClear:()=>{M([]),$([]),T(re=>re+1)},dropdownData:{...F,resourceStatuses:Array.from(new Set(N.map(re=>re.status))).sort()},resetKey:H})})]}),h.jsx(It,{direction:"row",justifyContent:"flex-end",children:h.jsx(Pn,{variant:"contained",size:"medium",onClick:()=>{const re=j.current;pp(A).startsWith("task")?Xe(re):Ke(re)},sx:{px:3.5,fontWeight:700,boxShadow:"0 18px 38px rgba(8,58,97,0.24)"},children:"Search"})})]})})})})});return h.jsxs(Ue,{sx:{flex:1,minHeight:0,display:"flex",flexDirection:"column",position:"relative",backgroundColor:Te(e.palette.primary.light,.08)},children:[jt,h.jsx(a0,{visible:v,onClose:()=>b(!1)}),Ct,h.jsx(Ue,{sx:{flex:1,minHeight:0,px:1,pt:1},children:h.jsxs(Ai,{direction:"vertical",style:{height:"100%"},children:[on.length>0&&h.jsxs(h.Fragment,{children:[h.jsx(Cs,{defaultSize:50,children:h.jsx(Ai,{direction:"horizontal",style:{height:"100%"},children:on.map((de,re)=>h.jsxs(zn.Fragment,{children:[re>0&&h.jsx(Ei,{style:{width:4,backgroundColor:Te(e.palette.primary.main,.08),cursor:"col-resize"}}),h.jsx(Cs,{children:h.jsx(dp,{title:ms[de].label,icon:ms[de].icon,isMaximized:Fe(de),onMaximize:()=>be(de),onClose:()=>Ie(de),visibleCount:ne.length,children:ot(de)})})]},de))})}),ln.length>0&&h.jsx(Ei,{style:{height:4,backgroundColor:Te(e.palette.primary.main,.08),cursor:"row-resize"}})]}),ln.length>0&&h.jsx(Cs,{defaultSize:50,children:h.jsx(Ai,{direction:"horizontal",style:{height:"100%"},children:ln.map((de,re)=>h.jsxs(zn.Fragment,{children:[re>0&&h.jsx(Ei,{style:{width:4,backgroundColor:Te(e.palette.primary.main,.08),cursor:"col-resize"}}),h.jsx(Cs,{children:h.jsx(dp,{title:ms[de].label,icon:ms[de].icon,isMaximized:Fe(de),onMaximize:()=>be(de),onClose:()=>Ie(de),visibleCount:ne.length,children:ot(de)})})]},de))})})]},ne.join("-"))})]})}let eM={data:""},tM=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||eM},nM=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,oM=/\/\*[^]*?\*\/|  +/g,hp=/\n+/g,Ho=(e,t)=>{let o="",s="",i="";for(let a in e){let l=e[a];a[0]=="@"?a[1]=="i"?o=a+" "+l+";":s+=a[1]=="f"?Ho(l,a):a+"{"+Ho(l,a[1]=="k"?"":t)+"}":typeof l=="object"?s+=Ho(l,t?t.replace(/([^,])+/g,d=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,p=>/&/.test(p)?p.replace(/&/g,d):d?d+" "+p:p)):a):l!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Ho.p?Ho.p(a,l):a+":"+l+";")}return o+(t&&i?t+"{"+i+"}":i)+s},xo={},Jm=e=>{if(typeof e=="object"){let t="";for(let o in e)t+=o+Jm(e[o]);return t}return e},rM=(e,t,o,s,i)=>{let a=Jm(e),l=xo[a]||(xo[a]=(p=>{let f=0,m=11;for(;f<p.length;)m=101*m+p.charCodeAt(f++)>>>0;return"go"+m})(a));if(!xo[l]){let p=a!==e?e:(f=>{let m,g,v=[{}];for(;m=nM.exec(f.replace(oM,""));)m[4]?v.shift():m[3]?(g=m[3].replace(hp," ").trim(),v.unshift(v[0][g]=v[0][g]||{})):v[0][m[1]]=m[2].replace(hp," ").trim();return v[0]})(e);xo[l]=Ho(i?{["@keyframes "+l]:p}:p,o?"":"."+l)}let d=o&&xo.g?xo.g:null;return o&&(xo.g=xo[l]),((p,f,m,g)=>{g?f.data=f.data.replace(g,p):f.data.indexOf(p)===-1&&(f.data=m?p+f.data:f.data+p)})(xo[l],t,s,d),l},sM=(e,t,o)=>e.reduce((s,i,a)=>{let l=t[a];if(l&&l.call){let d=l(o),p=d&&d.props&&d.props.className||/^go/.test(d)&&d;l=p?"."+p:d&&typeof d=="object"?d.props?"":Ho(d,""):d===!1?"":d}return s+i+(l??"")},"");function Ta(e){let t=this||{},o=e.call?e(t.p):e;return rM(o.unshift?o.raw?sM(o,[].slice.call(arguments,1),t.p):o.reduce((s,i)=>Object.assign(s,i&&i.call?i(t.p):i),{}):o,tM(t.target),t.g,t.o,t.k)}let qm,jl,Gl;Ta.bind({g:1});let ko=Ta.bind({k:1});function iM(e,t,o,s){Ho.p=t,qm=e,jl=o,Gl=s}function Uo(e,t){let o=this||{};return function(){let s=arguments;function i(a,l){let d=Object.assign({},a),p=d.className||i.className;o.p=Object.assign({theme:jl&&jl()},d),o.o=/ *go\d+/.test(p),d.className=Ta.apply(o,s)+(p?" "+p:"");let f=e;return e[0]&&(f=d.as||e,delete d.as),Gl&&f[0]&&Gl(d),qm(f,d)}return i}}var aM=e=>typeof e=="function",Yi=(e,t)=>aM(e)?e(t):e,lM=(()=>{let e=0;return()=>(++e).toString()})(),Xm=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),cM=20,Vc="default",Ym=(e,t)=>{let{toastLimit:o}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,o)};case 1:return{...e,toasts:e.toasts.map(l=>l.id===t.toast.id?{...l,...t.toast}:l)};case 2:let{toast:s}=t;return Ym(e,{type:e.toasts.find(l=>l.id===s.id)?1:0,toast:s});case 3:let{toastId:i}=t;return{...e,toasts:e.toasts.map(l=>l.id===i||i===void 0?{...l,dismissed:!0,visible:!1}:l)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(l=>l.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let a=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(l=>({...l,pauseDuration:l.pauseDuration+a}))}}},Di=[],Qm={toasts:[],pausedAt:void 0,settings:{toastLimit:cM}},uo={},ef=(e,t=Vc)=>{uo[t]=Ym(uo[t]||Qm,e),Di.forEach(([o,s])=>{o===t&&s(uo[t])})},tf=e=>Object.keys(uo).forEach(t=>ef(e,t)),uM=e=>Object.keys(uo).find(t=>uo[t].toasts.some(o=>o.id===e)),ka=(e=Vc)=>t=>{ef(t,e)},dM={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},pM=(e={},t=Vc)=>{let[o,s]=c.useState(uo[t]||Qm),i=c.useRef(uo[t]);c.useEffect(()=>(i.current!==uo[t]&&s(uo[t]),Di.push([t,s]),()=>{let l=Di.findIndex(([d])=>d===t);l>-1&&Di.splice(l,1)}),[t]);let a=o.toasts.map(l=>{var d,p,f;return{...e,...e[l.type],...l,removeDelay:l.removeDelay||((d=e[l.type])==null?void 0:d.removeDelay)||(e==null?void 0:e.removeDelay),duration:l.duration||((p=e[l.type])==null?void 0:p.duration)||(e==null?void 0:e.duration)||dM[l.type],style:{...e.style,...(f=e[l.type])==null?void 0:f.style,...l.style}}});return{...o,toasts:a}},hM=(e,t="blank",o)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...o,id:(o==null?void 0:o.id)||lM()}),Us=e=>(t,o)=>{let s=hM(t,e,o);return ka(s.toasterId||uM(s.id))({type:2,toast:s}),s.id},Dt=(e,t)=>Us("blank")(e,t);Dt.error=Us("error");Dt.success=Us("success");Dt.loading=Us("loading");Dt.custom=Us("custom");Dt.dismiss=(e,t)=>{let o={type:3,toastId:e};t?ka(t)(o):tf(o)};Dt.dismissAll=e=>Dt.dismiss(void 0,e);Dt.remove=(e,t)=>{let o={type:4,toastId:e};t?ka(t)(o):tf(o)};Dt.removeAll=e=>Dt.remove(void 0,e);Dt.promise=(e,t,o)=>{let s=Dt.loading(t.loading,{...o,...o==null?void 0:o.loading});return typeof e=="function"&&(e=e()),e.then(i=>{let a=t.success?Yi(t.success,i):void 0;return a?Dt.success(a,{id:s,...o,...o==null?void 0:o.success}):Dt.dismiss(s),i}).catch(i=>{let a=t.error?Yi(t.error,i):void 0;a?Dt.error(a,{id:s,...o,...o==null?void 0:o.error}):Dt.dismiss(s)}),e};var mM=1e3,fM=(e,t="default")=>{let{toasts:o,pausedAt:s}=pM(e,t),i=c.useRef(new Map).current,a=c.useCallback((g,v=mM)=>{if(i.has(g))return;let b=setTimeout(()=>{i.delete(g),l({type:4,toastId:g})},v);i.set(g,b)},[]);c.useEffect(()=>{if(s)return;let g=Date.now(),v=o.map(b=>{if(b.duration===1/0)return;let C=(b.duration||0)+b.pauseDuration-(g-b.createdAt);if(C<0){b.visible&&Dt.dismiss(b.id);return}return setTimeout(()=>Dt.dismiss(b.id,t),C)});return()=>{v.forEach(b=>b&&clearTimeout(b))}},[o,s,t]);let l=c.useCallback(ka(t),[t]),d=c.useCallback(()=>{l({type:5,time:Date.now()})},[l]),p=c.useCallback((g,v)=>{l({type:1,toast:{id:g,height:v}})},[l]),f=c.useCallback(()=>{s&&l({type:6,time:Date.now()})},[s,l]),m=c.useCallback((g,v)=>{let{reverseOrder:b=!1,gutter:C=8,defaultPosition:x}=v||{},S=o.filter(z=>(z.position||x)===(g.position||x)&&z.height),_=S.findIndex(z=>z.id===g.id),P=S.filter((z,R)=>R<_&&z.visible).length;return S.filter(z=>z.visible).slice(...b?[P+1]:[0,P]).reduce((z,R)=>z+(R.height||0)+C,0)},[o]);return c.useEffect(()=>{o.forEach(g=>{if(g.dismissed)a(g.id,g.removeDelay);else{let v=i.get(g.id);v&&(clearTimeout(v),i.delete(g.id))}})},[o,a]),{toasts:o,handlers:{updateHeight:p,startPause:d,endPause:f,calculateOffset:m}}},gM=ko`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,vM=ko`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,yM=ko`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,bM=Uo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${gM} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${vM} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${yM} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,CM=ko`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,xM=Uo("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${CM} 1s linear infinite;
`,wM=ko`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,SM=ko`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,_M=Uo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${wM} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${SM} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,PM=Uo("div")`
  position: absolute;
`,IM=Uo("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,TM=ko`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,kM=Uo("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${TM} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,MM=({toast:e})=>{let{icon:t,type:o,iconTheme:s}=e;return t!==void 0?typeof t=="string"?c.createElement(kM,null,t):t:o==="blank"?null:c.createElement(IM,null,c.createElement(xM,{...s}),o!=="loading"&&c.createElement(PM,null,o==="error"?c.createElement(bM,{...s}):c.createElement(_M,{...s})))},AM=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,EM=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,DM="0%{opacity:0;} 100%{opacity:1;}",RM="0%{opacity:1;} 100%{opacity:0;}",LM=Uo("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,FM=Uo("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,OM=(e,t)=>{let o=e.includes("top")?1:-1,[s,i]=Xm()?[DM,RM]:[AM(o),EM(o)];return{animation:t?`${ko(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ko(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},NM=c.memo(({toast:e,position:t,style:o,children:s})=>{let i=e.height?OM(e.position||t||"top-center",e.visible):{opacity:0},a=c.createElement(MM,{toast:e}),l=c.createElement(FM,{...e.ariaProps},Yi(e.message,e));return c.createElement(LM,{className:e.className,style:{...i,...o,...e.style}},typeof s=="function"?s({icon:a,message:l}):c.createElement(c.Fragment,null,a,l))});iM(c.createElement);var zM=({id:e,className:t,style:o,onHeightUpdate:s,children:i})=>{let a=c.useCallback(l=>{if(l){let d=()=>{let p=l.getBoundingClientRect().height;s(e,p)};d(),new MutationObserver(d).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[e,s]);return c.createElement("div",{ref:a,className:t,style:o},i)},$M=(e,t)=>{let o=e.includes("top"),s=o?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Xm()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(o?1:-1)}px)`,...s,...i}},BM=Ta`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,bi=16,HM=({reverseOrder:e,position:t="top-center",toastOptions:o,gutter:s,children:i,toasterId:a,containerStyle:l,containerClassName:d})=>{let{toasts:p,handlers:f}=fM(o,a);return c.createElement("div",{"data-rht-toaster":a||"",style:{position:"fixed",zIndex:9999,top:bi,left:bi,right:bi,bottom:bi,pointerEvents:"none",...l},className:d,onMouseEnter:f.startPause,onMouseLeave:f.endPause},p.map(m=>{let g=m.position||t,v=f.calculateOffset(m,{reverseOrder:e,gutter:s,defaultPosition:t}),b=$M(g,v);return c.createElement(zM,{id:m.id,key:m.id,onHeightUpdate:f.updateHeight,className:m.visible?BM:"",style:b},m.type==="custom"?Yi(m.message,m):i?i(m):c.createElement(NM,{toast:m,position:g}))}))},Ci=Dt;const jM=tt(h.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle"),GM=tt(h.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"ErrorOutline"),VM=tt(h.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"}),"Info"),WM=[{label:"Operation Toolkit",icon:Ql},{label:"General Settings",icon:Li}],ZM=[{label:"Task Admin",icon:ql},{label:"Jeopardy Admin",icon:Xl}],UM=[{label:"Resource Admin",icon:sa},{label:"Self Service Admin",icon:Li},{label:"User Admin",icon:zp}],KM=[{label:"Domain Admin",icon:$p},{label:"Schedule Admin",icon:Bp},{label:"System Admin",icon:Hp}],JM=c.memo(function({currentMenu:t,onMenuClick:o,activeSubPage:s}){const i=zt(),[a,l]=c.useState(!1),[d,p]=c.useState(null),f=c.useRef(a);c.useEffect(()=>{t!=null&&t.label&&p(t.label.trim())},[t]);const m=c.useCallback(()=>{l(b=>!b)},[]);c.useEffect(()=>{const b=()=>m();return window.addEventListener("toggleSidebar",b),()=>window.removeEventListener("toggleSidebar",b)},[m]),c.useEffect(()=>{const b=()=>p(null);return window.addEventListener("resetSidebarSelection",b),()=>window.removeEventListener("resetSidebarSelection",b)},[]),c.useEffect(()=>(a&&!f.current&&document.body.classList.add("sidebar-open"),!a&&f.current&&document.body.classList.remove("sidebar-open"),f.current=a,()=>{document.body.classList.remove("sidebar-open")}),[a]);const g=c.useMemo(()=>[{title:"User Section",menus:WM},{title:"Task Admin",menus:ZM},{title:"People Admin",menus:UM},{title:"System Admin",menus:KM}],[]),v=c.useCallback(b=>{const C=b.label.trim();if(d===C&&!(s!==null)){l(!1);return}p(C),o({...b,label:C}),l(!1)},[d,s,o]);return h.jsxs($y,{variant:"temporary",open:a,onClose:()=>l(!1),ModalProps:{keepMounted:!0},PaperProps:{sx:{width:{xs:"80vw",sm:i.spacing(40)},maxWidth:"100vw",minWidth:0,minHeight:0,backgroundColor:"background.paper",borderRight:`1px solid ${Te(i.palette.text.primary,.08)}`,boxShadow:"8px 0 24px rgba(0,0,0,0.16)",display:"flex",flexDirection:"column"}},children:[h.jsx(Ue,{sx:{px:3,py:2.5,borderBottom:`1px solid ${Te(i.palette.text.primary,.12)}`},children:h.jsx(yt,{variant:"h6",fontWeight:600,color:"text.primary",children:"Navigation"})}),h.jsx(Ue,{sx:{flex:1,overflowY:"auto",py:1},children:g.map(({title:b,menus:C})=>h.jsxs(zn.Fragment,{children:[h.jsx(qM,{title:b,menus:C,activeMenuLabel:d,onMenuClick:v}),h.jsx(ur,{sx:{mx:2,my:2,borderColor:Te(i.palette.text.primary,.08)}})]},b))}),h.jsx(XM,{})]})}),qM=c.memo(function({title:t,menus:o,activeMenuLabel:s,onMenuClick:i}){const a=zt();return h.jsxs(Ue,{sx:{px:2,py:1},children:[h.jsx(yt,{variant:"overline",color:"text.secondary",sx:{px:1.5,mb:1,letterSpacing:1.4},children:t}),h.jsx(Ep,{disablePadding:!0,children:o.map(l=>{const d=l.icon,p=s===l.label;return h.jsxs(Dp,{onClick:()=>i(l),selected:p,sx:{borderRadius:2,mb:1,alignItems:"center",px:2.5,py:1.5,position:"relative",...p?{backgroundColor:Te(a.palette.primary.main,.12),color:a.palette.primary.main,"&::before":{content:'""',position:"absolute",left:12,top:10,bottom:10,width:4,borderRadius:999,backgroundColor:a.palette.primary.main}}:{color:a.palette.text.primary,"&:hover":{backgroundColor:Te(a.palette.primary.main,.08)}}},children:[h.jsx(Un,{sx:{minWidth:a.spacing(4.5),color:"inherit"},children:zn.createElement(d,{size:18,strokeWidth:2.2})}),h.jsx(Rn,{primary:l.label,primaryTypographyProps:{fontSize:14,fontWeight:p?600:500}})]},l.label)})})]})}),XM=c.memo(function(){const t=zt();return h.jsxs(Ue,{sx:{px:3,py:2.5,borderTop:`1px solid ${Te(t.palette.text.primary,.1)}`,backgroundColor:Te(t.palette.background.paper,.85)},children:[h.jsxs(It,{direction:"row",alignItems:"center",justifyContent:"space-between",mb:1.5,children:[h.jsx(yt,{variant:"subtitle2",fontWeight:600,color:"text.primary",children:"System Info"}),h.jsx(Ue,{sx:{color:"text.secondary"},children:h.jsx(Bg,{size:16})})]}),h.jsxs(It,{spacing:.5,sx:{color:"text.secondary",fontSize:12},children:[h.jsxs("span",{children:[h.jsx("strong",{children:"Client Version:"})," 1"]}),h.jsxs("span",{children:[h.jsx("strong",{children:"Build #:"})," 11.11.2025"]}),h.jsxs("span",{children:[h.jsx("strong",{children:"Node:"})," 20.0.0"]})]}),h.jsx(ur,{sx:{my:1.5,borderColor:Te(t.palette.text.primary,.08)}}),h.jsx(yt,{variant:"caption",color:"text.secondary",display:"block",textAlign:"center",children:"Brandon Virtual | Â© 2025"})]})}),YM=tt(h.jsx("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"}),"ContentCopy"),QM=tt(h.jsx("path",{d:"M19 9h-4V3H9v6H5l7 7zM5 18v2h14v-2z"}),"FileDownload"),eA=tt(h.jsx("path",{d:"M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2"}),"Bookmark"),tA=tt(h.jsx("path",{d:"M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2m0 15-5-2.18L7 18V5h10z"}),"BookmarkBorder"),nA=tt(h.jsx("path",{d:"M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 16H5V8h14zM7 10h5v5H7z"}),"Today"),oA=tt(h.jsx("path",{d:"M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 16H5V9h14zm0-12H5V5h14zM7 11h5v5H7z"}),"TodayOutlined");function rA({anchorEl:e,open:t,onClose:o,fromDate:s,fromTime:i,toDate:a,toTime:l,onChangeField:d,onClear:p}){return h.jsx(Ul,{anchorEl:e,open:t,onClose:o,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:h.jsxs(Ue,{sx:{p:1,display:"flex",flexDirection:"column",gap:1,minWidth:220},children:[h.jsxs(It,{direction:"row",spacing:1,alignItems:"center",children:[h.jsx(Dn,{type:"date",name:"fromDate",label:"From",value:s,onChange:f=>d("fromDate",f.target.value),size:"small",InputLabelProps:{shrink:!0}}),h.jsx(Dn,{type:"time",name:"fromTime",value:i,onChange:f=>d("fromTime",f.target.value),size:"small"})]}),h.jsxs(It,{direction:"row",spacing:1,alignItems:"center",children:[h.jsx(Dn,{type:"date",name:"toDate",label:"To",value:a,onChange:f=>d("toDate",f.target.value),size:"small",InputLabelProps:{shrink:!0}}),h.jsx(Dn,{type:"time",name:"toTime",value:l,onChange:f=>d("toTime",f.target.value),size:"small"})]}),h.jsxs(Ue,{sx:{display:"flex",gap:1,justifyContent:"flex-end"},children:[h.jsx(Pn,{variant:"text",size:"small",onClick:()=>{p&&p()},children:"Clear"}),h.jsx(Pn,{variant:"contained",size:"small",onClick:o,children:"Apply"})]})]})})}const sA=mr(Rp),mp={taskSearch:"",division:[],domainId:[],taskStatuses:[],requester:"",responseCode:[],commitType:[],capabilities:[],pwa:[],jobType:"",scoreCondition:"",scoreValue:"",locationType:"",locationValue:"",fromDate:"",fromTime:"",toDate:"",toTime:""},fs={taskSearch:"Search",division:"Division",domainId:"Domain",taskStatuses:"Task Status",requester:"Requester",responseCode:"Response",commitType:"Commitment",capabilities:"Capabilities",pwa:"PWA",jobType:"Job Type",scoreCondition:"IMP Condition",scoreValue:"IMP Value",locationType:"Location Type",locationValue:"Location Value",fromDate:"From Date",fromTime:"From Time",toDate:"To Date",toTime:"To Time"};function iA({onSearch:e,onClear:t,onCopy:o,onExport:s,canCopy:i=!1,forceCollapsed:a=!1,onOpenColumns:l,hasResults:d=!1}){const p=zt(),[f,m]=c.useState(()=>({...mp})),[g,v]=c.useState(!1),[b,C]=c.useState(!1),[x,S]=c.useState("basic"),[_,P]=c.useState(null),[z,R]=c.useState(null),j=X=>Array.from(new Set(X.filter(Boolean))),k=c.useMemo(()=>j(cn.map(X=>X.division)).sort(),[]),M=c.useMemo(()=>j(cn.map(X=>X.domain)).sort(),[]),E=c.useMemo(()=>j(cn.map(ve=>ve.taskStatus)).sort((ve,Ce)=>{const le=ve.match(/\(([^)]+)\)\s*$/),ce=Ce.match(/\(([^)]+)\)\s*$/),ie=(le==null?void 0:le[1])??ve,fe=(ce==null?void 0:ce[1])??Ce;return ie.localeCompare(fe)}),[]),$=c.useMemo(()=>j(cn.map(X=>X.responseCode)).sort(),[]),N=c.useMemo(()=>j(cn.map(X=>X.commitmentType)).sort(),[]),F=c.useMemo(()=>j(cn.flatMap(X=>X.capabilities||[])).sort(),[]),G=c.useMemo(()=>j(cn.map(X=>X.pwa)).sort(),[]),H=c.useMemo(()=>j(cn.map(X=>X.resourceName)).sort(),[]),T=c.useMemo(()=>j(cn.map(X=>X.taskType)).sort(),[]),A=c.useMemo(()=>"Search by Task ID, Work ID, Estimate Number, Employee ID",[]),[B,W]=zn.useState({});zn.useEffect(()=>{if(!(typeof window>"u"))try{const ve=document.createElement("canvas").getContext("2d");if(!ve)return;const Ce=getComputedStyle(document.body);ve.font=Ce.font||"14px Roboto, sans-serif";const le=["division","domainId","taskStatuses","commitType","responseCode","pwa","capabilities","requester","jobType","locationValue"],ce=6,ie=6,fe=ye=>{const ne=D[ye];if(ne){const Ie="0".repeat(ne+ce+ie);return Math.ceil(ve.measureText(Ie).width)}const we=(Ie=>{switch(Ie){case"division":return k;case"domainId":return M;case"taskStatuses":return E;case"responseCode":return $;case"commitType":return N;case"capabilities":return F;case"pwa":return G;case"requester":return H;case"jobType":return T;default:return}})(ye);let Fe=fs[ye]??ye;we&&we.length&&(Fe=we.reduce((Ie,be)=>String(be).length>Ie.length?String(be):Ie,Fe));const Ne=Fe+" ".repeat(ce+ie);return Math.ceil(ve.measureText(Ne).width)},me={};le.forEach(ye=>{try{me[ye]=fe(ye)}catch{}}),W(me)}catch{}},[k,M,E,$,N,F,G,H,T]);const D={division:36,domainId:14,taskStatuses:24,commitType:22,responseCode:10,pwa:20,capabilities:28,requester:28,jobType:22,locationValue:32,locationType:16,scoreValue:6},V=c.useMemo(()=>f.taskSearch.trim().length>0?!0:f.division.length>0&&f.domainId.length>0,[f.division.length,f.domainId.length,f.taskSearch]);c.useMemo(()=>{const X=[];return["taskSearch","requester","jobType","scoreCondition","scoreValue","locationType","locationValue"].forEach(le=>{const ce=f[le];typeof ce=="string"&&ce.trim()&&X.push({key:le,label:fs[le],displayValue:ce,isArray:!1})}),["division","domainId","taskStatuses","responseCode","commitType","capabilities","pwa"].forEach(le=>{const ce=f[le];ce.length&&X.push({key:le,label:fs[le],displayValue:ce.join(", "),isArray:!0})}),f.fromDate&&X.push({key:"fromDate",label:fs.fromDate,displayValue:f.fromDate,isArray:!1}),f.toDate&&X.push({key:"toDate",label:fs.toDate,displayValue:f.toDate,isArray:!1}),X},[f]);const Z=c.useCallback(X=>{const{name:ve,value:Ce}=X.target;m(le=>({...le,[ve]:Ce}))},[]),K=c.useCallback((X,ve)=>{m(Ce=>({...Ce,[X]:ve}))},[]),Q=c.useCallback(()=>{e(f)},[f,e]),Y=c.useCallback(()=>{m({...mp}),t()},[t]);zn.useEffect(()=>{a&&v(!0)},[a]);const ee=c.useCallback(X=>{P(X.currentTarget)},[]),q=c.useCallback(()=>{P(null)},[]),te=c.useCallback(()=>{i&&o?o():Ci.error("No data to copy"),q()},[i,q,o]),ae=c.useCallback(()=>{i&&s?s():Ci.error("No data to export"),q()},[i,q,s]);return c.useMemo(()=>[{label:"My Tasks",action:()=>Ci("Preset: My Tasks")},{label:"Due Today",action:()=>Ci("Preset: Due Today")},{label:"High IMP",action:()=>m(X=>({...X,scoreCondition:"greater",scoreValue:"80"}))}],[]),h.jsxs(sA,{initial:{opacity:0,y:-6},animate:{opacity:1,y:0},transition:{duration:.25},sx:{borderRadius:"12px 12px 0 0",boxShadow:"0 18px 35px rgba(10, 74, 122, 0.12)",overflow:"hidden",width:"100%",maxWidth:"100%",mx:0},children:[h.jsx(Ue,{sx:{px:{xs:2,md:3},py:.5,bgcolor:"transparent"},children:h.jsxs(Ue,{sx:{display:"flex",alignItems:"center",gap:1},children:[h.jsxs(n0,{value:x,onChange:(X,ve)=>S(ve),variant:"standard",sx:{minHeight:36},children:[h.jsx(Xu,{value:"basic",label:"Basic",sx:{minHeight:36,px:1}}),h.jsx(Xu,{value:"advanced",label:"Advanced",sx:{minHeight:36,px:1}})]}),h.jsx(Ue,{sx:{flex:1}}),h.jsx(Ue,{sx:{width:{xs:"100%",sm:420,md:720}},children:h.jsx(Dn,{name:"taskSearch",value:f.taskSearch,onChange:Z,placeholder:A,size:"small",fullWidth:!0,sx:{"& input::placeholder":{color:p.palette.text.secondary},"& .MuiInputBase-input":{paddingTop:0,paddingBottom:0,fontSize:13,lineHeight:"32px"}},InputProps:{startAdornment:h.jsx(ra,{position:"start",children:h.jsx(Yl,{size:16})}),sx:{height:48}}})}),h.jsx(fn,{onClick:X=>R(X.currentTarget),size:"small",sx:{ml:1},"aria-label":"date-filter",children:f.fromDate||f.toDate||f.fromTime||f.toTime?h.jsx(nA,{sx:{fontSize:20,color:p.palette.primary.main}}):h.jsx(oA,{sx:{fontSize:20}})}),h.jsx(fn,{onClick:()=>C(X=>!X),size:"small",sx:{ml:1},"aria-label":"favourite",children:b?h.jsx(eA,{sx:{fontSize:20,color:p.palette.primary.main}}):h.jsx(tA,{sx:{fontSize:20}})})]})}),h.jsxs(Lp,{sx:{pt:.5,pb:2,px:2,maxHeight:"none",overflowY:"visible"},children:[x==="basic"&&h.jsxs(Ue,{mt:1,children:[h.jsx(Ue,{sx:{display:"flex",justifyContent:"flex-end",mb:.25}}),h.jsxs(Et,{container:!0,spacing:1.5,alignItems:"center",children:[h.jsx(Et,{item:!0,xs:12,sm:"auto",md:"auto",children:h.jsx(On,{label:"Division",options:k,value:f.division,onChange:X=>K("division",X),showSelectAllIcon:!0,required:!0})}),h.jsx(Et,{item:!0,xs:12,sm:"auto",md:"auto",children:h.jsx(On,{label:"Domain ID",options:M,value:f.domainId,onChange:X=>K("domainId",X),showSelectAllIcon:!0,required:!0})}),h.jsx(Et,{item:!0,xs:12,sm:"auto",md:"auto",children:h.jsx(On,{label:"Task Status",options:E,value:f.taskStatuses,onChange:X=>K("taskStatuses",X),showSelectAllIcon:!0})}),h.jsx(Et,{item:!0,xs:12,sm:"auto",md:"auto",children:h.jsx(On,{label:"Commit Type",options:N,value:f.commitType,onChange:X=>K("commitType",X),showSelectAllIcon:!0})}),h.jsx(Et,{item:!0,xs:12,sm:"auto",md:"auto",children:h.jsx(On,{label:"Response Code",options:$,value:f.responseCode,onChange:X=>K("responseCode",X),showSelectAllIcon:!0})}),h.jsx(Et,{item:!0,xs:12,sm:"auto",md:"auto",children:h.jsx(On,{label:"PWA Selector",options:G,value:f.pwa,onChange:X=>K("pwa",X),showSelectAllIcon:!0})}),h.jsx(Et,{item:!0,xs:12,sm:"auto",md:"auto",children:h.jsx(On,{label:"Capabilities",options:F,value:f.capabilities,onChange:X=>K("capabilities",X),showSelectAllIcon:!0})})]})]}),x==="advanced"&&h.jsx(Ue,{mt:1,children:h.jsxs(Et,{container:!0,spacing:1.5,alignItems:"center",children:[h.jsx(Et,{item:!0,xs:12,sm:"auto",md:"auto",children:h.jsx(gi,{label:"Requester",options:H,value:f.requester,onChange:X=>m(ve=>({...ve,requester:X}))})}),h.jsx(Et,{item:!0,xs:12,sm:"auto",md:"auto",children:h.jsx(gi,{label:"Job Type",options:T,value:f.jobType,onChange:X=>m(ve=>({...ve,jobType:X}))})}),h.jsx(Et,{item:!0,xs:12,sm:"auto",md:"auto",children:h.jsx(Tl,{label:"Location Type",options:[{label:"Postcode",value:"postCode"},{label:"Location",value:"location"},{label:"Group Code",value:"groupCode"}],value:f.locationType||null,onChange:X=>m(ve=>({...ve,locationType:X??""}))})}),h.jsx(Et,{item:!0,xs:12,sm:"auto",md:"auto",children:h.jsx(gi,{label:"Location Value",options:[],value:f.locationValue,onChange:X=>m(ve=>({...ve,locationValue:X}))})}),h.jsx(Et,{item:!0,xs:12,sm:"auto",md:"auto",children:h.jsx(Tl,{label:"IMP Condition",options:[{label:"Greater Than",value:"greater"},{label:"Less Than",value:"less"}],value:f.scoreCondition||null,onChange:X=>m(ve=>({...ve,scoreCondition:X??""}))})}),h.jsx(Et,{item:!0,xs:12,sm:"auto",md:"auto",children:h.jsx(gi,{label:"IMP Value",options:[],value:f.scoreValue,onChange:X=>m(ve=>({...ve,scoreValue:X}))})})]})})]}),h.jsx(rA,{anchorEl:z,open:!!z,onClose:()=>R(null),fromDate:f.fromDate,fromTime:f.fromTime,toDate:f.toDate,toTime:f.toTime,onChangeField:(X,ve)=>m(Ce=>({...Ce,[X]:ve})),onClear:()=>m(X=>({...X,fromDate:"",fromTime:"",toDate:"",toTime:""}))}),h.jsx(ur,{}),h.jsxs(sy,{sx:{px:2,py:1,bgcolor:p.palette.grey[50],display:"flex",justifyContent:"space-between",alignItems:"center"},children:[h.jsxs(Ue,{children:[d?h.jsx(Pn,{variant:"outlined",size:"small",onClick:ee,startIcon:h.jsx(Hg,{size:16}),endIcon:h.jsx(Np,{size:16}),sx:{borderRadius:2,textTransform:"none",px:1,display:"inline-flex",alignItems:"center"},children:"More"}):null,h.jsxs(Ul,{anchorEl:_,open:!!_,onClose:q,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:[h.jsxs(un,{onClick:te,sx:{display:"flex",alignItems:"center"},children:[h.jsx(Un,{children:h.jsx(YM,{fontSize:"small"})}),h.jsx(Rn,{children:i?"Copy":"Copy (empty)"})]}),h.jsxs(un,{onClick:ae,sx:{display:"flex",alignItems:"center"},children:[h.jsx(Un,{children:h.jsx(QM,{fontSize:"small"})}),h.jsx(Rn,{children:"Export"})]})]})]}),h.jsxs(It,{direction:"row",spacing:1,alignItems:"center",children:[!V&&h.jsx(yt,{variant:"caption",color:"text.secondary",children:"Select Division and Domain ID, or type in the global search."}),h.jsx(Pn,{variant:"outlined",size:"small",onClick:Y,sx:{borderRadius:2,textTransform:"none"},children:"Clear"}),h.jsx(Pn,{variant:"contained",size:"small",onClick:Q,disabled:!V,sx:{borderRadius:2,textTransform:"none",boxShadow:"none"},children:"Search"})]})]})]})}const Ss={"Operation Toolkit":[{name:"Resource Management",description:"Manage all available resources, teams, and assets."},{name:"Task Management",description:"Oversee and assign operational tasks efficiently."},{name:"Schedule Live",description:"Monitor and adjust live schedules in real-time."},{name:"Schedule Explorer",description:"Browse and analyze upcoming schedules and plans."},{name:"Callout Overview",description:"Review all ongoing and past callout events."},{name:"Callout Launch",description:"Initiate and configure new callout operations."}],"General Settings":[{name:"System Preferences",description:"Modify user-level settings, preferences, and themes."},{name:"API Keys",description:"Manage access tokens and integrations securely."}],"Task Admin":[{name:"Task Type",description:"Define and manage task categories and types."},{name:"Task Routing",description:"Configure task routing and escalation rules."},{name:"Task Importance",description:"Set and manage task priority and importance levels."}],"Jeopardy Admin":[{name:"Alert Definitions",description:"Define and manage all alert templates."},{name:"Alert Action Definition",description:"Configure automated or manual alert responses."},{name:"Alert Parameter Definition",description:"Set up variable parameters and alert thresholds."},{name:"Alert Ranking",description:"Prioritize and rank alerts by severity or impact."},{name:"Alert Exclusion",description:"Manage exceptions and exclusion rules for alerts."}],"Resource Admin":[{name:"Rota Day Record",description:"Manage and track individual rota day records."},{name:"Rota Week Record",description:"Oversee weekly rota summaries and status tracking."},{name:"Rota Template Record",description:"Design and configure rota templates for scheduling."},{name:"Closure User Group",description:"Administer closure groups for specific operations."},{name:"Access Restriction",description:"Set user and role-based access limitations."},{name:"Personal Overtime",description:"Monitor and manage personal overtime records."},{name:"Business Overtime",description:"Control and review business-wide overtime data."}],"Self Service Admin":[{name:"Self Selection Settings Admin",description:"Configure system-wide self-selection settings."},{name:"Self Selection Task Rating Admin",description:"Manage task rating parameters."},{name:"Self Selection Patch Admin",description:"Handle patch management for self-selection."},{name:"Self Selection Work Type Admin",description:"Control available work types."}],"User Admin":[{name:"User Account",description:"Create and manage system user accounts and credentials."},{name:"User ID",description:"View and assign unique user identification numbers."},{name:"Unbar User",description:"Unblock or reinstate restricted user accounts."},{name:"User Role Profile",description:"Define user roles and associated permissions."},{name:"Supervisor Change Password",description:"Allow supervisors to reset/change passwords."}],"Domain Admin":[{name:"Domain Building",description:"Configure and structure operational domains."},{name:"Post Areas",description:"Define post boundaries, checkpoints, and zones."},{name:"Travel Areas",description:"Set travel regions and mobility zones."},{name:"Asset",description:"Manage fixed and movable assets."},{name:"Workforce",description:"Assign and monitor domain workforce allocations."},{name:"Division",description:"Oversee structural divisions."}],"Schedule Admin":[{name:"MSS Admin",description:"Manage and configure the Master Schedule System."},{name:"SRM Admin",description:"Administer SRM modules & permissions."},{name:"SRM Audit",description:"Audit SRM changes and scheduling history."}],"System Admin":[{name:"Algorithm Parameters",description:"Configure algorithm behaviors & weights."},{name:"System Code Editor",description:"Maintain scripts, triggers & automation."},{name:"Record Audit",description:"Review detailed audit trails."},{name:"Public Holiday",description:"Manage holiday dates affecting schedules."},{name:"General Travel Times",description:"Configure default travel time settings."}]};Object.entries(Ss).flatMap(([e,t])=>t.map(o=>({...o,menuLabel:e})));function aA(){const e=c.useRef(null),[t,o]=c.useState(null),[s,i]=c.useState(null),[a,l]=c.useState([]),d=520,p=720,f=16,m=24,g=1900,v=1e3,b=900,C=760,x=820,S=(R,j)=>{const k=window.screen.availWidth,M=window.screen.availHeight;if(R==="resource"){const G=Math.min(C,k-40,g),H=Math.min(x,M-80,v);return{width:G,height:H}}if(j===1){const G=Math.min(p+m*2,k-40,g),H=Math.min(b,M-80,v);return{width:G,height:H}}const E=Math.min(j,3),$=d*E+f*(E-1)+m*2,N=Math.min($,k-40,g),F=Math.min(v,M-80);return{width:N,height:F}},_=c.useCallback(()=>{const R=e.current;R&&!R.closed&&R.close(),e.current=null,o(null),i(null),l([])},[]),P=c.useCallback((R,j,k)=>{if(!R||R.length===0)return;e.current&&!e.current.closed&&e.current.close();const{width:M,height:E}=S("tasks",R.length),$=window.screen.availWidth,N=window.screen.availHeight,F=Math.max(0,($-M)/2),G=Math.max(0,(N-E)/2),H=`
        width=${M},
        height=${E},
        left=${F},
        top=${G},
        toolbar=0,
        menubar=0,
        location=0,
        status=0,
        scrollbars=1,
        resizable=1
      `,T=window.open("/popup.html","_blank",H);if(!T)return;e.current=T;const A={mode:"tasks",tasks:R,expanded:a};T.__POPUP_DATA__=A,T.__POPUP_CLOSE__=()=>_(),T.onload=()=>{try{T.__POPUP_DATA__=A}catch{}},i(R),l([]),o(null)},[a,_]),z=c.useCallback((R,j)=>{if(!R)return;e.current&&!e.current.closed&&e.current.close();const{width:k,height:M}=S("resource",1),E=window.screen.availWidth,$=window.screen.availHeight,N=Math.max(0,(E-k)/2),F=Math.max(0,($-M)/2),G=`
        width=${k},
        height=${M},
        left=${N},
        top=${F},
        toolbar=0,
        menubar=0,
        location=0,
        status=0,
        scrollbars=1,
        resizable=1
      `,H=window.open("/popup.html","_blank",G);if(!H)return;e.current=H;const T={mode:"resource",resource:R,history:j,expanded:[]};H.__POPUP_DATA__=T,H.__POPUP_CLOSE__=()=>_(),H.onload=()=>{try{H.__POPUP_DATA__=T}catch{}},i(null),l([]),o(null)},[_]);return{externalContainer:t,externalTasks:s,externalExpandedSections:a,openExternalWindow:P,openResourceWindow:z,closeExternalWindow:_,setExternalExpandedSections:l}}const fp=[{id:"DEMO-001",taskId:"RG-AB30001",workId:"WK-790218",resourceId:"SWBXA12",outcome:"CalloutDispatchedAWI",status:"Dispatched (AWI)",availableAgainAt:null,note:"John Evans (SWBXA12) outcome set to Callout â†’ Dispatched (AWI).",timestamp:"2025-12-08T11:00:00.000Z"},{id:"DEMO-002",taskId:"RG-AB30002",workId:"WK-729320",resourceId:"QWERB33",outcome:"Unavailable",status:"Awaiting Resource",availableAgainAt:"2025-12-08T13:30:00.000Z",note:"Ffion Hughes (QWERB33) outcome set to Unavailable.",timestamp:"2025-12-08T10:51:00.000Z"},{id:"DEMO-003",taskId:"RG-AB30003",workId:"WK-703093",resourceId:"PLMKC14",outcome:"NoReply",status:"Callout Failed",availableAgainAt:null,note:"Owain Roberts (PLMKC14) outcome set to No Reply.",timestamp:"2025-12-08T10:42:00.000Z"},{id:"DEMO-004",taskId:"RG-AB30004",workId:"WK-746808",resourceId:"GHJTQ55",outcome:"AssignDispatchedAWI",status:"Dispatched (AWI)",availableAgainAt:null,note:"Carys Morgan (GHJTQ55) outcome set to Assignment â†’ Dispatched (AWI).",timestamp:"2025-12-08T10:33:00.000Z"},{id:"DEMO-005",taskId:"RG-AB30005",workId:"WK-734734",resourceId:"MNBGD82",outcome:"Disturbance",status:"Incident Flagged",availableAgainAt:null,note:"Rhys Davies (MNBGD82) outcome set to Disturbance.",timestamp:"2025-12-08T10:24:00.000Z"},{id:"DEMO-006",taskId:"RG-AB30006",workId:"WK-728071",resourceId:"LKJHF22",outcome:"CalloutDispatchedAWI",status:"Dispatched (AWI)",availableAgainAt:null,note:"Lowri Jenkins (LKJHF22) outcome set to Callout â†’ Dispatched (AWI).",timestamp:"2025-12-08T10:15:00.000Z"},{id:"DEMO-007",taskId:"RG-AB30007",workId:"WK-781809",resourceId:"ASDFR91",outcome:"Refusal",status:"Refused",availableAgainAt:null,note:"Tomos Hughes (ASDFR91) outcome set to Refusal.",timestamp:"2025-12-08T10:06:00.000Z"},{id:"DEMO-008",taskId:"RG-AB30008",workId:"WK-764130",resourceId:"ZXCVS67",outcome:"CalloutDispatchedAWI",status:"Dispatched (AWI)",availableAgainAt:null,note:"Bethan Evans (ZXCVS67) outcome set to Callout â†’ Dispatched (AWI).",timestamp:"2025-12-08T09:57:00.000Z"},{id:"DEMO-009",taskId:"RG-AB30009",workId:"WK-797851",resourceId:"BNMAS49",outcome:"Refusal",status:"Refused",availableAgainAt:null,note:"Steffan Price (BNMAS49) outcome set to Refusal.",timestamp:"2025-12-08T09:48:00.000Z"},{id:"DEMO-010",taskId:"RG-AB30010",workId:"WK-728959",resourceId:"POIUY73",outcome:"Disturbance",status:"Incident Flagged",availableAgainAt:null,note:"Aled Thomas (POIUY73) outcome set to Disturbance.",timestamp:"2025-12-08T09:39:00.000Z"},{id:"DEMO-011",taskId:"RG-AB30011",workId:"WK-775917",resourceId:"UJMKL89",outcome:"CalloutDispatchedAWI",status:"Dispatched (AWI)",availableAgainAt:null,note:"Lauren Evans (UJMKL89) outcome set to Callout â†’ Dispatched (AWI).",timestamp:"2025-12-08T09:30:00.000Z"},{id:"DEMO-012",taskId:"RG-AB30012",workId:"WK-758165",resourceId:"KJHGF02",outcome:"CalloutDispatchedAWI",status:"Dispatched (AWI)",availableAgainAt:null,note:"Nia James (KJHGF02) outcome set to Callout â†’ Dispatched (AWI).",timestamp:"2025-12-08T09:21:00.000Z"},{id:"DEMO-013",taskId:"RG-AB30013",workId:"WK-790116",resourceId:"RTYHN44",outcome:"NoReply",status:"Callout Failed",availableAgainAt:null,note:"Chloe Davies (RTYHN44) outcome set to No Reply.",timestamp:"2025-12-08T09:12:00.000Z"},{id:"DEMO-014",taskId:"RG-AB30014",workId:"WK-785274",resourceId:"SDNEW21",outcome:"Refusal",status:"Refused",availableAgainAt:null,note:"Gareth Bowen (SDNEW21) outcome set to Refusal.",timestamp:"2025-12-08T09:03:00.000Z"},{id:"DEMO-015",taskId:"RG-AB30015",workId:"WK-703787",resourceId:"SDNEW22",outcome:"Unavailable",status:"Awaiting Resource",availableAgainAt:"2025-12-08T20:00:00.000Z",note:"Megan Griffiths (SDNEW22) outcome set to Unavailable.",timestamp:"2025-12-08T08:54:00.000Z"},{id:"DEMO-016",taskId:"RG-AB30016",workId:"WK-723933",resourceId:"SDNEW23",outcome:"CalloutDispatchedAWI",status:"Dispatched (AWI)",availableAgainAt:null,note:"Ieuan Watkins (SDNEW23) outcome set to Callout â†’ Dispatched (AWI).",timestamp:"2025-12-08T08:45:00.000Z"},{id:"DEMO-017",taskId:"RG-AB30017",workId:"WK-705434",resourceId:"SDNEW24",outcome:"AssignDispatchedAWI",status:"Dispatched (AWI)",availableAgainAt:null,note:"Seren Powell (SDNEW24) outcome set to Assignment â†’ Dispatched (AWI).",timestamp:"2025-12-08T08:36:00.000Z"},{id:"DEMO-018",taskId:"RG-AB30018",workId:"WK-772532",resourceId:"SDNEW25",outcome:"Unavailable",status:"Awaiting Resource",availableAgainAt:"2025-12-08T21:30:00.000Z",note:"Rhys Llewellyn (SDNEW25) outcome set to Unavailable.",timestamp:"2025-12-08T08:27:00.000Z"},{id:"DEMO-019",taskId:"RG-AB30019",workId:"WK-765705",resourceId:"SDNEW26",outcome:"Refusal",status:"Refused",availableAgainAt:null,note:"Catrin Rees (SDNEW26) outcome set to Refusal.",timestamp:"2025-12-08T08:18:00.000Z"},{id:"DEMO-020",taskId:"RG-AB30020",workId:"WK-731785",resourceId:"SDNEW27",outcome:"Disturbance",status:"Incident Flagged",availableAgainAt:null,note:"Gwenllian Thomas (SDNEW27) outcome set to Disturbance.",timestamp:"2025-12-08T08:09:00.000Z"},{id:"DEMO-021",taskId:"RG-AB30021",workId:"WK-716640",resourceId:"FJNEW28",outcome:"CalloutDispatchedAWI",status:"Dispatched (AWI)",availableAgainAt:null,note:"Eleri Hopkins (FJNEW28) outcome set to Callout â†’ Dispatched (AWI).",timestamp:"2025-12-08T08:00:00.000Z"},{id:"DEMO-022",taskId:"RG-AB30022",workId:"WK-783470",resourceId:"FJNEW29",outcome:"PendingACT",status:"Assigned (ACT)",availableAgainAt:null,note:"Geraint Morgan (FJNEW29) outcome set to Pending Callout â†’ Assigned (ACT).",timestamp:"2025-12-08T07:51:00.000Z"},{id:"DEMO-023",taskId:"RG-AB30023",workId:"WK-736499",resourceId:"FJNEW30",outcome:"CalloutDispatchedAWI",status:"Dispatched (AWI)",availableAgainAt:null,note:"Non Davies (FJNEW30) outcome set to Callout â†’ Dispatched (AWI).",timestamp:"2025-12-08T07:42:00.000Z"}];function nf(e){if(!e)return null;const t=typeof e.resourceId=="string"?e.resourceId:String(e.resourceId??"").trim();if(!t)return null;const o=typeof e.id=="string"?e.id:String(e.id??`${t}-${Date.now()}`),s=typeof e.timestamp=="string"&&e.timestamp?e.timestamp:new Date().toISOString();return{id:o,taskId:e.taskId??null,workId:e.workId??null,resourceId:t,outcome:e.outcome??"",status:e.status??null,availableAgainAt:e.availableAgainAt??null,note:e.note??null,timestamp:s}}function gp(){const t=(Array.isArray(fp)?fp:[]).map(o=>nf(o)).filter(o=>!!o);return t.sort((o,s)=>{const i=Date.parse(o.timestamp),a=Date.parse(s.timestamp),l=!Number.isNaN(i),d=!Number.isNaN(a);return l&&d?a-i:l?-1:d?1:0}),t}function lA(){const[e,t]=c.useState(()=>gp()),[o,s]=c.useState(!1),[i,a]=c.useState(null),l=c.useCallback(async()=>(s(!0),a(null),new Promise(m=>{setTimeout(()=>{t(gp()),s(!1),m()},120)})),[]),d=c.useCallback(m=>{t(g=>{const v=nf(m);if(!v)return g;const b=g.filter(C=>C.id!==v.id);return[v,...b]})},[]),p=c.useCallback(m=>{if(!m&&m!==0)return[];const g=String(m);return e.filter(v=>String(v.taskId??"")===g)},[e]),f=c.useCallback(m=>{if(!m&&m!==0)return[];const g=String(m);return e.filter(v=>String(v.workId??"")===g)},[e]);return c.useMemo(()=>({history:e,loading:o,error:i,refresh:l,appendLocal:d,getByTaskId:p,getByWorkId:f}),[d,i,p,f,e,o,l])}const Cl={"Operation Toolkit":Ql,"General Settings":Li,"Task Admin":ql,"Jeopardy Admin":Xl,"Resource Admin":sa,"Self Service Admin":Li,"User Admin":zp,"Domain Admin":$p,"Schedule Admin":Bp,"System Admin":Hp},Is={taskId:"Task ID",taskStatus:"Task Status",taskType:"Task Type",primarySkill:"Primary Skill",importanceScore:"Importance Score",msc:"MSC",taskCreated:"Task Created",groupCode:"Group Code",systemType:"System Type",employeeId:"Employee ID",resourceName:"Resource Name",asset:"Asset",assetName:"Asset Name",commitmentDate:"Commitment Date",commitmentType:"Commitment Type",arrivedAtDate:"Arrived At Date",domain:"Domain",estimatedDuration:"Estimated Duration",lastProgression:"Last Progression",category:"Category",description:"Description",responseCode:"Response Code",postCode:"Post Code",appointmentStartDate:"Appointment Start Date",linkedTask:"Linked Task",customerAddress:"Customer Address",expectedStartDate:"Expected Start Date",expectedFinishDate:"Expected Finish Date",externalQueueId:"External Queue Id",workId:"Work Id",estimateNumber:"Estimate Number",startDate:"Start Date"},cA=["Work Details","Commitments / Customer / Location","Scheduling / Resources","Access Restrictions","Job Notes","Progress Notes","Closure"],uA=mr(Rp);function dA(e,t){var s,i,a,l,d,p,f,m,g;let o=[...e];if((s=t.taskSearch)!=null&&s.trim()){const v=t.taskSearch.toLowerCase();o=o.filter(b=>[b.taskId,b.resourceName,b.workId,b.assetName,b.description].join(" ").toLowerCase().includes(v))}if((i=t.division)!=null&&i.length&&(o=o.filter(v=>t.division.includes(v.groupCode))),(a=t.domainId)!=null&&a.length&&(o=o.filter(v=>t.domainId.includes(String(v.domain||"").toUpperCase()))),(l=t.taskStatuses)!=null&&l.length&&(o=o.filter(v=>t.taskStatuses.includes(v.taskStatus))),(d=t.responseCode)!=null&&d.length&&(o=o.filter(v=>t.responseCode.includes(v.responseCode))),(p=t.requester)!=null&&p.trim()){const v=t.requester.toLowerCase();o=o.filter(b=>String(b.resourceName||"").toLowerCase().includes(v))}if((f=t.commitType)!=null&&f.length&&(o=o.filter(v=>t.commitType.includes(v.commitmentType))),(m=t.capabilities)!=null&&m.length&&(o=o.filter(v=>t.capabilities.includes(v.primarySkill))),(g=t.jobType)!=null&&g.trim()){const v=t.jobType.toLowerCase();o=o.filter(b=>String(b.taskType||"").toLowerCase().includes(v))}return o}function pA(e,t){return`
    <table border="1" cellpadding="4" cellspacing="0">
      <thead><tr>${e.map(o=>`<th>${Is[o]}</th>`).join("")}</tr></thead>
      <tbody>${t.map(o=>`<tr>${e.map(s=>`<td>${o[s]??""}</td>`).join("")}</tr>`).join("")}</tbody>
    </table>`}function hA(e,t){const o=e.map(i=>Is[i]).join(","),s=t.map(i=>e.map(a=>i[a]??"").join(","));return[o,...s].join(`
`)}const of=c.memo(({currentMenu:e,windowWidth:t,searchQuery:o,setSearchQuery:s,globalResults:i,showDropdown:a,setShowDropdown:l,onSelectResult:d,onToggleSidebar:p,overrideTitle:f,whiteBackground:m=!1})=>{const g=zt(),v=c.useMemo(()=>f||(e!=null&&e.label?t<950?e.label.split(" ")[0]:e.label:"Dashboard"),[e,t]);return h.jsx(vv,{position:"sticky",color:m?"default":"primary",sx:{zIndex:g.zIndex.drawer+1,boxShadow:m?"0 4px 10px rgba(2,6,23,0.06)":"0 18px 35px rgba(0,0,0,0.22)",backgroundColor:m?g.palette.background.paper:void 0,"&::after":m?void 0:{content:'""',position:"absolute",left:0,right:0,bottom:-10,height:10,background:`linear-gradient(to bottom, ${Te(g.palette.common.black,.18)}, transparent)`,pointerEvents:"none"}},children:h.jsxs(Yp,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",minHeight:70,px:{xs:2,sm:3}},children:[h.jsxs(Ue,{sx:{display:"flex",alignItems:"center",gap:2},children:[h.jsx(fn,{edge:"start",onClick:p,sx:{width:g.spacing(5.5),height:g.spacing(5.5),borderRadius:2,bgcolor:Te(g.palette.common.white,.12),color:g.palette.common.white,"&:hover":{bgcolor:Te(g.palette.common.white,.2)}},children:h.jsx(jg,{size:26,strokeWidth:3})}),h.jsx(yt,{variant:"h6",sx:{fontWeight:600,letterSpacing:.2,display:{xs:"none",sm:"block"}},children:v})]}),h.jsxs(Ue,{sx:{display:"flex",alignItems:"center",gap:3},children:[h.jsxs(Ue,{sx:{position:"relative",minWidth:{xs:g.spacing(20),sm:g.spacing(24)}},children:[h.jsx(Dn,{value:o,size:"small",onChange:b=>s(b.target.value),onFocus:()=>l(i.length>0),placeholder:"Search anywhere...",variant:"outlined",InputProps:{startAdornment:h.jsx(ra,{position:"start",children:h.jsx(Yl,{size:18,color:m?Te(g.palette.text.primary,.45):Te(g.palette.common.white,.75)})}),sx:{color:m?g.palette.text.primary:g.palette.common.white,"& .MuiOutlinedInput-notchedOutline":{borderColor:m?Te(g.palette.text.primary,.12):Te(g.palette.common.white,.3)},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:m?Te(g.palette.text.primary,.2):Te(g.palette.common.white,.5)},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:m?Te(g.palette.primary.main,.32):Te(g.palette.common.white,.6)},"& input::placeholder":{color:m?Te(g.palette.text.primary,.45):Te(g.palette.common.white,.7)},backgroundColor:m?Te(g.palette.background.paper,.92):Te(g.palette.common.white,.1),borderRadius:2}},sx:{width:{xs:210,sm:520}}}),h.jsx(Ap,{in:a&&i.length>0,timeout:120,unmountOnExit:!0,children:h.jsx(Nt,{elevation:8,sx:{position:"absolute",right:0,left:0,mt:1,borderRadius:2,overflow:"hidden",zIndex:g.zIndex.tooltip},children:h.jsx(Ep,{dense:!0,disablePadding:!0,children:i.map((b,C)=>h.jsx(Dp,{onMouseDown:()=>d(b),sx:{alignItems:"flex-start"},children:h.jsx(Rn,{primary:h.jsx(yt,{variant:"subtitle2",fontWeight:600,children:b.name}),secondary:h.jsx(yt,{component:"span",variant:"caption",sx:{color:"text.secondary"},children:b.category})})},C))})})})]}),h.jsx(Wv,{sx:{width:g.spacing(5.25),height:g.spacing(5.25),bgcolor:Te(g.palette.common.black,.85),border:`1px solid ${Te(g.palette.common.white,.25)}`,boxShadow:"0px 0px 0px 2px rgba(255,255,255,0.08)"},children:h.jsx(Gg,{size:18,color:"#FFFFFF"})})]})]})})});of.displayName="Header";const rf=c.memo(({currentMenu:e,filteredItems:t,windowWidth:o,onCardClick:s})=>{var l;const i=zt(),a=((l=e==null?void 0:e.label)==null?void 0:l.split(" ")[0])??"Dashboard";return h.jsxs(Ue,{sx:{width:"100%",maxWidth:{xs:"100%",md:"1200px"},mx:"auto",px:{xs:3,sm:6,md:8},py:{xs:6,md:8}},children:[h.jsxs(Ue,{textAlign:"center",mb:6,children:[h.jsxs(Ue,{sx:{display:"flex",alignItems:"center",justifyContent:"center",gap:2,mb:1.5},children:[zn.createElement((e==null?void 0:e.icon)||Si,{size:32,color:i.palette.primary.main}),h.jsx(yt,{component:"h1",variant:"h4",fontWeight:700,children:o<950?a:e==null?void 0:e.label})]}),h.jsx(yt,{variant:"body2",color:"text.secondary",children:e!=null&&e.label?`${e.label} Overview`:"Overview of your workspace"})]}),h.jsx(Jl,{mode:"wait",children:h.jsx(mr.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},exit:{opacity:0,y:-12},transition:{duration:.25},children:h.jsx(Et,{container:!0,spacing:{xs:3,md:4},justifyContent:"center",children:t.length?t.map((d,p)=>h.jsx(Et,{item:!0,xs:12,sm:6,md:4,children:h.jsx(uA,{whileHover:{scale:1.02},transition:{duration:.2},elevation:3,children:h.jsx(ty,{onClick:()=>s(d),children:h.jsxs(Lp,{sx:{minHeight:150,display:"flex",flexDirection:"column",gap:1.5,textAlign:"center",px:4,py:3},children:[h.jsx(yt,{variant:"h6",fontWeight:600,children:d.name}),h.jsx(yt,{variant:"body2",color:"text.secondary",children:d.description})]})})})},p)):h.jsx(Et,{item:!0,xs:12,children:h.jsx(Nt,{variant:"outlined",sx:{py:8,textAlign:"center",color:"text.secondary"},children:h.jsx(yt,{variant:"body2",children:"No results found."})})})})},(e==null?void 0:e.label)||"default")})]})});rf.displayName="MainContent";function mA(){const e="Operation Toolkit",[t,o]=c.useState({label:e,icon:Cl[e]||Si}),[s,i]=c.useState(Ss[e]||[]),[a,l]=c.useState(null),[d,p]=c.useState(""),[f,m]=c.useState([]),[g,v]=c.useState(!1),[b,C]=c.useState(""),[x,S]=c.useState(""),[_,P]=c.useState(window.innerWidth),[z,R]=c.useState(window.innerHeight),[j,k]=c.useState(1),[M,E]=c.useState(72),[$,N]=c.useState([]),[F,G]=c.useState([]),[H,T]=c.useState(!1),[A,B]=c.useState([]),[W,D]=c.useState(!1),V=c.useMemo(()=>{const re=A.map(_e=>_e.calloutGroup).filter(_e=>!!_e);return Array.from(new Set(re)).sort()},[A]),[Z,K]=c.useState([]),{externalContainer:Q,externalTasks:Y,externalExpandedSections:ee,openExternalWindow:q,openResourceWindow:te,closeExternalWindow:ae,setExternalExpandedSections:X}=aA(),[ve,Ce]=c.useState(!1),[le,ce]=c.useState(null);c.useEffect(()=>()=>ae(),[ae]),c.useEffect(()=>{const re=_e=>{const Ze=_e.detail||{},qe=Ze.taskId,Ye=Ze.workId;let Se;if(qe){const Ee=String(qe);Se=$.find(Me=>{const Oe=(Me==null?void 0:Me.taskId)??(Me==null?void 0:Me.TaskID)??(Me==null?void 0:Me.TaskId)??(Me==null?void 0:Me.id)??null;return Oe!=null&&String(Oe)===Ee})}if(!Se&&Ye){const Ee=String(Ye);Se=$.find(Me=>{const Oe=(Me==null?void 0:Me.workId)??(Me==null?void 0:Me.WorkID)??(Me==null?void 0:Me.WorkId)??(Me==null?void 0:Me.workID)??null;return Oe!=null&&String(Oe)===Ee})}if(!Se)return;X(["Progress Notes"]);const Ae=window.innerWidth/2,$e=window.innerHeight/2;q([Se],Ae,$e)};return window.addEventListener("taskforce:view-progress-notes",re),()=>{window.removeEventListener("taskforce:view-progress-notes",re)}},[$,q,X]),c.useEffect(()=>{const re=_e=>{var Ae;const Ze=((Ae=_e.detail)==null?void 0:Ae.items)??[];if(!Ze.length)return;const qe=new Map;for(const $e of Ze)$e!=null&&$e.taskId&&qe.set(String($e.taskId),$e);if(!qe.size)return;const Ye=($e,Ee)=>{const Me={ts:Ee.timestamp,status:Ee.nextStatus||Ee.previousStatus||"Updated",text:Ee.note,source:"Quick Progress"},Oe=$e.progressNotes;return Array.isArray(Oe)?[...Oe,Me]:typeof Oe=="string"&&Oe.trim()?[{ts:$e.taskCreated??Ee.timestamp,status:$e.taskStatus??$e.status??"",text:Oe.trim(),source:"Imported"},Me]:[Me]},Se=$e=>$e.map(Ee=>{const Me=(Ee==null?void 0:Ee.taskId)??(Ee==null?void 0:Ee.TaskID)??(Ee==null?void 0:Ee.TaskId)??(Ee==null?void 0:Ee.id)??(Ee==null?void 0:Ee.ID)??(Ee==null?void 0:Ee.Id)??null;if(Me==null)return Ee;const Oe=qe.get(String(Me));if(!Oe)return Ee;const De=Oe.nextStatus||Ee.taskStatus||Ee.status;return{...Ee,taskStatus:De,lastProgression:De||Ee.lastProgression,updatedAt:Oe.timestamp,progressNotes:Ye(Ee,Oe)}});N($e=>Se($e)),G($e=>Se($e))};return document.addEventListener("taskforce:tasks-progressed",re),()=>{document.removeEventListener("taskforce:tasks-progressed",re)}},[N,G]);const[ie,fe]=c.useState(!1),[me,ye]=c.useState([]),[ne,ge]=c.useState(null),{history:we,loading:Fe,error:Ne,refresh:Ie,appendLocal:be}=lA(),Pe=c.useCallback(re=>{ce(re),fe(!1),Ce(!0)},[]);c.useEffect(()=>{N(cn),T(!0)},[]),c.useEffect(()=>{try{B(nh),D(!0)}catch{Dt.error("Error loading resource data.")}},[]),c.useEffect(()=>{const re=()=>{const Ye=window.innerHeight*.01;document.documentElement.style.setProperty("--vh",`${Ye}px`)},_e=()=>{P(window.innerWidth),R(window.innerHeight),re();const Ye=window.innerHeight,Se=Math.max(.75,Math.min(1,Ye/900));k(Number(Se.toFixed(2))),document.documentElement.style.setProperty("--ui-scale",String(Se));const Ae=Math.max(13,Math.min(16,Math.round(Ye/60)));document.documentElement.style.fontSize=`${Ae}px`};re();const Je=window.innerHeight,Ze=Math.max(.75,Math.min(1,Je/900));k(Number(Ze.toFixed(2))),document.documentElement.style.setProperty("--ui-scale",String(Ze));const qe=Math.max(13,Math.min(16,Math.round(Je/60)));return document.documentElement.style.fontSize=`${qe}px`,window.addEventListener("resize",_e),()=>window.removeEventListener("resize",_e)},[]),c.useEffect(()=>{const re=()=>{try{const _e=document.querySelector(".MuiAppBar-root");if(_e){const Je=_e.getBoundingClientRect();E(Math.round(Je.bottom+8));return}}catch{}E(72)};return re(),window.addEventListener("resize",re),()=>window.removeEventListener("resize",re)},[]);const ke=c.useMemo(()=>Object.entries(Ss).flatMap(([re,_e])=>_e.map(Je=>({...Je,category:re}))),[]);c.useEffect(()=>{if(!d.trim()){m([]),v(!1);return}const re=ke.filter(_e=>_e.name.toLowerCase().includes(d.toLowerCase()));m(re),v(re.length>0)},[d,ke]);const We=c.useCallback(re=>{const _e=re.label;o({label:_e,icon:Cl[_e]||Si}),i(Ss[_e]||[]),G([]),l(null),p(""),m([]),v(!1)},[]),nt=c.useCallback(re=>{re.name==="Task Management"&&(l("TaskManagement"),G([])),re.name==="Schedule Live"&&l("ScheduleLive")},[]),et=c.useCallback(re=>{if(!H){Dt.error("Data not loaded yet.");return}const _e=dA($,re);if(_e.length===0){G([]),Dt.error("No matching tasks found.");return}G(_e)},[$,H]),Xe=c.useCallback(()=>{G([]),K([]),Dt.success("Filters cleared.",{id:"clear-toast",icon:"ðŸ§¹"})},[]),Ke=F.length>0,St=c.useCallback(async()=>{if(!Ke){Dt.error("No data to copy.");return}const re=Object.keys(Is),_e=pA(re,F);await navigator.clipboard.writeText(_e),Dt.success("Copied",{icon:"ðŸ“‹"})},[F,Ke]),it=c.useCallback(()=>{if(!Ke){Dt.error("No data to export.");return}const re=Object.keys(Is),_e=hA(re,F),Je=new Blob([_e],{type:"text/csv;charset=utf-8;"}),Ze=document.createElement("a");Ze.href=URL.createObjectURL(Je),Ze.download="FilteredTasks.csv",Ze.click(),Dt.success("Exported",{icon:"ðŸ’¾"})},[F,Ke]),ot=c.useCallback(re=>{p(""),v(!1);const _e=re.category,Je=Ss[_e]||[];o({label:_e,icon:Cl[_e]||Si}),i(Je),l(re.name==="Task Management"?"TaskManagement":null)},[]);c.useMemo(()=>{const re=new Set;return cn.forEach(_e=>{const Je=String(_e.domain||"").toUpperCase();Je&&re.add(Je)}),Array.from(re).sort()},[]),c.useMemo(()=>{const re=new Set;return cn.forEach(_e=>{const Je=String(_e.groupCode||"").toUpperCase();Je&&re.add(Je)}),Array.from(re).sort()},[]),c.useCallback(re=>{C(re)},[]),c.useCallback(re=>{S(re)},[]);const Jt=c.useCallback((re,_e,Je)=>{!re||re.length===0||q(re,_e,Je)},[q]),kt=c.useCallback((re,_e)=>{if(!re)return;const Je=_e.length?_e:we.filter(Ze=>Ze.resourceId===re.resourceId);te(re,Je)},[we,te]),Ht=c.useCallback(()=>{if(!le)return;const re=window.innerWidth/2,_e=window.innerHeight/2;q([le],re,_e)},[le,q]),dn=(re,_e)=>{switch(_e){case"AssignDispatchedAWI":case"CalloutDispatchedAWI":return"Dispatched (AWI)";case"PendingACT":return"Assigned (ACT)";case"Disturbance":case"NoReply":return"Callout Failed";case"Refusal":return"Refused";case"Unavailable":return"Awaiting Resource";default:return re}},on=(re,_e)=>{switch(_e){case"AssignDispatchedAWI":case"CalloutDispatchedAWI":return"Busy";case"PendingACT":return"Pending";case"Disturbance":return"Flagged";case"NoReply":return"No Reply";case"Refusal":return"Refused";case"Unavailable":return"Unavailable";default:return re||"Available"}},ln=c.useCallback(async re=>{const{taskId:_e,resourceId:Je,outcome:Ze,availableAgainAt:qe}=re,Ye=new Date().toISOString(),Se=Me=>{if(!Me)return null;try{const Oe=new Date(Me);if(Number.isNaN(Oe.getTime()))return Me;const De=String(Oe.getDate()).padStart(2,"0"),Qt=String(Oe.getMonth()+1).padStart(2,"0"),pn=Oe.getFullYear(),Tt=String(Oe.getHours()).padStart(2,"0"),Rt=String(Oe.getMinutes()).padStart(2,"0");return`${De}/${Qt}/${pn} ${Tt}:${Rt}`}catch{return Me}},Ae=(Me,Oe)=>Oe?[...Array.isArray(Me.progressNotes)?[...Me.progressNotes]:typeof Me.progressNotes=="string"&&Me.progressNotes.trim()?[{ts:Me.taskCreated||Ye,status:"",text:Me.progressNotes.trim(),source:"Imported"}]:[],Oe]:Me.progressNotes;let $e=null;B(Me=>Me.map(Oe=>{if(Oe.resourceId!==Je)return Oe;const De=Oe.lastOutcome??null,Qt=Oe.availableAgainAt??null;return{...Oe,status:on(Oe.status,Ze),lastOutcome:Ze,availableAgainAt:Ze==="Unavailable"?qe??null:null,history:[...Oe.history??[],{previousOutcome:De,previousAvailableAgainAt:Qt,changedAt:Ye,taskIdUsed:_e??null,outcomeApplied:Ze,availableAgainAt:Ze==="Unavailable"?qe??null:null}]}}));const Ee=Me=>Me.map(Oe=>{var he;if(Oe.taskId!==_e)return Oe;const De=Oe.taskStatus,Qt=Oe.employeeId??null,pn=dn(Oe.taskStatus,Ze),Tt=Oe.resourceName?`${Oe.resourceName} (${Je})`:Je,Rt=((he=kg[Ze])==null?void 0:he.label)??String(Ze);let rn=null,Jn=`${Tt} outcome set to ${Rt}.`;if(_e){if(Ze==="Unavailable"){const pe=Se(qe);rn={ts:Ye,status:"Unavailable",text:pe?`${Tt} marked unavailable. Next availability ${pe}.`:`${Tt} marked unavailable.`,source:"Callout"},Jn=rn.text}else pn&&pn.includes("AWI")&&(rn={ts:Ye,status:Ze,text:`${Tt} set to ${Rt}.`,source:"Callout"},Jn=rn.text);$e||($e={taskId:_e,workId:Oe.workId??null,resourceId:Je,outcome:Ze,status:pn??null,availableAgainAt:Ze==="Unavailable"?qe??null:null,note:Jn,timestamp:Ye})}return{...Oe,taskStatus:pn,employeeId:Je,lastOutcome:Ze,availableAgainAt:Ze==="Unavailable"?qe??null:null,updatedAt:Ye,history:[...Oe.history??[],{previousTaskStatus:De,previousEmployeeId:Qt,changedAt:Ye,outcomeApplied:Ze,resourceIdUsed:Je,availableAgainAt:Ze==="Unavailable"?qe??null:null}],progressNotes:Ae(Oe,rn)}});if(N(Me=>Ee(Me)),G(Me=>Ee(Me)),$e){const Me=$e,Oe={id:`SESSION-${Je}-${Date.now()}`,...Me};be(Oe)}},[be]),jt=c.useCallback(re=>{X(_e=>_e.includes(re)?_e.filter(Je=>Je!==re):[..._e,re])},[X]),Ct=c.useCallback(()=>{X(cA)},[X]),de=c.useCallback(()=>{X([])},[X]);return h.jsxs(Ue,{sx:{position:"relative",overflow:"hidden",bgcolor:"background.default",color:"text.primary",fontFamily:'"Inter", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif',width:"100%",height:"100vh",minHeight:0,minWidth:0,display:"flex",flexDirection:"row",overflowX:"hidden"},children:[h.jsx(HM,{position:"top-center",containerStyle:{top:M},toastOptions:{duration:4e3,style:{fontSize:13},success:{icon:h.jsx(jM,{fontSize:"small",color:"success"})},error:{icon:h.jsx(GM,{fontSize:"small",color:"error"})},icon:h.jsx(VM,{fontSize:"small"})}}),h.jsx(JM,{currentMenu:t,onMenuClick:We,activeSubPage:a}),h.jsxs(Ue,{component:"main",sx:{display:"flex",flexDirection:"column",minWidth:0,height:"100%",width:"100%"},children:[h.jsx(of,{currentMenu:t,windowWidth:_,searchQuery:d,setSearchQuery:p,globalResults:f,showDropdown:g,setShowDropdown:v,onSelectResult:ot,onToggleSidebar:()=>window.dispatchEvent(new CustomEvent("toggleSidebar"))}),h.jsxs(Ue,{sx:{flex:1,minHeight:0,bgcolor:"background.paper",display:"flex",flexDirection:"column"},children:[a==="TaskManagement"&&h.jsxs(Ue,{component:"section",sx:{py:{xs:3,md:5},px:{xs:2,md:4},display:"flex",flexDirection:"column",gap:0},children:[h.jsx(iA,{onSearch:et,onClear:Xe,onCopy:St,onExport:it,canCopy:Ke,hasResults:F.length>0}),H?F.length>0?h.jsx(Bc,{rows:F,headerNames:Is,onOpenPopout:Jt,onOpenCalloutIncident:Pe,sx:{borderRadius:"0 0 12px 12px",mt:0}}):h.jsx(Nt,{variant:"outlined",sx:{p:6,textAlign:"center",borderStyle:"dashed",borderColor:"divider",bgcolor:"background.default"},children:h.jsxs(yt,{variant:"body2",color:"text.secondary",children:["No tasks loaded yet. Please apply filters and press ",h.jsx("b",{children:"Search"}),"."]})}):h.jsx(Nt,{variant:"outlined",sx:{p:6,textAlign:"center",color:"text.secondary"},children:h.jsx(yt,{variant:"body2",children:"Loading task data..."})})]}),a==="ScheduleLive"&&h.jsx(Qk,{}),!a&&h.jsx(rf,{currentMenu:t,filteredItems:s,windowWidth:_,onCardClick:nt})]})]}),ie&&h.jsx(s0,{allResources:A,calloutGroups:V,onStart:re=>{const Je=A.filter(Ze=>Ze.calloutGroup===re).slice(0,6);ye(Je),ge(re),fe(!1),Ce(!0)},onDismiss:()=>{fe(!1),ye([]),ge(null)}}),h.jsx(Ig,{open:ve,task:le,resources:A,primaryResourceIds:me.map(re=>re.resourceId),selectedGroup:ne,onOpenResourcePopout:kt,onOpenTaskPopout:Ht,onClose:()=>{Ce(!1),ye([]),ge(null)},history:we,historyLoading:Fe,historyError:Ne,onRefreshHistory:Ie,onSaveRow:ln}),Q&&Y&&Y.length>0&&Os.createPortal(h.jsx(Tg,{open:!0,tasks:Y,expanded:ee,onToggleSection:jt,onExpandAll:Ct,onCollapseAll:de,onClose:ae}),Q)]})}function fA(){return h.jsx(mA,{})}const gA="#0F2740",vA="#304862",yA="#0A1A2A",bA="#3BE089",CA="#1EA46A",vp="#F3F6F8",xA=bp({palette:{mode:"light",primary:{main:gA,light:vA,dark:yA,contrastText:"#FFFFFF"},secondary:{main:bA,light:"#7FF2B6",dark:CA,contrastText:"#052035"},background:{default:vp,paper:"#FFFFFF"},text:{primary:"#0B2233",secondary:"#475569"},divider:"rgba(15, 39, 64, 0.08)"},typography:{fontFamily:'"Inter", "Roboto", "Helvetica", "Arial", sans-serif',h1:{fontWeight:600},h2:{fontWeight:600},h3:{fontWeight:600},button:{textTransform:"none",fontWeight:600},subtitle1:{color:"#394B59"},subtitle2:{color:"#52606D"}},shape:{borderRadius:6},components:{MuiCssBaseline:{styleOverrides:{body:{backgroundColor:vp}}},MuiPaper:{styleOverrides:{root:{borderRadius:6}}},MuiButton:{styleOverrides:{root:{borderRadius:6}}},MuiCard:{styleOverrides:{root:{borderRadius:8,boxShadow:"0 6px 18px rgba(45, 24, 88, 0.06)"}}},MuiAppBar:{styleOverrides:{root:{boxShadow:"0 6px 12px rgba(0, 0, 0, 0.08)"}}}}});Mg.createRoot(document.getElementById("root")).render(h.jsxs(hv,{theme:xA,children:[h.jsx(_y,{}),h.jsx(fA,{})]}));
