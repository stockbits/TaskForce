import{u as bp,a as Zr,b as Qi,G as tg,T as ng,R as og,D as rg,c as sg,d as ig,e as ag,f as or,g as yp,h as lg,s as cg,i as Wt,j as Zt,k as Ut,l as Le,m as He,n as pt,o as Kt,P as Nt,p as yt,q as Ts,r as xi,t as jo,v as ug,C as dg,A as pg,w as Pt,x as qr,y as Vl,z as Me,B as Tr,E as Qo,F as Eu,H as el,I as pn,J as at,K as Fs,L as Cp,M as ea,N as xp,O as ta,Q as wp,S as wi,U as Sp,V as zt,W as hg,X as na,Y as Wl,Z as Du,_ as mg,$ as oa,a0 as fg,a1 as gg,a2 as bt,a3 as rr,a4 as vg,a5 as Ru,a6 as bg,a7 as Lu,a8 as _p,a9 as Pp,aa as Ip,ab as Tp,ac as xl,ad as Zl,ae as kp,af as Ri,ag as We,ah as Dn,ai as Zn,aj as It,ak as wn,al as Mp,am as Ul,an as Et,ao as Os,ap as I,aq as yg,ar as Cg,as as Ne,at as xg,au as Kl,av as wg,aw as Sg,ax as _g,ay as ra,az as Pg,aA as Ap,aB as Ep,aC as Dp,aD as Rp,aE as Lp,aF as Ig,aG as Tg,aH as kg,aI as Mg}from"./index-vX8P0vqe.js";import{r as c,j as h,m as mr,A as Jl,R as Nn,a as Fp}from"./vendor-motion-BQO2KiUE.js";import{U as sa,C as Ag,X as Op,a as Np,b as Eg,L as ql,S as Dg,E as Rg,T as Xl,M as Lg,c as Yl,d as Fg,e as Og,I as Ng,f as Ql,g as zg,h as $g,i as Li,j as zp,G as $p,k as Bp,l as Hp,m as Bg,n as Hg,o as jg,F as Si}from"./vendor-icons-Dow3RGKj.js";import{g as jp}from"./vendor-react-DJG_os-6.js";var tl={exports:{}},nl,Fu;function Gg(){if(Fu)return nl;Fu=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return nl=e,nl}var ol,Ou;function Vg(){if(Ou)return ol;Ou=1;var e=Gg();function t(){}function o(){}return o.resetWarningCache=t,ol=function(){function s(l,d,p,g,m,f){if(f!==e){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}s.isRequired=s;function i(){return s}var a={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:i,element:s,elementType:s,instanceOf:i,node:s,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:o,resetWarningCache:t};return a.PropTypes=a,a},ol}var Nu;function Wg(){return Nu||(Nu=1,tl.exports=Vg()()),tl.exports}var Zg=Wg();const ae=jp(Zg),ec=e=>{const t=c.useRef({});return c.useEffect(()=>{t.current=e}),t.current},Gp=c.createContext(null);function tc(){return c.useContext(Gp)}const Ug=typeof Symbol=="function"&&Symbol.for,Kg=Ug?Symbol.for("mui.nested"):"__THEME_NESTED__";function Jg(e,t){return typeof t=="function"?t(e):{...e,...t}}function qg(e){const{children:t,theme:o}=e,s=tc(),i=c.useMemo(()=>{const a=s===null?{...o}:Jg(s,o);return a!=null&&(a[Kg]=s!==null),a},[o,s]);return h.jsx(Gp.Provider,{value:i,children:t})}function Xg(e){const t=bp(),o=Zr()||"",{modularCssLayers:s}=e;let i="mui.global, mui.components, mui.theme, mui.custom, mui.sx";return!s||t!==null?i="":typeof s=="string"?i=s.replace(/mui(?!\.)/g,i):i=`@layer ${i};`,Qi(()=>{var d,p;const a=document.querySelector("head");if(!a)return;const l=a.firstChild;if(i){if(l&&((d=l.hasAttribute)!=null&&d.call(l,"data-mui-layer-order"))&&l.getAttribute("data-mui-layer-order")===o)return;const g=document.createElement("style");g.setAttribute("data-mui-layer-order",o),g.textContent=i,a.prepend(g)}else(p=a.querySelector(`style[data-mui-layer-order="${o}"]`))==null||p.remove()},[i,o]),i?h.jsx(tg,{styles:i}):null}const zu={};function $u(e,t,o,s=!1){return c.useMemo(()=>{const i=e&&t[e]||t;if(typeof o=="function"){const a=o(i),l=e?{...t,[e]:a}:a;return s?()=>l:l}return e?{...t,[e]:o}:{...t,...o}},[e,t,o,s])}function Vp(e){const{children:t,theme:o,themeId:s}=e,i=bp(zu),a=tc()||zu,l=$u(s,i,o),d=$u(s,a,o,!0),p=(s?l[s]:l).direction==="rtl",g=Xg(l);return h.jsx(qg,{theme:d,children:h.jsx(ng.Provider,{value:l,children:h.jsx(og,{value:p,children:h.jsxs(rg,{value:s?l[s].components:l.components,children:[g,t]})})})})}const nc="mode",oc="color-scheme",Yg="data-color-scheme";function Qg(e){const{defaultMode:t="system",defaultLightColorScheme:o="light",defaultDarkColorScheme:s="dark",modeStorageKey:i=nc,colorSchemeStorageKey:a=oc,attribute:l=Yg,colorSchemeNode:d="document.documentElement",nonce:p}=e||{};let g="",m=l;if(l==="class"&&(m=".%s"),l==="data"&&(m="[data-%s]"),m.startsWith(".")){const v=m.substring(1);g+=`${d}.classList.remove('${v}'.replace('%s', light), '${v}'.replace('%s', dark));
      ${d}.classList.add('${v}'.replace('%s', colorScheme));`}const f=m.match(/\[([^\]]+)\]/);if(f){const[v,y]=f[1].split("=");y||(g+=`${d}.removeAttribute('${v}'.replace('%s', light));
      ${d}.removeAttribute('${v}'.replace('%s', dark));`),g+=`
      ${d}.setAttribute('${v}'.replace('%s', colorScheme), ${y?`${y}.replace('%s', colorScheme)`:'""'});`}else g+=`${d}.setAttribute('${m}', colorScheme);`;return h.jsx("script",{suppressHydrationWarning:!0,nonce:typeof window>"u"?p:"",dangerouslySetInnerHTML:{__html:`(function() {
try {
  let colorScheme = '';
  const mode = localStorage.getItem('${i}') || '${t}';
  const dark = localStorage.getItem('${a}-dark') || '${s}';
  const light = localStorage.getItem('${a}-light') || '${o}';
  if (mode === 'system') {
    // handle system mode
    const mql = window.matchMedia('(prefers-color-scheme: dark)');
    if (mql.matches) {
      colorScheme = dark
    } else {
      colorScheme = light
    }
  }
  if (mode === 'light') {
    colorScheme = light;
  }
  if (mode === 'dark') {
    colorScheme = dark;
  }
  if (colorScheme) {
    ${g}
  }
} catch(e){}})();`}},"mui-color-scheme-init")}function ev(){}const tv=({key:e,storageWindow:t})=>(!t&&typeof window<"u"&&(t=window),{get(o){if(typeof window>"u")return;if(!t)return o;let s;try{s=t.localStorage.getItem(e)}catch{}return s||o},set:o=>{if(t)try{t.localStorage.setItem(e,o)}catch{}},subscribe:o=>{if(!t)return ev;const s=i=>{const a=i.newValue;i.key===e&&o(a)};return t.addEventListener("storage",s),()=>{t.removeEventListener("storage",s)}}});function rl(){}function Bu(e){if(typeof window<"u"&&typeof window.matchMedia=="function"&&e==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function Wp(e,t){if(e.mode==="light"||e.mode==="system"&&e.systemMode==="light")return t("light");if(e.mode==="dark"||e.mode==="system"&&e.systemMode==="dark")return t("dark")}function nv(e){return Wp(e,t=>{if(t==="light")return e.lightColorScheme;if(t==="dark")return e.darkColorScheme})}function ov(e){const{defaultMode:t="light",defaultLightColorScheme:o,defaultDarkColorScheme:s,supportedColorSchemes:i=[],modeStorageKey:a=nc,colorSchemeStorageKey:l=oc,storageWindow:d=typeof window>"u"?void 0:window,storageManager:p=tv,noSsr:g=!1}=e,m=i.join(","),f=i.length>1,v=c.useMemo(()=>p==null?void 0:p({key:a,storageWindow:d}),[p,a,d]),y=c.useMemo(()=>p==null?void 0:p({key:`${l}-light`,storageWindow:d}),[p,l,d]),C=c.useMemo(()=>p==null?void 0:p({key:`${l}-dark`,storageWindow:d}),[p,l,d]),[x,S]=c.useState(()=>{const A=(v==null?void 0:v.get(t))||t,N=(y==null?void 0:y.get(o))||o,F=(C==null?void 0:C.get(s))||s;return{mode:A,systemMode:Bu(A),lightColorScheme:N,darkColorScheme:F}}),[_,P]=c.useState(g||!f);c.useEffect(()=>{P(!0)},[]);const z=nv(x),D=c.useCallback(A=>{S(N=>{if(A===N.mode)return N;const F=A??t;return v==null||v.set(F),{...N,mode:F,systemMode:Bu(F)}})},[v,t]),j=c.useCallback(A=>{A?typeof A=="string"?A&&!m.includes(A)?console.error(`\`${A}\` does not exist in \`theme.colorSchemes\`.`):S(N=>{const F={...N};return Wp(N,$=>{$==="light"&&(y==null||y.set(A),F.lightColorScheme=A),$==="dark"&&(C==null||C.set(A),F.darkColorScheme=A)}),F}):S(N=>{const F={...N},$=A.light===null?o:A.light,G=A.dark===null?s:A.dark;return $&&(m.includes($)?(F.lightColorScheme=$,y==null||y.set($)):console.error(`\`${$}\` does not exist in \`theme.colorSchemes\`.`)),G&&(m.includes(G)?(F.darkColorScheme=G,C==null||C.set(G)):console.error(`\`${G}\` does not exist in \`theme.colorSchemes\`.`)),F}):S(N=>(y==null||y.set(o),C==null||C.set(s),{...N,lightColorScheme:o,darkColorScheme:s}))},[m,y,C,o,s]),k=c.useCallback(A=>{x.mode==="system"&&S(N=>{const F=A!=null&&A.matches?"dark":"light";return N.systemMode===F?N:{...N,systemMode:F}})},[x.mode]),M=c.useRef(k);return M.current=k,c.useEffect(()=>{if(typeof window.matchMedia!="function"||!f)return;const A=(...F)=>M.current(...F),N=window.matchMedia("(prefers-color-scheme: dark)");return N.addListener(A),A(N),()=>{N.removeListener(A)}},[f]),c.useEffect(()=>{if(f){const A=(v==null?void 0:v.subscribe($=>{(!$||["light","dark","system"].includes($))&&D($||t)}))||rl,N=(y==null?void 0:y.subscribe($=>{(!$||m.match($))&&j({light:$})}))||rl,F=(C==null?void 0:C.subscribe($=>{(!$||m.match($))&&j({dark:$})}))||rl;return()=>{A(),N(),F()}}},[j,D,m,t,d,f,v,y,C]),{...x,mode:_?x.mode:void 0,systemMode:_?x.systemMode:void 0,colorScheme:_?z:void 0,setMode:D,setColorScheme:j}}const rv="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function sv(e){const{themeId:t,theme:o={},modeStorageKey:s=nc,colorSchemeStorageKey:i=oc,disableTransitionOnChange:a=!1,defaultColorScheme:l,resolveTheme:d}=e,p={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},g=c.createContext(void 0),m=()=>c.useContext(g)||p,f={},v={};function y(_){var we,Fe,Ve,Xe;const{children:P,theme:z,modeStorageKey:D=s,colorSchemeStorageKey:j=i,disableTransitionOnChange:k=a,storageManager:M,storageWindow:A=typeof window>"u"?void 0:window,documentNode:N=typeof document>"u"?void 0:document,colorSchemeNode:F=typeof document>"u"?void 0:document.documentElement,disableNestedContext:$=!1,disableStyleSheetGeneration:G=!1,defaultMode:H="system",noSsr:T}=_,E=c.useRef(!1),B=tc(),W=c.useContext(g),R=!!W&&!$,V=c.useMemo(()=>z||(typeof o=="function"?o():o),[z]),Z=V[t],q=Z||V,{colorSchemes:ee=f,components:X=v,cssVarPrefix:te}=q,Y=Object.keys(ee).filter(Ke=>!!ee[Ke]).join(","),ne=c.useMemo(()=>Y.split(","),[Y]),U=typeof l=="string"?l:l.light,le=typeof l=="string"?l:l.dark,Pe=ee[U]&&ee[le]?H:((Fe=(we=ee[q.defaultColorScheme])==null?void 0:we.palette)==null?void 0:Fe.mode)||((Ve=q.palette)==null?void 0:Ve.mode),{mode:oe,setMode:ue,systemMode:he,lightColorScheme:ie,darkColorScheme:ge,colorScheme:de,setColorScheme:Ce}=ov({supportedColorSchemes:ne,defaultLightColorScheme:U,defaultDarkColorScheme:le,modeStorageKey:D,colorSchemeStorageKey:j,defaultMode:Pe,storageManager:M,storageWindow:A,noSsr:T});let se=oe,ye=de;R&&(se=W.mode,ye=W.colorScheme);const Te=c.useMemo(()=>{var St;const Ke=ye||q.defaultColorScheme,qe=((St=q.generateThemeVars)==null?void 0:St.call(q))||q.vars,Ze={...q,components:X,colorSchemes:ee,cssVarPrefix:te,vars:qe};if(typeof Ze.generateSpacing=="function"&&(Ze.spacing=Ze.generateSpacing()),Ke){const nt=ee[Ke];nt&&typeof nt=="object"&&Object.keys(nt).forEach(Ye=>{nt[Ye]&&typeof nt[Ye]=="object"?Ze[Ye]={...Ze[Ye],...nt[Ye]}:Ze[Ye]=nt[Ye]})}return d?d(Ze):Ze},[q,ye,X,ee,te]),Ae=q.colorSchemeSelector;Qi(()=>{if(ye&&F&&Ae&&Ae!=="media"){const Ke=Ae;let qe=Ae;if(Ke==="class"&&(qe=".%s"),Ke==="data"&&(qe="[data-%s]"),Ke!=null&&Ke.startsWith("data-")&&!Ke.includes("%s")&&(qe=`[${Ke}="%s"]`),qe.startsWith("."))F.classList.remove(...ne.map(Ze=>qe.substring(1).replace("%s",Ze))),F.classList.add(qe.substring(1).replace("%s",ye));else{const Ze=qe.replace("%s",ye).match(/\[([^\]]+)\]/);if(Ze){const[St,nt]=Ze[1].split("=");nt||ne.forEach(Ye=>{F.removeAttribute(St.replace(ye,Ye))}),F.setAttribute(St,nt?nt.replace(/"|'/g,""):"")}else F.setAttribute(qe,ye)}}},[ye,Ae,F,ne]),c.useEffect(()=>{let Ke;if(k&&E.current&&N){const qe=N.createElement("style");qe.appendChild(N.createTextNode(rv)),N.head.appendChild(qe),window.getComputedStyle(N.body),Ke=setTimeout(()=>{N.head.removeChild(qe)},1)}return()=>{clearTimeout(Ke)}},[ye,k,N]),c.useEffect(()=>(E.current=!0,()=>{E.current=!1}),[]);const Oe=c.useMemo(()=>({allColorSchemes:ne,colorScheme:ye,darkColorScheme:ge,lightColorScheme:ie,mode:se,setColorScheme:Ce,setMode:ue,systemMode:he}),[ne,ye,ge,ie,se,Ce,ue,he,Te.colorSchemeSelector]);let Ee=!0;(G||q.cssVariables===!1||R&&(B==null?void 0:B.cssVarPrefix)===te)&&(Ee=!1);const xe=h.jsxs(c.Fragment,{children:[h.jsx(Vp,{themeId:Z?t:void 0,theme:Te,children:P}),Ee&&h.jsx(sg,{styles:((Xe=Te.generateStyleSheets)==null?void 0:Xe.call(Te))||[]})]});return R?xe:h.jsx(g.Provider,{value:Oe,children:xe})}const C=typeof l=="string"?l:l.light,x=typeof l=="string"?l:l.dark;return{CssVarsProvider:y,useColorScheme:m,getInitColorSchemeScript:_=>Qg({colorSchemeStorageKey:i,defaultLightColorScheme:C,defaultDarkColorScheme:x,modeStorageKey:s,..._})}}function iv(e){return String(e).match(/[\d.\-+]*\s*(.*)/)[1]||""}function av(e){return parseFloat(e)}function lv({props:e,name:t}){return ig({props:e,name:t,defaultTheme:ag,themeId:or})}function cv({theme:e,...t}){const o=or in e?e[or]:void 0;return h.jsx(Vp,{...t,themeId:o?or:void 0,theme:o||e})}const hi={colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"},{CssVarsProvider:uv}=sv({themeId:or,theme:()=>yp({cssVariables:!0}),colorSchemeStorageKey:hi.colorSchemeStorageKey,modeStorageKey:hi.modeStorageKey,defaultColorScheme:{light:hi.defaultLightColorScheme,dark:hi.defaultDarkColorScheme},resolveTheme:e=>{const t={...e,typography:lg(e.palette,e.typography)};return t.unstable_sx=function(s){return cg({sx:s,theme:this})},t}}),dv=uv;function pv({theme:e,...t}){const o=c.useMemo(()=>{if(typeof e=="function")return e;const s=or in e?e[or]:e;return"colorSchemes"in s?null:"vars"in s?e:{...e,vars:null}},[e]);return o?h.jsx(cv,{theme:o,...t}):h.jsx(dv,{theme:e,...t})}function hv(e){return Wt("MuiAppBar",e)}Zt("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const mv=e=>{const{color:t,position:o,classes:s}=e,i={root:["root",`color${pt(t)}`,`position${pt(o)}`]};return Kt(i,hv,s)},Hu=(e,t)=>e?`${e==null?void 0:e.replace(")","")}, ${t})`:t,fv=Le(Nt,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,t[`position${pt(o.position)}`],t[`color${pt(o.color)}`]]}})(yt(({theme:e})=>({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,variants:[{props:{position:"fixed"},style:{position:"fixed",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}}},{props:{position:"absolute"},style:{position:"absolute",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"sticky"},style:{position:"sticky",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"static"},style:{position:"static"}},{props:{position:"relative"},style:{position:"relative"}},{props:{color:"inherit"},style:{"--AppBar-color":"inherit"}},{props:{color:"default"},style:{"--AppBar-background":e.vars?e.vars.palette.AppBar.defaultBg:e.palette.grey[100],"--AppBar-color":e.vars?e.vars.palette.text.primary:e.palette.getContrastText(e.palette.grey[100]),...e.applyStyles("dark",{"--AppBar-background":e.vars?e.vars.palette.AppBar.defaultBg:e.palette.grey[900],"--AppBar-color":e.vars?e.vars.palette.text.primary:e.palette.getContrastText(e.palette.grey[900])})}},...Object.entries(e.palette).filter(Ts(["contrastText"])).map(([t])=>({props:{color:t},style:{"--AppBar-background":(e.vars??e).palette[t].main,"--AppBar-color":(e.vars??e).palette[t].contrastText}})),{props:t=>t.enableColorOnDark===!0&&!["inherit","transparent"].includes(t.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"}},{props:t=>t.enableColorOnDark===!1&&!["inherit","transparent"].includes(t.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...e.applyStyles("dark",{backgroundColor:e.vars?Hu(e.vars.palette.AppBar.darkBg,"var(--AppBar-background)"):null,color:e.vars?Hu(e.vars.palette.AppBar.darkColor,"var(--AppBar-color)"):null})}},{props:{color:"transparent"},style:{"--AppBar-background":"transparent","--AppBar-color":"inherit",backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...e.applyStyles("dark",{backgroundImage:"none"})}}]}))),gv=c.forwardRef(function(t,o){const s=Ut({props:t,name:"MuiAppBar"}),{className:i,color:a="primary",enableColorOnDark:l=!1,position:d="fixed",...p}=s,g={...s,color:a,position:d,enableColorOnDark:l},m=mv(g);return h.jsx(fv,{square:!0,component:"header",ownerState:g,elevation:4,className:He(m.root,i,d==="fixed"&&"mui-fixed"),ref:o,...p})});function ju(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function Zp(e={}){const{ignoreAccents:t=!0,ignoreCase:o=!0,limit:s,matchFrom:i="any",stringify:a,trim:l=!1}=e;return(d,{inputValue:p,getOptionLabel:g})=>{let m=l?p.trim():p;o&&(m=m.toLowerCase()),t&&(m=ju(m));const f=m?d.filter(v=>{let y=(a||g)(v);return o&&(y=y.toLowerCase()),t&&(y=ju(y)),i==="start"?y.startsWith(m):y.includes(m)}):d;return typeof s=="number"?f.slice(0,s):f}}const vv=Zp(),Gu=5,bv=e=>{var t;return e.current!==null&&((t=e.current.parentElement)==null?void 0:t.contains(document.activeElement))},yv=[];function Vu(e,t,o){if(t||e==null)return"";const s=o(e);return typeof s=="string"?s:""}function Cv(e){const{unstable_isActiveElementInListbox:t=bv,unstable_classNamePrefix:o="Mui",autoComplete:s=!1,autoHighlight:i=!1,autoSelect:a=!1,blurOnSelect:l=!1,clearOnBlur:d=!e.freeSolo,clearOnEscape:p=!1,componentName:g="useAutocomplete",defaultValue:m=e.multiple?yv:null,disableClearable:f=!1,disableCloseOnSelect:v=!1,disabled:y,disabledItemsFocusable:C=!1,disableListWrap:x=!1,filterOptions:S=vv,filterSelectedOptions:_=!1,freeSolo:P=!1,getOptionDisabled:z,getOptionKey:D,getOptionLabel:j=fe=>fe.label??fe,groupBy:k,handleHomeEndKeys:M=!e.freeSolo,id:A,includeInputInList:N=!1,inputValue:F,isOptionEqualToValue:$=(fe,pe)=>fe===pe,multiple:G=!1,onChange:H,onClose:T,onHighlightChange:E,onInputChange:B,onOpen:W,open:R,openOnFocus:V=!1,options:Z,readOnly:q=!1,selectOnFocus:ee=!e.freeSolo,value:X}=e,te=Zr(A);let Y=j;Y=fe=>{const pe=j(fe);return typeof pe!="string"?String(pe):pe};const ne=c.useRef(!1),U=c.useRef(!0),le=c.useRef(null),Pe=c.useRef(null),[oe,ue]=c.useState(null),[he,ie]=c.useState(-1),ge=i?0:-1,de=c.useRef(ge),Ce=c.useRef(Vu(m??X,G,Y)).current,[se,ye]=xi({controlled:X,default:m,name:g}),[Te,Ae]=xi({controlled:F,default:Ce,name:g,state:"inputValue"}),[Oe,Ee]=c.useState(!1),xe=c.useCallback((fe,pe,Be)=>{if(!(G?se.length<pe.length:pe!==null)&&!d)return;const gt=Vu(pe,G,Y);Te!==gt&&(Ae(gt),B&&B(fe,gt,Be))},[Y,Te,G,B,Ae,d,se]),[we,Fe]=xi({controlled:R,default:!1,name:g,state:"open"}),[Ve,Xe]=c.useState(!0),Ke=!G&&se!=null&&Te===Y(se),qe=we&&!q,Ze=qe?S(Z.filter(fe=>!(_&&(G?se:[se]).some(pe=>pe!==null&&$(fe,pe)))),{inputValue:Ke&&Ve?"":Te,getOptionLabel:Y}):[],St=ec({filteredOptions:Ze,value:se,inputValue:Te});c.useEffect(()=>{const fe=se!==St.value;Oe&&!fe||P&&!fe||xe(null,se,"reset")},[se,xe,Oe,St.value,P]);const nt=we&&Ze.length>0&&!q,Ye=jo(fe=>{fe===-1?le.current.focus():oe.querySelector(`[data-tag-index="${fe}"]`).focus()});c.useEffect(()=>{G&&he>se.length-1&&(ie(-1),Ye(-1))},[se,G,he,Ye]);function Jt(fe,pe){if(!Pe.current||fe<0||fe>=Ze.length)return-1;let Be=fe;for(;;){const tt=Pe.current.querySelector(`[data-option-index="${Be}"]`),gt=C?!1:!tt||tt.disabled||tt.getAttribute("aria-disabled")==="true";if(tt&&tt.hasAttribute("tabindex")&&!gt)return Be;if(pe==="next"?Be=(Be+1)%Ze.length:Be=(Be-1+Ze.length)%Ze.length,Be===fe)return-1}}const Tt=jo(({event:fe,index:pe,reason:Be})=>{if(de.current=pe,pe===-1?le.current.removeAttribute("aria-activedescendant"):le.current.setAttribute("aria-activedescendant",`${te}-option-${pe}`),E&&["mouse","keyboard","touch"].includes(Be)&&E(fe,pe===-1?null:Ze[pe],Be),!Pe.current)return;const tt=Pe.current.querySelector(`[role="option"].${o}-focused`);tt&&(tt.classList.remove(`${o}-focused`),tt.classList.remove(`${o}-focusVisible`));let gt=Pe.current;if(Pe.current.getAttribute("role")!=="listbox"&&(gt=Pe.current.parentElement.querySelector('[role="listbox"]')),!gt)return;if(pe===-1){gt.scrollTop=0;return}const Mt=Pe.current.querySelector(`[data-option-index="${pe}"]`);if(Mt&&(Mt.classList.add(`${o}-focused`),Be==="keyboard"&&Mt.classList.add(`${o}-focusVisible`),gt.scrollHeight>gt.clientHeight&&Be!=="mouse"&&Be!=="touch")){const Gt=Mt,In=gt.clientHeight+gt.scrollTop,Mo=Gt.offsetTop+Gt.offsetHeight;Mo>In?gt.scrollTop=Mo-gt.clientHeight:Gt.offsetTop-Gt.offsetHeight*(k?1.3:0)<gt.scrollTop&&(gt.scrollTop=Gt.offsetTop-Gt.offsetHeight*(k?1.3:0))}}),Ht=jo(({event:fe,diff:pe,direction:Be="next",reason:tt})=>{if(!qe)return;const Mt=Jt((()=>{const Gt=Ze.length-1;if(pe==="reset")return ge;if(pe==="start")return 0;if(pe==="end")return Gt;const In=de.current+pe;return In<0?In===-1&&N?-1:x&&de.current!==-1||Math.abs(pe)>1?0:Gt:In>Gt?In===Gt+1&&N?-1:x||Math.abs(pe)>1?Gt:0:In})(),Be);if(Tt({index:Mt,reason:tt,event:fe}),s&&pe!=="reset")if(Mt===-1)le.current.value=Te;else{const Gt=Y(Ze[Mt]);le.current.value=Gt,Gt.toLowerCase().indexOf(Te.toLowerCase())===0&&Te.length>0&&le.current.setSelectionRange(Te.length,Gt.length)}}),cn=()=>{const fe=(pe,Be)=>{const tt=pe?Y(pe):"",gt=Be?Y(Be):"";return tt===gt};if(de.current!==-1&&St.filteredOptions&&St.filteredOptions.length!==Ze.length&&St.inputValue===Te&&(G?se.length===St.value.length&&St.value.every((pe,Be)=>Y(se[Be])===Y(pe)):fe(St.value,se))){const pe=St.filteredOptions[de.current];if(pe)return Ze.findIndex(Be=>Y(Be)===Y(pe))}return-1},on=c.useCallback(()=>{if(!qe)return;const fe=cn();if(fe!==-1){de.current=fe;return}const pe=G?se[0]:se;if(Ze.length===0||pe==null){Ht({diff:"reset"});return}if(Pe.current){if(pe!=null){const Be=Ze[de.current];if(G&&Be&&se.findIndex(gt=>$(Be,gt))!==-1)return;const tt=Ze.findIndex(gt=>$(gt,pe));tt===-1?Ht({diff:"reset"}):Tt({index:tt});return}if(de.current>=Ze.length-1){Tt({index:Ze.length-1});return}Tt({index:de.current})}},[Ze.length,G?!1:se,_,Ht,Tt,qe,Te,G]),an=jo(fe=>{ug(Pe,fe),fe&&on()});c.useEffect(()=>{on()},[on]);const jt=fe=>{we||(Fe(!0),Xe(!0),W&&W(fe))},Ie=(fe,pe)=>{we&&(Fe(!1),T&&T(fe,pe))},Q=(fe,pe,Be,tt)=>{if(G){if(se.length===pe.length&&se.every((gt,Mt)=>gt===pe[Mt]))return}else if(se===pe)return;H&&H(fe,pe,Be,tt),ye(pe)},me=c.useRef(!1),ze=(fe,pe,Be="selectOption",tt="options")=>{let gt=Be,Mt=pe;if(G){Mt=Array.isArray(se)?se.slice():[];const Gt=Mt.findIndex(In=>$(pe,In));Gt===-1?Mt.push(pe):tt!=="freeSolo"&&(Mt.splice(Gt,1),gt="removeOption")}xe(fe,Mt,gt),Q(fe,Mt,gt,{option:pe}),!v&&(!fe||!fe.ctrlKey&&!fe.metaKey)&&Ie(fe,gt),(l===!0||l==="touch"&&me.current||l==="mouse"&&!me.current)&&le.current.blur()};function ft(fe,pe){if(fe===-1)return-1;let Be=fe;for(;;){if(pe==="next"&&Be===se.length||pe==="previous"&&Be===-1)return-1;const tt=oe.querySelector(`[data-tag-index="${Be}"]`);if(!tt||!tt.hasAttribute("tabindex")||tt.disabled||tt.getAttribute("aria-disabled")==="true")Be+=pe==="next"?1:-1;else return Be}}const et=(fe,pe)=>{if(!G)return;Te===""&&Ie(fe,"toggleInput");let Be=he;he===-1?Te===""&&pe==="previous"&&(Be=se.length-1):(Be+=pe==="next"?1:-1,Be<0&&(Be=0),Be===se.length&&(Be=-1)),Be=ft(Be,pe),ie(Be),Ye(Be)},Ue=fe=>{ne.current=!0,Ae(""),B&&B(fe,"","clear"),Q(fe,G?[]:null,"clear")},st=fe=>pe=>{if(fe.onKeyDown&&fe.onKeyDown(pe),!pe.defaultMuiPrevented&&(he!==-1&&!["ArrowLeft","ArrowRight"].includes(pe.key)&&(ie(-1),Ye(-1)),pe.which!==229))switch(pe.key){case"Home":qe&&M&&(pe.preventDefault(),Ht({diff:"start",direction:"next",reason:"keyboard",event:pe}));break;case"End":qe&&M&&(pe.preventDefault(),Ht({diff:"end",direction:"previous",reason:"keyboard",event:pe}));break;case"PageUp":pe.preventDefault(),Ht({diff:-Gu,direction:"previous",reason:"keyboard",event:pe}),jt(pe);break;case"PageDown":pe.preventDefault(),Ht({diff:Gu,direction:"next",reason:"keyboard",event:pe}),jt(pe);break;case"ArrowDown":pe.preventDefault(),Ht({diff:1,direction:"next",reason:"keyboard",event:pe}),jt(pe);break;case"ArrowUp":pe.preventDefault(),Ht({diff:-1,direction:"previous",reason:"keyboard",event:pe}),jt(pe);break;case"ArrowLeft":et(pe,"previous");break;case"ArrowRight":et(pe,"next");break;case"Enter":if(de.current!==-1&&qe){const Be=Ze[de.current],tt=z?z(Be):!1;if(pe.preventDefault(),tt)return;ze(pe,Be,"selectOption"),s&&le.current.setSelectionRange(le.current.value.length,le.current.value.length)}else P&&Te!==""&&Ke===!1&&(G&&pe.preventDefault(),ze(pe,Te,"createOption","freeSolo"));break;case"Escape":qe?(pe.preventDefault(),pe.stopPropagation(),Ie(pe,"escape")):p&&(Te!==""||G&&se.length>0)&&(pe.preventDefault(),pe.stopPropagation(),Ue(pe));break;case"Backspace":if(G&&!q&&Te===""&&se.length>0){const Be=he===-1?se.length-1:he,tt=se.slice();tt.splice(Be,1),Q(pe,tt,"removeOption",{option:se[Be]})}break;case"Delete":if(G&&!q&&Te===""&&se.length>0&&he!==-1){const Be=he,tt=se.slice();tt.splice(Be,1),Q(pe,tt,"removeOption",{option:se[Be]})}break}},be=fe=>{Ee(!0),V&&!ne.current&&jt(fe)},ve=fe=>{if(t(Pe)){le.current.focus();return}Ee(!1),U.current=!0,ne.current=!1,a&&de.current!==-1&&qe?ze(fe,Ze[de.current],"blur"):a&&P&&Te!==""?ze(fe,Te,"blur","freeSolo"):d&&xe(fe,se,"blur"),Ie(fe,"blur")},Se=fe=>{const pe=fe.target.value;Te!==pe&&(Ae(pe),Xe(!1),B&&B(fe,pe,"input")),pe===""?!f&&!G&&Q(fe,null,"clear"):jt(fe)},ke=fe=>{const pe=Number(fe.currentTarget.getAttribute("data-option-index"));de.current!==pe&&Tt({event:fe,index:pe,reason:"mouse"})},ot=fe=>{Tt({event:fe,index:Number(fe.currentTarget.getAttribute("data-option-index")),reason:"touch"}),me.current=!0},xt=fe=>{const pe=Number(fe.currentTarget.getAttribute("data-option-index"));ze(fe,Ze[pe],"selectOption"),me.current=!1},De=fe=>pe=>{const Be=se.slice();Be.splice(fe,1),Q(pe,Be,"removeOption",{option:se[fe]})},qt=fe=>{we?Ie(fe,"toggleInput"):jt(fe)},Cn=fe=>{fe.currentTarget.contains(fe.target)&&fe.target.getAttribute("id")!==te&&fe.preventDefault()},kt=fe=>{fe.currentTarget.contains(fe.target)&&(le.current.focus(),ee&&U.current&&le.current.selectionEnd-le.current.selectionStart===0&&le.current.select(),U.current=!1)},Ft=fe=>{!y&&(Te===""||!we)&&qt(fe)};let gn=P&&Te.length>0;gn=gn||(G?se.length>0:se!==null);let ro=Ze;return k&&(ro=Ze.reduce((fe,pe,Be)=>{const tt=k(pe);return fe.length>0&&fe[fe.length-1].group===tt?fe[fe.length-1].options.push(pe):fe.push({key:Be,index:Be,group:tt,options:[pe]}),fe},[])),y&&Oe&&ve(),{getRootProps:(fe={})=>({...fe,onKeyDown:st(fe),onMouseDown:Cn,onClick:kt}),getInputLabelProps:()=>({id:`${te}-label`,htmlFor:te}),getInputProps:()=>({id:te,value:Te,onBlur:ve,onFocus:be,onChange:Se,onMouseDown:Ft,"aria-activedescendant":qe?"":null,"aria-autocomplete":s?"both":"list","aria-controls":nt?`${te}-listbox`:void 0,"aria-expanded":nt,autoComplete:"off",ref:le,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:y}),getClearProps:()=>({tabIndex:-1,type:"button",onClick:Ue}),getPopupIndicatorProps:()=>({tabIndex:-1,type:"button",onClick:qt}),getTagProps:({index:fe})=>({key:fe,"data-tag-index":fe,tabIndex:-1,...!q&&{onDelete:De(fe)}}),getListboxProps:()=>({role:"listbox",id:`${te}-listbox`,"aria-labelledby":`${te}-label`,ref:an,onMouseDown:fe=>{fe.preventDefault()}}),getOptionProps:({index:fe,option:pe})=>{const Be=(G?se:[se]).some(gt=>gt!=null&&$(pe,gt)),tt=z?z(pe):!1;return{key:(D==null?void 0:D(pe))??Y(pe),tabIndex:-1,role:"option",id:`${te}-option-${fe}`,onMouseMove:ke,onClick:xt,onTouchStart:ot,"data-option-index":fe,"aria-disabled":tt,"aria-selected":Be}},id:te,inputValue:Te,value:se,dirty:gn,expanded:qe&&oe,popupOpen:qe,focused:Oe||he!==-1,anchorEl:oe,setAnchorEl:ue,focusedTag:he,groupedOptions:ro}}function xv(e){return Wt("MuiListSubheader",e)}Zt("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const wv=e=>{const{classes:t,color:o,disableGutters:s,inset:i,disableSticky:a}=e,l={root:["root",o!=="default"&&`color${pt(o)}`,!s&&"gutters",i&&"inset",!a&&"sticky"]};return Kt(l,xv,t)},Sv=Le("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.color!=="default"&&t[`color${pt(o.color)}`],!o.disableGutters&&t.gutters,o.inset&&t.inset,!o.disableSticky&&t.sticky]}})(yt(({theme:e})=>({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(e.vars||e).palette.text.secondary,fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(14),variants:[{props:{color:"primary"},style:{color:(e.vars||e).palette.primary.main}},{props:{color:"inherit"},style:{color:"inherit"}},{props:({ownerState:t})=>!t.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:t})=>t.inset,style:{paddingLeft:72}},{props:({ownerState:t})=>!t.disableSticky,style:{position:"sticky",top:0,zIndex:1,backgroundColor:(e.vars||e).palette.background.paper}}]}))),wl=c.forwardRef(function(t,o){const s=Ut({props:t,name:"MuiListSubheader"}),{className:i,color:a="default",component:l="li",disableGutters:d=!1,disableSticky:p=!1,inset:g=!1,...m}=s,f={...s,color:a,component:l,disableGutters:d,disableSticky:p,inset:g},v=wv(f);return h.jsx(Sv,{as:l,className:He(v.root,i),ref:o,ownerState:f,...m})});wl&&(wl.muiSkipListHighlight=!0);function _v(e){return Wt("MuiAutocomplete",e)}const ct=Zt("MuiAutocomplete",["root","expanded","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]);var Wu,Zu;const Pv=e=>{const{classes:t,disablePortal:o,expanded:s,focused:i,fullWidth:a,hasClearIcon:l,hasPopupIcon:d,inputFocused:p,popupOpen:g,size:m}=e,f={root:["root",s&&"expanded",i&&"focused",a&&"fullWidth",l&&"hasClearIcon",d&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",p&&"inputFocused"],tag:["tag",`tagSize${pt(m)}`],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",g&&"popupIndicatorOpen"],popper:["popper",o&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return Kt(f,_v,t)},Iv=Le("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e,{fullWidth:s,hasClearIcon:i,hasPopupIcon:a,inputFocused:l,size:d}=o;return[{[`& .${ct.tag}`]:t.tag},{[`& .${ct.tag}`]:t[`tagSize${pt(d)}`]},{[`& .${ct.inputRoot}`]:t.inputRoot},{[`& .${ct.input}`]:t.input},{[`& .${ct.input}`]:l&&t.inputFocused},t.root,s&&t.fullWidth,a&&t.hasPopupIcon,i&&t.hasClearIcon]}})({[`&.${ct.focused} .${ct.clearIndicator}`]:{visibility:"visible"},"@media (pointer: fine)":{[`&:hover .${ct.clearIndicator}`]:{visibility:"visible"}},[`& .${ct.tag}`]:{margin:3,maxWidth:"calc(100% - 6px)"},[`& .${ct.inputRoot}`]:{[`.${ct.hasPopupIcon}&, .${ct.hasClearIcon}&`]:{paddingRight:30},[`.${ct.hasPopupIcon}.${ct.hasClearIcon}&`]:{paddingRight:56},[`& .${ct.input}`]:{width:0,minWidth:30}},[`& .${el.root}`]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},[`& .${el.root}.${Qo.sizeSmall}`]:{[`& .${el.input}`]:{padding:"2px 4px 3px 0"}},[`& .${Eu.root}`]:{padding:9,[`.${ct.hasPopupIcon}&, .${ct.hasClearIcon}&`]:{paddingRight:39},[`.${ct.hasPopupIcon}.${ct.hasClearIcon}&`]:{paddingRight:65},[`& .${ct.input}`]:{padding:"7.5px 4px 7.5px 5px"},[`& .${ct.endAdornment}`]:{right:9}},[`& .${Eu.root}.${Qo.sizeSmall}`]:{paddingTop:6,paddingBottom:6,paddingLeft:6,[`& .${ct.input}`]:{padding:"2.5px 4px 2.5px 8px"}},[`& .${Tr.root}`]:{paddingTop:19,paddingLeft:8,[`.${ct.hasPopupIcon}&, .${ct.hasClearIcon}&`]:{paddingRight:39},[`.${ct.hasPopupIcon}.${ct.hasClearIcon}&`]:{paddingRight:65},[`& .${Tr.input}`]:{padding:"7px 4px"},[`& .${ct.endAdornment}`]:{right:9}},[`& .${Tr.root}.${Qo.sizeSmall}`]:{paddingBottom:1,[`& .${Tr.input}`]:{padding:"2.5px 4px"}},[`& .${Qo.hiddenLabel}`]:{paddingTop:8},[`& .${Tr.root}.${Qo.hiddenLabel}`]:{paddingTop:0,paddingBottom:0,[`& .${ct.input}`]:{paddingTop:16,paddingBottom:17}},[`& .${Tr.root}.${Qo.hiddenLabel}.${Qo.sizeSmall}`]:{[`& .${ct.input}`]:{paddingTop:8,paddingBottom:9}},[`& .${ct.input}`]:{flexGrow:1,textOverflow:"ellipsis",opacity:0},variants:[{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{[`& .${ct.tag}`]:{margin:2,maxWidth:"calc(100% - 4px)"}}},{props:{inputFocused:!0},style:{[`& .${ct.input}`]:{opacity:1}}},{props:{multiple:!0},style:{[`& .${ct.inputRoot}`]:{flexWrap:"wrap"}}}]}),Tv=Le("div",{name:"MuiAutocomplete",slot:"EndAdornment",overridesResolver:(e,t)=>t.endAdornment})({position:"absolute",right:0,top:"50%",transform:"translate(0, -50%)"}),kv=Le(pn,{name:"MuiAutocomplete",slot:"ClearIndicator",overridesResolver:(e,t)=>t.clearIndicator})({marginRight:-2,padding:4,visibility:"hidden"}),Mv=Le(pn,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.popupIndicator,o.popupOpen&&t.popupIndicatorOpen]}})({padding:2,marginRight:-2,variants:[{props:{popupOpen:!0},style:{transform:"rotate(180deg)"}}]}),Av=Le(qr,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[{[`& .${ct.option}`]:t.option},t.popper,o.disablePortal&&t.popperDisablePortal]}})(yt(({theme:e})=>({zIndex:(e.vars||e).zIndex.modal,variants:[{props:{disablePortal:!0},style:{position:"absolute"}}]}))),Ev=Le(Nt,{name:"MuiAutocomplete",slot:"Paper",overridesResolver:(e,t)=>t.paper})(yt(({theme:e})=>({...e.typography.body1,overflow:"auto"}))),Dv=Le("div",{name:"MuiAutocomplete",slot:"Loading",overridesResolver:(e,t)=>t.loading})(yt(({theme:e})=>({color:(e.vars||e).palette.text.secondary,padding:"14px 16px"}))),Rv=Le("div",{name:"MuiAutocomplete",slot:"NoOptions",overridesResolver:(e,t)=>t.noOptions})(yt(({theme:e})=>({color:(e.vars||e).palette.text.secondary,padding:"14px 16px"}))),Lv=Le("ul",{name:"MuiAutocomplete",slot:"Listbox",overridesResolver:(e,t)=>t.listbox})(yt(({theme:e})=>({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",[`& .${ct.option}`]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[e.breakpoints.up("sm")]:{minHeight:"auto"},[`&.${ct.focused}`]:{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${ct.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Me(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${ct.focused}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Me(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(e.vars||e).palette.action.selected}},[`&.${ct.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Me(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}}}}))),Fv=Le(wl,{name:"MuiAutocomplete",slot:"GroupLabel",overridesResolver:(e,t)=>t.groupLabel})(yt(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,top:-8}))),Ov=Le("ul",{name:"MuiAutocomplete",slot:"GroupUl",overridesResolver:(e,t)=>t.groupUl})({padding:0,[`& .${ct.option}`]:{paddingLeft:24}}),Ns=c.forwardRef(function(t,o){const s=Ut({props:t,name:"MuiAutocomplete"}),{autoComplete:i=!1,autoHighlight:a=!1,autoSelect:l=!1,blurOnSelect:d=!1,ChipProps:p,className:g,clearIcon:m=Wu||(Wu=h.jsx(dg,{fontSize:"small"})),clearOnBlur:f=!s.freeSolo,clearOnEscape:v=!1,clearText:y="Clear",closeText:C="Close",componentsProps:x,defaultValue:S=s.multiple?[]:null,disableClearable:_=!1,disableCloseOnSelect:P=!1,disabled:z=!1,disabledItemsFocusable:D=!1,disableListWrap:j=!1,disablePortal:k=!1,filterOptions:M,filterSelectedOptions:A=!1,forcePopupIcon:N="auto",freeSolo:F=!1,fullWidth:$=!1,getLimitTagsText:G=wt=>`+${wt}`,getOptionDisabled:H,getOptionKey:T,getOptionLabel:E,isOptionEqualToValue:B,groupBy:W,handleHomeEndKeys:R=!s.freeSolo,id:V,includeInputInList:Z=!1,inputValue:q,limitTags:ee=-1,ListboxComponent:X,ListboxProps:te,loading:Y=!1,loadingText:ne="Loadingâ€¦",multiple:U=!1,noOptionsText:le="No options",onChange:Pe,onClose:oe,onHighlightChange:ue,onInputChange:he,onOpen:ie,open:ge,openOnFocus:de=!1,openText:Ce="Open",options:se,PaperComponent:ye,PopperComponent:Te,popupIcon:Ae=Zu||(Zu=h.jsx(pg,{})),readOnly:Oe=!1,renderGroup:Ee,renderInput:xe,renderOption:we,renderTags:Fe,selectOnFocus:Ve=!s.freeSolo,size:Xe="medium",slots:Ke={},slotProps:qe={},value:Ze,...St}=s,{getRootProps:nt,getInputProps:Ye,getInputLabelProps:Jt,getPopupIndicatorProps:Tt,getClearProps:Ht,getTagProps:cn,getListboxProps:on,getOptionProps:an,value:jt,dirty:Ie,expanded:Q,id:me,popupOpen:ze,focused:ft,focusedTag:et,anchorEl:Ue,setAnchorEl:st,inputValue:be,groupedOptions:ve}=Cv({...s,componentName:"Autocomplete"}),Se=!_&&!z&&Ie&&!Oe,ke=(!F||N===!0)&&N!==!1,{onMouseDown:ot}=Ye(),{ref:xt,...De}=on(),Cn=E||(wt=>wt.label??wt),kt={...s,disablePortal:k,expanded:Q,focused:ft,fullWidth:$,getOptionLabel:Cn,hasClearIcon:Se,hasPopupIcon:ke,inputFocused:et===-1,popupOpen:ze,size:Xe},Ft=Pv(kt),gn={slots:{paper:ye,popper:Te,...Ke},slotProps:{chip:p,listbox:te,...x,...qe}},[ro,fe]=Pt("listbox",{elementType:Lv,externalForwardedProps:gn,ownerState:kt,className:Ft.listbox,additionalProps:De,ref:xt}),[pe,Be]=Pt("paper",{elementType:Nt,externalForwardedProps:gn,ownerState:kt,className:Ft.paper}),[tt,gt]=Pt("popper",{elementType:qr,externalForwardedProps:gn,ownerState:kt,className:Ft.popper,additionalProps:{disablePortal:k,style:{width:Ue?Ue.clientWidth:null},role:"presentation",anchorEl:Ue,open:ze}});let Mt;if(U&&jt.length>0){const wt=Tn=>({className:Ft.tag,disabled:z,...cn(Tn)});Fe?Mt=Fe(jt,wt,kt):Mt=jt.map((Tn,kn)=>{const{key:Ao,...Js}=wt({index:kn});return h.jsx(Vl,{label:Cn(Tn),size:Xe,...Js,...gn.slotProps.chip},Ao)})}if(ee>-1&&Array.isArray(Mt)){const wt=Mt.length-ee;!ft&&wt>0&&(Mt=Mt.splice(0,ee),Mt.push(h.jsx("span",{className:Ft.tag,children:G(wt)},Mt.length)))}const In=Ee||(wt=>h.jsxs("li",{children:[h.jsx(Fv,{className:Ft.groupLabel,ownerState:kt,component:"div",children:wt.group}),h.jsx(Ov,{className:Ft.groupUl,ownerState:kt,children:wt.children})]},wt.key)),Ma=we||((wt,Tn)=>{const{key:kn,...Ao}=wt;return h.jsx("li",{...Ao,children:Cn(Tn)},kn)}),Ks=(wt,Tn)=>{const kn=an({option:wt,index:Tn});return Ma({...kn,className:Ft.option},wt,{selected:kn["aria-selected"],index:Tn,inputValue:be},kt)},vr=gn.slotProps.clearIndicator,br=gn.slotProps.popupIndicator;return h.jsxs(c.Fragment,{children:[h.jsx(Iv,{ref:o,className:He(Ft.root,g),ownerState:kt,...nt(St),children:xe({id:me,disabled:z,fullWidth:!0,size:Xe==="small"?"small":void 0,InputLabelProps:Jt(),InputProps:{ref:st,className:Ft.inputRoot,startAdornment:Mt,onMouseDown:wt=>{wt.target===wt.currentTarget&&ot(wt)},...(Se||ke)&&{endAdornment:h.jsxs(Tv,{className:Ft.endAdornment,ownerState:kt,children:[Se?h.jsx(kv,{...Ht(),"aria-label":y,title:y,ownerState:kt,...vr,className:He(Ft.clearIndicator,vr==null?void 0:vr.className),children:m}):null,ke?h.jsx(Mv,{...Tt(),disabled:z,"aria-label":ze?C:Ce,title:ze?C:Ce,ownerState:kt,...br,className:He(Ft.popupIndicator,br==null?void 0:br.className),children:Ae}):null]})}},inputProps:{className:Ft.input,disabled:z,readOnly:Oe,...Ye()}})}),Ue?h.jsx(Av,{as:tt,...gt,children:h.jsxs(Ev,{as:pe,...Be,children:[Y&&ve.length===0?h.jsx(Dv,{className:Ft.loading,ownerState:kt,children:ne}):null,ve.length===0&&!F&&!Y?h.jsx(Rv,{className:Ft.noOptions,ownerState:kt,role:"presentation",onMouseDown:wt=>{wt.preventDefault()},children:le}):null,ve.length>0?h.jsx(ro,{as:X,...fe,children:ve.map((wt,Tn)=>W?In({key:wt.key,group:wt.group,children:wt.options.map((kn,Ao)=>Ks(kn,wt.index+Ao))}):Ks(wt,Tn))}):null]})}):null]})}),Nv=at(h.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function zv(e){return Wt("MuiAvatar",e)}Zt("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const $v=e=>{const{classes:t,variant:o,colorDefault:s}=e;return Kt({root:["root",o,s&&"colorDefault"],img:["img"],fallback:["fallback"]},zv,t)},Bv=Le("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,t[o.variant],o.colorDefault&&t.colorDefault]}})(yt(({theme:e})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(e.vars||e).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:{color:(e.vars||e).palette.background.default,...e.vars?{backgroundColor:e.vars.palette.Avatar.defaultBg}:{backgroundColor:e.palette.grey[400],...e.applyStyles("dark",{backgroundColor:e.palette.grey[600]})}}}]}))),Hv=Le("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(e,t)=>t.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),jv=Le(Nv,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(e,t)=>t.fallback})({width:"75%",height:"75%"});function Gv({crossOrigin:e,referrerPolicy:t,src:o,srcSet:s}){const[i,a]=c.useState(!1);return c.useEffect(()=>{if(!o&&!s)return;a(!1);let l=!0;const d=new Image;return d.onload=()=>{l&&a("loaded")},d.onerror=()=>{l&&a("error")},d.crossOrigin=e,d.referrerPolicy=t,d.src=o,s&&(d.srcset=s),()=>{l=!1}},[e,t,o,s]),i}const Vv=c.forwardRef(function(t,o){const s=Ut({props:t,name:"MuiAvatar"}),{alt:i,children:a,className:l,component:d="div",slots:p={},slotProps:g={},imgProps:m,sizes:f,src:v,srcSet:y,variant:C="circular",...x}=s;let S=null;const _={...s,component:d,variant:C},P=Gv({...m,...typeof g.img=="function"?g.img(_):g.img,src:v,srcSet:y}),z=v||y,D=z&&P!=="error";_.colorDefault=!D,delete _.ownerState;const j=$v(_),[k,M]=Pt("img",{className:j.img,elementType:Hv,externalForwardedProps:{slots:p,slotProps:{img:{...m,...g.img}}},additionalProps:{alt:i,src:v,srcSet:y,sizes:f},ownerState:_});return D?S=h.jsx(k,{...M}):a||a===0?S=a:z&&i?S=i[0]:S=h.jsx(jv,{ownerState:_,className:j.fallback}),h.jsx(Bv,{as:d,className:He(j.root,l),ref:o,...x,ownerState:_,children:S})});function Wv(e){const{badgeContent:t,invisible:o=!1,max:s=99,showZero:i=!1}=e,a=ec({badgeContent:t,max:s});let l=o;o===!1&&t===0&&!i&&(l=!0);const{badgeContent:d,max:p=s}=l?a:e,g=d&&Number(d)>p?`${p}+`:d;return{badgeContent:d,invisible:l,max:p,displayValue:g}}function Zv(e){return Wt("MuiBadge",e)}const Ro=Zt("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),sl=10,il=4,Uv=e=>{const{color:t,anchorOrigin:o,invisible:s,overlap:i,variant:a,classes:l={}}=e,d={root:["root"],badge:["badge",a,s&&"invisible",`anchorOrigin${pt(o.vertical)}${pt(o.horizontal)}`,`anchorOrigin${pt(o.vertical)}${pt(o.horizontal)}${pt(i)}`,`overlap${pt(i)}`,t!=="default"&&`color${pt(t)}`]};return Kt(d,Zv,l)},Kv=Le("span",{name:"MuiBadge",slot:"Root",overridesResolver:(e,t)=>t.root})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),Jv=Le("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.badge,t[o.variant],t[`anchorOrigin${pt(o.anchorOrigin.vertical)}${pt(o.anchorOrigin.horizontal)}${pt(o.overlap)}`],o.color!=="default"&&t[`color${pt(o.color)}`],o.invisible&&t.invisible]}})(yt(({theme:e})=>({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(12),minWidth:sl*2,lineHeight:1,padding:"0 6px",height:sl*2,borderRadius:sl,zIndex:1,transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.enteringScreen}),variants:[...Object.entries(e.palette).filter(Ts(["contrastText"])).map(([t])=>({props:{color:t},style:{backgroundColor:(e.vars||e).palette[t].main,color:(e.vars||e).palette[t].contrastText}})),{props:{variant:"dot"},style:{borderRadius:il,height:il*2,minWidth:il*2,padding:0}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="rectangular",style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Ro.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="rectangular",style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Ro.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="rectangular",style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Ro.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="rectangular",style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Ro.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="circular",style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Ro.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="circular",style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Ro.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="circular",style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Ro.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="circular",style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Ro.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.leavingScreen})}}]})));function Uu(e){return{vertical:(e==null?void 0:e.vertical)??"top",horizontal:(e==null?void 0:e.horizontal)??"right"}}const rc=c.forwardRef(function(t,o){const s=Ut({props:t,name:"MuiBadge"}),{anchorOrigin:i,className:a,classes:l,component:d,components:p={},componentsProps:g={},children:m,overlap:f="rectangular",color:v="default",invisible:y=!1,max:C=99,badgeContent:x,slots:S,slotProps:_,showZero:P=!1,variant:z="standard",...D}=s,{badgeContent:j,invisible:k,max:M,displayValue:A}=Wv({max:C,invisible:y,badgeContent:x,showZero:P}),N=ec({anchorOrigin:Uu(i),color:v,overlap:f,variant:z,badgeContent:x}),F=k||j==null&&z!=="dot",{color:$=v,overlap:G=f,anchorOrigin:H,variant:T=z}=F?N:s,E=Uu(H),B=T!=="dot"?A:void 0,W={...s,badgeContent:j,invisible:F,max:M,displayValue:B,showZero:P,anchorOrigin:E,color:$,overlap:G,variant:T},R=Uv(W),V={slots:{root:(S==null?void 0:S.root)??p.Root,badge:(S==null?void 0:S.badge)??p.Badge},slotProps:{root:(_==null?void 0:_.root)??g.root,badge:(_==null?void 0:_.badge)??g.badge}},[Z,q]=Pt("root",{elementType:Kv,externalForwardedProps:{...V,...D},ownerState:W,className:He(R.root,a),ref:o,additionalProps:{as:d}}),[ee,X]=Pt("badge",{elementType:Jv,externalForwardedProps:V,ownerState:W,className:R.badge});return h.jsxs(Z,{...q,children:[m,h.jsx(ee,{...X,children:B})]})});function qv(e){return Wt("MuiCardActionArea",e)}const al=Zt("MuiCardActionArea",["root","focusVisible","focusHighlight"]),Xv=e=>{const{classes:t}=e;return Kt({root:["root"],focusHighlight:["focusHighlight"]},qv,t)},Yv=Le(Fs,{name:"MuiCardActionArea",slot:"Root",overridesResolver:(e,t)=>t.root})(yt(({theme:e})=>({display:"block",textAlign:"inherit",borderRadius:"inherit",width:"100%",[`&:hover .${al.focusHighlight}`]:{opacity:(e.vars||e).palette.action.hoverOpacity,"@media (hover: none)":{opacity:0}},[`&.${al.focusVisible} .${al.focusHighlight}`]:{opacity:(e.vars||e).palette.action.focusOpacity}}))),Qv=Le("span",{name:"MuiCardActionArea",slot:"FocusHighlight",overridesResolver:(e,t)=>t.focusHighlight})(yt(({theme:e})=>({overflow:"hidden",pointerEvents:"none",position:"absolute",top:0,right:0,bottom:0,left:0,borderRadius:"inherit",opacity:0,backgroundColor:"currentcolor",transition:e.transitions.create("opacity",{duration:e.transitions.duration.short})}))),eb=c.forwardRef(function(t,o){const s=Ut({props:t,name:"MuiCardActionArea"}),{children:i,className:a,focusVisibleClassName:l,slots:d={},slotProps:p={},...g}=s,m=s,f=Xv(m),v={slots:d,slotProps:p},[y,C]=Pt("root",{elementType:Yv,externalForwardedProps:{...v,...g},shouldForwardComponentProp:!0,ownerState:m,ref:o,className:He(f.root,a),additionalProps:{focusVisibleClassName:He(l,f.focusVisible)}}),[x,S]=Pt("focusHighlight",{elementType:Qv,externalForwardedProps:v,ownerState:m,ref:o,className:f.focusHighlight});return h.jsxs(y,{...C,children:[i,h.jsx(x,{...S})]})});function tb(e){return Wt("MuiCardActions",e)}Zt("MuiCardActions",["root","spacing"]);const nb=e=>{const{classes:t,disableSpacing:o}=e;return Kt({root:["root",!o&&"spacing"]},tb,t)},ob=Le("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,!o.disableSpacing&&t.spacing]}})({display:"flex",alignItems:"center",padding:8,variants:[{props:{disableSpacing:!1},style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),rb=c.forwardRef(function(t,o){const s=Ut({props:t,name:"MuiCardActions"}),{disableSpacing:i=!1,className:a,...l}=s,d={...s,disableSpacing:i},p=nb(d);return h.jsx(ob,{className:He(p.root,a),ownerState:d,ref:o,...l})});function sb(e){return Wt("PrivateSwitchBase",e)}Zt("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const ib=e=>{const{classes:t,checked:o,disabled:s,edge:i}=e,a={root:["root",o&&"checked",s&&"disabled",i&&`edge${pt(i)}`],input:["input"]};return Kt(a,sb,t)},ab=Le(Fs,{name:"MuiSwitchBase"})({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:e,ownerState:t})=>e==="start"&&t.size!=="small",style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:e,ownerState:t})=>e==="end"&&t.size!=="small",style:{marginRight:-12}}]}),lb=Le("input",{name:"MuiSwitchBase",shouldForwardProp:ea})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),Up=c.forwardRef(function(t,o){const{autoFocus:s,checked:i,checkedIcon:a,defaultChecked:l,disabled:d,disableFocusRipple:p=!1,edge:g=!1,icon:m,id:f,inputProps:v,inputRef:y,name:C,onBlur:x,onChange:S,onFocus:_,readOnly:P,required:z=!1,tabIndex:D,type:j,value:k,slots:M={},slotProps:A={},...N}=t,[F,$]=xi({controlled:i,default:!!l,name:"SwitchBase",state:"checked"}),G=Cp(),H=Y=>{_&&_(Y),G&&G.onFocus&&G.onFocus(Y)},T=Y=>{x&&x(Y),G&&G.onBlur&&G.onBlur(Y)},E=Y=>{if(Y.nativeEvent.defaultPrevented)return;const ne=Y.target.checked;$(ne),S&&S(Y,ne)};let B=d;G&&typeof B>"u"&&(B=G.disabled);const W=j==="checkbox"||j==="radio",R={...t,checked:F,disabled:B,disableFocusRipple:p,edge:g},V=ib(R),Z={slots:M,slotProps:{input:v,...A}},[q,ee]=Pt("root",{ref:o,elementType:ab,className:V.root,shouldForwardComponentProp:!0,externalForwardedProps:{...Z,component:"span",...N},getSlotProps:Y=>({...Y,onFocus:ne=>{var U;(U=Y.onFocus)==null||U.call(Y,ne),H(ne)},onBlur:ne=>{var U;(U=Y.onBlur)==null||U.call(Y,ne),T(ne)}}),ownerState:R,additionalProps:{centerRipple:!0,focusRipple:!p,disabled:B,role:void 0,tabIndex:null}}),[X,te]=Pt("input",{ref:y,elementType:lb,className:V.input,externalForwardedProps:Z,getSlotProps:Y=>({onChange:ne=>{var U;(U=Y.onChange)==null||U.call(Y,ne),E(ne)}}),ownerState:R,additionalProps:{autoFocus:s,checked:i,defaultChecked:l,disabled:B,id:W?f:void 0,name:C,readOnly:P,required:z,tabIndex:D,type:j,...j==="checkbox"&&k===void 0?{}:{value:k}}});return h.jsxs(q,{...ee,children:[h.jsx(X,{...te}),F?a:m]})}),cb=at(h.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),ub=at(h.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),db=at(h.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function pb(e){return Wt("MuiCheckbox",e)}const ll=Zt("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),hb=e=>{const{classes:t,indeterminate:o,color:s,size:i}=e,a={root:["root",o&&"indeterminate",`color${pt(s)}`,`size${pt(i)}`]},l=Kt(a,pb,t);return{...t,...l}},mb=Le(Up,{shouldForwardProp:e=>ea(e)||e==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.indeterminate&&t.indeterminate,t[`size${pt(o.size)}`],o.color!=="default"&&t[`color${pt(o.color)}`]]}})(yt(({theme:e})=>({color:(e.vars||e).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Me(e.palette.action.active,e.palette.action.hoverOpacity)}}},...Object.entries(e.palette).filter(Ts()).map(([t])=>({props:{color:t,disableRipple:!1},style:{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Me(e.palette[t].main,e.palette.action.hoverOpacity)}}})),...Object.entries(e.palette).filter(Ts()).map(([t])=>({props:{color:t},style:{[`&.${ll.checked}, &.${ll.indeterminate}`]:{color:(e.vars||e).palette[t].main},[`&.${ll.disabled}`]:{color:(e.vars||e).palette.action.disabled}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}))),fb=h.jsx(ub,{}),gb=h.jsx(cb,{}),vb=h.jsx(db,{}),Sl=c.forwardRef(function(t,o){const s=Ut({props:t,name:"MuiCheckbox"}),{checkedIcon:i=fb,color:a="primary",icon:l=gb,indeterminate:d=!1,indeterminateIcon:p=vb,inputProps:g,size:m="medium",disableRipple:f=!1,className:v,slots:y={},slotProps:C={},...x}=s,S=d?p:l,_=d?p:i,P={...s,disableRipple:f,color:a,indeterminate:d,size:m},z=hb(P),D=C.input??g,[j,k]=Pt("root",{ref:o,elementType:mb,className:He(z.root,v),shouldForwardComponentProp:!0,externalForwardedProps:{slots:y,slotProps:C,...x},ownerState:P,additionalProps:{type:"checkbox",icon:c.cloneElement(S,{fontSize:S.props.fontSize??m}),checkedIcon:c.cloneElement(_,{fontSize:_.props.fontSize??m}),disableRipple:f,slots:y,slotProps:{input:xp(typeof D=="function"?D(P):D,{"data-indeterminate":d})}}});return h.jsx(j,{...k,classes:z})});function Ku(e){return e.substring(2).toLowerCase()}function bb(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}function sc(e){const{children:t,disableReactTree:o=!1,mouseEvent:s="onClick",onClickAway:i,touchEvent:a="onTouchEnd"}=e,l=c.useRef(!1),d=c.useRef(null),p=c.useRef(!1),g=c.useRef(!1);c.useEffect(()=>(setTimeout(()=>{p.current=!0},0),()=>{p.current=!1}),[]);const m=ta(wp(t),d),f=jo(C=>{const x=g.current;g.current=!1;const S=wi(d.current);if(!p.current||!d.current||"clientX"in C&&bb(C,S))return;if(l.current){l.current=!1;return}let _;C.composedPath?_=C.composedPath().includes(d.current):_=!S.documentElement.contains(C.target)||d.current.contains(C.target),!_&&(o||!x)&&i(C)}),v=C=>x=>{g.current=!0;const S=t.props[C];S&&S(x)},y={ref:m};return a!==!1&&(y[a]=v(a)),c.useEffect(()=>{if(a!==!1){const C=Ku(a),x=wi(d.current),S=()=>{l.current=!0};return x.addEventListener(C,f),x.addEventListener("touchmove",S),()=>{x.removeEventListener(C,f),x.removeEventListener("touchmove",S)}}},[f,a]),s!==!1&&(y[s]=v(s)),c.useEffect(()=>{if(s!==!1){const C=Ku(s),x=wi(d.current);return x.addEventListener(C,f),()=>{x.removeEventListener(C,f)}}},[f,s]),c.cloneElement(t,y)}const _l=typeof Sp({})=="function",yb=(e,t)=>({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%",...t&&!e.vars&&{colorScheme:e.palette.mode}}),Cb=e=>({color:(e.vars||e).palette.text.primary,...e.typography.body1,backgroundColor:(e.vars||e).palette.background.default,"@media print":{backgroundColor:(e.vars||e).palette.common.white}}),Kp=(e,t=!1)=>{var a,l;const o={};t&&e.colorSchemes&&typeof e.getColorSchemeSelector=="function"&&Object.entries(e.colorSchemes).forEach(([d,p])=>{var m,f;const g=e.getColorSchemeSelector(d);g.startsWith("@")?o[g]={":root":{colorScheme:(m=p.palette)==null?void 0:m.mode}}:o[g.replace(/\s*&/,"")]={colorScheme:(f=p.palette)==null?void 0:f.mode}});let s={html:yb(e,t),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:{margin:0,...Cb(e),"&::backdrop":{backgroundColor:(e.vars||e).palette.background.default}},...o};const i=(l=(a=e.components)==null?void 0:a.MuiCssBaseline)==null?void 0:l.styleOverrides;return i&&(s=[s,i]),s},_i="mui-ecs",xb=e=>{const t=Kp(e,!1),o=Array.isArray(t)?t[0]:t;return!e.vars&&o&&(o.html[`:root:has(${_i})`]={colorScheme:e.palette.mode}),e.colorSchemes&&Object.entries(e.colorSchemes).forEach(([s,i])=>{var l,d;const a=e.getColorSchemeSelector(s);a.startsWith("@")?o[a]={[`:root:not(:has(.${_i}))`]:{colorScheme:(l=i.palette)==null?void 0:l.mode}}:o[a.replace(/\s*&/,"")]={[`&:not(:has(.${_i}))`]:{colorScheme:(d=i.palette)==null?void 0:d.mode}}}),t},wb=Sp(_l?({theme:e,enableColorScheme:t})=>Kp(e,t):({theme:e})=>xb(e));function Sb(e){const t=Ut({props:e,name:"MuiCssBaseline"}),{children:o,enableColorScheme:s=!1}=t;return h.jsxs(c.Fragment,{children:[_l&&h.jsx(wb,{enableColorScheme:s}),!_l&&!s&&h.jsx("span",{className:_i,style:{display:"none"}}),o]})}function _b(e){return Wt("MuiDivider",e)}const Ju=Zt("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),Pb=e=>{const{absolute:t,children:o,classes:s,flexItem:i,light:a,orientation:l,textAlign:d,variant:p}=e;return Kt({root:["root",t&&"absolute",p,a&&"light",l==="vertical"&&"vertical",i&&"flexItem",o&&"withChildren",o&&l==="vertical"&&"withChildrenVertical",d==="right"&&l!=="vertical"&&"textAlignRight",d==="left"&&l!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",l==="vertical"&&"wrapperVertical"]},_b,s)},Ib=Le("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.absolute&&t.absolute,t[o.variant],o.light&&t.light,o.orientation==="vertical"&&t.vertical,o.flexItem&&t.flexItem,o.children&&t.withChildren,o.children&&o.orientation==="vertical"&&t.withChildrenVertical,o.textAlign==="right"&&o.orientation!=="vertical"&&t.textAlignRight,o.textAlign==="left"&&o.orientation!=="vertical"&&t.textAlignLeft]}})(yt(({theme:e})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(e.vars||e).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:e.vars?`rgba(${e.vars.palette.dividerChannel} / 0.08)`:Me(e.palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:e.spacing(2),marginRight:e.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:e.spacing(1),marginBottom:e.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:t})=>!!t.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:t})=>t.children&&t.orientation!=="vertical",style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(e.vars||e).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:t})=>t.orientation==="vertical"&&t.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(e.vars||e).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:t})=>t.textAlign==="right"&&t.orientation!=="vertical",style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:t})=>t.textAlign==="left"&&t.orientation!=="vertical",style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),Tb=Le("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.wrapper,o.orientation==="vertical"&&t.wrapperVertical]}})(yt(({theme:e})=>({display:"inline-block",paddingLeft:`calc(${e.spacing(1)} * 1.2)`,paddingRight:`calc(${e.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${e.spacing(1)} * 1.2)`,paddingBottom:`calc(${e.spacing(1)} * 1.2)`}}]}))),ur=c.forwardRef(function(t,o){const s=Ut({props:t,name:"MuiDivider"}),{absolute:i=!1,children:a,className:l,orientation:d="horizontal",component:p=a||d==="vertical"?"div":"hr",flexItem:g=!1,light:m=!1,role:f=p!=="hr"?"separator":void 0,textAlign:v="center",variant:y="fullWidth",...C}=s,x={...s,absolute:i,component:p,flexItem:g,light:m,orientation:d,role:f,textAlign:v,variant:y},S=Pb(x);return h.jsx(Ib,{as:p,className:He(S.root,l),role:f,ref:o,ownerState:x,"aria-orientation":f==="separator"&&(p!=="hr"||d==="vertical")?d:void 0,...C,children:a?h.jsx(Tb,{className:S.wrapper,ownerState:x,children:a}):null})});ur&&(ur.muiSkipListHighlight=!0);function kb(e,t,o){const s=t.getBoundingClientRect(),i=o&&o.getBoundingClientRect(),a=na(t);let l;if(t.fakeTransform)l=t.fakeTransform;else{const g=a.getComputedStyle(t);l=g.getPropertyValue("-webkit-transform")||g.getPropertyValue("transform")}let d=0,p=0;if(l&&l!=="none"&&typeof l=="string"){const g=l.split("(")[1].split(")")[0].split(",");d=parseInt(g[4],10),p=parseInt(g[5],10)}return e==="left"?i?`translateX(${i.right+d-s.left}px)`:`translateX(${a.innerWidth+d-s.left}px)`:e==="right"?i?`translateX(-${s.right-i.left-d}px)`:`translateX(-${s.left+s.width-d}px)`:e==="up"?i?`translateY(${i.bottom+p-s.top}px)`:`translateY(${a.innerHeight+p-s.top}px)`:i?`translateY(-${s.top-i.top+s.height-p}px)`:`translateY(-${s.top+s.height-p}px)`}function Mb(e){return typeof e=="function"?e():e}function mi(e,t,o){const s=Mb(o),i=kb(e,t,s);i&&(t.style.webkitTransform=i,t.style.transform=i)}const Ab=c.forwardRef(function(t,o){const s=zt(),i={enter:s.transitions.easing.easeOut,exit:s.transitions.easing.sharp},a={enter:s.transitions.duration.enteringScreen,exit:s.transitions.duration.leavingScreen},{addEndListener:l,appear:d=!0,children:p,container:g,direction:m="down",easing:f=i,in:v,onEnter:y,onEntered:C,onEntering:x,onExit:S,onExited:_,onExiting:P,style:z,timeout:D=a,TransitionComponent:j=hg,...k}=t,M=c.useRef(null),A=ta(wp(p),M,o),N=R=>V=>{R&&(V===void 0?R(M.current):R(M.current,V))},F=N((R,V)=>{mi(m,R,g),mg(R),y&&y(R,V)}),$=N((R,V)=>{const Z=Du({timeout:D,style:z,easing:f},{mode:"enter"});R.style.webkitTransition=s.transitions.create("-webkit-transform",{...Z}),R.style.transition=s.transitions.create("transform",{...Z}),R.style.webkitTransform="none",R.style.transform="none",x&&x(R,V)}),G=N(C),H=N(P),T=N(R=>{const V=Du({timeout:D,style:z,easing:f},{mode:"exit"});R.style.webkitTransition=s.transitions.create("-webkit-transform",V),R.style.transition=s.transitions.create("transform",V),mi(m,R,g),S&&S(R)}),E=N(R=>{R.style.webkitTransition="",R.style.transition="",_&&_(R)}),B=R=>{l&&l(M.current,R)},W=c.useCallback(()=>{M.current&&mi(m,M.current,g)},[m,g]);return c.useEffect(()=>{if(v||m==="down"||m==="right")return;const R=Wl(()=>{M.current&&mi(m,M.current,g)}),V=na(M.current);return V.addEventListener("resize",R),()=>{R.clear(),V.removeEventListener("resize",R)}},[m,v,g]),c.useEffect(()=>{v||W()},[v,W]),h.jsx(j,{nodeRef:M,onEnter:F,onEntered:G,onEntering:$,onExit:T,onExited:E,onExiting:H,addEndListener:B,appear:d,in:v,timeout:D,...k,children:(R,{ownerState:V,...Z})=>c.cloneElement(p,{ref:A,style:{visibility:R==="exited"&&!v?"hidden":void 0,...z,...p.props.style},...Z})})});function Eb(e){return Wt("MuiDrawer",e)}Zt("MuiDrawer",["root","docked","paper","anchorLeft","anchorRight","anchorTop","anchorBottom","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const Jp=(e,t)=>{const{ownerState:o}=e;return[t.root,(o.variant==="permanent"||o.variant==="persistent")&&t.docked,t.modal]},Db=e=>{const{classes:t,anchor:o,variant:s}=e,i={root:["root",`anchor${pt(o)}`],docked:[(s==="permanent"||s==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${pt(o)}`,s!=="temporary"&&`paperAnchorDocked${pt(o)}`]};return Kt(i,Eb,t)},Rb=Le(fg,{name:"MuiDrawer",slot:"Root",overridesResolver:Jp})(yt(({theme:e})=>({zIndex:(e.vars||e).zIndex.drawer}))),Lb=Le("div",{shouldForwardProp:ea,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:Jp})({flex:"0 0 auto"}),Fb=Le(Nt,{name:"MuiDrawer",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.paper,t[`paperAnchor${pt(o.anchor)}`],o.variant!=="temporary"&&t[`paperAnchorDocked${pt(o.anchor)}`]]}})(yt(({theme:e})=>({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(e.vars||e).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0,variants:[{props:{anchor:"left"},style:{left:0}},{props:{anchor:"top"},style:{top:0,left:0,right:0,height:"auto",maxHeight:"100%"}},{props:{anchor:"right"},style:{right:0}},{props:{anchor:"bottom"},style:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"}},{props:({ownerState:t})=>t.anchor==="left"&&t.variant!=="temporary",style:{borderRight:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:t})=>t.anchor==="top"&&t.variant!=="temporary",style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:t})=>t.anchor==="right"&&t.variant!=="temporary",style:{borderLeft:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:t})=>t.anchor==="bottom"&&t.variant!=="temporary",style:{borderTop:`1px solid ${(e.vars||e).palette.divider}`}}]}))),qp={left:"right",right:"left",top:"down",bottom:"up"};function Ob(e){return["left","right"].includes(e)}function Nb({direction:e},t){return e==="rtl"&&Ob(t)?qp[t]:t}const zb=c.forwardRef(function(t,o){const s=Ut({props:t,name:"MuiDrawer"}),i=zt(),a=oa(),l={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{anchor:d="left",BackdropProps:p,children:g,className:m,elevation:f=16,hideBackdrop:v=!1,ModalProps:{BackdropProps:y,...C}={},onClose:x,open:S=!1,PaperProps:_={},SlideProps:P,TransitionComponent:z,transitionDuration:D=l,variant:j="temporary",slots:k={},slotProps:M={},...A}=s,N=c.useRef(!1);c.useEffect(()=>{N.current=!0},[]);const F=Nb({direction:a?"rtl":"ltr"},d),G={...s,anchor:d,elevation:f,open:S,variant:j,...A},H=Db(G),T={slots:{transition:z,...k},slotProps:{paper:_,transition:P,...M,backdrop:xp(M.backdrop||{...p,...y},{transitionDuration:D})}},[E,B]=Pt("root",{ref:o,elementType:Rb,className:He(H.root,H.modal,m),shouldForwardComponentProp:!0,ownerState:G,externalForwardedProps:{...T,...A,...C},additionalProps:{open:S,onClose:x,hideBackdrop:v,slots:{backdrop:T.slots.backdrop},slotProps:{backdrop:T.slotProps.backdrop}}}),[W,R]=Pt("paper",{elementType:Fb,shouldForwardComponentProp:!0,className:He(H.paper,_.className),ownerState:G,externalForwardedProps:T,additionalProps:{elevation:j==="temporary"?f:0,square:!0}}),[V,Z]=Pt("docked",{elementType:Lb,ref:o,className:He(H.root,H.docked,m),ownerState:G,externalForwardedProps:T,additionalProps:A}),[q,ee]=Pt("transition",{elementType:Ab,ownerState:G,externalForwardedProps:T,additionalProps:{in:S,direction:qp[F],timeout:D,appear:N.current}}),X=h.jsx(W,{...R,children:g});if(j==="permanent")return h.jsx(V,{...Z,children:X});const te=h.jsx(q,{...ee,children:X});return j==="persistent"?h.jsx(V,{...Z,children:te}):h.jsx(E,{...B,children:te})});function $b(e){return Wt("MuiFormControlLabel",e)}const gs=Zt("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),Bb=e=>{const{classes:t,disabled:o,labelPlacement:s,error:i,required:a}=e,l={root:["root",o&&"disabled",`labelPlacement${pt(s)}`,i&&"error",a&&"required"],label:["label",o&&"disabled"],asterisk:["asterisk",i&&"error"]};return Kt(l,$b,t)},Hb=Le("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[{[`& .${gs.label}`]:t.label},t.root,t[`labelPlacement${pt(o.labelPlacement)}`]]}})(yt(({theme:e})=>({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${gs.disabled}`]:{cursor:"default"},[`& .${gs.label}`]:{[`&.${gs.disabled}`]:{color:(e.vars||e).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:({labelPlacement:t})=>t==="start"||t==="top"||t==="bottom",style:{marginLeft:16}}]}))),jb=Le("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(yt(({theme:e})=>({[`&.${gs.error}`]:{color:(e.vars||e).palette.error.main}}))),Gb=c.forwardRef(function(t,o){const s=Ut({props:t,name:"MuiFormControlLabel"}),{checked:i,className:a,componentsProps:l={},control:d,disabled:p,disableTypography:g,inputRef:m,label:f,labelPlacement:v="end",name:y,onChange:C,required:x,slots:S={},slotProps:_={},value:P,...z}=s,D=Cp(),j=p??d.props.disabled??(D==null?void 0:D.disabled),k=x??d.props.required,M={disabled:j,required:k};["checked","name","onChange","value","inputRef"].forEach(E=>{typeof d.props[E]>"u"&&typeof s[E]<"u"&&(M[E]=s[E])});const A=gg({props:s,muiFormControl:D,states:["error"]}),N={...s,disabled:j,labelPlacement:v,required:k,error:A.error},F=Bb(N),$={slots:S,slotProps:{...l,..._}},[G,H]=Pt("typography",{elementType:bt,externalForwardedProps:$,ownerState:N});let T=f;return T!=null&&T.type!==bt&&!g&&(T=h.jsx(G,{component:"span",...H,className:He(F.label,H==null?void 0:H.className),children:T})),h.jsxs(Hb,{className:He(F.root,a),ownerState:N,ref:o,...z,children:[c.cloneElement(d,M),k?h.jsxs("div",{children:[T,h.jsxs(jb,{ownerState:N,"aria-hidden":!0,className:F.asterisk,children:["â€‰","*"]})]}):T]})});function Vb(e){return Wt("MuiListItem",e)}Zt("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);function Wb(e){return Wt("MuiListItemSecondaryAction",e)}Zt("MuiListItemSecondaryAction",["root","disableGutters"]);const Zb=e=>{const{disableGutters:t,classes:o}=e;return Kt({root:["root",t&&"disableGutters"]},Wb,o)},Ub=Le("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.disableGutters&&t.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:({ownerState:e})=>e.disableGutters,style:{right:0}}]}),Xp=c.forwardRef(function(t,o){const s=Ut({props:t,name:"MuiListItemSecondaryAction"}),{className:i,...a}=s,l=c.useContext(rr),d={...s,disableGutters:l.disableGutters},p=Zb(d);return h.jsx(Ub,{className:He(p.root,i),ownerState:d,ref:o,...a})});Xp.muiName="ListItemSecondaryAction";const Kb=(e,t)=>{const{ownerState:o}=e;return[t.root,o.dense&&t.dense,o.alignItems==="flex-start"&&t.alignItemsFlexStart,o.divider&&t.divider,!o.disableGutters&&t.gutters,!o.disablePadding&&t.padding,o.hasSecondaryAction&&t.secondaryAction]},Jb=e=>{const{alignItems:t,classes:o,dense:s,disableGutters:i,disablePadding:a,divider:l,hasSecondaryAction:d}=e;return Kt({root:["root",s&&"dense",!i&&"gutters",!a&&"padding",l&&"divider",t==="flex-start"&&"alignItemsFlexStart",d&&"secondaryAction"],container:["container"]},Vb,o)},qb=Le("div",{name:"MuiListItem",slot:"Root",overridesResolver:Kb})(yt(({theme:e})=>({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:({ownerState:t})=>!t.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:t})=>!t.disablePadding&&t.dense,style:{paddingTop:4,paddingBottom:4}},{props:({ownerState:t})=>!t.disablePadding&&!t.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:t})=>!t.disablePadding&&!!t.secondaryAction,style:{paddingRight:48}},{props:({ownerState:t})=>!!t.secondaryAction,style:{[`& > .${bg.root}`]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:t})=>t.divider,style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:t})=>t.button,style:{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:({ownerState:t})=>t.hasSecondaryAction,style:{paddingRight:48}}]}))),Xb=Le("li",{name:"MuiListItem",slot:"Container",overridesResolver:(e,t)=>t.container})({position:"relative"}),Fi=c.forwardRef(function(t,o){const s=Ut({props:t,name:"MuiListItem"}),{alignItems:i="center",children:a,className:l,component:d,components:p={},componentsProps:g={},ContainerComponent:m="li",ContainerProps:{className:f,...v}={},dense:y=!1,disableGutters:C=!1,disablePadding:x=!1,divider:S=!1,secondaryAction:_,slotProps:P={},slots:z={},...D}=s,j=c.useContext(rr),k=c.useMemo(()=>({dense:y||j.dense||!1,alignItems:i,disableGutters:C}),[i,j.dense,y,C]),M=c.useRef(null),A=c.Children.toArray(a),N=A.length&&vg(A[A.length-1],["ListItemSecondaryAction"]),F={...s,alignItems:i,dense:k.dense,disableGutters:C,disablePadding:x,divider:S,hasSecondaryAction:N},$=Jb(F),G=ta(M,o),H=z.root||p.Root||qb,T=P.root||g.root||{},E={className:He($.root,T.className,l),...D};let B=d||"li";return N?(B=!E.component&&!d?"div":B,m==="li"&&(B==="li"?B="div":E.component==="li"&&(E.component="div")),h.jsx(rr.Provider,{value:k,children:h.jsxs(Xb,{as:m,className:He($.container,f),ref:G,ownerState:F,...v,children:[h.jsx(H,{...T,...!Ru(H)&&{as:B,ownerState:{...F,...T.ownerState}},...E,children:A}),A.pop()]})})):h.jsx(rr.Provider,{value:k,children:h.jsxs(H,{...T,as:B,ref:G,...!Ru(H)&&{ownerState:{...F,...T.ownerState}},...E,children:[A,_&&h.jsx(Xp,{children:_})]})})});function Yb(e){return Wt("MuiListItemIcon",e)}const qu=Zt("MuiListItemIcon",["root","alignItemsFlexStart"]),Qb=e=>{const{alignItems:t,classes:o}=e;return Kt({root:["root",t==="flex-start"&&"alignItemsFlexStart"]},Yb,o)},ey=Le("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.alignItems==="flex-start"&&t.alignItemsFlexStart]}})(yt(({theme:e})=>({minWidth:56,color:(e.vars||e).palette.action.active,flexShrink:0,display:"inline-flex",variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}))),uo=c.forwardRef(function(t,o){const s=Ut({props:t,name:"MuiListItemIcon"}),{className:i,...a}=s,l=c.useContext(rr),d={...s,alignItems:l.alignItems},p=Qb(d);return h.jsx(ey,{className:He(p.root,i),ownerState:d,ref:o,...a})});function ty(e){return Wt("MuiMenuItem",e)}const ds=Zt("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),ny=(e,t)=>{const{ownerState:o}=e;return[t.root,o.dense&&t.dense,o.divider&&t.divider,!o.disableGutters&&t.gutters]},oy=e=>{const{disabled:t,dense:o,divider:s,disableGutters:i,selected:a,classes:l}=e,p=Kt({root:["root",o&&"dense",t&&"disabled",!i&&"gutters",s&&"divider",a&&"selected"]},ty,l);return{...l,...p}},ry=Le(Fs,{shouldForwardProp:e=>ea(e)||e==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:ny})(yt(({theme:e})=>({...e.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${ds.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Me(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${ds.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Me(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${ds.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Me(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Me(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${ds.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${ds.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${Ju.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${Ju.inset}`]:{marginLeft:52},[`& .${Lu.root}`]:{marginTop:0,marginBottom:0},[`& .${Lu.inset}`]:{paddingLeft:36},[`& .${qu.root}`]:{minWidth:36},variants:[{props:({ownerState:t})=>!t.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:t})=>t.divider,style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:t})=>!t.dense,style:{[e.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:t})=>t.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...e.typography.body2,[`& .${qu.root} svg`]:{fontSize:"1.25rem"}}}]}))),hn=c.forwardRef(function(t,o){const s=Ut({props:t,name:"MuiMenuItem"}),{autoFocus:i=!1,component:a="li",dense:l=!1,divider:d=!1,disableGutters:p=!1,focusVisibleClassName:g,role:m="menuitem",tabIndex:f,className:v,...y}=s,C=c.useContext(rr),x=c.useMemo(()=>({dense:l||C.dense||!1,disableGutters:p}),[C.dense,l,p]),S=c.useRef(null);Qi(()=>{i&&S.current&&S.current.focus()},[i]);const _={...s,dense:x.dense,divider:d,disableGutters:p},P=oy(s),z=ta(S,o);let D;return s.disabled||(D=f!==void 0?f:-1),h.jsx(rr.Provider,{value:x,children:h.jsx(ry,{ref:z,role:m,tabIndex:D,component:a,focusVisibleClassName:He(P.focusVisible,g),className:He(P.root,v),...y,ownerState:_,classes:P})})}),sy=at(h.jsx("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),"FirstPage"),iy=at(h.jsx("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),"LastPage");function ay(e){return Wt("MuiSkeleton",e)}Zt("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const ly=e=>{const{classes:t,variant:o,animation:s,hasChildren:i,width:a,height:l}=e;return Kt({root:["root",o,s,i&&"withChildren",i&&!a&&"fitContent",i&&!l&&"heightAuto"]},ay,t)},Pl=Pp`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`,Il=Pp`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`,cy=typeof Pl!="string"?_p`
        animation: ${Pl} 2s ease-in-out 0.5s infinite;
      `:null,uy=typeof Il!="string"?_p`
        &::after {
          animation: ${Il} 2s linear 0.5s infinite;
        }
      `:null,dy=Le("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,t[o.variant],o.animation!==!1&&t[o.animation],o.hasChildren&&t.withChildren,o.hasChildren&&!o.width&&t.fitContent,o.hasChildren&&!o.height&&t.heightAuto]}})(yt(({theme:e})=>{const t=iv(e.shape.borderRadius)||"px",o=av(e.shape.borderRadius);return{display:"block",backgroundColor:e.vars?e.vars.palette.Skeleton.bg:Me(e.palette.text.primary,e.palette.mode==="light"?.11:.13),height:"1.2em",variants:[{props:{variant:"text"},style:{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${o}${t}/${Math.round(o/.6*10)/10}${t}`,"&:empty:before":{content:'"\\00a0"'}}},{props:{variant:"circular"},style:{borderRadius:"50%"}},{props:{variant:"rounded"},style:{borderRadius:(e.vars||e).shape.borderRadius}},{props:({ownerState:s})=>s.hasChildren,style:{"& > *":{visibility:"hidden"}}},{props:({ownerState:s})=>s.hasChildren&&!s.width,style:{maxWidth:"fit-content"}},{props:({ownerState:s})=>s.hasChildren&&!s.height,style:{height:"auto"}},{props:{animation:"pulse"},style:cy||{animation:`${Pl} 2s ease-in-out 0.5s infinite`}},{props:{animation:"wave"},style:{position:"relative",overflow:"hidden",WebkitMaskImage:"-webkit-radial-gradient(white, black)","&::after":{background:`linear-gradient(
                90deg,
                transparent,
                ${(e.vars||e).palette.action.hover},
                transparent
              )`,content:'""',position:"absolute",transform:"translateX(-100%)",bottom:0,left:0,right:0,top:0}}},{props:{animation:"wave"},style:uy||{"&::after":{animation:`${Il} 2s linear 0.5s infinite`}}}]}})),py=c.forwardRef(function(t,o){const s=Ut({props:t,name:"MuiSkeleton"}),{animation:i="pulse",className:a,component:l="span",height:d,style:p,variant:g="text",width:m,...f}=s,v={...s,animation:i,component:l,variant:g,hasChildren:!!f.children},y=ly(v);return h.jsx(dy,{as:l,ref:o,className:He(y.root,a),ownerState:v,...f,style:{width:m,height:d,...p}})});function hy(e){return Wt("MuiSwitch",e)}const xn=Zt("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),my=e=>{const{classes:t,edge:o,size:s,color:i,checked:a,disabled:l}=e,d={root:["root",o&&`edge${pt(o)}`,`size${pt(s)}`],switchBase:["switchBase",`color${pt(i)}`,a&&"checked",l&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},p=Kt(d,hy,t);return{...t,...p}},fy=Le("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.edge&&t[`edge${pt(o.edge)}`],t[`size${pt(o.size)}`]]}})({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${xn.thumb}`]:{width:16,height:16},[`& .${xn.switchBase}`]:{padding:4,[`&.${xn.checked}`]:{transform:"translateX(16px)"}}}}]}),gy=Le(Up,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.switchBase,{[`& .${xn.input}`]:t.input},o.color!=="default"&&t[`color${pt(o.color)}`]]}})(yt(({theme:e})=>({position:"absolute",top:0,left:0,zIndex:1,color:e.vars?e.vars.palette.Switch.defaultColor:`${e.palette.mode==="light"?e.palette.common.white:e.palette.grey[300]}`,transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),[`&.${xn.checked}`]:{transform:"translateX(20px)"},[`&.${xn.disabled}`]:{color:e.vars?e.vars.palette.Switch.defaultDisabledColor:`${e.palette.mode==="light"?e.palette.grey[100]:e.palette.grey[600]}`},[`&.${xn.checked} + .${xn.track}`]:{opacity:.5},[`&.${xn.disabled} + .${xn.track}`]:{opacity:e.vars?e.vars.opacity.switchTrackDisabled:`${e.palette.mode==="light"?.12:.2}`},[`& .${xn.input}`]:{left:"-100%",width:"300%"}})),yt(({theme:e})=>({"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Me(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(e.palette).filter(Ts(["light"])).map(([t])=>({props:{color:t},style:{[`&.${xn.checked}`]:{color:(e.vars||e).palette[t].main,"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Me(e.palette[t].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${xn.disabled}`]:{color:e.vars?e.vars.palette.Switch[`${t}DisabledColor`]:`${e.palette.mode==="light"?Ip(e.palette[t].main,.62):Tp(e.palette[t].main,.55)}`}},[`&.${xn.checked} + .${xn.track}`]:{backgroundColor:(e.vars||e).palette[t].main}}}))]}))),vy=Le("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(e,t)=>t.track})(yt(({theme:e})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:e.vars?e.vars.palette.common.onBackground:`${e.palette.mode==="light"?e.palette.common.black:e.palette.common.white}`,opacity:e.vars?e.vars.opacity.switchTrack:`${e.palette.mode==="light"?.38:.3}`}))),by=Le("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(e,t)=>t.thumb})(yt(({theme:e})=>({boxShadow:(e.vars||e).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}))),yy=c.forwardRef(function(t,o){const s=Ut({props:t,name:"MuiSwitch"}),{className:i,color:a="primary",edge:l=!1,size:d="medium",sx:p,slots:g={},slotProps:m={},...f}=s,v={...s,color:a,edge:l,size:d},y=my(v),C={slots:g,slotProps:m},[x,S]=Pt("root",{className:He(y.root,i),elementType:fy,externalForwardedProps:C,ownerState:v,additionalProps:{sx:p}}),[_,P]=Pt("thumb",{className:y.thumb,elementType:by,externalForwardedProps:C,ownerState:v}),z=h.jsx(_,{...P}),[D,j]=Pt("track",{className:y.track,elementType:vy,externalForwardedProps:C,ownerState:v});return h.jsxs(x,{...S,children:[h.jsx(gy,{type:"checkbox",icon:z,checkedIcon:z,ref:o,ownerState:v,...f,classes:{...y,root:y.switchBase},slots:{...g.switchBase&&{root:g.switchBase},...g.input&&{input:g.input}},slotProps:{...m.switchBase&&{root:typeof m.switchBase=="function"?m.switchBase(v):m.switchBase},...m.input&&{input:typeof m.input=="function"?m.input(v):m.input}}}),h.jsx(D,{...j})]})});function Cy(e){return Wt("MuiTab",e)}const Hn=Zt("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper","icon"]),xy=e=>{const{classes:t,textColor:o,fullWidth:s,wrapped:i,icon:a,label:l,selected:d,disabled:p}=e,g={root:["root",a&&l&&"labelIcon",`textColor${pt(o)}`,s&&"fullWidth",i&&"wrapped",d&&"selected",p&&"disabled"],icon:["iconWrapper","icon"]};return Kt(g,Cy,t)},wy=Le(Fs,{name:"MuiTab",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.label&&o.icon&&t.labelIcon,t[`textColor${pt(o.textColor)}`],o.fullWidth&&t.fullWidth,o.wrapped&&t.wrapped,{[`& .${Hn.iconWrapper}`]:t.iconWrapper},{[`& .${Hn.icon}`]:t.icon}]}})(yt(({theme:e})=>({...e.typography.button,maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center",lineHeight:1.25,variants:[{props:({ownerState:t})=>t.label&&(t.iconPosition==="top"||t.iconPosition==="bottom"),style:{flexDirection:"column"}},{props:({ownerState:t})=>t.label&&t.iconPosition!=="top"&&t.iconPosition!=="bottom",style:{flexDirection:"row"}},{props:({ownerState:t})=>t.icon&&t.label,style:{minHeight:72,paddingTop:9,paddingBottom:9}},{props:({ownerState:t,iconPosition:o})=>t.icon&&t.label&&o==="top",style:{[`& > .${Hn.icon}`]:{marginBottom:6}}},{props:({ownerState:t,iconPosition:o})=>t.icon&&t.label&&o==="bottom",style:{[`& > .${Hn.icon}`]:{marginTop:6}}},{props:({ownerState:t,iconPosition:o})=>t.icon&&t.label&&o==="start",style:{[`& > .${Hn.icon}`]:{marginRight:e.spacing(1)}}},{props:({ownerState:t,iconPosition:o})=>t.icon&&t.label&&o==="end",style:{[`& > .${Hn.icon}`]:{marginLeft:e.spacing(1)}}},{props:{textColor:"inherit"},style:{color:"inherit",opacity:.6,[`&.${Hn.selected}`]:{opacity:1},[`&.${Hn.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}}},{props:{textColor:"primary"},style:{color:(e.vars||e).palette.text.secondary,[`&.${Hn.selected}`]:{color:(e.vars||e).palette.primary.main},[`&.${Hn.disabled}`]:{color:(e.vars||e).palette.text.disabled}}},{props:{textColor:"secondary"},style:{color:(e.vars||e).palette.text.secondary,[`&.${Hn.selected}`]:{color:(e.vars||e).palette.secondary.main},[`&.${Hn.disabled}`]:{color:(e.vars||e).palette.text.disabled}}},{props:({ownerState:t})=>t.fullWidth,style:{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"}},{props:({ownerState:t})=>t.wrapped,style:{fontSize:e.typography.pxToRem(12)}}]}))),Xu=c.forwardRef(function(t,o){const s=Ut({props:t,name:"MuiTab"}),{className:i,disabled:a=!1,disableFocusRipple:l=!1,fullWidth:d,icon:p,iconPosition:g="top",indicator:m,label:f,onChange:v,onClick:y,onFocus:C,selected:x,selectionFollowsFocus:S,textColor:_="inherit",value:P,wrapped:z=!1,...D}=s,j={...s,disabled:a,disableFocusRipple:l,selected:x,icon:!!p,iconPosition:g,label:!!f,fullWidth:d,textColor:_,wrapped:z},k=xy(j),M=p&&f&&c.isValidElement(p)?c.cloneElement(p,{className:He(k.icon,p.props.className)}):p,A=F=>{!x&&v&&v(F,P),y&&y(F)},N=F=>{S&&!x&&v&&v(F,P),C&&C(F)};return h.jsxs(wy,{focusRipple:!l,className:He(k.root,i),ref:o,role:"tab","aria-selected":x,disabled:a,onClick:A,onFocus:N,ownerState:j,tabIndex:x?0:-1,...D,children:[g==="top"||g==="start"?h.jsxs(c.Fragment,{children:[M,f]}):h.jsxs(c.Fragment,{children:[f,M]}),m]})});function Sy(e){return Wt("MuiToolbar",e)}Zt("MuiToolbar",["root","gutters","regular","dense"]);const _y=e=>{const{classes:t,disableGutters:o,variant:s}=e;return Kt({root:["root",!o&&"gutters",s]},Sy,t)},Py=Le("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,!o.disableGutters&&t.gutters,t[o.variant]]}})(yt(({theme:e})=>({position:"relative",display:"flex",alignItems:"center",variants:[{props:({ownerState:t})=>!t.disableGutters,style:{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}}},{props:{variant:"dense"},style:{minHeight:48}},{props:{variant:"regular"},style:e.mixins.toolbar}]}))),Yp=c.forwardRef(function(t,o){const s=Ut({props:t,name:"MuiToolbar"}),{className:i,component:a="div",disableGutters:l=!1,variant:d="regular",...p}=s,g={...s,component:a,disableGutters:l,variant:d},m=_y(g);return h.jsx(Py,{as:a,className:He(m.root,i),ref:o,ownerState:g,...p})}),Qp=at(h.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),eh=at(h.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight"),Iy=c.forwardRef(function(t,o){const{backIconButtonProps:s,count:i,disabled:a=!1,getItemAriaLabel:l,nextIconButtonProps:d,onPageChange:p,page:g,rowsPerPage:m,showFirstButton:f,showLastButton:v,slots:y={},slotProps:C={},...x}=t,S=oa(),_=q=>{p(q,0)},P=q=>{p(q,g-1)},z=q=>{p(q,g+1)},D=q=>{p(q,Math.max(0,Math.ceil(i/m)-1))},j=y.firstButton??pn,k=y.lastButton??pn,M=y.nextButton??pn,A=y.previousButton??pn,N=y.firstButtonIcon??sy,F=y.lastButtonIcon??iy,$=y.nextButtonIcon??eh,G=y.previousButtonIcon??Qp,H=S?k:j,T=S?M:A,E=S?A:M,B=S?j:k,W=S?C.lastButton:C.firstButton,R=S?C.nextButton:C.previousButton,V=S?C.previousButton:C.nextButton,Z=S?C.firstButton:C.lastButton;return h.jsxs("div",{ref:o,...x,children:[f&&h.jsx(H,{onClick:_,disabled:a||g===0,"aria-label":l("first",g),title:l("first",g),...W,children:S?h.jsx(F,{...C.lastButtonIcon}):h.jsx(N,{...C.firstButtonIcon})}),h.jsx(T,{onClick:P,disabled:a||g===0,color:"inherit","aria-label":l("previous",g),title:l("previous",g),...R??s,children:S?h.jsx($,{...C.nextButtonIcon}):h.jsx(G,{...C.previousButtonIcon})}),h.jsx(E,{onClick:z,disabled:a||(i!==-1?g>=Math.ceil(i/m)-1:!1),color:"inherit","aria-label":l("next",g),title:l("next",g),...V??d,children:S?h.jsx(G,{...C.previousButtonIcon}):h.jsx($,{...C.nextButtonIcon})}),v&&h.jsx(B,{onClick:D,disabled:a||g>=Math.ceil(i/m)-1,"aria-label":l("last",g),title:l("last",g),...Z,children:S?h.jsx(N,{...C.firstButtonIcon}):h.jsx(F,{...C.lastButtonIcon})})]})});function Ty(e){return Wt("MuiTablePagination",e)}const sr=Zt("MuiTablePagination",["root","toolbar","spacer","selectLabel","selectRoot","select","selectIcon","input","menuItem","displayedRows","actions"]);var Yu;const ky=Le(xl,{name:"MuiTablePagination",slot:"Root",overridesResolver:(e,t)=>t.root})(yt(({theme:e})=>({overflow:"auto",color:(e.vars||e).palette.text.primary,fontSize:e.typography.pxToRem(14),"&:last-child":{padding:0}}))),My=Le(Yp,{name:"MuiTablePagination",slot:"Toolbar",overridesResolver:(e,t)=>({[`& .${sr.actions}`]:t.actions,...t.toolbar})})(yt(({theme:e})=>({minHeight:52,paddingRight:2,[`${e.breakpoints.up("xs")} and (orientation: landscape)`]:{minHeight:52},[e.breakpoints.up("sm")]:{minHeight:52,paddingRight:2},[`& .${sr.actions}`]:{flexShrink:0,marginLeft:20}}))),Ay=Le("div",{name:"MuiTablePagination",slot:"Spacer",overridesResolver:(e,t)=>t.spacer})({flex:"1 1 100%"}),Ey=Le("p",{name:"MuiTablePagination",slot:"SelectLabel",overridesResolver:(e,t)=>t.selectLabel})(yt(({theme:e})=>({...e.typography.body2,flexShrink:0}))),Dy=Le(kp,{name:"MuiTablePagination",slot:"Select",overridesResolver:(e,t)=>({[`& .${sr.selectIcon}`]:t.selectIcon,[`& .${sr.select}`]:t.select,...t.input,...t.selectRoot})})({color:"inherit",fontSize:"inherit",flexShrink:0,marginRight:32,marginLeft:8,[`& .${sr.select}`]:{paddingLeft:8,paddingRight:24,textAlign:"right",textAlignLast:"right"}}),Ry=Le(hn,{name:"MuiTablePagination",slot:"MenuItem",overridesResolver:(e,t)=>t.menuItem})({}),Ly=Le("p",{name:"MuiTablePagination",slot:"DisplayedRows",overridesResolver:(e,t)=>t.displayedRows})(yt(({theme:e})=>({...e.typography.body2,flexShrink:0})));function Fy({from:e,to:t,count:o}){return`${e}â€“${t} of ${o!==-1?o:`more than ${t}`}`}function Oy(e){return`Go to ${e} page`}const Ny=e=>{const{classes:t}=e;return Kt({root:["root"],toolbar:["toolbar"],spacer:["spacer"],selectLabel:["selectLabel"],select:["select"],input:["input"],selectIcon:["selectIcon"],menuItem:["menuItem"],displayedRows:["displayedRows"],actions:["actions"]},Ty,t)},zy=c.forwardRef(function(t,o){const s=Ut({props:t,name:"MuiTablePagination"}),{ActionsComponent:i=Iy,backIconButtonProps:a,colSpan:l,component:d=xl,count:p,disabled:g=!1,getItemAriaLabel:m=Oy,labelDisplayedRows:f=Fy,labelRowsPerPage:v="Rows per page:",nextIconButtonProps:y,onPageChange:C,onRowsPerPageChange:x,page:S,rowsPerPage:_,rowsPerPageOptions:P=[10,25,50,100],SelectProps:z={},showFirstButton:D=!1,showLastButton:j=!1,slotProps:k={},slots:M={},...A}=s,N=s,F=Ny(N),$=(k==null?void 0:k.select)??z,G=$.native?"option":Ry;let H;(d===xl||d==="td")&&(H=l||1e3);const T=Zr($.id),E=Zr($.labelId),B=()=>p===-1?(S+1)*_:_===-1?p:Math.min(p,(S+1)*_),W={slots:M,slotProps:k},[R,V]=Pt("root",{ref:o,className:F.root,elementType:ky,externalForwardedProps:{...W,component:d,...A},ownerState:N,additionalProps:{colSpan:H}}),[Z,q]=Pt("toolbar",{className:F.toolbar,elementType:My,externalForwardedProps:W,ownerState:N}),[ee,X]=Pt("spacer",{className:F.spacer,elementType:Ay,externalForwardedProps:W,ownerState:N}),[te,Y]=Pt("selectLabel",{className:F.selectLabel,elementType:Ey,externalForwardedProps:W,ownerState:N,additionalProps:{id:E}}),[ne,U]=Pt("select",{className:F.select,elementType:Dy,externalForwardedProps:W,ownerState:N}),[le,Pe]=Pt("menuItem",{className:F.menuItem,elementType:G,externalForwardedProps:W,ownerState:N}),[oe,ue]=Pt("displayedRows",{className:F.displayedRows,elementType:Ly,externalForwardedProps:W,ownerState:N});return h.jsx(R,{...V,children:h.jsxs(Z,{...q,children:[h.jsx(ee,{...X}),P.length>1&&h.jsx(te,{...Y,children:v}),P.length>1&&h.jsx(ne,{variant:"standard",...!$.variant&&{input:Yu||(Yu=h.jsx(Zl,{}))},value:_,onChange:x,id:T,labelId:E,...$,classes:{...$.classes,root:He(F.input,F.selectRoot,($.classes||{}).root),select:He(F.select,($.classes||{}).select),icon:He(F.selectIcon,($.classes||{}).icon)},disabled:g,...U,children:P.map(he=>c.createElement(le,{...Pe,key:he.label?he.label:he,value:he.value?he.value:he},he.label?he.label:he))}),h.jsx(oe,{...ue,children:f({from:p===0?0:S*_+1,to:B(),count:p===-1?-1:p,page:S})}),h.jsx(i,{className:F.actions,backIconButtonProps:a,count:p,nextIconButtonProps:y,onPageChange:C,page:S,rowsPerPage:_,showFirstButton:D,showLastButton:j,slotProps:k.actions,slots:M.actions,getItemAriaLabel:m,disabled:g})]})})});function $y(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}function By(e,t,o,s={},i=()=>{}){const{ease:a=$y,duration:l=300}=s;let d=null;const p=t[e];let g=!1;const m=()=>{g=!0},f=v=>{if(g){i(new Error("Animation cancelled"));return}d===null&&(d=v);const y=Math.min(1,(v-d)/l);if(t[e]=a(y)*(o-p)+p,y>=1){requestAnimationFrame(()=>{i(null)});return}requestAnimationFrame(f)};return p===o?(i(new Error("Element already at target position")),m):(requestAnimationFrame(f),m)}const Hy={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function jy(e){const{onChange:t,...o}=e,s=c.useRef(),i=c.useRef(null),a=()=>{s.current=i.current.offsetHeight-i.current.clientHeight};return Qi(()=>{const l=Wl(()=>{const p=s.current;a(),p!==s.current&&t(s.current)}),d=na(i.current);return d.addEventListener("resize",l),()=>{l.clear(),d.removeEventListener("resize",l)}},[t]),c.useEffect(()=>{a(),t(s.current)},[t]),h.jsx("div",{style:Hy,...o,ref:i})}function Gy(e){return Wt("MuiTabScrollButton",e)}const Vy=Zt("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),Wy=e=>{const{classes:t,orientation:o,disabled:s}=e;return Kt({root:["root",o,s&&"disabled"]},Gy,t)},Zy=Le(Fs,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.orientation&&t[o.orientation]]}})({width:40,flexShrink:0,opacity:.8,[`&.${Vy.disabled}`]:{opacity:0},variants:[{props:{orientation:"vertical"},style:{width:"100%",height:40,"& svg":{transform:"var(--TabScrollButton-svgRotate)"}}}]}),Uy=c.forwardRef(function(t,o){const s=Ut({props:t,name:"MuiTabScrollButton"}),{className:i,slots:a={},slotProps:l={},direction:d,orientation:p,disabled:g,...m}=s,f=oa(),v={isRtl:f,...s},y=Wy(v),C=a.StartScrollButtonIcon??Qp,x=a.EndScrollButtonIcon??eh,S=Ri({elementType:C,externalSlotProps:l.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:v}),_=Ri({elementType:x,externalSlotProps:l.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:v});return h.jsx(Zy,{component:"div",className:He(y.root,i),ref:o,role:null,ownerState:v,tabIndex:null,...m,style:{...m.style,...p==="vertical"&&{"--TabScrollButton-svgRotate":`rotate(${f?-90:90}deg)`}},children:d==="left"?h.jsx(C,{...S}):h.jsx(x,{..._})})});function Ky(e){return Wt("MuiTabs",e)}const cl=Zt("MuiTabs",["root","vertical","list","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),Qu=(e,t)=>e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:e.firstChild,ed=(e,t)=>e===t?e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:e.lastChild,fi=(e,t,o)=>{let s=!1,i=o(e,t);for(;i;){if(i===e.firstChild){if(s)return;s=!0}const a=i.disabled||i.getAttribute("aria-disabled")==="true";if(!i.hasAttribute("tabindex")||a)i=o(e,i);else{i.focus();return}}},Jy=e=>{const{vertical:t,fixed:o,hideScrollbar:s,scrollableX:i,scrollableY:a,centered:l,scrollButtonsHideMobile:d,classes:p}=e;return Kt({root:["root",t&&"vertical"],scroller:["scroller",o&&"fixed",s&&"hideScrollbar",i&&"scrollableX",a&&"scrollableY"],list:["list","flexContainer",t&&"flexContainerVertical",t&&"vertical",l&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",d&&"scrollButtonsHideMobile"],scrollableX:[i&&"scrollableX"],hideScrollbar:[s&&"hideScrollbar"]},Ky,p)},qy=Le("div",{name:"MuiTabs",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[{[`& .${cl.scrollButtons}`]:t.scrollButtons},{[`& .${cl.scrollButtons}`]:o.scrollButtonsHideMobile&&t.scrollButtonsHideMobile},t.root,o.vertical&&t.vertical]}})(yt(({theme:e})=>({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex",variants:[{props:({ownerState:t})=>t.vertical,style:{flexDirection:"column"}},{props:({ownerState:t})=>t.scrollButtonsHideMobile,style:{[`& .${cl.scrollButtons}`]:{[e.breakpoints.down("sm")]:{display:"none"}}}}]}))),Xy=Le("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.scroller,o.fixed&&t.fixed,o.hideScrollbar&&t.hideScrollbar,o.scrollableX&&t.scrollableX,o.scrollableY&&t.scrollableY]}})({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap",variants:[{props:({ownerState:e})=>e.fixed,style:{overflowX:"hidden",width:"100%"}},{props:({ownerState:e})=>e.hideScrollbar,style:{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}},{props:({ownerState:e})=>e.scrollableX,style:{overflowX:"auto",overflowY:"hidden"}},{props:({ownerState:e})=>e.scrollableY,style:{overflowY:"auto",overflowX:"hidden"}}]}),Yy=Le("div",{name:"MuiTabs",slot:"List",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.list,t.flexContainer,o.vertical&&t.flexContainerVertical,o.centered&&t.centered]}})({display:"flex",variants:[{props:({ownerState:e})=>e.vertical,style:{flexDirection:"column"}},{props:({ownerState:e})=>e.centered,style:{justifyContent:"center"}}]}),Qy=Le("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(e,t)=>t.indicator})(yt(({theme:e})=>({position:"absolute",height:2,bottom:0,width:"100%",transition:e.transitions.create(),variants:[{props:{indicatorColor:"primary"},style:{backgroundColor:(e.vars||e).palette.primary.main}},{props:{indicatorColor:"secondary"},style:{backgroundColor:(e.vars||e).palette.secondary.main}},{props:({ownerState:t})=>t.vertical,style:{height:"100%",width:2,right:0}}]}))),e0=Le(jy)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),td={},t0=c.forwardRef(function(t,o){const s=Ut({props:t,name:"MuiTabs"}),i=zt(),a=oa(),{"aria-label":l,"aria-labelledby":d,action:p,centered:g=!1,children:m,className:f,component:v="div",allowScrollButtonsMobile:y=!1,indicatorColor:C="primary",onChange:x,orientation:S="horizontal",ScrollButtonComponent:_,scrollButtons:P="auto",selectionFollowsFocus:z,slots:D={},slotProps:j={},TabIndicatorProps:k={},TabScrollButtonProps:M={},textColor:A="primary",value:N,variant:F="standard",visibleScrollbar:$=!1,...G}=s,H=F==="scrollable",T=S==="vertical",E=T?"scrollTop":"scrollLeft",B=T?"top":"left",W=T?"bottom":"right",R=T?"clientHeight":"clientWidth",V=T?"height":"width",Z={...s,component:v,allowScrollButtonsMobile:y,indicatorColor:C,orientation:S,vertical:T,scrollButtons:P,textColor:A,variant:F,visibleScrollbar:$,fixed:!H,hideScrollbar:H&&!$,scrollableX:H&&!T,scrollableY:H&&T,centered:g&&!H,scrollButtonsHideMobile:!y},q=Jy(Z),ee=Ri({elementType:D.StartScrollButtonIcon,externalSlotProps:j.startScrollButtonIcon,ownerState:Z}),X=Ri({elementType:D.EndScrollButtonIcon,externalSlotProps:j.endScrollButtonIcon,ownerState:Z}),[te,Y]=c.useState(!1),[ne,U]=c.useState(td),[le,Pe]=c.useState(!1),[oe,ue]=c.useState(!1),[he,ie]=c.useState(!1),[ge,de]=c.useState({overflow:"hidden",scrollbarWidth:0}),Ce=new Map,se=c.useRef(null),ye=c.useRef(null),Te={slots:D,slotProps:{indicator:k,scrollButton:M,...j}},Ae=()=>{const be=se.current;let ve;if(be){const ke=be.getBoundingClientRect();ve={clientWidth:be.clientWidth,scrollLeft:be.scrollLeft,scrollTop:be.scrollTop,scrollWidth:be.scrollWidth,top:ke.top,bottom:ke.bottom,left:ke.left,right:ke.right}}let Se;if(be&&N!==!1){const ke=ye.current.children;if(ke.length>0){const ot=ke[Ce.get(N)];Se=ot?ot.getBoundingClientRect():null}}return{tabsMeta:ve,tabMeta:Se}},Oe=jo(()=>{const{tabsMeta:be,tabMeta:ve}=Ae();let Se=0,ke;T?(ke="top",ve&&be&&(Se=ve.top-be.top+be.scrollTop)):(ke=a?"right":"left",ve&&be&&(Se=(a?-1:1)*(ve[ke]-be[ke]+be.scrollLeft)));const ot={[ke]:Se,[V]:ve?ve[V]:0};if(typeof ne[ke]!="number"||typeof ne[V]!="number")U(ot);else{const xt=Math.abs(ne[ke]-ot[ke]),De=Math.abs(ne[V]-ot[V]);(xt>=1||De>=1)&&U(ot)}}),Ee=(be,{animation:ve=!0}={})=>{ve?By(E,se.current,be,{duration:i.transitions.duration.standard}):se.current[E]=be},xe=be=>{let ve=se.current[E];T?ve+=be:ve+=be*(a?-1:1),Ee(ve)},we=()=>{const be=se.current[R];let ve=0;const Se=Array.from(ye.current.children);for(let ke=0;ke<Se.length;ke+=1){const ot=Se[ke];if(ve+ot[R]>be){ke===0&&(ve=be);break}ve+=ot[R]}return ve},Fe=()=>{xe(-1*we())},Ve=()=>{xe(we())},[Xe,{onChange:Ke,...qe}]=Pt("scrollbar",{className:He(q.scrollableX,q.hideScrollbar),elementType:e0,shouldForwardComponentProp:!0,externalForwardedProps:Te,ownerState:Z}),Ze=c.useCallback(be=>{Ke==null||Ke(be),de({overflow:null,scrollbarWidth:be})},[Ke]),[St,nt]=Pt("scrollButtons",{className:He(q.scrollButtons,M.className),elementType:Uy,externalForwardedProps:Te,ownerState:Z,additionalProps:{orientation:S,slots:{StartScrollButtonIcon:D.startScrollButtonIcon||D.StartScrollButtonIcon,EndScrollButtonIcon:D.endScrollButtonIcon||D.EndScrollButtonIcon},slotProps:{startScrollButtonIcon:ee,endScrollButtonIcon:X}}}),Ye=()=>{const be={};be.scrollbarSizeListener=H?h.jsx(Xe,{...qe,onChange:Ze}):null;const Se=H&&(P==="auto"&&(le||oe)||P===!0);return be.scrollButtonStart=Se?h.jsx(St,{direction:a?"right":"left",onClick:Fe,disabled:!le,...nt}):null,be.scrollButtonEnd=Se?h.jsx(St,{direction:a?"left":"right",onClick:Ve,disabled:!oe,...nt}):null,be},Jt=jo(be=>{const{tabsMeta:ve,tabMeta:Se}=Ae();if(!(!Se||!ve)){if(Se[B]<ve[B]){const ke=ve[E]+(Se[B]-ve[B]);Ee(ke,{animation:be})}else if(Se[W]>ve[W]){const ke=ve[E]+(Se[W]-ve[W]);Ee(ke,{animation:be})}}}),Tt=jo(()=>{H&&P!==!1&&ie(!he)});c.useEffect(()=>{const be=Wl(()=>{se.current&&Oe()});let ve;const Se=xt=>{xt.forEach(De=>{De.removedNodes.forEach(qt=>{ve==null||ve.unobserve(qt)}),De.addedNodes.forEach(qt=>{ve==null||ve.observe(qt)})}),be(),Tt()},ke=na(se.current);ke.addEventListener("resize",be);let ot;return typeof ResizeObserver<"u"&&(ve=new ResizeObserver(be),Array.from(ye.current.children).forEach(xt=>{ve.observe(xt)})),typeof MutationObserver<"u"&&(ot=new MutationObserver(Se),ot.observe(ye.current,{childList:!0})),()=>{be.clear(),ke.removeEventListener("resize",be),ot==null||ot.disconnect(),ve==null||ve.disconnect()}},[Oe,Tt]),c.useEffect(()=>{const be=Array.from(ye.current.children),ve=be.length;if(typeof IntersectionObserver<"u"&&ve>0&&H&&P!==!1){const Se=be[0],ke=be[ve-1],ot={root:se.current,threshold:.99},xt=kt=>{Pe(!kt[0].isIntersecting)},De=new IntersectionObserver(xt,ot);De.observe(Se);const qt=kt=>{ue(!kt[0].isIntersecting)},Cn=new IntersectionObserver(qt,ot);return Cn.observe(ke),()=>{De.disconnect(),Cn.disconnect()}}},[H,P,he,m==null?void 0:m.length]),c.useEffect(()=>{Y(!0)},[]),c.useEffect(()=>{Oe()}),c.useEffect(()=>{Jt(td!==ne)},[Jt,ne]),c.useImperativeHandle(p,()=>({updateIndicator:Oe,updateScrollButtons:Tt}),[Oe,Tt]);const[Ht,cn]=Pt("indicator",{className:He(q.indicator,k.className),elementType:Qy,externalForwardedProps:Te,ownerState:Z,additionalProps:{style:ne}}),on=h.jsx(Ht,{...cn});let an=0;const jt=c.Children.map(m,be=>{if(!c.isValidElement(be))return null;const ve=be.props.value===void 0?an:be.props.value;Ce.set(ve,an);const Se=ve===N;return an+=1,c.cloneElement(be,{fullWidth:F==="fullWidth",indicator:Se&&!te&&on,selected:Se,selectionFollowsFocus:z,onChange:x,textColor:A,value:ve,...an===1&&N===!1&&!be.props.tabIndex?{tabIndex:0}:{}})}),Ie=be=>{if(be.altKey||be.shiftKey||be.ctrlKey||be.metaKey)return;const ve=ye.current,Se=wi(ve).activeElement;if(Se.getAttribute("role")!=="tab")return;let ot=S==="horizontal"?"ArrowLeft":"ArrowUp",xt=S==="horizontal"?"ArrowRight":"ArrowDown";switch(S==="horizontal"&&a&&(ot="ArrowRight",xt="ArrowLeft"),be.key){case ot:be.preventDefault(),fi(ve,Se,ed);break;case xt:be.preventDefault(),fi(ve,Se,Qu);break;case"Home":be.preventDefault(),fi(ve,null,Qu);break;case"End":be.preventDefault(),fi(ve,null,ed);break}},Q=Ye(),[me,ze]=Pt("root",{ref:o,className:He(q.root,f),elementType:qy,externalForwardedProps:{...Te,...G,component:v},ownerState:Z}),[ft,et]=Pt("scroller",{ref:se,className:q.scroller,elementType:Xy,externalForwardedProps:Te,ownerState:Z,additionalProps:{style:{overflow:ge.overflow,[T?`margin${a?"Left":"Right"}`:"marginBottom"]:$?void 0:-ge.scrollbarWidth}}}),[Ue,st]=Pt("list",{ref:ye,className:He(q.list,q.flexContainer),elementType:Yy,externalForwardedProps:Te,ownerState:Z,getSlotProps:be=>({...be,onKeyDown:ve=>{var Se;Ie(ve),(Se=be.onKeyDown)==null||Se.call(be,ve)}})});return h.jsxs(me,{...ze,children:[Q.scrollButtonStart,Q.scrollbarSizeListener,h.jsxs(ft,{...et,children:[h.jsx(Ue,{"aria-label":l,"aria-labelledby":d,"aria-orientation":S==="vertical"?"vertical":null,role:"tablist",...st,children:jt}),te&&on]}),Q.scrollButtonEnd]})}),th={xs:"100%",sm:"22ch",md:"28ch"},nd=32,Hr=48,n0={width:"100%",maxWidth:th,px:1,display:"flex",alignItems:"center",minHeight:Hr,flex:"0 0 auto","& .MuiInputBase-root":{minHeight:Hr},"& .MuiSelect-select":{display:"flex",alignItems:"center",minHeight:Hr},"& .MuiAutocomplete-inputRoot":{paddingTop:0,paddingBottom:0,transition:"all 120ms ease"}},Tl=({label:e,options:t,value:o,onChange:s,required:i=!1,inputValue:a,onInputChange:l,renderOption:d,wrapperSx:p})=>{const[g,m]=c.useState(""),f=a!==void 0?a:g,v=f.trim().toLowerCase(),y=c.useMemo(()=>v?t.filter(x=>(typeof x=="string"?x:x.label).toLowerCase().includes(v)):t,[v,t]),C=(x,S)=>{a===void 0&&m(S),l==null||l(S)};return h.jsx(We,{sx:p??n0,children:h.jsx(Ns,{componentsProps:{popper:{style:{zIndex:2e3}}},disableClearable:!0,options:y,value:o==null?void 0:t.find(S=>typeof S=="string"?S===o:S.value===o)??void 0,onChange:(x,S)=>{if(S==null){s(null);return}const _=typeof S=="string"?S:S.value;s(_)},inputValue:f,onInputChange:C,getOptionLabel:x=>typeof x=="string"?x:x.label,renderOption:d??((x,S)=>h.jsx(Fi,{...x,dense:!0,children:h.jsx(Zn,{primary:typeof S=="string"?S:S.label})})),renderInput:x=>{const S=h.jsx(h.Fragment,{children:x.InputProps.endAdornment});return h.jsx(Dn,{...x,placeholder:o?"":e,size:"small",required:i,"aria-label":e,InputProps:{...x.InputProps,endAdornment:S,sx:{height:Hr,transition:"all 120ms ease","& .MuiInputBase-input":{paddingTop:0,paddingBottom:0,paddingRight:"56px",fontSize:13,lineHeight:`${nd}px`}}}})},ListboxProps:{sx:{zIndex:2e3,maxHeight:320}},sx:{width:th,"& .MuiAutocomplete-inputRoot":{minHeight:Hr,maxHeight:Hr,alignItems:"center",transition:"all 120ms ease","& .MuiInputBase-input":{paddingTop:0,paddingBottom:0,paddingRight:"56px",fontSize:13,lineHeight:`${nd}px`}}}})})},o0=mr(We),od=mr(Nt),r0=({allResources:e,calloutGroups:t,onStart:o,onDismiss:s})=>{const i=zt(),[a,l]=c.useState(""),[d,p]=c.useState(""),[g,m]=c.useState(!1),f=c.useRef(null),v=a?e.filter(x=>x.calloutGroup===a):[];c.useMemo(()=>{if(!d.trim())return t;const x=d.toLowerCase();return t.filter(S=>S.toLowerCase().includes(x))},[t,d]);const y=c.useMemo(()=>{const x=new Map;for(const S of e){const _=S.calloutGroup??"";_&&x.set(_,(x.get(_)??0)+1)}return x},[e]);c.useEffect(()=>{if(!a){p("");return}p(a)},[a]),c.useEffect(()=>{const x=_=>{f.current&&(f.current.contains(_.target)||s())};document.addEventListener("mousedown",x);const S=_=>{_.key==="Escape"&&s()};return document.addEventListener("keydown",S),()=>{document.removeEventListener("mousedown",x),document.removeEventListener("keydown",S)}},[s]);const C=!a;return h.jsx(o0,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},sx:{position:"fixed",inset:0,zIndex:1e4,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"rgba(5,20,40,0.6)",backdropFilter:"blur(8px)"},onClick:s,children:h.jsx(od,{ref:f,elevation:18,onClick:x=>x.stopPropagation(),sx:{width:"100%",maxWidth:{xs:"100%",md:i.spacing(120)},mx:2,borderRadius:4,px:{xs:3,md:6},py:{xs:4,md:6},border:`1px solid ${Me(i.palette.primary.main,.18)}`,boxShadow:"0 24px 55px rgba(10,74,122,0.28)",backgroundImage:"none"},children:h.jsxs(It,{spacing:6,children:[h.jsxs(It,{direction:"row",spacing:3,alignItems:"center",children:[h.jsx(We,{sx:{height:i.spacing(5.5),width:i.spacing(5.5),borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",bgcolor:i.palette.primary.main,color:i.palette.primary.contrastText,boxShadow:"0 12px 28px rgba(10,74,122,0.35)"},children:h.jsx(sa,{size:20})}),h.jsxs(It,{spacing:.75,children:[h.jsx(bt,{variant:"h6",fontWeight:600,color:"text.primary",children:"Select Callout List"}),h.jsx(bt,{variant:"body2",color:"text.secondary",children:"Choose a callout group to begin the workflow."})]})]}),h.jsxs(It,{spacing:1.5,children:[h.jsx(bt,{variant:"overline",sx:{fontWeight:700,letterSpacing:1.2,color:Me(i.palette.primary.main,.8)},children:"Callout Group"}),h.jsx(Tl,{label:"Callout Group",options:t,value:a||null,inputValue:d,onInputChange:x=>{p(x),x||l("")},onChange:x=>{const S=x??"";l(S),p(S),m(!1),S&&o(S)},renderOption:(x,S)=>{const _=typeof S=="string"?S:S.label,P=y.get(_)??0;return c.createElement("li",{...x,key:_},h.jsxs(It,{direction:"row",spacing:1.5,alignItems:"center",justifyContent:"space-between",sx:{width:"100%"},children:[h.jsx(bt,{variant:"body2",color:"text.primary",children:_}),h.jsxs(bt,{variant:"caption",color:"text.secondary",children:[P," ",P===1?"resource":"resources"]})]}))}})]}),h.jsx(We,{sx:{minHeight:64},children:h.jsx(Jl,{mode:"wait",children:a&&h.jsx(od,{elevation:0,initial:{opacity:0,y:-6},animate:{opacity:1,y:0},exit:{opacity:0,y:-6},transition:{duration:.18},sx:{display:"inline-flex",alignItems:"center",gap:1,px:3,py:2,borderRadius:2,border:`1px solid ${Me(i.palette.primary.main,.25)}`,bgcolor:Me(i.palette.primary.main,.08),color:i.palette.primary.main,fontSize:"0.95rem",fontWeight:600},children:h.jsxs(bt,{variant:"body2",color:"inherit",children:[h.jsx(We,{component:"span",sx:{fontWeight:700},children:v.length})," ",v.length===1?"resource":"resources"," in this callout group."]})},a)})}),h.jsx(It,{direction:"row",justifyContent:"flex-end",children:h.jsx(wn,{onClick:()=>{m(!1),o(a)},disabled:C,variant:"contained",endIcon:h.jsx(Ag,{size:16}),sx:{textTransform:"none",fontWeight:600,px:3,py:1.25,borderRadius:2},children:"Continue"})})]})})})},ln=JSON.parse('[{"taskId":"RG-AB30001","division":"Admin","taskStatus":"Not Assigned (ACT)","pwa":"ZB-ALPHA-12","taskType":"Admin Review","primarySkill":"ADMIN1","capabilities":["ADMIN1"],"importanceScore":97,"msc":"Y","taskCreated":"Mon 6 Jan, 10:40 AM","groupCode":"Admin Group","systemType":"FSM","employeeId":"T6344","resourceName":"Dylan Lewis","asset":"OFF-8247","assetName":"Document Verification Queue","commitmentDate":"Fri 7 Jan, 1:15 PM","commitmentType":"Complete By","arrivedAtDate":"","domain":"CF","estimatedDuration":150,"lastProgression":"On Site","category":"Administration","description":"Administration task for broadband/FTTP service in local area.","responseCode":"SH01","postCode":"CF44 8AU","appointmentStartDate":"","linkedTask":"","customerAddress":"","expectedStartDate":"Sat 7 Jan, 8:15 AM","expectedFinishDate":"Wed 8 Jan, 10:45 AM","externalQueueId":"EXT-441440","workId":"WK-790218","estimateNumber":"EST-55784","startDate":"","lat":51.70832,"lng":-3.44613,"expectedWindow":"8amâ€“10:30am","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 8AU\\n- Type Admin Review\\n- Skill ADMIN1\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Not Assigned (ACT)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Not Assigned (ACT)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30002","division":"Service Delivery","taskStatus":"Assigned (ACT)","pwa":"ZB-OMEGA-09","taskType":"Survey","primarySkill":"RISDN2","capabilities":["RISDN2"],"importanceScore":45,"msc":"Y","taskCreated":"Thu 7 Jan, 10:40 AM","groupCode":"Service Delivery","systemType":"NW","employeeId":"T7690","resourceName":"John Edwards","asset":"MH-5541","assetName":"Route Survey Node","commitmentDate":"Fri 10 Jan, 3:30 PM","commitmentType":"Future","arrivedAtDate":"","domain":"MN","estimatedDuration":90,"lastProgression":"On Site","category":"Survey","description":"Survey task for broadband/FTTP service in local area.","responseCode":"SH05","postCode":"CF44 7IW","appointmentStartDate":"","linkedTask":"","customerAddress":"111 Hirwaun Road, Aberdare","expectedStartDate":"Sat 8 Jan, 10:40 AM","expectedFinishDate":"Thu 11 Jan, 11:10 AM","externalQueueId":"EXT-441998","workId":"WK-729320","estimateNumber":"EST-55739","startDate":"","lat":51.70624,"lng":-3.44051,"expectedWindow":"10amâ€“11:30am","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7IW\\n- Type Survey\\n- Skill RISDN2\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Assigned (ACT)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Assigned (ACT)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30003","division":"Service Delivery","taskStatus":"Dispatched (AWI)","pwa":"ZB-ALPHA-02","taskType":"Repair","primarySkill":"RISDN2","capabilities":["RISDN2"],"importanceScore":90,"msc":"N","taskCreated":"Wed 11 Jan, 10:40 AM","groupCode":"Service Delivery","systemType":"OR","employeeId":"T6721","resourceName":"Ryan Jenkins","asset":"CAB-8837","assetName":"DP Pole","commitmentDate":"Wed 13 Jan, 11:20 AM","commitmentType":"Future","arrivedAtDate":"Thu 11 Jan, 8:15 AM","domain":"SE","estimatedDuration":120,"lastProgression":"On Site","category":"Repair","description":"Repair task for broadband/FTTP service in local area.","responseCode":"SH03","postCode":"CF44 7SL","appointmentStartDate":"","linkedTask":"","customerAddress":"108 Victoria Street, Aberdare","expectedStartDate":"Sat 11 Jan, 8:15 AM","expectedFinishDate":"Wed 14 Jan, 10:15 AM","externalQueueId":"EXT-441215","workId":"WK-703093","estimateNumber":"EST-55777","startDate":"Sat 11 Jan, 8:15 AM","lat":51.7204,"lng":-3.44196,"expectedWindow":"8amâ€“10am","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7SL\\n- Type Repair\\n- Skill RISDN2\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Dispatched (AWI)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Dispatched (AWI)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30004","division":"Complex Engineering","taskStatus":"Accepted (ISS)","pwa":"ZB-GAMMA-05","taskType":"Survey","primarySkill":"RFTTP1","capabilities":["RFTTP1"],"importanceScore":54,"msc":"Y","taskCreated":"Fri 3 Jan, 3:30 PM","groupCode":"Complex Engineering","systemType":"NW","employeeId":"T8224","resourceName":"Nia Brown","asset":"AS-1941","assetName":"Joint Box","commitmentDate":"Mon 5 Jan, 8:15 AM","commitmentType":"Start By","arrivedAtDate":"Mon 6 Jan, 4:10 PM","domain":"CF","estimatedDuration":45,"lastProgression":"Completed","category":"Survey","description":"Survey task for broadband/FTTP service in local area.","responseCode":"SH01","postCode":"CF44 6IQ","appointmentStartDate":"","linkedTask":"","customerAddress":"28 Aberaman Road, Aberdare","expectedStartDate":"Wed 7 Jan, 3:30 PM","expectedFinishDate":"Fri 10 Jan, 4:15 PM","externalQueueId":"EXT-441801","workId":"WK-746808","estimateNumber":"EST-55786","startDate":"Wed 7 Jan, 3:30 PM","lat":51.70576,"lng":-3.43954,"expectedWindow":"3pmâ€“3:45pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 6IQ\\n- Type Survey\\n- Skill RFTTP1\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Accepted (ISS)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Accepted (ISS)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30005","division":"Admin","taskStatus":"In Progress (EXC)","pwa":"ZB-OMEGA-06","taskType":"Admin Review","primarySkill":"ADMIN2","capabilities":["ADMIN2"],"importanceScore":64,"msc":"Y","taskCreated":"Fri 13 Jan, 9:05 AM","groupCode":"Admin Group","systemType":"OR","employeeId":"T7544","resourceName":"Harvey Rees","asset":"OFF-3588","assetName":"Document Verification Queue","commitmentDate":"Sat 15 Jan, 3:30 PM","commitmentType":"Complete By","arrivedAtDate":"Wed 16 Jan, 11:20 AM","domain":"SE","estimatedDuration":60,"lastProgression":"Accepted","category":"Administration","description":"Administration task for broadband/FTTP service in local area.","responseCode":"AD02","postCode":"CF44 7NZ","appointmentStartDate":"","linkedTask":"","customerAddress":"","expectedStartDate":"Thu 16 Jan, 11:20 AM","expectedFinishDate":"Fri 19 Jan, 12:20 PM","externalQueueId":"EXT-441383","workId":"WK-734734","estimateNumber":"EST-55767","startDate":"Thu 16 Jan, 11:20 AM","lat":51.70775,"lng":-3.44796,"expectedWindow":"11amâ€“12pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7NZ\\n- Type Admin Review\\n- Skill ADMIN2\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"In Progress (EXC)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"In Progress (EXC)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30006","division":"Admin","taskStatus":"Completed (COM)","pwa":"ZB-GAMMA-07","taskType":"Admin Review","primarySkill":"ADMIN1","capabilities":["ADMIN1"],"importanceScore":56,"msc":"Y","taskCreated":"Thu 10 Jan, 9:05 AM","groupCode":"Admin Group","systemType":"FSM","employeeId":"T5414","resourceName":"Ffion Davies","asset":"OFF-8718","assetName":"Admin Processing Queue","commitmentDate":"Fri 13 Jan, 11:20 AM","commitmentType":"Appointment","arrivedAtDate":"Sat 16 Jan, 4:10 PM","domain":"MN","estimatedDuration":90,"lastProgression":"Completed","category":"Administration","description":"Administration task for broadband/FTTP service in local area.","responseCode":"sh02","postCode":"CF44 7TJ","appointmentStartDate":"Sun 16 Jan, 8:15 AM","linkedTask":"","customerAddress":"","expectedStartDate":"Sat 16 Jan, 8:15 AM","expectedFinishDate":"Thu 19 Jan, 9:45 AM","externalQueueId":"EXT-441404","workId":"WK-728071","estimateNumber":"EST-55763","startDate":"Sat 16 Jan, 8:15 AM","lat":51.70737,"lng":-3.45195,"expectedWindow":"8amâ€“9:30am","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7TJ\\n- Type Admin Review\\n- Skill ADMIN1\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Completed (COM)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Completed (COM)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30007","division":"Complex Engineering","taskStatus":"Not Assigned (ACT)","pwa":"ZB-DELTA-07","taskType":"Survey","primarySkill":"ADMIN1","capabilities":["ADMIN1"],"importanceScore":74,"msc":"Y","taskCreated":"Mon 12 Jan, 8:15 AM","groupCode":"Complex Engineering","systemType":"OR","employeeId":"T1258","resourceName":"Nia Hughes","asset":"CAB-1922","assetName":"Route Survey Node","commitmentDate":"Tue 14 Jan, 2:00 PM","commitmentType":"Complete By","arrivedAtDate":"","domain":"SE","estimatedDuration":120,"lastProgression":"En Route","category":"Survey","description":"Survey task for broadband/FTTP service in local area.","responseCode":"SH05","postCode":"CF44 6XQ","appointmentStartDate":"","linkedTask":"","customerAddress":"75 Cardiff Road, Aberdare","expectedStartDate":"Fri 14 Jan, 2:00 PM","expectedFinishDate":"Sun 17 Jan, 4:00 PM","externalQueueId":"EXT-441499","workId":"WK-781809","estimateNumber":"EST-55797","startDate":"","lat":51.71928,"lng":-3.44445,"expectedWindow":"2pmâ€“4pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 6XQ\\n- Type Survey\\n- Skill ADMIN1\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Not Assigned (ACT)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Not Assigned (ACT)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30008","division":"Service Delivery","taskStatus":"Assigned (ACT)","pwa":"ZB-GAMMA-10","taskType":"Emergency","primarySkill":"RISDN3","capabilities":["RISDN3"],"importanceScore":89,"msc":"N","taskCreated":"Sat 8 Jan, 10:40 AM","groupCode":"Service Delivery","systemType":"OR","employeeId":"T9306","resourceName":"Ryan Lewis","asset":"AS-4107","assetName":"Backhaul Joint","commitmentDate":"Tue 10 Jan, 2:00 PM","commitmentType":"Future","arrivedAtDate":"","domain":"MN","estimatedDuration":90,"lastProgression":"On Site","category":"Emergency","description":"Emergency task for broadband/FTTP service in local area.","responseCode":"SH01","postCode":"CF44 8IN","appointmentStartDate":"","linkedTask":"RG-AB30003","customerAddress":"63 Brook Street, Aberdare","expectedStartDate":"Thu 10 Jan, 2:00 PM","expectedFinishDate":"Sun 13 Jan, 3:30 PM","externalQueueId":"EXT-441318","workId":"WK-764130","estimateNumber":"EST-55734","startDate":"","lat":51.70599,"lng":-3.44795,"expectedWindow":"2pmâ€“3:30pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 8IN\\n- Type Emergency\\n- Skill RISDN3\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Assigned (ACT)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Assigned (ACT)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30009","division":"Service Delivery","taskStatus":"Dispatched (AWI)","pwa":"ZB-ALPHA-06","taskType":"Emergency","primarySkill":"RISDN1","capabilities":["RISDN1"],"importanceScore":77,"msc":"Y","taskCreated":"Wed 8 Jan, 7:30 AM","groupCode":"Service Delivery","systemType":"OR","employeeId":"T2730","resourceName":"Nia Edwards","asset":"AS-1363","assetName":"Backhaul Joint","commitmentDate":"Thu 10 Jan, 7:30 AM","commitmentType":"Appointment","arrivedAtDate":"Thu 10 Jan, 11:20 AM","domain":"SE","estimatedDuration":150,"lastProgression":"On Site","category":"Emergency","description":"Emergency task for broadband/FTTP service in local area.","responseCode":"SH01","postCode":"CF44 7MH","appointmentStartDate":"Fri 10 Jan, 7:30 AM","linkedTask":"RG-AB30006","customerAddress":"71 Gadlys Road, Aberdare","expectedStartDate":"Fri 10 Jan, 7:30 AM","expectedFinishDate":"Sun 13 Jan, 10:00 AM","externalQueueId":"EXT-441511","workId":"WK-797851","estimateNumber":"EST-55735","startDate":"Fri 10 Jan, 7:30 AM","lat":51.7155,"lng":-3.45247,"expectedWindow":"7amâ€“9:30am","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7MH\\n- Type Emergency\\n- Skill RISDN1\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Dispatched (AWI)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Dispatched (AWI)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30010","division":"Complex Engineering","taskStatus":"Accepted (ISS)","pwa":"ZB-DELTA-05","taskType":"Inspection","primarySkill":"RISDN3","capabilities":["RISDN3"],"importanceScore":97,"msc":"Y","taskCreated":"Tue 11 Jan, 4:10 PM","groupCode":"Complex Engineering","systemType":"FSM","employeeId":"T9864","resourceName":"Nia Jenkins","asset":"AS-5489","assetName":"Distribution Point","commitmentDate":"Tue 13 Jan, 2:00 PM","commitmentType":"Appointment","arrivedAtDate":"Thu 15 Jan, 11:20 AM","domain":"MN","estimatedDuration":90,"lastProgression":"On Site","category":"Inspection","description":"Inspection task for broadband/FTTP service in local area.","responseCode":"SH04","postCode":"CF44 8JK","appointmentStartDate":"Thu 15 Jan, 2:00 PM","linkedTask":"","customerAddress":"91 Robertstown Road, Aberdare","expectedStartDate":"Thu 15 Jan, 2:00 PM","expectedFinishDate":"Sat 18 Jan, 3:30 PM","externalQueueId":"EXT-441812","workId":"WK-728959","estimateNumber":"EST-55777","startDate":"Thu 15 Jan, 2:00 PM","lat":51.70787,"lng":-3.44639,"expectedWindow":"2pmâ€“3:30pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 8JK\\n- Type Inspection\\n- Skill RISDN3\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Accepted (ISS)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Accepted (ISS)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30011","division":"Admin","taskStatus":"In Progress (EXC)","pwa":"ZB-OMEGA-02","taskType":"Admin Review","primarySkill":"ADMIN2","capabilities":["ADMIN2"],"importanceScore":45,"msc":"Y","taskCreated":"Wed 3 Jan, 10:40 AM","groupCode":"Admin Group","systemType":"FSM","employeeId":"T8103","resourceName":"Rhys Hughes","asset":"OFF-7322","assetName":"Document Verification Queue","commitmentDate":"Thu 5 Jan, 2:00 PM","commitmentType":"Appointment","arrivedAtDate":"Fri 8 Jan, 11:20 AM","domain":"CF","estimatedDuration":60,"lastProgression":"Completed","category":"Administration","description":"Administration task for broadband/FTTP service in local area.","responseCode":"SH04","postCode":"CF44 7JR","appointmentStartDate":"Sat 8 Jan, 2:00 PM","linkedTask":"RG-AB30003","customerAddress":"","expectedStartDate":"Sat 8 Jan, 2:00 PM","expectedFinishDate":"Tue 11 Jan, 3:00 PM","externalQueueId":"EXT-441888","workId":"WK-775917","estimateNumber":"EST-55728","startDate":"Sat 8 Jan, 2:00 PM","lat":51.7254,"lng":-3.50534,"expectedWindow":"2pmâ€“3pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7JR\\n- Type Admin Review\\n- Skill ADMIN2\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"In Progress (EXC)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"In Progress (EXC)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30012","division":"Complex Engineering","taskStatus":"Completed (COM)","pwa":"ZB-ALPHA-04","taskType":"Inspection","primarySkill":"RFTTP2","capabilities":["RFTTP2"],"importanceScore":49,"msc":"Y","taskCreated":"Sat 11 Jan, 9:05 AM","groupCode":"Complex Engineering","systemType":"NW","employeeId":"T8443","resourceName":"Lowri Jenkins","asset":"AS-8859","assetName":"Distribution Point","commitmentDate":"Sat 14 Jan, 1:15 PM","commitmentType":"Complete By","arrivedAtDate":"Mon 16 Jan, 4:10 PM","domain":"MN","estimatedDuration":90,"lastProgression":"Completed","category":"Inspection","description":"Inspection task for broadband/FTTP service in local area.","responseCode":"SH05","postCode":"CF44 7DZ","appointmentStartDate":"","linkedTask":"RG-AB30007","customerAddress":"109 High Street, Aberdare","expectedStartDate":"Tue 16 Jan, 4:10 PM","expectedFinishDate":"Fri 19 Jan, 5:40 PM","externalQueueId":"EXT-441590","workId":"WK-758165","estimateNumber":"EST-55792","startDate":"Tue 16 Jan, 4:10 PM","lat":51.72091,"lng":-3.52057,"expectedWindow":"4pmâ€“5:30pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7DZ\\n- Type Inspection\\n- Skill RFTTP2\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Completed (COM)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Completed (COM)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30013","division":"Service Delivery","taskStatus":"Not Assigned (ACT)","pwa":"ZB-ALPHA-04","taskType":"Inspection","primarySkill":"RISDN2","capabilities":["RISDN2"],"importanceScore":82,"msc":"Y","taskCreated":"Tue 7 Jan, 10:40 AM","groupCode":"Service Delivery","systemType":"NW","employeeId":"T9526","resourceName":"Lauren Evans","asset":"AS-9446","assetName":"Underground Joint Chamber","commitmentDate":"Wed 9 Jan, 11:20 AM","commitmentType":"Appointment","arrivedAtDate":"","domain":"CF","estimatedDuration":120,"lastProgression":"On Site","category":"Inspection","description":"Inspection task for broadband/FTTP service in local area.","responseCode":"SH01","postCode":"CF44 6EV","appointmentStartDate":"Thu 9 Jan, 11:20 AM","linkedTask":"RG-AB30003","customerAddress":"81 Cardiff Road, Aberdare","expectedStartDate":"Thu 9 Jan, 11:20 AM","expectedFinishDate":"Sun 12 Jan, 1:20 PM","externalQueueId":"EXT-441954","workId":"WK-790116","estimateNumber":"EST-55766","startDate":"","lat":51.72224,"lng":-3.51289,"expectedWindow":"11amâ€“1pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 6EV\\n- Type Inspection\\n- Skill RISDN2\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Not Assigned (ACT)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Not Assigned (ACT)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30014","division":"Complex Engineering","taskStatus":"Assigned (ACT)","pwa":"ZB-GAMMA-02","taskType":"Emergency","primarySkill":"RISDN3","capabilities":["RISDN3"],"importanceScore":88,"msc":"N","taskCreated":"Wed 13 Jan, 9:05 AM","groupCode":"Complex Engineering","systemType":"OR","employeeId":"T5309","resourceName":"Aled Evans","asset":"AS-9906","assetName":"Priority Splice Enclosure","commitmentDate":"Thu 16 Jan, 11:20 AM","commitmentType":"Appointment","arrivedAtDate":"","domain":"CF","estimatedDuration":90,"lastProgression":"Allocated","category":"Emergency","description":"Emergency task for broadband/FTTP service in local area.","responseCode":"SH05","postCode":"CF44 7AV","appointmentStartDate":"Fri 16 Jan, 11:20 AM","linkedTask":"","customerAddress":"77 Canon Street, Aberdare","expectedStartDate":"Fri 16 Jan, 11:20 AM","expectedFinishDate":"Mon 19 Jan, 12:50 PM","externalQueueId":"EXT-441587","workId":"WK-785274","estimateNumber":"EST-55720","startDate":"","lat":51.71383,"lng":-3.44986,"expectedWindow":"11amâ€“12:30pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7AV\\n- Type Emergency\\n- Skill RISDN3\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Assigned (ACT)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Assigned (ACT)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30015","division":"Service Delivery","taskStatus":"Dispatched (AWI)","pwa":"ZB-GAMMA-04","taskType":"Repair","primarySkill":"RISDN1","capabilities":["RISDN1"],"importanceScore":76,"msc":"N","taskCreated":"Sat 3 Jan, 7:30 AM","groupCode":"Service Delivery","systemType":"OR","employeeId":"T8571","resourceName":"Ffion Hughes","asset":"AS-8163","assetName":"Drop Wire","commitmentDate":"Mon 6 Jan, 9:05 AM","commitmentType":"Complete By","arrivedAtDate":"Wed 8 Jan, 10:40 AM","domain":"SE","estimatedDuration":60,"lastProgression":"Completed","category":"Repair","description":"Repair task for broadband/FTTP service in local area.","responseCode":"SH05","postCode":"CF44 8BQ","appointmentStartDate":"","linkedTask":"","customerAddress":"86 Albert Street, Aberdare","expectedStartDate":"Thu 8 Jan, 10:40 AM","expectedFinishDate":"Sun 11 Jan, 11:40 AM","externalQueueId":"EXT-441968","workId":"WK-703787","estimateNumber":"EST-55733","startDate":"Thu 8 Jan, 10:40 AM","lat":51.71159,"lng":-3.44429,"expectedWindow":"10amâ€“11am","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 8BQ\\n- Type Repair\\n- Skill RISDN1\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Dispatched (AWI)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Dispatched (AWI)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30016","division":"Complex Engineering","taskStatus":"Accepted (ISS)","pwa":"ZB-ALPHA-02","taskType":"Survey","primarySkill":"RFTTP1","capabilities":["RFTTP1"],"importanceScore":60,"msc":"Y","taskCreated":"Tue 5 Jan, 2:00 PM","groupCode":"Complex Engineering","systemType":"NW","employeeId":"T7749","resourceName":"Ryan Morgan","asset":"MH-8437","assetName":"Manhole Access Point","commitmentDate":"Wed 7 Jan, 3:30 PM","commitmentType":"Start By","arrivedAtDate":"Thu 9 Jan, 11:20 AM","domain":"MN","estimatedDuration":150,"lastProgression":"On Site","category":"Survey","description":"Survey task for broadband/FTTP service in local area.","responseCode":"SH05","postCode":"CF44 8WX","appointmentStartDate":"","linkedTask":"","customerAddress":"44 Commercial Street, Aberdare","expectedStartDate":"Thu 9 Jan, 11:20 AM","expectedFinishDate":"Sun 12 Jan, 1:50 PM","externalQueueId":"EXT-441720","workId":"WK-723933","estimateNumber":"EST-55754","startDate":"Thu 9 Jan, 11:20 AM","lat":51.71966,"lng":-3.44275,"expectedWindow":"11amâ€“1:30pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 8WX\\n- Type Survey\\n- Skill RFTTP1\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Accepted (ISS)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Accepted (ISS)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30017","division":"Admin","taskStatus":"In Progress (EXC)","pwa":"ZB-OMEGA-01","taskType":"Admin Review","primarySkill":"ADMIN2","capabilities":["ADMIN2"],"importanceScore":86,"msc":"Y","taskCreated":"Wed 7 Jan, 1:15 PM","groupCode":"Admin Group","systemType":"OR","employeeId":"T9344","resourceName":"Lauren Roberts","asset":"OFF-4090","assetName":"Admin Processing Queue","commitmentDate":"Thu 9 Jan, 3:30 PM","commitmentType":"Future","arrivedAtDate":"Sat 11 Jan, 11:20 AM","domain":"SE","estimatedDuration":40,"lastProgression":"Allocated","category":"Administration","description":"Administration task for broadband/FTTP service in local area.","responseCode":"AD02","postCode":"CF44 8PT","appointmentStartDate":"","linkedTask":"","customerAddress":"","expectedStartDate":"Sun 11 Jan, 11:20 AM","expectedFinishDate":"Wed 14 Jan, 12:00 PM","externalQueueId":"EXT-441249","workId":"WK-705434","estimateNumber":"EST-55758","startDate":"Sun 11 Jan, 11:20 AM","lat":51.7063,"lng":-3.50452,"expectedWindow":"11amâ€“12pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 8PT\\n- Type Admin Review\\n- Skill ADMIN2\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"In Progress (EXC)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"In Progress (EXC)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30018","division":"Service Delivery","taskStatus":"Completed (COM)","pwa":"ZB-OMEGA-11","taskType":"Emergency","primarySkill":"RISDN1","capabilities":["RISDN1"],"importanceScore":68,"msc":"Y","taskCreated":"Wed 9 Jan, 1:15 PM","groupCode":"Service Delivery","systemType":"OR","employeeId":"T9810","resourceName":"Ffion Smith","asset":"AS-7197","assetName":"Priority Splice Enclosure","commitmentDate":"Fri 11 Jan, 2:00 PM","commitmentType":"Future","arrivedAtDate":"Sun 13 Jan, 8:15 AM","domain":"CF","estimatedDuration":150,"lastProgression":"Completed","category":"Emergency","description":"Emergency task for broadband/FTTP service in local area.","responseCode":"SH01","postCode":"CF44 7WA","appointmentStartDate":"","linkedTask":"","customerAddress":"29 Robertstown Road, Aberdare","expectedStartDate":"Mon 13 Jan, 8:15 AM","expectedFinishDate":"Thu 16 Jan, 10:45 AM","externalQueueId":"EXT-441790","workId":"WK-772532","estimateNumber":"EST-55737","startDate":"Mon 13 Jan, 8:15 AM","lat":51.70622,"lng":-3.5041,"expectedWindow":"8amâ€“10:30am","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7WA\\n- Type Emergency\\n- Skill RISDN1\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Completed (COM)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Completed (COM)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30019","division":"Admin","taskStatus":"Assigned (ACT)","pwa":"ZB-GAMMA-09","taskType":"Admin Review","primarySkill":"ADMIN2","capabilities":["ADMIN2"],"importanceScore":71,"msc":"N","taskCreated":"Thu 13 Jan, 11:20 AM","groupCode":"Admin Group","systemType":"NW","employeeId":"T6541","resourceName":"Chloe Jenkins","asset":"OFF-1456","assetName":"Document Verification Queue","commitmentDate":"Fri 15 Jan, 2:00 PM","commitmentType":"Appointment","arrivedAtDate":"","domain":"SE","estimatedDuration":60,"lastProgression":"On Site","category":"Administration","description":"Administration task for broadband/FTTP service in local area.","responseCode":"AD02","postCode":"CF44 7XT","appointmentStartDate":"Sat 15 Jan, 2:00 PM","linkedTask":"","customerAddress":"","expectedStartDate":"Sat 15 Jan, 2:00 PM","expectedFinishDate":"Tue 18 Jan, 3:00 PM","externalQueueId":"EXT-441495","workId":"WK-765705","estimateNumber":"EST-55794","startDate":"","lat":51.70445,"lng":-3.4997,"expectedWindow":"2pmâ€“3pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7XT\\n- Type Admin Review\\n- Skill ADMIN2\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Assigned (ACT)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Assigned (ACT)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30020","division":"Service Delivery","taskStatus":"Dispatched (AWI)","pwa":"ZB-GAMMA-10","taskType":"Repair","primarySkill":"RISDN3","capabilities":["RISDN3"],"importanceScore":31,"msc":"Y","taskCreated":"Thu 5 Jan, 2:00 PM","groupCode":"Service Delivery","systemType":"OR","employeeId":"T9129","resourceName":"Chloe Hughes","asset":"CAB-1198","assetName":"Copper Joint Enclosure","commitmentDate":"Sat 7 Jan, 3:30 PM","commitmentType":"Start By","arrivedAtDate":"Sun 9 Jan, 10:40 AM","domain":"SE","estimatedDuration":45,"lastProgression":"Completed","category":"Repair","description":"Repair task for broadband/FTTP service in local area.","responseCode":"SH03","postCode":"CF44 7KB","appointmentStartDate":"","linkedTask":"RG-AB30018","customerAddress":"118 Cardiff Road, Aberdare","expectedStartDate":"Mon 9 Jan, 10:40 AM","expectedFinishDate":"Thu 12 Jan, 11:25 AM","externalQueueId":"EXT-441992","workId":"WK-731785","estimateNumber":"EST-55771","startDate":"Mon 9 Jan, 10:40 AM","lat":51.72207,"lng":-3.5099,"expectedWindow":"10amâ€“11:15am","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7KB\\n- Type Repair\\n- Skill RISDN3\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Dispatched (AWI)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Dispatched (AWI)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30021","division":"Complex Engineering","taskStatus":"Accepted (ISS)","pwa":"ZB-ALPHA-10","taskType":"Survey","primarySkill":"RFTTP1","capabilities":["RFTTP1"],"importanceScore":68,"msc":"Y","taskCreated":"Fri 9 Jan, 8:15 AM","groupCode":"Complex Engineering","systemType":"FSM","employeeId":"T7859","resourceName":"Tomos Hughes","asset":"AS-6348","assetName":"Route Survey Node","commitmentDate":"Sun 11 Jan, 3:30 PM","commitmentType":"Complete By","arrivedAtDate":"Mon 13 Jan, 11:20 AM","domain":"CF","estimatedDuration":90,"lastProgression":"Scheduled","category":"Survey","description":"Survey task for broadband/FTTP service in local area.","responseCode":"SH03","postCode":"CF44 6US","appointmentStartDate":"","linkedTask":"","customerAddress":"16 Brook Street, Aberdare","expectedStartDate":"Mon 13 Jan, 11:20 AM","expectedFinishDate":"Thu 16 Jan, 12:50 PM","externalQueueId":"EXT-441467","workId":"WK-716640","estimateNumber":"EST-55776","startDate":"Mon 13 Jan, 11:20 AM","lat":51.71882,"lng":-3.4518,"expectedWindow":"11amâ€“12:30pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 6US\\n- Type Survey\\n- Skill RFTTP1\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Accepted (ISS)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Accepted (ISS)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30022","division":"Service Delivery","taskStatus":"Not Assigned (ACT)","pwa":"ZB-DELTA-10","taskType":"Inspection","primarySkill":"RISDN3","capabilities":["RISDN3"],"importanceScore":69,"msc":"Y","taskCreated":"Mon 10 Jan, 9:05 AM","groupCode":"Service Delivery","systemType":"NW","employeeId":"T3909","resourceName":"Chloe Hughes","asset":"AS-7695","assetName":"Underground Joint Chamber","commitmentDate":"Tue 12 Jan, 1:15 PM","commitmentType":"Appointment","arrivedAtDate":"","domain":"MN","estimatedDuration":90,"lastProgression":"Allocated","category":"Inspection","description":"Inspection task for broadband/FTTP service in local area.","responseCode":"SH01","postCode":"CF44 7TT","appointmentStartDate":"Wed 12 Jan, 1:15 PM","linkedTask":"","customerAddress":"40 Cardif Road, Aberdare","expectedStartDate":"Wed 12 Jan, 1:15 PM","expectedFinishDate":"Sat 15 Jan, 2:45 PM","externalQueueId":"EXT-441413","workId":"WK-783470","estimateNumber":"EST-55797","startDate":"","lat":51.71277,"lng":-3.44368,"expectedWindow":"1pmâ€“2:30pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7TT\\n- Type Inspection\\n- Skill RISDN3\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Not Assigned (ACT)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Not Assigned (ACT)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30023","division":"Admin","taskStatus":"Assigned (ACT)","pwa":"ZB-DELTA-03","taskType":"Admin Review","primarySkill":"ADMIN1","capabilities":["ADMIN1"],"importanceScore":71,"msc":"Y","taskCreated":"Wed 13 Jan, 4:10 PM","groupCode":"Admin Group","systemType":"OR","employeeId":"T9772","resourceName":"Rhys Thomas","asset":"OFF-3119","assetName":"Admin Processing Queue","commitmentDate":"Fri 15 Jan, 1:15 PM","commitmentType":"Future","arrivedAtDate":"","domain":"MN","estimatedDuration":40,"lastProgression":"Scheduled","category":"Administration","description":"Administration task for broadband/FTTP service in local area.","responseCode":"AD02","postCode":"CF44 7ZV","appointmentStartDate":"","linkedTask":"RG-AB30010","customerAddress":"","expectedStartDate":"Sat 15 Jan, 1:15 PM","expectedFinishDate":"Tue 18 Jan, 1:55 PM","externalQueueId":"EXT-441695","workId":"WK-736499","estimateNumber":"EST-55740","startDate":"","lat":51.70499,"lng":-3.44123,"expectedWindow":"1pmâ€“1:40pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7ZV\\n- Type Admin Review\\n- Skill ADMIN1\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Assigned (ACT)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Assigned (ACT)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30024","division":"Complex Engineering","taskStatus":"Dispatched (AWI)","pwa":"ZB-GAMMA-04","taskType":"Emergency","primarySkill":"RFTTP2","capabilities":["RFTTP2"],"importanceScore":90,"msc":"N","taskCreated":"Sat 7 Jan, 7:30 AM","groupCode":"Complex Engineering","systemType":"OR","employeeId":"T6493","resourceName":"Tomos Hughes","asset":"AS-8145","assetName":"Core Node Cabinet","commitmentDate":"Sun 9 Jan, 8:15 AM","commitmentType":"Start By","arrivedAtDate":"Tue 11 Jan, 9:05 AM","domain":"MN","estimatedDuration":90,"lastProgression":"On Site","category":"Emergency","description":"Emergency task for broadband/FTTP service in local area.","responseCode":"SH03","postCode":"CF44 8ER","appointmentStartDate":"","linkedTask":"RG-AB30002","customerAddress":"96 Aberaman Road, Aberdare","expectedStartDate":"Tue 11 Jan, 9:05 AM","expectedFinishDate":"Fri 14 Jan, 10:35 AM","externalQueueId":"EXT-441684","workId":"WK-766702","estimateNumber":"EST-55764","startDate":"Tue 11 Jan, 9:05 AM","lat":51.7206,"lng":-3.4474,"expectedWindow":"9amâ€“10:30am","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 8ER\\n- Type Emergency\\n- Skill RFTTP2\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Dispatched (AWI)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Dispatched (AWI)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30025","division":"Service Delivery","taskStatus":"Accepted (ISS)","pwa":"ZB-DELTA-09","taskType":"Inspection","primarySkill":"RISDN1","capabilities":["RISDN1"],"importanceScore":45,"msc":"N","taskCreated":"Thu 6 Jan, 10:40 AM","groupCode":"Service Delivery","systemType":"FSM","employeeId":"T6815","resourceName":"Chloe Hughes","asset":"AS-4500","assetName":"Underground Joint Chamber","commitmentDate":"Sat 8 Jan, 11:20 AM","commitmentType":"Appointment","arrivedAtDate":"Sun 10 Jan, 4:10 PM","domain":"SE","estimatedDuration":120,"lastProgression":"Allocated","category":"Inspection","description":"Inspection task for broadband/FTTP service in local area.","responseCode":"SH04","postCode":"CF44 8KO","appointmentStartDate":"Mon 10 Jan, 11:20 AM","linkedTask":"RG-AB30010","customerAddress":"32 Cwmbach Road, Aberdare","expectedStartDate":"Mon 10 Jan, 11:20 AM","expectedFinishDate":"Thu 13 Jan, 1:20 PM","externalQueueId":"EXT-441842","workId":"WK-701053","estimateNumber":"EST-55742","startDate":"Mon 10 Jan, 11:20 AM","lat":51.70871,"lng":-3.51393,"expectedWindow":"11amâ€“1pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 8KO\\n- Type Inspection\\n- Skill RISDN1\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Accepted (ISS)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Accepted (ISS)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30026","division":"Admin","taskStatus":"In Progress (EXC)","pwa":"ZB-OMEGA-05","taskType":"Admin Review","primarySkill":"ADMIN1","capabilities":["ADMIN1"],"importanceScore":76,"msc":"N","taskCreated":"Tue 11 Jan, 1:15 PM","groupCode":"Admin Group","systemType":"NW","employeeId":"T8841","resourceName":"Steffan Hughes","asset":"OFF-5507","assetName":"Document Verification Queue","commitmentDate":"Thu 13 Jan, 2:00 PM","commitmentType":"Complete By","arrivedAtDate":"Fri 15 Jan, 2:00 PM","domain":"SE","estimatedDuration":60,"lastProgression":"Completed","category":"Administration","description":"Administration task for broadband/FTTP service in local area.","responseCode":"AD02","postCode":"CF44 8ZX","appointmentStartDate":"","linkedTask":"RG-AB30021","customerAddress":"","expectedStartDate":"Sat 15 Jan, 2:00 PM","expectedFinishDate":"Tue 18 Jan, 3:00 PM","externalQueueId":"EXT-441963","workId":"WK-794249","estimateNumber":"EST-55717","startDate":"Sat 15 Jan, 2:00 PM","lat":51.71019,"lng":-3.44802,"expectedWindow":"2pmâ€“3pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 8ZX\\n- Type Admin Review\\n- Skill ADMIN1\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"In Progress (EXC)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"In Progress (EXC)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30027","division":"Service Delivery","taskStatus":"Completed (COM)","pwa":"ZB-GAMMA-09","taskType":"Repair","primarySkill":"RISDN3","capabilities":["RISDN3"],"importanceScore":70,"msc":"N","taskCreated":"Fri 8 Jan, 3:30 PM","groupCode":"Service Delivery","systemType":"OR","employeeId":"T9031","resourceName":"Carys Jones","asset":"AS-6004","assetName":"Drop Wire","commitmentDate":"Sun 10 Jan, 8:15 AM","commitmentType":"Complete By","arrivedAtDate":"Tue 12 Jan, 10:40 AM","domain":"CF","estimatedDuration":60,"lastProgression":"Completed","category":"Repair","description":"Repair task for broadband/FTTP service in local area.","responseCode":"SH01","postCode":"CF44 7ZQ","appointmentStartDate":"","linkedTask":"","customerAddress":"53 King Street, Aberdare","expectedStartDate":"Tue 12 Jan, 10:40 AM","expectedFinishDate":"Fri 15 Jan, 11:40 AM","externalQueueId":"EXT-441878","workId":"WK-730760","estimateNumber":"EST-55777","startDate":"Tue 12 Jan, 10:40 AM","lat":51.70939,"lng":-3.43749,"expectedWindow":"10amâ€“11am","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7ZQ\\n- Type Repair\\n- Skill RISDN3\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Completed (COM)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Completed (COM)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30028","division":"Complex Engineering","taskStatus":"Not Assigned (ACT)","pwa":"ZB-OMEGA-10","taskType":"Survey","primarySkill":"RFTTP2","capabilities":["RFTTP2"],"importanceScore":96,"msc":"Y","taskCreated":"Wed 6 Jan, 7:30 AM","groupCode":"Complex Engineering","systemType":"NW","employeeId":"T7833","resourceName":"Bethan Hughes","asset":"AS-6244","assetName":"Route Survey Node","commitmentDate":"Thu 8 Jan, 8:15 AM","commitmentType":"Start By","arrivedAtDate":"","domain":"MN","estimatedDuration":150,"lastProgression":"Allocated","category":"Survey","description":"Survey task for broadband/FTTP service in local area.","responseCode":"SH01","postCode":"CF44 6BZ","appointmentStartDate":"","linkedTask":"","customerAddress":"13 Maesyffynnon Terrace, Aberdare","expectedStartDate":"Fri 8 Jan, 8:15 AM","expectedFinishDate":"Mon 11 Jan, 10:45 AM","externalQueueId":"EXT-441114","workId":"WK-741322","estimateNumber":"EST-55718","startDate":"","lat":51.72907,"lng":-3.5087,"expectedWindow":"8amâ€“10:30am","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 6BZ\\n- Type Survey\\n- Skill RFTTP2\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Not Assigned (ACT)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Not Assigned (ACT)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30029","division":"Service Delivery","taskStatus":"Assigned (ACT)","pwa":"ZB-ALPHA-03","taskType":"Inspection","primarySkill":"RISDN2","capabilities":["RISDN2"],"importanceScore":70,"msc":"Y","taskCreated":"Thu 11 Jan, 8:15 AM","groupCode":"Service Delivery","systemType":"FSM","employeeId":"T7794","resourceName":"Steffan James","asset":"AS-1291","assetName":"Distribution Point","commitmentDate":"Fri 13 Jan, 3:30 PM","commitmentType":"Appointment","arrivedAtDate":"","domain":"MN","estimatedDuration":90,"lastProgression":"En Route","category":"Inspection","description":"Inspection task for broadband/FTTP service in local area.","responseCode":"SH02","postCode":"CF44 6TK","appointmentStartDate":"Sat 13 Jan, 3:30 PM","linkedTask":"","customerAddress":"79 High Street, Aberdare","expectedStartDate":"Sat 13 Jan, 3:30 PM","expectedFinishDate":"Tue 16 Jan, 5:00 PM","externalQueueId":"EXT-441706","workId":"WK-708703","estimateNumber":"EST-55738","startDate":"","lat":51.7162,"lng":-3.45003,"expectedWindow":"3pmâ€“4:30pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 6TK\\n- Type Inspection\\n- Skill RISDN2\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Assigned (ACT)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Assigned (ACT)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30030","division":"Admin","taskStatus":"Dispatched (AWI)","pwa":"ZB-GAMMA-05","taskType":"Admin Review","primarySkill":"ADMIN2","capabilities":["ADMIN2"],"importanceScore":83,"msc":"Y","taskCreated":"Fri 8 Jan, 9:05 AM","groupCode":"Admin Group","systemType":"OR","employeeId":"T7728","resourceName":"Harvey Roberts","asset":"OFF-4119","assetName":"Admin Processing Queue","commitmentDate":"Sun 10 Jan, 1:15 PM","commitmentType":"Appointment","arrivedAtDate":"Tue 12 Jan, 4:10 PM","domain":"MN","estimatedDuration":40,"lastProgression":"On Site","category":"Administration","description":"Administration task for broadband/FTTP service in local area.","responseCode":"SH02","postCode":"CF44 7OD","appointmentStartDate":"Mon 10 Jan, 1:15 PM","linkedTask":"RG-AB30012","customerAddress":"","expectedStartDate":"Mon 10 Jan, 1:15 PM","expectedFinishDate":"Thu 13 Jan, 1:55 PM","externalQueueId":"EXT-441300","workId":"WK-719881","estimateNumber":"EST-55750","startDate":"Mon 10 Jan, 1:15 PM","lat":51.71655,"lng":-3.45119,"expectedWindow":"1pmâ€“1:40pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7OD\\n- Type Admin Review\\n- Skill ADMIN2\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Dispatched (AWI)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Dispatched (AWI)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30031","division":"Complex Engineering","taskStatus":"Accepted (ISS)","pwa":"ZB-DELTA-06","taskType":"Survey","primarySkill":"RFTTP2","capabilities":["RFTTP2"],"importanceScore":85,"msc":"N","taskCreated":"Mon 3 Jan, 10:40 AM","groupCode":"Complex Engineering","systemType":"NW","employeeId":"T3673","resourceName":"Owain Roberts","asset":"AS-3212","assetName":"Route Survey Node","commitmentDate":"Tue 5 Jan, 11:20 AM","commitmentType":"Start By","arrivedAtDate":"Thu 7 Jan, 4:10 PM","domain":"SE","estimatedDuration":150,"lastProgression":"Completed","category":"Survey","description":"Survey task for broadband/FTTP service in local area.","responseCode":"SH02","postCode":"CF44 7ED","appointmentStartDate":"","linkedTask":"","customerAddress":"11 Commercial Street, Aberdare","expectedStartDate":"Thu 7 Jan, 4:10 PM","expectedFinishDate":"Sun 10 Jan, 6:40 PM","externalQueueId":"EXT-441744","workId":"WK-733281","estimateNumber":"EST-55731","startDate":"Thu 7 Jan, 4:10 PM","lat":51.7242,"lng":-3.51178,"expectedWindow":"4pmâ€“6:30pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7ED\\n- Type Survey\\n- Skill RFTTP2\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Accepted (ISS)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Accepted (ISS)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30032","division":"Service Delivery","taskStatus":"In Progress (EXC)","pwa":"ZB-ALPHA-11","taskType":"Repair","primarySkill":"RISDN1","capabilities":["RISDN1"],"importanceScore":80,"msc":"Y","taskCreated":"Tue 4 Jan, 1:15 PM","groupCode":"Service Delivery","systemType":"OR","employeeId":"T4561","resourceName":"Chloe Price","asset":"AS-4599","assetName":"FTTC Cabinet","commitmentDate":"Thu 6 Jan, 2:00 PM","commitmentType":"Complete By","arrivedAtDate":"Fri 8 Jan, 8:15 AM","domain":"CF","estimatedDuration":90,"lastProgression":"On Site","category":"Repair","description":"Repair task for broadband/FTTP service in local area.","responseCode":"SH03","postCode":"CF44 8KL","appointmentStartDate":"","linkedTask":"","customerAddress":"22 Albert Street, Aberdare","expectedStartDate":"Sat 8 Jan, 8:15 AM","expectedFinishDate":"Tue 11 Jan, 9:45 AM","externalQueueId":"EXT-441728","workId":"WK-748868","estimateNumber":"EST-55729","startDate":"Sat 8 Jan, 8:15 AM","lat":51.71934,"lng":-3.44587,"expectedWindow":"8amâ€“9:30am","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 8KL\\n- Type Repair\\n- Skill RISDN1\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"In Progress (EXC)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"In Progress (EXC)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30033","division":"Admin","taskStatus":"Completed (COM)","pwa":"ZB-DELTA-08","taskType":"Admin Review","primarySkill":"ADMIN1","capabilities":["ADMIN1"],"importanceScore":67,"msc":"Y","taskCreated":"Wed 10 Jan, 9:05 AM","groupCode":"Admin Group","systemType":"FSM","employeeId":"T5944","resourceName":"Steffan Price","asset":"OFF-4311","assetName":"Document Verification Queue","commitmentDate":"Fri 12 Jan, 1:15 PM","commitmentType":"Complete By","arrivedAtDate":"Sun 14 Jan, 2:00 PM","domain":"CF","estimatedDuration":60,"lastProgression":"Completed","category":"Administration","description":"Administration task for broadband/FTTP service in local area.","responseCode":"SH02","postCode":"CF44 7JR","appointmentStartDate":"","linkedTask":"RG-AB30024","customerAddress":"","expectedStartDate":"Mon 14 Jan, 2:00 PM","expectedFinishDate":"Thu 17 Jan, 3:00 PM","externalQueueId":"EXT-441332","workId":"WK-725196","estimateNumber":"EST-55750","startDate":"Mon 14 Jan, 2:00 PM","lat":51.71125,"lng":-3.44951,"expectedWindow":"2pmâ€“3pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7TR\\n- Type Admin Review\\n- Skill ADMIN1\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Completed (COM)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Completed (COM)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30034","division":"Service Delivery","taskStatus":"Not Assigned (ACT)","pwa":"ZB-ALPHA-07","taskType":"Inspection","primarySkill":"RISDN3","capabilities":["RISDN3"],"importanceScore":51,"msc":"N","taskCreated":"Thu 9 Jan, 8:15 AM","groupCode":"Service Delivery","systemType":"OR","employeeId":"T5103","resourceName":"Rhys Thomas","asset":"AS-9476","assetName":"Underground Joint Chamber","commitmentDate":"Sat 11 Jan, 9:05 AM","commitmentType":"Future","arrivedAtDate":"","domain":"SE","estimatedDuration":90,"lastProgression":"Allocated","category":"Inspection","description":"Inspection task for broadband/FTTP service in local area.","responseCode":"SH02","postCode":"CF44 7DK","appointmentStartDate":"","linkedTask":"RG-AB30024","customerAddress":"62 High Street, Aberdare","expectedStartDate":"Sun 11 Jan, 9:05 AM","expectedFinishDate":"Wed 14 Jan, 10:35 AM","externalQueueId":"EXT-441935","workId":"WK-717714","estimateNumber":"EST-55793","startDate":"","lat":51.71377,"lng":-3.44688,"expectedWindow":"9amâ€“10:30am","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7DK\\n- Type Inspection\\n- Skill RISDN3\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Not Assigned (ACT)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Not Assigned (ACT)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30035","division":"Complex Engineering","taskStatus":"Assigned (ACT)","pwa":"ZB-DELTA-02","taskType":"Survey","primarySkill":"RFTTP2","capabilities":["RFTTP2"],"importanceScore":58,"msc":"Y","taskCreated":"Fri 8 Jan, 1:15 PM","groupCode":"Complex Engineering","systemType":"NW","employeeId":"T6650","resourceName":"Carys Morgan","asset":"AS-4821","assetName":"Joint Box","commitmentDate":"Sun 10 Jan, 3:30 PM","commitmentType":"Start By","arrivedAtDate":"","domain":"CF","estimatedDuration":150,"lastProgression":"On Site","category":"Survey","description":"Survey task for broadband/FTTP service in local area.","responseCode":"SH02","postCode":"CF44 7RA","appointmentStartDate":"","linkedTask":"","customerAddress":"66 Brook Street, Aberdare","expectedStartDate":"Mon 10 Jan, 3:30 PM","expectedFinishDate":"Thu 13 Jan, 6:00 PM","externalQueueId":"EXT-441144","workId":"WK-711545","estimateNumber":"EST-55786","startDate":"","lat":51.7161,"lng":-3.44434,"expectedWindow":"3pmâ€“5:30pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7RA\\n- Type Survey\\n- Skill RFTTP2\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Assigned (ACT)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Assigned (ACT)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30036","division":"Admin","taskStatus":"Dispatched (AWI)","pwa":"ZB-DELTA-01","taskType":"Admin Review","primarySkill":"ADMIN2","capabilities":["ADMIN2"],"importanceScore":62,"msc":"Y","taskCreated":"Sat 9 Jan, 9:05 AM","groupCode":"Admin Group","systemType":"OR","employeeId":"T7855","resourceName":"Steffan Jenkins","asset":"OFF-4023","assetName":"Admin Processing Queue","commitmentDate":"Mon 11 Jan, 1:15 PM","commitmentType":"Appointment","arrivedAtDate":"Wed 13 Jan, 2:00 PM","domain":"CF","estimatedDuration":40,"lastProgression":"Scheduled","category":"Administration","description":"Administration task for broadband/FTTP service in local area.","responseCode":"AD02","postCode":"CF44 8DW","appointmentStartDate":"Sun 11 Jan, 1:15 PM","linkedTask":"","customerAddress":"","expectedStartDate":"Sun 11 Jan, 1:15 PM","expectedFinishDate":"Wed 14 Jan, 1:55 PM","externalQueueId":"EXT-441939","workId":"WK-790818","estimateNumber":"EST-55733","startDate":"Sun 11 Jan, 1:15 PM","lat":51.70823,"lng":-3.50376,"expectedWindow":"1pmâ€“1:40pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 8DW\\n- Type Admin Review\\n- Skill ADMIN2\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Dispatched (AWI)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Dispatched (AWI)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30037","division":"Service Delivery","taskStatus":"Accepted (ISS)","pwa":"ZB-ALPHA-09","taskType":"Emergency","primarySkill":"RISDN3","capabilities":["RISDN3"],"importanceScore":92,"msc":"Y","taskCreated":"Sun 10 Jan, 8:15 AM","groupCode":"Service Delivery","systemType":"OR","employeeId":"T9012","resourceName":"Nia Davies","asset":"AS-5211","assetName":"Core Node Cabinet","commitmentDate":"Tue 12 Jan, 2:00 PM","commitmentType":"Tail","arrivedAtDate":"Wed 14 Jan, 11:20 AM","domain":"MN","estimatedDuration":150,"lastProgression":"En Route","category":"Emergency","description":"Emergency task for broadband/FTTP service in local area.","responseCode":"SH05","postCode":"CF44 7UU","appointmentStartDate":"","linkedTask":"RG-AB30032","customerAddress":"58 Cwmbach Road, Aberdare","expectedStartDate":"Thu 14 Jan, 11:20 AM","expectedFinishDate":"Sun 17 Jan, 1:50 PM","externalQueueId":"EXT-441306","workId":"WK-791918","estimateNumber":"EST-55790","startDate":"Thu 14 Jan, 11:20 AM","lat":51.71803,"lng":-3.44716,"expectedWindow":"11amâ€“1:30pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7UU\\n- Type Emergency\\n- Skill RISDN3\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Accepted (ISS)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Accepted (ISS)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30038","division":"Complex Engineering","taskStatus":"In Progress (EXC)","pwa":"ZB-GAMMA-12","taskType":"Survey","primarySkill":"RFTTP1","capabilities":["RFTTP1"],"importanceScore":78,"msc":"N","taskCreated":"Mon 11 Jan, 9:05 AM","groupCode":"Complex Engineering","systemType":"NW","employeeId":"T6772","resourceName":"Owain James","asset":"AS-5987","assetName":"Manhole Access Point","commitmentDate":"Wed 13 Jan, 1:15 PM","commitmentType":"Start By","arrivedAtDate":"Thu 15 Jan, 10:40 AM","domain":"CF","estimatedDuration":150,"lastProgression":"On Site","category":"Survey","description":"Survey task for broadband/FTTP service in local area.","responseCode":"SH04","postCode":"CF44 7LV","appointmentStartDate":"","linkedTask":"RG-AB30024","customerAddress":"19 Canon Street, Aberdare","expectedStartDate":"Thu 15 Jan, 10:40 AM","expectedFinishDate":"Sun 18 Jan, 1:10 PM","externalQueueId":"EXT-441653","workId":"WK-744988","estimateNumber":"EST-55779","startDate":"Thu 15 Jan, 10:40 AM","lat":51.72651,"lng":-3.45205,"expectedWindow":"10amâ€“12:30pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7LV\\n- Type Survey\\n- Skill RFTTP1\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"In Progress (EXC)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"In Progress (EXC)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30039","division":"Admin","taskStatus":"Completed (COM)","pwa":"ZB-ALPHA-01","taskType":"Admin Review","primarySkill":"ADMIN1","capabilities":["ADMIN1"],"importanceScore":63,"msc":"N","taskCreated":"Tue 12 Jan, 1:15 PM","groupCode":"Admin Group","systemType":"FSM","employeeId":"T7339","resourceName":"Harvey Price","asset":"OFF-6697","assetName":"Document Verification Queue","commitmentDate":"Thu 14 Jan, 3:30 PM","commitmentType":"Tail","arrivedAtDate":"Sat 16 Jan, 2:00 PM","domain":"MN","estimatedDuration":60,"lastProgression":"Completed","category":"Administration","description":"Administration task for broadband/FTTP service in local area.","responseCode":"AD02","postCode":"CF44 6TS","appointmentStartDate":"","linkedTask":"","customerAddress":"","expectedStartDate":"Sat 16 Jan, 2:00 PM","expectedFinishDate":"Tue 19 Jan, 3:00 PM","externalQueueId":"EXT-441923","workId":"WK-791162","estimateNumber":"EST-55748","startDate":"Sat 16 Jan, 2:00 PM","lat":51.7245,"lng":-3.44809,"expectedWindow":"2pmâ€“3pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 6TS\\n- Type Admin Review\\n- Skill ADMIN1\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Completed (COM)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Completed (COM)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30040","division":"Service Delivery","taskStatus":"Not Assigned (ACT)","pwa":"ZB-GAMMA-08","taskType":"Repair","primarySkill":"RISDN2","capabilities":["RISDN2"],"importanceScore":59,"msc":"Y","taskCreated":"Wed 13 Jan, 2:00 PM","groupCode":"Service Delivery","systemType":"OR","employeeId":"T6142","resourceName":"Ffion James","asset":"AS-6883","assetName":"FTTC Cabinet","commitmentDate":"Fri 15 Jan, 3:30 PM","commitmentType":"Future","arrivedAtDate":"","domain":"CF","estimatedDuration":110,"lastProgression":"Allocated","category":"Repair","description":"Repair task for broadband/FTTP service in local area.","responseCode":"SH04","postCode":"CF44 7QA","appointmentStartDate":"","linkedTask":"RG-AB30034","customerAddress":"88 Victoria Street, Aberdare","expectedStartDate":"Sat 15 Jan, 3:30 PM","expectedFinishDate":"Tue 18 Jan, 5:20 PM","externalQueueId":"EXT-441548","workId":"WK-742382","estimateNumber":"EST-55781","startDate":"","lat":51.71294,"lng":-3.44307,"expectedWindow":"3pmâ€“5:20pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7QA\\n- Type Repair\\n- Skill RISDN2\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Not Assigned (ACT)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Not Assigned (ACT)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]}]'),nh=JSON.parse('[{"resourceId":"SWBXA12","name":"John Evans","division":"Service Delivery","primarySkill":"RISDN2","secondarySkill":"RISDN1","status":"Available","pwa":"ZB-ALPHA-06","calloutGroup":"FJ","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900101","notes":"","history":[],"updatedAt":null,"homePostCode":"CF44 7AA","homeLat":51.71352,"homeLng":-3.44879},{"resourceId":"QWERB33","name":"Ffion Hughes","division":"Service Delivery","primarySkill":"RISDN3","secondarySkill":null,"status":"Unavailable","pwa":"ZB-GAMMA-04","calloutGroup":"ISDN","lastOutcome":"Unavailable","availableAgainAt":"2025-01-18T14:00","contactNumber":"07700900102","notes":"Medical appointment","history":[{"previousOutcome":null,"previousAvailableAgainAt":null,"changedAt":"2025-01-18T14:00:00Z"}],"updatedAt":"2025-01-18T14:00:00Z","homePostCode":"CF44 6ET","homeLat":51.71114,"homeLng":-3.43291},{"resourceId":"PLMKC14","name":"Owain Roberts","division":"Service Delivery","primarySkill":"RISDN1","secondarySkill":"RISDN2","status":"Available","pwa":"ZB-OMEGA-11","calloutGroup":"FJ","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900103","notes":"","history":[],"updatedAt":null,"homePostCode":"CF44 8NN","homeLat":51.72127,"homeLng":-3.44844},{"resourceId":"GHJTQ55","name":"Carys Morgan","division":"Service Delivery","primarySkill":"RISDN3","secondarySkill":null,"status":"On Task","pwa":"ZB-GAMMA-10","calloutGroup":"SD","lastOutcome":"Assigned","availableAgainAt":null,"contactNumber":"07700900104","notes":"","history":[],"updatedAt":"2025-01-17T09:30:00Z","homePostCode":"CF44 0AG","homeLat":51.69994,"homeLng":-3.43041},{"resourceId":"MNBGD82","name":"Rhys Davies","division":"Service Delivery","primarySkill":"RISDN2","secondarySkill":null,"status":"Available","pwa":"ZB-DELTA-10","calloutGroup":"FJ","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900105","notes":"","history":[],"updatedAt":null,"homePostCode":"CF44 9SW","homeLat":51.73152,"homeLng":-3.50623},{"resourceId":"LKJHF22","name":"Lowri Jenkins","division":"Complex Engineering","primarySkill":"RFTTP1","secondarySkill":"RFTTP2","status":"Available","pwa":"ZB-GAMMA-12","calloutGroup":"CE","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900106","notes":"","history":[],"updatedAt":null,"homePostCode":"CF45 3HD","homeLat":51.68691,"homeLng":-3.37852},{"resourceId":"ASDFR91","name":"Tomos Hughes","division":"Complex Engineering","primarySkill":"RFTTP2","secondarySkill":null,"status":"Unavailable","pwa":"ZB-DELTA-07","calloutGroup":"CE","lastOutcome":"Refusal","availableAgainAt":"2025-01-19T16:00","contactNumber":"07700900107","notes":"Family emergency","history":[{"previousOutcome":null,"previousAvailableAgainAt":null,"changedAt":"2025-01-17T12:00:00Z"}],"updatedAt":"2025-01-17T12:00:00Z","homePostCode":"CF47 8EL","homeLat":51.74842,"homeLng":-3.38123},{"resourceId":"ZXCVS67","name":"Bethan Evans","division":"Complex Engineering","primarySkill":"RFTTP2","secondarySkill":"RFTTP1","status":"On Task","pwa":"ZB-OMEGA-10","calloutGroup":"CE","lastOutcome":"Dispatched","availableAgainAt":null,"contactNumber":"07700900108","notes":"","history":[],"updatedAt":"2025-01-18T08:30:00Z","homePostCode":"CF44 6EA","homeLat":51.70887,"homeLng":-3.43811},{"resourceId":"BNMAS49","name":"Steffan Price","division":"Complex Engineering","primarySkill":"RFTTP1","secondarySkill":null,"status":"Available","pwa":"ZB-DELTA-05","calloutGroup":"CE","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900109","notes":"","history":[],"updatedAt":null,"homePostCode":"CF42 6UP","homeLat":51.65761,"homeLng":-3.50744},{"resourceId":"POIUY73","name":"Aled Thomas","division":"Complex Engineering","primarySkill":"RFTTP2","secondarySkill":null,"status":"Available","pwa":"ZB-ALPHA-02","calloutGroup":"CE","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900110","notes":"","history":[],"updatedAt":null,"homePostCode":"CF44 7AY","homeLat":51.71601,"homeLng":-3.45192},{"resourceId":"UJMKL89","name":"Lauren Evans","division":"Service Delivery","primarySkill":"RISDN2","secondarySkill":"RISDN3","status":"Available","pwa":"ZB-ALPHA-04","calloutGroup":"SD","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900116","notes":"","history":[],"updatedAt":null,"homePostCode":"CF44 7RP","homeLat":51.71074,"homeLng":-3.44591},{"resourceId":"KJHGF02","name":"Nia James","division":"Service Delivery","primarySkill":"RISDN1","secondarySkill":null,"status":"On Task","pwa":"ZB-GAMMA-09","calloutGroup":"ISDN","lastOutcome":"Dispatched","availableAgainAt":null,"contactNumber":"07700900117","notes":"","history":[],"updatedAt":"2025-01-18T08:50:00Z","homePostCode":"CF44 6AB","homeLat":51.70818,"homeLng":-3.42742},{"resourceId":"RTYHN44","name":"Chloe Davies","division":"Service Delivery","primarySkill":"RISDN3","secondarySkill":null,"status":"Available","pwa":"ZB-ALPHA-09","calloutGroup":"SD","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900120","notes":"","history":[],"updatedAt":null,"homePostCode":"CF44 9DL","homeLat":51.72475,"homeLng":-3.4862},{"resourceId":"SDNEW21","name":"Gareth Bowen","division":"Service Delivery","primarySkill":"RISDN1","secondarySkill":"RISDN2","status":"Available","pwa":"ZB-ALPHA-15","calloutGroup":"FJ","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900130","notes":"","history":[],"updatedAt":null,"homePostCode":"CF44 8HA","homeLat":51.71955,"homeLng":-3.45591},{"resourceId":"SDNEW22","name":"Megan Griffiths","division":"Service Delivery","primarySkill":"RISDN3","secondarySkill":"RISDN1","status":"Unavailable","pwa":"ZB-OMEGA-17","calloutGroup":"SD","lastOutcome":"Unavailable","availableAgainAt":"2025-01-20T09:00:00Z","contactNumber":"07700900131","notes":"Childcare","history":[],"updatedAt":"2025-01-18T13:15:00Z","homePostCode":"CF44 0SW","homeLat":51.70082,"homeLng":-3.4211},{"resourceId":"SDNEW23","name":"Ieuan Watkins","division":"Service Delivery","primarySkill":"RISDN1","secondarySkill":null,"status":"Available","pwa":"ZB-GAMMA-18","calloutGroup":"FJ","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900132","notes":"","history":[],"updatedAt":null,"homePostCode":"CF44 6LA","homeLat":51.70692,"homeLng":-3.43092},{"resourceId":"SDNEW24","name":"Seren Powell","division":"Service Delivery","primarySkill":"RISDN2","secondarySkill":"RISDN3","status":"On Task","pwa":"ZB-OMEGA-13","calloutGroup":"SD","lastOutcome":"Assigned","availableAgainAt":null,"contactNumber":"07700900133","notes":"","history":[],"updatedAt":"2025-01-18T10:10:00Z","homePostCode":"CF44 7PP","homeLat":51.71381,"homeLng":-3.45514},{"resourceId":"SDNEW25","name":"Rhys Llewellyn","division":"Service Delivery","primarySkill":"RISDN3","secondarySkill":"RISDN1","status":"Unavailable","pwa":"ZB-DELTA-11","calloutGroup":"ISDN","lastOutcome":"NoReply","availableAgainAt":"2025-01-21T08:00:00Z","contactNumber":"07700900134","notes":"Missed several calls","history":[{"previousOutcome":null,"previousAvailableAgainAt":null,"changedAt":"2025-01-18T12:45:00Z"}],"updatedAt":"2025-01-18T12:45:00Z","homePostCode":"CF44 9DJ","homeLat":51.7261,"homeLng":-3.49125},{"resourceId":"SDNEW26","name":"Catrin Rees","division":"Service Delivery","primarySkill":"RISDN2","secondarySkill":null,"status":"Available","pwa":"ZB-ALPHA-22","calloutGroup":"SD","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900135","notes":"","history":[],"updatedAt":null,"homePostCode":"CF44 0AJ","homeLat":51.70102,"homeLng":-3.43274},{"resourceId":"SDNEW27","name":"Gwenllian Thomas","division":"Service Delivery","primarySkill":"RISDN1","secondarySkill":"RISDN2","status":"Available","pwa":"ZB-GAMMA-22","calloutGroup":"FJ","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900136","notes":"","history":[],"updatedAt":null,"homePostCode":"CF44 9NH","homeLat":51.72982,"homeLng":-3.50008},{"resourceId":"FJNEW28","name":"Eleri Hopkins","division":"Service Delivery","primarySkill":"RISDN2","secondarySkill":"RISDN1","status":"Available","pwa":"ZB-ALPHA-18","calloutGroup":"FJ","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900137","notes":"","history":[],"updatedAt":null,"homePostCode":"CF44 7LS","homeLat":51.71743,"homeLng":-3.45271},{"resourceId":"FJNEW29","name":"Geraint Morgan","division":"Service Delivery","primarySkill":"RISDN3","secondarySkill":null,"status":"Available","pwa":"ZB-GAMMA-25","calloutGroup":"FJ","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900138","notes":"","history":[],"updatedAt":null,"homePostCode":"CF44 8PD","homeLat":51.72288,"homeLng":-3.45934},{"resourceId":"FJNEW30","name":"Non Davies","division":"Service Delivery","primarySkill":"RISDN2","secondarySkill":"RISDN3","status":"On Task","pwa":"ZB-DELTA-14","calloutGroup":"FJ","lastOutcome":"Dispatched","availableAgainAt":null,"contactNumber":"07700900139","notes":"","history":[],"updatedAt":"2025-01-18T15:10:00Z","homePostCode":"CF44 6QH","homeLat":51.70412,"homeLng":-3.42566}]'),oh={Appointment:"#F59E0B","Start By":"#EC4899","Complete By":"#3B82F6",Future:"#10B981",Tail:"#6B7280"},kl={Available:"#10B981",Unavailable:"#EF4444","On Task":"#3B82F6",Default:"#6B7280"},rh=36,sh=50;function ih(e,t){const o=s0(e,.35);return`
    <svg width="${rh}" height="${sh}" viewBox="0 0 40 56">
      ${t?`
        <rect x="1.5" y="1.5" width="37" height="53"
              rx="8" ry="8"
              fill="none"
              stroke="#DC2626"
              stroke-width="3" />`:""}

      <!-- Outer teardrop -->
      <path
        d="M20 2 C 11 2, 4 9, 4 18 C 4 29, 20 52, 20 52 C 20 52, 36 29, 36 18 C 36 9, 29 2, 20 2 Z"
        fill="#FFFFFF"
        stroke="#1F2937"
        stroke-width="2.5"
      />

      <!-- Inner coloured area (task commitment colour) -->
      <path
        d="M20 10 C 14 10, 9 15, 9 21 C 9 29, 20 44, 20 44 C 20 44, 31 29, 31 21 C 31 15, 26 10, 20 10 Z"
        fill="${e}"
        stroke="${o}"
        stroke-width="2.5"
      />
    </svg>
  `}function ah(e,t){const o=kl[e]||kl.Default;return`
    <svg width="${rh}" height="${sh}" viewBox="0 0 40 56">
      ${t?`
        <rect x="1.5" y="1.5" width="37" height="53"
              rx="8" ry="8"
              fill="none"
              stroke="#DC2626"
              stroke-width="3" />`:""}

      <!-- Outer teardrop -->
      <path
        d="M20 2 C 11 2, 4 9, 4 18 C 4 29, 20 52, 20 52 C 20 52, 36 29, 36 18 C 36 9, 29 2, 20 2 Z"
        fill="#FFFFFF"
        stroke="#1F2937"
        stroke-width="2.5"
      />

      <!-- Inner panel (light grey) to give contrast for the person icon -->
      <path
        d="M20 10 C 14 10, 9 15, 9 21 C 9 29, 20 44, 20 44 C 20 44, 31 29, 31 21 C 31 15, 26 10, 20 10 Z"
        fill="#E5E7EB"
        stroke="#D1D5DB"
        stroke-width="2"
      />

      <!-- Person / engineer silhouette -->
      <g transform="translate(8,6)" fill="#111827">
        <circle cx="12" cy="8" r="5.2" />
        <path d="M4.5 24.5c0-4.6 3.8-8.2 7.5-8.2s7.5 3.6 7.5 8.2v5.5H4.5v-5.5z" />
      </g>

      <!-- Status dot -->
      <circle
        cx="20"
        cy="39"
        r="5"
        fill="${o}"
        stroke="#FFFFFF"
        stroke-width="2"
      />
    </svg>
  `}function s0(e,t=.35){const o=e.replace("#",""),s=parseInt(o.substring(0,2),16),i=parseInt(o.substring(2,4),16),a=parseInt(o.substring(4,6),16);return`rgb(${Math.floor(s*(1-t))}, ${Math.floor(i*(1-t))}, ${Math.floor(a*(1-t))})`}function i0({visible:e,onClose:t}){const o=zt();return e?h.jsx(We,{sx:{position:"absolute",top:o.spacing(7),right:o.spacing(4),zIndex:9999},children:h.jsx(Nt,{elevation:14,sx:{width:o.spacing(36),borderRadius:3,px:3,py:2.5,border:`1px solid ${Me(o.palette.primary.main,.18)}`,boxShadow:"0 18px 46px rgba(8,58,97,0.22)",backgroundImage:"none"},children:h.jsxs(It,{spacing:3,children:[h.jsxs(It,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[h.jsx(bt,{variant:"subtitle2",fontWeight:600,color:"text.primary",children:"Map Legend"}),h.jsx(pn,{size:"small",onClick:t,sx:{color:Me(o.palette.text.primary,.6),"&:hover":{color:o.palette.primary.main,bgcolor:Me(o.palette.primary.main,.08)}},"aria-label":"Close legend",children:h.jsx(Op,{size:16})})]}),h.jsxs(It,{spacing:1.5,children:[h.jsx(bt,{variant:"overline",sx:{fontWeight:700,letterSpacing:1.1,color:Me(o.palette.text.secondary,.85)},children:"Resources"}),h.jsx(It,{spacing:1.5,children:Object.keys(kl).map(s=>h.jsxs(It,{direction:"row",spacing:2,alignItems:"center",children:[h.jsx(We,{sx:{transform:"scale(0.75)",transformOrigin:"left center"},dangerouslySetInnerHTML:{__html:ah(s,!1)}}),h.jsx(bt,{variant:"caption",color:"text.secondary",children:s})]},s))})]}),h.jsxs(It,{spacing:1.5,children:[h.jsx(bt,{variant:"overline",sx:{fontWeight:700,letterSpacing:1.1,color:Me(o.palette.text.secondary,.85)},children:"Tasks"}),h.jsx(It,{spacing:1.5,children:Object.entries(oh).map(([s,i])=>h.jsxs(It,{direction:"row",spacing:2,alignItems:"center",children:[h.jsx(We,{sx:{transform:"scale(0.75)",transformOrigin:"left center"},dangerouslySetInnerHTML:{__html:ih(i,!1)}}),h.jsx(bt,{variant:"caption",color:"text.secondary",children:s})]},s))})]})]})})}):null}const a0=at(h.jsx("path",{d:"m18 7-1.41-1.41-6.34 6.34 1.41 1.41zm4.24-1.41L11.66 16.17 7.48 12l-1.41 1.41L11.66 19l12-12zM.41 13.41 6 19l1.41-1.41L1.83 12z"}),"DoneAll"),kr="__SELECT_ALL__",Fn=({label:e,options:t,value:o,onChange:s,required:i=!1,showSelectAllIcon:a=!0,wrapperSx:l})=>{const[d,p]=c.useState(""),g=d.trim().toLowerCase(),m=c.useMemo(()=>g?t.filter(D=>D.toLowerCase().includes(g)):t,[g,t]),f=m.filter(D=>o.includes(D)).length,v=m.length>0&&f===m.length,y=f>0&&!v,C=(D,j,k,M)=>{if((M==null?void 0:M.option)===kr){if(!m.length)return;const N=v?o.filter(F=>!m.includes(F)):Array.from(new Set([...o,...m]));s(N);return}const A=j.filter(N=>N!==kr);s(A)},x=D=>{if(D.stopPropagation(),!!m.length)if(v){const j=o.filter(k=>!m.includes(k));s(j)}else{const j=Array.from(new Set([...o,...m]));s(j)}},S={xs:"100%",sm:"22ch",md:"28ch"},_=32,P=48,z={width:"100%",maxWidth:S,px:1,display:"flex",alignItems:"center",minHeight:P,flex:"0 0 auto","& .MuiInputBase-root":{minHeight:P,transition:"all 120ms ease"},"& .MuiSelect-select":{display:"flex",alignItems:"center",minHeight:P,transition:"all 120ms ease"},"& .MuiAutocomplete-inputRoot":{paddingTop:0,paddingBottom:0,transition:"all 120ms ease"}};return h.jsx(We,{sx:l??z,children:h.jsx(Ns,{disableClearable:!0,multiple:!0,disableCloseOnSelect:!0,componentsProps:{popper:{style:{minWidth:"32ch",zIndex:2e3}}},sx:{width:S,"& .MuiAutocomplete-inputRoot":{minHeight:P,maxHeight:P,overflow:"hidden",alignItems:"center",transition:"all 120ms ease","& .MuiInputBase-input":{paddingRight:"56px",fontSize:13,lineHeight:`${_}px`,paddingTop:0,paddingBottom:0}},"& .MuiAutocomplete-tag":{display:"inline-flex",alignItems:"center",justifyContent:"center",height:_,maxWidth:"100%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},"& .MuiInputBase-root":{minHeight:P,transition:"all 120ms ease"}},options:[kr,...t],value:o,inputValue:d,onInputChange:(D,j)=>p(j),filterOptions:D=>D.filter(j=>j===kr||j.toLowerCase().includes(g)),onChange:C,getOptionLabel:D=>D===kr?"Select Filtered":D,renderOption:(D,j)=>j===kr?h.jsxs(Fi,{...D,dense:!0,children:[h.jsx(uo,{sx:{minWidth:32},children:h.jsx(Sl,{edge:"start",checked:v,indeterminate:y,size:"small"})}),h.jsx(Zn,{primary:v?"Clear Filtered":"Select Filtered"})]}):h.jsxs(Fi,{...D,dense:!0,children:[h.jsx(uo,{sx:{minWidth:32},children:h.jsx(Sl,{edge:"start",checked:o.includes(j),size:"small"})}),h.jsx(Zn,{primary:j})]}),renderTags:D=>{if(!D||D.length===0)return null;const j=D.length;return h.jsx(We,{sx:{display:"flex",gap:.5,alignItems:"center",overflow:"hidden",height:"100%",pr:"8px"},children:h.jsx(Vl,{label:`+${j}`,size:"small",variant:"outlined",sx:{flex:"0 0 auto",height:_,width:"auto",minWidth:_,display:"inline-flex",alignItems:"center",alignSelf:"center",justifyContent:"center",px:1,fontWeight:600,fontSize:13,lineHeight:`${_}px`,borderRadius:"9999px",bgcolor:"grey.100",borderColor:"rgba(0,0,0,0.08)",boxShadow:"inset 0 0 0 1px rgba(255,255,255,0.6)",border:"2px solid rgba(0,0,0,0.12)"}})})},renderInput:D=>{const j=h.jsxs(h.Fragment,{children:[a&&h.jsx(Mp,{title:v?"Clear filtered":"Select filtered",arrow:!0,children:h.jsx(pn,{size:"small",onClick:x,"aria-label":v?"Clear filtered":"Select filtered",sx:{mr:.75,px:.75},children:h.jsx(a0,{fontSize:"small",color:v?"primary":"inherit"})})}),D.InputProps.endAdornment]});return h.jsx(Dn,{...D,placeholder:o&&o.length?"":e,size:"small",required:i,"aria-label":e,InputProps:{...D.InputProps,endAdornment:j,sx:{height:P,transition:"all 120ms ease","& .MuiInputBase-input":{paddingTop:0,paddingBottom:0,paddingRight:"56px",fontSize:13,lineHeight:`${_}px`}}}})},ListboxProps:{sx:{maxHeight:320,zIndex:2e3}}})})},lh={xs:"100%",sm:"22ch",md:"28ch"},rd=32,jr=48,l0={width:"100%",maxWidth:lh,px:1,display:"flex",alignItems:"center",minHeight:jr,flex:"0 0 auto","& .MuiInputBase-root":{minHeight:jr},"& .MuiSelect-select":{display:"flex",alignItems:"center",minHeight:jr},"& .MuiAutocomplete-inputRoot":{paddingTop:0,paddingBottom:0,transition:"all 120ms ease"}},gi=({label:e,options:t,value:o,onChange:s,required:i=!1,wrapperSx:a,placeholder:l})=>{const[d,p]=c.useState(o??""),g=d.trim().toLowerCase(),m=c.useMemo(()=>g?t.filter(f=>f.toLowerCase().includes(g)):t,[g,t]);return h.jsx(We,{sx:a??l0,children:h.jsx(Ns,{freeSolo:!0,disableClearable:!0,componentsProps:{popper:{style:{zIndex:2e3}}},options:m,value:o||"",inputValue:d,onInputChange:(f,v)=>p(v),onChange:(f,v)=>s(String(v??"")),getOptionLabel:f=>typeof f=="string"?f:String(f),renderOption:(f,v)=>h.jsx(Fi,{...f,dense:!0,children:h.jsx(Zn,{primary:v})}),renderInput:f=>{const v=h.jsx(h.Fragment,{children:f.InputProps.endAdornment});return h.jsx(Dn,{...f,placeholder:o?"":l??e,size:"small",required:i,"aria-label":e,InputProps:{...f.InputProps,endAdornment:v,sx:{height:jr,transition:"all 120ms ease","& .MuiInputBase-input":{paddingTop:0,paddingBottom:0,paddingRight:"56px",fontSize:13,lineHeight:`${rd}px`}}}})},ListboxProps:{sx:{zIndex:2e3,maxHeight:320}},sx:{width:lh,"& .MuiAutocomplete-inputRoot":{minHeight:jr,maxHeight:jr,alignItems:"center",transition:"all 120ms ease","& .MuiInputBase-input":{paddingTop:0,paddingBottom:0,paddingRight:"56px",fontSize:13,lineHeight:`${rd}px`}}}})})};function sd(e){const t=e.match(/\(([^)]+)\)/);return t?t[1]:""}function id(e){return[...e].sort((t,o)=>{const s=sd(t),i=sd(o);return s===i?t.localeCompare(o):s.localeCompare(i)})}const c0=mr(Nt),u0=({mode:e="task-default",onSearch:t,onClear:o,dropdownData:s,resetKey:i,hideActions:a})=>{const l=zt(),[d,p]=c.useState({statuses:[],pwa:[],capabilities:[],commitmentTypes:[],responseCodes:[],impCondition:"",impValue:""}),[g,m]=c.useState(null),[f,v]=c.useState({statuses:"",pwa:"",capabilities:"",commitmentTypes:"",responseCodes:"",resourceStatuses:""});c.useEffect(()=>{p({statuses:[],pwa:[],capabilities:[],commitmentTypes:[],responseCodes:[],impCondition:"",impValue:""}),v({statuses:"",pwa:"",capabilities:"",commitmentTypes:"",responseCodes:"",resourceStatuses:""}),m(null)},[i]),c.useEffect(()=>{a&&t(d)},[d,a,t]);const y=N=>N??[],C=(N,F)=>N.filter($=>$.toLowerCase().includes(F.toLowerCase())),x={statuses:C(id(y(s.statuses)),f.statuses),pwa:C(y(s.pwa),f.pwa),capabilities:C(y(s.capabilities),f.capabilities),commitmentTypes:C(y(s.commitmentTypes),f.commitmentTypes),responseCodes:C(y(s.responseCodes),f.responseCodes),resourceStatuses:C(id(y(s.resourceStatuses)),f.resourceStatuses)},S=h.jsx(Fn,{label:"Task Status",options:x.statuses,value:d.statuses,onChange:N=>p(F=>({...F,statuses:N}))}),_=h.jsx(Fn,{label:"PWA",options:x.pwa,value:d.pwa,onChange:N=>p(F=>({...F,pwa:N}))}),P=h.jsx(Fn,{label:"Capabilities",options:x.capabilities,value:d.capabilities,onChange:N=>p(F=>({...F,capabilities:N}))}),z=h.jsx(Fn,{label:"Commit Type",options:x.commitmentTypes,value:d.commitmentTypes,onChange:N=>p(F=>({...F,commitmentTypes:N}))}),D=h.jsx(Fn,{label:"Response Code",options:x.responseCodes,value:d.responseCodes??[],onChange:N=>p(F=>({...F,responseCodes:N}))}),j=h.jsx(d0,{condition:d.impCondition??"",value:d.impValue??"",openDropdown:g,setOpenDropdown:m,onConditionChange:N=>p(F=>({...F,impCondition:N})),onValueChange:N=>p(F=>({...F,impValue:N}))}),k=h.jsx(Fn,{label:"Status",options:x.resourceStatuses,value:d.statuses,onChange:N=>p(F=>({...F,statuses:N}))}),M=e==="resource-active"?"resource-active":"task-default",A=()=>M==="task-default"?h.jsxs(Et,{container:!0,spacing:2,children:[h.jsx(Et,{item:!0,xs:12,sm:6,children:S}),h.jsx(Et,{item:!0,xs:12,sm:6,children:_}),h.jsx(Et,{item:!0,xs:12,sm:6,children:P}),h.jsx(Et,{item:!0,xs:12,sm:6,children:z}),h.jsx(Et,{item:!0,xs:12,sm:6,children:D}),h.jsx(Et,{item:!0,xs:12,children:j})]}):M==="resource-active"?h.jsxs(Et,{container:!0,spacing:2,children:[h.jsx(Et,{item:!0,xs:12,sm:6,children:k}),h.jsx(Et,{item:!0,xs:12,sm:6,children:_})]}):null;return h.jsxs(c0,{initial:{opacity:0,y:-4},animate:{opacity:1,y:0},transition:{duration:.2},elevation:0,sx:{width:"100%",maxWidth:{xs:"95vw",sm:l.spacing(100)},borderRadius:3,px:3,py:3,display:"flex",flexDirection:"column",gap:3,border:`1px solid ${Me(l.palette.primary.main,.18)}`,boxShadow:"0 18px 46px rgba(8,58,97,0.18)",backgroundImage:"none",overflowX:"hidden"},children:[A(),!a&&h.jsxs(It,{direction:"row",justifyContent:"flex-end",spacing:1.5,pt:2,mt:2,sx:{borderTop:`1px solid ${Me(l.palette.divider,.7)}`},children:[h.jsx(wn,{variant:"contained",color:"primary",size:"small",onClick:()=>t(d),sx:{px:3,fontWeight:600,boxShadow:"none","&:hover":{boxShadow:"0 12px 28px rgba(8,58,97,0.25)"}},children:"Search"}),h.jsx(wn,{variant:"outlined",size:"small",onClick:o,sx:{px:3,fontWeight:600,borderColor:Me(l.palette.primary.main,.28),"&:hover":{borderColor:l.palette.primary.main,backgroundColor:Me(l.palette.primary.main,.08)}},children:"Clear"})]})]})};function d0({condition:e,value:t,openDropdown:o,setOpenDropdown:s,onConditionChange:i,onValueChange:a}){const l=zt(),[d,p]=c.useState(null),g=o==="imp";c.useEffect(()=>{g||p(null)},[g]);const m=e==="greater"?"Greater Than":e==="less"?"Less Than":"IMP Score",f=y=>{g?s(null):(p(y.currentTarget),s("imp"))},v=()=>s(null);return h.jsxs(It,{direction:{xs:"column",sm:"row"},spacing:2,alignItems:{xs:"stretch",sm:"flex-start"},children:[h.jsx(wn,{variant:"outlined",size:"small",endIcon:h.jsx(Np,{size:14}),onClick:f,sx:{maxWidth:240,width:"100%",justifyContent:"space-between",textTransform:"none",fontSize:12,fontWeight:500,height:36,borderRadius:1.5,borderColor:Me(l.palette.primary.main,.22),color:l.palette.text.primary,px:2,"&:hover":{borderColor:l.palette.primary.main,backgroundColor:Me(l.palette.primary.main,.06)}},children:h.jsx(bt,{variant:"caption",component:"span",sx:{flexGrow:1,textAlign:"left",pr:1.5,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:m})}),h.jsx(Dn,{type:"number",size:"small",value:t,onChange:y=>{const C=(y.target.value||"").replace(/\D/g,"").slice(0,3);a(C)},placeholder:"Value",inputProps:{min:0,max:999,style:{fontSize:12,padding:"6px 10px",width:"clamp(64px, 6vw, 90px)"}}}),h.jsxs(Ul,{anchorEl:d,open:g,onClose:v,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},MenuListProps:{dense:!0,sx:{fontSize:12}},slotProps:{paper:{elevation:12,sx:{minWidth:180,borderRadius:2,border:`1px solid ${Me(l.palette.primary.main,.18)}`,boxShadow:"0 18px 46px rgba(8,58,97,0.18)",backgroundImage:"none"}}},children:[h.jsx(hn,{onClick:()=>{i("greater"),v()},children:"Greater Than"}),h.jsx(hn,{onClick:()=>{i("less"),v()},children:"Less Than"})]})]})}function p0({mode:e,onSearch:t,onClear:o,dropdownData:s,resetKey:i}){return h.jsx(u0,{mode:e,onSearch:t,onClear:o,dropdownData:s,resetKey:i,hideActions:!0})}function h0(){const e=zt();return h.jsx(Nt,{elevation:0,sx:{height:"100%",borderRadius:3,px:3,py:2.5,border:`1px solid ${Me(e.palette.primary.main,.18)}`,boxShadow:"0 18px 46px rgba(8,58,97,0.18)",backgroundImage:"none"}})}function ch(e,t){const o=c.useRef(t);c.useEffect(function(){t!==o.current&&e.attributionControl!=null&&(o.current!=null&&e.attributionControl.removeAttribution(o.current),t!=null&&e.attributionControl.addAttribution(t)),o.current=t},[e,t])}const m0=1;function f0(e){return Object.freeze({__version:m0,map:e})}function g0(e,t){return Object.freeze({...e,...t})}const ic=c.createContext(null);function ac(){const e=c.use(ic);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function v0(e){function t(o,s){const{instance:i,context:a}=e(o).current;c.useImperativeHandle(s,()=>i);const{children:l}=o;return l==null?null:Nn.createElement(ic,{value:a},l)}return c.forwardRef(t)}function b0(e){function t(o,s){const[i,a]=c.useState(!1),{instance:l}=e(o,a).current;c.useImperativeHandle(s,()=>l),c.useEffect(function(){i&&l.update()},[l,i,o.children]);const d=l._contentNode;return d?Os.createPortal(o.children,d):null}return c.forwardRef(t)}function y0(e){function t(o,s){const{instance:i}=e(o).current;return c.useImperativeHandle(s,()=>i),null}return c.forwardRef(t)}function uh(e,t){const o=c.useRef(void 0);c.useEffect(function(){return t!=null&&e.instance.on(t),o.current=t,function(){o.current!=null&&e.instance.off(o.current),o.current=null}},[e,t])}function lc(e,t){const o=e.pane??t.pane;return o?{...e,pane:o}:e}function C0(e,t){return function(s,i){const a=ac(),l=e(lc(s,a),a);return ch(a.map,s.attribution),uh(l.current,s.eventHandlers),t(l.current,a,s,i),l}}var vs={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var x0=vs.exports,ad;function w0(){return ad||(ad=1,function(e,t){(function(o,s){s(t)})(x0,function(o){var s="1.9.4";function i(n){var r,u,b,w;for(u=1,b=arguments.length;u<b;u++){w=arguments[u];for(r in w)n[r]=w[r]}return n}var a=Object.create||function(){function n(){}return function(r){return n.prototype=r,new n}}();function l(n,r){var u=Array.prototype.slice;if(n.bind)return n.bind.apply(n,u.call(arguments,1));var b=u.call(arguments,2);return function(){return n.apply(r,b.length?b.concat(u.call(arguments)):arguments)}}var d=0;function p(n){return"_leaflet_id"in n||(n._leaflet_id=++d),n._leaflet_id}function g(n,r,u){var b,w,O,K;return K=function(){b=!1,w&&(O.apply(u,w),w=!1)},O=function(){b?w=arguments:(n.apply(u,arguments),setTimeout(K,r),b=!0)},O}function m(n,r,u){var b=r[1],w=r[0],O=b-w;return n===b&&u?n:((n-w)%O+O)%O+w}function f(){return!1}function v(n,r){if(r===!1)return n;var u=Math.pow(10,r===void 0?6:r);return Math.round(n*u)/u}function y(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}function C(n){return y(n).split(/\s+/)}function x(n,r){Object.prototype.hasOwnProperty.call(n,"options")||(n.options=n.options?a(n.options):{});for(var u in r)n.options[u]=r[u];return n.options}function S(n,r,u){var b=[];for(var w in n)b.push(encodeURIComponent(u?w.toUpperCase():w)+"="+encodeURIComponent(n[w]));return(!r||r.indexOf("?")===-1?"?":"&")+b.join("&")}var _=/\{ *([\w_ -]+) *\}/g;function P(n,r){return n.replace(_,function(u,b){var w=r[b];if(w===void 0)throw new Error("No value provided for variable "+u);return typeof w=="function"&&(w=w(r)),w})}var z=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"};function D(n,r){for(var u=0;u<n.length;u++)if(n[u]===r)return u;return-1}var j="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function k(n){return window["webkit"+n]||window["moz"+n]||window["ms"+n]}var M=0;function A(n){var r=+new Date,u=Math.max(0,16-(r-M));return M=r+u,window.setTimeout(n,u)}var N=window.requestAnimationFrame||k("RequestAnimationFrame")||A,F=window.cancelAnimationFrame||k("CancelAnimationFrame")||k("CancelRequestAnimationFrame")||function(n){window.clearTimeout(n)};function $(n,r,u){if(u&&N===A)n.call(r);else return N.call(window,l(n,r))}function G(n){n&&F.call(window,n)}var H={__proto__:null,extend:i,create:a,bind:l,get lastId(){return d},stamp:p,throttle:g,wrapNum:m,falseFn:f,formatNum:v,trim:y,splitWords:C,setOptions:x,getParamString:S,template:P,isArray:z,indexOf:D,emptyImageUrl:j,requestFn:N,cancelFn:F,requestAnimFrame:$,cancelAnimFrame:G};function T(){}T.extend=function(n){var r=function(){x(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},u=r.__super__=this.prototype,b=a(u);b.constructor=r,r.prototype=b;for(var w in this)Object.prototype.hasOwnProperty.call(this,w)&&w!=="prototype"&&w!=="__super__"&&(r[w]=this[w]);return n.statics&&i(r,n.statics),n.includes&&(E(n.includes),i.apply(null,[b].concat(n.includes))),i(b,n),delete b.statics,delete b.includes,b.options&&(b.options=u.options?a(u.options):{},i(b.options,n.options)),b._initHooks=[],b.callInitHooks=function(){if(!this._initHooksCalled){u.callInitHooks&&u.callInitHooks.call(this),this._initHooksCalled=!0;for(var O=0,K=b._initHooks.length;O<K;O++)b._initHooks[O].call(this)}},r},T.include=function(n){var r=this.prototype.options;return i(this.prototype,n),n.options&&(this.prototype.options=r,this.mergeOptions(n.options)),this},T.mergeOptions=function(n){return i(this.prototype.options,n),this},T.addInitHook=function(n){var r=Array.prototype.slice.call(arguments,1),u=typeof n=="function"?n:function(){this[n].apply(this,r)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(u),this};function E(n){if(!(typeof L>"u"||!L||!L.Mixin)){n=z(n)?n:[n];for(var r=0;r<n.length;r++)n[r]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var B={on:function(n,r,u){if(typeof n=="object")for(var b in n)this._on(b,n[b],r);else{n=C(n);for(var w=0,O=n.length;w<O;w++)this._on(n[w],r,u)}return this},off:function(n,r,u){if(!arguments.length)delete this._events;else if(typeof n=="object")for(var b in n)this._off(b,n[b],r);else{n=C(n);for(var w=arguments.length===1,O=0,K=n.length;O<K;O++)w?this._off(n[O]):this._off(n[O],r,u)}return this},_on:function(n,r,u,b){if(typeof r!="function"){console.warn("wrong listener type: "+typeof r);return}if(this._listens(n,r,u)===!1){u===this&&(u=void 0);var w={fn:r,ctx:u};b&&(w.once=!0),this._events=this._events||{},this._events[n]=this._events[n]||[],this._events[n].push(w)}},_off:function(n,r,u){var b,w,O;if(this._events&&(b=this._events[n],!!b)){if(arguments.length===1){if(this._firingCount)for(w=0,O=b.length;w<O;w++)b[w].fn=f;delete this._events[n];return}if(typeof r!="function"){console.warn("wrong listener type: "+typeof r);return}var K=this._listens(n,r,u);if(K!==!1){var re=b[K];this._firingCount&&(re.fn=f,this._events[n]=b=b.slice()),b.splice(K,1)}}},fire:function(n,r,u){if(!this.listens(n,u))return this;var b=i({},r,{type:n,target:this,sourceTarget:r&&r.sourceTarget||this});if(this._events){var w=this._events[n];if(w){this._firingCount=this._firingCount+1||1;for(var O=0,K=w.length;O<K;O++){var re=w[O],ce=re.fn;re.once&&this.off(n,ce,re.ctx),ce.call(re.ctx||this,b)}this._firingCount--}}return u&&this._propagateEvent(b),this},listens:function(n,r,u,b){typeof n!="string"&&console.warn('"string" type argument expected');var w=r;typeof r!="function"&&(b=!!r,w=void 0,u=void 0);var O=this._events&&this._events[n];if(O&&O.length&&this._listens(n,w,u)!==!1)return!0;if(b){for(var K in this._eventParents)if(this._eventParents[K].listens(n,r,u,b))return!0}return!1},_listens:function(n,r,u){if(!this._events)return!1;var b=this._events[n]||[];if(!r)return!!b.length;u===this&&(u=void 0);for(var w=0,O=b.length;w<O;w++)if(b[w].fn===r&&b[w].ctx===u)return w;return!1},once:function(n,r,u){if(typeof n=="object")for(var b in n)this._on(b,n[b],r,!0);else{n=C(n);for(var w=0,O=n.length;w<O;w++)this._on(n[w],r,u,!0)}return this},addEventParent:function(n){return this._eventParents=this._eventParents||{},this._eventParents[p(n)]=n,this},removeEventParent:function(n){return this._eventParents&&delete this._eventParents[p(n)],this},_propagateEvent:function(n){for(var r in this._eventParents)this._eventParents[r].fire(n.type,i({layer:n.target,propagatedFrom:n.target},n),!0)}};B.addEventListener=B.on,B.removeEventListener=B.clearAllEventListeners=B.off,B.addOneTimeEventListener=B.once,B.fireEvent=B.fire,B.hasEventListeners=B.listens;var W=T.extend(B);function R(n,r,u){this.x=u?Math.round(n):n,this.y=u?Math.round(r):r}var V=Math.trunc||function(n){return n>0?Math.floor(n):Math.ceil(n)};R.prototype={clone:function(){return new R(this.x,this.y)},add:function(n){return this.clone()._add(Z(n))},_add:function(n){return this.x+=n.x,this.y+=n.y,this},subtract:function(n){return this.clone()._subtract(Z(n))},_subtract:function(n){return this.x-=n.x,this.y-=n.y,this},divideBy:function(n){return this.clone()._divideBy(n)},_divideBy:function(n){return this.x/=n,this.y/=n,this},multiplyBy:function(n){return this.clone()._multiplyBy(n)},_multiplyBy:function(n){return this.x*=n,this.y*=n,this},scaleBy:function(n){return new R(this.x*n.x,this.y*n.y)},unscaleBy:function(n){return new R(this.x/n.x,this.y/n.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=V(this.x),this.y=V(this.y),this},distanceTo:function(n){n=Z(n);var r=n.x-this.x,u=n.y-this.y;return Math.sqrt(r*r+u*u)},equals:function(n){return n=Z(n),n.x===this.x&&n.y===this.y},contains:function(n){return n=Z(n),Math.abs(n.x)<=Math.abs(this.x)&&Math.abs(n.y)<=Math.abs(this.y)},toString:function(){return"Point("+v(this.x)+", "+v(this.y)+")"}};function Z(n,r,u){return n instanceof R?n:z(n)?new R(n[0],n[1]):n==null?n:typeof n=="object"&&"x"in n&&"y"in n?new R(n.x,n.y):new R(n,r,u)}function q(n,r){if(n)for(var u=r?[n,r]:n,b=0,w=u.length;b<w;b++)this.extend(u[b])}q.prototype={extend:function(n){var r,u;if(!n)return this;if(n instanceof R||typeof n[0]=="number"||"x"in n)r=u=Z(n);else if(n=ee(n),r=n.min,u=n.max,!r||!u)return this;return!this.min&&!this.max?(this.min=r.clone(),this.max=u.clone()):(this.min.x=Math.min(r.x,this.min.x),this.max.x=Math.max(u.x,this.max.x),this.min.y=Math.min(r.y,this.min.y),this.max.y=Math.max(u.y,this.max.y)),this},getCenter:function(n){return Z((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,n)},getBottomLeft:function(){return Z(this.min.x,this.max.y)},getTopRight:function(){return Z(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(n){var r,u;return typeof n[0]=="number"||n instanceof R?n=Z(n):n=ee(n),n instanceof q?(r=n.min,u=n.max):r=u=n,r.x>=this.min.x&&u.x<=this.max.x&&r.y>=this.min.y&&u.y<=this.max.y},intersects:function(n){n=ee(n);var r=this.min,u=this.max,b=n.min,w=n.max,O=w.x>=r.x&&b.x<=u.x,K=w.y>=r.y&&b.y<=u.y;return O&&K},overlaps:function(n){n=ee(n);var r=this.min,u=this.max,b=n.min,w=n.max,O=w.x>r.x&&b.x<u.x,K=w.y>r.y&&b.y<u.y;return O&&K},isValid:function(){return!!(this.min&&this.max)},pad:function(n){var r=this.min,u=this.max,b=Math.abs(r.x-u.x)*n,w=Math.abs(r.y-u.y)*n;return ee(Z(r.x-b,r.y-w),Z(u.x+b,u.y+w))},equals:function(n){return n?(n=ee(n),this.min.equals(n.getTopLeft())&&this.max.equals(n.getBottomRight())):!1}};function ee(n,r){return!n||n instanceof q?n:new q(n,r)}function X(n,r){if(n)for(var u=r?[n,r]:n,b=0,w=u.length;b<w;b++)this.extend(u[b])}X.prototype={extend:function(n){var r=this._southWest,u=this._northEast,b,w;if(n instanceof Y)b=n,w=n;else if(n instanceof X){if(b=n._southWest,w=n._northEast,!b||!w)return this}else return n?this.extend(ne(n)||te(n)):this;return!r&&!u?(this._southWest=new Y(b.lat,b.lng),this._northEast=new Y(w.lat,w.lng)):(r.lat=Math.min(b.lat,r.lat),r.lng=Math.min(b.lng,r.lng),u.lat=Math.max(w.lat,u.lat),u.lng=Math.max(w.lng,u.lng)),this},pad:function(n){var r=this._southWest,u=this._northEast,b=Math.abs(r.lat-u.lat)*n,w=Math.abs(r.lng-u.lng)*n;return new X(new Y(r.lat-b,r.lng-w),new Y(u.lat+b,u.lng+w))},getCenter:function(){return new Y((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Y(this.getNorth(),this.getWest())},getSouthEast:function(){return new Y(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(n){typeof n[0]=="number"||n instanceof Y||"lat"in n?n=ne(n):n=te(n);var r=this._southWest,u=this._northEast,b,w;return n instanceof X?(b=n.getSouthWest(),w=n.getNorthEast()):b=w=n,b.lat>=r.lat&&w.lat<=u.lat&&b.lng>=r.lng&&w.lng<=u.lng},intersects:function(n){n=te(n);var r=this._southWest,u=this._northEast,b=n.getSouthWest(),w=n.getNorthEast(),O=w.lat>=r.lat&&b.lat<=u.lat,K=w.lng>=r.lng&&b.lng<=u.lng;return O&&K},overlaps:function(n){n=te(n);var r=this._southWest,u=this._northEast,b=n.getSouthWest(),w=n.getNorthEast(),O=w.lat>r.lat&&b.lat<u.lat,K=w.lng>r.lng&&b.lng<u.lng;return O&&K},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(n,r){return n?(n=te(n),this._southWest.equals(n.getSouthWest(),r)&&this._northEast.equals(n.getNorthEast(),r)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function te(n,r){return n instanceof X?n:new X(n,r)}function Y(n,r,u){if(isNaN(n)||isNaN(r))throw new Error("Invalid LatLng object: ("+n+", "+r+")");this.lat=+n,this.lng=+r,u!==void 0&&(this.alt=+u)}Y.prototype={equals:function(n,r){if(!n)return!1;n=ne(n);var u=Math.max(Math.abs(this.lat-n.lat),Math.abs(this.lng-n.lng));return u<=(r===void 0?1e-9:r)},toString:function(n){return"LatLng("+v(this.lat,n)+", "+v(this.lng,n)+")"},distanceTo:function(n){return le.distance(this,ne(n))},wrap:function(){return le.wrapLatLng(this)},toBounds:function(n){var r=180*n/40075017,u=r/Math.cos(Math.PI/180*this.lat);return te([this.lat-r,this.lng-u],[this.lat+r,this.lng+u])},clone:function(){return new Y(this.lat,this.lng,this.alt)}};function ne(n,r,u){return n instanceof Y?n:z(n)&&typeof n[0]!="object"?n.length===3?new Y(n[0],n[1],n[2]):n.length===2?new Y(n[0],n[1]):null:n==null?n:typeof n=="object"&&"lat"in n?new Y(n.lat,"lng"in n?n.lng:n.lon,n.alt):r===void 0?null:new Y(n,r,u)}var U={latLngToPoint:function(n,r){var u=this.projection.project(n),b=this.scale(r);return this.transformation._transform(u,b)},pointToLatLng:function(n,r){var u=this.scale(r),b=this.transformation.untransform(n,u);return this.projection.unproject(b)},project:function(n){return this.projection.project(n)},unproject:function(n){return this.projection.unproject(n)},scale:function(n){return 256*Math.pow(2,n)},zoom:function(n){return Math.log(n/256)/Math.LN2},getProjectedBounds:function(n){if(this.infinite)return null;var r=this.projection.bounds,u=this.scale(n),b=this.transformation.transform(r.min,u),w=this.transformation.transform(r.max,u);return new q(b,w)},infinite:!1,wrapLatLng:function(n){var r=this.wrapLng?m(n.lng,this.wrapLng,!0):n.lng,u=this.wrapLat?m(n.lat,this.wrapLat,!0):n.lat,b=n.alt;return new Y(u,r,b)},wrapLatLngBounds:function(n){var r=n.getCenter(),u=this.wrapLatLng(r),b=r.lat-u.lat,w=r.lng-u.lng;if(b===0&&w===0)return n;var O=n.getSouthWest(),K=n.getNorthEast(),re=new Y(O.lat-b,O.lng-w),ce=new Y(K.lat-b,K.lng-w);return new X(re,ce)}},le=i({},U,{wrapLng:[-180,180],R:6371e3,distance:function(n,r){var u=Math.PI/180,b=n.lat*u,w=r.lat*u,O=Math.sin((r.lat-n.lat)*u/2),K=Math.sin((r.lng-n.lng)*u/2),re=O*O+Math.cos(b)*Math.cos(w)*K*K,ce=2*Math.atan2(Math.sqrt(re),Math.sqrt(1-re));return this.R*ce}}),Pe=6378137,oe={R:Pe,MAX_LATITUDE:85.0511287798,project:function(n){var r=Math.PI/180,u=this.MAX_LATITUDE,b=Math.max(Math.min(u,n.lat),-u),w=Math.sin(b*r);return new R(this.R*n.lng*r,this.R*Math.log((1+w)/(1-w))/2)},unproject:function(n){var r=180/Math.PI;return new Y((2*Math.atan(Math.exp(n.y/this.R))-Math.PI/2)*r,n.x*r/this.R)},bounds:function(){var n=Pe*Math.PI;return new q([-n,-n],[n,n])}()};function ue(n,r,u,b){if(z(n)){this._a=n[0],this._b=n[1],this._c=n[2],this._d=n[3];return}this._a=n,this._b=r,this._c=u,this._d=b}ue.prototype={transform:function(n,r){return this._transform(n.clone(),r)},_transform:function(n,r){return r=r||1,n.x=r*(this._a*n.x+this._b),n.y=r*(this._c*n.y+this._d),n},untransform:function(n,r){return r=r||1,new R((n.x/r-this._b)/this._a,(n.y/r-this._d)/this._c)}};function he(n,r,u,b){return new ue(n,r,u,b)}var ie=i({},le,{code:"EPSG:3857",projection:oe,transformation:function(){var n=.5/(Math.PI*oe.R);return he(n,.5,-n,.5)}()}),ge=i({},ie,{code:"EPSG:900913"});function de(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function Ce(n,r){var u="",b,w,O,K,re,ce;for(b=0,O=n.length;b<O;b++){for(re=n[b],w=0,K=re.length;w<K;w++)ce=re[w],u+=(w?"L":"M")+ce.x+" "+ce.y;u+=r?De.svg?"z":"x":""}return u||"M0 0"}var se=document.documentElement.style,ye="ActiveXObject"in window,Te=ye&&!document.addEventListener,Ae="msLaunchUri"in navigator&&!("documentMode"in document),Oe=xt("webkit"),Ee=xt("android"),xe=xt("android 2")||xt("android 3"),we=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Fe=Ee&&xt("Google")&&we<537&&!("AudioNode"in window),Ve=!!window.opera,Xe=!Ae&&xt("chrome"),Ke=xt("gecko")&&!Oe&&!Ve&&!ye,qe=!Xe&&xt("safari"),Ze=xt("phantom"),St="OTransition"in se,nt=navigator.platform.indexOf("Win")===0,Ye=ye&&"transition"in se,Jt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!xe,Tt="MozPerspective"in se,Ht=!window.L_DISABLE_3D&&(Ye||Jt||Tt)&&!St&&!Ze,cn=typeof orientation<"u"||xt("mobile"),on=cn&&Oe,an=cn&&Jt,jt=!window.PointerEvent&&window.MSPointerEvent,Ie=!!(window.PointerEvent||jt),Q="ontouchstart"in window||!!window.TouchEvent,me=!window.L_NO_TOUCH&&(Q||Ie),ze=cn&&Ve,ft=cn&&Ke,et=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ue=function(){var n=!1;try{var r=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("testPassiveEventSupport",f,r),window.removeEventListener("testPassiveEventSupport",f,r)}catch{}return n}(),st=function(){return!!document.createElement("canvas").getContext}(),be=!!(document.createElementNS&&de("svg").createSVGRect),ve=!!be&&function(){var n=document.createElement("div");return n.innerHTML="<svg/>",(n.firstChild&&n.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Se=!be&&function(){try{var n=document.createElement("div");n.innerHTML='<v:shape adj="1"/>';var r=n.firstChild;return r.style.behavior="url(#default#VML)",r&&typeof r.adj=="object"}catch{return!1}}(),ke=navigator.platform.indexOf("Mac")===0,ot=navigator.platform.indexOf("Linux")===0;function xt(n){return navigator.userAgent.toLowerCase().indexOf(n)>=0}var De={ie:ye,ielt9:Te,edge:Ae,webkit:Oe,android:Ee,android23:xe,androidStock:Fe,opera:Ve,chrome:Xe,gecko:Ke,safari:qe,phantom:Ze,opera12:St,win:nt,ie3d:Ye,webkit3d:Jt,gecko3d:Tt,any3d:Ht,mobile:cn,mobileWebkit:on,mobileWebkit3d:an,msPointer:jt,pointer:Ie,touch:me,touchNative:Q,mobileOpera:ze,mobileGecko:ft,retina:et,passiveEvents:Ue,canvas:st,svg:be,vml:Se,inlineSvg:ve,mac:ke,linux:ot},qt=De.msPointer?"MSPointerDown":"pointerdown",Cn=De.msPointer?"MSPointerMove":"pointermove",kt=De.msPointer?"MSPointerUp":"pointerup",Ft=De.msPointer?"MSPointerCancel":"pointercancel",gn={touchstart:qt,touchmove:Cn,touchend:kt,touchcancel:Ft},ro={touchstart:Ma,touchmove:Mo,touchend:Mo,touchcancel:Mo},fe={},pe=!1;function Be(n,r,u){return r==="touchstart"&&In(),ro[r]?(u=ro[r].bind(this,u),n.addEventListener(gn[r],u,!1),u):(console.warn("wrong event specified:",r),f)}function tt(n,r,u){if(!gn[r]){console.warn("wrong event specified:",r);return}n.removeEventListener(gn[r],u,!1)}function gt(n){fe[n.pointerId]=n}function Mt(n){fe[n.pointerId]&&(fe[n.pointerId]=n)}function Gt(n){delete fe[n.pointerId]}function In(){pe||(document.addEventListener(qt,gt,!0),document.addEventListener(Cn,Mt,!0),document.addEventListener(kt,Gt,!0),document.addEventListener(Ft,Gt,!0),pe=!0)}function Mo(n,r){if(r.pointerType!==(r.MSPOINTER_TYPE_MOUSE||"mouse")){r.touches=[];for(var u in fe)r.touches.push(fe[u]);r.changedTouches=[r],n(r)}}function Ma(n,r){r.MSPOINTER_TYPE_TOUCH&&r.pointerType===r.MSPOINTER_TYPE_TOUCH&&vn(r),Mo(n,r)}function Ks(n){var r={},u,b;for(b in n)u=n[b],r[b]=u&&u.bind?u.bind(n):u;return n=r,r.type="dblclick",r.detail=2,r.isTrusted=!1,r._simulated=!0,r}var vr=200;function br(n,r){n.addEventListener("dblclick",r);var u=0,b;function w(O){if(O.detail!==1){b=O.detail;return}if(!(O.pointerType==="mouse"||O.sourceCapabilities&&!O.sourceCapabilities.firesTouchEvents)){var K=Uc(O);if(!(K.some(function(ce){return ce instanceof HTMLLabelElement&&ce.attributes.for})&&!K.some(function(ce){return ce instanceof HTMLInputElement||ce instanceof HTMLSelectElement}))){var re=Date.now();re-u<=vr?(b++,b===2&&r(Ks(O))):b=1,u=re}}}return n.addEventListener("click",w),{dblclick:r,simDblclick:w}}function wt(n,r){n.removeEventListener("dblclick",r.dblclick),n.removeEventListener("click",r.simDblclick)}var Tn=Ys(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),kn=Ys(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ao=kn==="webkitTransition"||kn==="OTransition"?kn+"End":"transitionend";function Js(n){return typeof n=="string"?document.getElementById(n):n}function es(n,r){var u=n.style[r]||n.currentStyle&&n.currentStyle[r];if((!u||u==="auto")&&document.defaultView){var b=document.defaultView.getComputedStyle(n,null);u=b?b[r]:null}return u==="auto"?null:u}function _t(n,r,u){var b=document.createElement(n);return b.className=r||"",u&&u.appendChild(b),b}function Vt(n){var r=n.parentNode;r&&r.removeChild(n)}function qs(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function yr(n){var r=n.parentNode;r&&r.lastChild!==n&&r.appendChild(n)}function Cr(n){var r=n.parentNode;r&&r.firstChild!==n&&r.insertBefore(n,r.firstChild)}function Aa(n,r){if(n.classList!==void 0)return n.classList.contains(r);var u=Xs(n);return u.length>0&&new RegExp("(^|\\s)"+r+"(\\s|$)").test(u)}function lt(n,r){if(n.classList!==void 0)for(var u=C(r),b=0,w=u.length;b<w;b++)n.classList.add(u[b]);else if(!Aa(n,r)){var O=Xs(n);Ea(n,(O?O+" ":"")+r)}}function en(n,r){n.classList!==void 0?n.classList.remove(r):Ea(n,y((" "+Xs(n)+" ").replace(" "+r+" "," ")))}function Ea(n,r){n.className.baseVal===void 0?n.className=r:n.className.baseVal=r}function Xs(n){return n.correspondingElement&&(n=n.correspondingElement),n.className.baseVal===void 0?n.className:n.className.baseVal}function zn(n,r){"opacity"in n.style?n.style.opacity=r:"filter"in n.style&&sf(n,r)}function sf(n,r){var u=!1,b="DXImageTransform.Microsoft.Alpha";try{u=n.filters.item(b)}catch{if(r===1)return}r=Math.round(r*100),u?(u.Enabled=r!==100,u.Opacity=r):n.style.filter+=" progid:"+b+"(opacity="+r+")"}function Ys(n){for(var r=document.documentElement.style,u=0;u<n.length;u++)if(n[u]in r)return n[u];return!1}function Ko(n,r,u){var b=r||new R(0,0);n.style[Tn]=(De.ie3d?"translate("+b.x+"px,"+b.y+"px)":"translate3d("+b.x+"px,"+b.y+"px,0)")+(u?" scale("+u+")":"")}function rn(n,r){n._leaflet_pos=r,De.any3d?Ko(n,r):(n.style.left=r.x+"px",n.style.top=r.y+"px")}function Jo(n){return n._leaflet_pos||new R(0,0)}var ts,ns,Da;if("onselectstart"in document)ts=function(){rt(window,"selectstart",vn)},ns=function(){Rt(window,"selectstart",vn)};else{var os=Ys(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ts=function(){if(os){var n=document.documentElement.style;Da=n[os],n[os]="none"}},ns=function(){os&&(document.documentElement.style[os]=Da,Da=void 0)}}function Ra(){rt(window,"dragstart",vn)}function La(){Rt(window,"dragstart",vn)}var Qs,Fa;function Oa(n){for(;n.tabIndex===-1;)n=n.parentNode;n.style&&(ei(),Qs=n,Fa=n.style.outlineStyle,n.style.outlineStyle="none",rt(window,"keydown",ei))}function ei(){Qs&&(Qs.style.outlineStyle=Fa,Qs=void 0,Fa=void 0,Rt(window,"keydown",ei))}function Wc(n){do n=n.parentNode;while((!n.offsetWidth||!n.offsetHeight)&&n!==document.body);return n}function Na(n){var r=n.getBoundingClientRect();return{x:r.width/n.offsetWidth||1,y:r.height/n.offsetHeight||1,boundingClientRect:r}}var af={__proto__:null,TRANSFORM:Tn,TRANSITION:kn,TRANSITION_END:Ao,get:Js,getStyle:es,create:_t,remove:Vt,empty:qs,toFront:yr,toBack:Cr,hasClass:Aa,addClass:lt,removeClass:en,setClass:Ea,getClass:Xs,setOpacity:zn,testProp:Ys,setTransform:Ko,setPosition:rn,getPosition:Jo,get disableTextSelection(){return ts},get enableTextSelection(){return ns},disableImageDrag:Ra,enableImageDrag:La,preventOutline:Oa,restoreOutline:ei,getSizedParentNode:Wc,getScale:Na};function rt(n,r,u,b){if(r&&typeof r=="object")for(var w in r)$a(n,w,r[w],u);else{r=C(r);for(var O=0,K=r.length;O<K;O++)$a(n,r[O],u,b)}return this}var so="_leaflet_events";function Rt(n,r,u,b){if(arguments.length===1)Zc(n),delete n[so];else if(r&&typeof r=="object")for(var w in r)Ba(n,w,r[w],u);else if(r=C(r),arguments.length===2)Zc(n,function(re){return D(r,re)!==-1});else for(var O=0,K=r.length;O<K;O++)Ba(n,r[O],u,b);return this}function Zc(n,r){for(var u in n[so]){var b=u.split(/\d/)[0];(!r||r(b))&&Ba(n,b,null,null,u)}}var za={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function $a(n,r,u,b){var w=r+p(u)+(b?"_"+p(b):"");if(n[so]&&n[so][w])return this;var O=function(re){return u.call(b||n,re||window.event)},K=O;!De.touchNative&&De.pointer&&r.indexOf("touch")===0?O=Be(n,r,O):De.touch&&r==="dblclick"?O=br(n,O):"addEventListener"in n?r==="touchstart"||r==="touchmove"||r==="wheel"||r==="mousewheel"?n.addEventListener(za[r]||r,O,De.passiveEvents?{passive:!1}:!1):r==="mouseenter"||r==="mouseleave"?(O=function(re){re=re||window.event,ja(n,re)&&K(re)},n.addEventListener(za[r],O,!1)):n.addEventListener(r,K,!1):n.attachEvent("on"+r,O),n[so]=n[so]||{},n[so][w]=O}function Ba(n,r,u,b,w){w=w||r+p(u)+(b?"_"+p(b):"");var O=n[so]&&n[so][w];if(!O)return this;!De.touchNative&&De.pointer&&r.indexOf("touch")===0?tt(n,r,O):De.touch&&r==="dblclick"?wt(n,O):"removeEventListener"in n?n.removeEventListener(za[r]||r,O,!1):n.detachEvent("on"+r,O),n[so][w]=null}function qo(n){return n.stopPropagation?n.stopPropagation():n.originalEvent?n.originalEvent._stopped=!0:n.cancelBubble=!0,this}function Ha(n){return $a(n,"wheel",qo),this}function rs(n){return rt(n,"mousedown touchstart dblclick contextmenu",qo),n._leaflet_disable_click=!0,this}function vn(n){return n.preventDefault?n.preventDefault():n.returnValue=!1,this}function Xo(n){return vn(n),qo(n),this}function Uc(n){if(n.composedPath)return n.composedPath();for(var r=[],u=n.target;u;)r.push(u),u=u.parentNode;return r}function Kc(n,r){if(!r)return new R(n.clientX,n.clientY);var u=Na(r),b=u.boundingClientRect;return new R((n.clientX-b.left)/u.x-r.clientLeft,(n.clientY-b.top)/u.y-r.clientTop)}var lf=De.linux&&De.chrome?window.devicePixelRatio:De.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Jc(n){return De.edge?n.wheelDeltaY/2:n.deltaY&&n.deltaMode===0?-n.deltaY/lf:n.deltaY&&n.deltaMode===1?-n.deltaY*20:n.deltaY&&n.deltaMode===2?-n.deltaY*60:n.deltaX||n.deltaZ?0:n.wheelDelta?(n.wheelDeltaY||n.wheelDelta)/2:n.detail&&Math.abs(n.detail)<32765?-n.detail*20:n.detail?n.detail/-32765*60:0}function ja(n,r){var u=r.relatedTarget;if(!u)return!0;try{for(;u&&u!==n;)u=u.parentNode}catch{return!1}return u!==n}var cf={__proto__:null,on:rt,off:Rt,stopPropagation:qo,disableScrollPropagation:Ha,disableClickPropagation:rs,preventDefault:vn,stop:Xo,getPropagationPath:Uc,getMousePosition:Kc,getWheelDelta:Jc,isExternalTarget:ja,addListener:rt,removeListener:Rt},qc=W.extend({run:function(n,r,u,b){this.stop(),this._el=n,this._inProgress=!0,this._duration=u||.25,this._easeOutPower=1/Math.max(b||.5,.2),this._startPos=Jo(n),this._offset=r.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=$(this._animate,this),this._step()},_step:function(n){var r=+new Date-this._startTime,u=this._duration*1e3;r<u?this._runFrame(this._easeOut(r/u),n):(this._runFrame(1),this._complete())},_runFrame:function(n,r){var u=this._startPos.add(this._offset.multiplyBy(n));r&&u._round(),rn(this._el,u),this.fire("step")},_complete:function(){G(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(n){return 1-Math.pow(1-n,this._easeOutPower)}}),Ct=W.extend({options:{crs:ie,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(n,r){r=x(this,r),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(n),this._initLayout(),this._onResize=l(this._onResize,this),this._initEvents(),r.maxBounds&&this.setMaxBounds(r.maxBounds),r.zoom!==void 0&&(this._zoom=this._limitZoom(r.zoom)),r.center&&r.zoom!==void 0&&this.setView(ne(r.center),r.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=kn&&De.any3d&&!De.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),rt(this._proxy,Ao,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(n,r,u){if(r=r===void 0?this._zoom:this._limitZoom(r),n=this._limitCenter(ne(n),r,this.options.maxBounds),u=u||{},this._stop(),this._loaded&&!u.reset&&u!==!0){u.animate!==void 0&&(u.zoom=i({animate:u.animate},u.zoom),u.pan=i({animate:u.animate,duration:u.duration},u.pan));var b=this._zoom!==r?this._tryAnimatedZoom&&this._tryAnimatedZoom(n,r,u.zoom):this._tryAnimatedPan(n,u.pan);if(b)return clearTimeout(this._sizeTimer),this}return this._resetView(n,r,u.pan&&u.pan.noMoveStart),this},setZoom:function(n,r){return this._loaded?this.setView(this.getCenter(),n,{zoom:r}):(this._zoom=n,this)},zoomIn:function(n,r){return n=n||(De.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+n,r)},zoomOut:function(n,r){return n=n||(De.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-n,r)},setZoomAround:function(n,r,u){var b=this.getZoomScale(r),w=this.getSize().divideBy(2),O=n instanceof R?n:this.latLngToContainerPoint(n),K=O.subtract(w).multiplyBy(1-1/b),re=this.containerPointToLatLng(w.add(K));return this.setView(re,r,{zoom:u})},_getBoundsCenterZoom:function(n,r){r=r||{},n=n.getBounds?n.getBounds():te(n);var u=Z(r.paddingTopLeft||r.padding||[0,0]),b=Z(r.paddingBottomRight||r.padding||[0,0]),w=this.getBoundsZoom(n,!1,u.add(b));if(w=typeof r.maxZoom=="number"?Math.min(r.maxZoom,w):w,w===1/0)return{center:n.getCenter(),zoom:w};var O=b.subtract(u).divideBy(2),K=this.project(n.getSouthWest(),w),re=this.project(n.getNorthEast(),w),ce=this.unproject(K.add(re).divideBy(2).add(O),w);return{center:ce,zoom:w}},fitBounds:function(n,r){if(n=te(n),!n.isValid())throw new Error("Bounds are not valid.");var u=this._getBoundsCenterZoom(n,r);return this.setView(u.center,u.zoom,r)},fitWorld:function(n){return this.fitBounds([[-90,-180],[90,180]],n)},panTo:function(n,r){return this.setView(n,this._zoom,{pan:r})},panBy:function(n,r){if(n=Z(n).round(),r=r||{},!n.x&&!n.y)return this.fire("moveend");if(r.animate!==!0&&!this.getSize().contains(n))return this._resetView(this.unproject(this.project(this.getCenter()).add(n)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new qc,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),r.noMoveStart||this.fire("movestart"),r.animate!==!1){lt(this._mapPane,"leaflet-pan-anim");var u=this._getMapPanePos().subtract(n).round();this._panAnim.run(this._mapPane,u,r.duration||.25,r.easeLinearity)}else this._rawPanBy(n),this.fire("move").fire("moveend");return this},flyTo:function(n,r,u){if(u=u||{},u.animate===!1||!De.any3d)return this.setView(n,r,u);this._stop();var b=this.project(this.getCenter()),w=this.project(n),O=this.getSize(),K=this._zoom;n=ne(n),r=r===void 0?K:r;var re=Math.max(O.x,O.y),ce=re*this.getZoomScale(K,r),_e=w.distanceTo(b)||1,$e=1.42,Je=$e*$e;function vt(sn){var pi=sn?-1:1,Xf=sn?ce:re,Yf=ce*ce-re*re+pi*Je*Je*_e*_e,Qf=2*Xf*Je*_e,Qa=Yf/Qf,Au=Math.sqrt(Qa*Qa+1)-Qa,eg=Au<1e-9?-18:Math.log(Au);return eg}function Sn(sn){return(Math.exp(sn)-Math.exp(-sn))/2}function un(sn){return(Math.exp(sn)+Math.exp(-sn))/2}function Bn(sn){return Sn(sn)/un(sn)}var Mn=vt(0);function Ir(sn){return re*(un(Mn)/un(Mn+$e*sn))}function Uf(sn){return re*(un(Mn)*Bn(Mn+$e*sn)-Sn(Mn))/Je}function Kf(sn){return 1-Math.pow(1-sn,1.5)}var Jf=Date.now(),ku=(vt(1)-Mn)/$e,qf=u.duration?1e3*u.duration:1e3*ku*.8;function Mu(){var sn=(Date.now()-Jf)/qf,pi=Kf(sn)*ku;sn<=1?(this._flyToFrame=$(Mu,this),this._move(this.unproject(b.add(w.subtract(b).multiplyBy(Uf(pi)/_e)),K),this.getScaleZoom(re/Ir(pi),K),{flyTo:!0})):this._move(n,r)._moveEnd(!0)}return this._moveStart(!0,u.noMoveStart),Mu.call(this),this},flyToBounds:function(n,r){var u=this._getBoundsCenterZoom(n,r);return this.flyTo(u.center,u.zoom,r)},setMaxBounds:function(n){return n=te(n),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),n.isValid()?(this.options.maxBounds=n,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(n){var r=this.options.minZoom;return this.options.minZoom=n,this._loaded&&r!==n&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(n):this},setMaxZoom:function(n){var r=this.options.maxZoom;return this.options.maxZoom=n,this._loaded&&r!==n&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(n):this},panInsideBounds:function(n,r){this._enforcingBounds=!0;var u=this.getCenter(),b=this._limitCenter(u,this._zoom,te(n));return u.equals(b)||this.panTo(b,r),this._enforcingBounds=!1,this},panInside:function(n,r){r=r||{};var u=Z(r.paddingTopLeft||r.padding||[0,0]),b=Z(r.paddingBottomRight||r.padding||[0,0]),w=this.project(this.getCenter()),O=this.project(n),K=this.getPixelBounds(),re=ee([K.min.add(u),K.max.subtract(b)]),ce=re.getSize();if(!re.contains(O)){this._enforcingBounds=!0;var _e=O.subtract(re.getCenter()),$e=re.extend(O).getSize().subtract(ce);w.x+=_e.x<0?-$e.x:$e.x,w.y+=_e.y<0?-$e.y:$e.y,this.panTo(this.unproject(w),r),this._enforcingBounds=!1}return this},invalidateSize:function(n){if(!this._loaded)return this;n=i({animate:!1,pan:!0},n===!0?{animate:!0}:n);var r=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var u=this.getSize(),b=r.divideBy(2).round(),w=u.divideBy(2).round(),O=b.subtract(w);return!O.x&&!O.y?this:(n.animate&&n.pan?this.panBy(O):(n.pan&&this._rawPanBy(O),this.fire("move"),n.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:r,newSize:u}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(n){if(n=this._locateOptions=i({timeout:1e4,watch:!1},n),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var r=l(this._handleGeolocationResponse,this),u=l(this._handleGeolocationError,this);return n.watch?this._locationWatchId=navigator.geolocation.watchPosition(r,u,n):navigator.geolocation.getCurrentPosition(r,u,n),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(n){if(this._container._leaflet_id){var r=n.code,u=n.message||(r===1?"permission denied":r===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:r,message:"Geolocation error: "+u+"."})}},_handleGeolocationResponse:function(n){if(this._container._leaflet_id){var r=n.coords.latitude,u=n.coords.longitude,b=new Y(r,u),w=b.toBounds(n.coords.accuracy*2),O=this._locateOptions;if(O.setView){var K=this.getBoundsZoom(w);this.setView(b,O.maxZoom?Math.min(K,O.maxZoom):K)}var re={latlng:b,bounds:w,timestamp:n.timestamp};for(var ce in n.coords)typeof n.coords[ce]=="number"&&(re[ce]=n.coords[ce]);this.fire("locationfound",re)}},addHandler:function(n,r){if(!r)return this;var u=this[n]=new r(this);return this._handlers.push(u),this.options[n]&&u.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Vt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(G(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var n;for(n in this._layers)this._layers[n].remove();for(n in this._panes)Vt(this._panes[n]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(n,r){var u="leaflet-pane"+(n?" leaflet-"+n.replace("Pane","")+"-pane":""),b=_t("div",u,r||this._mapPane);return n&&(this._panes[n]=b),b},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var n=this.getPixelBounds(),r=this.unproject(n.getBottomLeft()),u=this.unproject(n.getTopRight());return new X(r,u)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(n,r,u){n=te(n),u=Z(u||[0,0]);var b=this.getZoom()||0,w=this.getMinZoom(),O=this.getMaxZoom(),K=n.getNorthWest(),re=n.getSouthEast(),ce=this.getSize().subtract(u),_e=ee(this.project(re,b),this.project(K,b)).getSize(),$e=De.any3d?this.options.zoomSnap:1,Je=ce.x/_e.x,vt=ce.y/_e.y,Sn=r?Math.max(Je,vt):Math.min(Je,vt);return b=this.getScaleZoom(Sn,b),$e&&(b=Math.round(b/($e/100))*($e/100),b=r?Math.ceil(b/$e)*$e:Math.floor(b/$e)*$e),Math.max(w,Math.min(O,b))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new R(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(n,r){var u=this._getTopLeftPoint(n,r);return new q(u,u.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(n){return this.options.crs.getProjectedBounds(n===void 0?this.getZoom():n)},getPane:function(n){return typeof n=="string"?this._panes[n]:n},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(n,r){var u=this.options.crs;return r=r===void 0?this._zoom:r,u.scale(n)/u.scale(r)},getScaleZoom:function(n,r){var u=this.options.crs;r=r===void 0?this._zoom:r;var b=u.zoom(n*u.scale(r));return isNaN(b)?1/0:b},project:function(n,r){return r=r===void 0?this._zoom:r,this.options.crs.latLngToPoint(ne(n),r)},unproject:function(n,r){return r=r===void 0?this._zoom:r,this.options.crs.pointToLatLng(Z(n),r)},layerPointToLatLng:function(n){var r=Z(n).add(this.getPixelOrigin());return this.unproject(r)},latLngToLayerPoint:function(n){var r=this.project(ne(n))._round();return r._subtract(this.getPixelOrigin())},wrapLatLng:function(n){return this.options.crs.wrapLatLng(ne(n))},wrapLatLngBounds:function(n){return this.options.crs.wrapLatLngBounds(te(n))},distance:function(n,r){return this.options.crs.distance(ne(n),ne(r))},containerPointToLayerPoint:function(n){return Z(n).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(n){return Z(n).add(this._getMapPanePos())},containerPointToLatLng:function(n){var r=this.containerPointToLayerPoint(Z(n));return this.layerPointToLatLng(r)},latLngToContainerPoint:function(n){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ne(n)))},mouseEventToContainerPoint:function(n){return Kc(n,this._container)},mouseEventToLayerPoint:function(n){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(n))},mouseEventToLatLng:function(n){return this.layerPointToLatLng(this.mouseEventToLayerPoint(n))},_initContainer:function(n){var r=this._container=Js(n);if(r){if(r._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");rt(r,"scroll",this._onScroll,this),this._containerId=p(r)},_initLayout:function(){var n=this._container;this._fadeAnimated=this.options.fadeAnimation&&De.any3d,lt(n,"leaflet-container"+(De.touch?" leaflet-touch":"")+(De.retina?" leaflet-retina":"")+(De.ielt9?" leaflet-oldie":"")+(De.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var r=es(n,"position");r!=="absolute"&&r!=="relative"&&r!=="fixed"&&r!=="sticky"&&(n.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var n=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),rn(this._mapPane,new R(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(lt(n.markerPane,"leaflet-zoom-hide"),lt(n.shadowPane,"leaflet-zoom-hide"))},_resetView:function(n,r,u){rn(this._mapPane,new R(0,0));var b=!this._loaded;this._loaded=!0,r=this._limitZoom(r),this.fire("viewprereset");var w=this._zoom!==r;this._moveStart(w,u)._move(n,r)._moveEnd(w),this.fire("viewreset"),b&&this.fire("load")},_moveStart:function(n,r){return n&&this.fire("zoomstart"),r||this.fire("movestart"),this},_move:function(n,r,u,b){r===void 0&&(r=this._zoom);var w=this._zoom!==r;return this._zoom=r,this._lastCenter=n,this._pixelOrigin=this._getNewPixelOrigin(n),b?u&&u.pinch&&this.fire("zoom",u):((w||u&&u.pinch)&&this.fire("zoom",u),this.fire("move",u)),this},_moveEnd:function(n){return n&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return G(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(n){rn(this._mapPane,this._getMapPanePos().subtract(n))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(n){this._targets={},this._targets[p(this._container)]=this;var r=n?Rt:rt;r(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&r(window,"resize",this._onResize,this),De.any3d&&this.options.transform3DLimit&&(n?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){G(this._resizeRequest),this._resizeRequest=$(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var n=this._getMapPanePos();Math.max(Math.abs(n.x),Math.abs(n.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(n,r){for(var u=[],b,w=r==="mouseout"||r==="mouseover",O=n.target||n.srcElement,K=!1;O;){if(b=this._targets[p(O)],b&&(r==="click"||r==="preclick")&&this._draggableMoved(b)){K=!0;break}if(b&&b.listens(r,!0)&&(w&&!ja(O,n)||(u.push(b),w))||O===this._container)break;O=O.parentNode}return!u.length&&!K&&!w&&this.listens(r,!0)&&(u=[this]),u},_isClickDisabled:function(n){for(;n&&n!==this._container;){if(n._leaflet_disable_click)return!0;n=n.parentNode}},_handleDOMEvent:function(n){var r=n.target||n.srcElement;if(!(!this._loaded||r._leaflet_disable_events||n.type==="click"&&this._isClickDisabled(r))){var u=n.type;u==="mousedown"&&Oa(r),this._fireDOMEvent(n,u)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(n,r,u){if(n.type==="click"){var b=i({},n);b.type="preclick",this._fireDOMEvent(b,b.type,u)}var w=this._findEventTargets(n,r);if(u){for(var O=[],K=0;K<u.length;K++)u[K].listens(r,!0)&&O.push(u[K]);w=O.concat(w)}if(w.length){r==="contextmenu"&&vn(n);var re=w[0],ce={originalEvent:n};if(n.type!=="keypress"&&n.type!=="keydown"&&n.type!=="keyup"){var _e=re.getLatLng&&(!re._radius||re._radius<=10);ce.containerPoint=_e?this.latLngToContainerPoint(re.getLatLng()):this.mouseEventToContainerPoint(n),ce.layerPoint=this.containerPointToLayerPoint(ce.containerPoint),ce.latlng=_e?re.getLatLng():this.layerPointToLatLng(ce.layerPoint)}for(K=0;K<w.length;K++)if(w[K].fire(r,ce,!0),ce.originalEvent._stopped||w[K].options.bubblingMouseEvents===!1&&D(this._mouseEvents,r)!==-1)return}},_draggableMoved:function(n){return n=n.dragging&&n.dragging.enabled()?n:this,n.dragging&&n.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var n=0,r=this._handlers.length;n<r;n++)this._handlers[n].disable()},whenReady:function(n,r){return this._loaded?n.call(r||this,{target:this}):this.on("load",n,r),this},_getMapPanePos:function(){return Jo(this._mapPane)||new R(0,0)},_moved:function(){var n=this._getMapPanePos();return n&&!n.equals([0,0])},_getTopLeftPoint:function(n,r){var u=n&&r!==void 0?this._getNewPixelOrigin(n,r):this.getPixelOrigin();return u.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(n,r){var u=this.getSize()._divideBy(2);return this.project(n,r)._subtract(u)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(n,r,u){var b=this._getNewPixelOrigin(u,r);return this.project(n,r)._subtract(b)},_latLngBoundsToNewLayerBounds:function(n,r,u){var b=this._getNewPixelOrigin(u,r);return ee([this.project(n.getSouthWest(),r)._subtract(b),this.project(n.getNorthWest(),r)._subtract(b),this.project(n.getSouthEast(),r)._subtract(b),this.project(n.getNorthEast(),r)._subtract(b)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(n){return this.latLngToLayerPoint(n).subtract(this._getCenterLayerPoint())},_limitCenter:function(n,r,u){if(!u)return n;var b=this.project(n,r),w=this.getSize().divideBy(2),O=new q(b.subtract(w),b.add(w)),K=this._getBoundsOffset(O,u,r);return Math.abs(K.x)<=1&&Math.abs(K.y)<=1?n:this.unproject(b.add(K),r)},_limitOffset:function(n,r){if(!r)return n;var u=this.getPixelBounds(),b=new q(u.min.add(n),u.max.add(n));return n.add(this._getBoundsOffset(b,r))},_getBoundsOffset:function(n,r,u){var b=ee(this.project(r.getNorthEast(),u),this.project(r.getSouthWest(),u)),w=b.min.subtract(n.min),O=b.max.subtract(n.max),K=this._rebound(w.x,-O.x),re=this._rebound(w.y,-O.y);return new R(K,re)},_rebound:function(n,r){return n+r>0?Math.round(n-r)/2:Math.max(0,Math.ceil(n))-Math.max(0,Math.floor(r))},_limitZoom:function(n){var r=this.getMinZoom(),u=this.getMaxZoom(),b=De.any3d?this.options.zoomSnap:1;return b&&(n=Math.round(n/b)*b),Math.max(r,Math.min(u,n))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){en(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(n,r){var u=this._getCenterOffset(n)._trunc();return(r&&r.animate)!==!0&&!this.getSize().contains(u)?!1:(this.panBy(u,r),!0)},_createAnimProxy:function(){var n=this._proxy=_t("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(n),this.on("zoomanim",function(r){var u=Tn,b=this._proxy.style[u];Ko(this._proxy,this.project(r.center,r.zoom),this.getZoomScale(r.zoom,1)),b===this._proxy.style[u]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Vt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var n=this.getCenter(),r=this.getZoom();Ko(this._proxy,this.project(n,r),this.getZoomScale(r,1))},_catchTransitionEnd:function(n){this._animatingZoom&&n.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(n,r,u){if(this._animatingZoom)return!0;if(u=u||{},!this._zoomAnimated||u.animate===!1||this._nothingToAnimate()||Math.abs(r-this._zoom)>this.options.zoomAnimationThreshold)return!1;var b=this.getZoomScale(r),w=this._getCenterOffset(n)._divideBy(1-1/b);return u.animate!==!0&&!this.getSize().contains(w)?!1:($(function(){this._moveStart(!0,u.noMoveStart||!1)._animateZoom(n,r,!0)},this),!0)},_animateZoom:function(n,r,u,b){this._mapPane&&(u&&(this._animatingZoom=!0,this._animateToCenter=n,this._animateToZoom=r,lt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:n,zoom:r,noUpdate:b}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(l(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&en(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function uf(n,r){return new Ct(n,r)}var Kn=T.extend({options:{position:"topright"},initialize:function(n){x(this,n)},getPosition:function(){return this.options.position},setPosition:function(n){var r=this._map;return r&&r.removeControl(this),this.options.position=n,r&&r.addControl(this),this},getContainer:function(){return this._container},addTo:function(n){this.remove(),this._map=n;var r=this._container=this.onAdd(n),u=this.getPosition(),b=n._controlCorners[u];return lt(r,"leaflet-control"),u.indexOf("bottom")!==-1?b.insertBefore(r,b.firstChild):b.appendChild(r),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Vt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(n){this._map&&n&&n.screenX>0&&n.screenY>0&&this._map.getContainer().focus()}}),ss=function(n){return new Kn(n)};Ct.include({addControl:function(n){return n.addTo(this),this},removeControl:function(n){return n.remove(),this},_initControlPos:function(){var n=this._controlCorners={},r="leaflet-",u=this._controlContainer=_t("div",r+"control-container",this._container);function b(w,O){var K=r+w+" "+r+O;n[w+O]=_t("div",K,u)}b("top","left"),b("top","right"),b("bottom","left"),b("bottom","right")},_clearControlPos:function(){for(var n in this._controlCorners)Vt(this._controlCorners[n]);Vt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Xc=Kn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(n,r,u,b){return u<b?-1:b<u?1:0}},initialize:function(n,r,u){x(this,u),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var b in n)this._addLayer(n[b],b);for(b in r)this._addLayer(r[b],b,!0)},onAdd:function(n){this._initLayout(),this._update(),this._map=n,n.on("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(n){return Kn.prototype.addTo.call(this,n),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var n=0;n<this._layers.length;n++)this._layers[n].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(n,r){return this._addLayer(n,r),this._map?this._update():this},addOverlay:function(n,r){return this._addLayer(n,r,!0),this._map?this._update():this},removeLayer:function(n){n.off("add remove",this._onLayerChange,this);var r=this._getLayer(p(n));return r&&this._layers.splice(this._layers.indexOf(r),1),this._map?this._update():this},expand:function(){lt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var n=this._map.getSize().y-(this._container.offsetTop+50);return n<this._section.clientHeight?(lt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=n+"px"):en(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return en(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var n="leaflet-control-layers",r=this._container=_t("div",n),u=this.options.collapsed;r.setAttribute("aria-haspopup",!0),rs(r),Ha(r);var b=this._section=_t("section",n+"-list");u&&(this._map.on("click",this.collapse,this),rt(r,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var w=this._layersLink=_t("a",n+"-toggle",r);w.href="#",w.title="Layers",w.setAttribute("role","button"),rt(w,{keydown:function(O){O.keyCode===13&&this._expandSafely()},click:function(O){vn(O),this._expandSafely()}},this),u||this.expand(),this._baseLayersList=_t("div",n+"-base",b),this._separator=_t("div",n+"-separator",b),this._overlaysList=_t("div",n+"-overlays",b),r.appendChild(b)},_getLayer:function(n){for(var r=0;r<this._layers.length;r++)if(this._layers[r]&&p(this._layers[r].layer)===n)return this._layers[r]},_addLayer:function(n,r,u){this._map&&n.on("add remove",this._onLayerChange,this),this._layers.push({layer:n,name:r,overlay:u}),this.options.sortLayers&&this._layers.sort(l(function(b,w){return this.options.sortFunction(b.layer,w.layer,b.name,w.name)},this)),this.options.autoZIndex&&n.setZIndex&&(this._lastZIndex++,n.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;qs(this._baseLayersList),qs(this._overlaysList),this._layerControlInputs=[];var n,r,u,b,w=0;for(u=0;u<this._layers.length;u++)b=this._layers[u],this._addItem(b),r=r||b.overlay,n=n||!b.overlay,w+=b.overlay?0:1;return this.options.hideSingleBase&&(n=n&&w>1,this._baseLayersList.style.display=n?"":"none"),this._separator.style.display=r&&n?"":"none",this},_onLayerChange:function(n){this._handlingClick||this._update();var r=this._getLayer(p(n.target)),u=r.overlay?n.type==="add"?"overlayadd":"overlayremove":n.type==="add"?"baselayerchange":null;u&&this._map.fire(u,r)},_createRadioElement:function(n,r){var u='<input type="radio" class="leaflet-control-layers-selector" name="'+n+'"'+(r?' checked="checked"':"")+"/>",b=document.createElement("div");return b.innerHTML=u,b.firstChild},_addItem:function(n){var r=document.createElement("label"),u=this._map.hasLayer(n.layer),b;n.overlay?(b=document.createElement("input"),b.type="checkbox",b.className="leaflet-control-layers-selector",b.defaultChecked=u):b=this._createRadioElement("leaflet-base-layers_"+p(this),u),this._layerControlInputs.push(b),b.layerId=p(n.layer),rt(b,"click",this._onInputClick,this);var w=document.createElement("span");w.innerHTML=" "+n.name;var O=document.createElement("span");r.appendChild(O),O.appendChild(b),O.appendChild(w);var K=n.overlay?this._overlaysList:this._baseLayersList;return K.appendChild(r),this._checkDisabledLayers(),r},_onInputClick:function(){if(!this._preventClick){var n=this._layerControlInputs,r,u,b=[],w=[];this._handlingClick=!0;for(var O=n.length-1;O>=0;O--)r=n[O],u=this._getLayer(r.layerId).layer,r.checked?b.push(u):r.checked||w.push(u);for(O=0;O<w.length;O++)this._map.hasLayer(w[O])&&this._map.removeLayer(w[O]);for(O=0;O<b.length;O++)this._map.hasLayer(b[O])||this._map.addLayer(b[O]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var n=this._layerControlInputs,r,u,b=this._map.getZoom(),w=n.length-1;w>=0;w--)r=n[w],u=this._getLayer(r.layerId).layer,r.disabled=u.options.minZoom!==void 0&&b<u.options.minZoom||u.options.maxZoom!==void 0&&b>u.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var n=this._section;this._preventClick=!0,rt(n,"click",vn),this.expand();var r=this;setTimeout(function(){Rt(n,"click",vn),r._preventClick=!1})}}),df=function(n,r,u){return new Xc(n,r,u)},Ga=Kn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(n){var r="leaflet-control-zoom",u=_t("div",r+" leaflet-bar"),b=this.options;return this._zoomInButton=this._createButton(b.zoomInText,b.zoomInTitle,r+"-in",u,this._zoomIn),this._zoomOutButton=this._createButton(b.zoomOutText,b.zoomOutTitle,r+"-out",u,this._zoomOut),this._updateDisabled(),n.on("zoomend zoomlevelschange",this._updateDisabled,this),u},onRemove:function(n){n.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(n){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(n.shiftKey?3:1))},_zoomOut:function(n){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(n.shiftKey?3:1))},_createButton:function(n,r,u,b,w){var O=_t("a",u,b);return O.innerHTML=n,O.href="#",O.title=r,O.setAttribute("role","button"),O.setAttribute("aria-label",r),rs(O),rt(O,"click",Xo),rt(O,"click",w,this),rt(O,"click",this._refocusOnMap,this),O},_updateDisabled:function(){var n=this._map,r="leaflet-disabled";en(this._zoomInButton,r),en(this._zoomOutButton,r),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||n._zoom===n.getMinZoom())&&(lt(this._zoomOutButton,r),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||n._zoom===n.getMaxZoom())&&(lt(this._zoomInButton,r),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ct.mergeOptions({zoomControl:!0}),Ct.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ga,this.addControl(this.zoomControl))});var pf=function(n){return new Ga(n)},Yc=Kn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(n){var r="leaflet-control-scale",u=_t("div",r),b=this.options;return this._addScales(b,r+"-line",u),n.on(b.updateWhenIdle?"moveend":"move",this._update,this),n.whenReady(this._update,this),u},onRemove:function(n){n.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(n,r,u){n.metric&&(this._mScale=_t("div",r,u)),n.imperial&&(this._iScale=_t("div",r,u))},_update:function(){var n=this._map,r=n.getSize().y/2,u=n.distance(n.containerPointToLatLng([0,r]),n.containerPointToLatLng([this.options.maxWidth,r]));this._updateScales(u)},_updateScales:function(n){this.options.metric&&n&&this._updateMetric(n),this.options.imperial&&n&&this._updateImperial(n)},_updateMetric:function(n){var r=this._getRoundNum(n),u=r<1e3?r+" m":r/1e3+" km";this._updateScale(this._mScale,u,r/n)},_updateImperial:function(n){var r=n*3.2808399,u,b,w;r>5280?(u=r/5280,b=this._getRoundNum(u),this._updateScale(this._iScale,b+" mi",b/u)):(w=this._getRoundNum(r),this._updateScale(this._iScale,w+" ft",w/r))},_updateScale:function(n,r,u){n.style.width=Math.round(this.options.maxWidth*u)+"px",n.innerHTML=r},_getRoundNum:function(n){var r=Math.pow(10,(Math.floor(n)+"").length-1),u=n/r;return u=u>=10?10:u>=5?5:u>=3?3:u>=2?2:1,r*u}}),hf=function(n){return new Yc(n)},mf='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Va=Kn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(De.inlineSvg?mf+" ":"")+"Leaflet</a>"},initialize:function(n){x(this,n),this._attributions={}},onAdd:function(n){n.attributionControl=this,this._container=_t("div","leaflet-control-attribution"),rs(this._container);for(var r in n._layers)n._layers[r].getAttribution&&this.addAttribution(n._layers[r].getAttribution());return this._update(),n.on("layeradd",this._addAttribution,this),this._container},onRemove:function(n){n.off("layeradd",this._addAttribution,this)},_addAttribution:function(n){n.layer.getAttribution&&(this.addAttribution(n.layer.getAttribution()),n.layer.once("remove",function(){this.removeAttribution(n.layer.getAttribution())},this))},setPrefix:function(n){return this.options.prefix=n,this._update(),this},addAttribution:function(n){return n?(this._attributions[n]||(this._attributions[n]=0),this._attributions[n]++,this._update(),this):this},removeAttribution:function(n){return n?(this._attributions[n]&&(this._attributions[n]--,this._update()),this):this},_update:function(){if(this._map){var n=[];for(var r in this._attributions)this._attributions[r]&&n.push(r);var u=[];this.options.prefix&&u.push(this.options.prefix),n.length&&u.push(n.join(", ")),this._container.innerHTML=u.join(' <span aria-hidden="true">|</span> ')}}});Ct.mergeOptions({attributionControl:!0}),Ct.addInitHook(function(){this.options.attributionControl&&new Va().addTo(this)});var ff=function(n){return new Va(n)};Kn.Layers=Xc,Kn.Zoom=Ga,Kn.Scale=Yc,Kn.Attribution=Va,ss.layers=df,ss.zoom=pf,ss.scale=hf,ss.attribution=ff;var io=T.extend({initialize:function(n){this._map=n},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});io.addTo=function(n,r){return n.addHandler(r,this),this};var gf={Events:B},Qc=De.touch?"touchstart mousedown":"mousedown",Eo=W.extend({options:{clickTolerance:3},initialize:function(n,r,u,b){x(this,b),this._element=n,this._dragStartTarget=r||n,this._preventOutline=u},enable:function(){this._enabled||(rt(this._dragStartTarget,Qc,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Eo._dragging===this&&this.finishDrag(!0),Rt(this._dragStartTarget,Qc,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(n){if(this._enabled&&(this._moved=!1,!Aa(this._element,"leaflet-zoom-anim"))){if(n.touches&&n.touches.length!==1){Eo._dragging===this&&this.finishDrag();return}if(!(Eo._dragging||n.shiftKey||n.which!==1&&n.button!==1&&!n.touches)&&(Eo._dragging=this,this._preventOutline&&Oa(this._element),Ra(),ts(),!this._moving)){this.fire("down");var r=n.touches?n.touches[0]:n,u=Wc(this._element);this._startPoint=new R(r.clientX,r.clientY),this._startPos=Jo(this._element),this._parentScale=Na(u);var b=n.type==="mousedown";rt(document,b?"mousemove":"touchmove",this._onMove,this),rt(document,b?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(n){if(this._enabled){if(n.touches&&n.touches.length>1){this._moved=!0;return}var r=n.touches&&n.touches.length===1?n.touches[0]:n,u=new R(r.clientX,r.clientY)._subtract(this._startPoint);!u.x&&!u.y||Math.abs(u.x)+Math.abs(u.y)<this.options.clickTolerance||(u.x/=this._parentScale.x,u.y/=this._parentScale.y,vn(n),this._moved||(this.fire("dragstart"),this._moved=!0,lt(document.body,"leaflet-dragging"),this._lastTarget=n.target||n.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),lt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(u),this._moving=!0,this._lastEvent=n,this._updatePosition())}},_updatePosition:function(){var n={originalEvent:this._lastEvent};this.fire("predrag",n),rn(this._element,this._newPos),this.fire("drag",n)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(n){en(document.body,"leaflet-dragging"),this._lastTarget&&(en(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Rt(document,"mousemove touchmove",this._onMove,this),Rt(document,"mouseup touchend touchcancel",this._onUp,this),La(),ns();var r=this._moved&&this._moving;this._moving=!1,Eo._dragging=!1,r&&this.fire("dragend",{noInertia:n,distance:this._newPos.distanceTo(this._startPos)})}});function eu(n,r,u){var b,w=[1,4,2,8],O,K,re,ce,_e,$e,Je,vt;for(O=0,$e=n.length;O<$e;O++)n[O]._code=Yo(n[O],r);for(re=0;re<4;re++){for(Je=w[re],b=[],O=0,$e=n.length,K=$e-1;O<$e;K=O++)ce=n[O],_e=n[K],ce._code&Je?_e._code&Je||(vt=ti(_e,ce,Je,r,u),vt._code=Yo(vt,r),b.push(vt)):(_e._code&Je&&(vt=ti(_e,ce,Je,r,u),vt._code=Yo(vt,r),b.push(vt)),b.push(ce));n=b}return n}function tu(n,r){var u,b,w,O,K,re,ce,_e,$e;if(!n||n.length===0)throw new Error("latlngs not passed");$n(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var Je=ne([0,0]),vt=te(n),Sn=vt.getNorthWest().distanceTo(vt.getSouthWest())*vt.getNorthEast().distanceTo(vt.getNorthWest());Sn<1700&&(Je=Wa(n));var un=n.length,Bn=[];for(u=0;u<un;u++){var Mn=ne(n[u]);Bn.push(r.project(ne([Mn.lat-Je.lat,Mn.lng-Je.lng])))}for(re=ce=_e=0,u=0,b=un-1;u<un;b=u++)w=Bn[u],O=Bn[b],K=w.y*O.x-O.y*w.x,ce+=(w.x+O.x)*K,_e+=(w.y+O.y)*K,re+=K*3;re===0?$e=Bn[0]:$e=[ce/re,_e/re];var Ir=r.unproject(Z($e));return ne([Ir.lat+Je.lat,Ir.lng+Je.lng])}function Wa(n){for(var r=0,u=0,b=0,w=0;w<n.length;w++){var O=ne(n[w]);r+=O.lat,u+=O.lng,b++}return ne([r/b,u/b])}var vf={__proto__:null,clipPolygon:eu,polygonCenter:tu,centroid:Wa};function nu(n,r){if(!r||!n.length)return n.slice();var u=r*r;return n=Cf(n,u),n=yf(n,u),n}function ou(n,r,u){return Math.sqrt(is(n,r,u,!0))}function bf(n,r,u){return is(n,r,u)}function yf(n,r){var u=n.length,b=typeof Uint8Array<"u"?Uint8Array:Array,w=new b(u);w[0]=w[u-1]=1,Za(n,w,r,0,u-1);var O,K=[];for(O=0;O<u;O++)w[O]&&K.push(n[O]);return K}function Za(n,r,u,b,w){var O=0,K,re,ce;for(re=b+1;re<=w-1;re++)ce=is(n[re],n[b],n[w],!0),ce>O&&(K=re,O=ce);O>u&&(r[K]=1,Za(n,r,u,b,K),Za(n,r,u,K,w))}function Cf(n,r){for(var u=[n[0]],b=1,w=0,O=n.length;b<O;b++)xf(n[b],n[w])>r&&(u.push(n[b]),w=b);return w<O-1&&u.push(n[O-1]),u}var ru;function su(n,r,u,b,w){var O=b?ru:Yo(n,u),K=Yo(r,u),re,ce,_e;for(ru=K;;){if(!(O|K))return[n,r];if(O&K)return!1;re=O||K,ce=ti(n,r,re,u,w),_e=Yo(ce,u),re===O?(n=ce,O=_e):(r=ce,K=_e)}}function ti(n,r,u,b,w){var O=r.x-n.x,K=r.y-n.y,re=b.min,ce=b.max,_e,$e;return u&8?(_e=n.x+O*(ce.y-n.y)/K,$e=ce.y):u&4?(_e=n.x+O*(re.y-n.y)/K,$e=re.y):u&2?(_e=ce.x,$e=n.y+K*(ce.x-n.x)/O):u&1&&(_e=re.x,$e=n.y+K*(re.x-n.x)/O),new R(_e,$e,w)}function Yo(n,r){var u=0;return n.x<r.min.x?u|=1:n.x>r.max.x&&(u|=2),n.y<r.min.y?u|=4:n.y>r.max.y&&(u|=8),u}function xf(n,r){var u=r.x-n.x,b=r.y-n.y;return u*u+b*b}function is(n,r,u,b){var w=r.x,O=r.y,K=u.x-w,re=u.y-O,ce=K*K+re*re,_e;return ce>0&&(_e=((n.x-w)*K+(n.y-O)*re)/ce,_e>1?(w=u.x,O=u.y):_e>0&&(w+=K*_e,O+=re*_e)),K=n.x-w,re=n.y-O,b?K*K+re*re:new R(w,O)}function $n(n){return!z(n[0])||typeof n[0][0]!="object"&&typeof n[0][0]<"u"}function iu(n){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),$n(n)}function au(n,r){var u,b,w,O,K,re,ce,_e;if(!n||n.length===0)throw new Error("latlngs not passed");$n(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var $e=ne([0,0]),Je=te(n),vt=Je.getNorthWest().distanceTo(Je.getSouthWest())*Je.getNorthEast().distanceTo(Je.getNorthWest());vt<1700&&($e=Wa(n));var Sn=n.length,un=[];for(u=0;u<Sn;u++){var Bn=ne(n[u]);un.push(r.project(ne([Bn.lat-$e.lat,Bn.lng-$e.lng])))}for(u=0,b=0;u<Sn-1;u++)b+=un[u].distanceTo(un[u+1])/2;if(b===0)_e=un[0];else for(u=0,O=0;u<Sn-1;u++)if(K=un[u],re=un[u+1],w=K.distanceTo(re),O+=w,O>b){ce=(O-b)/w,_e=[re.x-ce*(re.x-K.x),re.y-ce*(re.y-K.y)];break}var Mn=r.unproject(Z(_e));return ne([Mn.lat+$e.lat,Mn.lng+$e.lng])}var wf={__proto__:null,simplify:nu,pointToSegmentDistance:ou,closestPointOnSegment:bf,clipSegment:su,_getEdgeIntersection:ti,_getBitCode:Yo,_sqClosestPointOnSegment:is,isFlat:$n,_flat:iu,polylineCenter:au},Ua={project:function(n){return new R(n.lng,n.lat)},unproject:function(n){return new Y(n.y,n.x)},bounds:new q([-180,-90],[180,90])},Ka={R:6378137,R_MINOR:6356752314245179e-9,bounds:new q([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(n){var r=Math.PI/180,u=this.R,b=n.lat*r,w=this.R_MINOR/u,O=Math.sqrt(1-w*w),K=O*Math.sin(b),re=Math.tan(Math.PI/4-b/2)/Math.pow((1-K)/(1+K),O/2);return b=-u*Math.log(Math.max(re,1e-10)),new R(n.lng*r*u,b)},unproject:function(n){for(var r=180/Math.PI,u=this.R,b=this.R_MINOR/u,w=Math.sqrt(1-b*b),O=Math.exp(-n.y/u),K=Math.PI/2-2*Math.atan(O),re=0,ce=.1,_e;re<15&&Math.abs(ce)>1e-7;re++)_e=w*Math.sin(K),_e=Math.pow((1-_e)/(1+_e),w/2),ce=Math.PI/2-2*Math.atan(O*_e)-K,K+=ce;return new Y(K*r,n.x*r/u)}},Sf={__proto__:null,LonLat:Ua,Mercator:Ka,SphericalMercator:oe},_f=i({},le,{code:"EPSG:3395",projection:Ka,transformation:function(){var n=.5/(Math.PI*Ka.R);return he(n,.5,-n,.5)}()}),lu=i({},le,{code:"EPSG:4326",projection:Ua,transformation:he(1/180,1,-1/180,.5)}),Pf=i({},U,{projection:Ua,transformation:he(1,0,-1,0),scale:function(n){return Math.pow(2,n)},zoom:function(n){return Math.log(n)/Math.LN2},distance:function(n,r){var u=r.lng-n.lng,b=r.lat-n.lat;return Math.sqrt(u*u+b*b)},infinite:!0});U.Earth=le,U.EPSG3395=_f,U.EPSG3857=ie,U.EPSG900913=ge,U.EPSG4326=lu,U.Simple=Pf;var Jn=W.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(n){return n.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(n){return n&&n.removeLayer(this),this},getPane:function(n){return this._map.getPane(n?this.options[n]||n:this.options.pane)},addInteractiveTarget:function(n){return this._map._targets[p(n)]=this,this},removeInteractiveTarget:function(n){return delete this._map._targets[p(n)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(n){var r=n.target;if(r.hasLayer(this)){if(this._map=r,this._zoomAnimated=r._zoomAnimated,this.getEvents){var u=this.getEvents();r.on(u,this),this.once("remove",function(){r.off(u,this)},this)}this.onAdd(r),this.fire("add"),r.fire("layeradd",{layer:this})}}});Ct.include({addLayer:function(n){if(!n._layerAdd)throw new Error("The provided object is not a Layer.");var r=p(n);return this._layers[r]?this:(this._layers[r]=n,n._mapToAdd=this,n.beforeAdd&&n.beforeAdd(this),this.whenReady(n._layerAdd,n),this)},removeLayer:function(n){var r=p(n);return this._layers[r]?(this._loaded&&n.onRemove(this),delete this._layers[r],this._loaded&&(this.fire("layerremove",{layer:n}),n.fire("remove")),n._map=n._mapToAdd=null,this):this},hasLayer:function(n){return p(n)in this._layers},eachLayer:function(n,r){for(var u in this._layers)n.call(r,this._layers[u]);return this},_addLayers:function(n){n=n?z(n)?n:[n]:[];for(var r=0,u=n.length;r<u;r++)this.addLayer(n[r])},_addZoomLimit:function(n){(!isNaN(n.options.maxZoom)||!isNaN(n.options.minZoom))&&(this._zoomBoundLayers[p(n)]=n,this._updateZoomLevels())},_removeZoomLimit:function(n){var r=p(n);this._zoomBoundLayers[r]&&(delete this._zoomBoundLayers[r],this._updateZoomLevels())},_updateZoomLevels:function(){var n=1/0,r=-1/0,u=this._getZoomSpan();for(var b in this._zoomBoundLayers){var w=this._zoomBoundLayers[b].options;n=w.minZoom===void 0?n:Math.min(n,w.minZoom),r=w.maxZoom===void 0?r:Math.max(r,w.maxZoom)}this._layersMaxZoom=r===-1/0?void 0:r,this._layersMinZoom=n===1/0?void 0:n,u!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var xr=Jn.extend({initialize:function(n,r){x(this,r),this._layers={};var u,b;if(n)for(u=0,b=n.length;u<b;u++)this.addLayer(n[u])},addLayer:function(n){var r=this.getLayerId(n);return this._layers[r]=n,this._map&&this._map.addLayer(n),this},removeLayer:function(n){var r=n in this._layers?n:this.getLayerId(n);return this._map&&this._layers[r]&&this._map.removeLayer(this._layers[r]),delete this._layers[r],this},hasLayer:function(n){var r=typeof n=="number"?n:this.getLayerId(n);return r in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(n){var r=Array.prototype.slice.call(arguments,1),u,b;for(u in this._layers)b=this._layers[u],b[n]&&b[n].apply(b,r);return this},onAdd:function(n){this.eachLayer(n.addLayer,n)},onRemove:function(n){this.eachLayer(n.removeLayer,n)},eachLayer:function(n,r){for(var u in this._layers)n.call(r,this._layers[u]);return this},getLayer:function(n){return this._layers[n]},getLayers:function(){var n=[];return this.eachLayer(n.push,n),n},setZIndex:function(n){return this.invoke("setZIndex",n)},getLayerId:function(n){return p(n)}}),If=function(n,r){return new xr(n,r)},vo=xr.extend({addLayer:function(n){return this.hasLayer(n)?this:(n.addEventParent(this),xr.prototype.addLayer.call(this,n),this.fire("layeradd",{layer:n}))},removeLayer:function(n){return this.hasLayer(n)?(n in this._layers&&(n=this._layers[n]),n.removeEventParent(this),xr.prototype.removeLayer.call(this,n),this.fire("layerremove",{layer:n})):this},setStyle:function(n){return this.invoke("setStyle",n)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var n=new X;for(var r in this._layers){var u=this._layers[r];n.extend(u.getBounds?u.getBounds():u.getLatLng())}return n}}),Tf=function(n,r){return new vo(n,r)},wr=T.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(n){x(this,n)},createIcon:function(n){return this._createIcon("icon",n)},createShadow:function(n){return this._createIcon("shadow",n)},_createIcon:function(n,r){var u=this._getIconUrl(n);if(!u){if(n==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var b=this._createImg(u,r&&r.tagName==="IMG"?r:null);return this._setIconStyles(b,n),(this.options.crossOrigin||this.options.crossOrigin==="")&&(b.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),b},_setIconStyles:function(n,r){var u=this.options,b=u[r+"Size"];typeof b=="number"&&(b=[b,b]);var w=Z(b),O=Z(r==="shadow"&&u.shadowAnchor||u.iconAnchor||w&&w.divideBy(2,!0));n.className="leaflet-marker-"+r+" "+(u.className||""),O&&(n.style.marginLeft=-O.x+"px",n.style.marginTop=-O.y+"px"),w&&(n.style.width=w.x+"px",n.style.height=w.y+"px")},_createImg:function(n,r){return r=r||document.createElement("img"),r.src=n,r},_getIconUrl:function(n){return De.retina&&this.options[n+"RetinaUrl"]||this.options[n+"Url"]}});function kf(n){return new wr(n)}var as=wr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(n){return typeof as.imagePath!="string"&&(as.imagePath=this._detectIconPath()),(this.options.imagePath||as.imagePath)+wr.prototype._getIconUrl.call(this,n)},_stripUrl:function(n){var r=function(u,b,w){var O=b.exec(u);return O&&O[w]};return n=r(n,/^url\((['"])?(.+)\1\)$/,2),n&&r(n,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var n=_t("div","leaflet-default-icon-path",document.body),r=es(n,"background-image")||es(n,"backgroundImage");if(document.body.removeChild(n),r=this._stripUrl(r),r)return r;var u=document.querySelector('link[href$="leaflet.css"]');return u?u.href.substring(0,u.href.length-11-1):""}}),cu=io.extend({initialize:function(n){this._marker=n},addHooks:function(){var n=this._marker._icon;this._draggable||(this._draggable=new Eo(n,n,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),lt(n,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&en(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(n){var r=this._marker,u=r._map,b=this._marker.options.autoPanSpeed,w=this._marker.options.autoPanPadding,O=Jo(r._icon),K=u.getPixelBounds(),re=u.getPixelOrigin(),ce=ee(K.min._subtract(re).add(w),K.max._subtract(re).subtract(w));if(!ce.contains(O)){var _e=Z((Math.max(ce.max.x,O.x)-ce.max.x)/(K.max.x-ce.max.x)-(Math.min(ce.min.x,O.x)-ce.min.x)/(K.min.x-ce.min.x),(Math.max(ce.max.y,O.y)-ce.max.y)/(K.max.y-ce.max.y)-(Math.min(ce.min.y,O.y)-ce.min.y)/(K.min.y-ce.min.y)).multiplyBy(b);u.panBy(_e,{animate:!1}),this._draggable._newPos._add(_e),this._draggable._startPos._add(_e),rn(r._icon,this._draggable._newPos),this._onDrag(n),this._panRequest=$(this._adjustPan.bind(this,n))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(n){this._marker.options.autoPan&&(G(this._panRequest),this._panRequest=$(this._adjustPan.bind(this,n)))},_onDrag:function(n){var r=this._marker,u=r._shadow,b=Jo(r._icon),w=r._map.layerPointToLatLng(b);u&&rn(u,b),r._latlng=w,n.latlng=w,n.oldLatLng=this._oldLatLng,r.fire("move",n).fire("drag",n)},_onDragEnd:function(n){G(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",n)}}),ni=Jn.extend({options:{icon:new as,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(n,r){x(this,r),this._latlng=ne(n)},onAdd:function(n){this._zoomAnimated=this._zoomAnimated&&n.options.markerZoomAnimation,this._zoomAnimated&&n.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(n){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&n.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(n){var r=this._latlng;return this._latlng=ne(n),this.update(),this.fire("move",{oldLatLng:r,latlng:this._latlng})},setZIndexOffset:function(n){return this.options.zIndexOffset=n,this.update()},getIcon:function(){return this.options.icon},setIcon:function(n){return this.options.icon=n,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var n=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(n)}return this},_initIcon:function(){var n=this.options,r="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),u=n.icon.createIcon(this._icon),b=!1;u!==this._icon&&(this._icon&&this._removeIcon(),b=!0,n.title&&(u.title=n.title),u.tagName==="IMG"&&(u.alt=n.alt||"")),lt(u,r),n.keyboard&&(u.tabIndex="0",u.setAttribute("role","button")),this._icon=u,n.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&rt(u,"focus",this._panOnFocus,this);var w=n.icon.createShadow(this._shadow),O=!1;w!==this._shadow&&(this._removeShadow(),O=!0),w&&(lt(w,r),w.alt=""),this._shadow=w,n.opacity<1&&this._updateOpacity(),b&&this.getPane().appendChild(this._icon),this._initInteraction(),w&&O&&this.getPane(n.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Rt(this._icon,"focus",this._panOnFocus,this),Vt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Vt(this._shadow),this._shadow=null},_setPos:function(n){this._icon&&rn(this._icon,n),this._shadow&&rn(this._shadow,n),this._zIndex=n.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(n){this._icon&&(this._icon.style.zIndex=this._zIndex+n)},_animateZoom:function(n){var r=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center).round();this._setPos(r)},_initInteraction:function(){if(this.options.interactive&&(lt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),cu)){var n=this.options.draggable;this.dragging&&(n=this.dragging.enabled(),this.dragging.disable()),this.dragging=new cu(this),n&&this.dragging.enable()}},setOpacity:function(n){return this.options.opacity=n,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var n=this.options.opacity;this._icon&&zn(this._icon,n),this._shadow&&zn(this._shadow,n)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var n=this._map;if(n){var r=this.options.icon.options,u=r.iconSize?Z(r.iconSize):Z(0,0),b=r.iconAnchor?Z(r.iconAnchor):Z(0,0);n.panInside(this._latlng,{paddingTopLeft:b,paddingBottomRight:u.subtract(b)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Mf(n,r){return new ni(n,r)}var Do=Jn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(n){this._renderer=n.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(n){return x(this,n),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&n&&Object.prototype.hasOwnProperty.call(n,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),oi=Do.extend({options:{fill:!0,radius:10},initialize:function(n,r){x(this,r),this._latlng=ne(n),this._radius=this.options.radius},setLatLng:function(n){var r=this._latlng;return this._latlng=ne(n),this.redraw(),this.fire("move",{oldLatLng:r,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(n){return this.options.radius=this._radius=n,this.redraw()},getRadius:function(){return this._radius},setStyle:function(n){var r=n&&n.radius||this._radius;return Do.prototype.setStyle.call(this,n),this.setRadius(r),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var n=this._radius,r=this._radiusY||n,u=this._clickTolerance(),b=[n+u,r+u];this._pxBounds=new q(this._point.subtract(b),this._point.add(b))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(n){return n.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Af(n,r){return new oi(n,r)}var Ja=oi.extend({initialize:function(n,r,u){if(typeof r=="number"&&(r=i({},u,{radius:r})),x(this,r),this._latlng=ne(n),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(n){return this._mRadius=n,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var n=[this._radius,this._radiusY||this._radius];return new X(this._map.layerPointToLatLng(this._point.subtract(n)),this._map.layerPointToLatLng(this._point.add(n)))},setStyle:Do.prototype.setStyle,_project:function(){var n=this._latlng.lng,r=this._latlng.lat,u=this._map,b=u.options.crs;if(b.distance===le.distance){var w=Math.PI/180,O=this._mRadius/le.R/w,K=u.project([r+O,n]),re=u.project([r-O,n]),ce=K.add(re).divideBy(2),_e=u.unproject(ce).lat,$e=Math.acos((Math.cos(O*w)-Math.sin(r*w)*Math.sin(_e*w))/(Math.cos(r*w)*Math.cos(_e*w)))/w;(isNaN($e)||$e===0)&&($e=O/Math.cos(Math.PI/180*r)),this._point=ce.subtract(u.getPixelOrigin()),this._radius=isNaN($e)?0:ce.x-u.project([_e,n-$e]).x,this._radiusY=ce.y-K.y}else{var Je=b.unproject(b.project(this._latlng).subtract([this._mRadius,0]));this._point=u.latLngToLayerPoint(this._latlng),this._radius=this._point.x-u.latLngToLayerPoint(Je).x}this._updateBounds()}});function Ef(n,r,u){return new Ja(n,r,u)}var bo=Do.extend({options:{smoothFactor:1,noClip:!1},initialize:function(n,r){x(this,r),this._setLatLngs(n)},getLatLngs:function(){return this._latlngs},setLatLngs:function(n){return this._setLatLngs(n),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(n){for(var r=1/0,u=null,b=is,w,O,K=0,re=this._parts.length;K<re;K++)for(var ce=this._parts[K],_e=1,$e=ce.length;_e<$e;_e++){w=ce[_e-1],O=ce[_e];var Je=b(n,w,O,!0);Je<r&&(r=Je,u=b(n,w,O))}return u&&(u.distance=Math.sqrt(r)),u},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return au(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(n,r){return r=r||this._defaultShape(),n=ne(n),r.push(n),this._bounds.extend(n),this.redraw()},_setLatLngs:function(n){this._bounds=new X,this._latlngs=this._convertLatLngs(n)},_defaultShape:function(){return $n(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(n){for(var r=[],u=$n(n),b=0,w=n.length;b<w;b++)u?(r[b]=ne(n[b]),this._bounds.extend(r[b])):r[b]=this._convertLatLngs(n[b]);return r},_project:function(){var n=new q;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,n),this._bounds.isValid()&&n.isValid()&&(this._rawPxBounds=n,this._updateBounds())},_updateBounds:function(){var n=this._clickTolerance(),r=new R(n,n);this._rawPxBounds&&(this._pxBounds=new q([this._rawPxBounds.min.subtract(r),this._rawPxBounds.max.add(r)]))},_projectLatlngs:function(n,r,u){var b=n[0]instanceof Y,w=n.length,O,K;if(b){for(K=[],O=0;O<w;O++)K[O]=this._map.latLngToLayerPoint(n[O]),u.extend(K[O]);r.push(K)}else for(O=0;O<w;O++)this._projectLatlngs(n[O],r,u)},_clipPoints:function(){var n=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}var r=this._parts,u,b,w,O,K,re,ce;for(u=0,w=0,O=this._rings.length;u<O;u++)for(ce=this._rings[u],b=0,K=ce.length;b<K-1;b++)re=su(ce[b],ce[b+1],n,b,!0),re&&(r[w]=r[w]||[],r[w].push(re[0]),(re[1]!==ce[b+1]||b===K-2)&&(r[w].push(re[1]),w++))}},_simplifyPoints:function(){for(var n=this._parts,r=this.options.smoothFactor,u=0,b=n.length;u<b;u++)n[u]=nu(n[u],r)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(n,r){var u,b,w,O,K,re,ce=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(u=0,O=this._parts.length;u<O;u++)for(re=this._parts[u],b=0,K=re.length,w=K-1;b<K;w=b++)if(!(!r&&b===0)&&ou(n,re[w],re[b])<=ce)return!0;return!1}});function Df(n,r){return new bo(n,r)}bo._flat=iu;var Sr=bo.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return tu(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(n){var r=bo.prototype._convertLatLngs.call(this,n),u=r.length;return u>=2&&r[0]instanceof Y&&r[0].equals(r[u-1])&&r.pop(),r},_setLatLngs:function(n){bo.prototype._setLatLngs.call(this,n),$n(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return $n(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var n=this._renderer._bounds,r=this.options.weight,u=new R(r,r);if(n=new q(n.min.subtract(u),n.max.add(u)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}for(var b=0,w=this._rings.length,O;b<w;b++)O=eu(this._rings[b],n,!0),O.length&&this._parts.push(O)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(n){var r=!1,u,b,w,O,K,re,ce,_e;if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(O=0,ce=this._parts.length;O<ce;O++)for(u=this._parts[O],K=0,_e=u.length,re=_e-1;K<_e;re=K++)b=u[K],w=u[re],b.y>n.y!=w.y>n.y&&n.x<(w.x-b.x)*(n.y-b.y)/(w.y-b.y)+b.x&&(r=!r);return r||bo.prototype._containsPoint.call(this,n,!0)}});function Rf(n,r){return new Sr(n,r)}var yo=vo.extend({initialize:function(n,r){x(this,r),this._layers={},n&&this.addData(n)},addData:function(n){var r=z(n)?n:n.features,u,b,w;if(r){for(u=0,b=r.length;u<b;u++)w=r[u],(w.geometries||w.geometry||w.features||w.coordinates)&&this.addData(w);return this}var O=this.options;if(O.filter&&!O.filter(n))return this;var K=ri(n,O);return K?(K.feature=ai(n),K.defaultOptions=K.options,this.resetStyle(K),O.onEachFeature&&O.onEachFeature(n,K),this.addLayer(K)):this},resetStyle:function(n){return n===void 0?this.eachLayer(this.resetStyle,this):(n.options=i({},n.defaultOptions),this._setLayerStyle(n,this.options.style),this)},setStyle:function(n){return this.eachLayer(function(r){this._setLayerStyle(r,n)},this)},_setLayerStyle:function(n,r){n.setStyle&&(typeof r=="function"&&(r=r(n.feature)),n.setStyle(r))}});function ri(n,r){var u=n.type==="Feature"?n.geometry:n,b=u?u.coordinates:null,w=[],O=r&&r.pointToLayer,K=r&&r.coordsToLatLng||qa,re,ce,_e,$e;if(!b&&!u)return null;switch(u.type){case"Point":return re=K(b),uu(O,n,re,r);case"MultiPoint":for(_e=0,$e=b.length;_e<$e;_e++)re=K(b[_e]),w.push(uu(O,n,re,r));return new vo(w);case"LineString":case"MultiLineString":return ce=si(b,u.type==="LineString"?0:1,K),new bo(ce,r);case"Polygon":case"MultiPolygon":return ce=si(b,u.type==="Polygon"?1:2,K),new Sr(ce,r);case"GeometryCollection":for(_e=0,$e=u.geometries.length;_e<$e;_e++){var Je=ri({geometry:u.geometries[_e],type:"Feature",properties:n.properties},r);Je&&w.push(Je)}return new vo(w);case"FeatureCollection":for(_e=0,$e=u.features.length;_e<$e;_e++){var vt=ri(u.features[_e],r);vt&&w.push(vt)}return new vo(w);default:throw new Error("Invalid GeoJSON object.")}}function uu(n,r,u,b){return n?n(r,u):new ni(u,b&&b.markersInheritOptions&&b)}function qa(n){return new Y(n[1],n[0],n[2])}function si(n,r,u){for(var b=[],w=0,O=n.length,K;w<O;w++)K=r?si(n[w],r-1,u):(u||qa)(n[w]),b.push(K);return b}function Xa(n,r){return n=ne(n),n.alt!==void 0?[v(n.lng,r),v(n.lat,r),v(n.alt,r)]:[v(n.lng,r),v(n.lat,r)]}function ii(n,r,u,b){for(var w=[],O=0,K=n.length;O<K;O++)w.push(r?ii(n[O],$n(n[O])?0:r-1,u,b):Xa(n[O],b));return!r&&u&&w.length>0&&w.push(w[0].slice()),w}function _r(n,r){return n.feature?i({},n.feature,{geometry:r}):ai(r)}function ai(n){return n.type==="Feature"||n.type==="FeatureCollection"?n:{type:"Feature",properties:{},geometry:n}}var Ya={toGeoJSON:function(n){return _r(this,{type:"Point",coordinates:Xa(this.getLatLng(),n)})}};ni.include(Ya),Ja.include(Ya),oi.include(Ya),bo.include({toGeoJSON:function(n){var r=!$n(this._latlngs),u=ii(this._latlngs,r?1:0,!1,n);return _r(this,{type:(r?"Multi":"")+"LineString",coordinates:u})}}),Sr.include({toGeoJSON:function(n){var r=!$n(this._latlngs),u=r&&!$n(this._latlngs[0]),b=ii(this._latlngs,u?2:r?1:0,!0,n);return r||(b=[b]),_r(this,{type:(u?"Multi":"")+"Polygon",coordinates:b})}}),xr.include({toMultiPoint:function(n){var r=[];return this.eachLayer(function(u){r.push(u.toGeoJSON(n).geometry.coordinates)}),_r(this,{type:"MultiPoint",coordinates:r})},toGeoJSON:function(n){var r=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(r==="MultiPoint")return this.toMultiPoint(n);var u=r==="GeometryCollection",b=[];return this.eachLayer(function(w){if(w.toGeoJSON){var O=w.toGeoJSON(n);if(u)b.push(O.geometry);else{var K=ai(O);K.type==="FeatureCollection"?b.push.apply(b,K.features):b.push(K)}}}),u?_r(this,{geometries:b,type:"GeometryCollection"}):{type:"FeatureCollection",features:b}}});function du(n,r){return new yo(n,r)}var Lf=du,li=Jn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(n,r,u){this._url=n,this._bounds=te(r),x(this,u)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(lt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Vt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(n){return this.options.opacity=n,this._image&&this._updateOpacity(),this},setStyle:function(n){return n.opacity&&this.setOpacity(n.opacity),this},bringToFront:function(){return this._map&&yr(this._image),this},bringToBack:function(){return this._map&&Cr(this._image),this},setUrl:function(n){return this._url=n,this._image&&(this._image.src=n),this},setBounds:function(n){return this._bounds=te(n),this._map&&this._reset(),this},getEvents:function(){var n={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var n=this._url.tagName==="IMG",r=this._image=n?this._url:_t("img");if(lt(r,"leaflet-image-layer"),this._zoomAnimated&&lt(r,"leaflet-zoom-animated"),this.options.className&&lt(r,this.options.className),r.onselectstart=f,r.onmousemove=f,r.onload=l(this.fire,this,"load"),r.onerror=l(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(r.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),n){this._url=r.src;return}r.src=this._url,r.alt=this.options.alt},_animateZoom:function(n){var r=this._map.getZoomScale(n.zoom),u=this._map._latLngBoundsToNewLayerBounds(this._bounds,n.zoom,n.center).min;Ko(this._image,u,r)},_reset:function(){var n=this._image,r=new q(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),u=r.getSize();rn(n,r.min),n.style.width=u.x+"px",n.style.height=u.y+"px"},_updateOpacity:function(){zn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var n=this.options.errorOverlayUrl;n&&this._url!==n&&(this._url=n,this._image.src=n)},getCenter:function(){return this._bounds.getCenter()}}),Ff=function(n,r,u){return new li(n,r,u)},pu=li.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var n=this._url.tagName==="VIDEO",r=this._image=n?this._url:_t("video");if(lt(r,"leaflet-image-layer"),this._zoomAnimated&&lt(r,"leaflet-zoom-animated"),this.options.className&&lt(r,this.options.className),r.onselectstart=f,r.onmousemove=f,r.onloadeddata=l(this.fire,this,"load"),n){for(var u=r.getElementsByTagName("source"),b=[],w=0;w<u.length;w++)b.push(u[w].src);this._url=u.length>0?b:[r.src];return}z(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(r.style,"objectFit")&&(r.style.objectFit="fill"),r.autoplay=!!this.options.autoplay,r.loop=!!this.options.loop,r.muted=!!this.options.muted,r.playsInline=!!this.options.playsInline;for(var O=0;O<this._url.length;O++){var K=_t("source");K.src=this._url[O],r.appendChild(K)}}});function Of(n,r,u){return new pu(n,r,u)}var hu=li.extend({_initImage:function(){var n=this._image=this._url;lt(n,"leaflet-image-layer"),this._zoomAnimated&&lt(n,"leaflet-zoom-animated"),this.options.className&&lt(n,this.options.className),n.onselectstart=f,n.onmousemove=f}});function Nf(n,r,u){return new hu(n,r,u)}var ao=Jn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(n,r){n&&(n instanceof Y||z(n))?(this._latlng=ne(n),x(this,r)):(x(this,n),this._source=r),this.options.content&&(this._content=this.options.content)},openOn:function(n){return n=arguments.length?n:this._source._map,n.hasLayer(this)||n.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(n){return this._map?this.close():(arguments.length?this._source=n:n=this._source,this._prepareOpen(),this.openOn(n._map)),this},onAdd:function(n){this._zoomAnimated=n._zoomAnimated,this._container||this._initLayout(),n._fadeAnimated&&zn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),n._fadeAnimated&&zn(this._container,1),this.bringToFront(),this.options.interactive&&(lt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(n){n._fadeAnimated?(zn(this._container,0),this._removeTimeout=setTimeout(l(Vt,void 0,this._container),200)):Vt(this._container),this.options.interactive&&(en(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(n){return this._latlng=ne(n),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(n){return this._content=n,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var n={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&yr(this._container),this},bringToBack:function(){return this._map&&Cr(this._container),this},_prepareOpen:function(n){var r=this._source;if(!r._map)return!1;if(r instanceof vo){r=null;var u=this._source._layers;for(var b in u)if(u[b]._map){r=u[b];break}if(!r)return!1;this._source=r}if(!n)if(r.getCenter)n=r.getCenter();else if(r.getLatLng)n=r.getLatLng();else if(r.getBounds)n=r.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(n),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var n=this._contentNode,r=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof r=="string")n.innerHTML=r;else{for(;n.hasChildNodes();)n.removeChild(n.firstChild);n.appendChild(r)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var n=this._map.latLngToLayerPoint(this._latlng),r=Z(this.options.offset),u=this._getAnchor();this._zoomAnimated?rn(this._container,n.add(u)):r=r.add(n).add(u);var b=this._containerBottom=-r.y,w=this._containerLeft=-Math.round(this._containerWidth/2)+r.x;this._container.style.bottom=b+"px",this._container.style.left=w+"px"}},_getAnchor:function(){return[0,0]}});Ct.include({_initOverlay:function(n,r,u,b){var w=r;return w instanceof n||(w=new n(b).setContent(r)),u&&w.setLatLng(u),w}}),Jn.include({_initOverlay:function(n,r,u,b){var w=u;return w instanceof n?(x(w,b),w._source=this):(w=r&&!b?r:new n(b,this),w.setContent(u)),w}});var ci=ao.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(n){return n=arguments.length?n:this._source._map,!n.hasLayer(this)&&n._popup&&n._popup.options.autoClose&&n.removeLayer(n._popup),n._popup=this,ao.prototype.openOn.call(this,n)},onAdd:function(n){ao.prototype.onAdd.call(this,n),n.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Do||this._source.on("preclick",qo))},onRemove:function(n){ao.prototype.onRemove.call(this,n),n.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Do||this._source.off("preclick",qo))},getEvents:function(){var n=ao.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(n.preclick=this.close),this.options.keepInView&&(n.moveend=this._adjustPan),n},_initLayout:function(){var n="leaflet-popup",r=this._container=_t("div",n+" "+(this.options.className||"")+" leaflet-zoom-animated"),u=this._wrapper=_t("div",n+"-content-wrapper",r);if(this._contentNode=_t("div",n+"-content",u),rs(r),Ha(this._contentNode),rt(r,"contextmenu",qo),this._tipContainer=_t("div",n+"-tip-container",r),this._tip=_t("div",n+"-tip",this._tipContainer),this.options.closeButton){var b=this._closeButton=_t("a",n+"-close-button",r);b.setAttribute("role","button"),b.setAttribute("aria-label","Close popup"),b.href="#close",b.innerHTML='<span aria-hidden="true">&#215;</span>',rt(b,"click",function(w){vn(w),this.close()},this)}},_updateLayout:function(){var n=this._contentNode,r=n.style;r.width="",r.whiteSpace="nowrap";var u=n.offsetWidth;u=Math.min(u,this.options.maxWidth),u=Math.max(u,this.options.minWidth),r.width=u+1+"px",r.whiteSpace="",r.height="";var b=n.offsetHeight,w=this.options.maxHeight,O="leaflet-popup-scrolled";w&&b>w?(r.height=w+"px",lt(n,O)):en(n,O),this._containerWidth=this._container.offsetWidth},_animateZoom:function(n){var r=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center),u=this._getAnchor();rn(this._container,r.add(u))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var n=this._map,r=parseInt(es(this._container,"marginBottom"),10)||0,u=this._container.offsetHeight+r,b=this._containerWidth,w=new R(this._containerLeft,-u-this._containerBottom);w._add(Jo(this._container));var O=n.layerPointToContainerPoint(w),K=Z(this.options.autoPanPadding),re=Z(this.options.autoPanPaddingTopLeft||K),ce=Z(this.options.autoPanPaddingBottomRight||K),_e=n.getSize(),$e=0,Je=0;O.x+b+ce.x>_e.x&&($e=O.x+b-_e.x+ce.x),O.x-$e-re.x<0&&($e=O.x-re.x),O.y+u+ce.y>_e.y&&(Je=O.y+u-_e.y+ce.y),O.y-Je-re.y<0&&(Je=O.y-re.y),($e||Je)&&(this.options.keepInView&&(this._autopanning=!0),n.fire("autopanstart").panBy([$e,Je]))}},_getAnchor:function(){return Z(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),zf=function(n,r){return new ci(n,r)};Ct.mergeOptions({closePopupOnClick:!0}),Ct.include({openPopup:function(n,r,u){return this._initOverlay(ci,n,r,u).openOn(this),this},closePopup:function(n){return n=arguments.length?n:this._popup,n&&n.close(),this}}),Jn.include({bindPopup:function(n,r){return this._popup=this._initOverlay(ci,this._popup,n,r),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(n){return this._popup&&(this instanceof vo||(this._popup._source=this),this._popup._prepareOpen(n||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(n){return this._popup&&this._popup.setContent(n),this},getPopup:function(){return this._popup},_openPopup:function(n){if(!(!this._popup||!this._map)){Xo(n);var r=n.layer||n.target;if(this._popup._source===r&&!(r instanceof Do)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(n.latlng);return}this._popup._source=r,this.openPopup(n.latlng)}},_movePopup:function(n){this._popup.setLatLng(n.latlng)},_onKeyPress:function(n){n.originalEvent.keyCode===13&&this._openPopup(n)}});var ui=ao.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(n){ao.prototype.onAdd.call(this,n),this.setOpacity(this.options.opacity),n.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(n){ao.prototype.onRemove.call(this,n),n.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var n=ao.prototype.getEvents.call(this);return this.options.permanent||(n.preclick=this.close),n},_initLayout:function(){var n="leaflet-tooltip",r=n+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=_t("div",r),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+p(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(n){var r,u,b=this._map,w=this._container,O=b.latLngToContainerPoint(b.getCenter()),K=b.layerPointToContainerPoint(n),re=this.options.direction,ce=w.offsetWidth,_e=w.offsetHeight,$e=Z(this.options.offset),Je=this._getAnchor();re==="top"?(r=ce/2,u=_e):re==="bottom"?(r=ce/2,u=0):re==="center"?(r=ce/2,u=_e/2):re==="right"?(r=0,u=_e/2):re==="left"?(r=ce,u=_e/2):K.x<O.x?(re="right",r=0,u=_e/2):(re="left",r=ce+($e.x+Je.x)*2,u=_e/2),n=n.subtract(Z(r,u,!0)).add($e).add(Je),en(w,"leaflet-tooltip-right"),en(w,"leaflet-tooltip-left"),en(w,"leaflet-tooltip-top"),en(w,"leaflet-tooltip-bottom"),lt(w,"leaflet-tooltip-"+re),rn(w,n)},_updatePosition:function(){var n=this._map.latLngToLayerPoint(this._latlng);this._setPosition(n)},setOpacity:function(n){this.options.opacity=n,this._container&&zn(this._container,n)},_animateZoom:function(n){var r=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center);this._setPosition(r)},_getAnchor:function(){return Z(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),$f=function(n,r){return new ui(n,r)};Ct.include({openTooltip:function(n,r,u){return this._initOverlay(ui,n,r,u).openOn(this),this},closeTooltip:function(n){return n.close(),this}}),Jn.include({bindTooltip:function(n,r){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ui,this._tooltip,n,r),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(n){if(!(!n&&this._tooltipHandlersAdded)){var r=n?"off":"on",u={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?u.add=this._openTooltip:(u.mouseover=this._openTooltip,u.mouseout=this.closeTooltip,u.click=this._openTooltip,this._map?this._addFocusListeners():u.add=this._addFocusListeners),this._tooltip.options.sticky&&(u.mousemove=this._moveTooltip),this[r](u),this._tooltipHandlersAdded=!n}},openTooltip:function(n){return this._tooltip&&(this instanceof vo||(this._tooltip._source=this),this._tooltip._prepareOpen(n)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(n){return this._tooltip&&this._tooltip.setContent(n),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(n){var r=typeof n.getElement=="function"&&n.getElement();r&&(rt(r,"focus",function(){this._tooltip._source=n,this.openTooltip()},this),rt(r,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(n){var r=typeof n.getElement=="function"&&n.getElement();r&&r.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(n){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var r=this;this._map.once("moveend",function(){r._openOnceFlag=!1,r._openTooltip(n)});return}this._tooltip._source=n.layer||n.target,this.openTooltip(this._tooltip.options.sticky?n.latlng:void 0)}},_moveTooltip:function(n){var r=n.latlng,u,b;this._tooltip.options.sticky&&n.originalEvent&&(u=this._map.mouseEventToContainerPoint(n.originalEvent),b=this._map.containerPointToLayerPoint(u),r=this._map.layerPointToLatLng(b)),this._tooltip.setLatLng(r)}});var mu=wr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(n){var r=n&&n.tagName==="DIV"?n:document.createElement("div"),u=this.options;if(u.html instanceof Element?(qs(r),r.appendChild(u.html)):r.innerHTML=u.html!==!1?u.html:"",u.bgPos){var b=Z(u.bgPos);r.style.backgroundPosition=-b.x+"px "+-b.y+"px"}return this._setIconStyles(r,"icon"),r},createShadow:function(){return null}});function Bf(n){return new mu(n)}wr.Default=as;var ls=Jn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:De.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(n){x(this,n)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(n){n._addZoomLimit(this)},onRemove:function(n){this._removeAllTiles(),Vt(this._container),n._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(yr(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Cr(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(n){return this.options.opacity=n,this._updateOpacity(),this},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var n=this._clampZoom(this._map.getZoom());n!==this._tileZoom&&(this._tileZoom=n,this._updateLevels()),this._update()}return this},getEvents:function(){var n={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=g(this._onMoveEnd,this.options.updateInterval,this)),n.move=this._onMove),this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},createTile:function(){return document.createElement("div")},getTileSize:function(){var n=this.options.tileSize;return n instanceof R?n:new R(n,n)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(n){for(var r=this.getPane().children,u=-n(-1/0,1/0),b=0,w=r.length,O;b<w;b++)O=r[b].style.zIndex,r[b]!==this._container&&O&&(u=n(u,+O));isFinite(u)&&(this.options.zIndex=u+n(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!De.ielt9){zn(this._container,this.options.opacity);var n=+new Date,r=!1,u=!1;for(var b in this._tiles){var w=this._tiles[b];if(!(!w.current||!w.loaded)){var O=Math.min(1,(n-w.loaded)/200);zn(w.el,O),O<1?r=!0:(w.active?u=!0:this._onOpaqueTile(w),w.active=!0)}}u&&!this._noPrune&&this._pruneTiles(),r&&(G(this._fadeFrame),this._fadeFrame=$(this._updateOpacity,this))}},_onOpaqueTile:f,_initContainer:function(){this._container||(this._container=_t("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var n=this._tileZoom,r=this.options.maxZoom;if(n!==void 0){for(var u in this._levels)u=Number(u),this._levels[u].el.children.length||u===n?(this._levels[u].el.style.zIndex=r-Math.abs(n-u),this._onUpdateLevel(u)):(Vt(this._levels[u].el),this._removeTilesAtZoom(u),this._onRemoveLevel(u),delete this._levels[u]);var b=this._levels[n],w=this._map;return b||(b=this._levels[n]={},b.el=_t("div","leaflet-tile-container leaflet-zoom-animated",this._container),b.el.style.zIndex=r,b.origin=w.project(w.unproject(w.getPixelOrigin()),n).round(),b.zoom=n,this._setZoomTransform(b,w.getCenter(),w.getZoom()),f(b.el.offsetWidth),this._onCreateLevel(b)),this._level=b,b}},_onUpdateLevel:f,_onRemoveLevel:f,_onCreateLevel:f,_pruneTiles:function(){if(this._map){var n,r,u=this._map.getZoom();if(u>this.options.maxZoom||u<this.options.minZoom){this._removeAllTiles();return}for(n in this._tiles)r=this._tiles[n],r.retain=r.current;for(n in this._tiles)if(r=this._tiles[n],r.current&&!r.active){var b=r.coords;this._retainParent(b.x,b.y,b.z,b.z-5)||this._retainChildren(b.x,b.y,b.z,b.z+2)}for(n in this._tiles)this._tiles[n].retain||this._removeTile(n)}},_removeTilesAtZoom:function(n){for(var r in this._tiles)this._tiles[r].coords.z===n&&this._removeTile(r)},_removeAllTiles:function(){for(var n in this._tiles)this._removeTile(n)},_invalidateAll:function(){for(var n in this._levels)Vt(this._levels[n].el),this._onRemoveLevel(Number(n)),delete this._levels[n];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(n,r,u,b){var w=Math.floor(n/2),O=Math.floor(r/2),K=u-1,re=new R(+w,+O);re.z=+K;var ce=this._tileCoordsToKey(re),_e=this._tiles[ce];return _e&&_e.active?(_e.retain=!0,!0):(_e&&_e.loaded&&(_e.retain=!0),K>b?this._retainParent(w,O,K,b):!1)},_retainChildren:function(n,r,u,b){for(var w=2*n;w<2*n+2;w++)for(var O=2*r;O<2*r+2;O++){var K=new R(w,O);K.z=u+1;var re=this._tileCoordsToKey(K),ce=this._tiles[re];if(ce&&ce.active){ce.retain=!0;continue}else ce&&ce.loaded&&(ce.retain=!0);u+1<b&&this._retainChildren(w,O,u+1,b)}},_resetView:function(n){var r=n&&(n.pinch||n.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),r,r)},_animateZoom:function(n){this._setView(n.center,n.zoom,!0,n.noUpdate)},_clampZoom:function(n){var r=this.options;return r.minNativeZoom!==void 0&&n<r.minNativeZoom?r.minNativeZoom:r.maxNativeZoom!==void 0&&r.maxNativeZoom<n?r.maxNativeZoom:n},_setView:function(n,r,u,b){var w=Math.round(r);this.options.maxZoom!==void 0&&w>this.options.maxZoom||this.options.minZoom!==void 0&&w<this.options.minZoom?w=void 0:w=this._clampZoom(w);var O=this.options.updateWhenZooming&&w!==this._tileZoom;(!b||O)&&(this._tileZoom=w,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),w!==void 0&&this._update(n),u||this._pruneTiles(),this._noPrune=!!u),this._setZoomTransforms(n,r)},_setZoomTransforms:function(n,r){for(var u in this._levels)this._setZoomTransform(this._levels[u],n,r)},_setZoomTransform:function(n,r,u){var b=this._map.getZoomScale(u,n.zoom),w=n.origin.multiplyBy(b).subtract(this._map._getNewPixelOrigin(r,u)).round();De.any3d?Ko(n.el,w,b):rn(n.el,w)},_resetGrid:function(){var n=this._map,r=n.options.crs,u=this._tileSize=this.getTileSize(),b=this._tileZoom,w=this._map.getPixelWorldBounds(this._tileZoom);w&&(this._globalTileRange=this._pxBoundsToTileRange(w)),this._wrapX=r.wrapLng&&!this.options.noWrap&&[Math.floor(n.project([0,r.wrapLng[0]],b).x/u.x),Math.ceil(n.project([0,r.wrapLng[1]],b).x/u.y)],this._wrapY=r.wrapLat&&!this.options.noWrap&&[Math.floor(n.project([r.wrapLat[0],0],b).y/u.x),Math.ceil(n.project([r.wrapLat[1],0],b).y/u.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(n){var r=this._map,u=r._animatingZoom?Math.max(r._animateToZoom,r.getZoom()):r.getZoom(),b=r.getZoomScale(u,this._tileZoom),w=r.project(n,this._tileZoom).floor(),O=r.getSize().divideBy(b*2);return new q(w.subtract(O),w.add(O))},_update:function(n){var r=this._map;if(r){var u=this._clampZoom(r.getZoom());if(n===void 0&&(n=r.getCenter()),this._tileZoom!==void 0){var b=this._getTiledPixelBounds(n),w=this._pxBoundsToTileRange(b),O=w.getCenter(),K=[],re=this.options.keepBuffer,ce=new q(w.getBottomLeft().subtract([re,-re]),w.getTopRight().add([re,-re]));if(!(isFinite(w.min.x)&&isFinite(w.min.y)&&isFinite(w.max.x)&&isFinite(w.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var _e in this._tiles){var $e=this._tiles[_e].coords;($e.z!==this._tileZoom||!ce.contains(new R($e.x,$e.y)))&&(this._tiles[_e].current=!1)}if(Math.abs(u-this._tileZoom)>1){this._setView(n,u);return}for(var Je=w.min.y;Je<=w.max.y;Je++)for(var vt=w.min.x;vt<=w.max.x;vt++){var Sn=new R(vt,Je);if(Sn.z=this._tileZoom,!!this._isValidTile(Sn)){var un=this._tiles[this._tileCoordsToKey(Sn)];un?un.current=!0:K.push(Sn)}}if(K.sort(function(Mn,Ir){return Mn.distanceTo(O)-Ir.distanceTo(O)}),K.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Bn=document.createDocumentFragment();for(vt=0;vt<K.length;vt++)this._addTile(K[vt],Bn);this._level.el.appendChild(Bn)}}}},_isValidTile:function(n){var r=this._map.options.crs;if(!r.infinite){var u=this._globalTileRange;if(!r.wrapLng&&(n.x<u.min.x||n.x>u.max.x)||!r.wrapLat&&(n.y<u.min.y||n.y>u.max.y))return!1}if(!this.options.bounds)return!0;var b=this._tileCoordsToBounds(n);return te(this.options.bounds).overlaps(b)},_keyToBounds:function(n){return this._tileCoordsToBounds(this._keyToTileCoords(n))},_tileCoordsToNwSe:function(n){var r=this._map,u=this.getTileSize(),b=n.scaleBy(u),w=b.add(u),O=r.unproject(b,n.z),K=r.unproject(w,n.z);return[O,K]},_tileCoordsToBounds:function(n){var r=this._tileCoordsToNwSe(n),u=new X(r[0],r[1]);return this.options.noWrap||(u=this._map.wrapLatLngBounds(u)),u},_tileCoordsToKey:function(n){return n.x+":"+n.y+":"+n.z},_keyToTileCoords:function(n){var r=n.split(":"),u=new R(+r[0],+r[1]);return u.z=+r[2],u},_removeTile:function(n){var r=this._tiles[n];r&&(Vt(r.el),delete this._tiles[n],this.fire("tileunload",{tile:r.el,coords:this._keyToTileCoords(n)}))},_initTile:function(n){lt(n,"leaflet-tile");var r=this.getTileSize();n.style.width=r.x+"px",n.style.height=r.y+"px",n.onselectstart=f,n.onmousemove=f,De.ielt9&&this.options.opacity<1&&zn(n,this.options.opacity)},_addTile:function(n,r){var u=this._getTilePos(n),b=this._tileCoordsToKey(n),w=this.createTile(this._wrapCoords(n),l(this._tileReady,this,n));this._initTile(w),this.createTile.length<2&&$(l(this._tileReady,this,n,null,w)),rn(w,u),this._tiles[b]={el:w,coords:n,current:!0},r.appendChild(w),this.fire("tileloadstart",{tile:w,coords:n})},_tileReady:function(n,r,u){r&&this.fire("tileerror",{error:r,tile:u,coords:n});var b=this._tileCoordsToKey(n);u=this._tiles[b],u&&(u.loaded=+new Date,this._map._fadeAnimated?(zn(u.el,0),G(this._fadeFrame),this._fadeFrame=$(this._updateOpacity,this)):(u.active=!0,this._pruneTiles()),r||(lt(u.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:u.el,coords:n})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),De.ielt9||!this._map._fadeAnimated?$(this._pruneTiles,this):setTimeout(l(this._pruneTiles,this),250)))},_getTilePos:function(n){return n.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(n){var r=new R(this._wrapX?m(n.x,this._wrapX):n.x,this._wrapY?m(n.y,this._wrapY):n.y);return r.z=n.z,r},_pxBoundsToTileRange:function(n){var r=this.getTileSize();return new q(n.min.unscaleBy(r).floor(),n.max.unscaleBy(r).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var n in this._tiles)if(!this._tiles[n].loaded)return!1;return!0}});function Hf(n){return new ls(n)}var Pr=ls.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(n,r){this._url=n,r=x(this,r),r.detectRetina&&De.retina&&r.maxZoom>0?(r.tileSize=Math.floor(r.tileSize/2),r.zoomReverse?(r.zoomOffset--,r.minZoom=Math.min(r.maxZoom,r.minZoom+1)):(r.zoomOffset++,r.maxZoom=Math.max(r.minZoom,r.maxZoom-1)),r.minZoom=Math.max(0,r.minZoom)):r.zoomReverse?r.minZoom=Math.min(r.maxZoom,r.minZoom):r.maxZoom=Math.max(r.minZoom,r.maxZoom),typeof r.subdomains=="string"&&(r.subdomains=r.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(n,r){return this._url===n&&r===void 0&&(r=!0),this._url=n,r||this.redraw(),this},createTile:function(n,r){var u=document.createElement("img");return rt(u,"load",l(this._tileOnLoad,this,r,u)),rt(u,"error",l(this._tileOnError,this,r,u)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(u.referrerPolicy=this.options.referrerPolicy),u.alt="",u.src=this.getTileUrl(n),u},getTileUrl:function(n){var r={r:De.retina?"@2x":"",s:this._getSubdomain(n),x:n.x,y:n.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var u=this._globalTileRange.max.y-n.y;this.options.tms&&(r.y=u),r["-y"]=u}return P(this._url,i(r,this.options))},_tileOnLoad:function(n,r){De.ielt9?setTimeout(l(n,this,null,r),0):n(null,r)},_tileOnError:function(n,r,u){var b=this.options.errorTileUrl;b&&r.getAttribute("src")!==b&&(r.src=b),n(u,r)},_onTileRemove:function(n){n.tile.onload=null},_getZoomForUrl:function(){var n=this._tileZoom,r=this.options.maxZoom,u=this.options.zoomReverse,b=this.options.zoomOffset;return u&&(n=r-n),n+b},_getSubdomain:function(n){var r=Math.abs(n.x+n.y)%this.options.subdomains.length;return this.options.subdomains[r]},_abortLoading:function(){var n,r;for(n in this._tiles)if(this._tiles[n].coords.z!==this._tileZoom&&(r=this._tiles[n].el,r.onload=f,r.onerror=f,!r.complete)){r.src=j;var u=this._tiles[n].coords;Vt(r),delete this._tiles[n],this.fire("tileabort",{tile:r,coords:u})}},_removeTile:function(n){var r=this._tiles[n];if(r)return r.el.setAttribute("src",j),ls.prototype._removeTile.call(this,n)},_tileReady:function(n,r,u){if(!(!this._map||u&&u.getAttribute("src")===j))return ls.prototype._tileReady.call(this,n,r,u)}});function fu(n,r){return new Pr(n,r)}var gu=Pr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(n,r){this._url=n;var u=i({},this.defaultWmsParams);for(var b in r)b in this.options||(u[b]=r[b]);r=x(this,r);var w=r.detectRetina&&De.retina?2:1,O=this.getTileSize();u.width=O.x*w,u.height=O.y*w,this.wmsParams=u},onAdd:function(n){this._crs=this.options.crs||n.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var r=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[r]=this._crs.code,Pr.prototype.onAdd.call(this,n)},getTileUrl:function(n){var r=this._tileCoordsToNwSe(n),u=this._crs,b=ee(u.project(r[0]),u.project(r[1])),w=b.min,O=b.max,K=(this._wmsVersion>=1.3&&this._crs===lu?[w.y,w.x,O.y,O.x]:[w.x,w.y,O.x,O.y]).join(","),re=Pr.prototype.getTileUrl.call(this,n);return re+S(this.wmsParams,re,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+K},setParams:function(n,r){return i(this.wmsParams,n),r||this.redraw(),this}});function jf(n,r){return new gu(n,r)}Pr.WMS=gu,fu.wms=jf;var Co=Jn.extend({options:{padding:.1},initialize:function(n){x(this,n),p(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),lt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var n={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(n.zoomanim=this._onAnimZoom),n},_onAnimZoom:function(n){this._updateTransform(n.center,n.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(n,r){var u=this._map.getZoomScale(r,this._zoom),b=this._map.getSize().multiplyBy(.5+this.options.padding),w=this._map.project(this._center,r),O=b.multiplyBy(-u).add(w).subtract(this._map._getNewPixelOrigin(n,r));De.any3d?Ko(this._container,O,u):rn(this._container,O)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var n in this._layers)this._layers[n]._reset()},_onZoomEnd:function(){for(var n in this._layers)this._layers[n]._project()},_updatePaths:function(){for(var n in this._layers)this._layers[n]._update()},_update:function(){var n=this.options.padding,r=this._map.getSize(),u=this._map.containerPointToLayerPoint(r.multiplyBy(-n)).round();this._bounds=new q(u,u.add(r.multiplyBy(1+n*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),vu=Co.extend({options:{tolerance:0},getEvents:function(){var n=Co.prototype.getEvents.call(this);return n.viewprereset=this._onViewPreReset,n},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Co.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var n=this._container=document.createElement("canvas");rt(n,"mousemove",this._onMouseMove,this),rt(n,"click dblclick mousedown mouseup contextmenu",this._onClick,this),rt(n,"mouseout",this._handleMouseOut,this),n._leaflet_disable_events=!0,this._ctx=n.getContext("2d")},_destroyContainer:function(){G(this._redrawRequest),delete this._ctx,Vt(this._container),Rt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var n;this._redrawBounds=null;for(var r in this._layers)n=this._layers[r],n._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Co.prototype._update.call(this);var n=this._bounds,r=this._container,u=n.getSize(),b=De.retina?2:1;rn(r,n.min),r.width=b*u.x,r.height=b*u.y,r.style.width=u.x+"px",r.style.height=u.y+"px",De.retina&&this._ctx.scale(2,2),this._ctx.translate(-n.min.x,-n.min.y),this.fire("update")}},_reset:function(){Co.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(n){this._updateDashArray(n),this._layers[p(n)]=n;var r=n._order={layer:n,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=r),this._drawLast=r,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(n){this._requestRedraw(n)},_removePath:function(n){var r=n._order,u=r.next,b=r.prev;u?u.prev=b:this._drawLast=b,b?b.next=u:this._drawFirst=u,delete n._order,delete this._layers[p(n)],this._requestRedraw(n)},_updatePath:function(n){this._extendRedrawBounds(n),n._project(),n._update(),this._requestRedraw(n)},_updateStyle:function(n){this._updateDashArray(n),this._requestRedraw(n)},_updateDashArray:function(n){if(typeof n.options.dashArray=="string"){var r=n.options.dashArray.split(/[, ]+/),u=[],b,w;for(w=0;w<r.length;w++){if(b=Number(r[w]),isNaN(b))return;u.push(b)}n.options._dashArray=u}else n.options._dashArray=n.options.dashArray},_requestRedraw:function(n){this._map&&(this._extendRedrawBounds(n),this._redrawRequest=this._redrawRequest||$(this._redraw,this))},_extendRedrawBounds:function(n){if(n._pxBounds){var r=(n.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new q,this._redrawBounds.extend(n._pxBounds.min.subtract([r,r])),this._redrawBounds.extend(n._pxBounds.max.add([r,r]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var n=this._redrawBounds;if(n){var r=n.getSize();this._ctx.clearRect(n.min.x,n.min.y,r.x,r.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var n,r=this._redrawBounds;if(this._ctx.save(),r){var u=r.getSize();this._ctx.beginPath(),this._ctx.rect(r.min.x,r.min.y,u.x,u.y),this._ctx.clip()}this._drawing=!0;for(var b=this._drawFirst;b;b=b.next)n=b.layer,(!r||n._pxBounds&&n._pxBounds.intersects(r))&&n._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(n,r){if(this._drawing){var u,b,w,O,K=n._parts,re=K.length,ce=this._ctx;if(re){for(ce.beginPath(),u=0;u<re;u++){for(b=0,w=K[u].length;b<w;b++)O=K[u][b],ce[b?"lineTo":"moveTo"](O.x,O.y);r&&ce.closePath()}this._fillStroke(ce,n)}}},_updateCircle:function(n){if(!(!this._drawing||n._empty())){var r=n._point,u=this._ctx,b=Math.max(Math.round(n._radius),1),w=(Math.max(Math.round(n._radiusY),1)||b)/b;w!==1&&(u.save(),u.scale(1,w)),u.beginPath(),u.arc(r.x,r.y/w,b,0,Math.PI*2,!1),w!==1&&u.restore(),this._fillStroke(u,n)}},_fillStroke:function(n,r){var u=r.options;u.fill&&(n.globalAlpha=u.fillOpacity,n.fillStyle=u.fillColor||u.color,n.fill(u.fillRule||"evenodd")),u.stroke&&u.weight!==0&&(n.setLineDash&&n.setLineDash(r.options&&r.options._dashArray||[]),n.globalAlpha=u.opacity,n.lineWidth=u.weight,n.strokeStyle=u.color,n.lineCap=u.lineCap,n.lineJoin=u.lineJoin,n.stroke())},_onClick:function(n){for(var r=this._map.mouseEventToLayerPoint(n),u,b,w=this._drawFirst;w;w=w.next)u=w.layer,u.options.interactive&&u._containsPoint(r)&&(!(n.type==="click"||n.type==="preclick")||!this._map._draggableMoved(u))&&(b=u);this._fireEvent(b?[b]:!1,n)},_onMouseMove:function(n){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var r=this._map.mouseEventToLayerPoint(n);this._handleMouseHover(n,r)}},_handleMouseOut:function(n){var r=this._hoveredLayer;r&&(en(this._container,"leaflet-interactive"),this._fireEvent([r],n,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(n,r){if(!this._mouseHoverThrottled){for(var u,b,w=this._drawFirst;w;w=w.next)u=w.layer,u.options.interactive&&u._containsPoint(r)&&(b=u);b!==this._hoveredLayer&&(this._handleMouseOut(n),b&&(lt(this._container,"leaflet-interactive"),this._fireEvent([b],n,"mouseover"),this._hoveredLayer=b)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,n),this._mouseHoverThrottled=!0,setTimeout(l(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(n,r,u){this._map._fireDOMEvent(r,u||r.type,n)},_bringToFront:function(n){var r=n._order;if(r){var u=r.next,b=r.prev;if(u)u.prev=b;else return;b?b.next=u:u&&(this._drawFirst=u),r.prev=this._drawLast,this._drawLast.next=r,r.next=null,this._drawLast=r,this._requestRedraw(n)}},_bringToBack:function(n){var r=n._order;if(r){var u=r.next,b=r.prev;if(b)b.next=u;else return;u?u.prev=b:b&&(this._drawLast=b),r.prev=null,r.next=this._drawFirst,this._drawFirst.prev=r,this._drawFirst=r,this._requestRedraw(n)}}});function bu(n){return De.canvas?new vu(n):null}var cs=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(n){return document.createElement("<lvml:"+n+' class="lvml">')}}catch{}return function(n){return document.createElement("<"+n+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Gf={_initContainer:function(){this._container=_t("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Co.prototype._update.call(this),this.fire("update"))},_initPath:function(n){var r=n._container=cs("shape");lt(r,"leaflet-vml-shape "+(this.options.className||"")),r.coordsize="1 1",n._path=cs("path"),r.appendChild(n._path),this._updateStyle(n),this._layers[p(n)]=n},_addPath:function(n){var r=n._container;this._container.appendChild(r),n.options.interactive&&n.addInteractiveTarget(r)},_removePath:function(n){var r=n._container;Vt(r),n.removeInteractiveTarget(r),delete this._layers[p(n)]},_updateStyle:function(n){var r=n._stroke,u=n._fill,b=n.options,w=n._container;w.stroked=!!b.stroke,w.filled=!!b.fill,b.stroke?(r||(r=n._stroke=cs("stroke")),w.appendChild(r),r.weight=b.weight+"px",r.color=b.color,r.opacity=b.opacity,b.dashArray?r.dashStyle=z(b.dashArray)?b.dashArray.join(" "):b.dashArray.replace(/( *, *)/g," "):r.dashStyle="",r.endcap=b.lineCap.replace("butt","flat"),r.joinstyle=b.lineJoin):r&&(w.removeChild(r),n._stroke=null),b.fill?(u||(u=n._fill=cs("fill")),w.appendChild(u),u.color=b.fillColor||b.color,u.opacity=b.fillOpacity):u&&(w.removeChild(u),n._fill=null)},_updateCircle:function(n){var r=n._point.round(),u=Math.round(n._radius),b=Math.round(n._radiusY||u);this._setPath(n,n._empty()?"M0 0":"AL "+r.x+","+r.y+" "+u+","+b+" 0,"+65535*360)},_setPath:function(n,r){n._path.v=r},_bringToFront:function(n){yr(n._container)},_bringToBack:function(n){Cr(n._container)}},di=De.vml?cs:de,us=Co.extend({_initContainer:function(){this._container=di("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=di("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Vt(this._container),Rt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Co.prototype._update.call(this);var n=this._bounds,r=n.getSize(),u=this._container;(!this._svgSize||!this._svgSize.equals(r))&&(this._svgSize=r,u.setAttribute("width",r.x),u.setAttribute("height",r.y)),rn(u,n.min),u.setAttribute("viewBox",[n.min.x,n.min.y,r.x,r.y].join(" ")),this.fire("update")}},_initPath:function(n){var r=n._path=di("path");n.options.className&&lt(r,n.options.className),n.options.interactive&&lt(r,"leaflet-interactive"),this._updateStyle(n),this._layers[p(n)]=n},_addPath:function(n){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(n._path),n.addInteractiveTarget(n._path)},_removePath:function(n){Vt(n._path),n.removeInteractiveTarget(n._path),delete this._layers[p(n)]},_updatePath:function(n){n._project(),n._update()},_updateStyle:function(n){var r=n._path,u=n.options;r&&(u.stroke?(r.setAttribute("stroke",u.color),r.setAttribute("stroke-opacity",u.opacity),r.setAttribute("stroke-width",u.weight),r.setAttribute("stroke-linecap",u.lineCap),r.setAttribute("stroke-linejoin",u.lineJoin),u.dashArray?r.setAttribute("stroke-dasharray",u.dashArray):r.removeAttribute("stroke-dasharray"),u.dashOffset?r.setAttribute("stroke-dashoffset",u.dashOffset):r.removeAttribute("stroke-dashoffset")):r.setAttribute("stroke","none"),u.fill?(r.setAttribute("fill",u.fillColor||u.color),r.setAttribute("fill-opacity",u.fillOpacity),r.setAttribute("fill-rule",u.fillRule||"evenodd")):r.setAttribute("fill","none"))},_updatePoly:function(n,r){this._setPath(n,Ce(n._parts,r))},_updateCircle:function(n){var r=n._point,u=Math.max(Math.round(n._radius),1),b=Math.max(Math.round(n._radiusY),1)||u,w="a"+u+","+b+" 0 1,0 ",O=n._empty()?"M0 0":"M"+(r.x-u)+","+r.y+w+u*2+",0 "+w+-u*2+",0 ";this._setPath(n,O)},_setPath:function(n,r){n._path.setAttribute("d",r)},_bringToFront:function(n){yr(n._path)},_bringToBack:function(n){Cr(n._path)}});De.vml&&us.include(Gf);function yu(n){return De.svg||De.vml?new us(n):null}Ct.include({getRenderer:function(n){var r=n.options.renderer||this._getPaneRenderer(n.options.pane)||this.options.renderer||this._renderer;return r||(r=this._renderer=this._createRenderer()),this.hasLayer(r)||this.addLayer(r),r},_getPaneRenderer:function(n){if(n==="overlayPane"||n===void 0)return!1;var r=this._paneRenderers[n];return r===void 0&&(r=this._createRenderer({pane:n}),this._paneRenderers[n]=r),r},_createRenderer:function(n){return this.options.preferCanvas&&bu(n)||yu(n)}});var Cu=Sr.extend({initialize:function(n,r){Sr.prototype.initialize.call(this,this._boundsToLatLngs(n),r)},setBounds:function(n){return this.setLatLngs(this._boundsToLatLngs(n))},_boundsToLatLngs:function(n){return n=te(n),[n.getSouthWest(),n.getNorthWest(),n.getNorthEast(),n.getSouthEast()]}});function Vf(n,r){return new Cu(n,r)}us.create=di,us.pointsToPath=Ce,yo.geometryToLayer=ri,yo.coordsToLatLng=qa,yo.coordsToLatLngs=si,yo.latLngToCoords=Xa,yo.latLngsToCoords=ii,yo.getFeature=_r,yo.asFeature=ai,Ct.mergeOptions({boxZoom:!0});var xu=io.extend({initialize:function(n){this._map=n,this._container=n._container,this._pane=n._panes.overlayPane,this._resetStateTimeout=0,n.on("unload",this._destroy,this)},addHooks:function(){rt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Rt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Vt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(n){if(!n.shiftKey||n.which!==1&&n.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),ts(),Ra(),this._startPoint=this._map.mouseEventToContainerPoint(n),rt(document,{contextmenu:Xo,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(n){this._moved||(this._moved=!0,this._box=_t("div","leaflet-zoom-box",this._container),lt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(n);var r=new q(this._point,this._startPoint),u=r.getSize();rn(this._box,r.min),this._box.style.width=u.x+"px",this._box.style.height=u.y+"px"},_finish:function(){this._moved&&(Vt(this._box),en(this._container,"leaflet-crosshair")),ns(),La(),Rt(document,{contextmenu:Xo,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(n){if(!(n.which!==1&&n.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(l(this._resetState,this),0);var r=new X(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(r).fire("boxzoomend",{boxZoomBounds:r})}},_onKeyDown:function(n){n.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ct.addInitHook("addHandler","boxZoom",xu),Ct.mergeOptions({doubleClickZoom:!0});var wu=io.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(n){var r=this._map,u=r.getZoom(),b=r.options.zoomDelta,w=n.originalEvent.shiftKey?u-b:u+b;r.options.doubleClickZoom==="center"?r.setZoom(w):r.setZoomAround(n.containerPoint,w)}});Ct.addInitHook("addHandler","doubleClickZoom",wu),Ct.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Su=io.extend({addHooks:function(){if(!this._draggable){var n=this._map;this._draggable=new Eo(n._mapPane,n._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),n.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),n.on("zoomend",this._onZoomEnd,this),n.whenReady(this._onZoomEnd,this))}lt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){en(this._map._container,"leaflet-grab"),en(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var n=this._map;if(n._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var r=te(this._map.options.maxBounds);this._offsetLimit=ee(this._map.latLngToContainerPoint(r.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(r.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;n.fire("movestart").fire("dragstart"),n.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(n){if(this._map.options.inertia){var r=this._lastTime=+new Date,u=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(u),this._times.push(r),this._prunePositions(r)}this._map.fire("move",n).fire("drag",n)},_prunePositions:function(n){for(;this._positions.length>1&&n-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var n=this._map.getSize().divideBy(2),r=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=r.subtract(n).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(n,r){return n-(n-r)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var n=this._draggable._newPos.subtract(this._draggable._startPos),r=this._offsetLimit;n.x<r.min.x&&(n.x=this._viscousLimit(n.x,r.min.x)),n.y<r.min.y&&(n.y=this._viscousLimit(n.y,r.min.y)),n.x>r.max.x&&(n.x=this._viscousLimit(n.x,r.max.x)),n.y>r.max.y&&(n.y=this._viscousLimit(n.y,r.max.y)),this._draggable._newPos=this._draggable._startPos.add(n)}},_onPreDragWrap:function(){var n=this._worldWidth,r=Math.round(n/2),u=this._initialWorldOffset,b=this._draggable._newPos.x,w=(b-r+u)%n+r-u,O=(b+r+u)%n-r-u,K=Math.abs(w+u)<Math.abs(O+u)?w:O;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=K},_onDragEnd:function(n){var r=this._map,u=r.options,b=!u.inertia||n.noInertia||this._times.length<2;if(r.fire("dragend",n),b)r.fire("moveend");else{this._prunePositions(+new Date);var w=this._lastPos.subtract(this._positions[0]),O=(this._lastTime-this._times[0])/1e3,K=u.easeLinearity,re=w.multiplyBy(K/O),ce=re.distanceTo([0,0]),_e=Math.min(u.inertiaMaxSpeed,ce),$e=re.multiplyBy(_e/ce),Je=_e/(u.inertiaDeceleration*K),vt=$e.multiplyBy(-Je/2).round();!vt.x&&!vt.y?r.fire("moveend"):(vt=r._limitOffset(vt,r.options.maxBounds),$(function(){r.panBy(vt,{duration:Je,easeLinearity:K,noMoveStart:!0,animate:!0})}))}}});Ct.addInitHook("addHandler","dragging",Su),Ct.mergeOptions({keyboard:!0,keyboardPanDelta:80});var _u=io.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(n){this._map=n,this._setPanDelta(n.options.keyboardPanDelta),this._setZoomDelta(n.options.zoomDelta)},addHooks:function(){var n=this._map._container;n.tabIndex<=0&&(n.tabIndex="0"),rt(n,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Rt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var n=document.body,r=document.documentElement,u=n.scrollTop||r.scrollTop,b=n.scrollLeft||r.scrollLeft;this._map._container.focus(),window.scrollTo(b,u)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(n){var r=this._panKeys={},u=this.keyCodes,b,w;for(b=0,w=u.left.length;b<w;b++)r[u.left[b]]=[-1*n,0];for(b=0,w=u.right.length;b<w;b++)r[u.right[b]]=[n,0];for(b=0,w=u.down.length;b<w;b++)r[u.down[b]]=[0,n];for(b=0,w=u.up.length;b<w;b++)r[u.up[b]]=[0,-1*n]},_setZoomDelta:function(n){var r=this._zoomKeys={},u=this.keyCodes,b,w;for(b=0,w=u.zoomIn.length;b<w;b++)r[u.zoomIn[b]]=n;for(b=0,w=u.zoomOut.length;b<w;b++)r[u.zoomOut[b]]=-n},_addHooks:function(){rt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Rt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(n){if(!(n.altKey||n.ctrlKey||n.metaKey)){var r=n.keyCode,u=this._map,b;if(r in this._panKeys){if(!u._panAnim||!u._panAnim._inProgress)if(b=this._panKeys[r],n.shiftKey&&(b=Z(b).multiplyBy(3)),u.options.maxBounds&&(b=u._limitOffset(Z(b),u.options.maxBounds)),u.options.worldCopyJump){var w=u.wrapLatLng(u.unproject(u.project(u.getCenter()).add(b)));u.panTo(w)}else u.panBy(b)}else if(r in this._zoomKeys)u.setZoom(u.getZoom()+(n.shiftKey?3:1)*this._zoomKeys[r]);else if(r===27&&u._popup&&u._popup.options.closeOnEscapeKey)u.closePopup();else return;Xo(n)}}});Ct.addInitHook("addHandler","keyboard",_u),Ct.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Pu=io.extend({addHooks:function(){rt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Rt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(n){var r=Jc(n),u=this._map.options.wheelDebounceTime;this._delta+=r,this._lastMousePos=this._map.mouseEventToContainerPoint(n),this._startTime||(this._startTime=+new Date);var b=Math.max(u-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(l(this._performZoom,this),b),Xo(n)},_performZoom:function(){var n=this._map,r=n.getZoom(),u=this._map.options.zoomSnap||0;n._stop();var b=this._delta/(this._map.options.wheelPxPerZoomLevel*4),w=4*Math.log(2/(1+Math.exp(-Math.abs(b))))/Math.LN2,O=u?Math.ceil(w/u)*u:w,K=n._limitZoom(r+(this._delta>0?O:-O))-r;this._delta=0,this._startTime=null,K&&(n.options.scrollWheelZoom==="center"?n.setZoom(r+K):n.setZoomAround(this._lastMousePos,r+K))}});Ct.addInitHook("addHandler","scrollWheelZoom",Pu);var Wf=600;Ct.mergeOptions({tapHold:De.touchNative&&De.safari&&De.mobile,tapTolerance:15});var Iu=io.extend({addHooks:function(){rt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Rt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(n){if(clearTimeout(this._holdTimeout),n.touches.length===1){var r=n.touches[0];this._startPos=this._newPos=new R(r.clientX,r.clientY),this._holdTimeout=setTimeout(l(function(){this._cancel(),this._isTapValid()&&(rt(document,"touchend",vn),rt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",r))},this),Wf),rt(document,"touchend touchcancel contextmenu",this._cancel,this),rt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function n(){Rt(document,"touchend",vn),Rt(document,"touchend touchcancel",n)},_cancel:function(){clearTimeout(this._holdTimeout),Rt(document,"touchend touchcancel contextmenu",this._cancel,this),Rt(document,"touchmove",this._onMove,this)},_onMove:function(n){var r=n.touches[0];this._newPos=new R(r.clientX,r.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(n,r){var u=new MouseEvent(n,{bubbles:!0,cancelable:!0,view:window,screenX:r.screenX,screenY:r.screenY,clientX:r.clientX,clientY:r.clientY});u._simulated=!0,r.target.dispatchEvent(u)}});Ct.addInitHook("addHandler","tapHold",Iu),Ct.mergeOptions({touchZoom:De.touch,bounceAtZoomLimits:!0});var Tu=io.extend({addHooks:function(){lt(this._map._container,"leaflet-touch-zoom"),rt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){en(this._map._container,"leaflet-touch-zoom"),Rt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(n){var r=this._map;if(!(!n.touches||n.touches.length!==2||r._animatingZoom||this._zooming)){var u=r.mouseEventToContainerPoint(n.touches[0]),b=r.mouseEventToContainerPoint(n.touches[1]);this._centerPoint=r.getSize()._divideBy(2),this._startLatLng=r.containerPointToLatLng(this._centerPoint),r.options.touchZoom!=="center"&&(this._pinchStartLatLng=r.containerPointToLatLng(u.add(b)._divideBy(2))),this._startDist=u.distanceTo(b),this._startZoom=r.getZoom(),this._moved=!1,this._zooming=!0,r._stop(),rt(document,"touchmove",this._onTouchMove,this),rt(document,"touchend touchcancel",this._onTouchEnd,this),vn(n)}},_onTouchMove:function(n){if(!(!n.touches||n.touches.length!==2||!this._zooming)){var r=this._map,u=r.mouseEventToContainerPoint(n.touches[0]),b=r.mouseEventToContainerPoint(n.touches[1]),w=u.distanceTo(b)/this._startDist;if(this._zoom=r.getScaleZoom(w,this._startZoom),!r.options.bounceAtZoomLimits&&(this._zoom<r.getMinZoom()&&w<1||this._zoom>r.getMaxZoom()&&w>1)&&(this._zoom=r._limitZoom(this._zoom)),r.options.touchZoom==="center"){if(this._center=this._startLatLng,w===1)return}else{var O=u._add(b)._divideBy(2)._subtract(this._centerPoint);if(w===1&&O.x===0&&O.y===0)return;this._center=r.unproject(r.project(this._pinchStartLatLng,this._zoom).subtract(O),this._zoom)}this._moved||(r._moveStart(!0,!1),this._moved=!0),G(this._animRequest);var K=l(r._move,r,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=$(K,this,!0),vn(n)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,G(this._animRequest),Rt(document,"touchmove",this._onTouchMove,this),Rt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Ct.addInitHook("addHandler","touchZoom",Tu),Ct.BoxZoom=xu,Ct.DoubleClickZoom=wu,Ct.Drag=Su,Ct.Keyboard=_u,Ct.ScrollWheelZoom=Pu,Ct.TapHold=Iu,Ct.TouchZoom=Tu,o.Bounds=q,o.Browser=De,o.CRS=U,o.Canvas=vu,o.Circle=Ja,o.CircleMarker=oi,o.Class=T,o.Control=Kn,o.DivIcon=mu,o.DivOverlay=ao,o.DomEvent=cf,o.DomUtil=af,o.Draggable=Eo,o.Evented=W,o.FeatureGroup=vo,o.GeoJSON=yo,o.GridLayer=ls,o.Handler=io,o.Icon=wr,o.ImageOverlay=li,o.LatLng=Y,o.LatLngBounds=X,o.Layer=Jn,o.LayerGroup=xr,o.LineUtil=wf,o.Map=Ct,o.Marker=ni,o.Mixin=gf,o.Path=Do,o.Point=R,o.PolyUtil=vf,o.Polygon=Sr,o.Polyline=bo,o.Popup=ci,o.PosAnimation=qc,o.Projection=Sf,o.Rectangle=Cu,o.Renderer=Co,o.SVG=us,o.SVGOverlay=hu,o.TileLayer=Pr,o.Tooltip=ui,o.Transformation=ue,o.Util=H,o.VideoOverlay=pu,o.bind=l,o.bounds=ee,o.canvas=bu,o.circle=Ef,o.circleMarker=Af,o.control=ss,o.divIcon=Bf,o.extend=i,o.featureGroup=Tf,o.geoJSON=du,o.geoJson=Lf,o.gridLayer=Hf,o.icon=kf,o.imageOverlay=Ff,o.latLng=ne,o.latLngBounds=te,o.layerGroup=If,o.map=uf,o.marker=Mf,o.point=Z,o.polygon=Rf,o.polyline=Df,o.popup=zf,o.rectangle=Vf,o.setOptions=x,o.stamp=p,o.svg=yu,o.svgOverlay=Nf,o.tileLayer=fu,o.tooltip=$f,o.transformation=he,o.version=s,o.videoOverlay=Of;var Zf=window.L;o.noConflict=function(){return window.L=Zf,this},window.L=o})}(vs,vs.exports)),vs.exports}var zs=w0();const Ml=jp(zs);function cc(e,t,o){return Object.freeze({instance:e,context:t,container:o})}function uc(e,t){return t==null?function(s,i){const a=c.useRef(void 0);return a.current||(a.current=e(s,i)),a}:function(s,i){const a=c.useRef(void 0);a.current||(a.current=e(s,i));const l=c.useRef(s),{instance:d}=a.current;return c.useEffect(function(){l.current!==s&&(t(d,s,l.current),l.current=s)},[d,s,t]),a}}function S0(e,t){c.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var a;(a=t.layerContainer)==null||a.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function dh(e){return function(o){const s=ac(),i=e(lc(o,s),s);return ch(s.map,o.attribution),uh(i.current,o.eventHandlers),S0(i.current,s),i}}function _0(e,t){const o=uc(e,t),s=dh(o);return v0(s)}function P0(e,t){const o=uc(e),s=C0(o,t);return b0(s)}function I0(e,t){const o=uc(e,t),s=dh(o);return y0(s)}function T0(e,t,o){const{opacity:s,zIndex:i}=t;s!=null&&s!==o.opacity&&e.setOpacity(s),i!=null&&i!==o.zIndex&&e.setZIndex(i)}function dc(){return ac().map}function k0(e){const t=dc();return c.useEffect(function(){return t.on(e),function(){t.off(e)}},[t,e]),t}function M0({bounds:e,boundsOptions:t,center:o,children:s,className:i,id:a,placeholder:l,style:d,whenReady:p,zoom:g,...m},f){const[v]=c.useState({className:i,id:a,style:d}),[y,C]=c.useState(null),x=c.useRef(void 0);c.useImperativeHandle(f,()=>(y==null?void 0:y.map)??null,[y]);const S=c.useCallback(P=>{if(P!==null&&!x.current){const z=new zs.Map(P,m);x.current=z,o!=null&&g!=null?z.setView(o,g):e!=null&&z.fitBounds(e,t),p!=null&&z.whenReady(p),C(f0(z))}},[]);c.useEffect(()=>()=>{y==null||y.map.remove()},[y]);const _=y?Nn.createElement(ic,{value:y},s):l??null;return Nn.createElement("div",{...v,ref:S},_)}const A0=c.forwardRef(M0),ld=_0(function({position:t,...o},s){const i=new zs.Marker(t,o);return cc(i,g0(s,{overlayContainer:i}))},function(t,o,s){o.position!==s.position&&t.setLatLng(o.position),o.icon!=null&&o.icon!==s.icon&&t.setIcon(o.icon),o.zIndexOffset!=null&&o.zIndexOffset!==s.zIndexOffset&&t.setZIndexOffset(o.zIndexOffset),o.opacity!=null&&o.opacity!==s.opacity&&t.setOpacity(o.opacity),t.dragging!=null&&o.draggable!==s.draggable&&(o.draggable===!0?t.dragging.enable():t.dragging.disable())}),E0=I0(function({url:t,...o},s){const i=new zs.TileLayer(t,lc(o,s));return cc(i,s)},function(t,o,s){T0(t,o,s);const{url:i}=o;i!=null&&i!==s.url&&t.setUrl(i)}),cd=P0(function(t,o){const s=new zs.Tooltip(t,o.overlayContainer);return cc(s,o)},function(t,o,{position:s},i){c.useEffect(function(){const l=o.overlayContainer;if(l==null)return;const{instance:d}=t,p=m=>{m.tooltip===d&&(s!=null&&d.setLatLng(s),d.update(),i(!0))},g=m=>{m.tooltip===d&&i(!1)};return l.on({tooltipopen:p,tooltipclose:g}),l.bindTooltip(d),function(){l.off({tooltipopen:p,tooltipclose:g}),l._map!=null&&l.unbindTooltip()}},[t,o,i,s])});function D0(){const e=dc();return c.useEffect(()=>{const t=e.getContainer(),o=new ResizeObserver(()=>{e.invalidateSize({animate:!1})});return o.observe(t),()=>o.disconnect()},[e]),null}function R0({onMapDragStart:e,onMapDragEnd:t}){return k0({dragstart(){e()},dragend(){t()},click(){}}),null}function L0({selectedTask:e,selectedTasks:t,selectedResource:o,selectedResources:s,shouldZoom:i}){const a=dc(),l=Nn.useRef("");return c.useEffect(()=>{if(!i)return;const d=t.length?t:e?[e]:[],p=s.length?s:o?[o]:[],g=[...d.filter(v=>v.lat&&v.lng),...p.filter(v=>v.homeLat&&v.homeLng)];if(!g.length)return;const m=g.map(v=>v.taskId?v.taskId:v.resourceId).join(",");if(m===l.current)return;if(l.current=m,g.length===1){const v=g[0];a.setView([Number(v.lat??v.homeLat),Number(v.lng??v.homeLng)],15,{animate:!1});return}const f=Ml.latLngBounds(g.map(v=>[Number(v.lat??v.homeLat),Number(v.lng??v.homeLng)]));a.fitBounds(f,{padding:[60,60],animate:!1})},[e,t,o,s,i,a]),null}function F0({tasks:e,resources:t,selectedTask:o,selectedTasks:s,selectedResource:i,selectedResources:a,shouldZoom:l,handleTaskMapClick:d,handleResourceMapClick:p,notifyMapDragStart:g,notifyMapDragEnd:m}){const f=zt(),v=c.useMemo(()=>e.filter(S=>S.lat&&S.lng),[e]),y=c.useMemo(()=>t.filter(S=>S.homeLat&&S.homeLng),[t]),C=new Set(s.map(S=>S.taskId)),x=new Set(a.map(S=>S.resourceId));return h.jsx(Nt,{"data-map-root":"true",elevation:0,sx:{height:"100%",display:"flex",flexDirection:"column",borderRadius:3,px:3,py:2.5,border:`1px solid ${Me(f.palette.primary.main,.18)}`,boxShadow:"0 18px 46px rgba(8,58,97,0.18)",backgroundImage:"none"},children:h.jsx(We,{sx:{flex:1,borderRadius:2,overflow:"hidden",position:"relative"},children:h.jsxs(A0,{center:[51.713,-3.449],zoom:12,style:{width:"100%",height:"100%"},children:[h.jsx(D0,{}),h.jsx(R0,{onMapDragStart:g,onMapDragEnd:m}),h.jsx(L0,{selectedTask:o,selectedTasks:s,selectedResource:i,selectedResources:a,shouldZoom:l}),h.jsx(E0,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),v.map(S=>{const _=!!(C.has(S.taskId)||o&&o.taskId===S.taskId),P=Ml.divIcon({className:"custom-pin",iconSize:[36,50],iconAnchor:[18,46],html:ih(oh[S.commitmentType]??"#6B7280",_)});return h.jsx(ld,{position:[S.lat,S.lng],icon:P,eventHandlers:{click:z=>{var j,k;const D=((j=z.originalEvent)==null?void 0:j.ctrlKey)||((k=z.originalEvent)==null?void 0:k.metaKey)||!1;d(S,D)},mouseover:z=>{var j;const D=z.target;(j=D.closeTooltip)==null||j.call(D)},dblclick:z=>{var j;const D=z.target;(j=D.openTooltip)==null||j.call(D)}},children:h.jsx(cd,{direction:"top",offset:[0,-36],permanent:!1,sticky:!1,opacity:1,className:"leaflet-tooltip-surface",children:h.jsxs(We,{sx:{fontSize:12,lineHeight:1.4,color:f.palette.text.primary},children:[h.jsx(We,{component:"span",sx:{fontWeight:700,display:"block"},children:S.taskId}),h.jsx(We,{component:"span",sx:{color:f.palette.text.secondary},children:S.customerAddress})]})})},S.taskId)}),y.map(S=>{const _=!!(x.has(S.resourceId)||i&&i.resourceId===S.resourceId),P=Ml.divIcon({className:"custom-pin",iconSize:[36,50],iconAnchor:[18,46],html:ah(S.status,_)});return h.jsx(ld,{position:[S.homeLat,S.homeLng],icon:P,eventHandlers:{click:z=>{var j,k;const D=((j=z.originalEvent)==null?void 0:j.ctrlKey)||((k=z.originalEvent)==null?void 0:k.metaKey)||!1;p(S,D)},mouseover:z=>{var j;const D=z.target;(j=D.closeTooltip)==null||j.call(D)},dblclick:z=>{var j;const D=z.target;(j=D.openTooltip)==null||j.call(D)}},children:h.jsx(cd,{direction:"top",offset:[0,-36],permanent:!1,sticky:!1,opacity:1,className:"leaflet-tooltip-surface",children:h.jsxs(We,{sx:{fontSize:12,lineHeight:1.4,color:f.palette.text.primary},children:[h.jsx(We,{component:"span",sx:{fontWeight:700,display:"block"},children:S.name}),h.jsx(We,{component:"span",sx:{display:"block",color:f.palette.text.secondary},children:S.homePostCode}),h.jsxs(We,{component:"span",sx:{color:f.palette.text.secondary},children:["Status: ",S.status]})]})})},S.resourceId)})]})})})}const ph=c.createContext(void 0);function dt(){const e=c.useContext(ph);if(e===void 0)throw new Error(["MUI: Could not find the data grid context.","It looks like you rendered your component outside of a DataGrid, DataGridPro or DataGridPremium parent component.","This can also happen if you are bundling multiple versions of the data grid."].join(`
`));return e}const O0=()=>c.useRef({}),hh=c.createContext(void 0),je=()=>{const e=c.useContext(hh);if(!e)throw new Error("MUI: useGridRootProps should only be used inside the DataGrid, DataGridPro or DataGridPremium component.");return e};function N0(e,t){return()=>null}function nr(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function mh(e){if(c.isValidElement(e)||!nr(e))return e;const t={};return Object.keys(e).forEach(o=>{t[o]=mh(e[o])}),t}function Oi(e,t,o={clone:!0}){const s=o.clone?I({},e):e;return nr(e)&&nr(t)&&Object.keys(t).forEach(i=>{c.isValidElement(t[i])?s[i]=t[i]:nr(t[i])&&Object.prototype.hasOwnProperty.call(e,i)&&nr(e[i])?s[i]=Oi(e[i],t[i],o):o.clone?s[i]=nr(t[i])?mh(t[i]):t[i]:s[i]=t[i]}),s}function z0(e){let t="https://mui.com/production-error/?code="+e;for(let o=1;o<arguments.length;o+=1)t+="&args[]="+encodeURIComponent(arguments[o]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function mo(e){if(typeof e!="string")throw new Error(z0(7));return e.charAt(0).toUpperCase()+e.slice(1)}function fh(e,t=166){let o;function s(...i){const a=()=>{e.apply(this,i)};clearTimeout(o),o=setTimeout(a,t)}return s.clear=()=>{clearTimeout(o)},s}function $s(e){return e&&e.ownerDocument||document}function $0(e){return $s(e).defaultView||window}function B0(e,t){typeof e=="function"?e(t):e&&(e.current=t)}const mn=typeof window<"u"?c.useLayoutEffect:c.useEffect;let ud=0;function H0(e){const[t,o]=c.useState(e),s=t;return c.useEffect(()=>{t==null&&(ud+=1,o(`mui-${ud}`))},[t]),s}const dd=Fp.useId;function Bt(e){return dd!==void 0?dd():H0(e)}function Qn(e){const t=c.useRef(e);return mn(()=>{t.current=e}),c.useRef((...o)=>(0,t.current)(...o)).current}function Vo(...e){return c.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(o=>{B0(o,t)})},e)}function ht(e,t,o=void 0){const s={};return Object.keys(e).forEach(i=>{s[i]=e[i].reduce((a,l)=>{if(l){const d=t(l);d!==""&&a.push(d),o&&o[l]&&a.push(o[l])}return a},[]).join(" ")}),s}const pd=e=>e,j0=()=>{let e=pd;return{configure(t){e=t},generate(t){return e(t)},reset(){e=pd}}},G0=j0(),V0={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function gh(e,t,o="Mui"){const s=V0[t];return s?`${o}-${s}`:`${G0.generate(e)}-${t}`}function vh(e,t,o="Mui"){const s={};return t.forEach(i=>{s[i]=gh(e,i,o)}),s}const bh=c.createContext(void 0);function Wo(){const e=c.useContext(bh);if(e===void 0)throw new Error(["MUI: Could not find the data grid private context.","It looks like you rendered your component outside of a DataGrid, DataGridPro or DataGridPremium parent component.","This can also happen if you are bundling multiple versions of the data grid."].join(`
`));return e}const hd={};function pc(e,t){const o=c.useRef(hd);return o.current===hd&&(o.current=e(t)),o}const W0=[];function yh(e){c.useEffect(e,W0)}const go=(e,t="warning")=>{let o=!1;const s=Array.isArray(e)?e.join(`
`):e;return()=>{o||(o=!0,t==="error"?console.error(s):console.warn(s))}},Z0=Object.is;function Ch(e,t){if(e===t)return!0;if(!(e instanceof Object)||!(t instanceof Object))return!1;let o=0,s=0;for(const i in e)if(o+=1,!Z0(e[i],t[i])||!(i in t))return!1;for(const i in t)s+=1;return o===s}go(["MUI: `useGridSelector` has been called before the initialization of the state.","This hook can only be used inside the context of the grid."]);function U0(e){return e.acceptsApiRef}function md(e,t){return U0(t)?t(e):t(e.current.state)}const K0=Object.is,hc=Ch,J0=()=>({state:null,equals:null,selector:null}),Re=(e,t,o=K0)=>{const s=pc(J0),i=s.current.selector!==null,[a,l]=c.useState(i?null:md(e,t));return s.current.state=a,s.current.equals=o,s.current.selector=t,yh(()=>e.current.store.subscribe(()=>{const d=md(e,s.current.selector);s.current.equals(s.current.state,d)||(s.current.state=d,l(d))})),a};function q0(e,t){return yg(e,t)}const X0=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))},fd=[];function gd(e){return fd[0]=e,Cg(fd)}const Y0=["values","unit","step"],Q0=e=>{const t=Object.keys(e).map(o=>({key:o,val:e[o]}))||[];return t.sort((o,s)=>o.val-s.val),t.reduce((o,s)=>I({},o,{[s.key]:s.val}),{})};function eC(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:o="px",step:s=5}=e,i=Ne(e,Y0),a=Q0(t),l=Object.keys(a);function d(v){return`@media (min-width:${typeof t[v]=="number"?t[v]:v}${o})`}function p(v){return`@media (max-width:${(typeof t[v]=="number"?t[v]:v)-s/100}${o})`}function g(v,y){const C=l.indexOf(y);return`@media (min-width:${typeof t[v]=="number"?t[v]:v}${o}) and (max-width:${(C!==-1&&typeof t[l[C]]=="number"?t[l[C]]:y)-s/100}${o})`}function m(v){return l.indexOf(v)+1<l.length?g(v,l[l.indexOf(v)+1]):d(v)}function f(v){const y=l.indexOf(v);return y===0?d(l[1]):y===l.length-1?p(l[y]):g(v,l[l.indexOf(v)+1]).replace("@media","@media not all and")}return I({keys:l,values:a,up:d,down:p,between:g,only:m,not:f,unit:o},i)}const tC={borderRadius:4};function _s(e,t){return t?Oi(e,t,{clone:!1}):e}const mc={xs:0,sm:600,md:900,lg:1200,xl:1536},vd={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${mc[e]}px)`};function To(e,t,o){const s=e.theme||{};if(Array.isArray(t)){const a=s.breakpoints||vd;return t.reduce((l,d,p)=>(l[a.up(a.keys[p])]=o(t[p]),l),{})}if(typeof t=="object"){const a=s.breakpoints||vd;return Object.keys(t).reduce((l,d)=>{if(Object.keys(a.values||mc).indexOf(d)!==-1){const p=a.up(d);l[p]=o(t[d],d)}else{const p=d;l[p]=t[p]}return l},{})}return o(t)}function nC(e={}){var t;return((t=e.keys)==null?void 0:t.reduce((s,i)=>{const a=e.up(i);return s[a]={},s},{}))||{}}function bd(e,t){return e.reduce((o,s)=>{const i=o[s];return(!i||Object.keys(i).length===0)&&delete o[s],o},t)}function ia(e,t,o=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&o){const s=`vars.${t}`.split(".").reduce((i,a)=>i&&i[a]?i[a]:null,e);if(s!=null)return s}return t.split(".").reduce((s,i)=>s&&s[i]!=null?s[i]:null,e)}function Ni(e,t,o,s=o){let i;return typeof e=="function"?i=e(o):Array.isArray(e)?i=e[o]||s:i=ia(e,o)||s,t&&(i=t(i,s,e)),i}function nn(e){const{prop:t,cssProperty:o=e.prop,themeKey:s,transform:i}=e,a=l=>{if(l[t]==null)return null;const d=l[t],p=l.theme,g=ia(p,s)||{};return To(l,d,f=>{let v=Ni(g,i,f);return f===v&&typeof f=="string"&&(v=Ni(g,i,`${t}${f==="default"?"":mo(f)}`,f)),o===!1?v:{[o]:v}})};return a.propTypes={},a.filterProps=[t],a}function oC(e){const t={};return o=>(t[o]===void 0&&(t[o]=e(o)),t[o])}const rC={m:"margin",p:"padding"},sC={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},yd={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},iC=oC(e=>{if(e.length>2)if(yd[e])e=yd[e];else return[e];const[t,o]=e.split(""),s=rC[t],i=sC[o]||"";return Array.isArray(i)?i.map(a=>s+a):[s+i]}),fc=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],gc=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...fc,...gc];function Bs(e,t,o,s){var i;const a=(i=ia(e,t,!1))!=null?i:o;return typeof a=="number"?l=>typeof l=="string"?l:a*l:Array.isArray(a)?l=>typeof l=="string"?l:a[l]:typeof a=="function"?a:()=>{}}function xh(e){return Bs(e,"spacing",8)}function Hs(e,t){if(typeof t=="string"||t==null)return t;const o=Math.abs(t),s=e(o);return t>=0?s:typeof s=="number"?-s:`-${s}`}function aC(e,t){return o=>e.reduce((s,i)=>(s[i]=Hs(t,o),s),{})}function lC(e,t,o,s){if(t.indexOf(o)===-1)return null;const i=iC(o),a=aC(i,s),l=e[o];return To(e,l,a)}function wh(e,t){const o=xh(e.theme);return Object.keys(e).map(s=>lC(e,t,s,o)).reduce(_s,{})}function Xt(e){return wh(e,fc)}Xt.propTypes={};Xt.filterProps=fc;function Yt(e){return wh(e,gc)}Yt.propTypes={};Yt.filterProps=gc;function cC(e=8){if(e.mui)return e;const t=xh({spacing:e}),o=(...s)=>(s.length===0?[1]:s).map(a=>{const l=t(a);return typeof l=="number"?`${l}px`:l}).join(" ");return o.mui=!0,o}function aa(...e){const t=e.reduce((s,i)=>(i.filterProps.forEach(a=>{s[a]=i}),s),{}),o=s=>Object.keys(s).reduce((i,a)=>t[a]?_s(i,t[a](s)):i,{});return o.propTypes={},o.filterProps=e.reduce((s,i)=>s.concat(i.filterProps),[]),o}function Wn(e){return typeof e!="number"?e:`${e}px solid`}function Un(e,t){return nn({prop:e,themeKey:"borders",transform:t})}const uC=Un("border",Wn),dC=Un("borderTop",Wn),pC=Un("borderRight",Wn),hC=Un("borderBottom",Wn),mC=Un("borderLeft",Wn),fC=Un("borderColor"),gC=Un("borderTopColor"),vC=Un("borderRightColor"),bC=Un("borderBottomColor"),yC=Un("borderLeftColor"),CC=Un("outline",Wn),xC=Un("outlineColor"),la=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=Bs(e.theme,"shape.borderRadius",4),o=s=>({borderRadius:Hs(t,s)});return To(e,e.borderRadius,o)}return null};la.propTypes={};la.filterProps=["borderRadius"];aa(uC,dC,pC,hC,mC,fC,gC,vC,bC,yC,la,CC,xC);const ca=e=>{if(e.gap!==void 0&&e.gap!==null){const t=Bs(e.theme,"spacing",8),o=s=>({gap:Hs(t,s)});return To(e,e.gap,o)}return null};ca.propTypes={};ca.filterProps=["gap"];const ua=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=Bs(e.theme,"spacing",8),o=s=>({columnGap:Hs(t,s)});return To(e,e.columnGap,o)}return null};ua.propTypes={};ua.filterProps=["columnGap"];const da=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=Bs(e.theme,"spacing",8),o=s=>({rowGap:Hs(t,s)});return To(e,e.rowGap,o)}return null};da.propTypes={};da.filterProps=["rowGap"];const wC=nn({prop:"gridColumn"}),SC=nn({prop:"gridRow"}),_C=nn({prop:"gridAutoFlow"}),PC=nn({prop:"gridAutoColumns"}),IC=nn({prop:"gridAutoRows"}),TC=nn({prop:"gridTemplateColumns"}),kC=nn({prop:"gridTemplateRows"}),MC=nn({prop:"gridTemplateAreas"}),AC=nn({prop:"gridArea"});aa(ca,ua,da,wC,SC,_C,PC,IC,TC,kC,MC,AC);function Gr(e,t){return t==="grey"?t:e}const EC=nn({prop:"color",themeKey:"palette",transform:Gr}),DC=nn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Gr}),RC=nn({prop:"backgroundColor",themeKey:"palette",transform:Gr});aa(EC,DC,RC);function On(e){return e<=1&&e!==0?`${e*100}%`:e}const LC=nn({prop:"width",transform:On}),vc=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=o=>{var s,i;const a=((s=e.theme)==null||(s=s.breakpoints)==null||(s=s.values)==null?void 0:s[o])||mc[o];return a?((i=e.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${a}${e.theme.breakpoints.unit}`}:{maxWidth:a}:{maxWidth:On(o)}};return To(e,e.maxWidth,t)}return null};vc.filterProps=["maxWidth"];const FC=nn({prop:"minWidth",transform:On}),OC=nn({prop:"height",transform:On}),NC=nn({prop:"maxHeight",transform:On}),zC=nn({prop:"minHeight",transform:On});nn({prop:"size",cssProperty:"width",transform:On});nn({prop:"size",cssProperty:"height",transform:On});const $C=nn({prop:"boxSizing"});aa(LC,vc,FC,OC,NC,zC,$C);const Sh={border:{themeKey:"borders",transform:Wn},borderTop:{themeKey:"borders",transform:Wn},borderRight:{themeKey:"borders",transform:Wn},borderBottom:{themeKey:"borders",transform:Wn},borderLeft:{themeKey:"borders",transform:Wn},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Wn},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:la},color:{themeKey:"palette",transform:Gr},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Gr},backgroundColor:{themeKey:"palette",transform:Gr},p:{style:Yt},pt:{style:Yt},pr:{style:Yt},pb:{style:Yt},pl:{style:Yt},px:{style:Yt},py:{style:Yt},padding:{style:Yt},paddingTop:{style:Yt},paddingRight:{style:Yt},paddingBottom:{style:Yt},paddingLeft:{style:Yt},paddingX:{style:Yt},paddingY:{style:Yt},paddingInline:{style:Yt},paddingInlineStart:{style:Yt},paddingInlineEnd:{style:Yt},paddingBlock:{style:Yt},paddingBlockStart:{style:Yt},paddingBlockEnd:{style:Yt},m:{style:Xt},mt:{style:Xt},mr:{style:Xt},mb:{style:Xt},ml:{style:Xt},mx:{style:Xt},my:{style:Xt},margin:{style:Xt},marginTop:{style:Xt},marginRight:{style:Xt},marginBottom:{style:Xt},marginLeft:{style:Xt},marginX:{style:Xt},marginY:{style:Xt},marginInline:{style:Xt},marginInlineStart:{style:Xt},marginInlineEnd:{style:Xt},marginBlock:{style:Xt},marginBlockStart:{style:Xt},marginBlockEnd:{style:Xt},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:ca},rowGap:{style:da},columnGap:{style:ua},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:On},maxWidth:{style:vc},minWidth:{transform:On},height:{transform:On},maxHeight:{transform:On},minHeight:{transform:On},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function BC(...e){const t=e.reduce((s,i)=>s.concat(Object.keys(i)),[]),o=new Set(t);return e.every(s=>o.size===Object.keys(s).length)}function HC(e,t){return typeof e=="function"?e(t):e}function jC(){function e(o,s,i,a){const l={[o]:s,theme:i},d=a[o];if(!d)return{[o]:s};const{cssProperty:p=o,themeKey:g,transform:m,style:f}=d;if(s==null)return null;if(g==="typography"&&s==="inherit")return{[o]:s};const v=ia(i,g)||{};return f?f(l):To(l,s,C=>{let x=Ni(v,m,C);return C===x&&typeof C=="string"&&(x=Ni(v,m,`${o}${C==="default"?"":mo(C)}`,C)),p===!1?x:{[p]:x}})}function t(o){var s;const{sx:i,theme:a={},nested:l}=o||{};if(!i)return null;const d=(s=a.unstable_sxConfig)!=null?s:Sh;function p(g){let m=g;if(typeof g=="function")m=g(a);else if(typeof g!="object")return g;if(!m)return null;const f=nC(a.breakpoints),v=Object.keys(f);let y=f;return Object.keys(m).forEach(C=>{const x=HC(m[C],a);if(x!=null)if(typeof x=="object")if(d[C])y=_s(y,e(C,x,a,d));else{const S=To({theme:a},x,_=>({[C]:_}));BC(S,x)?y[C]=t({sx:x,theme:a,nested:!0}):y=_s(y,S)}else y=_s(y,e(C,x,a,d))}),!l&&a.modularCssLayers?{"@layer sx":bd(v,y)}:bd(v,y)}return Array.isArray(i)?i.map(p):p(i)}return t}const bc=jC();bc.filterProps=["sx"];function GC(e,t){const o=this;return o.vars&&typeof o.getColorSchemeSelector=="function"?{[o.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)")]:t}:o.palette.mode===e?t:{}}const VC=["breakpoints","palette","spacing","shape"];function WC(e={},...t){const{breakpoints:o={},palette:s={},spacing:i,shape:a={}}=e,l=Ne(e,VC),d=eC(o),p=cC(i);let g=Oi({breakpoints:d,direction:"ltr",components:{},palette:I({mode:"light"},s),spacing:p,shape:I({},tC,a)},l);return g.applyStyles=GC,g=t.reduce((m,f)=>Oi(m,f),g),g.unstable_sxConfig=I({},Sh,l==null?void 0:l.unstable_sxConfig),g.unstable_sx=function(f){return bc({sx:f,theme:this})},g}const ZC=["ownerState"],UC=["variants"],KC=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function JC(e){return Object.keys(e).length===0}function qC(e){return typeof e=="string"&&e.charCodeAt(0)>96}function ul(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}function Cd(e,t){return t&&e&&typeof e=="object"&&e.styles&&!e.styles.startsWith("@layer")&&(e.styles=`@layer ${t}{${String(e.styles)}}`),e}const XC=WC(),YC=e=>e&&e.charAt(0).toLowerCase()+e.slice(1);function vi({defaultTheme:e,theme:t,themeId:o}){return JC(t)?e:t[o]||t}function QC(e){return e?(t,o)=>o[e]:null}function Pi(e,t,o){let{ownerState:s}=t,i=Ne(t,ZC);const a=typeof e=="function"?e(I({ownerState:s},i)):e;if(Array.isArray(a))return a.flatMap(l=>Pi(l,I({ownerState:s},i),o));if(a&&typeof a=="object"&&Array.isArray(a.variants)){const{variants:l=[]}=a;let p=Ne(a,UC);return l.forEach(g=>{let m=!0;if(typeof g.props=="function"?m=g.props(I({ownerState:s},i,s)):Object.keys(g.props).forEach(f=>{(s==null?void 0:s[f])!==g.props[f]&&i[f]!==g.props[f]&&(m=!1)}),m){Array.isArray(p)||(p=[p]);const f=typeof g.style=="function"?g.style(I({ownerState:s},i,s)):g.style;p.push(o?Cd(gd(f),o):f)}}),p}return o?Cd(gd(a),o):a}function ex(e={}){const{themeId:t,defaultTheme:o=XC,rootShouldForwardProp:s=ul,slotShouldForwardProp:i=ul}=e,a=l=>bc(I({},l,{theme:vi(I({},l,{defaultTheme:o,themeId:t}))}));return a.__mui_systemSx=!0,(l,d={})=>{X0(l,k=>k.filter(M=>!(M!=null&&M.__mui_systemSx)));const{name:p,slot:g,skipVariantsResolver:m,skipSx:f,overridesResolver:v=QC(YC(g))}=d,y=Ne(d,KC),C=p&&p.startsWith("Mui")||g?"components":"custom",x=m!==void 0?m:g&&g!=="Root"&&g!=="root"||!1,S=f||!1;let _,P=ul;g==="Root"||g==="root"?P=s:g?P=i:qC(l)&&(P=void 0);const z=q0(l,I({shouldForwardProp:P,label:_},y)),D=k=>typeof k=="function"&&k.__emotion_real!==k||nr(k)?M=>{const A=vi({theme:M.theme,defaultTheme:o,themeId:t});return Pi(k,I({},M,{theme:A}),A.modularCssLayers?C:void 0)}:k,j=(k,...M)=>{let A=D(k);const N=M?M.map(D):[];p&&v&&N.push(G=>{const H=vi(I({},G,{defaultTheme:o,themeId:t}));if(!H.components||!H.components[p]||!H.components[p].styleOverrides)return null;const T=H.components[p].styleOverrides,E={};return Object.entries(T).forEach(([B,W])=>{E[B]=Pi(W,I({},G,{theme:H}),H.modularCssLayers?"theme":void 0)}),v(G,E)}),p&&!x&&N.push(G=>{var H;const T=vi(I({},G,{defaultTheme:o,themeId:t})),E=T==null||(H=T.components)==null||(H=H[p])==null?void 0:H.variants;return Pi({variants:E},I({},G,{theme:T}),T.modularCssLayers?"theme":void 0)}),S||N.push(a);const F=N.length-M.length;if(Array.isArray(k)&&F>0){const G=new Array(F).fill("");A=[...k,...G],A.raw=[...k.raw,...G]}const $=z(A,...N);return l.muiName&&($.muiName=l.muiName),$};return z.withConfig&&(j.withConfig=z.withConfig),j}}const fn=ex();function ks(e){"@babel/helpers - typeof";return ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ks(e)}function tx(e,t){if(ks(e)!="object"||!e)return e;var o=e[Symbol.toPrimitive];if(o!==void 0){var s=o.call(e,t);if(ks(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Ms(e){var t=tx(e,"string");return ks(t)=="symbol"?t:t+""}function mt(e){return gh("MuiDataGrid",e)}const J=vh("MuiDataGrid",["actionsCell","aggregationColumnHeader","aggregationColumnHeader--alignLeft","aggregationColumnHeader--alignCenter","aggregationColumnHeader--alignRight","aggregationColumnHeaderLabel","autoHeight","autosizing","booleanCell","cell--editable","cell--editing","cell--textCenter","cell--textLeft","cell--textRight","cell--withRenderer","cell--rangeTop","cell--rangeBottom","cell--rangeLeft","cell--rangeRight","cell--selectionMode","cell","cellContent","cellCheckbox","cellSkeleton","checkboxInput","columnHeader--alignCenter","columnHeader--alignLeft","columnHeader--alignRight","columnHeader--dragging","columnHeader--moving","columnHeader--numeric","columnHeader--sortable","columnHeader--sorted","columnHeader--filtered","columnHeader","columnHeaderCheckbox","columnHeaderDraggableContainer","columnHeaderDropZone","columnHeaderTitle","columnHeaderTitleContainer","columnHeaderTitleContainerContent","columnGroupHeader","columnHeader--filledGroup","columnHeader--emptyGroup","columnHeader--showColumnBorder","columnHeaders","columnHeadersInner","columnHeadersInner--scrollable","columnSeparator--resizable","columnSeparator--resizing","columnSeparator--sideLeft","columnSeparator--sideRight","columnSeparator","columnsPanel","columnsPanelRow","detailPanel","detailPanels","detailPanelToggleCell","detailPanelToggleCell--expanded","footerCell","panel","panelHeader","panelWrapper","panelContent","panelFooter","paper","editBooleanCell","editInputCell","filterForm","filterFormDeleteIcon","filterFormLogicOperatorInput","filterFormColumnInput","filterFormOperatorInput","filterFormValueInput","filterIcon","footerContainer","headerFilterRow","iconButtonContainer","iconSeparator","main","menu","menuIcon","menuIconButton","menuOpen","menuList","overlay","overlayWrapper","overlayWrapperInner","root","root--densityStandard","root--densityComfortable","root--densityCompact","root--disableUserSelection","row","row--editable","row--editing","row--lastVisible","row--dragging","row--dynamicHeight","row--detailPanelExpanded","rowReorderCellPlaceholder","rowCount","rowReorderCellContainer","rowReorderCell","rowReorderCell--draggable","scrollArea--left","scrollArea--right","scrollArea","selectedRowCount","sortIcon","toolbarContainer","toolbarFilterList","virtualScroller","virtualScrollerContent","virtualScrollerContent--overflowed","virtualScrollerRenderZone","pinnedColumns","pinnedColumns--left","pinnedColumns--right","pinnedColumnHeaders","pinnedColumnHeaders--left","pinnedColumnHeaders--right","withBorderColor","cell--withRightBorder","columnHeader--withRightBorder","treeDataGroupingCell","treeDataGroupingCellToggle","groupingCriteriaCell","groupingCriteriaCellToggle","pinnedRows","pinnedRows--top","pinnedRows--bottom","pinnedRowsRenderZone"]);var zi="NOT_FOUND";function nx(e){var t;return{get:function(s){return t&&e(t.key,s)?t.value:zi},put:function(s,i){t={key:s,value:i}},getEntries:function(){return t?[t]:[]},clear:function(){t=void 0}}}function ox(e,t){var o=[];function s(d){var p=o.findIndex(function(m){return t(d,m.key)});if(p>-1){var g=o[p];return p>0&&(o.splice(p,1),o.unshift(g)),g.value}return zi}function i(d,p){s(d)===zi&&(o.unshift({key:d,value:p}),o.length>e&&o.pop())}function a(){return o}function l(){o=[]}return{get:s,put:i,getEntries:a,clear:l}}var rx=function(t,o){return t===o};function sx(e){return function(o,s){if(o===null||s===null||o.length!==s.length)return!1;for(var i=o.length,a=0;a<i;a++)if(!e(o[a],s[a]))return!1;return!0}}function pa(e,t){var o=typeof t=="object"?t:{equalityCheck:t},s=o.equalityCheck,i=s===void 0?rx:s,a=o.maxSize,l=a===void 0?1:a,d=o.resultEqualityCheck,p=sx(i),g=l===1?nx(p):ox(l,p);function m(){var f=g.get(arguments);if(f===zi){if(f=e.apply(null,arguments),d){var v=g.getEntries(),y=v.find(function(C){return d(C.value,f)});y&&(f=y.value)}g.put(arguments,f)}return f}return m.clearCache=function(){return g.clear()},m}function ix(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(s){return typeof s=="function"})){var o=t.map(function(s){return typeof s=="function"?"function "+(s.name||"unnamed")+"()":typeof s}).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+o+"]")}return t}function ax(e){for(var t=arguments.length,o=new Array(t>1?t-1:0),s=1;s<t;s++)o[s-1]=arguments[s];var i=function(){for(var l=arguments.length,d=new Array(l),p=0;p<l;p++)d[p]=arguments[p];var g=0,m,f={memoizeOptions:void 0},v=d.pop();if(typeof v=="object"&&(f=v,v=d.pop()),typeof v!="function")throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof v+"]");var y=f,C=y.memoizeOptions,x=C===void 0?o:C,S=Array.isArray(x)?x:[x],_=ix(d),P=e.apply(void 0,[function(){return g++,v.apply(null,arguments)}].concat(S)),z=e(function(){for(var j=[],k=_.length,M=0;M<k;M++)j.push(_[M].apply(null,arguments));return m=P.apply(null,j),m});return Object.assign(z,{resultFunc:v,memoizedResultFunc:P,dependencies:_,lastResult:function(){return m},recomputations:function(){return g},resetRecomputations:function(){return g=0}}),z};return i}var lx=ax(pa);const cx={cache:new WeakMap};go(["MUI: A selector was called without passing the instance ID, which may impact the performance of the grid.","To fix, call it with `apiRef`, e.g. `mySelector(apiRef)`, or pass the instance ID explicitly, e.g. `mySelector(state, apiRef.current.instanceId)`."]);function Lr(e){return"current"in e&&"instanceId"in e.current}const Fr={id:"default"},Qe=(e,t,o,s,i,a,...l)=>{if(l.length>0)throw new Error("Unsupported number of selectors");let d;if(e&&t&&o&&s&&i&&a)d=(p,g)=>{const m=Lr(p),f=g??(m?p.current.instanceId:Fr),v=m?p.current.state:p,y=e(v,f),C=t(v,f),x=o(v,f),S=s(v,f),_=i(v,f);return a(y,C,x,S,_)};else if(e&&t&&o&&s&&i)d=(p,g)=>{const m=Lr(p),f=g??(m?p.current.instanceId:Fr),v=m?p.current.state:p,y=e(v,f),C=t(v,f),x=o(v,f),S=s(v,f);return i(y,C,x,S)};else if(e&&t&&o&&s)d=(p,g)=>{const m=Lr(p),f=g??(m?p.current.instanceId:Fr),v=m?p.current.state:p,y=e(v,f),C=t(v,f),x=o(v,f);return s(y,C,x)};else if(e&&t&&o)d=(p,g)=>{const m=Lr(p),f=g??(m?p.current.instanceId:Fr),v=m?p.current.state:p,y=e(v,f),C=t(v,f);return o(y,C)};else if(e&&t)d=(p,g)=>{const m=Lr(p),f=g??(m?p.current.instanceId:Fr),v=m?p.current.state:p,y=e(v,f);return t(y)};else throw new Error("Missing arguments");return d.acceptsApiRef=!0,d},$t=(...e)=>{const t=(...o)=>{var s,i;const[a,l]=o,d=Lr(a),p=d?a.current.instanceId:l??Fr,g=d?a.current.state:a,{cache:m}=cx;if(m.get(p)&&(s=m.get(p))!=null&&s.get(e)){var f;return(f=m.get(p))==null?void 0:f.get(e)(g,p)}const v=lx(...e);return m.get(p)||m.set(p,new Map),(i=m.get(p))==null||i.set(e,v),v(g,p)};return t.acceptsApiRef=!0,t},ir=e=>e.columns,Io=Qe(ir,e=>e.orderedFields),fr=Qe(ir,e=>e.lookup),po=$t(Io,fr,(e,t)=>e.map(o=>t[o])),Yn=Qe(ir,e=>e.columnVisibilityModel),bn=$t(po,Yn,(e,t)=>e.filter(o=>t[o.field]!==!1)),ha=$t(bn,e=>e.map(t=>t.field)),Ur=$t(bn,e=>{const t=[];let o=0;for(let s=0;s<e.length;s+=1)t.push(o),o+=e[s].computedWidth;return t}),yc=Qe(bn,Ur,(e,t)=>{const o=e.length;return o===0?0:t[o-1]+e[o-1].computedWidth}),_h=$t(po,e=>e.filter(t=>t.filterable)),ux=$t(po,e=>e.reduce((t,o)=>(o.filterable&&(t[o.field]=o),t),{})),ma=e=>e.columnGrouping,dx=$t(ma,e=>{var t;return(t=e==null?void 0:e.unwrappedGroupingModel)!=null?t:{}}),Ph=$t(ma,e=>{var t;return(t=e==null?void 0:e.lookup)!=null?t:{}}),px=$t(ma,e=>{var t;return(t=e==null?void 0:e.headerStructure)!=null?t:[]}),js=Qe(ma,e=>{var t;return(t=e==null?void 0:e.maxDepth)!=null?t:0}),oo=e=>e.rows,fa=Qe(oo,e=>e.totalRowCount),hx=Qe(oo,e=>e.loading),mx=Qe(oo,e=>e.totalTopLevelRowCount),Po=Qe(oo,e=>e.dataRowIdToModelLookup),$i=Qe(oo,e=>e.dataRowIdToIdLookup),Xn=Qe(oo,e=>e.tree),fx=Qe(oo,e=>e.groupingName),xd=Qe(oo,e=>e.treeDepths),ga=$t(oo,e=>{const t=Object.entries(e.treeDepths);return t.length===0?1:t.filter(([,o])=>o>0).map(([o])=>Number(o)).sort((o,s)=>s-o)[0]+1}),bs=Qe(oo,e=>e.dataRowIds),gx=Qe(oo,e=>e==null?void 0:e.additionalRowGroups),Xr=$t(gx,e=>{var t,o;const s=e==null?void 0:e.pinnedRows;return{bottom:s==null||(t=s.bottom)==null?void 0:t.map(i=>{var a;return{id:i.id,model:(a=i.model)!=null?a:{}}}),top:s==null||(o=s.top)==null?void 0:o.map(i=>{var a;return{id:i.id,model:(a=i.model)!=null?a:{}}})}}),vx=Qe(Xr,e=>{var t,o;return((e==null||(t=e.top)==null?void 0:t.length)||0)+((e==null||(o=e.bottom)==null?void 0:o.length)||0)}),Ih=()=>{var e;const t=Wo(),o=je(),s=Re(t,bn),i=Re(t,fa),a=Re(t,js),l=Re(t,vx);let d="grid";return(e=o.experimentalFeatures)!=null&&e.ariaV7&&o.treeData&&(d="treegrid"),{role:d,"aria-colcount":s.length,"aria-rowcount":a+1+l+i,"aria-multiselectable":!o.disableMultipleRowSelection}},bx=e=>{const{classes:t}=e;return ht({root:["main"]},mt,t)},yx=fn("div",{name:"MuiDataGrid",slot:"Main",overridesResolver:(e,t)=>t.main})(()=>({position:"relative",flexGrow:1,display:"flex",flexDirection:"column",overflow:"hidden"})),Cx=c.forwardRef((e,t)=>{var o;const s=je(),i=bx(s),a=(o=s.experimentalFeatures)!=null&&o.ariaV7?Ih:null,l=typeof a=="function"?a():null;return h.jsx(yx,I({ref:t,className:i.root,ownerState:s},l,{children:e.children}))}),Th=e=>e.sorting,Cc=Qe(Th,e=>e.sortedRows),xc=$t(Cc,Po,(e,t)=>e.map(o=>{var s;return{id:o,model:(s=t[o])!=null?s:{}}})),jn=Qe(Th,e=>e.sortModel),xx=$t(jn,e=>e.reduce((o,s,i)=>(o[s.field]={sortDirection:s.sort,sortIndex:e.length>1?i+1:void 0},o),{})),wc=e=>e.filter,dn=Qe(wc,e=>e.filterModel);Qe(dn,e=>e.quickFilterValues);const wx=e=>e.visibleRowsLookup,kh=Qe(wc,e=>e.filteredRowsLookup);Qe(wc,e=>e.filteredDescendantCountLookup);const Zo=$t(wx,xc,(e,t)=>t.filter(o=>e[o.id]!==!1)),Ps=$t(Zo,e=>e.map(t=>t.id)),Sx=$t(kh,xc,(e,t)=>t.filter(o=>e[o.id]!==!1)),_x=$t(Sx,e=>e.map(t=>t.id)),Mh=$t(Zo,Xn,ga,(e,t,o)=>o<2?e:e.filter(s=>{var i;return((i=t[s.id])==null?void 0:i.depth)===0})),Ah=Qe(Zo,e=>e.length),Eh=Qe(Mh,e=>e.length),Dh=$t(dn,fr,(e,t)=>{var o;return(o=e.items)==null?void 0:o.filter(s=>{var i,a;if(!s.field)return!1;const l=t[s.field];if(!(l!=null&&l.filterOperators)||(l==null||(i=l.filterOperators)==null?void 0:i.length)===0)return!1;const d=l.filterOperators.find(p=>p.value===s.operator);return d?!d.InputComponent||s.value!=null&&((a=s.value)==null?void 0:a.toString())!=="":!1})}),Px=$t(Dh,e=>e.reduce((o,s)=>(o[s.field]?o[s.field].push(s):o[s.field]=[s],o),{})),va=e=>e.focus,Rn=Qe(va,e=>e.cell),Ix=Qe(va,e=>e.columnHeader);Qe(va,e=>e.columnHeaderFilter);const Bi=Qe(va,e=>e.columnGroupHeader),ba=e=>e.tabIndex,Hi=Qe(ba,e=>e.cell),Rh=Qe(ba,e=>e.columnHeader);Qe(ba,e=>e.columnHeaderFilter);const Tx=Qe(ba,e=>e.columnGroupHeader),Sc=e=>e.density,Lh=Qe(Sc,e=>e.value),Yr=Qe(Sc,e=>e.factor),Al=e=>e.columnMenu;function kx(e){const{VirtualScrollerComponent:t,ColumnHeadersProps:o,children:s}=e,i=Wo(),a=je(),l=c.useRef(null),d=Re(i,bn),p=Re(i,Px),g=Re(i,xx),m=Re(i,Ur),f=Re(i,Rh),v=Re(i,Hi),y=Re(i,Tx),C=Re(i,Ix),x=Re(i,Bi),S=Re(i,Yr),_=Re(i,js),P=Re(i,Al),z=Re(i,Yn),D=Re(i,px),j=!(y===null&&f===null&&v===null);mn(()=>{i.current.computeSizeAndPublishResizeEvent();const F=l.current;if(typeof ResizeObserver>"u")return()=>{};let $;const G=new ResizeObserver(()=>{$=requestAnimationFrame(()=>{i.current.computeSizeAndPublishResizeEvent()})});return F&&G.observe(F),()=>{$&&window.cancelAnimationFrame($),F&&G.unobserve(F)}},[i]);const k=c.useRef(null),M=c.useRef(null),A=c.useRef(null);i.current.register("private",{columnHeadersContainerElementRef:M,columnHeadersElementRef:k,virtualScrollerRef:A,mainElementRef:l});const N=!!i.current.getRootDimensions();return h.jsxs(Cx,{ref:l,children:[h.jsx(a.slots.columnHeaders,I({ref:M,innerRef:k,visibleColumns:d,filterColumnLookup:p,sortColumnLookup:g,columnPositions:m,columnHeaderTabIndexState:f,columnGroupHeaderTabIndexState:y,columnHeaderFocus:C,columnGroupHeaderFocus:x,densityFactor:S,headerGroupingMaxDepth:_,columnMenuState:P,columnVisibility:z,columnGroupsHeaderStructure:D,hasOtherElementInTabSequence:j},o)),N&&h.jsx(t,{ref:A}),s]})}function Mx(){var e;const t=je();return t.hideFooter?null:h.jsx(t.slots.footer,I({},(e=t.slotProps)==null?void 0:e.footer))}const Pn="auto-generated-group-node-root",Vr=Symbol("mui.id_autogenerated"),Ax=()=>({type:"group",id:Pn,depth:-1,groupingField:null,groupingKey:null,isAutoGenerated:!0,children:[],childrenFromPath:{},childrenExpanded:!0,parent:null});function Ex(e,t,o="A row was provided without id in the rows prop:"){if(e==null)throw new Error(["MUI: The data grid component requires all rows to have a unique `id` property.","Alternatively, you can use the `getRowId` prop to specify a custom id for each row.",o,JSON.stringify(t)].join(`
`))}const ji=(e,t,o)=>{const s=t?t(e):e.id;return Ex(s,e,o),s},Ii=({rows:e,getRowId:t,loading:o,rowCount:s})=>{const i={type:"full",rows:[]},a={},l={};for(let d=0;d<e.length;d+=1){const p=e[d],g=ji(p,t);a[g]=p,l[g]=g,i.rows.push(g)}return{rowsBeforePartialUpdates:e,loadingPropBeforePartialUpdates:o,rowCountPropBeforePartialUpdates:s,updates:i,dataRowIdToIdLookup:l,dataRowIdToModelLookup:a}},Fh=({tree:e,rowCountProp:t=0})=>{const o=e[Pn];return Math.max(t,o.children.length+(o.footerId==null?0:1))},Oh=({apiRef:e,rowCountProp:t=0,loadingProp:o,previousTree:s,previousTreeDepths:i})=>{const a=e.current.caches.rows,{tree:l,treeDepths:d,dataRowIds:p,groupingName:g}=e.current.applyStrategyProcessor("rowTreeCreation",{previousTree:s,previousTreeDepths:i,updates:a.updates,dataRowIdToIdLookup:a.dataRowIdToIdLookup,dataRowIdToModelLookup:a.dataRowIdToModelLookup}),m=e.current.unstable_applyPipeProcessors("hydrateRows",{tree:l,treeDepths:d,dataRowIdToIdLookup:a.dataRowIdToIdLookup,dataRowIds:p,dataRowIdToModelLookup:a.dataRowIdToModelLookup});return e.current.caches.rows.updates={type:"partial",actions:{insert:[],modify:[],remove:[]},idToActionLookup:{}},I({},m,{totalRowCount:Math.max(t,m.dataRowIds.length),totalTopLevelRowCount:Fh({tree:m.tree,rowCountProp:t}),groupingName:g,loading:o})},As=e=>e.type==="skeletonRow"||e.type==="footer"||e.type==="group"&&e.isAutoGenerated||e.type==="pinnedRow"&&e.isAutoGenerated,_c=(e,t,o)=>{const s=e[t];if(s.type!=="group")return[];const i=[];for(let a=0;a<s.children.length;a+=1){const l=s.children[a];(!o||!As(e[l]))&&i.push(l);const d=_c(e,l,o);for(let p=0;p<d.length;p+=1)i.push(d[p])}return!o&&s.footerId!=null&&i.push(s.footerId),i},Dx=({previousCache:e,getRowId:t,updates:o})=>{var s,i,a;if(e.updates.type==="full")throw new Error("MUI: Unable to prepare a partial update if a full update is not applied yet");const l=new Map;o.forEach(v=>{const y=ji(v,t,"A row was provided without id when calling updateRows():");l.has(y)?l.set(y,I({},l.get(y),v)):l.set(y,v)});const d={type:"partial",actions:{insert:[...(s=e.updates.actions.insert)!=null?s:[]],modify:[...(i=e.updates.actions.modify)!=null?i:[]],remove:[...(a=e.updates.actions.remove)!=null?a:[]]},idToActionLookup:I({},e.updates.idToActionLookup)},p=I({},e.dataRowIdToModelLookup),g=I({},e.dataRowIdToIdLookup),m={insert:{},modify:{},remove:{}};l.forEach((v,y)=>{const C=d.idToActionLookup[y];if(v._action==="delete"){if(C==="remove"||!p[y])return;C!=null&&(m[C][y]=!0),d.actions.remove.push(y),delete p[y],delete g[y];return}const x=p[y];if(x){C==="remove"?(m.remove[y]=!0,d.actions.modify.push(y)):C==null&&d.actions.modify.push(y),p[y]=I({},x,v);return}C==="remove"?(m.remove[y]=!0,d.actions.insert.push(y)):C==null&&d.actions.insert.push(y),p[y]=v,g[y]=y});const f=Object.keys(m);for(let v=0;v<f.length;v+=1){const y=f[v],C=m[y];Object.keys(C).length>0&&(d.actions[y]=d.actions[y].filter(x=>!C[x]))}return{dataRowIdToModelLookup:p,dataRowIdToIdLookup:g,updates:d,rowsBeforePartialUpdates:e.rowsBeforePartialUpdates,loadingPropBeforePartialUpdates:e.loadingPropBeforePartialUpdates,rowCountPropBeforePartialUpdates:e.rowCountPropBeforePartialUpdates}};function Nh(e){var t,o;const s=Xr(e),i=(s==null||(t=s.top)==null?void 0:t.reduce((l,d)=>(l+=e.current.unstable_getRowHeight(d.id),l),0))||0,a=(s==null||(o=s.bottom)==null?void 0:o.reduce((l,d)=>(l+=e.current.unstable_getRowHeight(d.id),l),0))||0;return{top:i,bottom:a}}function zh(e,t){const o=Yr(e);return`var(--DataGrid-overlayHeight, ${2*Math.floor(t*o)}px)`}const Rx=fn("div",{name:"MuiDataGrid",slot:"OverlayWrapper",shouldForwardProp:e=>e!=="overlayType",overridesResolver:(e,t)=>t.overlayWrapper})(({overlayType:e})=>({position:"sticky",top:0,left:0,width:0,height:0,zIndex:e==="loadingOverlay"?5:4})),Lx=fn("div",{name:"MuiDataGrid",slot:"OverlayWrapperInner",shouldForwardProp:e=>e!=="overlayType",overridesResolver:(e,t)=>t.overlayWrapperInner})({}),Fx=e=>{const{classes:t}=e;return ht({root:["overlayWrapper"],inner:["overlayWrapperInner"]},mt,t)};function Ox(e){var t,o;const s=dt(),i=je(),[a,l]=c.useState(()=>{var m,f;return(m=(f=s.current.getRootDimensions())==null?void 0:f.viewportInnerSize)!=null?m:null}),d=c.useCallback(()=>{var m,f;l((m=(f=s.current.getRootDimensions())==null?void 0:f.viewportInnerSize)!=null?m:null)},[s]);mn(()=>s.current.subscribeEvent("viewportInnerSizeChange",d),[s,d]);let p=(t=a==null?void 0:a.height)!=null?t:0;i.autoHeight&&p===0&&(p=zh(s,i.rowHeight));const g=Fx(I({},e,{classes:i.classes}));return a?h.jsx(Rx,{className:He(g.root),overlayType:e.overlayType,children:h.jsx(Lx,I({className:He(g.inner),style:{height:p,width:(o=a==null?void 0:a.width)!=null?o:0}},e))}):null}function Nx(){const e=dt(),t=je(),o=Re(e,fa),s=Re(e,Ah),i=Re(e,hx),a=!i&&o===0,l=!i&&o>0&&s===0;let d=null,p="";if(a){var g;d=h.jsx(t.slots.noRowsOverlay,I({},(g=t.slotProps)==null?void 0:g.noRowsOverlay)),p="noRowsOverlay"}if(l){var m;d=h.jsx(t.slots.noResultsOverlay,I({},(m=t.slotProps)==null?void 0:m.noResultsOverlay)),p="noResultsOverlay"}if(i){var f;d=h.jsx(t.slots.loadingOverlay,I({},(f=t.slotProps)==null?void 0:f.loadingOverlay)),p="loadingOverlay"}return d===null?null:h.jsx(Ox,{overlayType:p,children:d})}function ya(e){return c.memo(e,Ch)}let dl;function zx(){return dl===void 0&&document.createElement("div").focus({get preventScroll(){return dl=!0,!1}}),dl}var fo=function(e){return e.Cell="cell",e.Row="row",e}(fo||{}),At=function(e){return e.Edit="edit",e.View="view",e}(At||{}),Lt=function(e){return e.Edit="edit",e.View="view",e}(Lt||{}),En=function(e){return e.And="and",e.Or="or",e}(En||{}),wo=function(e){return e.enterKeyDown="enterKeyDown",e.cellDoubleClick="cellDoubleClick",e.printableKeyDown="printableKeyDown",e.deleteKeyDown="deleteKeyDown",e.pasteKeyDown="pasteKeyDown",e}(wo||{}),qn=function(e){return e.cellFocusOut="cellFocusOut",e.escapeKeyDown="escapeKeyDown",e.enterKeyDown="enterKeyDown",e.tabKeyDown="tabKeyDown",e.shiftTabKeyDown="shiftTabKeyDown",e}(qn||{}),Fo=function(e){return e.enterKeyDown="enterKeyDown",e.cellDoubleClick="cellDoubleClick",e.printableKeyDown="printableKeyDown",e.deleteKeyDown="deleteKeyDown",e}(Fo||{}),So=function(e){return e.rowFocusOut="rowFocusOut",e.escapeKeyDown="escapeKeyDown",e.enterKeyDown="enterKeyDown",e.tabKeyDown="tabKeyDown",e.shiftTabKeyDown="shiftTabKeyDown",e}(So||{});function $h(e){return e.field!==void 0}function $x(e){return e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth}function Bx(e,t){return e.closest(`.${t}`)}function Pc(e){return e.replace(/["\\]/g,"\\$&")}function Hx(e,t){return e.querySelector(`[role="columnheader"][data-field="${Pc(t)}"]`)}function Bh(e){return`.${J.row}[data-id="${Pc(String(e))}"]`}function jx(e,t){return e.querySelector(Bh(t))}function Gx(e,{id:t,field:o}){const s=Bh(t),i=`.${J.cell}[data-field="${Pc(o)}"]`,a=`${s} ${i}`;return e.querySelector(a)}function Gs(e){return e.target.nodeType===1&&!e.currentTarget.contains(e.target)}function it(e,t,o){const s=c.useRef(!0);c.useEffect(()=>{s.current=!1,e.current.register(o,t)},[e,o,t]),s.current&&e.current.register(o,t)}class zr extends Error{}function Vx(e,t){const{getRowId:o}=t,s=c.useCallback(C=>({field:C,colDef:e.current.getColumn(C)}),[e]),i=c.useCallback(C=>{const x=e.current.getRow(C);if(!x)throw new zr(`No row with id #${C} found`);return{id:C,columns:e.current.getAllColumns(),row:x}},[e]),a=c.useCallback((C,x)=>{const S=e.current.getRow(C),_=e.current.getRowNode(C);if(!S||!_)throw new zr(`No row with id #${C} found`);const P=Rn(e),z=Hi(e);return{id:C,field:x,row:S,rowNode:_,value:S[x],colDef:e.current.getColumn(x),cellMode:e.current.getCellMode(C,x),api:e.current,hasFocus:P!==null&&P.field===x&&P.id===C,tabIndex:z&&z.field===x&&z.id===C?0:-1}},[e]),l=c.useCallback((C,x)=>{const S=e.current.getColumn(x),_=e.current.getCellValue(C,x),P=e.current.getRow(C),z=e.current.getRowNode(C);if(!P||!z)throw new zr(`No row with id #${C} found`);const D=Rn(e),j=Hi(e),k={id:C,field:x,row:P,rowNode:z,colDef:S,cellMode:e.current.getCellMode(C,x),hasFocus:D!==null&&D.field===x&&D.id===C,tabIndex:j&&j.field===x&&j.id===C?0:-1,value:_,formattedValue:_,isEditable:!1};return S&&S.valueFormatter&&(k.formattedValue=S.valueFormatter({id:C,field:k.field,value:k.value,api:e.current})),k.isEditable=S&&e.current.isCellEditable(k),k},[e]),d=c.useCallback((C,x)=>{const S=e.current.getColumn(x);if(!S||!S.valueGetter){const _=e.current.getRow(C);if(!_)throw new zr(`No row with id #${C} found`);return _[x]}return S.valueGetter(a(C,x))},[e,a]),p=c.useCallback((C,x)=>{var S;const _=Vr in C?C[Vr]:(S=o==null?void 0:o(C))!=null?S:C.id,P=x.field;return!x||!x.valueGetter?C[P]:x.valueGetter(a(_,P))},[a,o]),g=c.useCallback((C,x)=>{var S;const _=p(C,x);if(!x||!x.valueFormatter)return _;const P=(S=o?o(C):C.id)!=null?S:C[Vr],z=x.field;return x.valueFormatter({id:P,field:z,value:_,api:e.current})},[e,o,p]),m=c.useCallback(C=>e.current.rootElementRef.current?Hx(e.current.rootElementRef.current,C):null,[e]),f=c.useCallback(C=>e.current.rootElementRef.current?jx(e.current.rootElementRef.current,C):null,[e]),v=c.useCallback((C,x)=>e.current.rootElementRef.current?Gx(e.current.rootElementRef.current,{id:C,field:x}):null,[e]);it(e,{getCellValue:d,getCellParams:l,getCellElement:v,getRowValue:p,getRowFormattedValue:g,getRowParams:i,getRowElement:f,getColumnHeaderParams:s,getColumnHeaderElement:m},"public")}const Wx=["changeReason","unstable_updateValueOnRender"],Zx=["column","rowId","editCellState","align","children","colIndex","height","width","className","showRightBorder","extendRowFullWidth","row","colSpan","disableDragEvents","isNotVisible","onClick","onDoubleClick","onMouseDown","onMouseUp","onMouseOver","onKeyDown","onKeyUp","onDragEnter","onDragOver","style"],Ux=["changeReason","unstable_updateValueOnRender"],Gi={id:-1,field:"__unset__",row:{},rowNode:{id:-1,depth:0,type:"leaf",parent:-1,groupingKey:null},colDef:{type:"string",field:"__unset__",computedWidth:0},cellMode:At.View,hasFocus:!1,tabIndex:-1,value:null,formattedValue:"__unset__",isEditable:!1,api:{}},Kx=e=>{const{align:t,showRightBorder:o,isEditable:s,isSelected:i,isSelectionMode:a,classes:l}=e,d={root:["cell",`cell--text${mo(t)}`,s&&"cell--editable",i&&"selected",o&&"cell--withRightBorder",a&&!s&&"cell--selectionMode","withBorderColor"],content:["cellContent"]};return ht(d,mt,l)},Jx=c.forwardRef((e,t)=>{const{column:o,rowId:s,editCellState:i}=e,a=dt(),l=je(),d=o.field,p=Re(a,()=>{try{const N=a.current.getCellParams(s,d);return N.api=a.current,N}catch(A){if(A instanceof zr)return Gi;throw A}},hc),g=Re(a,()=>a.current.unstable_applyPipeProcessors("isCellSelected",!1,{id:s,field:d}));if(p===Gi)return null;const{cellMode:m,hasFocus:f,isEditable:v,value:y,formattedValue:C}=p,x=o.type==="actions",S=(m==="view"||!v)&&!x?p.tabIndex:-1,{classes:_,getCellClassName:P}=l,z=a.current.unstable_applyPipeProcessors("cellClassName",[],{id:s,field:d});o.cellClassName&&z.push(typeof o.cellClassName=="function"?o.cellClassName(p):o.cellClassName),P&&z.push(P(p));let D;if(i==null&&o.renderCell&&(D=o.renderCell(p),z.push(J["cell--withRenderer"]),z.push(_==null?void 0:_["cell--withRenderer"])),i!=null&&o.renderEditCell){const A=a.current.getRowWithUpdatedValues(s,o.field),N=Ne(i,Wx),F=I({},p,{row:A},N);D=o.renderEditCell(F),z.push(J["cell--editing"]),z.push(_==null?void 0:_["cell--editing"])}const{slots:j}=l,k=j.cell,M=I({},e,{ref:t,field:d,formattedValue:C,hasFocus:f,isEditable:v,isSelected:g,value:y,cellMode:m,children:D,tabIndex:S,className:He(z)});return c.createElement(k,M)}),qx=ya(Jx),Xx=c.forwardRef((e,t)=>{var o,s,i,a;const{column:l,rowId:d,editCellState:p,align:g,colIndex:m,height:f,width:v,className:y,showRightBorder:C,colSpan:x,disableDragEvents:S,isNotVisible:_,onClick:P,onDoubleClick:z,onMouseDown:D,onMouseUp:j,onMouseOver:k,onKeyDown:M,onKeyUp:A,onDragEnter:N,onDragOver:F,style:$}=e,G=Ne(e,Zx),H=dt(),T=je(),E=l.field,B=Re(H,()=>{try{const we=H.current.getCellParams(d,E);return we.api=H.current,we}catch(xe){if(xe instanceof zr)return Gi;throw xe}},hc),W=Re(H,()=>H.current.unstable_applyPipeProcessors("isCellSelected",!1,{id:d,field:E})),{cellMode:R,hasFocus:V,isEditable:Z,value:q,formattedValue:ee}=B,X=l.type==="actions"&&((o=(s=l).getActions)==null?void 0:o.call(s,H.current.getRowParams(d)).some(xe=>!xe.props.disabled)),te=(R==="view"||!Z)&&!X?B.tabIndex:-1,{classes:Y,getCellClassName:ne}=T,U=H.current.unstable_applyPipeProcessors("cellClassName",[],{id:d,field:E});l.cellClassName&&U.push(typeof l.cellClassName=="function"?l.cellClassName(B):l.cellClassName),ne&&U.push(ne(B));const le=ee??q,Pe=c.useRef(null),oe=Vo(t,Pe),ue=c.useRef(null),he=(i=T.unstable_cellSelection)!=null?i:!1,ie={align:g,showRightBorder:C,isEditable:Z,classes:T.classes,isSelected:W,isSelectionMode:he},ge=Kx(ie),de=c.useCallback(xe=>we=>{const Fe=H.current.getCellParams(d,E||"");H.current.publishEvent(xe,Fe,we),j&&j(we)},[H,E,j,d]),Ce=c.useCallback(xe=>we=>{const Fe=H.current.getCellParams(d,E||"");H.current.publishEvent(xe,Fe,we),D&&D(we)},[H,E,D,d]),se=c.useCallback((xe,we)=>Fe=>{if(!H.current.getRow(d))return;const Ve=H.current.getCellParams(d,E||"");H.current.publishEvent(xe,Ve,Fe),we&&we(Fe)},[H,E,d]),ye=c.useMemo(()=>_?I({padding:0,opacity:0,width:0,border:0},$):I({minWidth:v,maxWidth:v,minHeight:f,maxHeight:f==="auto"?"none":f},$),[v,f,_,$]);if(c.useEffect(()=>{if(!V||R===At.Edit)return;const xe=$s(H.current.rootElementRef.current);if(Pe.current&&!Pe.current.contains(xe.activeElement)){const we=Pe.current.querySelector('[tabindex="0"]'),Fe=ue.current||we||Pe.current;if(zx())Fe.focus({preventScroll:!0});else{const Ve=H.current.getScrollPosition();Fe.focus(),H.current.scroll(Ve)}}},[V,R,H]),B===Gi)return null;let Te=G.onFocus,Ae;if(p==null&&l.renderCell&&(Ae=l.renderCell(B),U.push(J["cell--withRenderer"]),U.push(Y==null?void 0:Y["cell--withRenderer"])),p!=null&&l.renderEditCell){const xe=H.current.getRowWithUpdatedValues(d,l.field),we=Ne(p,Ux),Fe=I({},B,{row:xe},we);Ae=l.renderEditCell(Fe),U.push(J["cell--editing"]),U.push(Y==null?void 0:Y["cell--editing"])}if(Ae===void 0){const xe=le==null?void 0:le.toString();Ae=h.jsx("div",{className:ge.content,title:xe,role:"presentation",children:xe})}c.isValidElement(Ae)&&X&&(Ae=c.cloneElement(Ae,{focusElementRef:ue}));const Oe=S?null:{onDragEnter:se("cellDragEnter",N),onDragOver:se("cellDragOver",F)},Ee=(a=T.experimentalFeatures)==null?void 0:a.ariaV7;return h.jsx("div",I({ref:oe,className:He(y,U,ge.root),role:Ee?"gridcell":"cell","data-field":E,"data-colindex":m,"aria-colindex":m+1,"aria-colspan":x,style:ye,tabIndex:te,onClick:se("cellClick",P),onDoubleClick:se("cellDoubleClick",z),onMouseOver:se("cellMouseOver",k),onMouseDown:Ce("cellMouseDown"),onMouseUp:de("cellMouseUp"),onKeyDown:se("cellKeyDown",M),onKeyUp:se("cellKeyUp",A)},Oe,G,{onFocus:Te,children:Ae}))}),El=ya(Xx),Yx=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","hasFocus","tabIndex"],Qx=e=>{const{classes:t}=e;return ht({root:["booleanCell"]},mt,t)};function ew(e){const{value:t}=e,o=Ne(e,Yx),s=dt(),i=je(),a={classes:i.classes},l=Qx(a),d=c.useMemo(()=>t?i.slots.booleanCellTrueIcon:i.slots.booleanCellFalseIcon,[i.slots.booleanCellFalseIcon,i.slots.booleanCellTrueIcon,t]);return h.jsx(d,I({fontSize:"small",className:l.root,titleAccess:s.current.getLocaleText(t?"booleanCellTrueLabel":"booleanCellFalseLabel"),"data-value":!!t},o))}const tw=c.memo(ew),nw=e=>As(e.rowNode)?"":h.jsx(tw,I({},e)),ow=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","className","hasFocus","isValidating","isProcessingProps","error","onValueChange"],rw=e=>{const{classes:t}=e;return ht({root:["editBooleanCell"]},mt,t)};function sw(e){var t;const{id:o,value:s,field:i,className:a,hasFocus:l,onValueChange:d}=e,p=Ne(e,ow),g=dt(),m=c.useRef(null),f=Bt(),[v,y]=c.useState(s),C=je(),x={classes:C.classes},S=rw(x),_=c.useCallback(async P=>{const z=P.target.checked;d&&await d(P,z),y(z),await g.current.setEditCellValue({id:o,field:i,value:z},P)},[g,i,o,d]);return c.useEffect(()=>{y(s)},[s]),mn(()=>{l&&m.current.focus()},[l]),h.jsx("label",I({htmlFor:f,className:He(S.root,a)},p,{children:h.jsx(C.slots.baseCheckbox,I({id:f,inputRef:m,checked:!!v,onChange:_,size:"small"},(t=C.slotProps)==null?void 0:t.baseCheckbox))}))}const iw=e=>h.jsx(sw,I({},e)),aw=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","hasFocus","inputProps","isValidating","isProcessingProps","onValueChange"],lw=Le(Zl)({fontSize:"inherit"}),cw=e=>{const{classes:t}=e;return ht({root:["editInputCell"]},mt,t)};function uw(e){const{id:t,value:o,field:s,colDef:i,hasFocus:a,inputProps:l,onValueChange:d}=e,p=Ne(e,aw),g=i.type==="dateTime",m=dt(),f=c.useRef(),v=c.useMemo(()=>{let D;o==null?D=null:o instanceof Date?D=o:D=new Date((o??"").toString());let j;return D==null||Number.isNaN(D.getTime())?j="":j=new Date(D.getTime()-D.getTimezoneOffset()*60*1e3).toISOString().substr(0,g?16:10),{parsed:D,formatted:j}},[o,g]),[y,C]=c.useState(v),S={classes:je().classes},_=cw(S),P=c.useCallback(D=>{if(D==="")return null;const[j,k]=D.split("T"),[M,A,N]=j.split("-"),F=new Date;if(F.setFullYear(Number(M),Number(A)-1,Number(N)),F.setHours(0,0,0,0),k){const[$,G]=k.split(":");F.setHours(Number($),Number(G),0,0)}return F},[]),z=c.useCallback(async D=>{const j=D.target.value,k=P(j);d&&await d(D,k),C({parsed:k,formatted:j}),m.current.setEditCellValue({id:t,field:s,value:k},D)},[m,s,t,d,P]);return c.useEffect(()=>{C(D=>{var j,k;return v.parsed!==D.parsed&&((j=v.parsed)==null?void 0:j.getTime())!==((k=D.parsed)==null?void 0:k.getTime())?v:D})},[v]),mn(()=>{a&&f.current.focus()},[a]),h.jsx(lw,I({inputRef:f,fullWidth:!0,className:_.root,type:g?"datetime-local":"date",inputProps:I({max:g?"9999-12-31T23:59":"9999-12-31"},l),value:y.formatted,onChange:z},p))}const Hh=e=>h.jsx(uw,I({},e)),dw=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","hasFocus","isValidating","debounceMs","isProcessingProps","onValueChange"],pw=e=>{const{classes:t}=e;return ht({root:["editInputCell"]},mt,t)},hw=Le(Zl,{name:"MuiDataGrid",slot:"EditInputCell",overridesResolver:(e,t)=>t.editInputCell})(({theme:e})=>I({},e.typography.body2,{padding:"1px 0","& input":{padding:"0 16px",height:"100%"}})),mw=c.forwardRef((e,t)=>{const o=je(),{id:s,value:i,field:a,colDef:l,hasFocus:d,debounceMs:p=200,isProcessingProps:g,onValueChange:m}=e,f=Ne(e,dw),v=dt(),y=c.useRef(),[C,x]=c.useState(i),S=pw(o),_=c.useCallback(async z=>{const D=z.target.value;m&&await m(z,D);const j=v.current.getColumn(a);let k=D;j.valueParser&&(k=j.valueParser(D,v.current.getCellParams(s,a))),x(k),v.current.setEditCellValue({id:s,field:a,value:k,debounceMs:p,unstable_skipValueParser:!0},z)},[v,p,a,s,m]),P=v.current.unstable_getEditCellMeta(s,a);return c.useEffect(()=>{(P==null?void 0:P.changeReason)!=="debouncedSetEditCellValue"&&x(i)},[P,i]),mn(()=>{d&&y.current.focus()},[d]),h.jsx(hw,I({ref:t,inputRef:y,className:S.root,ownerState:o,fullWidth:!0,type:l.type==="number"?l.type:"text",value:C??"",onChange:_,endAdornment:g?h.jsx(o.slots.loadIcon,{fontSize:"small",color:"action"}):void 0},f))}),fw=e=>h.jsx(mw,I({},e)),Vi=e=>e==="Escape",gw=e=>e==="Enter",Ic=e=>e==="Tab",jh=e=>e===" ",vw=e=>e.indexOf("Arrow")===0,bw=e=>e==="Home"||e==="End",yw=e=>e.indexOf("Page")===0;function Gh(e){return e.key.length===1&&!e.ctrlKey&&!e.metaKey}const Wi=e=>bw(e)||vw(e)||yw(e)||jh(e),Cw=e=>!!e.key,Vh=e=>Ic(e)||Vi(e);function ar(e){return(e==null?void 0:e.type)==="singleSelect"}function Dl(e,t,o){if(t===void 0)return;const s=t.find(i=>{const a=o(i);return String(a)===String(e)});return o(s)}const xw=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","className","hasFocus","isValidating","isProcessingProps","error","onValueChange","initialOpen","getOptionLabel","getOptionValue"],ww=["MenuProps"];function Sw(e){return!!e.key}function _w(e){var t,o,s;const i=je(),{id:a,value:l,field:d,row:p,colDef:g,hasFocus:m,error:f,onValueChange:v,initialOpen:y=i.editMode===fo.Cell,getOptionLabel:C,getOptionValue:x}=e,S=Ne(e,xw),_=dt(),P=c.useRef(),z=c.useRef(),[D,j]=c.useState(y),M=(o=(((t=i.slotProps)==null?void 0:t.baseSelect)||{}).native)!=null?o:!1,A=((s=i.slotProps)==null?void 0:s.baseSelect)||{},{MenuProps:N}=A,F=Ne(A,ww);if(mn(()=>{if(m){var W;(W=z.current)==null||W.focus()}},[m]),!ar(g))return null;let $;if(typeof(g==null?void 0:g.valueOptions)=="function"?$=g==null?void 0:g.valueOptions({id:a,row:p,field:d}):$=g==null?void 0:g.valueOptions,!$)return null;const G=x||g.getOptionValue,H=C||g.getOptionLabel,T=async W=>{if(!ar(g)||!$)return;j(!1);const R=W.target,V=Dl(R.value,$,G);v&&await v(W,V),await _.current.setEditCellValue({id:a,field:d,value:V},W)},E=(W,R)=>{if(i.editMode===fo.Row){j(!1);return}if(R==="backdropClick"||Vi(W.key)){const V=_.current.getCellParams(a,d);_.current.publishEvent("cellEditStop",I({},V,{reason:Vi(W.key)?qn.escapeKeyDown:qn.cellFocusOut}))}},B=W=>{Sw(W)&&W.key==="Enter"||j(!0)};return!$||!g?null:h.jsx(i.slots.baseSelect,I({ref:P,inputRef:z,value:l,onChange:T,open:D,onOpen:B,MenuProps:I({onClose:E},N),error:f,native:M,fullWidth:!0},S,F,{children:$.map(W=>{var R;const V=G(W);return c.createElement(i.slots.baseSelectOption,I({},((R=i.slotProps)==null?void 0:R.baseSelectOption)||{},{native:M,key:V,value:V}),H(W))})}))}const Pw=e=>h.jsx(_w,I({},e)),Iw=["open","target","onClose","children","position","className","onExited"],Tw=e=>{const{classes:t}=e;return ht({root:["menu"]},mt,t)},kw=Le(qr,{name:"MuiDataGrid",slot:"Menu",overridesResolver:(e,t)=>t.menu})(({theme:e})=>({zIndex:e.zIndex.modal,[`& .${J.menuList}`]:{outline:0}})),Mw={"bottom-start":"top left","bottom-end":"top right"};function Tc(e){var t;const{open:o,target:s,onClose:i,children:a,position:l,className:d,onExited:p}=e,g=Ne(e,Iw),m=dt(),f=je(),v=Tw(f),y=c.useRef(null);mn(()=>{if(o)y.current=document.activeElement instanceof HTMLElement?document.activeElement:null;else{var S,_;(S=y.current)==null||(_=S.focus)==null||_.call(S),y.current=null}},[o]),c.useEffect(()=>{const S=o?"menuOpen":"menuClose";m.current.publishEvent(S,{target:s})},[m,o,s]);const C=S=>_=>{S&&S(),p&&p(_)},x=S=>{S.target&&(s===S.target||s!=null&&s.contains(S.target))||i(S)};return h.jsx(kw,I({as:f.slots.basePopper,className:He(d,v.root),ownerState:f,open:o,anchorEl:s,transition:!0,placement:l},g,(t=f.slotProps)==null?void 0:t.basePopper,{children:({TransitionProps:S,placement:_})=>h.jsx(sc,{onClickAway:x,mouseEvent:"onMouseDown",children:h.jsx(xg,I({},S,{style:{transformOrigin:Mw[_]},onExited:C(S==null?void 0:S.onExited),children:h.jsx(Nt,{children:a})}))})}))}const Aw=["api","colDef","id","hasFocus","isEditable","field","value","formattedValue","row","rowNode","cellMode","tabIndex","position","focusElementRef"],Ew=e=>typeof e.getActions=="function";function Dw(e){var t;const{colDef:o,id:s,hasFocus:i,tabIndex:a,position:l="bottom-end",focusElementRef:d}=e,p=Ne(e,Aw),[g,m]=c.useState(-1),[f,v]=c.useState(!1),y=dt(),C=c.useRef(null),x=c.useRef(null),S=c.useRef(!1),_=c.useRef({}),P=zt(),z=Bt(),D=Bt(),j=je();if(!Ew(o))throw new Error("MUI: Missing the `getActions` property in the `GridColDef`.");const k=o.getActions(y.current.getRowParams(s)),M=k.filter(B=>!B.props.showInMenu),A=k.filter(B=>B.props.showInMenu),N=M.length+(A.length?1:0);c.useLayoutEffect(()=>{i||Object.entries(_.current).forEach(([B,W])=>{W==null||W.stop({},()=>{delete _.current[B]})})},[i]),c.useEffect(()=>{if(g<0||!C.current||g>=C.current.children.length)return;C.current.children[g].focus({preventScroll:!0})},[g]),c.useEffect(()=>{i||(m(-1),S.current=!1)},[i]),c.useImperativeHandle(d,()=>({focus(){if(!S.current){const B=k.findIndex(W=>!W.props.disabled);m(B)}}}),[k]),c.useEffect(()=>{g>=N&&m(N-1)},[g,N]);const F=()=>{v(!0),m(N-1),S.current=!0},$=()=>{v(!1)},G=B=>W=>{_.current[B]=W},H=(B,W)=>R=>{m(B),S.current=!0,W&&W(R)},T=B=>{if(N<=1)return;const W=(V,Z)=>{var q;if(V<0||V>k.length)return V;const ee=P.direction==="rtl"?-1:1,X=(Z==="left"?-1:1)*ee;return(q=k[V+X])!=null&&q.props.disabled?W(V+X,Z):V+X};let R=g;B.key==="ArrowRight"?R=W(g,"right"):B.key==="ArrowLeft"&&(R=W(g,"left")),!(R<0||R>=N)&&R!==g&&(B.preventDefault(),B.stopPropagation(),m(R))},E=B=>{B.key==="Tab"&&B.preventDefault(),["Tab","Escape"].includes(B.key)&&$()};return h.jsxs("div",I({role:"menu",ref:C,tabIndex:-1,className:J.actionsCell,onKeyDown:T},p,{children:[M.map((B,W)=>c.cloneElement(B,{key:W,touchRippleRef:G(W),onClick:H(W,B.props.onClick),tabIndex:g===W?a:-1})),A.length>0&&D&&h.jsx(j.slots.baseIconButton,I({ref:x,id:D,"aria-label":y.current.getLocaleText("actionsCellMore"),"aria-haspopup":"menu","aria-expanded":f,"aria-controls":f?z:void 0,role:"menuitem",size:"small",onClick:F,touchRippleRef:G(D),tabIndex:g===M.length?a:-1},(t=j.slotProps)==null?void 0:t.baseIconButton,{children:h.jsx(j.slots.moreActionsIcon,{fontSize:"small"})})),A.length>0&&h.jsx(Tc,{open:f,target:x.current,position:l,onClose:$,children:h.jsx(Kl,{id:z,className:J.menuList,onKeyDown:E,"aria-labelledby":D,variant:"menu",autoFocusItem:!0,children:A.map((B,W)=>c.cloneElement(B,{key:W,closeMenu:$}))})})]}))}const Rw=e=>h.jsx(Dw,I({},e)),Lw=["field","align","width","contentWidth"],Fw=e=>{const{align:t,classes:o}=e,s={root:["cell","cellSkeleton",`cell--text${mo(t)}`,"withBorderColor"]};return ht(s,mt,o)};function Ow(e){const{align:t,width:o,contentWidth:s}=e,i=Ne(e,Lw),l={classes:je().classes,align:t},d=Fw(l);return h.jsx("div",I({className:d.root,style:{width:o}},i,{children:h.jsx(py,{width:`${s}%`})}))}function Nw(e){return e.vars?e.vars.palette.TableCell.border:e.palette.mode==="light"?Ip(Me(e.palette.divider,1),.88):Tp(Me(e.palette.divider,1),.68)}const wd={[`.${J.columnSeparator}, .${J["columnSeparator--resizing"]}`]:{visibility:"visible",width:"auto"}},Sd={[`& .${J.iconButtonContainer}`]:{visibility:"visible",width:"auto"},[`& .${J.menuIcon}`]:{width:"auto",visibility:"visible"}},zw=Le("div",{name:"MuiDataGrid",slot:"Root",overridesResolver:(e,t)=>[{[`&.${J.autoHeight}`]:t.autoHeight},{[`&.${J.aggregationColumnHeader}`]:t.aggregationColumnHeader},{[`&.${J["aggregationColumnHeader--alignLeft"]}`]:t["aggregationColumnHeader--alignLeft"]},{[`&.${J["aggregationColumnHeader--alignCenter"]}`]:t["aggregationColumnHeader--alignCenter"]},{[`&.${J["aggregationColumnHeader--alignRight"]}`]:t["aggregationColumnHeader--alignRight"]},{[`&.${J.aggregationColumnHeaderLabel}`]:t.aggregationColumnHeaderLabel},{[`&.${J["root--disableUserSelection"]} .${J.cell}`]:t["root--disableUserSelection"]},{[`&.${J.autosizing}`]:t.autosizing},{[`& .${J.editBooleanCell}`]:t.editBooleanCell},{[`& .${J["cell--editing"]}`]:t["cell--editing"]},{[`& .${J["cell--textCenter"]}`]:t["cell--textCenter"]},{[`& .${J["cell--textLeft"]}`]:t["cell--textLeft"]},{[`& .${J["cell--textRight"]}`]:t["cell--textRight"]},{[`& .${J["cell--withRenderer"]}`]:t["cell--withRenderer"]},{[`& .${J.cell}`]:t.cell},{[`& .${J["cell--rangeTop"]}`]:t["cell--rangeTop"]},{[`& .${J["cell--rangeBottom"]}`]:t["cell--rangeBottom"]},{[`& .${J["cell--rangeLeft"]}`]:t["cell--rangeLeft"]},{[`& .${J["cell--rangeRight"]}`]:t["cell--rangeRight"]},{[`& .${J["cell--withRightBorder"]}`]:t["cell--withRightBorder"]},{[`& .${J.cellContent}`]:t.cellContent},{[`& .${J.cellCheckbox}`]:t.cellCheckbox},{[`& .${J.cellSkeleton}`]:t.cellSkeleton},{[`& .${J.checkboxInput}`]:t.checkboxInput},{[`& .${J["columnHeader--alignCenter"]}`]:t["columnHeader--alignCenter"]},{[`& .${J["columnHeader--alignLeft"]}`]:t["columnHeader--alignLeft"]},{[`& .${J["columnHeader--alignRight"]}`]:t["columnHeader--alignRight"]},{[`& .${J["columnHeader--dragging"]}`]:t["columnHeader--dragging"]},{[`& .${J["columnHeader--moving"]}`]:t["columnHeader--moving"]},{[`& .${J["columnHeader--numeric"]}`]:t["columnHeader--numeric"]},{[`& .${J["columnHeader--sortable"]}`]:t["columnHeader--sortable"]},{[`& .${J["columnHeader--sorted"]}`]:t["columnHeader--sorted"]},{[`& .${J["columnHeader--withRightBorder"]}`]:t["columnHeader--withRightBorder"]},{[`& .${J.columnHeader}`]:t.columnHeader},{[`& .${J.headerFilterRow}`]:t.headerFilterRow},{[`& .${J.columnHeaderCheckbox}`]:t.columnHeaderCheckbox},{[`& .${J.columnHeaderDraggableContainer}`]:t.columnHeaderDraggableContainer},{[`& .${J.columnHeaderTitleContainer}`]:t.columnHeaderTitleContainer},{[`& .${J["columnSeparator--resizable"]}`]:t["columnSeparator--resizable"]},{[`& .${J["columnSeparator--resizing"]}`]:t["columnSeparator--resizing"]},{[`& .${J.columnSeparator}`]:t.columnSeparator},{[`& .${J.filterIcon}`]:t.filterIcon},{[`& .${J.iconSeparator}`]:t.iconSeparator},{[`& .${J.menuIcon}`]:t.menuIcon},{[`& .${J.menuIconButton}`]:t.menuIconButton},{[`& .${J.menuOpen}`]:t.menuOpen},{[`& .${J.menuList}`]:t.menuList},{[`& .${J["row--editable"]}`]:t["row--editable"]},{[`& .${J["row--editing"]}`]:t["row--editing"]},{[`& .${J["row--dragging"]}`]:t["row--dragging"]},{[`& .${J.row}`]:t.row},{[`& .${J.rowReorderCellPlaceholder}`]:t.rowReorderCellPlaceholder},{[`& .${J.rowReorderCell}`]:t.rowReorderCell},{[`& .${J["rowReorderCell--draggable"]}`]:t["rowReorderCell--draggable"]},{[`& .${J.sortIcon}`]:t.sortIcon},{[`& .${J.withBorderColor}`]:t.withBorderColor},{[`& .${J.treeDataGroupingCell}`]:t.treeDataGroupingCell},{[`& .${J.treeDataGroupingCellToggle}`]:t.treeDataGroupingCellToggle},{[`& .${J.detailPanelToggleCell}`]:t.detailPanelToggleCell},{[`& .${J["detailPanelToggleCell--expanded"]}`]:t["detailPanelToggleCell--expanded"]},t.root]})(({theme:e})=>{const t=Nw(e),o=e.shape.borderRadius;return I({"--unstable_DataGrid-radius":typeof o=="number"?`${o}px`:o,"--unstable_DataGrid-headWeight":e.typography.fontWeightMedium,"--unstable_DataGrid-overlayBackground":e.vars?`rgba(${e.vars.palette.background.defaultChannel} / ${e.vars.palette.action.disabledOpacity})`:Me(e.palette.background.default,e.palette.action.disabledOpacity),"--DataGrid-cellOffsetMultiplier":2,flex:1,boxSizing:"border-box",position:"relative",borderWidth:"1px",borderStyle:"solid",borderColor:t,borderRadius:"var(--unstable_DataGrid-radius)",color:(e.vars||e).palette.text.primary},e.typography.body2,{outline:"none",height:"100%",display:"flex",minWidth:0,minHeight:0,flexDirection:"column",overflowAnchor:"none",[`&.${J.autoHeight}`]:{height:"auto",[`& .${J["row--lastVisible"]} .${J.cell}`]:{borderBottomColor:"transparent"}},[`&.${J.autosizing}`]:{[`& .${J.columnHeaderTitleContainerContent} > *`]:{overflow:"visible !important"},[`& .${J.cell} > *`]:{overflow:"visible !important",whiteSpace:"nowrap"},[`& .${J.groupingCriteriaCell}`]:{width:"unset"},[`& .${J.treeDataGroupingCell}`]:{width:"unset"}},[`& .${J["virtualScrollerContent--overflowed"]} .${J["row--lastVisible"]} .${J.cell}`]:{borderBottomColor:"transparent"},[`& .${J.columnHeader}, & .${J.cell}`]:{WebkitTapHighlightColor:"transparent",lineHeight:null,padding:"0 10px",boxSizing:"border-box"},[`& .${J.columnHeader}:focus-within, & .${J.cell}:focus-within`]:{outline:`solid ${e.vars?`rgba(${e.vars.palette.primary.mainChannel} / 0.5)`:Me(e.palette.primary.main,.5)} 1px`,outlineWidth:1,outlineOffset:-1},[`& .${J.columnHeader}:focus, & .${J.cell}:focus`]:{outline:`solid ${e.palette.primary.main} 1px`},[`& .${J.columnHeaderCheckbox}, & .${J.cellCheckbox}`]:{padding:0,justifyContent:"center",alignItems:"center"},[`& .${J.columnHeader}`]:{position:"relative",display:"flex",alignItems:"center"},[`& .${J["columnHeader--sorted"]} .${J.iconButtonContainer}, & .${J["columnHeader--filtered"]} .${J.iconButtonContainer}`]:{visibility:"visible",width:"auto"},[`& .${J.columnHeader}:not(.${J["columnHeader--sorted"]}) .${J.sortIcon}`]:{opacity:0,transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.shorter})},[`& .${J.columnHeaderTitleContainer}`]:{display:"flex",alignItems:"center",minWidth:0,flex:1,whiteSpace:"nowrap",overflow:"hidden",position:"relative"},[`& .${J.columnHeaderTitleContainerContent}`]:{overflow:"hidden",display:"flex",alignItems:"center"},[`& .${J["columnHeader--filledGroup"]} .${J.columnHeaderTitleContainer}`]:{borderBottomWidth:"1px",borderBottomStyle:"solid",boxSizing:"border-box"},[`& .${J["columnHeader--filledGroup"]}.${J["columnHeader--showColumnBorder"]} .${J.columnHeaderTitleContainer}`]:{borderBottom:"none"},[`& .${J["columnHeader--filledGroup"]}.${J["columnHeader--showColumnBorder"]}`]:{borderBottomWidth:"1px",borderBottomStyle:"solid",boxSizing:"border-box"},[`& .${J.headerFilterRow}`]:{borderTop:`1px solid ${t}`},[`& .${J.sortIcon}, & .${J.filterIcon}`]:{fontSize:"inherit"},[`& .${J["columnHeader--sortable"]}`]:{cursor:"pointer"},[`& .${J["columnHeader--alignCenter"]} .${J.columnHeaderTitleContainer}`]:{justifyContent:"center"},[`& .${J["columnHeader--alignRight"]} .${J.columnHeaderDraggableContainer}, & .${J["columnHeader--alignRight"]} .${J.columnHeaderTitleContainer}`]:{flexDirection:"row-reverse"},[`& .${J["columnHeader--alignCenter"]} .${J.menuIcon}, & .${J["columnHeader--alignRight"]} .${J.menuIcon}`]:{marginRight:"auto",marginLeft:-6},[`& .${J["columnHeader--alignRight"]} .${J.menuIcon}, & .${J["columnHeader--alignRight"]} .${J.menuIcon}`]:{marginRight:"auto",marginLeft:-10},[`& .${J["columnHeader--moving"]}`]:{backgroundColor:(e.vars||e).palette.action.hover},[`& .${J.columnSeparator}`]:{visibility:"hidden",position:"absolute",zIndex:100,display:"flex",flexDirection:"column",justifyContent:"center",color:t},"@media (hover: hover)":{[`& .${J.columnHeaders}:hover`]:wd,[`& .${J.columnHeader}:hover`]:Sd,[`& .${J.columnHeader}:not(.${J["columnHeader--sorted"]}):hover .${J.sortIcon}`]:{opacity:.5}},"@media (hover: none)":{[`& .${J.columnHeaders}`]:wd,[`& .${J.columnHeader}`]:Sd},[`& .${J["columnSeparator--sideLeft"]}`]:{left:-12},[`& .${J["columnSeparator--sideRight"]}`]:{right:-12},[`& .${J["columnSeparator--resizable"]}`]:{cursor:"col-resize",touchAction:"none","&:hover":{color:(e.vars||e).palette.text.primary,"@media (hover: none)":{color:t}},[`&.${J["columnSeparator--resizing"]}`]:{color:(e.vars||e).palette.text.primary},"& svg":{pointerEvents:"none"}},[`& .${J.iconSeparator}`]:{color:"inherit"},[`& .${J.menuIcon}`]:{width:0,visibility:"hidden",fontSize:20,marginRight:-10,display:"flex",alignItems:"center"},[`.${J.menuOpen}`]:{visibility:"visible",width:"auto"},[`& .${J.row}`]:{display:"flex",width:"fit-content",breakInside:"avoid","&:hover, &.Mui-hovered":{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},"&.Mui-selected":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Me(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover, &.Mui-hovered":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(
                ${e.vars.palette.action.selectedOpacity} + 
                ${e.vars.palette.action.hoverOpacity}
              ))`:Me(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Me(e.palette.primary.main,e.palette.action.selectedOpacity)}}}},[`& .${J.cell}`]:{display:"flex",alignItems:"center",borderBottom:"1px solid","&.Mui-selected":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Me(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover, &.Mui-hovered":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity+e.palette.action.hoverOpacity})`:Me(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Me(e.palette.primary.main,e.palette.action.selectedOpacity)}}}},[`&.${J["root--disableUserSelection"]} .${J.cell}`]:{userSelect:"none"},[`& .${J.row}:not(.${J["row--dynamicHeight"]}) > .${J.cell}`]:{overflow:"hidden",whiteSpace:"nowrap"},[`& .${J.cellContent}`]:{overflow:"hidden",textOverflow:"ellipsis"},[`& .${J.cell}.${J["cell--selectionMode"]}`]:{cursor:"default"},[`& .${J.cell}.${J["cell--editing"]}`]:{padding:1,display:"flex",boxShadow:e.shadows[2],backgroundColor:(e.vars||e).palette.background.paper,"&:focus-within":{outline:`solid ${(e.vars||e).palette.primary.main} 1px`,outlineOffset:"-1px"}},[`& .${J["row--editing"]}`]:{boxShadow:e.shadows[2]},[`& .${J["row--editing"]} .${J.cell}`]:{boxShadow:e.shadows[0],backgroundColor:(e.vars||e).palette.background.paper},[`& .${J.editBooleanCell}`]:{display:"flex",height:"100%",width:"100%",alignItems:"center",justifyContent:"center"},[`& .${J.booleanCell}[data-value="true"]`]:{color:(e.vars||e).palette.text.secondary},[`& .${J.booleanCell}[data-value="false"]`]:{color:(e.vars||e).palette.text.disabled},[`& .${J.actionsCell}`]:{display:"inline-flex",alignItems:"center",gridGap:e.spacing(1)},[`& .${J.rowReorderCell}`]:{display:"inline-flex",flex:1,alignItems:"center",justifyContent:"center",opacity:(e.vars||e).palette.action.disabledOpacity},[`& .${J["rowReorderCell--draggable"]}`]:{cursor:"move",opacity:1},[`& .${J.rowReorderCellContainer}`]:{padding:0,alignItems:"stretch"},[`.${J.withBorderColor}`]:{borderColor:t},[`& .${J["cell--withRightBorder"]}`]:{borderRightWidth:"1px",borderRightStyle:"solid"},[`& .${J["columnHeader--withRightBorder"]}`]:{borderRightWidth:"1px",borderRightStyle:"solid"},[`& .${J["cell--textLeft"]}`]:{justifyContent:"flex-start"},[`& .${J["cell--textRight"]}`]:{justifyContent:"flex-end"},[`& .${J["cell--textCenter"]}`]:{justifyContent:"center"},[`& .${J.columnHeaderDraggableContainer}`]:{display:"flex",width:"100%",height:"100%"},[`& .${J.rowReorderCellPlaceholder}`]:{display:"none"},[`& .${J["columnHeader--dragging"]}, & .${J["row--dragging"]}`]:{background:(e.vars||e).palette.background.paper,padding:"0 12px",borderRadius:"var(--unstable_DataGrid-radius)",opacity:(e.vars||e).palette.action.disabledOpacity},[`& .${J["row--dragging"]}`]:{background:(e.vars||e).palette.background.paper,padding:"0 12px",borderRadius:"var(--unstable_DataGrid-radius)",opacity:(e.vars||e).palette.action.disabledOpacity,[`& .${J.rowReorderCellPlaceholder}`]:{display:"flex"}},[`& .${J.treeDataGroupingCell}`]:{display:"flex",alignItems:"center",width:"100%"},[`& .${J.treeDataGroupingCellToggle}`]:{flex:"0 0 28px",alignSelf:"stretch",marginRight:e.spacing(2)},[`& .${J.groupingCriteriaCell}`]:{display:"flex",alignItems:"center",width:"100%"},[`& .${J.groupingCriteriaCellToggle}`]:{flex:"0 0 28px",alignSelf:"stretch",marginRight:e.spacing(2)}})}),$w=["children","className"],Bw=e=>{const{autoHeight:t,density:o,classes:s}=e,i={root:["root",t&&"autoHeight",`root--density${mo(o)}`,"withBorderColor"]};return ht(i,mt,s)},Hw=c.forwardRef(function(t,o){var s;const i=je(),{children:a,className:l}=t,d=Ne(t,$w),p=Wo(),g=Re(p,Lh),m=c.useRef(null),f=Vo(m,o),v=(s=i.experimentalFeatures)!=null&&s.ariaV7?null:Ih,y=typeof v=="function"?v():null,C=I({},i,{density:g}),x=Bw(C);p.current.register("public",{rootElementRef:m});const[S,_]=c.useState(!1);return mn(()=>{_(!0)},[]),S?h.jsx(zw,I({ref:f,className:He(l,x.root),ownerState:C},y,d,{children:a})):null}),jw=["className"],Gw=e=>{const{classes:t}=e;return ht({root:["footerContainer","withBorderColor"]},mt,t)},Vw=fn("div",{name:"MuiDataGrid",slot:"FooterContainer",overridesResolver:(e,t)=>t.footerContainer})({display:"flex",justifyContent:"space-between",alignItems:"center",minHeight:52,borderTop:"1px solid"}),Ww=c.forwardRef(function(t,o){const{className:s}=t,i=Ne(t,jw),a=je(),l=Gw(a);return h.jsx(Vw,I({ref:o,className:He(l.root,s),ownerState:a},i))}),Zw=["className"],Uw=e=>{const{classes:t}=e;return ht({root:["overlay"]},mt,t)},Kw=fn("div",{name:"MuiDataGrid",slot:"Overlay",overridesResolver:(e,t)=>t.overlay})({width:"100%",height:"100%",display:"flex",alignSelf:"center",alignItems:"center",justifyContent:"center",backgroundColor:"var(--unstable_DataGrid-overlayBackground)"}),kc=c.forwardRef(function(t,o){const{className:s}=t,i=Ne(t,Zw),a=je(),l=Uw(a);return h.jsx(Kw,I({ref:o,className:He(l.root,s),ownerState:a},i))}),Jw=["className","children"],qw=e=>{const{classes:t}=e;return ht({root:["toolbarContainer"]},mt,t)},Xw=fn("div",{name:"MuiDataGrid",slot:"ToolbarContainer",overridesResolver:(e,t)=>t.toolbarContainer})(({theme:e})=>({display:"flex",alignItems:"center",flexWrap:"wrap",gap:e.spacing(1),padding:e.spacing(.5,.5,0)})),Yw=c.forwardRef(function(t,o){const{className:s,children:i}=t,a=Ne(t,Jw),l=je(),d=qw(l);return i?h.jsx(Xw,I({ref:o,className:He(s,d.root),ownerState:l},a,{children:i})):null}),Qw=["className"],eS=e=>{const{classes:t}=e;return ht({root:["iconButtonContainer"]},mt,t)},tS=fn("div",{name:"MuiDataGrid",slot:"IconButtonContainer",overridesResolver:(e,t)=>t.iconButtonContainer})(()=>({display:"flex",visibility:"hidden",width:0})),Wh=c.forwardRef(function(t,o){const{className:s}=t,i=Ne(t,Qw),a=je(),l=eS(a);return h.jsx(tS,I({ref:o,className:He(l.root,s),ownerState:a},i))}),nS=e=>{const{classes:t}=e;return ht({icon:["sortIcon"]},mt,t)};function oS(e,t,o,s){let i;const a={};return t==="asc"?i=e.columnSortedAscendingIcon:t==="desc"?i=e.columnSortedDescendingIcon:(i=e.columnUnsortedIcon,a.sortingOrder=s),i?h.jsx(i,I({fontSize:"small",className:o},a)):null}function rS(e){var t;const{direction:o,index:s,sortingOrder:i}=e,a=dt(),l=je(),d=I({},e,{classes:l.classes}),p=nS(d),g=oS(l.slots,o,p.icon,i);if(!g)return null;const m=h.jsx(l.slots.baseIconButton,I({tabIndex:-1,"aria-label":a.current.getLocaleText("columnHeaderSortIconLabel"),title:a.current.getLocaleText("columnHeaderSortIconLabel"),size:"small"},(t=l.slotProps)==null?void 0:t.baseIconButton,{children:g}));return h.jsxs(Wh,{children:[s!=null&&h.jsx(rc,{badgeContent:s,color:"default",children:m}),s==null&&m]})}const sS=c.memo(rS),iS=e=>{const{classes:t,open:o}=e;return ht({root:["menuIcon",o&&"menuOpen"],button:["menuIconButton"]},mt,t)},aS=c.memo(e=>{var t,o;const{colDef:s,open:i,columnMenuId:a,columnMenuButtonId:l,iconButtonRef:d}=e,p=dt(),g=je(),m=I({},e,{classes:g.classes}),f=iS(m),v=c.useCallback(y=>{y.preventDefault(),y.stopPropagation(),p.current.toggleColumnMenu(s.field)},[p,s.field]);return h.jsx("div",{className:f.root,children:h.jsx(g.slots.baseTooltip,I({title:p.current.getLocaleText("columnMenuLabel"),enterDelay:1e3},(t=g.slotProps)==null?void 0:t.baseTooltip,{children:h.jsx(g.slots.baseIconButton,I({ref:d,tabIndex:-1,className:f.button,"aria-label":p.current.getLocaleText("columnMenuLabel"),size:"small",onClick:v,"aria-haspopup":"menu","aria-expanded":i,"aria-controls":i?a:void 0,id:l},(o=g.slotProps)==null?void 0:o.baseIconButton,{children:h.jsx(g.slots.columnMenuIcon,{fontSize:"small"})}))}))})});function lS({columnMenuId:e,columnMenuButtonId:t,ContentComponent:o,contentComponentProps:s,field:i,open:a,target:l,onExited:d}){const p=dt(),g=p.current.getColumn(i),m=Qn(f=>{f&&(f.stopPropagation(),l!=null&&l.contains(f.target))||p.current.hideColumnMenu()});return!l||!g?null:h.jsx(Tc,{placement:`bottom-${g.align==="right"?"start":"end"}`,open:a,target:l,onClose:m,onExited:d,children:h.jsx(o,I({colDef:g,hideMenu:m,open:a,id:e,labelledby:t},s))})}const cS=["className"],uS=e=>{const{classes:t}=e;return ht({root:["columnHeaderTitle"]},mt,t)},dS=fn("div",{name:"MuiDataGrid",slot:"ColumnHeaderTitle",overridesResolver:(e,t)=>t.columnHeaderTitle})({textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",fontWeight:"var(--unstable_DataGrid-headWeight)"}),pS=c.forwardRef(function(t,o){const{className:s}=t,i=Ne(t,cS),a=je(),l=uS(a);return h.jsx(dS,I({ref:o,className:He(l.root,s),ownerState:a},i))});function hS(e){var t;const{label:o,description:s}=e,i=je(),a=c.useRef(null),[l,d]=c.useState(""),p=c.useCallback(()=>{if(!s&&a!=null&&a.current){const g=$x(a.current);d(g?o:"")}},[s,o]);return h.jsx(i.slots.baseTooltip,I({title:s||l},(t=i.slotProps)==null?void 0:t.baseTooltip,{children:h.jsx(pS,{onMouseOver:p,ref:a,children:o})}))}const mS=["resizable","resizing","height","side"];var Zh=function(e){return e.Left="left",e.Right="right",e}(Zh||{});const fS=e=>{const{resizable:t,resizing:o,classes:s,side:i}=e,a={root:["columnSeparator",t&&"columnSeparator--resizable",o&&"columnSeparator--resizing",i&&`columnSeparator--side${mo(i)}`],icon:["iconSeparator"]};return ht(a,mt,s)};function gS(e){const{height:t,side:o=Zh.Right}=e,s=Ne(e,mS),i=je(),a=I({},e,{side:o,classes:i.classes}),l=fS(a),d=c.useCallback(p=>{p.preventDefault(),p.stopPropagation()},[]);return h.jsx("div",I({className:l.root,style:{minHeight:t,opacity:i.showColumnVerticalBorder?0:1}},s,{onClick:d,children:h.jsx(i.slots.columnResizeIcon,{className:l.icon})}))}const vS=c.memo(gS),bS=["classes","columnMenuOpen","colIndex","height","isResizing","sortDirection","hasFocus","tabIndex","separatorSide","isDraggable","headerComponent","description","elementId","width","columnMenuIconButton","columnMenu","columnTitleIconButtons","headerClassName","label","resizable","draggableContainerProps","columnHeaderSeparatorProps"],Uh=c.forwardRef(function(t,o){const{classes:s,columnMenuOpen:i,colIndex:a,height:l,isResizing:d,sortDirection:p,hasFocus:g,tabIndex:m,separatorSide:f,isDraggable:v,headerComponent:y,description:C,width:x,columnMenuIconButton:S=null,columnMenu:_=null,columnTitleIconButtons:P=null,headerClassName:z,label:D,resizable:j,draggableContainerProps:k,columnHeaderSeparatorProps:M}=t,A=Ne(t,bS),N=Wo(),F=je(),$=c.useRef(null),[G,H]=c.useState(i),T=Vo($,o);let E="none";return p!=null&&(E=p==="asc"?"ascending":"descending"),c.useEffect(()=>{G||H(i)},[G,i]),c.useLayoutEffect(()=>{const B=N.current.state.columnMenu;if(g&&!B.open){const R=$.current.querySelector('[tabindex="0"]')||$.current;R==null||R.focus(),N.current.columnHeadersContainerElementRef.current.scrollLeft=0}},[N,g]),h.jsxs("div",I({ref:T,className:He(s.root,z),style:{height:l,width:x,minWidth:x,maxWidth:x},role:"columnheader",tabIndex:m,"aria-colindex":a+1,"aria-sort":E,"aria-label":y==null?D:void 0},A,{children:[h.jsxs("div",I({className:s.draggableContainer,draggable:v,role:"presentation"},k,{children:[h.jsxs("div",{className:s.titleContainer,role:"presentation",children:[h.jsx("div",{className:s.titleContainerContent,children:y!==void 0?y:h.jsx(hS,{label:D,description:C,columnWidth:x})}),P]}),S]})),h.jsx(vS,I({resizable:!F.disableColumnResize&&!!j,resizing:d,height:l,side:f},M)),_]}))}),yS=e=>{const{colDef:t,classes:o,isDragging:s,sortDirection:i,showRightBorder:a,filterItemsCounter:l}=e,d=i!=null,p=l!=null&&l>0,g=t.type==="number",m={root:["columnHeader",t.headerAlign==="left"&&"columnHeader--alignLeft",t.headerAlign==="center"&&"columnHeader--alignCenter",t.headerAlign==="right"&&"columnHeader--alignRight",t.sortable&&"columnHeader--sortable",s&&"columnHeader--moving",d&&"columnHeader--sorted",p&&"columnHeader--filtered",g&&"columnHeader--numeric","withBorderColor",a&&"columnHeader--withRightBorder"],draggableContainer:["columnHeaderDraggableContainer"],titleContainer:["columnHeaderTitleContainer"],titleContainerContent:["columnHeaderTitleContainerContent"]};return ht(m,mt,o)};function CS(e){var t,o,s,i;const{colDef:a,columnMenuOpen:l,colIndex:d,headerHeight:p,isResizing:g,sortDirection:m,sortIndex:f,filterItemsCounter:v,hasFocus:y,tabIndex:C,disableReorder:x,separatorSide:S}=e,_=Wo(),P=je(),z=c.useRef(null),D=Bt(),j=Bt(),k=c.useRef(null),[M,A]=c.useState(l),N=c.useMemo(()=>!P.disableColumnReorder&&!x&&!a.disableReorder,[P.disableColumnReorder,x,a.disableReorder]);let F;a.renderHeader&&(F=a.renderHeader(_.current.getColumnHeaderParams(a.field)));const $=I({},e,{classes:P.classes,showRightBorder:P.showColumnVerticalBorder}),G=yS($),H=c.useCallback(te=>Y=>{Gs(Y)||_.current.publishEvent(te,_.current.getColumnHeaderParams(a.field),Y)},[_,a.field]),T=c.useMemo(()=>({onClick:H("columnHeaderClick"),onDoubleClick:H("columnHeaderDoubleClick"),onMouseOver:H("columnHeaderOver"),onMouseOut:H("columnHeaderOut"),onMouseEnter:H("columnHeaderEnter"),onMouseLeave:H("columnHeaderLeave"),onKeyDown:H("columnHeaderKeyDown"),onFocus:H("columnHeaderFocus"),onBlur:H("columnHeaderBlur")}),[H]),E=c.useMemo(()=>N?{onDragStart:H("columnHeaderDragStart"),onDragEnter:H("columnHeaderDragEnter"),onDragOver:H("columnHeaderDragOver"),onDragEnd:H("columnHeaderDragEnd")}:{},[N,H]),B=c.useMemo(()=>({onMouseDown:H("columnSeparatorMouseDown"),onDoubleClick:H("columnSeparatorDoubleClick")}),[H]);c.useEffect(()=>{M||A(l)},[M,l]);const W=c.useCallback(()=>{A(!1)},[]),R=!P.disableColumnMenu&&!a.disableColumnMenu&&h.jsx(aS,{colDef:a,columnMenuId:D,columnMenuButtonId:j,open:M,iconButtonRef:k}),V=h.jsx(lS,{columnMenuId:D,columnMenuButtonId:j,field:a.field,open:l,target:k.current,ContentComponent:P.slots.columnMenu,contentComponentProps:(t=P.slotProps)==null?void 0:t.columnMenu,onExited:W}),Z=(o=a.sortingOrder)!=null?o:P.sortingOrder,q=h.jsxs(c.Fragment,{children:[!P.disableColumnFilter&&h.jsx(P.slots.columnHeaderFilterIconButton,I({field:a.field,counter:v},(s=P.slotProps)==null?void 0:s.columnHeaderFilterIconButton)),a.sortable&&!a.hideSortIcons&&h.jsx(sS,{direction:m,index:f,sortingOrder:Z})]});c.useLayoutEffect(()=>{const te=_.current.state.columnMenu;if(y&&!te.open){var Y;const U=z.current.querySelector('[tabindex="0"]')||z.current;U==null||U.focus(),(Y=_.current.columnHeadersContainerElementRef)!=null&&Y.current&&(_.current.columnHeadersContainerElementRef.current.scrollLeft=0)}},[_,y]);const ee=typeof a.headerClassName=="function"?a.headerClassName({field:a.field,colDef:a}):a.headerClassName,X=(i=a.headerName)!=null?i:a.field;return h.jsx(Uh,I({ref:z,classes:G,columnMenuOpen:l,colIndex:d,height:p,isResizing:g,sortDirection:m,hasFocus:y,tabIndex:C,separatorSide:S,isDraggable:N,headerComponent:F,description:a.description,elementId:a.field,width:a.computedWidth,columnMenuIconButton:R,columnTitleIconButtons:q,headerClassName:ee,label:X,resizable:!P.disableColumnResize&&!!a.resizable,"data-field":a.field,columnMenu:V,draggableContainerProps:E,columnHeaderSeparatorProps:B},T))}const Es=()=>({items:[],logicOperator:En.And,quickFilterValues:[],quickFilterLogicOperator:En.And}),_d=1e3;class xS{constructor(t=_d){this.timeouts=new Map,this.cleanupTimeout=_d,this.cleanupTimeout=t}register(t,o,s){this.timeouts||(this.timeouts=new Map);const i=setTimeout(()=>{typeof o=="function"&&o(),this.timeouts.delete(s.cleanupToken)},this.cleanupTimeout);this.timeouts.set(s.cleanupToken,i)}unregister(t){const o=this.timeouts.get(t.cleanupToken);o&&(this.timeouts.delete(t.cleanupToken),clearTimeout(o))}reset(){this.timeouts&&(this.timeouts.forEach((t,o)=>{this.unregister({cleanupToken:o})}),this.timeouts=void 0)}}class wS{constructor(){this.registry=new FinalizationRegistry(t=>{typeof t=="function"&&t()})}register(t,o,s){this.registry.register(t,o,s)}unregister(t){this.registry.unregister(t)}reset(){}}var ho=function(e){return e.DataGrid="DataGrid",e.DataGridPro="DataGridPro",e}(ho||{});class SS{}function _S(e){let t=0;return function(s,i,a,l){e.registry===null&&(e.registry=typeof FinalizationRegistry<"u"?new wS:new xS);const[d]=c.useState(new SS),p=c.useRef(null),g=c.useRef();g.current=a;const m=c.useRef(null);if(!p.current&&g.current){const f=(v,y,C)=>{if(!y.defaultMuiPrevented){var x;(x=g.current)==null||x.call(g,v,y,C)}};p.current=s.current.subscribeEvent(i,f,l),t+=1,m.current={cleanupToken:t},e.registry.register(d,()=>{var v;(v=p.current)==null||v.call(p),p.current=null,m.current=null},m.current)}else!g.current&&p.current&&(p.current(),p.current=null,m.current&&(e.registry.unregister(m.current),m.current=null));c.useEffect(()=>{if(!p.current&&g.current){const f=(v,y,C)=>{if(!y.defaultMuiPrevented){var x;(x=g.current)==null||x.call(g,v,y,C)}};p.current=s.current.subscribeEvent(i,f,l)}return m.current&&e.registry&&(e.registry.unregister(m.current),m.current=null),()=>{var f;(f=p.current)==null||f.call(p),p.current=null}},[s,i,l])}}const PS={registry:null},Ge=_S(PS),IS={isFirst:!0};function Ot(e,t,o){Ge(e,t,o,IS)}function yn(e,t){const o=c.useRef(null);if(o.current)return o.current;const s=e.current.getLogger(t);return o.current=s,s}function TS(e){return typeof e=="number"&&!Number.isNaN(e)}function Kh(e){return typeof e=="function"}function Mc(e){return typeof e=="object"&&e!==null}function kS(){try{const e="__some_random_key_you_are_not_going_to_use__";return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch{return!1}}function Ti(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}const Kr=(e,t,o)=>Math.max(t,Math.min(o,e));function lr(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;if(Array.isArray(e)){const i=e.length;if(i!==t.length)return!1;for(let a=0;a<i;a+=1)if(!lr(e[a],t[a]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;const i=Array.from(e.entries());for(let a=0;a<i.length;a+=1)if(!t.has(i[a][0]))return!1;for(let a=0;a<i.length;a+=1){const l=i[a];if(!lr(l[1],t.get(l[0])))return!1}return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;const i=Array.from(e.entries());for(let a=0;a<i.length;a+=1)if(!t.has(i[a][0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){const i=e.length;if(i!==t.length)return!1;for(let a=0;a<i;a+=1)if(e[a]!==t[a])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();const o=Object.keys(e),s=o.length;if(s!==Object.keys(t).length)return!1;for(let i=0;i<s;i+=1)if(!Object.prototype.hasOwnProperty.call(t,o[i]))return!1;for(let i=0;i<s;i+=1){const a=o[i];if(!lr(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function MS(e){return()=>{let t=e+=1831565813;return t=Math.imul(t^t>>>15,t|1),t^=t+Math.imul(t^t>>>7,t|61),((t^t>>>14)>>>0)/4294967296}}function AS(e,t,o){const s=MS(e);return()=>t+(o-t)*s()}function Jh(e){return typeof structuredClone=="function"?structuredClone(e):JSON.parse(JSON.stringify(e))}const ES=(e,t,o,s,i)=>{const a=yn(e,"useNativeEventListener"),[l,d]=c.useState(!1),p=c.useRef(s),g=c.useCallback(m=>p.current&&p.current(m),[]);c.useEffect(()=>{p.current=s},[s]),c.useEffect(()=>{let m;if(Kh(t)?m=t():m=t&&t.current?t.current:null,m&&o&&!l){a.debug(`Binding native ${o} event`),m.addEventListener(o,g,i);const f=m;d(!0);const v=()=>{a.debug(`Clearing native ${o} event`),f.removeEventListener(o,g,i)};e.current.subscribeEvent("unmount",v)}},[t,g,o,l,a,i,e])},Vs=e=>{const t=c.useRef(!0);t.current&&(t.current=!1,e())},DS=100,RS=e=>e?0:100,qh=(e,t)=>t>0&&e>0?Math.ceil(e/t):0;go(["MUI: the 'rowCount' prop is undefined while using paginationMode='server'","For more detail, see http://mui.com/components/data-grid/pagination/#basic-implementation"],"error");const Xh=e=>({page:0,pageSize:e?0:100}),LS=(e,t=0)=>t===0?e:Math.max(Math.min(e,t-1),0),Yh=(e,t)=>{if(t===ho.DataGrid&&e>DS)throw new Error(["MUI: `pageSize` cannot exceed 100 in the MIT version of the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join(`
`))},Ac=e=>e.pagination,Gn=Qe(Ac,e=>e.paginationModel),$r=Qe(Ac,e=>e.rowCount),FS=Qe(Gn,e=>e.page),Qh=Qe(Gn,e=>e.pageSize),OS=Qe(Qh,$r,(e,t)=>qh(t,e)),Ec=$t(Gn,Xn,ga,Zo,Mh,(e,t,o,s,i)=>{const a=i.length,l=Math.min(e.pageSize*e.page,a-1),d=Math.min(l+e.pageSize-1,a-1);if(l===-1||d===-1)return null;if(o<2)return{firstRowIndex:l,lastRowIndex:d};const p=i[l],g=d-l+1,m=s.findIndex(C=>C.id===p.id);let f=m,v=0;for(;f<s.length&&v<=g;){var y;const C=s[f],x=(y=t[C.id])==null?void 0:y.depth;x===void 0?f+=1:((v<g||x>0)&&(f+=1),x===0&&(v+=1))}return{firstRowIndex:m,lastRowIndex:f-1}}),NS=$t(Zo,Ec,(e,t)=>t?e.slice(t.firstRowIndex,t.lastRowIndex+1):[]),em=$t(Ps,Ec,(e,t)=>t?e.slice(t.firstRowIndex,t.lastRowIndex+1):[]),dr=e=>e.preferencePanel;var no=function(e){return e.filters="filters",e.columns="columns",e}(no||{});const Ds=e=>e.rowsMeta,Vn=e=>e.rowSelection,zS=Qe(Vn,e=>e.length),$S=$t(Vn,Po,(e,t)=>new Map(e.map(o=>[o,t[o]]))),Zi=$t(Vn,e=>e.reduce((t,o)=>(t[o]=o,t),{})),BS=go(["MUI: The `sortModel` can only contain a single item when the `disableMultipleColumnsSorting` prop is set to `true`.","If you are using the community version of the `DataGrid`, this prop is always `true`."],"error"),tm=(e,t)=>t&&e.length>1?(BS(),[e[0]]):e,Pd=(e,t)=>o=>I({},o,{sorting:I({},o.sorting,{sortModel:tm(e,t)})}),HS=e=>e==="desc",jS=(e,t)=>{const o=t.current.getColumn(e.field);if(!o)return null;const s=HS(e.sort)?(...a)=>-1*o.sortComparator(...a):o.sortComparator;return{getSortCellParams:a=>({id:a,field:o.field,rowNode:t.current.getRowNode(a),value:t.current.getCellValue(a,o.field),api:t.current}),comparator:s}},GS=(e,t,o)=>e.reduce((s,i,a)=>{if(s!==0)return s;const l=t.params[a],d=o.params[a];return s=i.comparator(l.value,d.value,l,d),s},0),VS=(e,t)=>{const o=e.map(s=>jS(s,t)).filter(s=>!!s);return o.length===0?null:s=>s.map(i=>({node:i,params:o.map(a=>a.getSortCellParams(i.id))})).sort((i,a)=>GS(o,i,a)).map(i=>i.node.id)},Id=(e,t)=>{const o=e.indexOf(t);return!t||o===-1||o+1===e.length?e[0]:e[o+1]},Dc=(e,t)=>e==null&&t!=null?-1:t==null&&e!=null?1:e==null&&t==null?0:null,WS=new Intl.Collator,ZS=(e,t)=>{const o=Dc(e,t);return o!==null?o:typeof e=="string"?WS.compare(e.toString(),t.toString()):e-t},nm=(e,t)=>{const o=Dc(e,t);return o!==null?o:Number(e)-Number(t)},om=(e,t)=>{const o=Dc(e,t);return o!==null?o:e>t?1:e<t?-1:0},rm=e=>e.headerFiltering,US=Qe(rm,e=>e.editing),KS=Qe(rm,e=>e.menuOpen),JS=(e,t)=>{const o={enabled:!t.disableVirtualization,enabledForColumns:!0};return I({},e,{virtualization:o})};function qS(e,t){const o=a=>{e.current.setState(l=>I({},l,{virtualization:I({},l.virtualization,{enabled:a})}))};it(e,{unstable_setVirtualization:o,unstable_setColumnVirtualization:a=>{e.current.setState(l=>I({},l,{virtualization:I({},l.virtualization,{enabledForColumns:a})}))}},"public"),c.useEffect(()=>{o(!t.disableVirtualization)},[t.disableVirtualization])}const sm=e=>e.virtualization,XS=Qe(sm,e=>e.enabled),im=Qe(sm,e=>e.enabledForColumns),YS=e=>{const{classes:t}=e;return ht({icon:["filterIcon"]},mt,t)};function QS(e){var t,o;const{counter:s,field:i,onClick:a}=e,l=dt(),d=je(),p=I({},e,{classes:d.classes}),g=YS(p),m=Re(l,dr),f=Bt(),v=Bt(),y=c.useCallback(S=>{S.preventDefault(),S.stopPropagation();const{open:_,openedPanelValue:P}=dr(l.current.state);_&&P===no.filters?l.current.hideFilterPanel():l.current.showFilterPanel(void 0,v,f),a&&a(l.current.getColumnHeaderParams(i),S)},[l,i,a,v,f]);if(!s)return null;const C=m.open&&m.labelId===f,x=h.jsx(d.slots.baseIconButton,I({id:f,onClick:y,color:"default","aria-label":l.current.getLocaleText("columnHeaderFiltersLabel"),size:"small",tabIndex:-1,"aria-haspopup":"menu","aria-expanded":C,"aria-controls":C?v:void 0},(t=d.slotProps)==null?void 0:t.baseIconButton,{children:h.jsx(d.slots.columnFilteredIcon,{className:g.icon,fontSize:"small"})}));return h.jsx(d.slots.baseTooltip,I({title:l.current.getLocaleText("columnHeaderFiltersTooltipActive")(s),enterDelay:1e3},(o=d.slotProps)==null?void 0:o.baseTooltip,{children:h.jsxs(Wh,{children:[s>1&&h.jsx(rc,{badgeContent:s,color:"default",children:x}),s===1&&x]})}))}const e_=["field","id","value","formattedValue","row","rowNode","colDef","isEditable","cellMode","hasFocus","tabIndex","api"],t_=e=>{const{classes:t}=e;return ht({root:["checkboxInput"]},mt,t)},n_=c.forwardRef(function(t,o){var s;const{field:i,id:a,value:l,rowNode:d,hasFocus:p,tabIndex:g}=t,m=Ne(t,e_),f=dt(),v=je(),y={classes:v.classes},C=t_(y),x=c.useRef(null),S=c.useRef(null),_=Vo(x,o),P=f.current.getCellElement(a,i),z=M=>{const A={value:M.target.checked,id:a};f.current.publishEvent("rowSelectionCheckboxChange",A,M)};c.useLayoutEffect(()=>{g===0&&P&&(P.tabIndex=-1)},[P,g]),c.useEffect(()=>{if(p){var M;const A=(M=x.current)==null?void 0:M.querySelector("input");A==null||A.focus({preventScroll:!0})}else S.current&&S.current.stop({})},[p]);const D=c.useCallback(M=>{jh(M.key)&&M.stopPropagation()},[]);if(d.type==="footer"||d.type==="pinnedRow")return null;const j=f.current.isRowSelectable(a),k=f.current.getLocaleText(l?"checkboxSelectionUnselectRow":"checkboxSelectionSelectRow");return h.jsx(v.slots.baseCheckbox,I({ref:_,tabIndex:g,checked:l,onChange:z,className:C.root,inputProps:{"aria-label":k},onKeyDown:D,disabled:!j,touchRippleRef:S},(s=v.slotProps)==null?void 0:s.baseCheckbox,m))}),o_=n_,r_=["field","colDef"],s_=e=>{const{classes:t}=e;return ht({root:["checkboxInput"]},mt,t)},i_=c.forwardRef(function(t,o){var s;const i=Ne(t,r_),[,a]=c.useState(!1),l=dt(),d=je(),p={classes:d.classes},g=s_(p),m=Re(l,Rh),f=Re(l,Vn),v=Re(l,Ps),y=Re(l,em),C=c.useMemo(()=>typeof d.isRowSelectable!="function"?f:f.filter(A=>l.current.getRow(A)?d.isRowSelectable(l.current.getRowParams(A)):!1),[l,d.isRowSelectable,f]),x=c.useMemo(()=>(!d.pagination||!d.checkboxSelectionVisibleOnly?v:y).reduce((N,F)=>(N[F]=!0,N),{}),[d.pagination,d.checkboxSelectionVisibleOnly,y,v]),S=c.useMemo(()=>C.filter(A=>x[A]).length,[C,x]),_=S>0&&S<Object.keys(x).length,P=S>0,z=A=>{const N={value:A.target.checked};l.current.publishEvent("headerSelectionCheckboxChange",N)},D=m!==null&&m.field===t.field?0:-1;c.useLayoutEffect(()=>{const A=l.current.getColumnHeaderElement(t.field);D===0&&A&&(A.tabIndex=-1)},[D,l,t.field]);const j=c.useCallback(A=>{A.key===" "&&l.current.publishEvent("headerSelectionCheckboxChange",{value:!P})},[l,P]),k=c.useCallback(()=>{a(A=>!A)},[]);c.useEffect(()=>l.current.subscribeEvent("rowSelectionChange",k),[l,k]);const M=l.current.getLocaleText(P?"checkboxSelectionUnselectAllRows":"checkboxSelectionSelectAllRows");return h.jsx(d.slots.baseCheckbox,I({ref:o,indeterminate:_,checked:P,onChange:z,className:g.root,inputProps:{"aria-label":M},tabIndex:D,onKeyDown:j},(s=d.slotProps)==null?void 0:s.baseCheckbox,i))}),Td=at(h.jsx("path",{d:"M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"}),"ArrowUpward"),kd=at(h.jsx("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward"),Md=at(h.jsx("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"KeyboardArrowRight"),Ad=at(h.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),a_=at(h.jsx("path",{d:"M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"}),"FilterList"),Ed=at(h.jsx("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61z"}),"FilterAlt"),l_=at(h.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");at(h.jsx("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu");at(h.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckCircle");const c_=at(h.jsx("path",{d:"M6 5H3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm14 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm-7 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1z"}),"ColumnIcon"),u_=at(h.jsx("path",{d:"M11 19V5h2v14z"}),"Separator"),d_=at(h.jsx("path",{d:"M4 15h16v-2H4v2zm0 4h16v-2H4v2zm0-8h16V9H4v2zm0-6v2h16V5H4z"}),"ViewHeadline"),p_=at(h.jsx("path",{d:"M21,8H3V4h18V8z M21,10H3v4h18V10z M21,16H3v4h18V16z"}),"TableRows"),h_=at(h.jsx("path",{d:"M4 18h17v-6H4v6zM4 5v6h17V5H4z"}),"ViewStream"),m_=at(h.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"TripleDotsVertical"),pl=at(h.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),Dd=at(h.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add"),f_=at(h.jsx("path",{d:"M19 13H5v-2h14v2z"}),"Remove"),g_=at(h.jsx("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"}),"Load"),Rd=at(h.jsx("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"Drag"),v_=at(h.jsx("path",{d:"M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z"}),"SaveAlt"),b_=at(h.jsx("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),y_=at(h.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert"),C_=at(h.jsx("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"}),"VisibilityOff"),x_=at(h.jsx("g",{children:h.jsx("path",{d:"M14.67,5v14H9.33V5H14.67z M15.67,19H21V5h-5.33V19z M8.33,19V5H3v14H8.33z"})}),"ViewColumn"),w_=at(h.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");at(h.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");const S_=at(h.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}),"Delete"),__=["hideMenu","colDef","id","labelledby","className","children","open"],P_=Le(Kl)(()=>({minWidth:248})),I_=c.forwardRef(function(t,o){const{hideMenu:s,id:i,labelledby:a,className:l,children:d,open:p}=t,g=Ne(t,__),m=c.useCallback(f=>{Ic(f.key)&&f.preventDefault(),Vh(f.key)&&s(f)},[s]);return h.jsx(P_,I({id:i,ref:o,className:He(J.menuList,l),"aria-labelledby":a,onKeyDown:m,autoFocus:p},g,{children:d}))}),T_=["displayOrder"],k_=e=>{const t=Wo(),{defaultSlots:o,defaultSlotProps:s,slots:i={},slotProps:a={},hideMenu:l,colDef:d,addDividers:p=!0}=e,g=c.useMemo(()=>I({},o,i),[o,i]),m=c.useMemo(()=>{if(!a||Object.keys(a).length===0)return s;const y=I({},a);return Object.entries(s).forEach(([C,x])=>{y[C]=I({},x,a[C]||{})}),y},[s,a]),f=t.current.unstable_applyPipeProcessors("columnMenu",[],e.colDef),v=c.useMemo(()=>{const y=Object.keys(o);return Object.keys(i).filter(C=>!y.includes(C))},[i,o]);return c.useMemo(()=>{const x=Array.from(new Set([...f,...v])).filter(S=>g[S]!=null).sort((S,_)=>{const P=m[S],z=m[_],D=Number.isFinite(P==null?void 0:P.displayOrder)?P.displayOrder:100,j=Number.isFinite(z==null?void 0:z.displayOrder)?z.displayOrder:100;return D-j});return x.reduce((S,_,P)=>{let z={colDef:d,onClick:l};const D=m[_];if(D){const j=Ne(D,T_);z=I({},z,j)}return p&&P!==x.length-1?[...S,[g[_],z],[ur,{}]]:[...S,[g[_],z]]},[])},[p,d,f,l,g,m,v])};function M_(e){const{colDef:t,onClick:o}=e,s=dt(),i=je(),d=bn(s).filter(g=>g.disableColumnMenu!==!0).length===1,p=c.useCallback(g=>{d||(s.current.setColumnVisibility(t.field,!1),o(g))},[s,t.field,o,d]);return i.disableColumnSelector||t.hideable===!1?null:h.jsxs(hn,{onClick:p,disabled:d,children:[h.jsx(uo,{children:h.jsx(i.slots.columnMenuHideIcon,{fontSize:"small"})}),h.jsx(Zn,{children:s.current.getLocaleText("columnMenuHideColumn")})]})}function A_(e){const{onClick:t}=e,o=dt(),s=je(),i=c.useCallback(a=>{t(a),o.current.showPreferences(no.columns)},[o,t]);return s.disableColumnSelector?null:h.jsxs(hn,{onClick:i,children:[h.jsx(uo,{children:h.jsx(s.slots.columnMenuManageColumnsIcon,{fontSize:"small"})}),h.jsx(Zn,{children:o.current.getLocaleText("columnMenuManageColumns")})]})}function E_(e){return h.jsxs(c.Fragment,{children:[h.jsx(M_,I({},e)),h.jsx(A_,I({},e))]})}function D_(e){const{colDef:t,onClick:o}=e,s=dt(),i=je(),a=c.useCallback(l=>{o(l),s.current.showFilterPanel(t.field)},[s,t.field,o]);return i.disableColumnFilter||!t.filterable?null:h.jsxs(hn,{onClick:a,children:[h.jsx(uo,{children:h.jsx(i.slots.columnMenuFilterIcon,{fontSize:"small"})}),h.jsx(Zn,{children:s.current.getLocaleText("columnMenuFilter")})]})}function R_(e){var t;const{colDef:o,onClick:s}=e,i=dt(),a=Re(i,jn),l=je(),d=c.useMemo(()=>{if(!o)return null;const f=a.find(v=>v.field===o.field);return f==null?void 0:f.sort},[o,a]),p=(t=o.sortingOrder)!=null?t:l.sortingOrder,g=c.useCallback(f=>{s(f);const v=f.currentTarget.getAttribute("data-value")||null;i.current.sortColumn(o,v===d?null:v)},[i,o,s,d]);if(!o||!o.sortable||!p.some(f=>!!f))return null;const m=f=>{const v=i.current.getLocaleText(f);return typeof v=="function"?v(o):v};return h.jsxs(c.Fragment,{children:[p.includes("asc")&&d!=="asc"?h.jsxs(hn,{onClick:g,"data-value":"asc",children:[h.jsx(uo,{children:h.jsx(l.slots.columnMenuSortAscendingIcon,{fontSize:"small"})}),h.jsx(Zn,{children:m("columnMenuSortAsc")})]}):null,p.includes("desc")&&d!=="desc"?h.jsxs(hn,{onClick:g,"data-value":"desc",children:[h.jsx(uo,{children:h.jsx(l.slots.columnMenuSortDescendingIcon,{fontSize:"small"})}),h.jsx(Zn,{children:m("columnMenuSortDesc")})]}):null,p.includes(null)&&d!=null?h.jsxs(hn,{onClick:g,children:[h.jsx(uo,{}),h.jsx(Zn,{children:i.current.getLocaleText("columnMenuUnsort")})]}):null]})}const L_=["defaultSlots","defaultSlotProps","slots","slotProps"],F_={columnMenuSortItem:R_,columnMenuFilterItem:D_,columnMenuColumnsItem:E_},O_={columnMenuSortItem:{displayOrder:10},columnMenuFilterItem:{displayOrder:20},columnMenuColumnsItem:{displayOrder:30}},N_=c.forwardRef(function(t,o){const{defaultSlots:s,defaultSlotProps:i,slots:a,slotProps:l}=t,d=Ne(t,L_),p=k_(I({},d,{defaultSlots:s,defaultSlotProps:i,slots:a,slotProps:l}));return h.jsx(I_,I({ref:o},d,{children:p.map(([g,m],f)=>h.jsx(g,I({},m),f))}))}),z_=c.forwardRef(function(t,o){return h.jsx(N_,I({},t,{ref:o,defaultSlots:F_,defaultSlotProps:O_}))}),$_=["className"],B_=e=>{const{classes:t}=e;return ht({root:["panelContent"]},mt,t)},H_=fn("div",{name:"MuiDataGrid",slot:"PanelContent",overridesResolver:(e,t)=>t.panelContent})({display:"flex",flexDirection:"column",overflow:"auto",flex:"1 1",maxHeight:400});function am(e){const{className:t}=e,o=Ne(e,$_),s=je(),i=B_(s);return h.jsx(H_,I({className:He(t,i.root),ownerState:s},o))}const j_=["className"],G_=e=>{const{classes:t}=e;return ht({root:["panelFooter"]},mt,t)},V_=fn("div",{name:"MuiDataGrid",slot:"PanelFooter",overridesResolver:(e,t)=>t.panelFooter})(({theme:e})=>({padding:e.spacing(.5),display:"flex",justifyContent:"space-between"}));function lm(e){const{className:t}=e,o=Ne(e,j_),s=je(),i=G_(s);return h.jsx(V_,I({className:He(t,i.root),ownerState:s},o))}const W_=["className"],Z_=e=>{const{classes:t}=e;return ht({root:["panelHeader"]},mt,t)},U_=fn("div",{name:"MuiDataGrid",slot:"PanelHeader",overridesResolver:(e,t)=>t.panelHeader})(({theme:e})=>({padding:e.spacing(1)}));function K_(e){const{className:t}=e,o=Ne(e,W_),s=je(),i=Z_(s);return h.jsx(U_,I({className:He(t,i.root),ownerState:s},o))}const J_=["className","slotProps"],q_=e=>{const{classes:t}=e;return ht({root:["panelWrapper"]},mt,t)},X_=Le("div",{name:"MuiDataGrid",slot:"PanelWrapper",overridesResolver:(e,t)=>t.panelWrapper})({display:"flex",flexDirection:"column",flex:1,"&:focus":{outline:0}}),Y_=()=>!0,cm=c.forwardRef(function(t,o){const{className:s,slotProps:i={}}=t,a=Ne(t,J_),l=je(),d=q_(l);return h.jsx(wg,I({open:!0,disableEnforceFocus:!0,isEnabled:Y_},i.TrapFocus,{children:h.jsx(X_,I({ref:o,tabIndex:-1,className:He(s,d.root),ownerState:l},a))}))}),Q_=!1,e1=["sort","searchPredicate","autoFocusSearchField","disableHideAllButton","disableShowAllButton","getTogglableColumns"],t1=e=>{const{classes:t}=e;return ht({root:["columnsPanel"],columnsPanelRow:["columnsPanelRow"]},mt,t)},n1=Le("div",{name:"MuiDataGrid",slot:"ColumnsPanel",overridesResolver:(e,t)=>t.columnsPanel})({padding:"8px 0px 8px 8px"}),o1=Le("div",{name:"MuiDataGrid",slot:"ColumnsPanelRow",overridesResolver:(e,t)=>t.columnsPanelRow})(({theme:e})=>({display:"flex",justifyContent:"space-between",padding:"1px 8px 1px 7px",[`& .${xn.root}`]:{marginRight:e.spacing(.5)}}));Le(pn)({justifyContent:"flex-end"});const Ld=new Intl.Collator,r1=(e,t)=>(e.headerName||e.field).toLowerCase().indexOf(t)>-1;function s1(e){var t,o,s;const i=dt(),a=c.useRef(null),l=Re(i,po),d=Re(i,Yn),p=je(),[g,m]=c.useState(""),f=t1(p),{sort:v,searchPredicate:y=r1,autoFocusSearchField:C=!0,disableHideAllButton:x=!1,disableShowAllButton:S=!1,getTogglableColumns:_}=e,P=Ne(e,e1),z=c.useMemo(()=>{switch(v){case"asc":return[...l].sort(($,G)=>Ld.compare($.headerName||$.field,G.headerName||G.field));case"desc":return[...l].sort(($,G)=>-Ld.compare($.headerName||$.field,G.headerName||G.field));default:return l}},[l,v]),D=$=>{const{name:G}=$.target;i.current.setColumnVisibility(G,d[G]===!1)},j=c.useCallback($=>{const G=Yn(i),H=I({},G),T=_?_(l):null;return l.forEach(E=>{E.hideable&&(T==null||T.includes(E.field))&&($?delete H[E.field]:H[E.field]=!1)}),i.current.setColumnVisibilityModel(H)},[i,l,_]),k=c.useCallback($=>{m($.target.value)},[]),M=c.useMemo(()=>{const $=_?_(z):null,G=$?z.filter(({field:H})=>$.includes(H)):z;return g?G.filter(H=>y(H,g.toLowerCase())):G},[z,g,y,_]),A=c.useRef(null);c.useEffect(()=>{C?a.current.focus():A.current&&typeof A.current.focus=="function"&&A.current.focus()},[C]);let N=!1;const F=$=>N===!1&&$.hideable!==!1?(N=!0,!0):!1;return h.jsxs(cm,I({},P,{children:[h.jsx(K_,{children:h.jsx(p.slots.baseTextField,I({label:i.current.getLocaleText("columnsPanelTextFieldLabel"),placeholder:i.current.getLocaleText("columnsPanelTextFieldPlaceholder"),inputRef:a,value:g,onChange:k,variant:"standard",fullWidth:!0},(t=p.slotProps)==null?void 0:t.baseTextField))}),h.jsx(am,{children:h.jsx(n1,{className:f.root,ownerState:p,children:M.map($=>{var G;return h.jsxs(o1,{className:f.columnsPanelRow,ownerState:p,children:[h.jsx(Gb,{control:h.jsx(p.slots.baseSwitch,I({disabled:$.hideable===!1,checked:d[$.field]!==!1,onClick:D,name:$.field,size:"small",inputRef:F($)?A:void 0},(G=p.slotProps)==null?void 0:G.baseSwitch)),label:$.headerName||$.field}),!p.disableColumnReorder&&Q_]},$.field)})})}),S&&x?null:h.jsxs(lm,{children:[x?h.jsx("span",{}):h.jsx(p.slots.baseButton,I({onClick:()=>j(!1)},(o=p.slotProps)==null?void 0:o.baseButton,{disabled:x,children:i.current.getLocaleText("columnsPanelHideAllButton")})),S?null:h.jsx(p.slots.baseButton,I({onClick:()=>j(!0)},(s=p.slotProps)==null?void 0:s.baseButton,{disabled:S,children:i.current.getLocaleText("columnsPanelShowAllButton")}))]})]}))}const i1=["children","className","classes"],a1=vh("MuiDataGrid",["panel","paper"]),l1=Le(qr,{name:"MuiDataGrid",slot:"Panel",overridesResolver:(e,t)=>t.panel})(({theme:e})=>({zIndex:e.zIndex.modal})),c1=Le(Nt,{name:"MuiDataGrid",slot:"Paper",overridesResolver:(e,t)=>t.paper})(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,minWidth:300,maxHeight:450,display:"flex"})),u1=c.forwardRef((e,t)=>{const{children:o,className:s}=e,i=Ne(e,i1),a=dt(),l=je(),d=a1,[p,g]=c.useState(!1),m=c.useCallback(()=>{a.current.hidePreferences()},[a]),f=c.useCallback(x=>{Vi(x.key)&&a.current.hidePreferences()},[a]),v=c.useMemo(()=>[{name:"flip",enabled:!0,options:{rootBoundary:"document"}},{name:"isPlaced",enabled:!0,phase:"main",fn:()=>{g(!0)},effect:()=>()=>{g(!1)}}],[]),[y,C]=c.useState(null);return c.useEffect(()=>{var x;const S=(x=a.current.rootElementRef)==null||(x=x.current)==null?void 0:x.querySelector(`.${J.columnHeaders}`);S&&C(S)},[a]),y?h.jsx(l1,I({ref:t,placement:"bottom-start",className:He(s,d.panel),ownerState:l,anchorEl:y,modifiers:v},i,{children:h.jsx(sc,{mouseEvent:"onMouseUp",onClickAway:m,children:h.jsx(c1,{className:d.paper,ownerState:l,elevation:8,onKeyDown:f,children:p&&o})})})):null}),d1=c.forwardRef(function(t,o){var s,i,a;const l=dt(),d=Re(l,po),p=je(),g=Re(l,dr),m=l.current.unstable_applyPipeProcessors("preferencePanel",null,(s=g.openedPanelValue)!=null?s:no.filters);return h.jsx(p.slots.panel,I({ref:o,as:p.slots.basePopper,open:d.length>0&&g.open,id:g.panelId,"aria-labelledby":g.labelId},(i=p.slotProps)==null?void 0:i.panel,t,(a=p.slotProps)==null?void 0:a.basePopper,{children:m}))}),p1=["item","hasMultipleFilters","deleteFilter","applyFilterChanges","multiFilterOperator","showMultiFilterOperators","disableMultiFilterOperator","applyMultiFilterOperatorChanges","focusElementRef","logicOperators","columnsSort","filterColumns","deleteIconProps","logicOperatorInputProps","operatorInputProps","columnInputProps","valueInputProps","children"],h1=["InputComponentProps"],m1=e=>{const{classes:t}=e;return ht({root:["filterForm"],deleteIcon:["filterFormDeleteIcon"],logicOperatorInput:["filterFormLogicOperatorInput"],columnInput:["filterFormColumnInput"],operatorInput:["filterFormOperatorInput"],valueInput:["filterFormValueInput"]},mt,t)},f1=Le("div",{name:"MuiDataGrid",slot:"FilterForm",overridesResolver:(e,t)=>t.filterForm})(({theme:e})=>({display:"flex",padding:e.spacing(1)})),g1=Le("div",{name:"MuiDataGrid",slot:"FilterFormDeleteIcon",overridesResolver:(e,t)=>t.filterFormDeleteIcon})(({theme:e})=>({flexShrink:0,justifyContent:"flex-end",marginRight:e.spacing(.5),marginBottom:e.spacing(.2)})),v1=Le("div",{name:"MuiDataGrid",slot:"FilterFormLogicOperatorInput",overridesResolver:(e,t)=>t.filterFormLogicOperatorInput})({minWidth:55,marginRight:5,justifyContent:"end"}),b1=Le("div",{name:"MuiDataGrid",slot:"FilterFormColumnInput",overridesResolver:(e,t)=>t.filterFormColumnInput})({width:150}),y1=Le("div",{name:"MuiDataGrid",slot:"FilterFormOperatorInput",overridesResolver:(e,t)=>t.filterFormOperatorInput})({width:120}),C1=Le("div",{name:"MuiDataGrid",slot:"FilterFormValueInput",overridesResolver:(e,t)=>t.filterFormValueInput})({width:190}),x1=e=>{switch(e){case En.And:return"filterPanelOperatorAnd";case En.Or:return"filterPanelOperatorOr";default:throw new Error("MUI: Invalid `logicOperator` property in the `GridFilterPanel`.")}},ps=e=>e.headerName||e.field,Fd=new Intl.Collator,w1=c.forwardRef(function(t,o){var s,i,a,l,d,p,g,m,f,v;const{item:y,hasMultipleFilters:C,deleteFilter:x,applyFilterChanges:S,multiFilterOperator:_,showMultiFilterOperators:P,disableMultiFilterOperator:z,applyMultiFilterOperatorChanges:D,focusElementRef:j,logicOperators:k=[En.And,En.Or],columnsSort:M,filterColumns:A,deleteIconProps:N={},logicOperatorInputProps:F={},operatorInputProps:$={},columnInputProps:G={},valueInputProps:H={}}=t,T=Ne(t,p1),E=dt(),B=Re(E,_h),W=Re(E,dn),R=Bt(),V=Bt(),Z=Bt(),q=Bt(),ee=je(),X=m1(ee),te=c.useRef(null),Y=c.useRef(null),ne=C&&k.length>0,U=((s=ee.slotProps)==null?void 0:s.baseFormControl)||{},Pe=(a=(((i=ee.slotProps)==null?void 0:i.baseSelect)||{}).native)!=null?a:!0,oe=((l=ee.slotProps)==null?void 0:l.baseInputLabel)||{},ue=((d=ee.slotProps)==null?void 0:d.baseSelectOption)||{},{InputComponentProps:he}=H,ie=Ne(H,h1),ge=c.useMemo(()=>{if(A===void 0||typeof A!="function")return B;const Ee=A({field:y.field,columns:B,currentFilters:(W==null?void 0:W.items)||[]});return B.filter(xe=>Ee.includes(xe.field))},[A,W==null?void 0:W.items,B,y.field]),de=c.useMemo(()=>{switch(M){case"asc":return ge.sort((Ee,xe)=>Fd.compare(ps(Ee),ps(xe)));case"desc":return ge.sort((Ee,xe)=>-Fd.compare(ps(Ee),ps(xe)));default:return ge}},[ge,M]),Ce=y.field?E.current.getColumn(y.field):null,se=c.useMemo(()=>{var Ee;return!y.operator||!Ce?null:(Ee=Ce.filterOperators)==null?void 0:Ee.find(xe=>xe.value===y.operator)},[y,Ce]),ye=c.useCallback(Ee=>{const xe=Ee.target.value,we=E.current.getColumn(xe);if(we.field===Ce.field)return;const Fe=we.filterOperators.find(Xe=>Xe.value===y.operator)||we.filterOperators[0],Ve=!Fe.InputComponent||Fe.InputComponent!==(se==null?void 0:se.InputComponent)||we.type!==Ce.type;S(I({},y,{field:xe,operator:Fe.value,value:Ve?void 0:y.value}))},[E,S,y,Ce,se]),Te=c.useCallback(Ee=>{const xe=Ee.target.value,we=Ce==null?void 0:Ce.filterOperators.find(Ve=>Ve.value===xe),Fe=!(we!=null&&we.InputComponent)||(we==null?void 0:we.InputComponent)!==(se==null?void 0:se.InputComponent);S(I({},y,{operator:xe,value:Fe?void 0:y.value}))},[S,y,Ce,se]),Ae=c.useCallback(Ee=>{const xe=Ee.target.value===En.And.toString()?En.And:En.Or;D(xe)},[D]),Oe=()=>{ee.disableMultipleColumnsFiltering?y.value===void 0?x(y):S(I({},y,{value:void 0})):x(y)};return c.useImperativeHandle(j,()=>({focus:()=>{if(se!=null&&se.InputComponent){var Ee;te==null||(Ee=te.current)==null||Ee.focus()}else Y.current.focus()}}),[se]),h.jsxs(f1,I({ref:o,className:X.root,"data-id":y.id,ownerState:ee},T,{children:[h.jsx(g1,I({variant:"standard",as:ee.slots.baseFormControl},U,N,{className:He(X.deleteIcon,U.className,N.className),ownerState:ee,children:h.jsx(ee.slots.baseIconButton,I({"aria-label":E.current.getLocaleText("filterPanelDeleteIconLabel"),title:E.current.getLocaleText("filterPanelDeleteIconLabel"),onClick:Oe,size:"small"},(p=ee.slotProps)==null?void 0:p.baseIconButton,{children:h.jsx(ee.slots.filterPanelDeleteIcon,{fontSize:"small"})}))})),h.jsx(v1,I({variant:"standard",as:ee.slots.baseFormControl},U,F,{sx:I({display:ne?"flex":"none",visibility:P?"visible":"hidden"},U.sx||{},F.sx||{}),className:He(X.logicOperatorInput,U.className,F.className),ownerState:ee,children:h.jsx(ee.slots.baseSelect,I({inputProps:{"aria-label":E.current.getLocaleText("filterPanelLogicOperator")},value:_,onChange:Ae,disabled:!!z||k.length===1,native:Pe},(g=ee.slotProps)==null?void 0:g.baseSelect,{children:k.map(Ee=>c.createElement(ee.slots.baseSelectOption,I({},ue,{native:Pe,key:Ee.toString(),value:Ee.toString()}),E.current.getLocaleText(x1(Ee))))}))})),h.jsxs(b1,I({variant:"standard",as:ee.slots.baseFormControl},U,G,{className:He(X.columnInput,U.className,G.className),ownerState:ee,children:[h.jsx(ee.slots.baseInputLabel,I({},oe,{htmlFor:R,id:V,children:E.current.getLocaleText("filterPanelColumns")})),h.jsx(ee.slots.baseSelect,I({labelId:V,id:R,label:E.current.getLocaleText("filterPanelColumns"),value:y.field||"",onChange:ye,native:Pe},(m=ee.slotProps)==null?void 0:m.baseSelect,{children:de.map(Ee=>c.createElement(ee.slots.baseSelectOption,I({},ue,{native:Pe,key:Ee.field,value:Ee.field}),ps(Ee)))}))]})),h.jsxs(y1,I({variant:"standard",as:ee.slots.baseFormControl},U,$,{className:He(X.operatorInput,U.className,$.className),ownerState:ee,children:[h.jsx(ee.slots.baseInputLabel,I({},oe,{htmlFor:Z,id:q,children:E.current.getLocaleText("filterPanelOperator")})),h.jsx(ee.slots.baseSelect,I({labelId:q,label:E.current.getLocaleText("filterPanelOperator"),id:Z,value:y.operator,onChange:Te,native:Pe,inputRef:Y},(f=ee.slotProps)==null?void 0:f.baseSelect,{children:Ce==null||(v=Ce.filterOperators)==null?void 0:v.map(Ee=>c.createElement(ee.slots.baseSelectOption,I({},ue,{native:Pe,key:Ee.value,value:Ee.value}),Ee.label||E.current.getLocaleText(`filterOperator${mo(Ee.value)}`)))}))]})),h.jsx(C1,I({variant:"standard",as:ee.slots.baseFormControl},U,ie,{className:He(X.valueInput,U.className,ie.className),ownerState:ee,children:se!=null&&se.InputComponent?h.jsx(se.InputComponent,I({apiRef:E,item:y,applyValue:S,focusElementRef:te},se.InputComponentProps,he)):null}))]}))});class Rc{constructor(){this.currentId=0,this.clear=()=>{this.currentId!==0&&(clearTimeout(this.currentId),this.currentId=0)},this.disposeEffect=()=>this.clear}static create(){return new Rc}start(t,o){this.clear(),this.currentId=setTimeout(o,t)}}function Lc(){const e=pc(Rc.create).current;return yh(e.disposeEffect),e}const S1=["item","applyValue","type","apiRef","focusElementRef","tabIndex","disabled","isFilterActive","clearButton","InputProps","variant"];function lo(e){var t,o;const{item:s,applyValue:i,type:a,apiRef:l,focusElementRef:d,tabIndex:p,disabled:g,clearButton:m,InputProps:f,variant:v="standard"}=e,y=Ne(e,S1),C=Lc(),[x,S]=c.useState((t=s.value)!=null?t:""),[_,P]=c.useState(!1),z=Bt(),D=je(),j=c.useCallback(k=>{const{value:M}=k.target;S(String(M)),P(!0),C.start(D.filterDebounceMs,()=>{const A=I({},s,{value:M,fromInput:z});i(A),P(!1)})},[z,i,s,D.filterDebounceMs,C]);return c.useEffect(()=>{if(s.fromInput!==z||s.value===void 0){var M;S(String((M=s.value)!=null?M:""))}},[z,s]),h.jsx(D.slots.baseTextField,I({id:z,label:l.current.getLocaleText("filterPanelInputLabel"),placeholder:l.current.getLocaleText("filterPanelInputPlaceholder"),value:x,onChange:j,variant:v,type:a||"text",InputProps:I({},_||m?{endAdornment:_?h.jsx(D.slots.loadIcon,{fontSize:"small",color:"action"}):m}:{},{disabled:g},f,{inputProps:I({tabIndex:p},f==null?void 0:f.inputProps)}),InputLabelProps:{shrink:!0},inputRef:d},y,(o=D.slotProps)==null?void 0:o.baseTextField))}const _1=["item","applyValue","type","apiRef","focusElementRef","InputProps","isFilterActive","clearButton","tabIndex","disabled"];function Mr(e){var t,o;const{item:s,applyValue:i,type:a,apiRef:l,focusElementRef:d,InputProps:p,clearButton:g,tabIndex:m,disabled:f}=e,v=Ne(e,_1),y=Lc(),[C,x]=c.useState((t=s.value)!=null?t:""),[S,_]=c.useState(!1),P=Bt(),z=je(),D=c.useCallback(j=>{const k=j.target.value;x(String(k)),_(!0),y.start(z.filterDebounceMs,()=>{i(I({},s,{value:k})),_(!1)})},[i,s,z.filterDebounceMs,y]);return c.useEffect(()=>{var j;const k=(j=s.value)!=null?j:"";x(String(k))},[s.value]),h.jsx(z.slots.baseTextField,I({fullWidth:!0,id:P,label:l.current.getLocaleText("filterPanelInputLabel"),placeholder:l.current.getLocaleText("filterPanelInputPlaceholder"),value:C,onChange:D,variant:"standard",type:a||"text",InputLabelProps:{shrink:!0},inputRef:d,InputProps:I({},S||g?{endAdornment:S?h.jsx(z.slots.loadIcon,{fontSize:"small",color:"action"}):g}:{},{disabled:f},p,{inputProps:I({max:a==="datetime-local"?"9999-12-31T23:59":"9999-12-31",tabIndex:m},p==null?void 0:p.inputProps)})},v,(o=z.slotProps)==null?void 0:o.baseTextField))}const P1=["item","applyValue","type","apiRef","focusElementRef","getOptionLabel","getOptionValue","placeholder","tabIndex","label","variant","isFilterActive","clearButton","InputLabelProps"],I1=({column:{valueOptions:e,field:t},OptionComponent:o,getOptionLabel:s,getOptionValue:i,isSelectNative:a,baseSelectOptionProps:l})=>(typeof e=="function"?["",...e({field:t})]:["",...e||[]]).map(p=>{const g=i(p),m=s(p);return c.createElement(o,I({},l,{native:a,key:g,value:g}),m)}),T1=Le("div")({display:"flex",alignItems:"flex-end",width:"100%","& button":{margin:"auto 0px 5px 5px"}});function Od(e){var t,o,s,i,a,l,d,p;const{item:g,applyValue:m,type:f,apiRef:v,focusElementRef:y,getOptionLabel:C,getOptionValue:x,placeholder:S,tabIndex:_,label:P,variant:z="standard",clearButton:D}=e,j=Ne(e,P1),[k,M]=c.useState((t=g.value)!=null?t:""),A=Bt(),N=Bt(),F=je(),$=(o=(s=F.slotProps)==null||(s=s.baseSelect)==null?void 0:s.native)!=null?o:!0;let G=null;if(g.field){const R=v.current.getColumn(g.field);ar(R)&&(G=R)}const H=x||((i=G)==null?void 0:i.getOptionValue),T=C||((a=G)==null?void 0:a.getOptionLabel),E=c.useMemo(()=>{if(G)return typeof G.valueOptions=="function"?G.valueOptions({field:G.field}):G.valueOptions},[G]),B=c.useCallback(R=>{let V=R.target.value;V=Dl(V,E,H),M(String(V)),m(I({},g,{value:V}))},[E,H,m,g]);if(c.useEffect(()=>{var R;let V;if(E!==void 0){if(V=Dl(g.value,E,H),V!==g.value){m(I({},g,{value:V}));return}}else V=g.value;V=(R=V)!=null?R:"",M(String(V))},[g,E,m,H]),!ar(G)||!ar(G))return null;const W=P??v.current.getLocaleText("filterPanelInputLabel");return h.jsxs(T1,{children:[h.jsxs(F.slots.baseFormControl,{children:[h.jsx(F.slots.baseInputLabel,I({},(l=F.slotProps)==null?void 0:l.baseInputLabel,{id:N,htmlFor:A,shrink:!0,variant:z,children:W})),h.jsx(F.slots.baseSelect,I({id:A,label:W,labelId:N,value:k,onChange:B,variant:z,type:f||"text",inputProps:{tabIndex:_,ref:y,placeholder:S??v.current.getLocaleText("filterPanelInputPlaceholder")},native:$,notched:z==="outlined"?!0:void 0},j,(d=F.slotProps)==null?void 0:d.baseSelect,{children:I1({column:G,OptionComponent:F.slots.baseSelectOption,getOptionLabel:T,getOptionValue:H,isSelectNative:$,baseSelectOptionProps:(p=F.slotProps)==null?void 0:p.baseSelectOption})}))]}),D]})}const k1=["item","applyValue","apiRef","focusElementRef","isFilterActive","clearButton","tabIndex","label","variant","InputLabelProps"],M1=Le("div")({display:"flex",alignItems:"center",width:"100%","& button":{margin:"auto 0px 5px 5px"}});function A1(e){var t,o,s,i;const{item:a,applyValue:l,apiRef:d,focusElementRef:p,clearButton:g,tabIndex:m,label:f,variant:v="standard"}=e,y=Ne(e,k1),[C,x]=c.useState(a.value||""),S=je(),_=Bt(),P=Bt(),z=((t=S.slotProps)==null?void 0:t.baseSelect)||{},D=(o=z.native)!=null?o:!0,j=((s=S.slotProps)==null?void 0:s.baseSelectOption)||{},k=c.useCallback(A=>{const N=A.target.value;x(N),l(I({},a,{value:N}))},[l,a]);c.useEffect(()=>{x(a.value||"")},[a.value]);const M=f??d.current.getLocaleText("filterPanelInputLabel");return h.jsxs(M1,{children:[h.jsxs(S.slots.baseFormControl,{fullWidth:!0,children:[h.jsx(S.slots.baseInputLabel,I({},(i=S.slotProps)==null?void 0:i.baseInputLabel,{id:_,shrink:!0,variant:v,children:M})),h.jsxs(S.slots.baseSelect,I({labelId:_,id:P,label:M,value:C,onChange:k,variant:v,notched:v==="outlined"?!0:void 0,native:D,displayEmpty:!0,inputProps:{ref:p,tabIndex:m}},y,z,{children:[h.jsx(S.slots.baseSelectOption,I({},j,{native:D,value:"",children:d.current.getLocaleText("filterValueAny")})),h.jsx(S.slots.baseSelectOption,I({},j,{native:D,value:"true",children:d.current.getLocaleText("filterValueTrue")})),h.jsx(S.slots.baseSelectOption,I({},j,{native:D,value:"false",children:d.current.getLocaleText("filterValueFalse")}))]}))]}),g]})}const E1=["logicOperators","columnsSort","filterFormProps","getColumnForNewFilter","children","disableAddFilterButton","disableRemoveAllButton"],Nd=e=>({field:e.field,operator:e.filterOperators[0].value,id:Math.round(Math.random()*1e5)}),D1=c.forwardRef(function(t,o){var s,i;const a=dt(),l=je(),d=Re(a,dn),p=Re(a,_h),g=c.useRef(null),m=c.useRef(null),{logicOperators:f=[En.And,En.Or],columnsSort:v,filterFormProps:y,getColumnForNewFilter:C,disableAddFilterButton:x=!1,disableRemoveAllButton:S=!1}=t,_=Ne(t,E1),P=a.current.upsertFilterItem,z=c.useCallback($=>{a.current.setFilterLogicOperator($)},[a]),D=c.useCallback(()=>{let $;if(C&&typeof C=="function"){const G=C({currentFilters:(d==null?void 0:d.items)||[],columns:p});if(G===null)return null;$=p.find(({field:H})=>H===G)}else $=p.find(G=>{var H;return(H=G.filterOperators)==null?void 0:H.length});return $?Nd($):null},[d==null?void 0:d.items,p,C]),j=c.useCallback(()=>{if(C===void 0||typeof C!="function")return D();const $=d.items.length?d.items:[D()].filter(Boolean),G=C({currentFilters:$,columns:p});if(G===null)return null;const H=p.find(({field:T})=>T===G);return H?Nd(H):null},[d.items,p,C,D]),k=c.useMemo(()=>d.items.length?d.items:(m.current||(m.current=D()),m.current?[m.current]:[]),[d.items,D]),M=k.length>1,A=()=>{const $=j();$&&a.current.upsertFilterItems([...k,$])},N=c.useCallback($=>{const G=k.length===1;a.current.deleteFilterItem($),G&&a.current.hideFilterPanel()},[a,k.length]),F=()=>{k.length===1&&k[0].value===void 0&&(a.current.deleteFilterItem(k[0]),a.current.hideFilterPanel()),a.current.setFilterModel(I({},d,{items:[]}))};return c.useEffect(()=>{f.length>0&&d.logicOperator&&!f.includes(d.logicOperator)&&z(f[0])},[f,z,d.logicOperator]),c.useEffect(()=>{k.length>0&&g.current.focus()},[k.length]),h.jsxs(cm,I({ref:o},_,{children:[h.jsx(am,{children:k.map(($,G)=>h.jsx(w1,I({item:$,applyFilterChanges:P,deleteFilter:N,hasMultipleFilters:M,showMultiFilterOperators:G>0,multiFilterOperator:d.logicOperator,disableMultiFilterOperator:G!==1,applyMultiFilterOperatorChanges:z,focusElementRef:G===k.length-1?g:null,logicOperators:f,columnsSort:v},y),$.id==null?G:$.id))}),!l.disableMultipleColumnsFiltering&&!(x&&S)?h.jsxs(lm,{children:[x?h.jsx("span",{}):h.jsx(l.slots.baseButton,I({onClick:A,startIcon:h.jsx(l.slots.filterPanelAddIcon,{})},(s=l.slotProps)==null?void 0:s.baseButton,{children:a.current.getLocaleText("filterPanelAddFilter")})),S?null:h.jsx(l.slots.baseButton,I({onClick:F,startIcon:h.jsx(l.slots.filterPanelRemoveAllIcon,{})},(i=l.slotProps)==null?void 0:i.baseButton,{children:a.current.getLocaleText("filterPanelRemoveAll")}))]}):null]}))}),R1=["item","applyValue","type","apiRef","focusElementRef","color","error","helperText","size","variant"];function um(e){const{item:t,applyValue:o,type:s,apiRef:i,focusElementRef:a,color:l,error:d,helperText:p,size:g,variant:m}=e,f=Ne(e,R1),v={color:l,error:d,helperText:p,size:g,variant:m},[y,C]=c.useState(t.value||[]),x=Bt(),S=je();c.useEffect(()=>{var P;const z=(P=t.value)!=null?P:[];C(z.map(String))},[t.value]);const _=c.useCallback((P,z)=>{C(z.map(String)),o(I({},t,{value:[...z]}))},[o,t]);return h.jsx(Ns,I({multiple:!0,freeSolo:!0,options:[],filterOptions:(P,z)=>{const{inputValue:D}=z;return D==null||D===""?[]:[D]},id:x,value:y,onChange:_,renderTags:(P,z)=>P.map((D,j)=>h.jsx(S.slots.baseChip,I({variant:"outlined",size:"small",label:D},z({index:j})))),renderInput:P=>{var z;return h.jsx(S.slots.baseTextField,I({},P,{label:i.current.getLocaleText("filterPanelInputLabel"),placeholder:i.current.getLocaleText("filterPanelInputPlaceholder"),InputLabelProps:I({},P.InputLabelProps,{shrink:!0}),inputRef:a,type:s||"text"},v,(z=S.slotProps)==null?void 0:z.baseTextField))}},f))}const L1=["item","applyValue","type","apiRef","focusElementRef","color","error","helperText","size","variant","getOptionLabel","getOptionValue"],F1=Zp();function O1(e){var t,o;const{item:s,applyValue:i,apiRef:a,focusElementRef:l,color:d,error:p,helperText:g,size:m,variant:f="standard",getOptionLabel:v,getOptionValue:y}=e,C=Ne(e,L1),x={color:d,error:p,helperText:g,size:m,variant:f},S=Bt(),_=je();let P=null;if(s.field){const F=a.current.getColumn(s.field);ar(F)&&(P=F)}const z=y||((t=P)==null?void 0:t.getOptionValue),D=v||((o=P)==null?void 0:o.getOptionLabel),j=c.useCallback((F,$)=>z(F)===z($),[z]),k=c.useMemo(()=>{var F;return(F=P)!=null&&F.valueOptions?typeof P.valueOptions=="function"?P.valueOptions({field:P.field}):P.valueOptions:[]},[P]),M=c.useMemo(()=>k==null?void 0:k.map(z),[k,z]),A=c.useMemo(()=>Array.isArray(s.value)?k!==void 0?s.value.map($=>M==null?void 0:M.findIndex(G=>G===$)).filter($=>$>=0).map($=>k[$]):s.value:[],[s.value,k,M]);c.useEffect(()=>{(!Array.isArray(s.value)||A.length!==s.value.length)&&i(I({},s,{value:A.map(z)}))},[s,A,i,z]);const N=c.useCallback((F,$)=>{i(I({},s,{value:$.map(z)}))},[i,s,z]);return h.jsx(Ns,I({multiple:!0,options:k,isOptionEqualToValue:j,filterOptions:F1,id:S,value:A,onChange:N,getOptionLabel:D,renderTags:(F,$)=>F.map((G,H)=>h.jsx(_.slots.baseChip,I({variant:"outlined",size:"small",label:D(G)},$({index:H})))),renderInput:F=>{var $;return h.jsx(_.slots.baseTextField,I({},F,{label:a.current.getLocaleText("filterPanelInputLabel"),placeholder:a.current.getLocaleText("filterPanelInputPlaceholder"),InputLabelProps:I({},F.InputLabelProps,{shrink:!0}),inputRef:l,type:"singleSelect"},x,($=_.slotProps)==null?void 0:$.baseTextField))}},C))}const N1=["onClick"],z1=c.forwardRef(function(t,o){var s;const{onClick:i}=t,a=Ne(t,N1),l=Zr(),d=Zr(),p=dt(),g=je(),m=Re(p,dr),f=y=>{m.open&&m.openedPanelValue===no.columns?p.current.hidePreferences():p.current.showPreferences(no.columns,d,l),i==null||i(y)};if(g.disableColumnSelector)return null;const v=m.open&&m.panelId===d;return h.jsx(g.slots.baseButton,I({ref:o,id:l,size:"small","aria-label":p.current.getLocaleText("toolbarColumnsLabel"),"aria-haspopup":"menu","aria-expanded":v,"aria-controls":v?d:void 0,startIcon:h.jsx(g.slots.columnSelectorIcon,{})},a,{onClick:f},(s=g.slotProps)==null?void 0:s.baseButton,{children:p.current.getLocaleText("toolbarColumns")}))}),$1=["onClick"],B1=c.forwardRef(function(t,o){var s;const{onClick:i}=t,a=Ne(t,$1),l=dt(),d=je(),p=Re(l,Lh),g=Bt(),m=Bt(),[f,v]=c.useState(!1),y=c.useRef(null),C=Vo(o,y),x=[{icon:h.jsx(d.slots.densityCompactIcon,{}),label:l.current.getLocaleText("toolbarDensityCompact"),value:"compact"},{icon:h.jsx(d.slots.densityStandardIcon,{}),label:l.current.getLocaleText("toolbarDensityStandard"),value:"standard"},{icon:h.jsx(d.slots.densityComfortableIcon,{}),label:l.current.getLocaleText("toolbarDensityComfortable"),value:"comfortable"}],S=c.useMemo(()=>{switch(p){case"compact":return h.jsx(d.slots.densityCompactIcon,{});case"comfortable":return h.jsx(d.slots.densityComfortableIcon,{});default:return h.jsx(d.slots.densityStandardIcon,{})}},[p,d]),_=k=>{v(M=>!M),i==null||i(k)},P=()=>{v(!1)},z=k=>{l.current.setDensity(k),v(!1)},D=k=>{Ic(k.key)&&k.preventDefault(),Vh(k.key)&&v(!1)};if(d.disableDensitySelector)return null;const j=x.map((k,M)=>h.jsxs(hn,{onClick:()=>z(k.value),selected:k.value===p,children:[h.jsx(uo,{children:k.icon}),k.label]},M));return h.jsxs(c.Fragment,{children:[h.jsx(d.slots.baseButton,I({ref:C,size:"small",startIcon:S,"aria-label":l.current.getLocaleText("toolbarDensityLabel"),"aria-haspopup":"menu","aria-expanded":f,"aria-controls":f?m:void 0,id:g},a,{onClick:_},(s=d.slotProps)==null?void 0:s.baseButton,{children:l.current.getLocaleText("toolbarDensity")})),h.jsx(Tc,{open:f,target:y.current,onClose:P,position:"bottom-start",children:h.jsx(Kl,{id:m,className:J.menuList,"aria-labelledby":g,onKeyDown:D,autoFocusItem:f,children:j})})]})}),H1=["componentsProps"],j1=e=>{const{classes:t}=e;return ht({root:["toolbarFilterList"]},mt,t)},G1=Le("ul",{name:"MuiDataGrid",slot:"ToolbarFilterList",overridesResolver:(e,t)=>t.toolbarFilterList})(({theme:e})=>({margin:e.spacing(1,1,.5),padding:e.spacing(0,1)})),V1=c.forwardRef(function(t,o){var s,i;const{componentsProps:a={}}=t,l=Ne(t,H1),d=a.button||{},p=dt(),g=je(),m=Re(p,Dh),f=Re(p,fr),v=Re(p,dr),y=j1(g),C=Bt(),x=Bt(),S=c.useMemo(()=>{if(v.open)return p.current.getLocaleText("toolbarFiltersTooltipHide");if(m.length===0)return p.current.getLocaleText("toolbarFiltersTooltipShow");const z=j=>f[j.field].filterOperators.find(k=>k.value===j.operator).label||p.current.getLocaleText(`filterOperator${mo(j.operator)}`).toString(),D=j=>{const{getValueAsString:k}=f[j.field].filterOperators.find(M=>M.value===j.operator);return k?k(j.value):j.value};return h.jsxs("div",{children:[p.current.getLocaleText("toolbarFiltersTooltipActive")(m.length),h.jsx(G1,{className:y.root,ownerState:g,children:m.map((j,k)=>I({},f[j.field]&&h.jsx("li",{children:`${f[j.field].headerName||j.field}
                  ${z(j)}
                  ${j.value!=null?D(j):""}`},k)))})]})},[p,g,v.open,m,f,y]),_=z=>{var D;const{open:j,openedPanelValue:k}=v;j&&k===no.filters?p.current.hidePreferences():p.current.showPreferences(no.filters,x,C),(D=d.onClick)==null||D.call(d,z)};if(g.disableColumnFilter)return null;const P=v.open&&v.panelId===x;return h.jsx(g.slots.baseTooltip,I({title:S,enterDelay:1e3},l,(s=g.slotProps)==null?void 0:s.baseTooltip,{children:h.jsx(g.slots.baseButton,I({ref:o,id:C,size:"small","aria-label":p.current.getLocaleText("toolbarFiltersLabel"),"aria-controls":P?x:void 0,"aria-expanded":P,"aria-haspopup":!0,startIcon:h.jsx(rc,{badgeContent:m.length,color:"primary",children:h.jsx(g.slots.openFilterButtonIcon,{})})},d,{onClick:_},(i=g.slotProps)==null?void 0:i.baseButton,{children:p.current.getLocaleText("toolbarFilters")}))}))}),W1=["hideMenu","options"],Z1=["hideMenu","options"];function U1(e){const t=dt(),{hideMenu:o,options:s}=e,i=Ne(e,W1);return h.jsx(hn,I({onClick:()=>{t.current.exportDataAsCsv(s),o==null||o()}},i,{children:t.current.getLocaleText("toolbarExportCSV")}))}function K1(e){const t=dt(),{hideMenu:o,options:s}=e,i=Ne(e,Z1);return h.jsx(hn,I({onClick:()=>{t.current.exportDataAsPrint(s),o==null||o()}},i,{children:t.current.getLocaleText("toolbarExportPrint")}))}const J1=["className","selectedRowCount"],q1=e=>{const{classes:t}=e;return ht({root:["selectedRowCount"]},mt,t)},X1=fn("div",{name:"MuiDataGrid",slot:"SelectedRowCount",overridesResolver:(e,t)=>t.selectedRowCount})(({theme:e})=>({alignItems:"center",display:"flex",margin:e.spacing(0,2),visibility:"hidden",width:0,height:0,[e.breakpoints.up("sm")]:{visibility:"visible",width:"auto",height:"auto"}})),Y1=c.forwardRef(function(t,o){const{className:s,selectedRowCount:i}=t,a=Ne(t,J1),l=dt(),d=je(),p=q1(d),g=l.current.getLocaleText("footerRowSelected")(i);return h.jsx(X1,I({ref:o,className:He(p.root,s),ownerState:d},a,{children:g}))}),Q1=c.forwardRef(function(t,o){var s,i;const a=dt(),l=je(),d=Re(a,mx),p=Re(a,zS),g=Re(a,Eh),m=!l.hideFooterSelectedRowCount&&p>0?h.jsx(Y1,{selectedRowCount:p}):h.jsx("div",{}),f=!l.hideFooterRowCount&&!l.pagination?h.jsx(l.slots.footerRowCount,I({},(s=l.slotProps)==null?void 0:s.footerRowCount,{rowCount:d,visibleRowCount:g})):null,v=l.pagination&&!l.hideFooterPagination&&l.slots.pagination&&h.jsx(l.slots.pagination,I({},(i=l.slotProps)==null?void 0:i.pagination));return h.jsxs(Ww,I({ref:o},t,{children:[m,f,v]}))});function eP(){var e,t;const o=je();return h.jsxs(c.Fragment,{children:[h.jsx(o.slots.preferencesPanel,I({},(e=o.slotProps)==null?void 0:e.preferencesPanel)),o.slots.toolbar&&h.jsx(o.slots.toolbar,I({},(t=o.slotProps)==null?void 0:t.toolbar))]})}const tP=c.forwardRef(function(t,o){return h.jsx(kc,I({ref:o},t,{children:h.jsx(Sg,{})}))}),nP=c.forwardRef(function(t,o){const i=dt().current.getLocaleText("noRowsLabel");return h.jsx(kc,I({ref:o},t,{children:i}))}),oP=Le(zy)(({theme:e})=>({[`& .${sr.selectLabel}`]:{display:"none",[e.breakpoints.up("sm")]:{display:"block"}},[`& .${sr.input}`]:{display:"none",[e.breakpoints.up("sm")]:{display:"inline-flex"}}})),rP=c.forwardRef(function(t,o){const s=dt(),i=je(),a=Re(s,Gn),l=Re(s,$r),d=c.useMemo(()=>Math.floor(l/(a.pageSize||1)),[l,a.pageSize]),p=c.useCallback(v=>{const y=Number(v.target.value);s.current.setPageSize(y)},[s]),g=c.useCallback((v,y)=>{s.current.setPage(y)},[s]),f=(v=>{for(let y=0;y<i.pageSizeOptions.length;y+=1){const C=i.pageSizeOptions[y];if(typeof C=="number"){if(C===v)return!0}else if(C.value===v)return!0}return!1})(a.pageSize)?i.pageSizeOptions:[];return h.jsx(oP,I({ref:o,component:"div",count:l,page:a.page<=d?a.page:d,rowsPerPageOptions:f,rowsPerPage:a.pageSize,onPageChange:g,onRowsPerPageChange:p},s.current.getLocaleText("MuiTablePagination"),t))}),sP=["className","rowCount","visibleRowCount"],iP=e=>{const{classes:t}=e;return ht({root:["rowCount"]},mt,t)},aP=fn("div",{name:"MuiDataGrid",slot:"RowCount",overridesResolver:(e,t)=>t.rowCount})(({theme:e})=>({alignItems:"center",display:"flex",margin:e.spacing(0,2)})),lP=c.forwardRef(function(t,o){const{className:s,rowCount:i,visibleRowCount:a}=t,l=Ne(t,sP),d=dt(),p=je(),g=iP(p);if(i===0)return null;const m=a<i?d.current.getLocaleText("footerTotalVisibleRows")(a,i):i.toLocaleString();return h.jsxs(aP,I({ref:o,className:He(g.root,s),ownerState:p},l,{children:[d.current.getLocaleText("footerTotalRows")," ",m]}))}),Ui=(e,t)=>{let o,s;return t.pagination&&t.paginationMode==="client"?(s=Ec(e),o=NS(e)):(o=Zo(e),o.length===0?s=null:s={firstRowIndex:0,lastRowIndex:o.length-1}),{rows:o,range:s}},gr=(e,t)=>{const o=Ui(e,t);return c.useMemo(()=>({rows:o.rows,range:o.range}),[o.rows,o.range])},Rl={current:null};function Ws(e){return e.isInternal=!0,e}function Ki(e){return e!==void 0&&e.isInternal===!0}function cP(e){return Ws((t,o)=>{const s=e(t,o);return s&&(i=>s(i.value,i.row,o,Rl.current))})}function Zs(e){return e.map(t=>I({},t,{getApplyFilterFn:cP(t.getApplyFilterFnV7),getApplyFilterFnV7:Ws(t.getApplyFilterFnV7)}))}function dm(e){return Ws((t,o,s)=>{const i=e(t,o,s);return i&&(a=>i(a.value,a.row,o,s))})}function pm(e){return{current:e.current.getPublicApi()}}let hs;function uP(){if(hs!==void 0)return hs;try{hs=new Function("return true")()}catch{hs=!1}return hs}const Ll=(e,t)=>{const o=I({},e);if(o.id==null&&(o.id=Math.round(Math.random()*1e5)),o.operator==null){const s=fr(t)[o.field];o.operator=s&&s.filterOperators[0].value}return o},dP=go(["MUI: The `filterModel` can only contain a single item when the `disableMultipleColumnsFiltering` prop is set to `true`.","If you are using the community version of the `DataGrid`, this prop is always `true`."],"error"),pP=go("MUI: The `id` field is required on `filterModel.items` when you use multiple filters.","error"),hP=go("MUI: The `operator` field is required on `filterModel.items`, one or more of your filtering item has no `operator` provided.","error"),hm=(e,t,o)=>{const s=e.items.length>1;let i;s&&t?(dP(),i=[e.items[0]]):i=e.items;const a=s&&i.some(d=>d.id==null),l=i.some(d=>d.operator==null);return a&&pP(),l&&hP(),l||a?I({},e,{items:i.map(d=>Ll(d,o))}):e.items!==i?I({},e,{items:i}):e},zd=(e,t,o)=>s=>I({},s,{filterModel:hm(e,t,o)}),Go=e=>typeof e=="string"?e.normalize("NFD").replace(/[\u0300-\u036f]/g,""):e,mm=(e,t)=>{if(!e.field||!e.operator)return null;const o=t.current.getColumn(e.field);if(!o)return null;let s;if(o.valueParser){var i;const y=o.valueParser;s=Array.isArray(e.value)?(i=e.value)==null?void 0:i.map(C=>y(C)):y(e.value)}else s=e.value;const{ignoreDiacritics:a}=t.current.rootProps;a&&(s=Go(s));const l=I({},e,{value:s}),d=o.filterOperators;if(!(d!=null&&d.length))throw new Error(`MUI: No filter operators found for column '${o.field}'.`);const p=d.find(y=>y.value===l.operator);if(!p)throw new Error(`MUI: No filter operator found for column '${o.field}' and operator value '${l.operator}'.`);const g=!Ki(p.getApplyFilterFn),m=!Ki(p.getApplyFilterFnV7),f=pm(t);if(p.getApplyFilterFnV7&&!(g&&!m)){const y=p.getApplyFilterFnV7(l,o);return typeof y!="function"?null:{v7:!0,item:l,fn:C=>{let x=t.current.getRowValue(C,o);return a&&(x=Go(x)),y(x,C,o,f)}}}const v=p.getApplyFilterFn(l,o);return typeof v!="function"?null:{v7:!1,item:l,fn:y=>{const C=t.current.getCellParams(y,l.field);Rl.current=f,a&&(C.value=Go(C.value));const x=v(C);return Rl.current=null,x}}};let $d=1;const mP=(e,t,o)=>{const{items:s}=e,i=s.map(d=>mm(d,t)).filter(d=>!!d);if(i.length===0)return null;if(o||!uP())return(d,p)=>{const g={};for(let m=0;m<i.length;m+=1){const f=i[m];(!p||p(f.item.field))&&(g[f.item.id]=f.v7?f.fn(d):f.fn(t.current.getRowId(d)))}return g};const a=new Function("getRowId","appliers","row","shouldApplyFilter",`"use strict";
${i.map((d,p)=>`const shouldApply${p} = !shouldApplyFilter || shouldApplyFilter(${JSON.stringify(d.item.field)});`).join(`
`)}

const result$$ = {
${i.map((d,p)=>`  ${JSON.stringify(String(d.item.id))}: !shouldApply${p}
    ? false
    : ${d.v7?`appliers[${p}].fn(row)`:`appliers[${p}].fn(getRowId(row))`},`).join(`
`)}
};

return result$$;`.replaceAll("$$",String($d)));return $d+=1,(d,p)=>a(t.current.getRowId,i,d,p)},fP=(e,t)=>{var o,s,i;const a=(o=(s=e.quickFilterValues)==null?void 0:s.filter(Boolean))!=null?o:[];if(a.length===0)return null;const d=((i=e.quickFilterExcludeHiddenColumns)!=null?i:!1)?ha(t):Io(t),p=[],{ignoreDiacritics:g}=t.current.rootProps,m=pm(t);return d.forEach(f=>{const v=t.current.getColumn(f),y=v==null?void 0:v.getApplyQuickFilterFn,C=v==null?void 0:v.getApplyQuickFilterFnV7,x=!Ki(y),S=!Ki(C);C&&!(x&&!S)?p.push({column:v,appliers:a.map(_=>{const P=g?Go(_):_;return{v7:!0,fn:C(P,v,m)}})}):y&&p.push({column:v,appliers:a.map(_=>{const P=g?Go(_):_;return{v7:!1,fn:y(P,v,m)}})})}),function(v,y){const C={},x={};e:for(let _=0;_<a.length;_+=1){const P=a[_];for(let z=0;z<p.length;z+=1){const{column:D,appliers:j}=p[z],{field:k}=D;if(y&&!y(k))continue;const M=j[_];let A=t.current.getRowValue(v,D);if(M.fn!==null)if(M.v7){if(g&&(A=Go(A)),M.fn(A,v,D,m)){C[P]=!0;continue e}}else{var S;const N=(S=x[k])!=null?S:t.current.getCellParams(t.current.getRowId(v),k);if(g&&(N.value=Go(N.value)),x[k]=N,M.fn(N)){C[P]=!0;continue e}}}C[P]=!1}return C}},gP=(e,t,o)=>{const s=mP(e,t,o),i=fP(e,t);return function(l,d,p){var g,m;p.passingFilterItems=(g=s==null?void 0:s(l,d))!=null?g:null,p.passingQuickFilterValues=(m=i==null?void 0:i(l,d))!=null?m:null}},Bd=e=>e!=null,vP=(e,t,o)=>(e.cleanedFilterItems||(e.cleanedFilterItems=o.filter(s=>mm(s,t)!==null)),e.cleanedFilterItems),bP=(e,t,o,s,i)=>{const a=vP(i,s,o.items),l=e.filter(Bd),d=t.filter(Bd);if(l.length>0){var p;const m=v=>l.some(y=>y[v.id]);if(((p=o.logicOperator)!=null?p:Es().logicOperator)===En.And){if(!a.every(m))return!1}else if(!a.some(m))return!1}if(d.length>0&&o.quickFilterValues!=null){var g;const m=v=>d.some(y=>y[v]);if(((g=o.quickFilterLogicOperator)!=null?g:Es().quickFilterLogicOperator)===En.And){if(!o.quickFilterValues.every(m))return!1}else if(!o.quickFilterValues.some(m))return!1}return!0},Hd=Ws(e=>{if(!e)return null;const t=new RegExp(Ti(e),"i");return(o,s,i,a)=>{let l=a.current.getRowFormattedValue(s,i);return a.current.ignoreDiacritics&&(l=Go(l)),l!=null?t.test(l.toString()):!1}}),yP=(e=!1)=>Zs([{value:"contains",getApplyFilterFnV7:t=>{if(!t.value)return null;const o=e?t.value:t.value.trim(),s=new RegExp(Ti(o),"i");return i=>i!=null?s.test(String(i)):!1},InputComponent:lo},{value:"equals",getApplyFilterFnV7:t=>{if(!t.value)return null;const o=e?t.value:t.value.trim(),s=new Intl.Collator(void 0,{sensitivity:"base",usage:"search"});return i=>i!=null?s.compare(o,i.toString())===0:!1},InputComponent:lo},{value:"startsWith",getApplyFilterFnV7:t=>{if(!t.value)return null;const o=e?t.value:t.value.trim(),s=new RegExp(`^${Ti(o)}.*$`,"i");return i=>i!=null?s.test(i.toString()):!1},InputComponent:lo},{value:"endsWith",getApplyFilterFnV7:t=>{if(!t.value)return null;const o=e?t.value:t.value.trim(),s=new RegExp(`.*${Ti(o)}$`,"i");return i=>i!=null?s.test(i.toString()):!1},InputComponent:lo},{value:"isEmpty",getApplyFilterFnV7:()=>t=>t===""||t==null,requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFnV7:()=>t=>t!==""&&t!=null,requiresFilterValue:!1},{value:"isAnyOf",getApplyFilterFnV7:t=>{if(!Array.isArray(t.value)||t.value.length===0)return null;const o=e?t.value:t.value.map(i=>i.trim()),s=new Intl.Collator(void 0,{sensitivity:"base",usage:"search"});return i=>i!=null?o.some(a=>s.compare(a,i.toString()||"")===0):!1},InputComponent:um}]),eo={width:100,minWidth:50,maxWidth:1/0,hideable:!0,sortable:!0,resizable:!0,filterable:!0,groupable:!0,pinnable:!0,aggregable:!0,editable:!1,sortComparator:ZS,type:"string",align:"left",filterOperators:yP(),renderEditCell:fw,getApplyQuickFilterFn:dm(Hd),getApplyQuickFilterFnV7:Hd},CP=()=>Zs([{value:"is",getApplyFilterFnV7:e=>{if(!e.value)return null;const t=e.value==="true";return o=>!!o===t},InputComponent:A1}]);function xP({value:e,api:t}){return e?t.getLocaleText("booleanCellTrueLabel"):t.getLocaleText("booleanCellFalseLabel")}const wP=e=>{switch(e.toLowerCase().trim()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case"null":case"undefined":return!1;default:return}},fm=I({},eo,{type:"boolean",align:"center",headerAlign:"center",renderCell:nw,renderEditCell:iw,sortComparator:nm,valueFormatter:xP,filterOperators:CP(),getApplyQuickFilterFn:void 0,getApplyQuickFilterFnV7:void 0,aggregable:!1,pastedValueParser:e=>wP(e)}),Oo="__check__",Qr=I({},fm,{field:Oo,type:"checkboxSelection",width:50,resizable:!1,sortable:!1,filterable:!1,aggregable:!1,disableColumnMenu:!0,disableReorder:!0,disableExport:!0,getApplyQuickFilterFn:void 0,getApplyQuickFilterFnV7:void 0,valueGetter:e=>Zi(e.api.state,e.api.instanceId)[e.id]!==void 0,renderHeader:e=>h.jsx(i_,I({},e)),renderCell:e=>h.jsx(o_,I({},e))}),Ca="actions",SP=I({},eo,{sortable:!1,filterable:!1,aggregable:!1,width:100,align:"center",headerAlign:"center",headerName:"",disableColumnMenu:!0,disableExport:!0,renderCell:Rw,getApplyQuickFilterFn:void 0,getApplyQuickFilterFnV7:void 0}),Fc="__detail_panel_toggle__",_n=e=>e.editRows,_P=["selected","hovered","rowId","row","index","style","position","rowHeight","className","visibleColumns","renderedColumns","containerWidth","firstColumnToRender","lastColumnToRender","isLastVisible","focusedCellColumnIndexNotInRange","isNotVisible","focusedCell","tabbableCell","onClick","onDoubleClick","onMouseEnter","onMouseLeave","onMouseOut","onMouseOver"],PP=e=>{const{editable:t,editing:o,selected:s,isLastVisible:i,rowHeight:a,classes:l}=e;return ht({root:["row",s&&"selected",t&&"row--editable",o&&"row--editing",i&&"row--lastVisible",a==="auto"&&"row--dynamicHeight"]},mt,l)};function IP({width:e}){if(!e)return null;const t={width:e};return h.jsx("div",{className:`${J.cell} ${J.withBorderColor}`,style:t})}const TP=c.forwardRef(function(t,o){const{selected:s,hovered:i,rowId:a,row:l,index:d,style:p,position:g,rowHeight:m,className:f,visibleColumns:v,renderedColumns:y,containerWidth:C,firstColumnToRender:x,isLastVisible:S=!1,focusedCellColumnIndexNotInRange:_,isNotVisible:P,focusedCell:z,onClick:D,onDoubleClick:j,onMouseEnter:k,onMouseLeave:M,onMouseOut:A,onMouseOver:N}=t,F=Ne(t,_P),$=dt(),G=c.useRef(null),H=je(),T=gr($,H),E=Re($,yc),B=Re($,jn),W=Re($,ga),R=Re($,js),V=Re($,_n),Z=Vo(G,o),q=d+R+2,ee={selected:s,isLastVisible:S,classes:H.classes,editing:$.current.getRowMode(a)===Lt.Edit,editable:H.editMode===fo.Row,rowHeight:m},X=PP(ee);c.useLayoutEffect(()=>{m==="auto"&&G.current&&typeof ResizeObserver>"u"&&$.current.unstable_storeRowHeightMeasurement(a,G.current.clientHeight,g)},[$,m,a,g]),c.useLayoutEffect(()=>{if(T.range){const Ve=$.current.getRowIndexRelativeToVisibleRows(a);Ve!=null&&$.current.unstable_setLastMeasuredRowIndex(Ve)}const xe=G.current;if(!xe||m!=="auto"||typeof ResizeObserver>"u")return;const Fe=new ResizeObserver(Ve=>{const[Xe]=Ve,Ke=Xe.borderBoxSize&&Xe.borderBoxSize.length>0?Xe.borderBoxSize[0].blockSize:Xe.contentRect.height;$.current.unstable_storeRowHeightMeasurement(a,Ke,g)});return Fe.observe(xe),()=>Fe.disconnect()},[$,T.range,d,m,a,g]);const te=c.useCallback((xe,we)=>Fe=>{Gs(Fe)||$.current.getRow(a)&&($.current.publishEvent(xe,$.current.getRowParams(a),Fe),we&&we(Fe))},[$,a]),Y=c.useCallback(xe=>{const we=Bx(xe.target,J.cell),Fe=we==null?void 0:we.getAttribute("data-field");if(Fe){if(Fe===Qr.field||Fe===Fc||Fe==="__reorder__"||$.current.getCellMode(a,Fe)===At.Edit)return;const Ve=$.current.getColumn(Fe);if((Ve==null?void 0:Ve.type)===Ca)return}te("rowClick",D)(xe)},[$,D,te,a]),{slots:ne,slotProps:U,disableColumnReorder:le}=H,Pe=ne.cell===El?El:qx,oe=H.rowReordering,ue=(xe,we)=>{var Fe,Ve;const Xe=le&&xe.disableReorder||!oe&&!!B.length&&W>1&&Object.keys(V).length>0,Ke=(Fe=(Ve=V[a])==null?void 0:Ve[xe.field])!=null?Fe:null;let qe=!1;return _!==void 0&&v[_].field===xe.field&&(qe=!0),h.jsx(Pe,I({column:xe,width:we.width,rowId:a,height:m,showRightBorder:we.showRightBorder,align:xe.align||"left",colIndex:we.indexRelativeToAllColumns,colSpan:we.colSpan,disableDragEvents:Xe,editCellState:Ke,isNotVisible:qe},U==null?void 0:U.cell),xe.field)},he=Re($,()=>I({},$.current.unstable_getRowInternalSizes(a)),hc);let ie=m;if(ie==="auto"&&he){let xe=0;const we=Object.entries(he).reduce((Fe,[Ve,Xe])=>/^base[A-Z]/.test(Ve)?(xe+=1,Xe>Fe?Xe:Fe):Fe,0);we>0&&xe>1&&(ie=we)}const ge=c.useMemo(()=>{if(P)return{opacity:0,width:0,height:0};const xe=I({},p,{maxHeight:m==="auto"?"none":m,minHeight:ie});if(he!=null&&he.spacingTop){const we=H.rowSpacingType==="border"?"borderTopWidth":"marginTop";xe[we]=he.spacingTop}if(he!=null&&he.spacingBottom){const we=H.rowSpacingType==="border"?"borderBottomWidth":"marginBottom";let Fe=xe[we];typeof Fe!="number"&&(Fe=parseInt(Fe||"0",10)),Fe+=he.spacingBottom,xe[we]=Fe}return xe},[P,m,p,ie,he,H.rowSpacingType]),de=$.current.unstable_applyPipeProcessors("rowClassName",[],a);if(typeof H.getRowClassName=="function"){var Ce;const xe=d-(((Ce=T.range)==null?void 0:Ce.firstRowIndex)||0),we=I({},$.current.getRowParams(a),{isFirstVisible:xe===0,isLastVisible:xe===T.rows.length-1,indexRelativeToCurrentPage:xe});de.push(H.getRowClassName(we))}const se=AS(1e4,20,80),ye=$.current.getRowNode(a);if(!ye)return null;const Te=ye.type,Ae=[];for(let xe=0;xe<y.length;xe+=1){const we=y[xe];let Fe=x+xe;_!==void 0&&z&&(v[_].field===we.field?Fe=_:Fe-=1);const Ve=$.current.unstable_getCellColSpanInfo(a,Fe);if(Ve&&!Ve.spannedByColSpan)if(Te!=="skeletonRow"){const{colSpan:Xe,width:Ke}=Ve.cellProps,qe={width:Ke,colSpan:Xe,showRightBorder:H.showCellVerticalBorder,indexRelativeToAllColumns:Fe};Ae.push(ue(we,qe))}else{const{width:Xe}=Ve.cellProps,Ke=Math.round(se());Ae.push(h.jsx(ne.skeletonCell,{width:Xe,contentWidth:Ke,field:we.field,align:we.align},we.field))}}const Oe=C-E,Ee=l?{onClick:Y,onDoubleClick:te("rowDoubleClick",j),onMouseEnter:te("rowMouseEnter",k),onMouseLeave:te("rowMouseLeave",M),onMouseOut:te("rowMouseOut",A),onMouseOver:te("rowMouseOver",N)}:null;return h.jsxs("div",I({ref:Z,"data-id":a,"data-rowindex":d,role:"row",className:He(...de,X.root,f,i&&"Mui-hovered"),"aria-rowindex":q,"aria-selected":s,style:ge},Ee,F,{children:[Ae,Oe>0&&h.jsx(IP,{width:Oe})]}))}),kP=ya(TP);function MP({privateApiRef:e,props:t,children:o}){const s=c.useRef(e.current.getPublicApi());return h.jsx(hh.Provider,{value:t,children:h.jsx(bh.Provider,{value:e,children:h.jsx(ph.Provider,{value:s,children:o})})})}const AP=kS()&&window.localStorage.getItem("DEBUG")!=null,ys=()=>{},EP={debug:ys,info:ys,warn:ys,error:ys},jd=["debug","info","warn","error"];function Gd(e,t,o=console){const s=jd.indexOf(t);if(s===-1)throw new Error(`MUI: Log level ${t} not recognized.`);return jd.reduce((a,l,d)=>(d>=s?a[l]=(...p)=>{const[g,...m]=p;o[l](`MUI: ${e} - ${g}`,...m)}:a[l]=ys,a),{})}const DP=(e,t)=>{const o=c.useCallback(s=>AP?Gd(s,"debug",t.logger):t.logLevel?Gd(s,t.logLevel.toString(),t.logger):EP,[t.logLevel,t.logger]);it(e,{getLogger:o},"private")};class Oc{static create(t){return new Oc(t)}constructor(t){this.value=void 0,this.listeners=void 0,this.subscribe=o=>(this.listeners.add(o),()=>{this.listeners.delete(o)}),this.getSnapshot=()=>this.value,this.update=o=>{this.value=o,this.listeners.forEach(s=>s(o))},this.value=t,this.listeners=new Set}}class RP{constructor(){this.maxListeners=20,this.warnOnce=!1,this.events={}}on(t,o,s={}){let i=this.events[t];i||(i={highPriority:new Map,regular:new Map},this.events[t]=i),s.isFirst?i.highPriority.set(o,!0):i.regular.set(o,!0)}removeListener(t,o){this.events[t]&&(this.events[t].regular.delete(o),this.events[t].highPriority.delete(o))}removeAllListeners(){this.events={}}emit(t,...o){const s=this.events[t];if(!s)return;const i=Array.from(s.highPriority.keys()),a=Array.from(s.regular.keys());for(let l=i.length-1;l>=0;l-=1){const d=i[l];s.highPriority.has(d)&&d.apply(this,o)}for(let l=0;l<a.length;l+=1){const d=a[l];s.regular.has(d)&&d.apply(this,o)}}once(t,o){const s=this;this.on(t,function i(...a){s.removeListener(t,i),o.apply(s,a)})}}const gm=Symbol("mui.api_private"),LP=e=>e.isPropagationStopped!==void 0;let Vd=0;function FP(e){var t;const o=(t=e.current)==null?void 0:t[gm];if(o)return o;const s={},i={state:s,store:Oc.create(s),instanceId:{id:Vd}};return Vd+=1,i.getPublicApi=()=>e.current,i.register=(a,l)=>{Object.keys(l).forEach(d=>{const p=l[d],g=i[d];if((g==null?void 0:g.spying)===!0?g.target=p:i[d]=p,a==="public"){const m=e.current,f=m[d];(f==null?void 0:f.spying)===!0?f.target=p:m[d]=p}})},i.register("private",{caches:{},eventManager:new RP}),i}function OP(e){return{get state(){return e.current.state},get store(){return e.current.store},get instanceId(){return e.current.instanceId},[gm]:e.current}}function NP(e,t){const o=c.useRef(),s=c.useRef();s.current||(s.current=FP(o)),o.current||(o.current=OP(s));const i=c.useCallback((...l)=>{const[d,p,g={}]=l;if(g.defaultMuiPrevented=!1,LP(g)&&g.isPropagationStopped())return;const m=t.signature===ho.DataGridPro?{api:s.current.getPublicApi()}:{};s.current.eventManager.emit(d,p,g,m)},[s,t.signature]),a=c.useCallback((l,d,p)=>{s.current.eventManager.on(l,d,p);const g=s.current;return()=>{g.eventManager.removeListener(l,d)}},[s]);return it(s,{subscribeEvent:a,publishEvent:i},"public"),c.useImperativeHandle(e,()=>o.current,[o]),c.useEffect(()=>{const l=s.current;return()=>{l.publishEvent("unmount")}},[s]),s}const zP=(e,t)=>{const o=c.useCallback(s=>{if(t.localeText[s]==null)throw new Error(`Missing translation for key ${s}.`);return t.localeText[s]},[t.localeText]);e.current.register("public",{getLocaleText:o})},$P=e=>{const t=c.useRef({}),o=c.useRef(!1),s=c.useCallback(m=>{o.current||!m||(o.current=!0,Object.values(m.appliers).forEach(f=>{f()}),o.current=!1)},[]),i=c.useCallback((m,f,v)=>{t.current[m]||(t.current[m]={processors:new Map,appliers:{}});const y=t.current[m];return y.processors.get(f)!==v&&(y.processors.set(f,v),s(y)),()=>{t.current[m].processors.set(f,null)}},[s]),a=c.useCallback((m,f,v)=>(t.current[m]||(t.current[m]={processors:new Map,appliers:{}}),t.current[m].appliers[f]=v,()=>{const y=t.current[m].appliers,C=Ne(y,[f].map(Ms));t.current[m].appliers=C}),[]),l=c.useCallback(m=>{const f=t.current[m];s(f)},[s]),d=c.useCallback((...m)=>{const[f,v,y]=m;return t.current[f]?Array.from(t.current[f].processors.values()).reduce((x,S)=>S?S(x,y):x,v):v},[]),p={registerPipeProcessor:i,registerPipeApplier:a,requestPipeProcessorsApplication:l},g={unstable_applyPipeProcessors:d};it(e,p,"private"),it(e,g,"public")},tn=(e,t,o)=>{const s=c.useRef(),i=c.useRef(`mui-${Math.round(Math.random()*1e9)}`),a=c.useCallback(()=>{s.current=e.current.registerPipeProcessor(t,i.current,o)},[e,o,t]);Vs(()=>{a()});const l=c.useRef(!0);c.useEffect(()=>(l.current?l.current=!1:a(),()=>{s.current&&(s.current(),s.current=null)}),[a])},Nc=(e,t,o)=>{const s=c.useRef(),i=c.useRef(`mui-${Math.round(Math.random()*1e9)}`),a=c.useCallback(()=>{s.current=e.current.registerPipeApplier(t,i.current,o)},[e,o,t]);Vs(()=>{a()});const l=c.useRef(!0);c.useEffect(()=>(l.current?l.current=!1:a(),()=>{s.current&&(s.current(),s.current=null)}),[a])},Ji=(e,t,o,s)=>{const i=c.useCallback(()=>{e.current.registerStrategyProcessor(t,o,s)},[e,s,o,t]);Vs(()=>{i()});const a=c.useRef(!0);c.useEffect(()=>{a.current?a.current=!1:i()},[i])},pr="none",Wd={rowTreeCreation:"rowTree",filtering:"rowTree",sorting:"rowTree",visibleRowsLookupCreation:"rowTree"},BP=e=>{const t=c.useRef(new Map),o=c.useRef({}),s=c.useCallback((p,g,m)=>{const f=()=>{const C=o.current[g],x=Ne(C,[p].map(Ms));o.current[g]=x};o.current[g]||(o.current[g]={});const v=o.current[g],y=v[p];return v[p]=m,!y||y===m||p===e.current.getActiveStrategy(Wd[g])&&e.current.publishEvent("activeStrategyProcessorChange",g),f},[e]),i=c.useCallback((p,g)=>{const m=e.current.getActiveStrategy(Wd[p]);if(m==null)throw new Error("Can't apply a strategy processor before defining an active strategy");const f=o.current[p];if(!f||!f[m])throw new Error(`No processor found for processor "${p}" on strategy "${m}"`);const v=f[m];return v(g)},[e]),a=c.useCallback(p=>{var g;const f=Array.from(t.current.entries()).find(([,v])=>v.group!==p?!1:v.isAvailable());return(g=f==null?void 0:f[0])!=null?g:pr},[]),l=c.useCallback((p,g,m)=>{t.current.set(g,{group:p,isAvailable:m}),e.current.publishEvent("strategyAvailabilityChange")},[e]);it(e,{registerStrategyProcessor:s,applyStrategyProcessor:i,getActiveStrategy:a,setStrategyAvailability:l},"private")},HP=(e,t)=>{const o=c.useRef({}),[,s]=c.useState(),i=c.useCallback(m=>{o.current[m.stateId]=m},[]),a=c.useCallback((m,f)=>{let v;if(Kh(m)?v=m(e.current.state):v=m,e.current.state===v)return!1;let y=!1;const C=[];if(Object.keys(o.current).forEach(x=>{const S=o.current[x],_=S.stateSelector(e.current.state,e.current.instanceId),P=S.stateSelector(v,e.current.instanceId);P!==_&&(C.push({stateId:S.stateId,hasPropChanged:P!==S.propModel}),S.propModel!==void 0&&P!==S.propModel&&(y=!0))}),C.length>1)throw new Error(`You're not allowed to update several sub-state in one transaction. You already updated ${C[0].stateId}, therefore, you're not allowed to update ${C.map(x=>x.stateId).join(", ")} in the same transaction.`);if(y||(e.current.state=v,e.current.publishEvent&&e.current.publishEvent("stateChange",v),e.current.store.update(v)),C.length===1){const{stateId:x,hasPropChanged:S}=C[0],_=o.current[x],P=_.stateSelector(v,e.current.instanceId);if(_.propOnChange&&S){const z=t.signature===ho.DataGridPro?{api:e.current,reason:f}:{reason:f};_.propOnChange(P,z)}y||e.current.publishEvent(_.changeEvent,P,{reason:f})}return!y},[e,t.signature]),l=c.useCallback((m,f,v)=>e.current.setState(y=>I({},y,{[m]:f(y[m])}),v),[e]),d=c.useCallback(()=>s(()=>e.current.state),[e]),p={setState:a,forceUpdate:d},g={updateControlState:l,registerControlState:i};it(e,p,"public"),it(e,g,"private")},jP=(e,t)=>{const o=NP(e,t);return DP(o,t),HP(o,t),$P(o),BP(o),zP(o,t),o.current.register("private",{rootProps:t}),o},An=(e,t,o)=>{const s=c.useRef(!1);s.current||(t.current.state=e(t.current.state,o,t),s.current=!0)},GP=/(\d+)-(\d+)-(\d+)/,VP=/(\d+)-(\d+)-(\d+)T(\d+):(\d+)/;function Ar(e,t,o,s){if(!e.value)return null;const[i,a,l,d,p]=e.value.match(o?VP:GP).slice(1).map(Number),g=new Date(i,a-1,l,d||0,p||0).getTime();return m=>{if(!m)return!1;if(s)return t(m.getTime(),g);const v=new Date(m).setHours(o?m.getHours():0,o?m.getMinutes():0,0,0);return t(v,g)}}const vm=e=>Zs([{value:"is",getApplyFilterFnV7:t=>Ar(t,(o,s)=>o===s,e),InputComponent:Mr,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"not",getApplyFilterFnV7:t=>Ar(t,(o,s)=>o!==s,e),InputComponent:Mr,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"after",getApplyFilterFnV7:t=>Ar(t,(o,s)=>o>s,e),InputComponent:Mr,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"onOrAfter",getApplyFilterFnV7:t=>Ar(t,(o,s)=>o>=s,e),InputComponent:Mr,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"before",getApplyFilterFnV7:t=>Ar(t,(o,s)=>o<s,e,!e),InputComponent:Mr,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"onOrBefore",getApplyFilterFnV7:t=>Ar(t,(o,s)=>o<=s,e),InputComponent:Mr,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"isEmpty",getApplyFilterFnV7:()=>t=>t==null,requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFnV7:()=>t=>t!=null,requiresFilterValue:!1}]);function bm({value:e,columnType:t,rowId:o,field:s}){if(!(e instanceof Date))throw new Error([`MUI: \`${t}\` column type only accepts \`Date\` objects as values.`,"Use `valueGetter` to transform the value into a `Date` object.",`Row ID: ${o}, field: "${s}".`].join(`
`))}function WP({value:e,field:t,id:o}){return e?(bm({value:e,columnType:"date",rowId:o,field:t}),e.toLocaleDateString()):""}function ZP({value:e,field:t,id:o}){return e?(bm({value:e,columnType:"dateTime",rowId:o,field:t}),e.toLocaleString()):""}const UP=I({},eo,{type:"date",sortComparator:om,valueFormatter:WP,filterOperators:vm(),renderEditCell:Hh,pastedValueParser:e=>new Date(e)}),KP=I({},eo,{type:"dateTime",sortComparator:om,valueFormatter:ZP,filterOperators:vm(!0),renderEditCell:Hh,pastedValueParser:e=>new Date(e)}),No=e=>e==null?null:Number(e),Zd=Ws(e=>e==null||Number.isNaN(e)||e===""?null:t=>No(t)===No(e)),JP=()=>Zs([{value:"=",getApplyFilterFnV7:e=>e.value==null||Number.isNaN(e.value)?null:t=>No(t)===e.value,InputComponent:lo,InputComponentProps:{type:"number"}},{value:"!=",getApplyFilterFnV7:e=>e.value==null||Number.isNaN(e.value)?null:t=>No(t)!==e.value,InputComponent:lo,InputComponentProps:{type:"number"}},{value:">",getApplyFilterFnV7:e=>e.value==null||Number.isNaN(e.value)?null:t=>t==null?!1:No(t)>e.value,InputComponent:lo,InputComponentProps:{type:"number"}},{value:">=",getApplyFilterFnV7:e=>e.value==null||Number.isNaN(e.value)?null:t=>t==null?!1:No(t)>=e.value,InputComponent:lo,InputComponentProps:{type:"number"}},{value:"<",getApplyFilterFnV7:e=>e.value==null||Number.isNaN(e.value)?null:t=>t==null?!1:No(t)<e.value,InputComponent:lo,InputComponentProps:{type:"number"}},{value:"<=",getApplyFilterFnV7:e=>e.value==null||Number.isNaN(e.value)?null:t=>t==null?!1:No(t)<=e.value,InputComponent:lo,InputComponentProps:{type:"number"}},{value:"isEmpty",getApplyFilterFnV7:()=>e=>e==null,requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFnV7:()=>e=>e!=null,requiresFilterValue:!1},{value:"isAnyOf",getApplyFilterFnV7:e=>!Array.isArray(e.value)||e.value.length===0?null:t=>t!=null&&e.value.includes(Number(t)),InputComponent:um,InputComponentProps:{type:"number"}}]),qP=I({},eo,{type:"number",align:"right",headerAlign:"right",sortComparator:nm,valueParser:e=>e===""?null:Number(e),valueFormatter:({value:e})=>TS(e)?e.toLocaleString():e||"",filterOperators:JP(),getApplyQuickFilterFn:dm(Zd),getApplyQuickFilterFnV7:Zd}),Er=e=>e==null||!Mc(e)?e:e.value,XP=()=>Zs([{value:"is",getApplyFilterFnV7:e=>e.value==null||e.value===""?null:t=>Er(t)===Er(e.value),InputComponent:Od},{value:"not",getApplyFilterFnV7:e=>e.value==null||e.value===""?null:t=>Er(t)!==Er(e.value),InputComponent:Od},{value:"isAnyOf",getApplyFilterFnV7:e=>{if(!Array.isArray(e.value)||e.value.length===0)return null;const t=e.value.map(Er);return o=>t.includes(Er(o))},InputComponent:O1}]),YP=e=>typeof e[0]=="object",QP=e=>Mc(e)?e.value:e,eI=e=>Mc(e)?e.label:String(e),tI=I({},eo,{type:"singleSelect",getOptionLabel:eI,getOptionValue:QP,valueFormatter(e){const{id:t,field:o,value:s,api:i}=e,a=e.api.getColumn(o);if(!ar(a))return"";let l;if(typeof a.valueOptions=="function"?l=a.valueOptions({id:t,row:t?i.getRow(t):null,field:o}):l=a.valueOptions,s==null)return"";if(!l)return s;if(!YP(l))return a.getOptionLabel(s);const d=l.find(p=>a.getOptionValue(p)===s);return d?a.getOptionLabel(d):""},renderEditCell:Pw,filterOperators:XP(),pastedValueParser:(e,t)=>{const o=t.colDef,s=o.valueOptions,i=typeof s=="function"?s({field:o.field}):s||[],a=o.getOptionValue;if(i.find(d=>a(d)===e))return e}}),ym="__default__",nI=()=>({string:eo,number:qP,date:UP,dateTime:KP,boolean:fm,singleSelect:tI,[Ca]:SP,[ym]:eo});function Fl(e,t){if(typeof e=="string"){if(t.shouldAppendQuotes||t.escapeFormulas){const o=e.replace(/"/g,'""');return[t.delimiter,`
`,"\r",'"'].some(s=>e.includes(s))?`"${o}"`:t.escapeFormulas&&["=","+","-","@","	","\r"].includes(o[0])?`'${o}`:o}return e}return e}const Cm=(e,t)=>{const{csvOptions:o,ignoreValueFormatter:s}=t;let i;if(s){var a;const d=e.colDef.type;if(d==="number")i=String(e.value);else if(d==="date"||d==="dateTime"){var l;i=(l=e.value)==null?void 0:l.toISOString()}else typeof((a=e.value)==null?void 0:a.toString)=="function"?i=e.value.toString():i=e.value}else i=e.formattedValue;return Fl(i,o)};go(["MUI: When the value of a field is an object or a `renderCell` is provided, the CSV export might not display the value correctly.","You can provide a `valueFormatter` with a string representation to be used."]);class Ol{constructor(t){this.options=void 0,this.rowString="",this.isEmpty=!0,this.options=t}addValue(t){this.isEmpty||(this.rowString+=this.options.csvOptions.delimiter),t==null?this.rowString+="":typeof this.options.sanitizeCellValue=="function"?this.rowString+=this.options.sanitizeCellValue(t,this.options.csvOptions):this.rowString+=t,this.isEmpty=!1}getRowString(){return this.rowString}}const oI=({id:e,columns:t,getCellParams:o,csvOptions:s,ignoreValueFormatter:i})=>{const a=new Ol({csvOptions:s});return t.forEach(l=>{const d=o(e,l.field);a.addValue(Cm(d,{ignoreValueFormatter:i,csvOptions:s}))}),a.getRowString()};function rI(e){const{columns:t,rowIds:o,csvOptions:s,ignoreValueFormatter:i,apiRef:a}=e,l=o.reduce((f,v)=>`${f}${oI({id:v,columns:t,getCellParams:a.current.getCellParams,ignoreValueFormatter:i,csvOptions:s})}\r
`,"").trim();if(!s.includeHeaders)return l;const d=t.filter(f=>f.field!==Qr.field),p=[];if(s.includeColumnGroupsHeaders){const f=a.current.unstable_getAllGroupDetails();let v=0;const y=d.reduce((C,x)=>{const S=a.current.unstable_getColumnGroupPath(x.field);return C[x.field]=S,v=Math.max(v,S.length),C},{});for(let C=0;C<v;C+=1){const x=new Ol({csvOptions:s,sanitizeCellValue:Fl});p.push(x),d.forEach(S=>{const _=(y[S.field]||[])[C],P=f[_];x.addValue(P?P.headerName||P.groupId:"")})}}const g=new Ol({csvOptions:s,sanitizeCellValue:Fl});return d.forEach(f=>{g.addValue(f.headerName||f.field)}),p.push(g),`${`${p.map(f=>f.getRowString()).join(`\r
`)}\r
`}${l}`.trim()}function Ud(e){const t=document.createElement("span");t.style.whiteSpace="pre",t.style.userSelect="all",t.style.opacity="0px",t.textContent=e,document.body.appendChild(t);const o=document.createRange();o.selectNode(t);const s=window.getSelection();s.removeAllRanges(),s.addRange(o);try{document.execCommand("copy")}finally{document.body.removeChild(t)}}function sI(e){navigator.clipboard?navigator.clipboard.writeText(e).catch(()=>{Ud(e)}):Ud(e)}function iI(e){var t;return!!((t=window.getSelection())!=null&&t.toString()||e&&(e.selectionEnd||0)-(e.selectionStart||0)>0)}const aI=(e,t)=>{const o=t.unstable_ignoreValueFormatterDuringExport,s=(typeof o=="object"?o==null?void 0:o.clipboardExport:o)||!1,i=t.clipboardCopyCellDelimiter,a=c.useCallback(l=>{if(!((l.ctrlKey||l.metaKey)&&l.key==="c")||iI(l.target))return;let d="";if(e.current.getSelectedRows().size>0)d=e.current.getDataAsCsv({includeHeaders:!1,delimiter:i,shouldAppendQuotes:!1,escapeFormulas:!1});else{const g=Rn(e);if(g){const m=e.current.getCellParams(g.id,g.field);d=Cm(m,{csvOptions:{delimiter:i,shouldAppendQuotes:!1,escapeFormulas:!1},ignoreValueFormatter:s})}}d=e.current.unstable_applyPipeProcessors("clipboardCopy",d),d&&(sI(d),e.current.publishEvent("clipboardCopy",d))},[e,s,i]);ES(e,e.current.rootElementRef,"keydown",a),Ot(e,"clipboardCopy",t.onClipboardCopy)},lI=e=>I({},e,{columnMenu:{open:!1}}),cI=e=>{const t=yn(e,"useGridColumnMenu"),o=c.useCallback(l=>{e.current.setState(p=>p.columnMenu.open&&p.columnMenu.field===l?p:(t.debug("Opening Column Menu"),I({},p,{columnMenu:{open:!0,field:l}})))&&(e.current.hidePreferences(),e.current.forceUpdate())},[e,t]),s=c.useCallback(()=>{const l=Al(e.current.state);if(l.field){const p=fr(e),g=Yn(e),m=Io(e);let f=l.field;if(p[f]||(f=m[0]),g[f]===!1){const v=m.filter(C=>C===f?!0:g[C]!==!1),y=v.indexOf(f);f=v[y+1]||v[y-1]}e.current.setColumnHeaderFocus(f)}e.current.setState(p=>!p.columnMenu.open&&p.columnMenu.field===void 0?p:(t.debug("Hiding Column Menu"),I({},p,{columnMenu:I({},p.columnMenu,{open:!1,field:void 0})})))&&e.current.forceUpdate()},[e,t]),i=c.useCallback(l=>{t.debug("Toggle Column Menu");const d=Al(e.current.state);!d.open||d.field!==l?o(l):s()},[e,t,o,s]);it(e,{showColumnMenu:o,hideColumnMenu:s,toggleColumnMenu:i},"public"),Ge(e,"columnResizeStart",s),Ge(e,"virtualScrollerWheel",e.current.hideColumnMenu),Ge(e,"virtualScrollerTouchMove",e.current.hideColumnMenu)},xm=["maxWidth","minWidth","width","flex"];function uI({initialFreeSpace:e,totalFlexUnits:t,flexColumns:o}){const s=new Set(o.map(l=>l.field)),i={all:{},frozenFields:[],freeze:l=>{const d=i.all[l];d&&d.frozen!==!0&&(i.all[l].frozen=!0,i.frozenFields.push(l))}};function a(){if(i.frozenFields.length===s.size)return;const l={min:{},max:{}};let d=e,p=t,g=0;i.frozenFields.forEach(m=>{d-=i.all[m].computedWidth,p-=i.all[m].flex});for(let m=0;m<o.length;m+=1){const f=o[m];if(i.all[f.field]&&i.all[f.field].frozen===!0)continue;let y=d/p*f.flex;y<f.minWidth?(g+=f.minWidth-y,y=f.minWidth,l.min[f.field]=!0):y>f.maxWidth&&(g+=f.maxWidth-y,y=f.maxWidth,l.max[f.field]=!0),i.all[f.field]={frozen:!1,computedWidth:y,flex:f.flex}}g<0?Object.keys(l.max).forEach(m=>{i.freeze(m)}):g>0?Object.keys(l.min).forEach(m=>{i.freeze(m)}):o.forEach(({field:m})=>{i.freeze(m)}),a()}return a(),i.all}const Nl=(e,t)=>{const o={};let s=0,i=0;const a=[];e.orderedFields.forEach(d=>{const p=I({},e.lookup[d]);if(e.columnVisibilityModel[d]===!1)p.computedWidth=0;else{let g;p.flex&&p.flex>0?(s+=p.flex,g=0,a.push(p)):g=Kr(p.width||eo.width,p.minWidth||eo.minWidth,p.maxWidth||eo.maxWidth),i+=g,p.computedWidth=g}o[d]=p});const l=Math.max(t-i,0);if(s>0&&t>0){const d=uI({initialFreeSpace:l,totalFlexUnits:s,flexColumns:a});Object.keys(d).forEach(p=>{o[p].computedWidth=d[p].computedWidth})}return I({},e,{lookup:o})},dI=(e,t)=>{if(!t)return e;const{orderedFields:o=[],dimensions:s={}}=t,i=Object.keys(s);if(i.length===0&&o.length===0)return e;const a={},l=[];for(let m=0;m<o.length;m+=1){const f=o[m];e.lookup[f]&&(a[f]=!0,l.push(f))}const d=l.length===0?e.orderedFields:[...l,...e.orderedFields.filter(m=>!a[m])],p=I({},e.lookup);for(let m=0;m<i.length;m+=1){const f=i[m],v=I({},p[f],{hasBeenResized:!0});Object.entries(s[f]).forEach(([y,C])=>{v[y]=C===-1?1/0:C}),p[f]=v}return I({},e,{orderedFields:d,lookup:p})};function Kd(e,t){let o=e[ym];return t&&e[t]&&(o=e[t]),o}const Or=({apiRef:e,columnsToUpsert:t,initialState:o,columnTypes:s,columnVisibilityModel:i=Yn(e),keepOnlyColumnsToUpsert:a=!1})=>{var l,d,p;const g=!e.current.state.columns;let m;if(g)m={orderedFields:[],lookup:{},columnVisibilityModel:i};else{const C=ir(e.current.state);m={orderedFields:a?[]:[...C.orderedFields],lookup:I({},C.lookup),columnVisibilityModel:i}}let f={};a&&!g&&(f=Object.keys(m.lookup).reduce((C,x)=>I({},C,{[x]:!1}),{})),t.forEach(C=>{const{field:x}=C;f[x]=!0;let S=m.lookup[x];S==null?(S=I({},Kd(s,C.type),{field:x,hasBeenResized:!1}),m.orderedFields.push(x)):a&&m.orderedFields.push(x),S&&S.type!==C.type&&(S=I({},Kd(s,C.type),{field:x}));let _=S.hasBeenResized;xm.forEach(P=>{C[P]!==void 0&&(_=!0,C[P]===-1&&(C[P]=1/0))}),m.lookup[x]=I({},S,C,{hasBeenResized:_})}),a&&!g&&Object.keys(m.lookup).forEach(C=>{f[C]||delete m.lookup[C]});const v=e.current.unstable_applyPipeProcessors("hydrateColumns",m),y=dI(v,o);return Nl(y,(l=(d=(p=e.current).getRootDimensions)==null||(d=d.call(p))==null?void 0:d.viewportInnerSize.width)!=null?l:0)},Jd=e=>t=>I({},t,{columns:e});function zl({firstColumnToRender:e,apiRef:t,firstRowToRender:o,lastRowToRender:s,visibleRows:i}){let a=e;for(let l=o;l<s;l+=1)if(i[l]){const p=i[l].id,g=t.current.unstable_getCellColSpanInfo(p,e);g&&g.spannedByColSpan&&(a=g.leftVisibleCellIndex)}return a}function pI({firstColumnIndex:e,minColumnIndex:t,columnBuffer:o,firstRowToRender:s,lastRowToRender:i,apiRef:a,visibleRows:l}){const d=Math.max(e-o,t);return zl({firstColumnToRender:d,apiRef:a,firstRowToRender:s,lastRowToRender:i,visibleRows:l})}function zc(e,t){const o=Yr(e),s=js(e);return Math.floor(t*o)*((s??0)+1)}const wm=nI(),hI=(e,t,o)=>{var s,i,a,l;const d=Or({apiRef:o,columnTypes:wm,columnsToUpsert:t.columns,initialState:(s=t.initialState)==null?void 0:s.columns,columnVisibilityModel:(i=(a=t.columnVisibilityModel)!=null?a:(l=t.initialState)==null||(l=l.columns)==null?void 0:l.columnVisibilityModel)!=null?i:{},keepOnlyColumnsToUpsert:!0});return I({},e,{columns:d})};function mI(e,t){var o,s;const i=yn(e,"useGridColumns"),a=wm,l=c.useRef(t.columns),d=c.useRef(a);e.current.registerControlState({stateId:"visibleColumns",propModel:t.columnVisibilityModel,propOnChange:t.onColumnVisibilityModelChange,stateSelector:Yn,changeEvent:"columnVisibilityModelChange"});const p=c.useCallback(T=>{i.debug("Updating columns state."),e.current.setState(Jd(T)),e.current.forceUpdate(),e.current.publishEvent("columnsChange",T.orderedFields)},[i,e]),g=c.useCallback(T=>fr(e)[T],[e]),m=c.useCallback(()=>po(e),[e]),f=c.useCallback(()=>bn(e),[e]),v=c.useCallback((T,E=!0)=>(E?bn(e):po(e)).findIndex(W=>W.field===T),[e]),y=c.useCallback(T=>{const E=v(T);return Ur(e)[E]},[e,v]),C=c.useCallback(T=>{Yn(e)!==T&&(e.current.setState(B=>I({},B,{columns:Or({apiRef:e,columnTypes:a,columnsToUpsert:[],initialState:void 0,columnVisibilityModel:T,keepOnlyColumnsToUpsert:!1})})),e.current.forceUpdate())},[e,a]),x=c.useCallback(T=>{const E=Or({apiRef:e,columnTypes:a,columnsToUpsert:T,initialState:void 0,keepOnlyColumnsToUpsert:!1});p(E)},[e,p,a]),S=c.useCallback((T,E)=>{var B;const W=Yn(e),R=(B=W[T])!=null?B:!0;if(E!==R){const V=I({},W,{[T]:E});e.current.setColumnVisibilityModel(V)}},[e]),_=c.useCallback(T=>Io(e).findIndex(B=>B===T),[e]),P=c.useCallback((T,E)=>{const B=Io(e),W=_(T);if(W===E)return;i.debug(`Moving column ${T} to index ${E}`);const R=[...B],V=R.splice(W,1)[0];R.splice(E,0,V),p(I({},ir(e.current.state),{orderedFields:R}));const Z={column:e.current.getColumn(T),targetIndex:e.current.getColumnIndexRelativeToVisibleColumns(T),oldIndex:W};e.current.publishEvent("columnIndexChange",Z)},[e,i,p,_]),z=c.useCallback((T,E)=>{var B,W;i.debug(`Updating column ${T} width to ${E}`);const R=ir(e.current.state),V=R.lookup[T],Z=I({},V,{width:E,hasBeenResized:!0});p(Nl(I({},R,{lookup:I({},R.lookup,{[T]:Z})}),(B=(W=e.current.getRootDimensions())==null?void 0:W.viewportInnerSize.width)!=null?B:0)),e.current.publishEvent("columnWidthChange",{element:e.current.getColumnHeaderElement(T),colDef:Z,width:E})},[e,i,p]),D={getColumn:g,getAllColumns:m,getColumnIndex:v,getColumnPosition:y,getVisibleColumns:f,getColumnIndexRelativeToVisibleColumns:_,updateColumns:x,setColumnVisibilityModel:C,setColumnVisibility:S,setColumnWidth:z},j={setColumnIndex:P};it(e,D,"public"),it(e,j,t.signature===ho.DataGrid?"private":"public");const k=c.useCallback((T,E)=>{var B,W;const R={},V=Yn(e);(!E.exportOnlyDirtyModels||t.columnVisibilityModel!=null||Object.keys((B=(W=t.initialState)==null||(W=W.columns)==null?void 0:W.columnVisibilityModel)!=null?B:{}).length>0||Object.keys(V).length>0)&&(R.columnVisibilityModel=V),R.orderedFields=Io(e);const q=po(e),ee={};return q.forEach(X=>{if(X.hasBeenResized){const te={};xm.forEach(Y=>{let ne=X[Y];ne===1/0&&(ne=-1),te[Y]=ne}),ee[X.field]=te}}),Object.keys(ee).length>0&&(R.dimensions=ee),I({},T,{columns:R})},[e,t.columnVisibilityModel,(o=t.initialState)==null?void 0:o.columns]),M=c.useCallback((T,E)=>{var B;const W=(B=E.stateToRestore.columns)==null?void 0:B.columnVisibilityModel,R=E.stateToRestore.columns;if(W==null&&R==null)return T;const V=Or({apiRef:e,columnTypes:a,columnsToUpsert:[],initialState:R,columnVisibilityModel:W,keepOnlyColumnsToUpsert:!1});return e.current.setState(Jd(V)),R!=null&&e.current.publishEvent("columnsChange",V.orderedFields),T},[e,a]),A=c.useCallback((T,E)=>{if(E===no.columns){var B;const W=t.slots.columnsPanel;return h.jsx(W,I({},(B=t.slotProps)==null?void 0:B.columnsPanel))}return T},[t.slots.columnsPanel,(s=t.slotProps)==null?void 0:s.columnsPanel]),N=c.useCallback(T=>t.disableColumnSelector?T:[...T,"columnMenuColumnsItem"],[t.disableColumnSelector]);tn(e,"columnMenu",N),tn(e,"exportState",k),tn(e,"restoreState",M),tn(e,"preferencePanel",A);const F=c.useRef(null);Ge(e,"viewportInnerSizeChange",T=>{F.current!==T.width&&(F.current=T.width,p(Nl(ir(e.current.state),T.width)))});const G=c.useCallback(()=>{i.info("Columns pipe processing have changed, regenerating the columns");const T=Or({apiRef:e,columnTypes:a,columnsToUpsert:[],initialState:void 0,keepOnlyColumnsToUpsert:!1});p(T)},[e,i,p,a]);Nc(e,"hydrateColumns",G);const H=c.useRef(!0);c.useEffect(()=>{if(H.current){H.current=!1;return}if(i.info(`GridColumns have changed, new length ${t.columns.length}`),l.current===t.columns&&d.current===a)return;const T=Or({apiRef:e,columnTypes:a,initialState:void 0,columnsToUpsert:t.columns,keepOnlyColumnsToUpsert:!0});l.current=t.columns,d.current=a,p(T)},[i,e,p,t.columns,a]),c.useEffect(()=>{t.columnVisibilityModel!==void 0&&e.current.setColumnVisibilityModel(t.columnVisibilityModel)},[e,i,t.columnVisibilityModel])}const fI=.7,gI=1.3,Sm={compact:fI,comfortable:gI,standard:1},vI=(e,t)=>I({},e,{density:{value:t.density,factor:Sm[t.density]}}),bI=(e,t)=>{const o=yn(e,"useDensity"),s=c.useCallback(a=>{o.debug(`Set grid density to ${a}`),e.current.setState(l=>{const d=Sc(l),p={value:a,factor:Sm[a]};return lr(d,p)?l:I({},l,{density:p})}),e.current.forceUpdate()},[o,e]);c.useEffect(()=>{e.current.setDensity(t.density)},[e,t.density]),it(e,{setDensity:s},"public")};function yI(e,t="csv",o=document.title||"untitled"){const s=`${o}.${t}`;if("download"in HTMLAnchorElement.prototype){const i=URL.createObjectURL(e),a=document.createElement("a");a.href=i,a.download=s,a.click(),setTimeout(()=>{URL.revokeObjectURL(i)});return}throw new Error("MUI: exportAs not supported")}const _m=({apiRef:e,options:t})=>{const o=po(e);return t.fields?t.fields.reduce((i,a)=>{const l=o.find(d=>d.field===a);return l&&i.push(l),i},[]):(t.allColumns?o:bn(e)).filter(i=>!i.disableExport)},CI=({apiRef:e})=>{var t,o;const s=_x(e),i=Xn(e),a=e.current.getSelectedRows(),l=s.filter(m=>i[m].type!=="footer"),d=Xr(e),p=(d==null||(t=d.top)==null?void 0:t.map(m=>m.id))||[],g=(d==null||(o=d.bottom)==null?void 0:o.map(m=>m.id))||[];return l.unshift(...p),l.push(...g),a.size>0?l.filter(m=>a.has(m)):l},xI=(e,t)=>{const o=yn(e,"useGridCsvExport"),s=t.unstable_ignoreValueFormatterDuringExport,i=(typeof s=="object"?s==null?void 0:s.csvExport:s)||!1,a=c.useCallback((g={})=>{var m,f,v,y,C;o.debug("Get data as CSV");const x=_m({apiRef:e,options:g}),_=((m=g.getRowsToExport)!=null?m:CI)({apiRef:e});return rI({columns:x,rowIds:_,csvOptions:{delimiter:g.delimiter||",",shouldAppendQuotes:(f=g.shouldAppendQuotes)!=null?f:!0,includeHeaders:(v=g.includeHeaders)!=null?v:!0,includeColumnGroupsHeaders:(y=g.includeColumnGroupsHeaders)!=null?y:!0,escapeFormulas:(C=g.escapeFormulas)!=null?C:!0},ignoreValueFormatter:i,apiRef:e})},[o,e,i]),l=c.useCallback(g=>{o.debug("Export data as CSV");const m=a(g),f=new Blob([g!=null&&g.utf8WithBom?new Uint8Array([239,187,191]):"",m],{type:"text/csv"});yI(f,"csv",g==null?void 0:g.fileName)},[o,a]);it(e,{getDataAsCsv:a,exportDataAsCsv:l},"public");const p=c.useCallback((g,m)=>{var f;return(f=m.csvOptions)!=null&&f.disableToolbarButton?g:[...g,{component:h.jsx(U1,{options:m.csvOptions}),componentName:"csvExport"}]},[]);tn(e,"exportMenu",p)},ki=(e,t,o)=>{var s;let i=e.paginationModel;const a=e.rowCount,l=(s=o==null?void 0:o.pageSize)!=null?s:i.pageSize,d=qh(a,l);o&&((o==null?void 0:o.page)!==i.page||(o==null?void 0:o.pageSize)!==i.pageSize)&&(i=o);const p=LS(i.page,d);return p!==i.page&&(i=I({},i,{page:p})),Yh(i.pageSize,t),i},wI=(e,t)=>{var o;const s=yn(e,"useGridPaginationModel"),i=Re(e,Yr),a=Math.floor(t.rowHeight*i);e.current.registerControlState({stateId:"paginationModel",propModel:t.paginationModel,propOnChange:t.onPaginationModelChange,stateSelector:Gn,changeEvent:"paginationModelChange"});const l=c.useCallback(x=>{const S=Gn(e);x!==S.page&&(s.debug(`Setting page to ${x}`),e.current.setPaginationModel({page:x,pageSize:S.pageSize}))},[e,s]),d=c.useCallback(x=>{const S=Gn(e);x!==S.pageSize&&(s.debug(`Setting page size to ${x}`),e.current.setPaginationModel({pageSize:x,page:S.page}))},[e,s]),p=c.useCallback(x=>{const S=Gn(e);x!==S&&(s.debug("Setting 'paginationModel' to",x),e.current.setState(_=>I({},_,{pagination:I({},_.pagination,{paginationModel:ki(_.pagination,t.signature,x)})})))},[e,s,t.signature]);it(e,{setPage:l,setPageSize:d,setPaginationModel:p},"public");const m=c.useCallback((x,S)=>{var _;const P=Gn(e);return!S.exportOnlyDirtyModels||t.paginationModel!=null||((_=t.initialState)==null||(_=_.pagination)==null?void 0:_.paginationModel)!=null||P.page!==0&&P.pageSize!==RS(t.autoPageSize)?I({},x,{pagination:I({},x.pagination,{paginationModel:P})}):x},[e,t.paginationModel,(o=t.initialState)==null||(o=o.pagination)==null?void 0:o.paginationModel,t.autoPageSize]),f=c.useCallback((x,S)=>{var _,P;const z=(_=S.stateToRestore.pagination)!=null&&_.paginationModel?I({},Xh(t.autoPageSize),(P=S.stateToRestore.pagination)==null?void 0:P.paginationModel):Gn(e);return e.current.setState(D=>I({},D,{pagination:I({},D.pagination,{paginationModel:ki(D.pagination,t.signature,z)})})),x},[e,t.autoPageSize,t.signature]);tn(e,"exportState",m),tn(e,"restoreState",f);const v=()=>{var x;const S=Gn(e);(x=e.current.virtualScrollerRef)!=null&&x.current&&e.current.scrollToIndexes({rowIndex:S.page*S.pageSize})},y=c.useCallback(()=>{if(!t.autoPageSize)return;const x=e.current.getRootDimensions()||{viewportInnerSize:{height:0}},S=Nh(e),_=Math.floor((x.viewportInnerSize.height-S.top-S.bottom)/a);e.current.setPageSize(_)},[e,t.autoPageSize,a]),C=c.useCallback(x=>{if(x==null)return;const S=Gn(e),_=OS(e);S.page>_-1&&e.current.setPage(Math.max(0,_-1))},[e]);Ge(e,"viewportInnerSizeChange",y),Ge(e,"paginationModelChange",v),Ge(e,"rowCountChange",C),c.useEffect(()=>{e.current.setState(x=>I({},x,{pagination:I({},x.pagination,{paginationModel:ki(x.pagination,t.signature,t.paginationModel)})}))},[e,t.paginationModel,t.paginationMode,t.signature]),c.useEffect(y,[y])};function SI(){return new Promise(e=>{requestAnimationFrame(()=>{e()})})}function _I(e){const t=document.createElement("iframe");return t.style.position="absolute",t.style.width="0px",t.style.height="0px",t.title=e||document.title,t}const PI=(e,t)=>{const o=yn(e,"useGridPrintExport"),s=c.useRef(null),i=c.useRef(null),a=c.useRef({}),l=c.useRef([]);c.useEffect(()=>{s.current=$s(e.current.rootElementRef.current)},[e]);const d=c.useCallback((C,x,S)=>new Promise(_=>{const P=_m({apiRef:e,options:{fields:C,allColumns:x}}).map(j=>j.field),z=po(e),D={};z.forEach(j=>{D[j.field]=P.includes(j.field)}),S&&(D[Qr.field]=!0),e.current.setColumnVisibilityModel(D),_()}),[e]),p=c.useCallback(C=>{const S=C({apiRef:e}).map(_=>e.current.getRow(_));e.current.setRows(S)},[e]),g=c.useCallback((C,x)=>{var S,_;const P=I({copyStyles:!0,hideToolbar:!1,hideFooter:!1,includeCheckboxes:!1},x),z=C.contentDocument;if(!z)return;const D=Ds(e.current.state),j=e.current.rootElementRef.current,k=j.cloneNode(!0),M=k.querySelector(`.${J.main}`);M.style.overflow="visible",k.style.contain="size";const N=k.querySelector(`.${J.columnHeaders}`).querySelector(`.${J.columnHeadersInner}`);N.style.width="100%";let F=((S=j.querySelector(`.${J.toolbarContainer}`))==null?void 0:S.offsetHeight)||0,$=((_=j.querySelector(`.${J.footerContainer}`))==null?void 0:_.offsetHeight)||0;if(P.hideToolbar){var G;(G=k.querySelector(`.${J.toolbarContainer}`))==null||G.remove(),F=0}if(P.hideFooter){var H;(H=k.querySelector(`.${J.footerContainer}`))==null||H.remove(),$=0}const T=D.currentPageTotalHeight+zc(e,t.columnHeaderHeight)+F+$;if(k.style.height=`${T}px`,k.style.boxSizing="content-box",x!=null&&x.getRowsToExport){const R=k.querySelector(`.${J.footerContainer}`);R.style.position="absolute",R.style.width="100%",R.style.top=`${T-$}px`}const E=document.createElement("div");E.appendChild(k),z.body.innerHTML=E.innerHTML;const B=typeof P.pageStyle=="function"?P.pageStyle():P.pageStyle;if(typeof B=="string"){const R=z.createElement("style");R.appendChild(z.createTextNode(B)),z.head.appendChild(R)}P.bodyClassName&&z.body.classList.add(...P.bodyClassName.split(" "));const W=[];if(P.copyStyles){const R=j.getRootNode(),Z=(R.constructor.name==="ShadowRoot"?R:s.current).querySelectorAll("style, link[rel='stylesheet']");for(let q=0;q<Z.length;q+=1){const ee=Z[q];if(ee.tagName==="STYLE"){const X=z.createElement(ee.tagName),te=ee.sheet;if(te){let Y="";for(let ne=0;ne<te.cssRules.length;ne+=1)typeof te.cssRules[ne].cssText=="string"&&(Y+=`${te.cssRules[ne].cssText}\r
`);X.appendChild(z.createTextNode(Y)),z.head.appendChild(X)}}else if(ee.getAttribute("href")){const X=z.createElement(ee.tagName);for(let te=0;te<ee.attributes.length;te+=1){const Y=ee.attributes[te];Y&&X.setAttribute(Y.nodeName,Y.nodeValue||"")}W.push(new Promise(te=>{X.addEventListener("load",()=>te())})),z.head.appendChild(X)}}}Promise.all(W).then(()=>{C.contentWindow.print()})},[e,s,t.columnHeaderHeight]),m=c.useCallback(C=>{var x;s.current.body.removeChild(C),e.current.restoreState(i.current||{}),(x=i.current)!=null&&(x=x.columns)!=null&&x.columnVisibilityModel||e.current.setColumnVisibilityModel(a.current),e.current.unstable_setVirtualization(!0),e.current.setRows(l.current),i.current=null,a.current={},l.current=[]},[e]),v={exportDataAsPrint:c.useCallback(async C=>{if(o.debug("Export data as Print"),!e.current.rootElementRef.current)throw new Error("MUI: No grid root element available.");i.current=e.current.exportState(),a.current=Yn(e);const x=Po(e);if(l.current=bs(e).map(_=>x[_]),t.pagination){const P={page:0,pageSize:Ah(e)};e.current.setState(z=>I({},z,{pagination:I({},z.pagination,{paginationModel:ki(z.pagination,"DataGridPro",P)})})),e.current.forceUpdate()}await d(C==null?void 0:C.fields,C==null?void 0:C.allColumns,C==null?void 0:C.includeCheckboxes),C!=null&&C.getRowsToExport&&p(C.getRowsToExport),e.current.unstable_setVirtualization(!1),await SI();const S=_I(C==null?void 0:C.fileName);S.onload=()=>{g(S,C),S.contentWindow.matchMedia("print").addEventListener("change",P=>{P.matches===!1&&m(S)})},s.current.body.appendChild(S)},[t,o,e,g,m,d,p])};it(e,v,"public");const y=c.useCallback((C,x)=>{var S;return(S=x.printOptions)!=null&&S.disableToolbarButton?C:[...C,{component:h.jsx(K1,{options:x.printOptions}),componentName:"printExport"}]},[]);tn(e,"exportMenu",y)},II=(e,t,o)=>{var s,i,a;const l=(s=(i=t.filterModel)!=null?i:(a=t.initialState)==null||(a=a.filter)==null?void 0:a.filterModel)!=null?s:Es();return I({},e,{filter:{filterModel:hm(l,t.disableMultipleColumnsFiltering,o),filteredRowsLookup:{},filteredDescendantCountLookup:{}},visibleRowsLookup:{}})},TI=e=>e.filteredRowsLookup;function qd(e,t){return e.current.applyStrategyProcessor("visibleRowsLookupCreation",{tree:t.rows.tree,filteredRowsLookup:t.filter.filteredRowsLookup})}function kI(){return pa(Object.values)}const MI=(e,t)=>{var o,s;const i=yn(e,"useGridFilter");e.current.registerControlState({stateId:"filter",propModel:t.filterModel,propOnChange:t.onFilterModelChange,stateSelector:dn,changeEvent:"filterModelChange"});const a=c.useCallback(()=>{e.current.setState(F=>{const $=dn(F,e.current.instanceId),G=t.filterMode==="client"?gP($,e,t.disableEval):null,H=e.current.applyStrategyProcessor("filtering",{isRowMatchingFilters:G,filterModel:$??Es()}),T=I({},F,{filter:I({},F.filter,H)}),E=qd(e,T);return I({},T,{visibleRowsLookup:E})}),e.current.publishEvent("filteredRowsSet")},[e,t.filterMode,t.disableEval]),l=c.useCallback((F,$)=>$==null||$.filterable===!1||t.disableColumnFilter?F:[...F,"columnMenuFilterItem"],[t.disableColumnFilter]),d=c.useCallback(()=>{a(),e.current.forceUpdate()},[e,a]),p=c.useCallback(F=>{const $=dn(e),G=[...$.items],H=G.findIndex(T=>T.id===F.id);H===-1?G.push(F):G[H]=F,e.current.setFilterModel(I({},$,{items:G}),"upsertFilterItem")},[e]),g=c.useCallback(F=>{const $=dn(e),G=[...$.items];F.forEach(H=>{const T=F.findIndex(E=>E.id===H.id);T===-1?G.push(H):G[T]=H}),e.current.setFilterModel(I({},$,{items:F}),"upsertFilterItems")},[e]),m=c.useCallback(F=>{const $=dn(e),G=$.items.filter(H=>H.id!==F.id);G.length!==$.items.length&&e.current.setFilterModel(I({},$,{items:G}),"deleteFilterItem")},[e]),f=c.useCallback((F,$,G)=>{if(i.debug("Displaying filter panel"),F){const H=dn(e),T=H.items.filter(R=>{var V;if(R.value!==void 0)return!(Array.isArray(R.value)&&R.value.length===0);const q=(V=e.current.getColumn(R.field).filterOperators)==null?void 0:V.find(X=>X.value===R.operator);return!(typeof(q==null?void 0:q.requiresFilterValue)>"u"?!0:q==null?void 0:q.requiresFilterValue)});let E;const B=T.find(R=>R.field===F),W=e.current.getColumn(F);B?E=T:t.disableMultipleColumnsFiltering?E=[Ll({field:F,operator:W.filterOperators[0].value},e)]:E=[...T,Ll({field:F,operator:W.filterOperators[0].value},e)],e.current.setFilterModel(I({},H,{items:E}))}e.current.showPreferences(no.filters,$,G)},[e,i,t.disableMultipleColumnsFiltering]),v=c.useCallback(()=>{i.debug("Hiding filter panel"),e.current.hidePreferences()},[e,i]),y=c.useCallback(F=>{const $=dn(e);$.logicOperator!==F&&e.current.setFilterModel(I({},$,{logicOperator:F}),"changeLogicOperator")},[e]),C=c.useCallback(F=>{const $=dn(e);lr($.quickFilterValues,F)||e.current.setFilterModel(I({},$,{quickFilterValues:[...F]}))},[e]),x=c.useCallback((F,$)=>{dn(e)!==F&&(i.debug("Setting filter model"),e.current.updateControlState("filter",zd(F,t.disableMultipleColumnsFiltering,e),$),e.current.unstable_applyFilters())},[e,i,t.disableMultipleColumnsFiltering]),S={setFilterLogicOperator:y,unstable_applyFilters:d,deleteFilterItem:m,upsertFilterItem:p,upsertFilterItems:g,setFilterModel:x,showFilterPanel:f,hideFilterPanel:v,setQuickFilterValues:C,ignoreDiacritics:t.ignoreDiacritics};it(e,S,"public");const _=c.useCallback((F,$)=>{var G;const H=dn(e);return!$.exportOnlyDirtyModels||t.filterModel!=null||((G=t.initialState)==null||(G=G.filter)==null?void 0:G.filterModel)!=null||!lr(H,Es())?I({},F,{filter:{filterModel:H}}):F},[e,t.filterModel,(o=t.initialState)==null||(o=o.filter)==null?void 0:o.filterModel]),P=c.useCallback((F,$)=>{var G;const H=(G=$.stateToRestore.filter)==null?void 0:G.filterModel;return H==null?F:(e.current.updateControlState("filter",zd(H,t.disableMultipleColumnsFiltering,e),"restoreState"),I({},F,{callbacks:[...F.callbacks,e.current.unstable_applyFilters]}))},[e,t.disableMultipleColumnsFiltering]),z=c.useCallback((F,$)=>{if($===no.filters){var G;const H=t.slots.filterPanel;return h.jsx(H,I({},(G=t.slotProps)==null?void 0:G.filterPanel))}return F},[t.slots.filterPanel,(s=t.slotProps)==null?void 0:s.filterPanel]),{getRowId:D}=t,j=pc(kI),k=c.useCallback(F=>{if(t.filterMode!=="client"||!F.isRowMatchingFilters)return{filteredRowsLookup:{},filteredDescendantCountLookup:{}};const $=Po(e),G={},{isRowMatchingFilters:H}=F,T={},E={passingFilterItems:null,passingQuickFilterValues:null},B=j.current(e.current.state.rows.dataRowIdToModelLookup);for(let V=0;V<B.length;V+=1){const Z=B[V],q=D?D(Z):Z.id;H(Z,void 0,E);const ee=bP([E.passingFilterItems],[E.passingQuickFilterValues],F.filterModel,e,T);G[q]=ee}const W="auto-generated-group-footer-root";return $[W]&&(G[W]=!0),{filteredRowsLookup:G,filteredDescendantCountLookup:{}}},[e,t.filterMode,D,j]);tn(e,"columnMenu",l),tn(e,"exportState",_),tn(e,"restoreState",P),tn(e,"preferencePanel",z),Ji(e,pr,"filtering",k),Ji(e,pr,"visibleRowsLookupCreation",TI);const M=c.useCallback(()=>{i.debug("onColUpdated - GridColumns changed, applying filters");const F=dn(e),$=ux(e),G=F.items.filter(H=>H.field&&$[H.field]);G.length<F.items.length&&e.current.setFilterModel(I({},F,{items:G}))},[e,i]),A=c.useCallback(F=>{F==="filtering"&&e.current.unstable_applyFilters()},[e]),N=c.useCallback(()=>{e.current.setState(F=>I({},F,{visibleRowsLookup:qd(e,F)})),e.current.forceUpdate()},[e]);Ge(e,"rowsSet",a),Ge(e,"columnsChange",M),Ge(e,"activeStrategyProcessorChange",A),Ge(e,"rowExpansionChange",N),Ge(e,"columnVisibilityModelChange",()=>{const F=dn(e);F.quickFilterValues&&F.quickFilterExcludeHiddenColumns&&e.current.unstable_applyFilters()}),Vs(()=>{e.current.unstable_applyFilters()}),mn(()=>{t.filterModel!==void 0&&e.current.setFilterModel(t.filterModel)},[e,i,t.filterModel])},AI=e=>I({},e,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null},tabIndex:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}}),EI=(e,t)=>{const o=yn(e,"useGridFocus"),s=c.useRef(null),i=c.useCallback((M,A)=>{M&&e.current.getRow(M.id)&&e.current.publishEvent("cellFocusOut",e.current.getCellParams(M.id,M.field),A)},[e]),a=c.useCallback((M,A)=>{const N=Rn(e);(N==null?void 0:N.id)===M&&(N==null?void 0:N.field)===A||(e.current.setState(F=>(o.debug(`Focusing on cell with id=${M} and field=${A}`),I({},F,{tabIndex:{cell:{id:M,field:A},columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null},focus:{cell:{id:M,field:A},columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}}))),e.current.forceUpdate(),e.current.getRow(M)&&(N&&i(N,{}),e.current.publishEvent("cellFocusIn",e.current.getCellParams(M,A))))},[e,o,i]),l=c.useCallback((M,A={})=>{const N=Rn(e);i(N,A),e.current.setState(F=>(o.debug(`Focusing on column header with colIndex=${M}`),I({},F,{tabIndex:{columnHeader:{field:M},columnHeaderFilter:null,cell:null,columnGroupHeader:null},focus:{columnHeader:{field:M},columnHeaderFilter:null,cell:null,columnGroupHeader:null}}))),e.current.forceUpdate()},[e,o,i]),d=c.useCallback((M,A={})=>{const N=Rn(e);i(N,A),e.current.setState(F=>(o.debug(`Focusing on column header filter with colIndex=${M}`),I({},F,{tabIndex:{columnHeader:null,columnHeaderFilter:{field:M},cell:null,columnGroupHeader:null},focus:{columnHeader:null,columnHeaderFilter:{field:M},cell:null,columnGroupHeader:null}}))),e.current.forceUpdate()},[e,o,i]),p=c.useCallback((M,A,N={})=>{const F=Rn(e);F&&e.current.publishEvent("cellFocusOut",e.current.getCellParams(F.id,F.field),N),e.current.setState($=>I({},$,{tabIndex:{columnGroupHeader:{field:M,depth:A},columnHeader:null,columnHeaderFilter:null,cell:null},focus:{columnGroupHeader:{field:M,depth:A},columnHeader:null,columnHeaderFilter:null,cell:null}})),e.current.forceUpdate()},[e]),g=c.useCallback(()=>Bi(e),[e]),m=c.useCallback((M,A,N)=>{let F=e.current.getColumnIndex(A);const $=bn(e),G=Ui(e,{pagination:t.pagination,paginationMode:t.paginationMode}),H=Xr(e),T=[].concat(H.top||[],G.rows,H.bottom||[]);let E=T.findIndex(V=>V.id===M);N==="right"?F+=1:N==="left"?F-=1:E+=1,F>=$.length?(E+=1,E<T.length&&(F=0)):F<0&&(E-=1,E>=0&&(F=$.length-1)),E=Kr(E,0,T.length-1);const B=T[E];if(!B)return;const W=e.current.unstable_getCellColSpanInfo(B.id,F);W&&W.spannedByColSpan&&(N==="left"||N==="below"?F=W.leftVisibleCellIndex:N==="right"&&(F=W.rightVisibleCellIndex)),F=Kr(F,0,$.length-1);const R=$[F];e.current.setCellFocus(B.id,R.field)},[e,t.pagination,t.paginationMode]),f=c.useCallback(({id:M,field:A})=>{e.current.setCellFocus(M,A)},[e]),v=c.useCallback((M,A)=>{A.key==="Enter"||A.key==="Tab"||A.key==="Shift"||Wi(A.key)||e.current.setCellFocus(M.id,M.field)},[e]),y=c.useCallback(({field:M},A)=>{A.target===A.currentTarget&&e.current.setColumnHeaderFocus(M,A)},[e]),C=c.useCallback(({fields:M,depth:A},N)=>{if(N.target!==N.currentTarget)return;const F=Bi(e);F!==null&&F.depth===A&&M.includes(F.field)||e.current.setColumnGroupHeaderFocus(M[0],A,N)},[e]),x=c.useCallback((M,A)=>{var N;(N=A.relatedTarget)!=null&&N.className.includes(J.columnHeader)||(o.debug("Clearing focus"),e.current.setState(F=>I({},F,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}})))},[o,e]),S=c.useCallback(M=>{s.current=M},[]),_=c.useCallback(M=>{const A=s.current;s.current=null;const N=Rn(e);if(!e.current.unstable_applyPipeProcessors("canUpdateFocus",!0,{event:M,cell:A}))return;if(!N){A&&e.current.setCellFocus(A.id,A.field);return}if((A==null?void 0:A.id)===N.id&&(A==null?void 0:A.field)===N.field)return;const $=e.current.getCellElement(N.id,N.field);$!=null&&$.contains(M.target)||(A?e.current.setCellFocus(A.id,A.field):(e.current.setState(G=>I({},G,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}})),e.current.forceUpdate(),i(N,M)))},[e,i]),P=c.useCallback(M=>{if(M.cellMode==="view")return;const A=Rn(e);((A==null?void 0:A.id)!==M.id||(A==null?void 0:A.field)!==M.field)&&e.current.setCellFocus(M.id,M.field)},[e]),z=c.useCallback(()=>{const M=Rn(e);M&&!e.current.getRow(M.id)&&e.current.setState(A=>I({},A,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}}))},[e]),D=Qn(()=>{const M=Rn(e);if(!M)return;const A=Ui(e,{pagination:t.pagination,paginationMode:t.paginationMode});if(A.rows.find($=>$.id===M.id))return;const F=bn(e);e.current.setState($=>I({},$,{tabIndex:{cell:{id:A.rows[0].id,field:F[0].field},columnGroupHeader:null,columnHeader:null,columnHeaderFilter:null}}))}),j={setCellFocus:a,setColumnHeaderFocus:l,setColumnHeaderFilterFocus:d},k={moveFocusToRelativeCell:m,setColumnGroupHeaderFocus:p,getColumnGroupHeaderFocus:g};it(e,j,"public"),it(e,k,"private"),c.useEffect(()=>{const M=$s(e.current.rootElementRef.current);return M.addEventListener("mouseup",_),()=>{M.removeEventListener("mouseup",_)}},[e,_]),Ge(e,"columnHeaderBlur",x),Ge(e,"cellDoubleClick",f),Ge(e,"cellMouseDown",S),Ge(e,"cellKeyDown",v),Ge(e,"cellModeChange",P),Ge(e,"columnHeaderFocus",y),Ge(e,"columnGroupHeaderFocus",C),Ge(e,"rowsSet",z),Ge(e,"paginationModelChange",D)};function DI(e,t){const o=Xr(e)||{};return[...o.top||[],...t,...o.bottom||[]]}const hl=({currentColIndex:e,firstColIndex:t,lastColIndex:o,direction:s})=>{if(s==="rtl"){if(e<o)return e+1}else if(s==="ltr"&&e>t)return e-1;return null},ml=({currentColIndex:e,firstColIndex:t,lastColIndex:o,direction:s})=>{if(s==="rtl"){if(e>t)return e-1}else if(s==="ltr"&&e<o)return e+1;return null},RI=(e,t)=>{const o=yn(e,"useGridKeyboardNavigation"),s=gr(e,t).rows,i=zt(),a=c.useMemo(()=>DI(e,s),[e,s]),l=t.signature!=="DataGrid"&&t.unstable_headerFilters,d=c.useCallback((_,P,z="left")=>{const D=Zo(e),j=e.current.unstable_getCellColSpanInfo(P,_);j&&j.spannedByColSpan&&(z==="left"?_=j.leftVisibleCellIndex:z==="right"&&(_=j.rightVisibleCellIndex));const k=D.findIndex(A=>A.id===P);o.debug(`Navigating to cell row ${k}, col ${_}`),e.current.scrollToIndexes({colIndex:_,rowIndex:k});const M=e.current.getVisibleColumns()[_].field;e.current.setCellFocus(P,M)},[e,o]),p=c.useCallback((_,P)=>{o.debug(`Navigating to header col ${_}`),e.current.scrollToIndexes({colIndex:_});const z=e.current.getVisibleColumns()[_].field;e.current.setColumnHeaderFocus(z,P)},[e,o]),g=c.useCallback((_,P)=>{o.debug(`Navigating to header filter col ${_}`),e.current.scrollToIndexes({colIndex:_});const z=e.current.getVisibleColumns()[_].field;e.current.setColumnHeaderFilterFocus(z,P)},[e,o]),m=c.useCallback((_,P,z)=>{o.debug(`Navigating to header col ${_}`),e.current.scrollToIndexes({colIndex:_});const{field:D}=e.current.getVisibleColumns()[_];e.current.setColumnGroupHeaderFocus(D,P,z)},[e,o]),f=c.useCallback(_=>{var P;return(P=a[_])==null?void 0:P.id},[a]),v=c.useCallback((_,P)=>{const z=P.currentTarget.querySelector(`.${J.columnHeaderTitleContainerContent}`);if(!!z&&z.contains(P.target)&&_.field!==Qr.field||!e.current.getRootDimensions())return;const k=e.current.getViewportPageSize(),M=_.field?e.current.getColumnIndex(_.field):0,A=a.length>0?0:null,N=a.length-1,F=0,$=bn(e).length-1,G=js(e);let H=!0;switch(P.key){case"ArrowDown":{A!==null&&(l?g(M,P):d(M,f(A)));break}case"ArrowRight":{const T=ml({currentColIndex:M,firstColIndex:F,lastColIndex:$,direction:i.direction});T!==null&&p(T,P);break}case"ArrowLeft":{const T=hl({currentColIndex:M,firstColIndex:F,lastColIndex:$,direction:i.direction});T!==null&&p(T,P);break}case"ArrowUp":{G>0&&m(M,G-1,P);break}case"PageDown":{A!==null&&N!==null&&d(M,f(Math.min(A+k,N)));break}case"Home":{p(F,P);break}case"End":{p($,P);break}case"Enter":{(P.ctrlKey||P.metaKey)&&e.current.toggleColumnMenu(_.field);break}case" ":break;default:H=!1}H&&P.preventDefault()},[e,a.length,l,g,d,f,i.direction,p,m]),y=c.useCallback((_,P)=>{if(!e.current.getRootDimensions())return;const D=US(e)===_.field,j=KS(e)===_.field;if(D||j||!Wi(P.key))return;const k=e.current.getViewportPageSize(),M=_.field?e.current.getColumnIndex(_.field):0,A=0,N=a.length-1,F=0,$=bn(e).length-1;let G=!0;switch(P.key){case"ArrowDown":{const H=f(A);H!=null&&d(M,H);break}case"ArrowRight":{const H=ml({currentColIndex:M,firstColIndex:F,lastColIndex:$,direction:i.direction});H!==null&&g(H,P);break}case"ArrowLeft":{const H=hl({currentColIndex:M,firstColIndex:F,lastColIndex:$,direction:i.direction});H!==null?g(H,P):e.current.setColumnHeaderFilterFocus(_.field,P);break}case"ArrowUp":{p(M,P);break}case"PageDown":{N!==null&&d(M,f(Math.min(A+k,N)));break}case"Home":{g(F,P);break}case"End":{g($,P);break}case" ":break;default:G=!1}G&&P.preventDefault()},[e,a.length,g,i.direction,p,d,f]),C=c.useCallback((_,P)=>{if(!e.current.getRootDimensions())return;const D=Bi(e);if(D===null)return;const{field:j,depth:k}=D,{fields:M,depth:A,maxDepth:N}=_,F=e.current.getViewportPageSize(),$=e.current.getColumnIndex(j),G=j?e.current.getColumnIndex(j):0,H=0,T=a.length-1,E=0,B=bn(e).length-1;let W=!0;switch(P.key){case"ArrowDown":{A===N-1?p($,P):m($,k+1,P);break}case"ArrowUp":{A>0&&m($,k-1,P);break}case"ArrowRight":{const R=M.length-M.indexOf(j)-1;$+R+1<=B&&m($+R+1,k,P);break}case"ArrowLeft":{const R=M.indexOf(j);$-R-1>=E&&m($-R-1,k,P);break}case"PageDown":{T!==null&&d(G,f(Math.min(H+F,T)));break}case"Home":{m(E,k,P);break}case"End":{m(B,k,P);break}case" ":break;default:W=!1}W&&P.preventDefault()},[e,a.length,p,m,d,f]),x=c.useCallback((_,P)=>{if(Gs(P))return;const z=e.current.getCellParams(_.id,_.field);if(z.cellMode===At.Edit||!Wi(P.key)||!e.current.unstable_applyPipeProcessors("canUpdateFocus",!0,{event:P,cell:z}))return;const j=e.current.getRootDimensions();if(a.length===0||!j)return;const k=i.direction,M=e.current.getViewportPageSize(),A=_.field?e.current.getColumnIndex(_.field):0,N=a.findIndex(E=>E.id===_.id),F=0,$=a.length-1,G=0,H=bn(e).length-1;let T=!0;switch(P.key){case"ArrowDown":{N<$&&d(A,f(N+1));break}case"ArrowUp":{N>F?d(A,f(N-1)):l?g(A,P):p(A,P);break}case"ArrowRight":{const E=ml({currentColIndex:A,firstColIndex:G,lastColIndex:H,direction:k});E!==null&&d(E,f(N),k==="rtl"?"left":"right");break}case"ArrowLeft":{const E=hl({currentColIndex:A,firstColIndex:G,lastColIndex:H,direction:k});E!==null&&d(E,f(N),k==="rtl"?"right":"left");break}case"Tab":{P.shiftKey&&A>G?d(A-1,f(N),"left"):!P.shiftKey&&A<H&&d(A+1,f(N),"right");break}case" ":{if(_.field===Fc)break;const B=_.colDef;if(B&&B.type==="treeDataGroup")break;!P.shiftKey&&N<$&&d(A,f(Math.min(N+M,$)));break}case"PageDown":{N<$&&d(A,f(Math.min(N+M,$)));break}case"PageUp":{const E=Math.max(N-M,F);E!==N&&E>=F?d(A,f(E)):p(A,P);break}case"Home":{P.ctrlKey||P.metaKey||P.shiftKey?d(G,f(F)):d(G,f(N));break}case"End":{P.ctrlKey||P.metaKey||P.shiftKey?d(H,f($)):d(H,f(N));break}default:T=!1}T&&P.preventDefault()},[e,a,i.direction,d,f,l,g,p]),S=c.useCallback((_,{event:P})=>P.key===" "?!1:_,[]);tn(e,"canStartEditing",S),Ge(e,"columnHeaderKeyDown",v),Ge(e,"headerFilterKeyDown",y),Ge(e,"columnGroupHeaderKeyDown",C),Ge(e,"cellKeyDown",x)},LI=(e,t)=>{var o;const s=yn(e,"useGridRowCount"),i=Re(e,Eh),a=Re(e,$r);e.current.registerControlState({stateId:"paginationRowCount",propModel:t.rowCount,propOnChange:t.onRowCountChange,stateSelector:$r,changeEvent:"rowCountChange"});const d={setRowCount:c.useCallback(m=>{a!==m&&(s.debug("Setting 'rowCount' to",m),e.current.setState(f=>I({},f,{pagination:I({},f.pagination,{rowCount:m})})))},[e,s,a])};it(e,d,"public");const p=c.useCallback((m,f)=>{var v;const y=$r(e);return!f.exportOnlyDirtyModels||t.rowCount!=null||((v=t.initialState)==null||(v=v.pagination)==null?void 0:v.rowCount)!=null?I({},m,{pagination:I({},m.pagination,{rowCount:y})}):m},[e,t.rowCount,(o=t.initialState)==null||(o=o.pagination)==null?void 0:o.rowCount]),g=c.useCallback((m,f)=>{var v;const y=(v=f.stateToRestore.pagination)!=null&&v.rowCount?f.stateToRestore.pagination.rowCount:$r(e);return e.current.setState(C=>I({},C,{pagination:I({},C.pagination,{rowCount:y})})),m},[e]);tn(e,"exportState",p),tn(e,"restoreState",g),c.useEffect(()=>{},[t.rowCount,t.paginationMode]),c.useEffect(()=>{t.paginationMode==="client"?e.current.setRowCount(i):t.rowCount!=null&&e.current.setRowCount(t.rowCount)},[e,i,t.paginationMode,t.rowCount])},FI=(e,t)=>{var o,s,i,a,l;const d=I({},Xh(t.autoPageSize),(o=t.paginationModel)!=null?o:(s=t.initialState)==null||(s=s.pagination)==null?void 0:s.paginationModel);Yh(d.pageSize,t.signature);const p=(i=(a=t.rowCount)!=null?a:(l=t.initialState)==null||(l=l.pagination)==null?void 0:l.rowCount)!=null?i:0;return I({},e,{pagination:{paginationModel:d,rowCount:p}})},OI=(e,t)=>{wI(e,t),LI(e,t)},NI=(e,t)=>{var o,s;return I({},e,{preferencePanel:(o=(s=t.initialState)==null?void 0:s.preferencePanel)!=null?o:{open:!1}})},zI=(e,t)=>{var o;const s=yn(e,"useGridPreferencesPanel"),i=c.useRef(),a=c.useRef(),l=c.useCallback(()=>{s.debug("Hiding Preferences Panel");const v=dr(e.current.state);v.openedPanelValue&&e.current.publishEvent("preferencePanelClose",{openedPanelValue:v.openedPanelValue}),e.current.setState(y=>I({},y,{preferencePanel:{open:!1}})),e.current.forceUpdate()},[e,s]),d=c.useCallback(()=>{a.current=setTimeout(()=>clearTimeout(i.current),0)},[]),p=c.useCallback(()=>{i.current=setTimeout(l,100)},[l]),g=c.useCallback((v,y,C)=>{s.debug("Opening Preferences Panel"),d(),e.current.setState(x=>I({},x,{preferencePanel:I({},x.preferencePanel,{open:!0,openedPanelValue:v,panelId:y,labelId:C})})),e.current.publishEvent("preferencePanelOpen",{openedPanelValue:v}),e.current.forceUpdate()},[s,d,e]);it(e,{showPreferences:g,hidePreferences:p},"public");const m=c.useCallback((v,y)=>{var C;const x=dr(e.current.state);return!y.exportOnlyDirtyModels||((C=t.initialState)==null?void 0:C.preferencePanel)!=null||x.open?I({},v,{preferencePanel:x}):v},[e,(o=t.initialState)==null?void 0:o.preferencePanel]),f=c.useCallback((v,y)=>{const C=y.stateToRestore.preferencePanel;return C!=null&&e.current.setState(x=>I({},x,{preferencePanel:C})),v},[e]);tn(e,"exportState",m),tn(e,"restoreState",f),c.useEffect(()=>()=>{clearTimeout(i.current),clearTimeout(a.current)},[])},$I=["id","field"],BI=["id","field"],HI=go(["MUI: A call to `processRowUpdate` threw an error which was not handled because `onProcessRowUpdateError` is missing.","To handle the error pass a callback to the `onProcessRowUpdateError` prop, e.g. `<DataGrid onProcessRowUpdateError={(error) => ...} />`.","For more detail, see http://mui.com/components/data-grid/editing/#server-side-persistence."],"error"),jI=(e,t)=>{const[o,s]=c.useState({}),i=c.useRef(o),a=c.useRef({}),{processRowUpdate:l,onProcessRowUpdateError:d,cellModesModel:p,onCellModesModelChange:g}=t,m=T=>(...E)=>{t.editMode===fo.Cell&&T(...E)},f=c.useCallback((T,E)=>{const B=e.current.getCellParams(T,E);if(!e.current.isCellEditable(B))throw new Error(`MUI: The cell with id=${T} and field=${E} is not editable.`)},[e]),v=c.useCallback((T,E,B)=>{if(e.current.getCellMode(T,E)!==B)throw new Error(`MUI: The cell with id=${T} and field=${E} is not in ${B} mode.`)},[e]),y=c.useCallback((T,E)=>{if(!T.isEditable||T.cellMode===At.Edit)return;const B=I({},T,{reason:wo.cellDoubleClick});e.current.publishEvent("cellEditStart",B,E)},[e]),C=c.useCallback((T,E)=>{if(T.cellMode===At.View||e.current.getCellMode(T.id,T.field)===At.View)return;const B=I({},T,{reason:qn.cellFocusOut});e.current.publishEvent("cellEditStop",B,E)},[e]),x=c.useCallback((T,E)=>{if(T.cellMode===At.Edit){if(E.which===229)return;let B;if(E.key==="Escape"?B=qn.escapeKeyDown:E.key==="Enter"?B=qn.enterKeyDown:E.key==="Tab"&&(B=E.shiftKey?qn.shiftTabKeyDown:qn.tabKeyDown,E.preventDefault()),B){const W=I({},T,{reason:B});e.current.publishEvent("cellEditStop",W,E)}}else if(T.isEditable){let B;if(!e.current.unstable_applyPipeProcessors("canStartEditing",!0,{event:E,cellParams:T,editMode:"cell"}))return;if(Gh(E)?B=wo.printableKeyDown:(E.ctrlKey||E.metaKey)&&E.key==="v"?B=wo.pasteKeyDown:E.key==="Enter"?B=wo.enterKeyDown:(E.key==="Delete"||E.key==="Backspace")&&(B=wo.deleteKeyDown),B){const R=I({},T,{reason:B,key:E.key});e.current.publishEvent("cellEditStart",R,E)}}},[e]),S=c.useCallback(T=>{const{id:E,field:B,reason:W}=T,R={id:E,field:B};(W===wo.printableKeyDown||W===wo.deleteKeyDown||W===wo.pasteKeyDown)&&(R.deleteValue=!0),e.current.startCellEditMode(R)},[e]),_=c.useCallback(T=>{const{id:E,field:B,reason:W}=T;e.current.runPendingEditCellValueMutation(E,B);let R;W===qn.enterKeyDown?R="below":W===qn.tabKeyDown?R="right":W===qn.shiftTabKeyDown&&(R="left");const V=W==="escapeKeyDown";e.current.stopCellEditMode({id:E,field:B,ignoreModifications:V,cellToFocusAfter:R})},[e]);Ge(e,"cellDoubleClick",m(y)),Ge(e,"cellFocusOut",m(C)),Ge(e,"cellKeyDown",m(x)),Ge(e,"cellEditStart",m(S)),Ge(e,"cellEditStop",m(_)),Ot(e,"cellEditStart",t.onCellEditStart),Ot(e,"cellEditStop",t.onCellEditStop);const P=c.useCallback((T,E)=>{const B=_n(e.current.state);return B[T]&&B[T][E]?At.Edit:At.View},[e]),z=Qn(T=>{const E=T!==t.cellModesModel;g&&E&&g(T,{}),!(t.cellModesModel&&E)&&(s(T),i.current=T,e.current.publishEvent("cellModesModelChange",T))}),D=c.useCallback((T,E,B)=>{const W=I({},i.current);if(B!==null)W[T]=I({},W[T],{[E]:I({},B)});else{const R=W[T],V=Ne(R,[E].map(Ms));W[T]=V,Object.keys(W[T]).length===0&&delete W[T]}z(W)},[z]),j=c.useCallback((T,E,B)=>{e.current.setState(W=>{const R=I({},W.editRows);return B!==null?R[T]=I({},R[T],{[E]:I({},B)}):(delete R[T][E],Object.keys(R[T]).length===0&&delete R[T]),I({},W,{editRows:R})}),e.current.forceUpdate()},[e]),k=c.useCallback(T=>{const{id:E,field:B}=T,W=Ne(T,$I);f(E,B),v(E,B,At.View),D(E,B,I({mode:At.Edit},W))},[f,v,D]),M=Qn(T=>{const{id:E,field:B,deleteValue:W,initialValue:R}=T;let V=e.current.getCellValue(E,B);(W||R)&&(V=W?"":R),j(E,B,{value:V,error:!1,isProcessingProps:!1}),e.current.setCellFocus(E,B)}),A=c.useCallback(T=>{const{id:E,field:B}=T,W=Ne(T,BI);v(E,B,At.Edit),D(E,B,I({mode:At.View},W))},[v,D]),N=Qn(async T=>{const{id:E,field:B,ignoreModifications:W,cellToFocusAfter:R="none"}=T;v(E,B,At.Edit),e.current.runPendingEditCellValueMutation(E,B);const V=()=>{j(E,B,null),D(E,B,null),R!=="none"&&e.current.moveFocusToRelativeCell(E,B,R)};if(W){V();return}const Z=_n(e.current.state),{error:q,isProcessingProps:ee}=Z[E][B];if(q||ee){a.current[E][B].mode=At.Edit,D(E,B,{mode:At.Edit});return}const X=e.current.getRowWithUpdatedValuesFromCellEditing(E,B);if(l){const te=Y=>{a.current[E][B].mode=At.Edit,D(E,B,{mode:At.Edit}),d?d(Y):HI()};try{const Y=e.current.getRow(E);Promise.resolve(l(X,Y)).then(ne=>{e.current.updateRows([ne]),V()}).catch(te)}catch(Y){te(Y)}}else e.current.updateRows([X]),V()}),F=c.useCallback(async T=>{var E;const{id:B,field:W,value:R,debounceMs:V,unstable_skipValueParser:Z}=T;f(B,W),v(B,W,At.Edit);const q=e.current.getColumn(W),ee=e.current.getRow(B);let X=R;q.valueParser&&!Z&&(X=q.valueParser(R,e.current.getCellParams(B,W)));let te=_n(e.current.state),Y=I({},te[B][W],{value:X,changeReason:V?"debouncedSetEditCellValue":"setEditCellValue"});if(q.preProcessEditCellProps){const ne=R!==te[B][W].value;Y=I({},Y,{isProcessingProps:!0}),j(B,W,Y),Y=await Promise.resolve(q.preProcessEditCellProps({id:B,row:ee,props:Y,hasChanged:ne}))}return e.current.getCellMode(B,W)===At.View?!1:(te=_n(e.current.state),Y=I({},Y,{isProcessingProps:!1}),Y.value=q.preProcessEditCellProps?te[B][W].value:X,j(B,W,Y),te=_n(e.current.state),!((E=te[B])!=null&&(E=E[W])!=null&&E.error))},[e,f,v,j]),$=c.useCallback((T,E)=>{const B=e.current.getColumn(E),W=_n(e.current.state),R=e.current.getRow(T);if(!W[T]||!W[T][E])return e.current.getRow(T);const{value:V}=W[T][E];return B.valueSetter?B.valueSetter({value:V,row:R}):I({},R,{[E]:V})},[e]),G={getCellMode:P,startCellEditMode:k,stopCellEditMode:A},H={setCellEditingEditCellValue:F,getRowWithUpdatedValuesFromCellEditing:$};it(e,G,"public"),it(e,H,"private"),c.useEffect(()=>{p&&z(p)},[p,z]),mn(()=>{const T=$i(e),E=a.current;a.current=Jh(o),Object.entries(o).forEach(([B,W])=>{Object.entries(W).forEach(([R,V])=>{var Z,q;const ee=((Z=E[B])==null||(Z=Z[R])==null?void 0:Z.mode)||At.View,X=(q=T[B])!=null?q:B;V.mode===At.Edit&&ee===At.View?M(I({id:X,field:R},V)):V.mode===At.View&&ee===At.Edit&&N(I({id:X,field:R},V))})})},[e,o,M,N])},GI=["id"],VI=["id"],WI=go(["MUI: A call to `processRowUpdate` threw an error which was not handled because `onProcessRowUpdateError` is missing.","To handle the error pass a callback to the `onProcessRowUpdateError` prop, e.g. `<DataGrid onProcessRowUpdateError={(error) => ...} />`.","For more detail, see http://mui.com/components/data-grid/editing/#server-side-persistence."],"error"),ZI=(e,t)=>{const[o,s]=c.useState({}),i=c.useRef(o),a=c.useRef({}),l=c.useRef(null),d=c.useRef(null),{processRowUpdate:p,onProcessRowUpdateError:g,rowModesModel:m,onRowModesModelChange:f}=t,v=R=>(...V)=>{t.editMode===fo.Row&&R(...V)},y=c.useCallback((R,V)=>{const Z=e.current.getCellParams(R,V);if(!e.current.isCellEditable(Z))throw new Error(`MUI: The cell with id=${R} and field=${V} is not editable.`)},[e]),C=c.useCallback((R,V)=>{if(e.current.getRowMode(R)!==V)throw new Error(`MUI: The row with id=${R} is not in ${V} mode.`)},[e]),x=c.useCallback((R,V)=>{if(!R.isEditable||e.current.getRowMode(R.id)===Lt.Edit)return;const Z=e.current.getRowParams(R.id),q=I({},Z,{field:R.field,reason:Fo.cellDoubleClick});e.current.publishEvent("rowEditStart",q,V)},[e]),S=c.useCallback(R=>{d.current=R},[]),_=c.useCallback((R,V)=>{R.isEditable&&e.current.getRowMode(R.id)!==Lt.View&&(d.current=null,l.current=setTimeout(()=>{var Z;if(l.current=null,((Z=d.current)==null?void 0:Z.id)!==R.id){if(!e.current.getRow(R.id)||e.current.getRowMode(R.id)===Lt.View)return;const q=e.current.getRowParams(R.id),ee=I({},q,{field:R.field,reason:So.rowFocusOut});e.current.publishEvent("rowEditStop",ee,V)}}))},[e]);c.useEffect(()=>()=>{clearTimeout(l.current)},[]);const P=c.useCallback((R,V)=>{if(R.cellMode===Lt.Edit){if(V.which===229)return;let Z;if(V.key==="Escape")Z=So.escapeKeyDown;else if(V.key==="Enter")Z=So.enterKeyDown;else if(V.key==="Tab"){const q=ha(e).filter(ee=>e.current.getColumn(ee).type===Ca?!0:e.current.isCellEditable(e.current.getCellParams(R.id,ee)));if(V.shiftKey?R.field===q[0]&&(Z=So.shiftTabKeyDown):R.field===q[q.length-1]&&(Z=So.tabKeyDown),V.preventDefault(),!Z){const ee=q.findIndex(te=>te===R.field),X=q[V.shiftKey?ee-1:ee+1];e.current.setCellFocus(R.id,X)}}if(Z){const q=I({},e.current.getRowParams(R.id),{reason:Z,field:R.field});e.current.publishEvent("rowEditStop",q,V)}}else if(R.isEditable){let Z;if(!e.current.unstable_applyPipeProcessors("canStartEditing",!0,{event:V,cellParams:R,editMode:"row"}))return;if(Gh(V)||(V.ctrlKey||V.metaKey)&&V.key==="v"?Z=Fo.printableKeyDown:V.key==="Enter"?Z=Fo.enterKeyDown:(V.key==="Delete"||V.key==="Backspace")&&(Z=Fo.deleteKeyDown),Z){const ee=e.current.getRowParams(R.id),X=I({},ee,{field:R.field,reason:Z});e.current.publishEvent("rowEditStart",X,V)}}},[e]),z=c.useCallback(R=>{const{id:V,field:Z,reason:q}=R,ee={id:V,fieldToFocus:Z};(q===Fo.printableKeyDown||q===Fo.deleteKeyDown)&&(ee.deleteValue=!!Z),e.current.startRowEditMode(ee)},[e]),D=c.useCallback(R=>{const{id:V,reason:Z,field:q}=R;e.current.runPendingEditCellValueMutation(V);let ee;Z===So.enterKeyDown?ee="below":Z===So.tabKeyDown?ee="right":Z===So.shiftTabKeyDown&&(ee="left");const X=Z==="escapeKeyDown";e.current.stopRowEditMode({id:V,ignoreModifications:X,field:q,cellToFocusAfter:ee})},[e]);Ge(e,"cellDoubleClick",v(x)),Ge(e,"cellFocusIn",v(S)),Ge(e,"cellFocusOut",v(_)),Ge(e,"cellKeyDown",v(P)),Ge(e,"rowEditStart",v(z)),Ge(e,"rowEditStop",v(D)),Ot(e,"rowEditStart",t.onRowEditStart),Ot(e,"rowEditStop",t.onRowEditStop);const j=c.useCallback(R=>{if(t.editMode===fo.Cell)return Lt.View;const V=_n(e.current.state);return V[R]&&Object.keys(V[R]).length>0?Lt.Edit:Lt.View},[e,t.editMode]),k=Qn(R=>{const V=R!==t.rowModesModel;f&&V&&f(R,{}),!(t.rowModesModel&&V)&&(s(R),i.current=R,e.current.publishEvent("rowModesModelChange",R))}),M=c.useCallback((R,V)=>{const Z=I({},i.current);V!==null?Z[R]=I({},V):delete Z[R],k(Z)},[k]),A=c.useCallback((R,V)=>{e.current.setState(Z=>{const q=I({},Z.editRows);return V!==null?q[R]=V:delete q[R],I({},Z,{editRows:q})}),e.current.forceUpdate()},[e]),N=c.useCallback((R,V,Z)=>{e.current.setState(q=>{const ee=I({},q.editRows);return Z!==null?ee[R]=I({},ee[R],{[V]:I({},Z)}):(delete ee[R][V],Object.keys(ee[R]).length===0&&delete ee[R]),I({},q,{editRows:ee})}),e.current.forceUpdate()},[e]),F=c.useCallback(R=>{const{id:V}=R,Z=Ne(R,GI);C(V,Lt.View),M(V,I({mode:Lt.Edit},Z))},[C,M]),$=Qn(R=>{const{id:V,fieldToFocus:Z,deleteValue:q,initialValue:ee}=R,te=Io(e).reduce((Y,ne)=>{if(!e.current.getCellParams(V,ne).isEditable)return Y;let le=e.current.getCellValue(V,ne);return Z===ne&&(q||ee)&&(le=q?"":ee),Y[ne]={value:le,error:!1,isProcessingProps:!1},Y},{});A(V,te),Z&&e.current.setCellFocus(V,Z)}),G=c.useCallback(R=>{const{id:V}=R,Z=Ne(R,VI);C(V,Lt.Edit),M(V,I({mode:Lt.View},Z))},[C,M]),H=Qn(R=>{const{id:V,ignoreModifications:Z,field:q,cellToFocusAfter:ee="none"}=R;e.current.runPendingEditCellValueMutation(V);const X=()=>{ee!=="none"&&q&&e.current.moveFocusToRelativeCell(V,q,ee),A(V,null),M(V,null)};if(Z){X();return}const te=_n(e.current.state),Y=e.current.getRow(V);if(Object.values(te[V]).some(Pe=>Pe.isProcessingProps)){a.current[V].mode=Lt.Edit;return}if(Object.values(te[V]).some(Pe=>Pe.error)){a.current[V].mode=Lt.Edit,M(V,{mode:Lt.Edit});return}const le=e.current.getRowWithUpdatedValuesFromRowEditing(V);if(p){const Pe=oe=>{a.current[V].mode=Lt.Edit,M(V,{mode:Lt.Edit}),g?g(oe):WI()};try{Promise.resolve(p(le,Y)).then(oe=>{e.current.updateRows([oe]),X()}).catch(Pe)}catch(oe){Pe(oe)}}else e.current.updateRows([le]),X()}),T=c.useCallback(R=>{const{id:V,field:Z,value:q,debounceMs:ee,unstable_skipValueParser:X}=R;y(V,Z);const te=e.current.getColumn(Z),Y=e.current.getRow(V);let ne=q;te.valueParser&&!X&&(ne=te.valueParser(q,e.current.getCellParams(V,Z)));let U=_n(e.current.state),le=I({},U[V][Z],{value:ne,changeReason:ee?"debouncedSetEditCellValue":"setEditCellValue"});return te.preProcessEditCellProps||N(V,Z,le),new Promise(Pe=>{const oe=[];if(te.preProcessEditCellProps){const ue=le.value!==U[V][Z].value;le=I({},le,{isProcessingProps:!0}),N(V,Z,le);const he=U[V],ie=Ne(he,[Z].map(Ms)),ge=Promise.resolve(te.preProcessEditCellProps({id:V,row:Y,props:le,hasChanged:ue,otherFieldsProps:ie})).then(de=>{if(e.current.getRowMode(V)===Lt.View){Pe(!1);return}U=_n(e.current.state),de=I({},de,{isProcessingProps:!1}),de.value=te.preProcessEditCellProps?U[V][Z].value:ne,N(V,Z,de)});oe.push(ge)}Object.entries(U[V]).forEach(([ue,he])=>{if(ue===Z)return;const ie=e.current.getColumn(ue);if(!ie.preProcessEditCellProps)return;he=I({},he,{isProcessingProps:!0}),N(V,ue,he),U=_n(e.current.state);const ge=U[V],de=Ne(ge,[ue].map(Ms)),Ce=Promise.resolve(ie.preProcessEditCellProps({id:V,row:Y,props:he,hasChanged:!1,otherFieldsProps:de})).then(se=>{if(e.current.getRowMode(V)===Lt.View){Pe(!1);return}se=I({},se,{isProcessingProps:!1}),N(V,ue,se)});oe.push(Ce)}),Promise.all(oe).then(()=>{e.current.getRowMode(V)===Lt.Edit?(U=_n(e.current.state),Pe(!U[V][Z].error)):Pe(!1)})})},[e,y,N]),E=c.useCallback(R=>{const V=_n(e.current.state),Z=e.current.getRow(R);if(!V[R])return e.current.getRow(R);let q=I({},Z);return Object.entries(V[R]).forEach(([ee,X])=>{const te=e.current.getColumn(ee);te.valueSetter?q=te.valueSetter({value:X.value,row:q}):q[ee]=X.value}),q},[e]),B={getRowMode:j,startRowEditMode:F,stopRowEditMode:G},W={setRowEditingEditCellValue:T,getRowWithUpdatedValuesFromRowEditing:E};it(e,B,"public"),it(e,W,"private"),c.useEffect(()=>{m&&k(m)},[m,k]),mn(()=>{const R=$i(e),V=a.current;a.current=Jh(o),Object.entries(o).forEach(([Z,q])=>{var ee,X;const te=((ee=V[Z])==null?void 0:ee.mode)||Lt.View,Y=(X=R[Z])!=null?X:Z;q.mode===Lt.Edit&&te===Lt.View?$(I({id:Y},q)):q.mode===Lt.View&&te===Lt.Edit&&H(I({id:Y},q))})},[e,o,$,H])},UI=e=>I({},e,{editRows:{}}),KI=(e,t)=>{jI(e,t),ZI(e,t);const o=c.useRef({}),{isCellEditable:s}=t,i=c.useCallback(v=>As(v.rowNode)||!v.colDef.editable||!v.colDef.renderEditCell?!1:s?s(v):!0,[s]),a=(v,y,C,x)=>{if(!C){x();return}if(o.current[v]||(o.current[v]={}),o.current[v][y]){const[P]=o.current[v][y];clearTimeout(P)}const S=()=>{const[P]=o.current[v][y];clearTimeout(P),x(),delete o.current[v][y]},_=setTimeout(()=>{x(),delete o.current[v][y]},C);o.current[v][y]=[_,S]};c.useEffect(()=>{const v=o.current;return()=>{Object.entries(v).forEach(([y,C])=>{Object.keys(C).forEach(x=>{const[S]=v[y][x];clearTimeout(S),delete v[y][x]})})}},[]);const l=c.useCallback((v,y)=>{if(o.current[v]){if(!y)Object.keys(o.current[v]).forEach(C=>{const[,x]=o.current[v][C];x()});else if(o.current[v][y]){const[,C]=o.current[v][y];C()}}},[]),d=c.useCallback(v=>{const{id:y,field:C,debounceMs:x}=v;return new Promise(S=>{a(y,C,x,async()=>{const _=t.editMode===fo.Row?e.current.setRowEditingEditCellValue:e.current.setCellEditingEditCellValue;if(e.current.getCellMode(y,C)===At.Edit){const P=await _(v);S(P)}})})},[e,t.editMode]),p=c.useCallback((v,y)=>t.editMode===fo.Cell?e.current.getRowWithUpdatedValuesFromCellEditing(v,y):e.current.getRowWithUpdatedValuesFromRowEditing(v),[e,t.editMode]),g=c.useCallback((v,y)=>{var C,x;return(C=(x=_n(e.current.state)[v])==null?void 0:x[y])!=null?C:null},[e]),m={isCellEditable:i,setEditCellValue:d,getRowWithUpdatedValues:p,unstable_getEditCellMeta:g},f={runPendingEditCellValueMutation:l};it(e,m,"public"),it(e,f,"private")},JI=(e,t,o)=>(o.current.caches.rows=Ii({rows:t.rows,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),I({},e,{rows:Oh({apiRef:o,rowCountProp:t.rowCount,loadingProp:t.loading,previousTree:null,previousTreeDepths:null})})),qI=(e,t)=>{const o=yn(e,"useGridRows"),s=gr(e,t),i=c.useRef(Date.now()),a=Lc(),l=c.useCallback(H=>{const T=Po(e)[H];if(T)return T;const E=e.current.getRowNode(H);return E&&As(E)?{[Vr]:H}:null},[e]),d=t.getRowId,p=c.useCallback(H=>Vr in H?H[Vr]:d?d(H):H.id,[d]),g=c.useMemo(()=>s.rows.reduce((H,{id:T},E)=>(H[T]=E,H),{}),[s.rows]),m=c.useCallback(({cache:H,throttle:T})=>{const E=()=>{i.current=Date.now(),e.current.setState(W=>I({},W,{rows:Oh({apiRef:e,rowCountProp:t.rowCount,loadingProp:t.loading,previousTree:Xn(e),previousTreeDepths:xd(e)})})),e.current.publishEvent("rowsSet"),e.current.forceUpdate()};if(a.clear(),e.current.caches.rows=H,!T){E();return}const B=t.throttleRowsMs-(Date.now()-i.current);if(B>0){a.start(B,E);return}E()},[t.throttleRowsMs,t.rowCount,t.loading,e,a]),f=c.useCallback(H=>{o.debug(`Updating all rows, new length ${H.length}`);const T=Ii({rows:H,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),E=e.current.caches.rows;T.rowsBeforePartialUpdates=E.rowsBeforePartialUpdates,m({cache:T,throttle:!0})},[o,t.getRowId,t.loading,t.rowCount,m,e]),v=c.useCallback(H=>{if(t.signature===ho.DataGrid&&H.length>1)throw new Error(["MUI: You can't update several rows at once in `apiRef.current.updateRows` on the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join(`
`));const T=[];H.forEach(B=>{const W=ji(B,t.getRowId,"A row was provided without id when calling updateRows():"),R=e.current.getRowNode(W);if((R==null?void 0:R.type)==="pinnedRow"){const V=e.current.caches.pinnedRows,Z=V.idLookup[W];Z&&(V.idLookup[W]=I({},Z,B))}else T.push(B)});const E=Dx({updates:T,getRowId:t.getRowId,previousCache:e.current.caches.rows});m({cache:E,throttle:!0})},[t.signature,t.getRowId,m,e]),y=c.useCallback(()=>{const H=bs(e),T=Po(e);return new Map(H.map(E=>{var B;return[E,(B=T[E])!=null?B:{}]}))},[e]),C=c.useCallback(()=>fa(e),[e]),x=c.useCallback(()=>bs(e),[e]),S=c.useCallback(H=>g[H],[g]),_=c.useCallback((H,T)=>{const E=e.current.getRowNode(H);if(!E)throw new Error(`MUI: No row with id #${H} found`);if(E.type!=="group")throw new Error("MUI: Only group nodes can be expanded or collapsed");const B=I({},E,{childrenExpanded:T});e.current.setState(W=>I({},W,{rows:I({},W.rows,{tree:I({},W.rows.tree,{[H]:B})})})),e.current.forceUpdate(),e.current.publishEvent("rowExpansionChange",B)},[e]),P=c.useCallback(H=>{var T;return(T=Xn(e)[H])!=null?T:null},[e]),z=c.useCallback(({skipAutoGeneratedRows:H=!0,groupId:T,applySorting:E,applyFiltering:B})=>{const W=Xn(e);let R;if(E){const V=W[T];if(!V)return[];const Z=Cc(e);R=[];const q=Z.findIndex(ee=>ee===T)+1;for(let ee=q;ee<Z.length&&W[Z[ee]].depth>V.depth;ee+=1){const X=Z[ee];(!H||!As(W[X]))&&R.push(X)}}else R=_c(W,T,H);if(B){const V=kh(e);R=R.filter(Z=>V[Z]!==!1)}return R},[e]),D=c.useCallback((H,T)=>{const E=e.current.getRowNode(H);if(!E)throw new Error(`MUI: No row with id #${H} found`);if(E.parent!==Pn)throw new Error("MUI: The row reordering do not support reordering of grouped rows yet");if(E.type!=="leaf")throw new Error("MUI: The row reordering do not support reordering of footer or grouping rows");e.current.setState(B=>{const W=Xn(B,e.current.instanceId)[Pn],R=W.children,V=R.findIndex(q=>q===H);if(V===-1||V===T)return B;o.debug(`Moving row ${H} to index ${T}`);const Z=[...R];return Z.splice(T,0,Z.splice(V,1)[0]),I({},B,{rows:I({},B.rows,{tree:I({},B.rows.tree,{[Pn]:I({},W,{children:Z})})})})}),e.current.publishEvent("rowsSet")},[e,o]),j=c.useCallback((H,T)=>{if(t.signature===ho.DataGrid&&T.length>1)throw new Error(["MUI: You can't replace rows using `apiRef.current.unstable_replaceRows` on the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join(`
`));if(T.length===0)return;if(ga(e)>1)throw new Error("`apiRef.current.unstable_replaceRows` is not compatible with tree data and row grouping");const B=I({},Xn(e)),W=I({},Po(e)),R=I({},$i(e)),V=B[Pn],Z=[...V.children],q=new Set;for(let X=0;X<T.length;X+=1){const te=T[X],Y=ji(te,t.getRowId,"A row was provided without id when calling replaceRows()."),[ne]=Z.splice(H+X,1,Y);q.has(ne)||(delete W[ne],delete R[ne],delete B[ne]);const U={id:Y,depth:0,parent:Pn,type:"leaf",groupingKey:null};W[Y]=te,R[Y]=Y,B[Y]=U,q.add(Y)}B[Pn]=I({},V,{children:Z});const ee=Z.filter(X=>B[X].type==="leaf");e.current.caches.rows.dataRowIdToModelLookup=W,e.current.caches.rows.dataRowIdToIdLookup=R,e.current.setState(X=>I({},X,{rows:I({},X.rows,{dataRowIdToModelLookup:W,dataRowIdToIdLookup:R,dataRowIds:ee,tree:B})})),e.current.publishEvent("rowsSet")},[e,t.signature,t.getRowId]),k={getRow:l,getRowId:p,getRowModels:y,getRowsCount:C,getAllRowIds:x,setRows:f,updateRows:v,getRowNode:P,getRowIndexRelativeToVisibleRows:S,unstable_replaceRows:j},M={setRowIndex:D,setRowChildrenExpansion:_,getRowGroupChildren:z},A=c.useCallback(()=>{o.info("Row grouping pre-processing have changed, regenerating the row tree");let H;e.current.caches.rows.rowsBeforePartialUpdates===t.rows?H=I({},e.current.caches.rows,{updates:{type:"full",rows:bs(e)}}):H=Ii({rows:t.rows,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),m({cache:H,throttle:!1})},[o,e,t.rows,t.getRowId,t.loading,t.rowCount,m]),N=c.useCallback(H=>{H==="rowTreeCreation"&&A()},[A]),F=c.useCallback(()=>{e.current.getActiveStrategy("rowTree")!==fx(e)&&A()},[e,A]);Ge(e,"activeStrategyProcessorChange",N),Ge(e,"strategyAvailabilityChange",F);const $=c.useCallback(()=>{e.current.setState(H=>{const T=e.current.unstable_applyPipeProcessors("hydrateRows",{tree:Xn(H,e.current.instanceId),treeDepths:xd(H,e.current.instanceId),dataRowIds:bs(H,e.current.instanceId),dataRowIdToModelLookup:Po(H,e.current.instanceId),dataRowIdToIdLookup:$i(H,e.current.instanceId)});return I({},H,{rows:I({},H.rows,T,{totalTopLevelRowCount:Fh({tree:T.tree,rowCountProp:t.rowCount})})})}),e.current.publishEvent("rowsSet"),e.current.forceUpdate()},[e,t.rowCount]);Nc(e,"hydrateRows",$),it(e,k,"public"),it(e,M,t.signature===ho.DataGrid?"private":"public");const G=c.useRef(!0);c.useEffect(()=>{if(G.current){G.current=!1;return}const H=e.current.caches.rows.rowsBeforePartialUpdates===t.rows,T=e.current.caches.rows.loadingPropBeforePartialUpdates===t.loading,E=e.current.caches.rows.rowCountPropBeforePartialUpdates===t.rowCount;if(H){T||(e.current.setState(B=>I({},B,{rows:I({},B.rows,{loading:t.loading})})),e.current.caches.rows.loadingPropBeforePartialUpdates=t.loading,e.current.forceUpdate()),E||(e.current.setState(B=>I({},B,{rows:I({},B.rows,{totalRowCount:Math.max(t.rowCount||0,B.rows.totalRowCount),totalTopLevelRowCount:Math.max(t.rowCount||0,B.rows.totalTopLevelRowCount)})})),e.current.caches.rows.rowCountPropBeforePartialUpdates=t.rowCount,e.current.forceUpdate());return}o.debug(`Updating all rows, new length ${t.rows.length}`),m({cache:Ii({rows:t.rows,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),throttle:!1})},[t.rows,t.rowCount,t.getRowId,t.loading,o,m,e])},XI=e=>{const t={[Pn]:I({},Ax(),{children:e})};for(let o=0;o<e.length;o+=1){const s=e[o];t[s]={id:s,depth:0,parent:Pn,type:"leaf",groupingKey:null}}return{groupingName:pr,tree:t,treeDepths:{0:e.length},dataRowIds:e}},YI=({previousTree:e,actions:t})=>{const o=I({},e),s={};for(let l=0;l<t.remove.length;l+=1){const d=t.remove[l];s[d]=!0,delete o[d]}for(let l=0;l<t.insert.length;l+=1){const d=t.insert[l];o[d]={id:d,depth:0,parent:Pn,type:"leaf",groupingKey:null}}const i=o[Pn];let a=[...i.children,...t.insert];return Object.values(s).length&&(a=a.filter(l=>!s[l])),o[Pn]=I({},i,{children:a}),{groupingName:pr,tree:o,treeDepths:{0:a.length},dataRowIds:a}},QI=e=>e.updates.type==="full"?XI(e.updates.rows):YI({previousTree:e.previousTree,actions:e.updates.actions}),eT=e=>{Ji(e,pr,"rowTreeCreation",QI)},Pm=(e,t)=>e==null||Array.isArray(e)?e:t&&t[0]===e?t:[e],tT=(e,t)=>{var o;return I({},e,{rowSelection:t.rowSelection?(o=Pm(t.rowSelectionModel))!=null?o:[]:[]})},nT=(e,t)=>{const o=yn(e,"useGridSelection"),s=T=>(...E)=>{t.rowSelection&&T(...E)},i=c.useMemo(()=>Pm(t.rowSelectionModel,Vn(e.current.state)),[e,t.rowSelectionModel]),a=c.useRef(null);e.current.registerControlState({stateId:"rowSelection",propModel:i,propOnChange:t.onRowSelectionModelChange,stateSelector:Vn,changeEvent:"rowSelectionChange"});const{checkboxSelection:l,disableMultipleRowSelection:d,disableRowSelectionOnClick:p,isRowSelectable:g}=t,m=!d||l,f=gr(e,t),v=c.useCallback(T=>{var E;let B=T;const W=(E=a.current)!=null?E:T,R=e.current.isRowSelected(T);if(R){const V=Ps(e),Z=V.findIndex(ee=>ee===W),q=V.findIndex(ee=>ee===B);if(Z===q)return;Z>q?B=V[q+1]:B=V[q-1]}a.current=T,e.current.selectRowRange({startId:W,endId:B},!R)},[e]),y=c.useCallback(T=>{if(t.signature===ho.DataGrid&&!t.checkboxSelection&&Array.isArray(T)&&T.length>1)throw new Error(["MUI: `rowSelectionModel` can only contain 1 item in DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock multiple selection."].join(`
`));Vn(e.current.state)!==T&&(o.debug("Setting selection model"),e.current.setState(B=>I({},B,{rowSelection:t.rowSelection?T:[]})),e.current.forceUpdate())},[e,o,t.rowSelection,t.signature,t.checkboxSelection]),C=c.useCallback(T=>Vn(e.current.state).includes(T),[e]),x=c.useCallback(T=>{if(g&&!g(e.current.getRowParams(T)))return!1;const E=e.current.getRowNode(T);return!((E==null?void 0:E.type)==="footer"||(E==null?void 0:E.type)==="pinnedRow")},[e,g]),S=c.useCallback(()=>$S(e),[e]),_=c.useCallback((T,E=!0,B=!1)=>{if(e.current.isRowSelectable(T))if(a.current=T,B)o.debug(`Setting selection for row ${T}`),e.current.setRowSelectionModel(E?[T]:[]);else{o.debug(`Toggling selection for row ${T}`);const R=Vn(e.current.state).filter(Z=>Z!==T);E&&R.push(T),(R.length<2||m)&&e.current.setRowSelectionModel(R)}},[e,o,m]),P=c.useCallback((T,E=!0,B=!1)=>{o.debug("Setting selection for several rows");const W=T.filter(Z=>e.current.isRowSelectable(Z));let R;if(B)R=E?W:[];else{const Z=I({},Zi(e));W.forEach(q=>{E?Z[q]=q:delete Z[q]}),R=Object.values(Z)}(R.length<2||m)&&e.current.setRowSelectionModel(R)},[e,o,m]),z=c.useCallback(({startId:T,endId:E},B=!0,W=!1)=>{if(!e.current.getRow(T)||!e.current.getRow(E))return;o.debug(`Expanding selection from row ${T} to row ${E}`);const R=Ps(e),V=R.indexOf(T),Z=R.indexOf(E),[q,ee]=V>Z?[Z,V]:[V,Z],X=R.slice(q,ee+1);e.current.selectRows(X,B,W)},[e,o]),D={selectRow:_,setRowSelectionModel:y,getSelectedRows:S,isRowSelected:C,isRowSelectable:x},j={selectRows:P,selectRowRange:z};it(e,D,"public"),it(e,j,t.signature===ho.DataGrid?"private":"public");const k=c.useCallback(()=>{if(t.keepNonExistentRowsSelected)return;const T=Vn(e.current.state),E=Po(e),B=I({},Zi(e));let W=!1;T.forEach(R=>{E[R]||(delete B[R],W=!0)}),W&&e.current.setRowSelectionModel(Object.values(B))},[e,t.keepNonExistentRowsSelected]),M=c.useCallback((T,E)=>{const B=E.metaKey||E.ctrlKey,W=!l&&!B&&!Cw(E),R=!m||W,V=e.current.isRowSelected(T);R?e.current.selectRow(T,W?!0:!V,!0):e.current.selectRow(T,!V,!1)},[e,m,l]),A=c.useCallback((T,E)=>{var B;if(p)return;const W=(B=E.target.closest(`.${J.cell}`))==null?void 0:B.getAttribute("data-field");if(W===Qr.field||W===Fc)return;if(W){const V=e.current.getColumn(W);if((V==null?void 0:V.type)===Ca)return}e.current.getRowNode(T.id).type!=="pinnedRow"&&(E.shiftKey&&(m||l)?v(T.id):M(T.id,E))},[p,m,l,e,v,M]),N=c.useCallback((T,E)=>{if(m&&E.shiftKey){var B;(B=window.getSelection())==null||B.removeAllRanges()}},[m]),F=c.useCallback((T,E)=>{E.nativeEvent.shiftKey?v(T.id):e.current.selectRow(T.id,T.value)},[e,v]),$=c.useCallback(T=>{const B=t.checkboxSelectionVisibleOnly&&t.pagination?em(e):Ps(e),W=dn(e);e.current.selectRows(B,T.value,(W==null?void 0:W.items.length)>0)},[e,t.checkboxSelectionVisibleOnly,t.pagination]),G=c.useCallback((T,E)=>{if(e.current.getCellMode(T.id,T.field)!==At.Edit&&!Gs(E)){if(Wi(E.key)&&E.shiftKey){const B=Rn(e);if(B&&B.id!==T.id){E.preventDefault();const W=e.current.isRowSelected(B.id);if(!m){e.current.selectRow(B.id,!W,!0);return}const R=e.current.getRowIndexRelativeToVisibleRows(B.id),V=e.current.getRowIndexRelativeToVisibleRows(T.id);let Z,q;R>V?W?(Z=V,q=R-1):(Z=V,q=R):W?(Z=R+1,q=V):(Z=R,q=V);const ee=f.rows.slice(Z,q+1).map(X=>X.id);e.current.selectRows(ee,!W);return}}if(E.key===" "&&E.shiftKey){E.preventDefault(),M(T.id,E);return}E.key==="a"&&(E.ctrlKey||E.metaKey)&&(E.preventDefault(),P(e.current.getAllRowIds(),!0))}},[e,M,P,f.rows,m]);Ge(e,"sortedRowsSet",s(k)),Ge(e,"rowClick",s(A)),Ge(e,"rowSelectionCheckboxChange",s(F)),Ge(e,"headerSelectionCheckboxChange",$),Ge(e,"cellMouseDown",s(N)),Ge(e,"cellKeyDown",s(G)),c.useEffect(()=>{i!==void 0&&e.current.setRowSelectionModel(i)},[e,i,t.rowSelection]),c.useEffect(()=>{t.rowSelection||e.current.setRowSelectionModel([])},[e,t.rowSelection]);const H=i!=null;c.useEffect(()=>{if(H||!t.rowSelection)return;const T=Vn(e.current.state);if(x){const E=T.filter(B=>x(B));E.length<T.length&&e.current.setRowSelectionModel(E)}},[e,x,H,t.rowSelection]),c.useEffect(()=>{if(!t.rowSelection||H)return;const T=Vn(e.current.state);!m&&T.length>1&&e.current.setRowSelectionModel([])},[e,m,l,H,t.rowSelection])},oT={noRowsLabel:"No rows",noResultsOverlayLabel:"No results found.",toolbarDensity:"Density",toolbarDensityLabel:"Density",toolbarDensityCompact:"Compact",toolbarDensityStandard:"Standard",toolbarDensityComfortable:"Comfortable",toolbarColumns:"Columns",toolbarColumnsLabel:"Select columns",toolbarFilters:"Filters",toolbarFiltersLabel:"Show filters",toolbarFiltersTooltipHide:"Hide filters",toolbarFiltersTooltipShow:"Show filters",toolbarFiltersTooltipActive:e=>e!==1?`${e} active filters`:`${e} active filter`,toolbarQuickFilterPlaceholder:"Searchâ€¦",toolbarQuickFilterLabel:"Search",toolbarQuickFilterDeleteIconLabel:"Clear",toolbarExport:"Export",toolbarExportLabel:"Export",toolbarExportCSV:"Download as CSV",toolbarExportPrint:"Print",toolbarExportExcel:"Download as Excel",columnsPanelTextFieldLabel:"Find column",columnsPanelTextFieldPlaceholder:"Column title",columnsPanelDragIconLabel:"Reorder column",columnsPanelShowAllButton:"Show all",columnsPanelHideAllButton:"Hide all",filterPanelAddFilter:"Add filter",filterPanelRemoveAll:"Remove all",filterPanelDeleteIconLabel:"Delete",filterPanelLogicOperator:"Logic operator",filterPanelOperator:"Operator",filterPanelOperatorAnd:"And",filterPanelOperatorOr:"Or",filterPanelColumns:"Columns",filterPanelInputLabel:"Value",filterPanelInputPlaceholder:"Filter value",filterOperatorContains:"contains",filterOperatorEquals:"equals",filterOperatorStartsWith:"starts with",filterOperatorEndsWith:"ends with",filterOperatorIs:"is",filterOperatorNot:"is not",filterOperatorAfter:"is after",filterOperatorOnOrAfter:"is on or after",filterOperatorBefore:"is before",filterOperatorOnOrBefore:"is on or before",filterOperatorIsEmpty:"is empty",filterOperatorIsNotEmpty:"is not empty",filterOperatorIsAnyOf:"is any of","filterOperator=":"=","filterOperator!=":"!=","filterOperator>":">","filterOperator>=":">=","filterOperator<":"<","filterOperator<=":"<=",headerFilterOperatorContains:"Contains",headerFilterOperatorEquals:"Equals",headerFilterOperatorStartsWith:"Starts with",headerFilterOperatorEndsWith:"Ends with",headerFilterOperatorIs:"Is",headerFilterOperatorNot:"Is not",headerFilterOperatorAfter:"Is after",headerFilterOperatorOnOrAfter:"Is on or after",headerFilterOperatorBefore:"Is before",headerFilterOperatorOnOrBefore:"Is on or before",headerFilterOperatorIsEmpty:"Is empty",headerFilterOperatorIsNotEmpty:"Is not empty",headerFilterOperatorIsAnyOf:"Is any of","headerFilterOperator=":"Equals","headerFilterOperator!=":"Not equals","headerFilterOperator>":"Greater than","headerFilterOperator>=":"Greater than or equal to","headerFilterOperator<":"Less than","headerFilterOperator<=":"Less than or equal to",filterValueAny:"any",filterValueTrue:"true",filterValueFalse:"false",columnMenuLabel:"Menu",columnMenuShowColumns:"Show columns",columnMenuManageColumns:"Manage columns",columnMenuFilter:"Filter",columnMenuHideColumn:"Hide column",columnMenuUnsort:"Unsort",columnMenuSortAsc:"Sort by ASC",columnMenuSortDesc:"Sort by DESC",columnHeaderFiltersTooltipActive:e=>e!==1?`${e} active filters`:`${e} active filter`,columnHeaderFiltersLabel:"Show filters",columnHeaderSortIconLabel:"Sort",footerRowSelected:e=>e!==1?`${e.toLocaleString()} rows selected`:`${e.toLocaleString()} row selected`,footerTotalRows:"Total Rows:",footerTotalVisibleRows:(e,t)=>`${e.toLocaleString()} of ${t.toLocaleString()}`,checkboxSelectionHeaderName:"Checkbox selection",checkboxSelectionSelectAllRows:"Select all rows",checkboxSelectionUnselectAllRows:"Unselect all rows",checkboxSelectionSelectRow:"Select row",checkboxSelectionUnselectRow:"Unselect row",booleanCellTrueLabel:"yes",booleanCellFalseLabel:"no",actionsCellMore:"more",pinToLeft:"Pin to left",pinToRight:"Pin to right",unpin:"Unpin",treeDataGroupingHeaderName:"Group",treeDataExpand:"see children",treeDataCollapse:"hide children",groupingColumnHeaderName:"Group",groupColumn:e=>`Group by ${e}`,unGroupColumn:e=>`Stop grouping by ${e}`,detailPanelToggle:"Detail panel toggle",expandDetailPanel:"Expand",collapseDetailPanel:"Collapse",MuiTablePagination:{},rowReorderingHeaderName:"Row reordering",aggregationMenuItemHeader:"Aggregation",aggregationFunctionLabelSum:"sum",aggregationFunctionLabelAvg:"avg",aggregationFunctionLabelMin:"min",aggregationFunctionLabelMax:"max",aggregationFunctionLabelSize:"size"},rT=e=>{const{classes:t}=e;return c.useMemo(()=>ht({cellCheckbox:["cellCheckbox"],columnHeaderCheckbox:["columnHeaderCheckbox"]},mt,t),[t])},sT=(e,t)=>{const o={classes:t.classes},s=rT(o),i=c.useCallback(a=>{const l=I({},Qr,{cellClassName:s.cellCheckbox,headerClassName:s.columnHeaderCheckbox,headerName:e.current.getLocaleText("checkboxSelectionHeaderName")}),d=t.checkboxSelection,p=a.lookup[Oo]!=null;return d&&!p?(a.lookup[Oo]=l,a.orderedFields=[Oo,...a.orderedFields]):!d&&p?(delete a.lookup[Oo],a.orderedFields=a.orderedFields.filter(g=>g!==Oo)):d&&p&&(a.lookup[Oo]=I({},l,a.lookup[Oo])),a},[e,s,t.checkboxSelection]);tn(e,"hydrateColumns",i)},iT=(e,t)=>{var o,s,i;const a=(o=(s=t.sortModel)!=null?s:(i=t.initialState)==null||(i=i.sorting)==null?void 0:i.sortModel)!=null?o:[];return I({},e,{sorting:{sortModel:tm(a,t.disableMultipleColumnsSorting),sortedRows:[]}})},aT=(e,t)=>{var o;const s=yn(e,"useGridSorting");e.current.registerControlState({stateId:"sortModel",propModel:t.sortModel,propOnChange:t.onSortModelChange,stateSelector:jn,changeEvent:"sortModelChange"});const i=c.useCallback((k,M)=>{const A=jn(e),N=A.findIndex($=>$.field===k);let F=[...A];return N>-1?M?F.splice(N,1,M):F.splice(N,1):F=[...A,M],F},[e]),a=c.useCallback((k,M)=>{var A;const F=jn(e).find(G=>G.field===k.field);if(F){var $;const G=M===void 0?Id(($=k.sortingOrder)!=null?$:t.sortingOrder,F.sort):M;return G==null?void 0:I({},F,{sort:G})}return{field:k.field,sort:M===void 0?Id((A=k.sortingOrder)!=null?A:t.sortingOrder):M}},[e,t.sortingOrder]),l=c.useCallback((k,M)=>M==null||M.sortable===!1?k:(M.sortingOrder||t.sortingOrder).some(N=>!!N)?[...k,"columnMenuSortItem"]:k,[t.sortingOrder]),d=c.useCallback(()=>{e.current.setState(k=>{if(t.sortingMode==="server")return s.debug("Skipping sorting rows as sortingMode = server"),I({},k,{sorting:I({},k.sorting,{sortedRows:_c(Xn(e),Pn,!1)})});const M=jn(k,e.current.instanceId),A=VS(M,e),N=e.current.applyStrategyProcessor("sorting",{sortRowList:A});return I({},k,{sorting:I({},k.sorting,{sortedRows:N})})}),e.current.publishEvent("sortedRowsSet"),e.current.forceUpdate()},[e,s,t.sortingMode]),p=c.useCallback(k=>{jn(e)!==k&&(s.debug("Setting sort model"),e.current.setState(Pd(k,t.disableMultipleColumnsSorting)),e.current.forceUpdate(),e.current.applySorting())},[e,s,t.disableMultipleColumnsSorting]),g=c.useCallback((k,M,A)=>{if(!k.sortable)return;const N=a(k,M);let F;!A||t.disableMultipleColumnsSorting?F=N?[N]:[]:F=i(k.field,N),e.current.setSortModel(F)},[e,i,a,t.disableMultipleColumnsSorting]),m=c.useCallback(()=>jn(e),[e]),f=c.useCallback(()=>xc(e).map(M=>M.model),[e]),v=c.useCallback(()=>Cc(e),[e]),y=c.useCallback(k=>e.current.getSortedRowIds()[k],[e]);it(e,{getSortModel:m,getSortedRows:f,getSortedRowIds:v,getRowIdFromRowIndex:y,setSortModel:p,sortColumn:g,applySorting:d},"public");const x=c.useCallback((k,M)=>{var A;const N=jn(e);return!M.exportOnlyDirtyModels||t.sortModel!=null||((A=t.initialState)==null||(A=A.sorting)==null?void 0:A.sortModel)!=null||N.length>0?I({},k,{sorting:{sortModel:N}}):k},[e,t.sortModel,(o=t.initialState)==null||(o=o.sorting)==null?void 0:o.sortModel]),S=c.useCallback((k,M)=>{var A;const N=(A=M.stateToRestore.sorting)==null?void 0:A.sortModel;return N==null?k:(e.current.setState(Pd(N,t.disableMultipleColumnsSorting)),I({},k,{callbacks:[...k.callbacks,e.current.applySorting]}))},[e,t.disableMultipleColumnsSorting]),_=c.useCallback(k=>{const M=Xn(e),A=M[Pn],N=k.sortRowList?k.sortRowList(A.children.map(F=>M[F])):[...A.children];return A.footerId!=null&&N.push(A.footerId),N},[e]);tn(e,"exportState",x),tn(e,"restoreState",S),Ji(e,pr,"sorting",_);const P=c.useCallback(({colDef:k},M)=>{const A=M.shiftKey||M.metaKey||M.ctrlKey;g(k,void 0,A)},[g]),z=c.useCallback(({colDef:k},M)=>{gw(M.key)&&!M.ctrlKey&&!M.metaKey&&g(k,void 0,M.shiftKey)},[g]),D=c.useCallback(()=>{const k=jn(e),M=fr(e);if(k.length>0){const A=k.filter(N=>M[N.field]);A.length<k.length&&e.current.setSortModel(A)}},[e]),j=c.useCallback(k=>{k==="sorting"&&e.current.applySorting()},[e]);tn(e,"columnMenu",l),Ge(e,"columnHeaderClick",P),Ge(e,"columnHeaderKeyDown",z),Ge(e,"rowsSet",e.current.applySorting),Ge(e,"columnsChange",D),Ge(e,"activeStrategyProcessorChange",j),Vs(()=>{e.current.applySorting()}),mn(()=>{t.sortModel!==void 0&&e.current.setSortModel(t.sortModel)},[e,t.sortModel])};function Xd(e){const{clientHeight:t,scrollTop:o,offsetHeight:s,offsetTop:i}=e,a=i+s;if(s>t)return i;if(a-t>o)return a-t;if(i<o)return i}const lT=(e,t)=>{const o=zt(),s=yn(e,"useGridScroll"),i=e.current.columnHeadersElementRef,a=e.current.virtualScrollerRef,l=Re(e,Zo),d=c.useCallback(f=>{const v=fa(e),y=bn(e);if(!(f.rowIndex==null)&&v===0||y.length===0)return!1;s.debug(`Scrolling to cell at row ${f.rowIndex}, col: ${f.colIndex} `);let x={};if(f.colIndex!=null){const z=Ur(e);let D;if(typeof f.rowIndex<"u"){var S;const j=(S=l[f.rowIndex])==null?void 0:S.id,k=e.current.unstable_getCellColSpanInfo(j,f.colIndex);k&&!k.spannedByColSpan&&(D=k.cellProps.width)}typeof D>"u"&&(D=y[f.colIndex].computedWidth),x.left=Xd({clientHeight:a.current.clientWidth,scrollTop:Math.abs(a.current.scrollLeft),offsetHeight:D,offsetTop:z[f.colIndex]})}if(f.rowIndex!=null){var _,P;const z=Ds(e.current.state),D=FS(e),j=Qh(e),k=t.pagination?f.rowIndex-D*j:f.rowIndex,M=z.positions[k+1]?z.positions[k+1]-z.positions[k]:z.currentPageTotalHeight-z.positions[k],A=((_=a.current.querySelector(`.${J["pinnedRows--top"]}`))==null?void 0:_.clientHeight)||0,N=((P=a.current.querySelector(`.${J["pinnedRows--bottom"]}`))==null?void 0:P.clientHeight)||0;x.top=Xd({clientHeight:a.current.clientHeight-A-N,scrollTop:a.current.scrollTop,offsetHeight:M,offsetTop:z.positions[k]})}return x=e.current.unstable_applyPipeProcessors("scrollToIndexes",x,f),typeof x.left!==void 0||typeof x.top!==void 0?(e.current.scroll(x),!0):!1},[s,e,a,t.pagination,l]),p=c.useCallback(f=>{if(a.current&&f.left!=null&&i.current){const v=o.direction==="rtl"?-1:1;i.current.scrollLeft=f.left,a.current.scrollLeft=v*f.left,s.debug(`Scrolling left: ${f.left}`)}a.current&&f.top!=null&&(a.current.scrollTop=f.top,s.debug(`Scrolling top: ${f.top}`)),s.debug("Scrolling, updating container, and viewport")},[a,o.direction,i,s]),g=c.useCallback(()=>a!=null&&a.current?{top:a.current.scrollTop,left:a.current.scrollLeft}:{top:0,left:0},[a]);it(e,{scroll:p,scrollToIndexes:d,getScrollPosition:g},"public")};function cT(e,t){Ot(e,"columnHeaderClick",t.onColumnHeaderClick),Ot(e,"columnHeaderDoubleClick",t.onColumnHeaderDoubleClick),Ot(e,"columnHeaderOver",t.onColumnHeaderOver),Ot(e,"columnHeaderOut",t.onColumnHeaderOut),Ot(e,"columnHeaderEnter",t.onColumnHeaderEnter),Ot(e,"columnHeaderLeave",t.onColumnHeaderLeave),Ot(e,"cellClick",t.onCellClick),Ot(e,"cellDoubleClick",t.onCellDoubleClick),Ot(e,"cellKeyDown",t.onCellKeyDown),Ot(e,"preferencePanelClose",t.onPreferencePanelClose),Ot(e,"preferencePanelOpen",t.onPreferencePanelOpen),Ot(e,"menuOpen",t.onMenuOpen),Ot(e,"menuClose",t.onMenuClose),Ot(e,"rowDoubleClick",t.onRowDoubleClick),Ot(e,"rowClick",t.onRowClick),Ot(e,"stateChange",t.onStateChange)}const uT=({content:e,container:t,scrollBarSize:o})=>{const s=e.width>t.width,i=e.height>t.height;let a=!1,l=!1;return(s||i)&&(a=s,l=e.height+(a?o:0)>t.height,l&&(a=e.width+o>t.width)),{hasScrollX:a,hasScrollY:l}};function dT(e,t){const o=yn(e,"useResizeContainer"),s=c.useRef(!1),i=c.useRef(null),a=c.useRef(null),l=Re(e,Ds),d=Re(e,Yr),p=Math.floor(t.rowHeight*d),g=zc(e,t.columnHeaderHeight),m=c.useCallback(()=>{var M;const A=(M=e.current.rootElementRef)==null?void 0:M.current,N=yc(e),F=Nh(e);if(!i.current)return;let $;if(t.scrollbarSize!=null)$=t.scrollbarSize;else if(!N||!A)$=0;else{const V=$s(A).createElement("div");V.style.width="99px",V.style.height="99px",V.style.position="absolute",V.style.overflow="scroll",V.className="scrollDiv",A.appendChild(V),$=V.offsetWidth-V.clientWidth,A.removeChild(V)}let G,H,T;if(t.autoHeight)T=!1,H=Math.round(N)>Math.round(i.current.width),G={width:i.current.width,height:l.currentPageTotalHeight+(H?$:0)};else{G={width:i.current.width,height:Math.max(i.current.height-g,0)};const R=uT({content:{width:Math.round(N),height:l.currentPageTotalHeight},container:{width:Math.round(G.width),height:G.height-F.top-F.bottom},scrollBarSize:$});T=R.hasScrollY,H=R.hasScrollX}const E={width:G.width-(T?$:0),height:G.height-(H?$:0)},B={viewportOuterSize:G,viewportInnerSize:E,hasScrollX:H,hasScrollY:T,scrollBarSize:$},W=a.current;a.current=B,(B.viewportInnerSize.width!==(W==null?void 0:W.viewportInnerSize.width)||B.viewportInnerSize.height!==(W==null?void 0:W.viewportInnerSize.height))&&e.current.publishEvent("viewportInnerSizeChange",B.viewportInnerSize)},[e,t.scrollbarSize,t.autoHeight,l.currentPageTotalHeight,g]),[f,v]=c.useState(),y=c.useMemo(()=>fh(v,60),[]),C=c.useRef();mn(()=>{f&&(m(),e.current.publishEvent("debouncedResize",i.current))},[e,f,m]);const x=c.useCallback(()=>{e.current.computeSizeAndPublishResizeEvent()},[e]),S=c.useCallback(()=>a.current,[]),_=c.useCallback(()=>{const M=e.current.getRootDimensions();if(!M)return 0;const A=Ui(e,{pagination:t.pagination,paginationMode:t.paginationMode});if(t.getRowHeight){const F=e.current.getRenderContext(),$=F.lastRowIndex-F.firstRowIndex;return Math.min($-1,A.rows.length)}const N=Math.floor(M.viewportInnerSize.height/p);return Math.min(N,A.rows.length)},[e,t.pagination,t.paginationMode,t.getRowHeight,p]),P=c.useCallback(()=>{var M,A,N;const F=(M=e.current.mainElementRef)==null?void 0:M.current;if(!F)return;const G=$0(F).getComputedStyle(F),H=parseFloat(G.height)||0,T=parseFloat(G.width)||0,E=H!==((A=C.current)==null?void 0:A.height),B=T!==((N=C.current)==null?void 0:N.width);if(!C.current||E||B){const W={width:T,height:H};e.current.publishEvent("resize",W),C.current=W}},[e]),z={resize:x,getRootDimensions:S},D={getViewportPageSize:_,updateGridDimensionsRef:m,computeSizeAndPublishResizeEvent:P};it(e,z,"public"),it(e,D,"private");const j=c.useRef(!0),k=c.useCallback(M=>{i.current=M;const A=/jsdom/.test(window.navigator.userAgent);if(M.height===0&&!s.current&&!t.autoHeight&&!A&&(o.error(["The parent DOM element of the data grid has an empty height.","Please make sure that this element has an intrinsic height.","The grid displays with a height of 0px.","","More details: https://mui.com/r/x-data-grid-no-dimensions."].join(`
`)),s.current=!0),M.width===0&&!s.current&&!A&&(o.error(["The parent DOM element of the data grid has an empty width.","Please make sure that this element has an intrinsic width.","The grid displays with a width of 0px.","","More details: https://mui.com/r/x-data-grid-no-dimensions."].join(`
`)),s.current=!0),j.current){v(M),j.current=!1;return}y(M)},[t.autoHeight,y,o]);mn(()=>m(),[m]),Ot(e,"sortedRowsSet",m),Ot(e,"paginationModelChange",m),Ot(e,"columnsChange",m),Ge(e,"resize",k),Ot(e,"debouncedResize",t.onResize)}const pT=["style"],hT=["style"];function Jr(e,t,o=0,s=t.length){if(t.length<=0)return-1;if(o>=s)return o;const i=o+Math.floor((s-o)/2),a=t[i];return e<=a?Jr(e,t,o,i):Jr(e,t,i+1,s)}function mT(e,t,o){let s=1;for(;o<t.length&&Math.abs(t[o])<e;)o+=s,s*=2;return Jr(e,t,Math.floor(o/2),Math.min(o,t.length))}const zo=({firstIndex:e,lastIndex:t,buffer:o,minFirstIndex:s,maxLastIndex:i})=>[Kr(e-o,s,i),Kr(t+o,s,i)],Im=(e,t)=>e===t?!0:e.firstRowIndex===t.firstRowIndex&&e.lastRowIndex===t.lastRowIndex&&e.firstColumnIndex===t.firstColumnIndex&&e.lastColumnIndex===t.lastColumnIndex,fT={maxSize:3},gT=e=>{const t=Wo(),o=je(),s=Re(t,bn),i=Re(t,XS),a=Re(t,im),{ref:l,onRenderZonePositioning:d,renderZoneMinColumnIndex:p=0,renderZoneMaxColumnIndex:g=s.length,getRowProps:m}=e,f=zt(),v=Re(t,Ur),y=Re(t,yc),C=Re(t,Rn),x=Re(t,Hi),S=Re(t,Ds),_=Re(t,Zi),P=gr(t,o),z=c.useRef(null),D=c.useRef(null),j=Vo(l,D),[k,M]=c.useState(null),A=c.useRef(k),N=c.useRef({top:0,left:0}),[F,$]=c.useState({width:null,height:null}),G=c.useRef(y),[H,T]=c.useState(null),E=c.useRef(Object.create(null)),B=c.useRef(),W=c.useRef(),R=c.useRef(pa((ie,ge,de,Ce,se,ye)=>{let Te;const Ae=ie.slice(ge,de);return ye>-1&&(ge>ye&&ye>=Ce||de<ye&&ye<se)&&(Te=ye),{focusedCellColumnIndexNotInRange:Te,renderedColumns:Ae}},fT)),V=c.useMemo(()=>C!==null?s.findIndex(ie=>ie.field===C.field):-1,[C,s]),Z=c.useCallback(()=>{if(!i)return{firstRowIndex:0,lastRowIndex:P.rows.length,firstColumnIndex:0,lastColumnIndex:s.length};const{top:ie,left:ge}=N.current,de=Math.min(Yd(t,P,S,ie),S.positions.length-1),Ce=o.autoHeight?de+P.rows.length:Yd(t,P,S,ie+F.height);let se=0,ye=v.length;if(a){let Te=!1;const[Ae,Oe]=zo({firstIndex:de,lastIndex:Ce,minFirstIndex:0,maxLastIndex:P.rows.length,buffer:o.rowBuffer});for(let Ee=Ae;Ee<Oe&&!Te;Ee+=1){const xe=P.rows[Ee];Te=t.current.rowHasAutoHeight(xe.id)}Te||(se=Jr(Math.abs(ge),v),ye=Jr(Math.abs(ge)+F.width,v))}return{firstRowIndex:de,lastRowIndex:Ce,firstColumnIndex:se,lastColumnIndex:ye}},[i,a,S,o.autoHeight,o.rowBuffer,P,v,s.length,t,F]);mn(()=>{i?(D.current.scrollLeft=0,D.current.scrollTop=0):z.current.style.transform="translate3d(0px, 0px, 0px)"},[i]),mn(()=>{$({width:D.current.clientWidth,height:D.current.clientHeight})},[S.currentPageTotalHeight]);const q=c.useCallback(()=>{D.current&&$({width:D.current.clientWidth,height:D.current.clientHeight})},[]);Ge(t,"debouncedResize",q);const ee=c.useCallback(ie=>{const[ge,de]=zo({firstIndex:ie.firstRowIndex,lastIndex:ie.lastRowIndex,minFirstIndex:0,maxLastIndex:P.rows.length,buffer:o.rowBuffer}),[Ce]=zo({firstIndex:ie.firstColumnIndex,lastIndex:ie.lastColumnIndex,minFirstIndex:p,maxLastIndex:g,buffer:o.columnBuffer}),se=zl({firstColumnToRender:Ce,apiRef:t,firstRowToRender:ge,lastRowToRender:de,visibleRows:P.rows}),ye=f.direction==="ltr"?1:-1,Te=Ds(t.current.state).positions[ge],Ae=ye*Ur(t)[se];z.current.style.transform=`translate3d(${Ae}px, ${Te}px, 0px)`,typeof d=="function"&&d({top:Te,left:Ae})},[t,P.rows,d,p,g,o.columnBuffer,o.rowBuffer,f.direction]),X=c.useCallback(()=>A.current,[]),te=c.useCallback(ie=>{if(A.current&&Im(ie,A.current)){ee(ie);return}M(ie),ee(ie);const[ge,de]=zo({firstIndex:ie.firstRowIndex,lastIndex:ie.lastRowIndex,minFirstIndex:0,maxLastIndex:P.rows.length,buffer:o.rowBuffer});t.current.publishEvent("renderedRowsIntervalChange",{firstRowToRender:ge,lastRowToRender:de}),A.current=ie},[t,M,A,P.rows.length,o.rowBuffer,ee]);mn(()=>{if(F.width==null)return;const ie=Z();te(ie);const{top:ge,left:de}=N.current,Ce={top:ge,left:de,renderContext:ie};t.current.publishEvent("scrollPositionChange",Ce)},[t,Z,F.width,te]);const Y=Qn(ie=>{const{scrollTop:ge,scrollLeft:de}=ie.currentTarget;if(N.current.top=ge,N.current.left=de,!A.current||ge<0||f.direction==="ltr"&&de<0||f.direction==="rtl"&&de>0)return;const Ce=i?Z():A.current,se=Math.abs(Ce.firstRowIndex-A.current.firstRowIndex),ye=Math.abs(Ce.lastRowIndex-A.current.lastRowIndex),Te=Math.abs(Ce.firstColumnIndex-A.current.firstColumnIndex),Ae=Math.abs(Ce.lastColumnIndex-A.current.lastColumnIndex),Oe=se>=o.rowThreshold||ye>=o.rowThreshold||Te>=o.columnThreshold||Ae>=o.columnThreshold||G.current!==y;t.current.publishEvent("scrollPositionChange",{top:ge,left:de,renderContext:Oe?Ce:A.current},ie),Oe&&(Os.flushSync(()=>{te(Ce)}),G.current=y)}),ne=Qn(ie=>{t.current.publishEvent("virtualScrollerWheel",{},ie)}),U=Qn(ie=>{t.current.publishEvent("virtualScrollerTouchMove",{},ie)}),le=c.useMemo(()=>C!==null?P.rows.findIndex(ie=>ie.id===C.id):-1,[C,P.rows]);Ge(t,"rowMouseOver",(ie,ge)=>{var de;ge.currentTarget.contains(ge.relatedTarget)||T((de=ie.id)!=null?de:null)}),Ge(t,"rowMouseOut",(ie,ge)=>{ge.currentTarget.contains(ge.relatedTarget)||T(null)});const Pe=(ie={renderContext:k})=>{var ge;const{onRowRender:de,renderContext:Ce,minFirstColumn:se=p,maxLastColumn:ye=g,availableSpace:Te=F.width,rowIndexOffset:Ae=0,position:Oe="center"}=ie;if(!Ce||Te==null)return null;const Ee=i?o.rowBuffer:0,xe=i?o.columnBuffer:0,[we,Fe]=zo({firstIndex:Ce.firstRowIndex,lastIndex:Ce.lastRowIndex,minFirstIndex:0,maxLastIndex:P.rows.length,buffer:Ee}),Ve=[];if(ie.rows)ie.rows.forEach(Ie=>{Ve.push(Ie),t.current.calculateColSpan({rowId:Ie.id,minFirstColumn:se,maxLastColumn:ye,columns:s})});else{if(!P.range)return null;for(let Ie=we;Ie<Fe;Ie+=1){const Q=P.rows[Ie];Ve.push(Q),t.current.calculateColSpan({rowId:Q.id,minFirstColumn:se,maxLastColumn:ye,columns:s})}}let Xe=!1;if(le>-1){const Ie=P.rows[le];(we>le||Fe<le)&&(Xe=!0,le>we?Ve.push(Ie):Ve.unshift(Ie),t.current.calculateColSpan({rowId:Ie.id,minFirstColumn:se,maxLastColumn:ye,columns:s}))}const[Ke,qe]=zo({firstIndex:Ce.firstColumnIndex,lastIndex:Ce.lastColumnIndex,minFirstIndex:se,maxLastIndex:ye,buffer:xe}),Ze=zl({firstColumnToRender:Ke,apiRef:t,firstRowToRender:we,lastRowToRender:Fe,visibleRows:P.rows});let St=!1;(Ze>V||qe<V)&&(St=!0);const{focusedCellColumnIndexNotInRange:nt,renderedColumns:Ye}=R.current(s,Ze,qe,se,ye,St?V:-1),Jt=((ge=o.slotProps)==null?void 0:ge.row)||{},{style:Tt}=Jt,Ht=Ne(Jt,pT);(B.current!==m||W.current!==Tt)&&(E.current=Object.create(null));const on=[];let an=!1;for(let Ie=0;Ie<Ve.length;Ie+=1){var jt;const{id:Q,model:me}=Ve[Ie],ze=Xe&&C.id===Q,ft=Xe?we+Ie===P.rows.length:we+Ie===P.rows.length-1,et=t.current.rowHasAutoHeight(Q)?"auto":t.current.unstable_getRowHeight(Q);let Ue;_[Q]==null?Ue=!1:Ue=t.current.isRowSelectable(Q),de&&de(Q);const st=C!==null&&C.id===Q?C.field:null,be=nt!==void 0&&s[nt],ve=be&&st?[be,...Ye]:Ye;let Se=null;x!==null&&x.id===Q&&(Se=t.current.getCellParams(Q,x.field).cellMode==="view"?x.field:null);const ke=typeof m=="function"&&m(Q,me)||{},{style:ot}=ke,xt=Ne(ke,hT);if(!E.current[Q]){const qt=I({},ot,Tt);E.current[Q]=qt}let De=Ae+((P==null||(jt=P.range)==null?void 0:jt.firstRowIndex)||0)+we+Ie;Xe&&(C==null?void 0:C.id)===Q?(De=le,an=!0):an&&(De-=1),on.push(h.jsx(o.slots.row,I({row:me,rowId:Q,focusedCellColumnIndexNotInRange:nt,isNotVisible:ze,rowHeight:et,focusedCell:st,tabbableCell:Se,renderedColumns:ve,visibleColumns:s,firstColumnToRender:Ze,lastColumnToRender:qe,selected:Ue,index:De,containerWidth:Te,isLastVisible:ft,position:Oe},xt,Ht,{hovered:H===Q,style:E.current[Q]}),Q))}return B.current=m,W.current=Tt,on},oe=F.width&&y>=F.width,ue=c.useMemo(()=>{const ie=Math.max(S.currentPageTotalHeight,1);let ge=!1;D!=null&&D.current&&ie<=(D==null?void 0:D.current.clientHeight)&&(ge=!0);const de={width:oe?y:"auto",height:ie,minHeight:ge?"100%":"auto"};return o.autoHeight&&P.rows.length===0&&(de.height=zh(t,o.rowHeight)),de},[t,D,y,S.currentPageTotalHeight,oe,o.autoHeight,o.rowHeight,P.rows.length]);c.useEffect(()=>{t.current.publishEvent("virtualScrollerContentSizeChange")},[t,ue]);const he=c.useMemo(()=>{const ie={};return oe||(ie.overflowX="hidden"),o.autoHeight&&(ie.overflowY="hidden"),ie},[oe,o.autoHeight]);return t.current.register("private",{getRenderContext:X}),{renderContext:k,updateRenderZonePosition:ee,getRows:Pe,getRootProps:(ie={})=>I({ref:j,onScroll:Y,onWheel:ne,onTouchMove:U},ie,{style:ie.style?I({},ie.style,he):he,role:"presentation"}),getContentProps:({style:ie}={})=>({style:ie?I({},ie,ue):ue,role:"presentation"}),getRenderZoneProps:()=>({ref:z,role:"rowgroup"})}};function Yd(e,t,o,s){var i,a;const l=e.current.getLastMeasuredRowIndex();let d=l===1/0;(i=t.range)!=null&&i.lastRowIndex&&!d&&(d=l>=t.range.lastRowIndex);const p=Kr(l-(((a=t.range)==null?void 0:a.firstRowIndex)||0),0,o.positions.length);return d||o.positions[p]>=s?Jr(s,o.positions):mT(s,o.positions,p)}const vT=e=>{const{classes:t,headerAlign:o,isDragging:s,showColumnBorder:i,groupId:a}=e;return ht({root:["columnHeader",o==="left"&&"columnHeader--alignLeft",o==="center"&&"columnHeader--alignCenter",o==="right"&&"columnHeader--alignRight",s&&"columnHeader--moving",i&&"columnHeader--showColumnBorder",i&&"columnHeader--withRightBorder","withBorderColor",a===null?"columnHeader--emptyGroup":"columnHeader--filledGroup"],draggableContainer:["columnHeaderDraggableContainer"],titleContainer:["columnHeaderTitleContainer","withBorderColor"],titleContainerContent:["columnHeaderTitleContainerContent"]},mt,t)};function bT(e){var t;const{groupId:o,width:s,depth:i,maxDepth:a,fields:l,height:d,colIndex:p,hasFocus:g,tabIndex:m,isLastColumn:f}=e,v=je(),y=c.useRef(null),C=dt(),x=Re(C,Ph),S=o?x[o]:{},{headerName:_=o??"",description:P="",headerAlign:z=void 0}=S;let D;const j=o&&((t=x[o])==null?void 0:t.renderHeaderGroup),k=c.useMemo(()=>({groupId:o,headerName:_,description:P,depth:i,maxDepth:a,fields:l,colIndex:p,isLastColumn:f}),[o,_,P,i,a,l,p,f]);o&&j&&(D=j(k));const M=v.showColumnVerticalBorder,A=I({},e,{classes:v.classes,showColumnBorder:M,headerAlign:z,depth:i,isDragging:!1}),N=_??o,F=Bt(),$=o===null?`empty-group-cell-${F}`:o,G=vT(A);c.useLayoutEffect(()=>{if(g){const W=y.current.querySelector('[tabindex="0"]')||y.current;W==null||W.focus()}},[C,g]);const H=c.useCallback(B=>W=>{Gs(W)||C.current.publishEvent(B,k,W)},[C,k]),T=c.useMemo(()=>({onKeyDown:H("columnGroupHeaderKeyDown"),onFocus:H("columnGroupHeaderFocus"),onBlur:H("columnGroupHeaderBlur")}),[H]),E=typeof S.headerClassName=="function"?S.headerClassName(k):S.headerClassName;return h.jsx(Uh,I({ref:y,classes:G,columnMenuOpen:!1,colIndex:p,height:d,isResizing:!1,sortDirection:null,hasFocus:!1,tabIndex:m,isDraggable:!1,headerComponent:D,headerClassName:E,description:P,elementId:$,width:s,columnMenuIconButton:null,columnTitleIconButtons:null,resizable:!1,label:N,"aria-colspan":l.length,"data-fields":`|-${l.join("-|-")}-|`},T))}const Qd=Le("div",{name:"MuiDataGrid",slot:"ColumnHeaderRow",overridesResolver:(e,t)=>t.columnHeaderRow})(()=>({display:"flex"}));function yT(e){return!!e.target}const CT=e=>{const{innerRef:t,minColumnIndex:o=0,visibleColumns:s,sortColumnLookup:i,filterColumnLookup:a,columnPositions:l,columnHeaderTabIndexState:d,columnGroupHeaderTabIndexState:p,columnHeaderFocus:g,columnGroupHeaderFocus:m,densityFactor:f,headerGroupingMaxDepth:v,columnMenuState:y,columnVisibility:C,columnGroupsHeaderStructure:x,hasOtherElementInTabSequence:S}=e,_=zt(),[P,z]=c.useState(""),[D,j]=c.useState(""),k=Wo(),M=Re(k,im),A=je(),N=c.useRef(null),F=Vo(t,N),[$,G]=c.useState(null),H=c.useRef($),T=c.useRef(0),E=gr(k,A),B=zc(k,A.columnHeaderHeight),W=Math.floor(A.columnHeaderHeight*f),R=c.useCallback(oe=>{$&&oe&&Im($,oe)||G(oe)},[$]);c.useEffect(()=>{var oe;(oe=k.current.columnHeadersContainerElementRef)!=null&&oe.current&&(k.current.columnHeadersContainerElementRef.current.scrollLeft=0)},[k]);const V=c.useRef(pa(pI,{equalityCheck:(oe,ue)=>["firstColumnIndex","minColumnIndex","columnBuffer"].every(he=>oe[he]===ue[he])})),Z=c.useCallback(oe=>{const[ue,he]=zo({firstIndex:oe.firstRowIndex,lastIndex:oe.lastRowIndex,minFirstIndex:0,maxLastIndex:E.rows.length,buffer:A.rowBuffer}),ie=V.current({firstColumnIndex:oe.firstColumnIndex,minColumnIndex:o,columnBuffer:A.columnBuffer,firstRowToRender:ue,lastRowToRender:he,apiRef:k,visibleRows:E.rows}),ge=_.direction==="ltr"?1:-1,de=ie>0?T.current-ge*l[ie]:T.current;N.current.style.transform=`translate3d(${-de}px, 0px, 0px)`},[l,o,A.columnBuffer,k,E.rows,A.rowBuffer,_.direction]);c.useLayoutEffect(()=>{$&&Z($)},[$,Z]);const q=c.useCallback(({left:oe,renderContext:ue=null},he)=>{var ie,ge;if(!N.current||T.current===oe&&((ie=H.current)==null?void 0:ie.firstColumnIndex)===(ue==null?void 0:ue.firstColumnIndex)&&((ge=H.current)==null?void 0:ge.lastColumnIndex)===(ue==null?void 0:ue.lastColumnIndex))return;T.current=oe;let de=!1;ue!==H.current||!H.current?(yT(he)?(Os.flushSync(()=>{R(ue)}),de=!0):R(ue),H.current=ue):de=!0,ue&&de&&Z(ue)},[Z,R]),ee=c.useCallback(oe=>j(oe.field),[]),X=c.useCallback(()=>j(""),[]),te=c.useCallback(oe=>z(oe.field),[]),Y=c.useCallback(()=>z(""),[]);Ge(k,"columnResizeStart",ee),Ge(k,"columnResizeStop",X),Ge(k,"columnHeaderDragStart",te),Ge(k,"columnHeaderDragEnd",Y),Ge(k,"scrollPositionChange",q);const ne=oe=>{const{renderContext:ue=$,minFirstColumn:he=o,maxLastColumn:ie=s.length}=oe||{};if(!ue)return null;const[ge,de]=zo({firstIndex:ue.firstRowIndex,lastIndex:ue.lastRowIndex,minFirstIndex:0,maxLastIndex:E.rows.length,buffer:A.rowBuffer}),Ce=M?V.current({firstColumnIndex:ue.firstColumnIndex,minColumnIndex:he,columnBuffer:A.columnBuffer,apiRef:k,firstRowToRender:ge,lastRowToRender:de,visibleRows:E.rows}):0,se=M?Math.min(ue.lastColumnIndex+A.columnBuffer,ie):ie;return{renderedColumns:s.slice(Ce,se),firstColumnToRender:Ce,lastColumnToRender:se,minFirstColumn:he,maxLastColumn:ie}},U=(oe,ue={})=>{const he=ne(oe);if(he==null)return null;const{renderedColumns:ie,firstColumnToRender:ge}=he,de=[];for(let Ce=0;Ce<ie.length;Ce+=1){const se=ie[Ce],ye=ge+Ce,Te=ye===0,Ae=d!==null&&d.field===se.field||Te&&!S?0:-1,Oe=g!==null&&g.field===se.field,Ee=y.open&&y.field===se.field;de.push(h.jsx(CS,I({},i[se.field],{columnMenuOpen:Ee,filterItemsCounter:a[se.field]&&a[se.field].length,headerHeight:W,isDragging:se.field===P,colDef:se,colIndex:ye,isResizing:D===se.field,hasFocus:Oe,tabIndex:Ae},ue),se.field))}return h.jsx(Qd,{role:"row","aria-rowindex":v+1,ownerState:A,children:de})},le=oe=>{if(v===0)return null;const ue=ne(oe);if(ue==null||ue.renderedColumns.length===0)return null;const{firstColumnToRender:he,lastColumnToRender:ie}=ue,ge=[],de=[];for(let ye=0;ye<v;ye+=1){var Ce,se;const Te=x[ye],Ae=s[he].field,Oe=(Ce=k.current.unstable_getColumnGroupPath(Ae)[ye])!=null?Ce:null,Ee=Te.findIndex(({groupId:nt,columnFields:Ye})=>nt===Oe&&Ye.includes(Ae)),xe=s[ie-1].field,we=(se=k.current.unstable_getColumnGroupPath(xe)[ye])!=null?se:null,Fe=Te.findIndex(({groupId:nt,columnFields:Ye})=>nt===we&&Ye.includes(xe)),Ve=Te.slice(Ee,Fe+1).map(nt=>I({},nt,{columnFields:nt.columnFields.filter(Ye=>C[Ye]!==!1)})).filter(nt=>nt.columnFields.length>0),Xe=Ve[0].columnFields.indexOf(Ae),qe=Ve[0].columnFields.slice(0,Xe).reduce((nt,Ye)=>{var Jt;const Tt=k.current.getColumn(Ye);return nt+((Jt=Tt.computedWidth)!=null?Jt:0)},0);let Ze=he;const St=Ve.map(({groupId:nt,columnFields:Ye})=>{const Jt=m!==null&&m.depth===ye&&Ye.includes(m.field),Tt=p!==null&&p.depth===ye&&Ye.includes(p.field)?0:-1,Ht={groupId:nt,width:Ye.reduce((cn,on)=>cn+k.current.getColumn(on).computedWidth,0),fields:Ye,colIndex:Ze,hasFocus:Jt,tabIndex:Tt};return Ze+=Ye.length,Ht});de.push({leftOverflow:qe,elements:St})}return de.forEach((ye,Te)=>{ge.push(h.jsx(Qd,{style:{height:`${W}px`,transform:`translateX(-${ye.leftOverflow}px)`},role:"row","aria-rowindex":Te+1,ownerState:A,children:ye.elements.map(({groupId:Ae,width:Oe,fields:Ee,colIndex:xe,hasFocus:we,tabIndex:Fe},Ve)=>h.jsx(bT,{groupId:Ae,width:Oe,fields:Ee,colIndex:xe,depth:Te,isLastColumn:xe===s.length-Ee.length,maxDepth:de.length,height:W,hasFocus:we,tabIndex:Fe},Ve))},Te))}),ge},Pe={minHeight:B,maxHeight:B,lineHeight:`${W}px`};return{renderContext:$,getColumnHeaders:U,getColumnsToRender:ne,getColumnGroupHeaders:le,isDragging:!!P,getRootProps:(oe={})=>I({style:Pe},oe),getInnerProps:()=>({ref:F,role:"rowgroup"}),headerHeight:W}},xT=["className"],wT=e=>{const{classes:t}=e;return ht({root:["columnHeaders","withBorderColor"]},mt,t)},ST=fn("div",{name:"MuiDataGrid",slot:"ColumnHeaders",overridesResolver:(e,t)=>t.columnHeaders})({position:"relative",overflow:"hidden",display:"flex",alignItems:"center",boxSizing:"border-box",borderBottom:"1px solid",borderTopLeftRadius:"var(--unstable_DataGrid-radius)",borderTopRightRadius:"var(--unstable_DataGrid-radius)"}),_T=c.forwardRef(function(t,o){const{className:s}=t,i=Ne(t,xT),a=je(),l=wT(a);return h.jsx(ST,I({ref:o,className:He(s,l.root),ownerState:a},i,{role:"presentation"}))}),PT=["isDragging","className"],IT=e=>{const{isDragging:t,hasScrollX:o,classes:s}=e;return ht({root:["columnHeadersInner",t&&"columnHeaderDropZone",o&&"columnHeadersInner--scrollable"]},mt,s)},TT=fn("div",{name:"MuiDataGrid",slot:"columnHeadersInner",overridesResolver:(e,t)=>[{[`&.${J.columnHeaderDropZone}`]:t.columnHeaderDropZone},t.columnHeadersInner]})(()=>({display:"flex",alignItems:"flex-start",flexDirection:"column",[`&.${J.columnHeaderDropZone} .${J.columnHeaderDraggableContainer}`]:{cursor:"move"},[`&.${J["columnHeadersInner--scrollable"]} .${J.columnHeader}:last-child`]:{borderRight:"none"}})),kT=c.forwardRef(function(t,o){var s,i;const{isDragging:a,className:l}=t,d=Ne(t,PT),p=dt(),g=je(),m=I({},g,{isDragging:a,hasScrollX:(s=(i=p.current.getRootDimensions())==null?void 0:i.hasScrollX)!=null?s:!1}),f=IT(m);return h.jsx(TT,I({ref:o,className:He(l,f.root),ownerState:m},d))}),MT=["innerRef","className","visibleColumns","sortColumnLookup","filterColumnLookup","columnPositions","columnHeaderTabIndexState","columnGroupHeaderTabIndexState","columnHeaderFocus","columnGroupHeaderFocus","densityFactor","headerGroupingMaxDepth","columnMenuState","columnVisibility","columnGroupsHeaderStructure","hasOtherElementInTabSequence"],AT=c.forwardRef(function(t,o){const{innerRef:s,visibleColumns:i,sortColumnLookup:a,filterColumnLookup:l,columnPositions:d,columnHeaderTabIndexState:p,columnGroupHeaderTabIndexState:g,columnHeaderFocus:m,columnGroupHeaderFocus:f,densityFactor:v,headerGroupingMaxDepth:y,columnMenuState:C,columnVisibility:x,columnGroupsHeaderStructure:S,hasOtherElementInTabSequence:_}=t,P=Ne(t,MT),{isDragging:z,getRootProps:D,getInnerProps:j,getColumnHeaders:k,getColumnGroupHeaders:M}=CT({innerRef:s,visibleColumns:i,sortColumnLookup:a,filterColumnLookup:l,columnPositions:d,columnHeaderTabIndexState:p,columnGroupHeaderTabIndexState:g,columnHeaderFocus:m,columnGroupHeaderFocus:f,densityFactor:v,headerGroupingMaxDepth:y,columnMenuState:C,columnVisibility:x,columnGroupsHeaderStructure:S,hasOtherElementInTabSequence:_});return h.jsx(_T,I({ref:o},D(P),{children:h.jsxs(kT,I({isDragging:z},j(),{children:[M(),k()]}))}))}),ET=ya(AT),DT=c.forwardRef(function(t,o){const i=dt().current.getLocaleText("noResultsOverlayLabel");return h.jsx(kc,I({ref:o},t,{children:i}))}),RT=["sortingOrder"],LT=c.memo(function(t){const{sortingOrder:o}=t,s=Ne(t,RT),i=je(),[a]=o,l=a==="asc"?i.slots.columnSortedAscendingIcon:i.slots.columnSortedDescendingIcon;return l?h.jsx(l,I({},s)):null}),FT=["native"];function OT(e){let{native:t}=e,o=Ne(e,FT);return t?h.jsx("option",I({},o)):h.jsx(hn,I({},o))}const NT={BooleanCellTrueIcon:b_,BooleanCellFalseIcon:pl,ColumnMenuIcon:m_,OpenFilterButtonIcon:a_,FilterPanelDeleteIcon:pl,ColumnFilteredIcon:Ed,ColumnSelectorIcon:c_,ColumnUnsortedIcon:LT,ColumnSortedAscendingIcon:Td,ColumnSortedDescendingIcon:kd,ColumnResizeIcon:u_,DensityCompactIcon:d_,DensityStandardIcon:p_,DensityComfortableIcon:h_,ExportIcon:v_,MoreActionsIcon:y_,TreeDataCollapseIcon:Ad,TreeDataExpandIcon:Md,GroupingCriteriaCollapseIcon:Ad,GroupingCriteriaExpandIcon:Md,DetailPanelExpandIcon:Dd,DetailPanelCollapseIcon:f_,RowReorderIcon:Rd,QuickFilterIcon:l_,QuickFilterClearIcon:pl,ColumnMenuHideIcon:C_,ColumnMenuSortAscendingIcon:Td,ColumnMenuSortDescendingIcon:kd,ColumnMenuFilterIcon:Ed,ColumnMenuManageColumnsIcon:x_,ColumnMenuClearIcon:w_,LoadIcon:g_,FilterPanelAddIcon:Dd,FilterPanelRemoveAllIcon:S_,ColumnReorderIcon:Rd},zT=I({},NT,{BaseCheckbox:Sl,BaseTextField:Dn,BaseFormControl:Pg,BaseSelect:kp,BaseSwitch:yy,BaseButton:wn,BaseIconButton:pn,BaseInputAdornment:ra,BaseTooltip:Mp,BasePopper:qr,BaseInputLabel:_g,BaseSelectOption:OT,BaseChip:Vl}),$T=I({},zT,{Cell:El,SkeletonCell:Ow,ColumnHeaderFilterIconButton:QS,ColumnMenu:z_,ColumnHeaders:ET,Footer:Q1,FooterRowCount:lP,Toolbar:null,PreferencesPanel:d1,LoadingOverlay:tP,NoResultsOverlay:DT,NoRowsOverlay:nP,Pagination:rP,FilterPanel:D1,ColumnsPanel:s1,Panel:u1,Row:kP}),Tm=e=>{if(e!==void 0)return Object.keys(e).reduce((t,o)=>I({},t,{[`${o.charAt(0).toLowerCase()}${o.slice(1)}`]:e[o]}),{})};function BT({defaultSlots:e,slots:t,components:o}){const s=t??(o?Tm(o):null);if(!s||Object.keys(s).length===0)return e;const i=I({},e);return Object.keys(s).forEach(a=>{const l=a;s[l]!==void 0&&(i[l]=s[l])}),i}const HT=["components","componentsProps"];function jT(e){var t;const o=Object.keys(e);if(!o.some(a=>a.startsWith("aria-")||a.startsWith("data-")))return e;const s={},i=(t=e.forwardedProps)!=null?t:{};for(let a=0;a<o.length;a+=1){const l=o[a];l.startsWith("aria-")||l.startsWith("data-")?i[l]=e[l]:s[l]=e[l]}return s.forwardedProps=i,s}function GT(e){return c.useMemo(()=>{const{components:t,componentsProps:o}=e,s=Ne(e,HT);return[t,o,jT(s)]},[e])}const VT={disableMultipleColumnsFiltering:!0,disableMultipleColumnsSorting:!0,disableMultipleRowSelection:!0,throttleRowsMs:void 0,hideFooterRowCount:!1,pagination:!0,checkboxSelectionVisibleOnly:!1,disableColumnReorder:!0,disableColumnResize:!0,keepColumnPositionIfDraggedOutside:!1,signature:"DataGrid"},xa={autoHeight:!1,autoPageSize:!1,checkboxSelection:!1,checkboxSelectionVisibleOnly:!1,columnBuffer:3,rowBuffer:3,columnThreshold:3,rowThreshold:3,rowSelection:!0,density:"standard",disableColumnFilter:!1,disableColumnMenu:!1,disableColumnSelector:!1,disableDensitySelector:!1,disableEval:!1,disableMultipleColumnsFiltering:!1,disableMultipleRowSelection:!1,disableMultipleColumnsSorting:!1,disableRowSelectionOnClick:!1,disableVirtualization:!1,editMode:fo.Cell,filterMode:"client",filterDebounceMs:150,columnHeaderHeight:56,hideFooter:!1,hideFooterPagination:!1,hideFooterRowCount:!1,hideFooterSelectedRowCount:!1,ignoreDiacritics:!1,logger:console,logLevel:"error",pagination:!1,paginationMode:"client",rowHeight:52,pageSizeOptions:[25,50,100],rowSpacingType:"margin",showCellVerticalBorder:!1,showColumnVerticalBorder:!1,sortingOrder:["asc","desc",null],sortingMode:"client",throttleRowsMs:0,disableColumnReorder:!1,disableColumnResize:!1,keepNonExistentRowsSelected:!1,keepColumnPositionIfDraggedOutside:!1,unstable_ignoreValueFormatterDuringExport:!1,clipboardCopyCellDelimiter:"	",rowPositionsDebounceMs:166},WT=Tm($T),ZT=e=>{const[t,o,s]=GT(lv({props:e,name:"MuiDataGrid"})),i=c.useMemo(()=>I({},oT,s.localeText),[s.localeText]),a=c.useMemo(()=>BT({defaultSlots:WT,slots:s.slots,components:t}),[t,s.slots]);return c.useMemo(()=>{var l;return I({},xa,s,{localeText:i,slots:a,slotProps:(l=s.slotProps)!=null?l:o},VT)},[s,i,a,o])},UT=e=>I({},e,{rowsMeta:{currentPageTotalHeight:0,positions:[]}}),ep=(e,t,o)=>typeof e=="number"&&e>0?e:t,KT=(e,t)=>{const{getRowHeight:o,getRowSpacing:s,getEstimatedRowHeight:i}=t,a=c.useRef(Object.create(null)),l=c.useRef(-1),d=c.useRef(!1),p=Re(e,Yr),g=Re(e,dn),m=Re(e,Ac),f=Re(e,jn),v=gr(e,t),y=Re(e,Xr),C=ep(t.rowHeight,xa.rowHeight),x=Math.floor(C*p),S=c.useCallback(()=>{var G,H;d.current=!1;const T=W=>{a.current[W.id]||(a.current[W.id]={sizes:{baseCenter:x},isResized:!1,autoHeight:!1,needsFirstMeasurement:!0});const{isResized:R,needsFirstMeasurement:V,sizes:Z}=a.current[W.id];let q=typeof x=="number"&&x>0?x:52;const ee=Z.baseCenter;if(R)q=ee;else if(o){const U=o(I({},W,{densityFactor:p}));if(U==="auto"){if(V){const le=i?i(I({},W,{densityFactor:p})):x;q=le??x}else q=ee;d.current=!0,a.current[W.id].autoHeight=!0}else q=ep(U,x),a.current[W.id].needsFirstMeasurement=!1,a.current[W.id].autoHeight=!1}else a.current[W.id].needsFirstMeasurement=!1;const X={};for(const U in Z)/^base[A-Z]/.test(U)&&(X[U]=Z[U]);if(X.baseCenter=q,s){var te,Y;const U=e.current.getRowIndexRelativeToVisibleRows(W.id),le=s(I({},W,{isFirstVisible:U===0,isLastVisible:U===v.rows.length-1,indexRelativeToCurrentPage:U}));X.spacingTop=(te=le.top)!=null?te:0,X.spacingBottom=(Y=le.bottom)!=null?Y:0}const ne=e.current.unstable_applyPipeProcessors("rowHeight",X,W);return a.current[W.id].sizes=ne,ne},E=[],B=v.rows.reduce((W,R)=>{E.push(W);let V=0,Z=0;const q=T(R);for(const ee in q){const X=q[ee];/^base[A-Z]/.test(ee)?V=X>V?X:V:Z+=X}return W+V+Z},0);y==null||(G=y.top)==null||G.forEach(W=>{T(W)}),y==null||(H=y.bottom)==null||H.forEach(W=>{T(W)}),e.current.setState(W=>I({},W,{rowsMeta:{currentPageTotalHeight:B,positions:E}})),d.current||(l.current=1/0),e.current.forceUpdate()},[e,v.rows,x,o,s,i,y,p]),_=c.useCallback(G=>{const H=a.current[G];return H?H.sizes.baseCenter:x},[x]),P=G=>{var H;return(H=a.current[G])==null?void 0:H.sizes},z=c.useCallback((G,H)=>{a.current[G].sizes.baseCenter=H,a.current[G].isResized=!0,a.current[G].needsFirstMeasurement=!1,S()},[S]),D=c.useMemo(()=>fh(S,t.rowPositionsDebounceMs),[S,t.rowPositionsDebounceMs]),j=c.useCallback((G,H,T)=>{if(!a.current[G]||!a.current[G].autoHeight)return;const E=a.current[G].sizes[`base${mo(T)}`]!==H;a.current[G].needsFirstMeasurement=!1,a.current[G].sizes[`base${mo(T)}`]=H,E&&D()},[D]),k=c.useCallback(G=>{var H;return((H=a.current[G])==null?void 0:H.autoHeight)||!1},[]),M=c.useCallback(()=>l.current,[]),A=c.useCallback(G=>{d.current&&G>l.current&&(l.current=G)},[]),N=c.useCallback(()=>{a.current={},S()},[S]);c.useEffect(()=>{S()},[x,g,m,f,S]),Nc(e,"rowHeight",S);const F={unstable_setLastMeasuredRowIndex:A,unstable_getRowHeight:_,unstable_getRowInternalSizes:P,unstable_setRowHeight:z,unstable_storeRowHeightMeasurement:j,resetRowHeights:N},$={getLastMeasuredRowIndex:M,rowHasAutoHeight:k};it(e,F,"public"),it(e,$,"private")},JT=e=>{const t=c.useCallback((i={})=>e.current.unstable_applyPipeProcessors("exportState",{},i),[e]),o=c.useCallback(i=>{e.current.unstable_applyPipeProcessors("restoreState",{callbacks:[]},{stateToRestore:i}).callbacks.forEach(l=>{l()}),e.current.forceUpdate()},[e]);it(e,{exportState:t,restoreState:o},"public")},qT=e=>{const t=c.useRef({}),o=c.useCallback((g,m,f)=>{const v=t.current;v[g]||(v[g]={}),v[g][m]=f},[]),s=c.useCallback((g,m)=>{var f;return(f=t.current[g])==null?void 0:f[m]},[]),i=c.useCallback(g=>{const{columnIndex:m,rowId:f,minFirstColumnIndex:v,maxLastColumnIndex:y,columns:C}=g,x=C.length,S=C[m],_=typeof S.colSpan=="function"?S.colSpan(e.current.getCellParams(f,S.field)):S.colSpan;if(!_||_===1)return o(f,m,{spannedByColSpan:!1,cellProps:{colSpan:1,width:S.computedWidth}}),{colSpan:1};let P=S.computedWidth;for(let z=1;z<_;z+=1){const D=m+z;if(D>=v&&D<y){const j=C[D];P+=j.computedWidth,o(f,m+z,{spannedByColSpan:!0,rightVisibleCellIndex:Math.min(m+_,x-1),leftVisibleCellIndex:m})}o(f,m,{spannedByColSpan:!1,cellProps:{colSpan:_,width:P}})}return{colSpan:_}},[e,o]),a=c.useCallback(({rowId:g,minFirstColumn:m,maxLastColumn:f,columns:v})=>{for(let y=m;y<f;y+=1){const C=i({columnIndex:y,rowId:g,minFirstColumnIndex:m,maxLastColumnIndex:f,columns:v});C.colSpan>1&&(y+=C.colSpan-1)}},[i]),l={unstable_getCellColSpanInfo:s},d={calculateColSpan:a};it(e,l,"public"),it(e,d,"private");const p=c.useCallback(()=>{t.current={}},[]);Ge(e,"columnOrderChange",p)},km=(e,t,o)=>{if($h(e)){if(o[e.field]!==void 0)throw new Error(["MUI: columnGroupingModel contains duplicated field",`column field ${e.field} occurs two times in the grouping model:`,`- ${o[e.field].join(" > ")}`,`- ${t.join(" > ")}`].join(`
`));o[e.field]=t;return}const{groupId:s,children:i}=e;i.forEach(a=>{km(a,[...t,s],o)})},$l=e=>{if(!e)return{};const t={};return e.forEach(o=>{km(o,[],t)}),t},Bl=(e,t,o)=>{const s=p=>{var g;return(g=t[p])!=null?g:[]},i=[],a=Math.max(...e.map(p=>s(p).length)),l=(p,g,m)=>lr(s(p).slice(0,m+1),s(g).slice(0,m+1)),d=(p,g)=>!!(o!=null&&o.left&&o.left.includes(p)&&!o.left.includes(g)||o!=null&&o.right&&!o.right.includes(p)&&o.right.includes(g));for(let p=0;p<a;p+=1){const g=e.reduce((m,f)=>{var v;const y=(v=s(f)[p])!=null?v:null;if(m.length===0)return[{columnFields:[f],groupId:y}];const C=m[m.length-1],x=C.columnFields[C.columnFields.length-1];return C.groupId!==y||!l(x,f,p)||d(x,f)?[...m,{columnFields:[f],groupId:y}]:[...m.slice(0,m.length-1),{columnFields:[...C.columnFields,f],groupId:y}]},[]);i.push(g)}return i},XT=["groupId","children"],$c=e=>{let t={};return e.forEach(o=>{if($h(o))return;const{groupId:s,children:i}=o,a=Ne(o,XT);if(!s)throw new Error("MUI: An element of the columnGroupingModel does not have either `field` or `groupId`.");i||console.warn(`MUI: group groupId=${s} has no children.`);const l=I({},a,{groupId:s}),d=$c(i);if(d[s]!==void 0||t[s]!==void 0)throw new Error(`MUI: The groupId ${s} is used multiple times in the columnGroupingModel.`);t=I({},t,d,{[s]:l})}),I({},t)},YT=(e,t,o)=>{var s,i,a,l;if(!((s=t.experimentalFeatures)!=null&&s.columnGrouping))return e;const d=Io(o),p=ha(o),g=$c((i=t.columnGroupingModel)!=null?i:[]),m=$l((a=t.columnGroupingModel)!=null?a:[]),f=Bl(d,m,(l=o.current.state.pinnedColumns)!=null?l:{}),v=p.length===0?0:Math.max(...p.map(y=>{var C,x;return(C=(x=m[y])==null?void 0:x.length)!=null?C:0}));return I({},e,{columnGrouping:{lookup:g,unwrappedGroupingModel:m,headerStructure:f,maxDepth:v}})},QT=(e,t)=>{var o;const s=c.useCallback(p=>{var g;return(g=dx(e)[p])!=null?g:[]},[e]),i=c.useCallback(()=>Ph(e),[e]);it(e,{unstable_getColumnGroupPath:s,unstable_getAllGroupDetails:i},"public");const l=c.useCallback(()=>{var p;const g=$l((p=t.columnGroupingModel)!=null?p:[]);e.current.setState(m=>{var f,v,y;const C=(f=(v=m.columns)==null?void 0:v.orderedFields)!=null?f:[],x=(y=m.pinnedColumns)!=null?y:{},S=Bl(C,g,x);return I({},m,{columnGrouping:I({},m.columnGrouping,{headerStructure:S})})})},[e,t.columnGroupingModel]),d=c.useCallback(p=>{var g,m,f,v;if(!((g=t.experimentalFeatures)!=null&&g.columnGrouping))return;const y=(m=(f=(v=e.current).getPinnedColumns)==null?void 0:f.call(v))!=null?m:{},C=Io(e),x=ha(e),S=$c(p??[]),_=$l(p??[]),P=Bl(C,_,y),z=x.length===0?0:Math.max(...x.map(D=>{var j,k;return(j=(k=_[D])==null?void 0:k.length)!=null?j:0}));e.current.setState(D=>I({},D,{columnGrouping:{lookup:S,unwrappedGroupingModel:_,headerStructure:P,maxDepth:z}}))},[e,(o=t.experimentalFeatures)==null?void 0:o.columnGrouping]);Ge(e,"columnIndexChange",l),Ge(e,"columnsChange",()=>{d(t.columnGroupingModel)}),Ge(e,"columnVisibilityModelChange",()=>{d(t.columnGroupingModel)}),c.useEffect(()=>{d(t.columnGroupingModel)},[d,t.columnGroupingModel])},ek=(e,t)=>{const o=jP(e,t);return sT(o,t),eT(o),An(tT,o,t),An(hI,o,t),An(JI,o,t),An(UI,o,t),An(AI,o,t),An(iT,o,t),An(NI,o,t),An(II,o,t),An(vI,o,t),An(FI,o,t),An(UT,o,t),An(lI,o,t),An(YT,o,t),An(JS,o,t),RI(o,t),nT(o,t),mI(o,t),qI(o,t),Vx(o,t),qT(o),QT(o,t),KI(o,t),EI(o,t),zI(o,t),MI(o,t),aT(o,t),bI(o,t),OI(o,t),KT(o,t),lT(o,t),cI(o),xI(o,t),PI(o,t),aI(o,t),dT(o,t),cT(o,t),JT(o),qS(o,t),o},tk=e=>{const{classes:t}=e;return ht({root:["virtualScroller"]},mt,t)},nk=fn("div",{name:"MuiDataGrid",slot:"VirtualScroller",overridesResolver:(e,t)=>t.virtualScroller})({overflow:"auto",height:"100%",position:"relative","@media print":{overflow:"hidden"},zIndex:0}),ok=c.forwardRef(function(t,o){const s=je(),i=tk(s);return h.jsx(nk,I({ref:o},t,{className:He(i.root,t.className),ownerState:s}))}),rk=(e,t)=>{const{classes:o}=e;return ht({root:["virtualScrollerContent",t&&"virtualScrollerContent--overflowed"]},mt,o)},sk=fn("div",{name:"MuiDataGrid",slot:"VirtualScrollerContent",overridesResolver:(e,t)=>t.virtualScrollerContent})({}),ik=c.forwardRef(function(t,o){var s;const i=je(),a=!i.autoHeight&&((s=t.style)==null?void 0:s.minHeight)==="auto",l=rk(i,a);return h.jsx(sk,I({ref:o},t,{ownerState:i,className:He(l.root,t.className)}))}),ak=["className"],lk=e=>{const{classes:t}=e;return ht({root:["virtualScrollerRenderZone"]},mt,t)},ck=fn("div",{name:"MuiDataGrid",slot:"VirtualScrollerRenderZone",overridesResolver:(e,t)=>t.virtualScrollerRenderZone})({position:"absolute",display:"flex",flexDirection:"column"}),uk=c.forwardRef(function(t,o){const{className:s}=t,i=Ne(t,ak),a=je(),l=lk(a);return h.jsx(ck,I({ref:o,className:He(l.root,s),ownerState:a},i))}),dk=["className"],pk=c.forwardRef(function(t,o){const{className:s}=t,i=Ne(t,dk),{getRootProps:a,getContentProps:l,getRenderZoneProps:d,getRows:p}=gT({ref:o});return h.jsxs(ok,I({className:s},a(i),{children:[h.jsx(Nx,{}),h.jsx(ik,I({},l(),{children:h.jsx(uk,I({},d(),{children:p()}))}))]}))}),Mm=c.forwardRef(function(t,o){const s=ZT(t),i=ek(s.apiRef,s);return h.jsx(MP,{privateApiRef:i,props:s,children:h.jsxs(Hw,I({className:s.className,style:s.style,sx:s.sx,ref:o},s.forwardedProps,{children:[h.jsx(eP,{}),h.jsx(kx,{VirtualScrollerComponent:pk}),h.jsx(Mx,{})]}))})}),hk=c.memo(Mm);xa.filterDebounceMs;xa.filterDebounceMs;Mm.propTypes={apiRef:ae.shape({current:ae.object.isRequired}),"aria-label":ae.string,"aria-labelledby":ae.string,autoHeight:ae.bool,autoPageSize:ae.bool,cellModesModel:ae.object,checkboxSelection:ae.bool,classes:ae.object,clipboardCopyCellDelimiter:ae.string,columnBuffer:ae.number,columnGroupingModel:ae.arrayOf(ae.object),columnHeaderHeight:ae.number,columns:N0(ae.array.isRequired),columnThreshold:ae.number,columnVisibilityModel:ae.object,components:ae.object,componentsProps:ae.object,density:ae.oneOf(["comfortable","compact","standard"]),disableColumnFilter:ae.bool,disableColumnMenu:ae.bool,disableColumnSelector:ae.bool,disableDensitySelector:ae.bool,disableEval:ae.bool,disableRowSelectionOnClick:ae.bool,disableVirtualization:ae.bool,editMode:ae.oneOf(["cell","row"]),experimentalFeatures:ae.shape({ariaV7:ae.bool,columnGrouping:ae.bool,warnIfFocusStateIsNotSynced:ae.bool}),filterDebounceMs:ae.number,filterMode:ae.oneOf(["client","server"]),filterModel:ae.shape({items:ae.arrayOf(ae.shape({field:ae.string.isRequired,id:ae.oneOfType([ae.number,ae.string]),operator:ae.string.isRequired,value:ae.any})).isRequired,logicOperator:ae.oneOf(["and","or"]),quickFilterExcludeHiddenColumns:ae.bool,quickFilterLogicOperator:ae.oneOf(["and","or"]),quickFilterValues:ae.array}),forwardedProps:ae.object,getCellClassName:ae.func,getDetailPanelContent:ae.func,getEstimatedRowHeight:ae.func,getRowClassName:ae.func,getRowHeight:ae.func,getRowId:ae.func,getRowSpacing:ae.func,hideFooter:ae.bool,hideFooterPagination:ae.bool,hideFooterSelectedRowCount:ae.bool,ignoreDiacritics:ae.bool,initialState:ae.object,isCellEditable:ae.func,isRowSelectable:ae.func,keepNonExistentRowsSelected:ae.bool,loading:ae.bool,localeText:ae.object,logger:ae.shape({debug:ae.func.isRequired,error:ae.func.isRequired,info:ae.func.isRequired,warn:ae.func.isRequired}),logLevel:ae.oneOf(["debug","error","info","warn",!1]),nonce:ae.string,onCellClick:ae.func,onCellDoubleClick:ae.func,onCellEditStart:ae.func,onCellEditStop:ae.func,onCellKeyDown:ae.func,onCellModesModelChange:ae.func,onClipboardCopy:ae.func,onColumnHeaderClick:ae.func,onColumnHeaderDoubleClick:ae.func,onColumnHeaderEnter:ae.func,onColumnHeaderLeave:ae.func,onColumnHeaderOut:ae.func,onColumnHeaderOver:ae.func,onColumnOrderChange:ae.func,onColumnVisibilityModelChange:ae.func,onFilterModelChange:ae.func,onMenuClose:ae.func,onMenuOpen:ae.func,onPaginationModelChange:ae.func,onPreferencePanelClose:ae.func,onPreferencePanelOpen:ae.func,onProcessRowUpdateError:ae.func,onResize:ae.func,onRowClick:ae.func,onRowCountChange:ae.func,onRowDoubleClick:ae.func,onRowEditStart:ae.func,onRowEditStop:ae.func,onRowModesModelChange:ae.func,onRowSelectionModelChange:ae.func,onSortModelChange:ae.func,onStateChange:ae.func,pageSizeOptions:ae.arrayOf(ae.oneOfType([ae.number,ae.shape({label:ae.string.isRequired,value:ae.number.isRequired})]).isRequired),pagination:e=>e.pagination===!1?new Error(["MUI: `<DataGrid pagination={false} />` is not a valid prop.","Infinite scrolling is not available in the MIT version.","","You need to upgrade to DataGridPro or DataGridPremium component to disable the pagination."].join(`
`)):null,paginationMode:ae.oneOf(["client","server"]),paginationModel:ae.shape({page:ae.number.isRequired,pageSize:ae.number.isRequired}),processRowUpdate:ae.func,rowBuffer:ae.number,rowCount:ae.number,rowHeight:ae.number,rowModesModel:ae.object,rowPositionsDebounceMs:ae.number,rows:ae.arrayOf(ae.object).isRequired,rowSelection:ae.bool,rowSelectionModel:ae.oneOfType([ae.arrayOf(ae.oneOfType([ae.number,ae.string]).isRequired),ae.number,ae.string]),rowSpacingType:ae.oneOf(["border","margin"]),rowThreshold:ae.number,scrollbarSize:ae.number,showCellVerticalBorder:ae.bool,showColumnVerticalBorder:ae.bool,slotProps:ae.object,slots:ae.object,sortingMode:ae.oneOf(["client","server"]),sortingOrder:ae.arrayOf(ae.oneOf(["asc","desc"])),sortModel:ae.arrayOf(ae.shape({field:ae.string.isRequired,sort:ae.oneOf(["asc","desc"])})),sx:ae.oneOfType([ae.arrayOf(ae.oneOfType([ae.func,ae.object,ae.bool])),ae.func,ae.object]),unstable_ignoreValueFormatterDuringExport:ae.oneOfType([ae.shape({clipboardExport:ae.bool,csvExport:ae.bool}),ae.bool])};const Am="taskTable_columns_v1";function Lo(){try{const e=localStorage.getItem(Am);return e?JSON.parse(e):null}catch{return null}}function Dr(e){try{localStorage.setItem(Am,JSON.stringify(e))}catch{}}function mk(e,t){if(!t)return e;const o=t.widths||{},s=new Set(t.hidden||[]),i=t.order||[];if(i.length){const a=new Map(e.map(d=>[d.field,d])),l=[];i.forEach(d=>{a.has(d)&&l.push({...a.get(d)})}),e.forEach(d=>{i.includes(d.field)||l.push({...d})}),e=l}else e=e.map(a=>({...a}));return e.map(a=>({...a,width:o[a.field]??a.width,hide:s.has(a.field)}))}function fk({visible:e,x:t,y:o,selectedRows:s,clickedColumnKey:i,clickedRow:a,onClose:l,onOpenPopout:d,onOpenCalloutIncident:p,onProgressTasks:g,onProgressNotes:m,mouseScreenX:f,mouseScreenY:v}){if(!e)return null;const y=s.length?s:a?[a]:[],C=y.length,x=C>1?`Open Viewer (${C})`:"Open Viewer",S=()=>{if(y.length){try{d(y,f,v)}catch(N){console.error("ContextMenu â†’ onOpenPopout error:",N)}l()}},_=()=>{if(!(!y.length||!g)){try{g(y)}catch(N){console.error("ContextMenu â†’ onProgressTasks error:",N)}l()}},P=()=>{if(!(!y.length||!m)){try{m(y)}catch(N){console.error("ContextMenu â†’ onProgressNotes error:",N)}l()}},z=async()=>{if(!a||!i)return;const N=a[i],F=N==null?"":String(N);try{await navigator.clipboard.writeText(F)}catch($){console.error("Clipboard write error:",$)}l()},D=a&&i?String(a[i]??""):"",j=()=>{if(a){try{p(a)}catch(N){console.error("ContextMenu â†’ onOpenCalloutIncident error:",N)}l()}},k=(a==null?void 0:a.taskId)??(a==null?void 0:a.TaskID)??(a==null?void 0:a.TaskId)??(a==null?void 0:a.id)??null,M=k?`Callout Incident: ${k}`:"Callout Incident",A=h.jsx(Jl,{children:e&&h.jsxs(mr.ul,{initial:{opacity:0,scale:.96},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.96},transition:{duration:.12},style:{position:"fixed",top:v,left:f,minWidth:`min(90vw, ${24*14.1667}px)`,zIndex:99999},className:"rounded-xl border border-gray-200 bg-white shadow-xl text-sm text-gray-800 py-1 overflow-hidden",onMouseDown:N=>N.stopPropagation(),children:[i&&a&&h.jsxs("li",{onClick:z,className:`px-4 py-2.5 flex items-center gap-3 cursor-pointer 
                         hover:bg-gray-50 transition-all`,children:[h.jsx(Eg,{size:15,className:"text-gray-700"}),h.jsxs("span",{className:"text-gray-800",children:["Copy value:"," ",h.jsx("span",{className:"font-semibold",children:D})]})]}),y.length>0&&g&&h.jsxs("li",{onClick:_,className:`px-4 py-2.5 flex items-center gap-3 cursor-pointer 
                         hover:bg-gray-50 transition-all`,children:[h.jsx(ql,{size:15,className:"text-[#0A4A7A]"}),h.jsx("span",{className:"font-medium text-gray-800",children:C>1?`Progress Tasks (${C})`:"Progress Task"})]}),y.length>0&&m&&h.jsxs("li",{onClick:P,className:`px-4 py-2.5 flex items-center gap-3 cursor-pointer 
                         hover:bg-gray-50 transition-all`,children:[h.jsx(Dg,{size:15,className:"text-[#0A4A7A]"}),h.jsx("span",{className:"font-medium text-gray-800",children:C>1?`Progress Notes (${C})`:"Progress Notes"})]}),h.jsxs("li",{onClick:S,className:`px-4 py-2.5 flex items-center gap-3 cursor-pointer 
                       hover:bg-gray-50 transition-all`,children:[h.jsx(Rg,{size:15,className:"text-gray-700"}),h.jsx("span",{className:"font-medium text-gray-800",children:x})]}),a&&h.jsxs("li",{onClick:j,className:`px-4 py-2.5 flex items-center gap-3 cursor-pointer 
                       hover:bg-red-50 transition-all text-red-700`,children:[h.jsx(Xl,{size:15,className:"text-red-600"}),h.jsx("span",{className:"font-semibold",children:M})]})]})});try{return Os.createPortal(A,document.body)}catch{return A}}function gk({rows:e,headerNames:t,tableHeight:o=600,containerRef:s,reserveBottom:i=160,onOpenPopout:a,onSelectionChange:l,openColumnsAnchor:d,onRequestCloseColumns:p}){const[g,m]=c.useState([]),f=zt(),v=c.useRef([]),y=c.useRef(null),C=c.useRef(null),x=c.useRef(null),S=c.useRef(null),_=c.useRef(null),P=c.useRef(null),z=c.useRef(null),D=c.useRef(null),j=typeof window<"u"&&localStorage.getItem("taskTableDensity")||"compact",k=c.useMemo(()=>Object.keys(t).map(oe=>({field:oe,headerName:t[oe]??oe,minWidth:120,sortable:!0,renderHeader:ue=>h.jsxs(We,{sx:{display:"inline-flex",alignItems:"center",gap:1,position:"relative"},children:[h.jsx(bt,{variant:"body2",sx:{fontWeight:600,cursor:"grab"},onMouseDown:he=>{P.current&&(window.clearTimeout(P.current),P.current=null);const ie=he.nativeEvent;P.current=window.setTimeout(()=>{S.current&&S.current(ie,oe),P.current=null},200)},onMouseUp:()=>{P.current&&(window.clearTimeout(P.current),P.current=null)},onMouseLeave:()=>{P.current&&(window.clearTimeout(P.current),P.current=null)},children:t[oe]??oe}),h.jsx(We,{onMouseDown:he=>_.current&&_.current(he,oe),sx:{position:"absolute",right:-6,top:0,bottom:0,width:12,cursor:"col-resize"},"aria-hidden":!0})]})})),[t]),M=c.useMemo(()=>e.map((oe,ue)=>({id:oe.taskId??oe.workId??ue,...oe})),[e]),[A,N]=c.useState(()=>k);c.useEffect(()=>{N(k)},[k]),c.useEffect(()=>{v.current=A},[A]);const F=c.useRef(null);c.useEffect(()=>{try{const ue=(Lo()||{}).widths||{},he=JSON.stringify({headers:Object.keys(t),rowCount:M.length,sample:M.slice(0,50).map(Ae=>Object.keys(t).map(Oe=>String(Ae[Oe]??"")).join("|")).join("||")});if(F.current===he||(F.current=he,!v.current.filter(Ae=>!(ue||{})[Ae.field]).map(Ae=>Ae.field).length))return;const de=document.createElement("canvas").getContext("2d");if(!de)return;const Ce=window.getComputedStyle(document.body);de.font=Ce.font||"14px sans-serif";const se=56,ye=Math.max(300,Math.round(window.innerWidth*.6)),Te={};v.current.forEach(Ae=>{const Oe=Ae.field;let Ee=0;const xe=String(Ae.headerName??Oe);Ee=Math.max(Ee,Math.round(de.measureText(xe).width));const we=M.slice(0,200);for(let Ve=0;Ve<we.length;Ve++){const Xe=String(we[Ve][Oe]??"");if(!Xe)continue;const Ke=Math.round(de.measureText(Xe).width);Ke>Ee&&(Ee=Ke)}const Fe=Math.min(ye,Math.max(Ae.minWidth||120,Ee+se));Te[Oe]=Fe}),N(Ae=>Ae.map(Oe=>({...Oe,width:Te[Oe.field]||Oe.width})));try{const Ae=Lo()||{},Oe={...Ae.widths||{}};Object.assign(Oe,Te),Dr({...Ae,widths:Oe})}catch{}}catch{}},[M]),c.useEffect(()=>{try{const oe=Lo();if(oe){const ue=mk(k,oe);N(ue)}}catch{}},[]);const $=c.useRef(null),G=(oe,ue)=>{ue.preventDefault();const he=ue.target.closest("[data-field]"),ie=he?he.getAttribute("data-field"):null;le({visible:!0,x:ue.clientX,y:ue.clientY,clickedRow:oe.row,clickedColumnKey:ie,mouseScreenX:ue.screenX??0,mouseScreenY:ue.screenY??0})};c.useEffect(()=>{if(l){const oe=M.filter(ue=>g.includes(ue.id));l(oe)}},[g]);const[H,T]=c.useState(!1),[E,B]=c.useState(null),[W,R]=c.useState(""),[V,Z]=c.useState(()=>{const oe={};return k.forEach(ue=>{oe[ue.field]=!ue.hide}),oe});c.useEffect(()=>{Z(()=>{const oe={};return(A||k).forEach(ue=>{oe[ue.field]=!ue.hide}),oe})},[A,k]),c.useEffect(()=>{if(d&&ne&&ne.current){const oe=A&&A.length&&A[0].field?A[0].field:void 0;if(oe)try{ne.current.toggleColumnMenu(oe)}catch{}}},[d]),c.useEffect(()=>()=>{},[]);const q=(oe,ue)=>{oe.preventDefault();const he=oe.clientX;y.current={type:"reorder",field:ue,startX:he},C.current=ie=>{ie.preventDefault();try{const ge=document.elementFromPoint(ie.clientX,ie.clientY),de=ge?ge.closest("[data-field]"):null;if(!$.current)return;const Ce=$.current.getBoundingClientRect();if(de){const se=de.getBoundingClientRect(),ye=se.left+se.width/2,Te=ie.clientX<ye?se.left:se.right;te({left:Te-Ce.left,top:se.top-Ce.top,height:se.height,visible:!0}),z.current!==de&&(z.current&&(z.current.style.background=""),de.style.background="rgba(34,197,94,0.08)",z.current=de)}else te(se=>({...se,visible:!1})),z.current&&(z.current.style.background="",z.current=null)}catch{}},x.current=ie=>{try{const ge=document.elementFromPoint(ie.clientX,ie.clientY),de=ge?ge.closest("[data-field]"):null,Ce=de?de.getAttribute("data-field"):null;if(Ce&&y.current&&y.current.field){const se=y.current.field,ye=v.current.slice(),Te={};ye.forEach(we=>{Te[we.field]=we});const Ae=ye.map(we=>we.field).filter(Boolean),Oe=Ae.indexOf(se);Oe!==-1&&Ae.splice(Oe,1);const Ee=Ae.indexOf(Ce);Ee===-1?Ae.push(se):Ae.splice(Ee,0,se);const xe=Ae.map(we=>({...Te[we]}));N(xe);try{const we=Lo()||{};Dr({...we,order:Ae})}catch{}}}catch{}if(te(ge=>({...ge,visible:!1})),z.current&&(z.current.style.background="",z.current=null),C.current&&document.removeEventListener("mousemove",C.current,!0),x.current&&document.removeEventListener("mouseup",x.current,!0),D.current){try{const ge=D.current.querySelector(".MuiDataGrid-columnSeparator");ge&&(ge.style.background="",ge.style.width=""),D.current.style.boxShadow=""}catch{}D.current=null}y.current=null,C.current=null,x.current=null},document.addEventListener("mousemove",C.current,!0),document.addEventListener("mouseup",x.current,!0)},ee=(oe,ue)=>{oe.preventDefault(),oe.stopPropagation();const he=oe.clientX,ie=v.current.find(de=>de.field===ue),ge=ie&&ie.width||ie&&ie.minWidth||120;y.current={type:"resize",field:ue,startX:he,startWidth:ge};try{const de=document.querySelector(`[data-field="${ue}"]`);if(de){D.current=de;const Ce=de.querySelector(".MuiDataGrid-columnSeparator");Ce?(Ce.style.background="rgba(34,197,94,0.9)",Ce.style.width="2px"):de.style.boxShadow="inset -4px 0 0 rgba(34,197,94,0.08)"}}catch{}C.current=de=>{de.preventDefault();const Ce=de.clientX-y.current.startX,se=Math.max(40,Math.round(y.current.startWidth+Ce));N(ye=>ye.map(Te=>Te.field===ue?{...Te,width:se}:Te))},x.current=de=>{try{const Ce=v.current.find(se=>se.field===ue);if(Ce)try{const se=Lo()||{},ye={...se.widths||{}};ye[ue]=Ce.width||120,Dr({...se,widths:ye})}catch{}}catch{}C.current&&document.removeEventListener("mousemove",C.current,!0),x.current&&document.removeEventListener("mouseup",x.current,!0),y.current=null,C.current=null,x.current=null},document.addEventListener("mousemove",C.current,!0),document.addEventListener("mouseup",x.current,!0)},[X,te]=c.useState({left:0,top:0,height:0,visible:!1});c.useEffect(()=>{S.current=q,_.current=ee},[]);const Y=hk,ne=O0(),[U,le]=c.useState({visible:!1,x:0,y:0}),Pe=()=>le({visible:!1,x:0,y:0});return h.jsxs(We,{sx:{width:"100%",display:"flex",flexDirection:"column",flex:1,minHeight:0,position:"relative"},children:[h.jsx(Nt,{sx:{height:o,width:"100%",zIndex:0},children:h.jsx(Y,{rows:M,columns:A,checkboxSelection:!0,density:j,pageSizeOptions:[25,50,100],initialState:{pagination:{paginationModel:{pageSize:100}}},onRowDoubleClick:(oe,ue)=>{a&&a([oe.row],ue.screenX??0,ue.screenY??0)},onRowContextMenu:G,sx:{border:0,"& .MuiDataGrid-cell":{py:j==="compact"?.5:1,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},"& .MuiDataGrid-columnHeaders":{backgroundColor:f.palette.action.hover},"& .MuiDataGrid-columnHeaderTitle":{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},onColumnResize:oe=>{const{colDef:ue,width:he}=oe;N(ie=>ie.map(ge=>ge.field===ue.field?{...ge,width:he}:ge));try{const ie=Lo()||{},ge={...ie.widths||{}};ge[ue.field]=he,Dr({...ie,widths:ge})}catch{}},onColumnVisibilityModelChange:oe=>{try{Z(()=>({...oe||{}})),N(ie=>ie.map(ge=>({...ge,hide:!(oe||{})[ge.field]})));const ue=Lo()||{},he=Object.keys(oe).filter(ie=>!oe[ie]);Dr({...ue,hidden:he})}catch{}},onColumnOrderChange:oe=>{try{const ue=Lo()||{},he=oe.columnFields||oe.items||[];Dr({...ue,order:he}),Array.isArray(he)&&he.length&&N(ie=>{const ge={};ie.forEach(Ce=>{ge[Ce.field]=Ce});const de=[];return he.forEach(Ce=>{ge[Ce]&&de.push({...ge[Ce]})}),ie.forEach(Ce=>{he.includes(Ce.field)||de.push({...Ce})}),de})}catch{}}})}),h.jsx(We,{sx:{px:1,mt:1},children:h.jsxs(Yw,{children:[h.jsx(z1,{}),h.jsx(V1,{}),h.jsx(B1,{})]})}),h.jsx(We,{sx:{position:"absolute",left:0,top:0,pointerEvents:"none",width:"100%",height:"100%",zIndex:1200},ref:$,children:X.visible&&h.jsx(We,{sx:{position:"absolute",width:2,bgcolor:"primary.main",left:X.left,top:X.top,height:X.height,transform:"translateX(-1px)"}})}),h.jsx(fk,{visible:U.visible,x:U.x,y:U.y,selectedRows:M.filter(oe=>g.includes(oe.id)),clickedColumnKey:U.clickedColumnKey??null,clickedRow:U.clickedRow??null,onClose:Pe,mouseScreenX:U.mouseScreenX??0,mouseScreenY:U.mouseScreenY??0,onOpenPopout:(oe,ue,he)=>{a&&a(oe,ue,he)},onOpenCalloutIncident:oe=>{},onProgressTasks:oe=>{},onProgressNotes:oe=>{}})]})}const Bc=({rows:e,columns:t,loading:o,...s})=>{const i=c.useRef(null);return h.jsx(We,{sx:{width:"100%",display:"flex",flex:1,minHeight:0},ref:i,children:h.jsx(gk,{rows:e,headerNames:s&&s.headerNames||{},loading:o,containerRef:i,...s})})},tp=["taskId","taskStatus","resourceName","commitmentType","postCode","customerAddress","taskType","primarySkill","importanceScore","taskCreated","appointmentStartDate"];function vk(e){return e.replace(/[_\-]+/g," ").replace(/([a-z0-9])([A-Z])/g,"$1 $2").replace(/\s+/g," ").trim().replace(/^./,t=>t.toUpperCase())}function bk({data:e,selectedTasks:t,onSelectionChange:o}){const s=zt(),i={height:"100%",display:"flex",flexDirection:"column",borderRadius:3,px:3,py:2.5,border:`1px solid ${Me(s.palette.primary.main,.18)}`,boxShadow:"0 18px 46px rgba(8,58,97,0.18)",backgroundImage:"none"},a=c.useMemo(()=>{if(!e||e.length===0)return{};const d=new Set;e.forEach(m=>Object.keys(m).forEach(f=>d.add(f)));const p=[...tp.filter(m=>d.has(m)),...[...d].filter(m=>!tp.includes(m))],g={};return p.forEach(m=>g[m]=vk(m)),g},[e]),l=c.useMemo(()=>t!=null&&t.length?new Set(t.map(d=>String(d.taskId))):new Set,[t]);return!e||e.length===0?h.jsx(Nt,{elevation:0,sx:i,children:h.jsx(It,{spacing:1,alignItems:"center",justifyContent:"center",sx:{flex:1},children:h.jsx(bt,{variant:"body2",color:"text.secondary",textAlign:"center",children:"No tasks loaded yet. Please define filters and press Search."})})}):h.jsx(Nt,{elevation:0,sx:i,children:h.jsx(We,{sx:{flex:1,display:"flex",flexDirection:"column"},children:h.jsx(Bc,{rows:e,headerNames:a,sx:{height:"100%"},tableHeight:"100%",rowIdKey:"taskId",controlledSelectedRowIds:l,onSelectionChange:d=>o(d)})})})}const np=["resourceId","name","status","calloutGroup","primarySkill","availableAgainAt"];function yk(e){return e.replace(/[_\-]+/g," ").replace(/([a-z0-9])([A-Z])/g,"$1 $2").replace(/\s+/g," ").trim().replace(/^./,t=>t.toUpperCase())}function Ck({data:e,selectedResources:t,onSelectionChange:o}){const s=zt(),i={height:"100%",display:"flex",flexDirection:"column",borderRadius:3,px:3,py:2.5,border:`1px solid ${Me(s.palette.primary.main,.18)}`,boxShadow:"0 18px 46px rgba(8,58,97,0.18)",backgroundImage:"none"},a=c.useMemo(()=>{if(!(e!=null&&e.length))return{};const d=new Set;e.forEach(m=>Object.keys(m).forEach(f=>d.add(f)));const p=[...np.filter(m=>d.has(m)),...[...d].filter(m=>!np.includes(m))],g={};return p.forEach(m=>g[m]=yk(m)),g},[e]),l=c.useMemo(()=>new Set(t.map(d=>String(d.resourceId))),[t]);return!e||e.length===0?h.jsx(Nt,{elevation:0,sx:i,children:h.jsx(It,{spacing:1,alignItems:"center",justifyContent:"center",sx:{flex:1},children:h.jsx(bt,{variant:"body2",color:"text.secondary",textAlign:"center",children:"No resources loaded. Please define filters and press Search."})})}):h.jsx(Nt,{elevation:0,sx:i,children:h.jsx(We,{sx:{flex:1,display:"flex",flexDirection:"column"},children:h.jsx(Bc,{rows:e,headerNames:a,sx:{height:"100%"},tableHeight:"100%",rowIdKey:"resourceId",controlledSelectedRowIds:l,onSelectionChange:d=>o(d)})})})}const wa=c.createContext(null);wa.displayName="PanelGroupContext";const Qt={group:"data-panel-group",groupDirection:"data-panel-group-direction",groupId:"data-panel-group-id",panel:"data-panel",panelCollapsible:"data-panel-collapsible",panelId:"data-panel-id",panelSize:"data-panel-size",resizeHandle:"data-resize-handle",resizeHandleActive:"data-resize-handle-active",resizeHandleEnabled:"data-panel-resize-handle-enabled",resizeHandleId:"data-panel-resize-handle-id",resizeHandleState:"data-resize-handle-state"},Hc=10,cr=c.useLayoutEffect,op=Fp.useId,xk=typeof op=="function"?op:()=>null;let wk=0;function jc(e=null){const t=xk(),o=c.useRef(e||t||null);return o.current===null&&(o.current=""+wk++),e??o.current}function Em({children:e,className:t="",collapsedSize:o,collapsible:s,defaultSize:i,forwardedRef:a,id:l,maxSize:d,minSize:p,onCollapse:g,onExpand:m,onResize:f,order:v,style:y,tagName:C="div",...x}){const S=c.useContext(wa);if(S===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:_,expandPanel:P,getPanelSize:z,getPanelStyle:D,groupId:j,isPanelCollapsed:k,reevaluatePanelConstraints:M,registerPanel:A,resizePanel:N,unregisterPanel:F}=S,$=jc(l),G=c.useRef({callbacks:{onCollapse:g,onExpand:m,onResize:f},constraints:{collapsedSize:o,collapsible:s,defaultSize:i,maxSize:d,minSize:p},id:$,idIsFromProps:l!==void 0,order:v});c.useRef({didLogMissingDefaultSizeWarning:!1}),cr(()=>{const{callbacks:T,constraints:E}=G.current,B={...E};G.current.id=$,G.current.idIsFromProps=l!==void 0,G.current.order=v,T.onCollapse=g,T.onExpand=m,T.onResize=f,E.collapsedSize=o,E.collapsible=s,E.defaultSize=i,E.maxSize=d,E.minSize=p,(B.collapsedSize!==E.collapsedSize||B.collapsible!==E.collapsible||B.maxSize!==E.maxSize||B.minSize!==E.minSize)&&M(G.current,B)}),cr(()=>{const T=G.current;return A(T),()=>{F(T)}},[v,$,A,F]),c.useImperativeHandle(a,()=>({collapse:()=>{_(G.current)},expand:T=>{P(G.current,T)},getId(){return $},getSize(){return z(G.current)},isCollapsed(){return k(G.current)},isExpanded(){return!k(G.current)},resize:T=>{N(G.current,T)}}),[_,P,z,k,$,N]);const H=D(G.current,i);return c.createElement(C,{...x,children:e,className:t,id:$,style:{...H,...y},[Qt.groupId]:j,[Qt.panel]:"",[Qt.panelCollapsible]:s||void 0,[Qt.panelId]:$,[Qt.panelSize]:parseFloat(""+H.flexGrow).toFixed(1)})}const Cs=c.forwardRef((e,t)=>c.createElement(Em,{...e,forwardedRef:t}));Em.displayName="Panel";Cs.displayName="forwardRef(Panel)";let Hl=null,Mi=-1,$o=null;function Sk(e,t,o){const s=(t&Om)!==0,i=(t&Nm)!==0,a=(t&zm)!==0,l=(t&$m)!==0;if(t){if(s)return a?"se-resize":l?"ne-resize":"e-resize";if(i)return a?"sw-resize":l?"nw-resize":"w-resize";if(a)return"s-resize";if(l)return"n-resize"}switch(e){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function _k(){$o!==null&&(document.head.removeChild($o),Hl=null,$o=null,Mi=-1)}function fl(e,t,o){var s,i;const a=Sk(e,t);if(Hl!==a){if(Hl=a,$o===null&&($o=document.createElement("style"),document.head.appendChild($o)),Mi>=0){var l;(l=$o.sheet)===null||l===void 0||l.removeRule(Mi)}Mi=(s=(i=$o.sheet)===null||i===void 0?void 0:i.insertRule(`*{cursor: ${a} !important;}`))!==null&&s!==void 0?s:-1}}function Dm(e){return e.type==="keydown"}function Rm(e){return e.type.startsWith("pointer")}function Lm(e){return e.type.startsWith("mouse")}function Sa(e){if(Rm(e)){if(e.isPrimary)return{x:e.clientX,y:e.clientY}}else if(Lm(e))return{x:e.clientX,y:e.clientY};return{x:1/0,y:1/0}}function Pk(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function Ik(e,t,o){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y}function Tk(e,t){if(e===t)throw new Error("Cannot compare node with itself");const o={a:ip(e),b:ip(t)};let s;for(;o.a.at(-1)===o.b.at(-1);)e=o.a.pop(),t=o.b.pop(),s=e;ut(s,"Stacking order can only be calculated for elements with a common ancestor");const i={a:sp(rp(o.a)),b:sp(rp(o.b))};if(i.a===i.b){const a=s.childNodes,l={a:o.a.at(-1),b:o.b.at(-1)};let d=a.length;for(;d--;){const p=a[d];if(p===l.a)return 1;if(p===l.b)return-1}}return Math.sign(i.a-i.b)}const kk=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function Mk(e){var t;const o=getComputedStyle((t=Fm(e))!==null&&t!==void 0?t:e).display;return o==="flex"||o==="inline-flex"}function Ak(e){const t=getComputedStyle(e);return!!(t.position==="fixed"||t.zIndex!=="auto"&&(t.position!=="static"||Mk(e))||+t.opacity<1||"transform"in t&&t.transform!=="none"||"webkitTransform"in t&&t.webkitTransform!=="none"||"mixBlendMode"in t&&t.mixBlendMode!=="normal"||"filter"in t&&t.filter!=="none"||"webkitFilter"in t&&t.webkitFilter!=="none"||"isolation"in t&&t.isolation==="isolate"||kk.test(t.willChange)||t.webkitOverflowScrolling==="touch")}function rp(e){let t=e.length;for(;t--;){const o=e[t];if(ut(o,"Missing node"),Ak(o))return o}return null}function sp(e){return e&&Number(getComputedStyle(e).zIndex)||0}function ip(e){const t=[];for(;e;)t.push(e),e=Fm(e);return t}function Fm(e){const{parentNode:t}=e;return t&&t instanceof ShadowRoot?t.host:t}const Om=1,Nm=2,zm=4,$m=8,Ek=Pk()==="coarse";let to=[],Wr=!1,Bo=new Map,_a=new Map;const Rs=new Set;function Dk(e,t,o,s,i){var a;const{ownerDocument:l}=t,d={direction:o,element:t,hitAreaMargins:s,setResizeHandlerState:i},p=(a=Bo.get(l))!==null&&a!==void 0?a:0;return Bo.set(l,p+1),Rs.add(d),qi(),function(){var m;_a.delete(e),Rs.delete(d);const f=(m=Bo.get(l))!==null&&m!==void 0?m:1;if(Bo.set(l,f-1),qi(),f===1&&Bo.delete(l),to.includes(d)){const v=to.indexOf(d);v>=0&&to.splice(v,1),Pa(),i("up",!0,null)}}}function Rk(e){const{target:t}=e,{x:o,y:s}=Sa(e);Wr=!0,Gc({target:t,x:o,y:s}),qi(),to.length>0&&(Xi("down",e),Pa(),e.preventDefault(),Bm(t)||e.stopImmediatePropagation())}function gl(e){const{x:t,y:o}=Sa(e);if(Wr&&e.type!=="pointerleave"&&e.buttons===0&&(Wr=!1,Xi("up",e)),!Wr){const{target:s}=e;Gc({target:s,x:t,y:o})}Xi("move",e),Pa(),to.length>0&&e.preventDefault()}function vl(e){const{target:t}=e,{x:o,y:s}=Sa(e);_a.clear(),Wr=!1,to.length>0&&(e.preventDefault(),Bm(t)||e.stopImmediatePropagation()),Xi("up",e),Gc({target:t,x:o,y:s}),Pa(),qi()}function Bm(e){let t=e;for(;t;){if(t.hasAttribute(Qt.resizeHandle))return!0;t=t.parentElement}return!1}function Gc({target:e,x:t,y:o}){to.splice(0);let s=null;(e instanceof HTMLElement||e instanceof SVGElement)&&(s=e),Rs.forEach(i=>{const{element:a,hitAreaMargins:l}=i,d=a.getBoundingClientRect(),{bottom:p,left:g,right:m,top:f}=d,v=Ek?l.coarse:l.fine;if(t>=g-v&&t<=m+v&&o>=f-v&&o<=p+v){if(s!==null&&document.contains(s)&&a!==s&&!a.contains(s)&&!s.contains(a)&&Tk(s,a)>0){let C=s,x=!1;for(;C&&!C.contains(a);){if(Ik(C.getBoundingClientRect(),d)){x=!0;break}C=C.parentElement}if(x)return}to.push(i)}})}function bl(e,t){_a.set(e,t)}function Pa(){let e=!1,t=!1;to.forEach(s=>{const{direction:i}=s;i==="horizontal"?e=!0:t=!0});let o=0;_a.forEach(s=>{o|=s}),e&&t?fl("intersection",o):e?fl("horizontal",o):t?fl("vertical",o):_k()}let yl;function qi(){var e;(e=yl)===null||e===void 0||e.abort(),yl=new AbortController;const t={capture:!0,signal:yl.signal};Rs.size&&(Wr?(to.length>0&&Bo.forEach((o,s)=>{const{body:i}=s;o>0&&(i.addEventListener("contextmenu",vl,t),i.addEventListener("pointerleave",gl,t),i.addEventListener("pointermove",gl,t))}),Bo.forEach((o,s)=>{const{body:i}=s;i.addEventListener("pointerup",vl,t),i.addEventListener("pointercancel",vl,t)})):Bo.forEach((o,s)=>{const{body:i}=s;o>0&&(i.addEventListener("pointerdown",Rk,t),i.addEventListener("pointermove",gl,t))}))}function Xi(e,t){Rs.forEach(o=>{const{setResizeHandlerState:s}=o,i=to.includes(o);s(e,i,t)})}function Lk(){const[e,t]=c.useState(0);return c.useCallback(()=>t(o=>o+1),[])}function ut(e,t){if(!e)throw console.error(t),Error(t)}function hr(e,t,o=Hc){return e.toFixed(o)===t.toFixed(o)?0:e>t?1:-1}function _o(e,t,o=Hc){return hr(e,t,o)===0}function Ln(e,t,o){return hr(e,t,o)===0}function Fk(e,t,o){if(e.length!==t.length)return!1;for(let s=0;s<e.length;s++){const i=e[s],a=t[s];if(!Ln(i,a,o))return!1}return!0}function Br({panelConstraints:e,panelIndex:t,size:o}){const s=e[t];ut(s!=null,`Panel constraints not found for index ${t}`);let{collapsedSize:i=0,collapsible:a,maxSize:l=100,minSize:d=0}=s;if(hr(o,d)<0)if(a){const p=(i+d)/2;hr(o,p)<0?o=i:o=d}else o=d;return o=Math.min(l,o),o=parseFloat(o.toFixed(Hc)),o}function xs({delta:e,initialLayout:t,panelConstraints:o,pivotIndices:s,prevLayout:i,trigger:a}){if(Ln(e,0))return t;const l=[...t],[d,p]=s;ut(d!=null,"Invalid first pivot index"),ut(p!=null,"Invalid second pivot index");let g=0;if(a==="keyboard"){{const f=e<0?p:d,v=o[f];ut(v,`Panel constraints not found for index ${f}`);const{collapsedSize:y=0,collapsible:C,minSize:x=0}=v;if(C){const S=t[f];if(ut(S!=null,`Previous layout not found for panel index ${f}`),Ln(S,y)){const _=x-S;hr(_,Math.abs(e))>0&&(e=e<0?0-_:_)}}}{const f=e<0?d:p,v=o[f];ut(v,`No panel constraints found for index ${f}`);const{collapsedSize:y=0,collapsible:C,minSize:x=0}=v;if(C){const S=t[f];if(ut(S!=null,`Previous layout not found for panel index ${f}`),Ln(S,x)){const _=S-y;hr(_,Math.abs(e))>0&&(e=e<0?0-_:_)}}}}{const f=e<0?1:-1;let v=e<0?p:d,y=0;for(;;){const x=t[v];ut(x!=null,`Previous layout not found for panel index ${v}`);const _=Br({panelConstraints:o,panelIndex:v,size:100})-x;if(y+=_,v+=f,v<0||v>=o.length)break}const C=Math.min(Math.abs(e),Math.abs(y));e=e<0?0-C:C}{let v=e<0?d:p;for(;v>=0&&v<o.length;){const y=Math.abs(e)-Math.abs(g),C=t[v];ut(C!=null,`Previous layout not found for panel index ${v}`);const x=C-y,S=Br({panelConstraints:o,panelIndex:v,size:x});if(!Ln(C,S)&&(g+=C-S,l[v]=S,g.toFixed(3).localeCompare(Math.abs(e).toFixed(3),void 0,{numeric:!0})>=0))break;e<0?v--:v++}}if(Fk(i,l))return i;{const f=e<0?p:d,v=t[f];ut(v!=null,`Previous layout not found for panel index ${f}`);const y=v+g,C=Br({panelConstraints:o,panelIndex:f,size:y});if(l[f]=C,!Ln(C,y)){let x=y-C,_=e<0?p:d;for(;_>=0&&_<o.length;){const P=l[_];ut(P!=null,`Previous layout not found for panel index ${_}`);const z=P+x,D=Br({panelConstraints:o,panelIndex:_,size:z});if(Ln(P,D)||(x-=D-P,l[_]=D),Ln(x,0))break;e>0?_--:_++}}}const m=l.reduce((f,v)=>v+f,0);return Ln(m,100)?l:i}function Ok({layout:e,panelsArray:t,pivotIndices:o}){let s=0,i=100,a=0,l=0;const d=o[0];ut(d!=null,"No pivot index found"),t.forEach((f,v)=>{const{constraints:y}=f,{maxSize:C=100,minSize:x=0}=y;v===d?(s=x,i=C):(a+=x,l+=C)});const p=Math.min(i,100-a),g=Math.max(s,100-l),m=e[d];return{valueMax:p,valueMin:g,valueNow:m}}function Ls(e,t=document){return Array.from(t.querySelectorAll(`[${Qt.resizeHandleId}][data-panel-group-id="${e}"]`))}function Hm(e,t,o=document){const i=Ls(e,o).findIndex(a=>a.getAttribute(Qt.resizeHandleId)===t);return i??null}function jm(e,t,o){const s=Hm(e,t,o);return s!=null?[s,s+1]:[-1,-1]}function Nk(e){return e instanceof HTMLElement?!0:typeof e=="object"&&e!==null&&"tagName"in e&&"getAttribute"in e}function Gm(e,t=document){if(Nk(t)&&t.dataset.panelGroupId==e)return t;const o=t.querySelector(`[data-panel-group][data-panel-group-id="${e}"]`);return o||null}function Ia(e,t=document){const o=t.querySelector(`[${Qt.resizeHandleId}="${e}"]`);return o||null}function zk(e,t,o,s=document){var i,a,l,d;const p=Ia(t,s),g=Ls(e,s),m=p?g.indexOf(p):-1,f=(i=(a=o[m])===null||a===void 0?void 0:a.id)!==null&&i!==void 0?i:null,v=(l=(d=o[m+1])===null||d===void 0?void 0:d.id)!==null&&l!==void 0?l:null;return[f,v]}function $k({committedValuesRef:e,eagerValuesRef:t,groupId:o,layout:s,panelDataArray:i,panelGroupElement:a,setLayout:l}){c.useRef({didWarnAboutMissingResizeHandle:!1}),cr(()=>{if(!a)return;const d=Ls(o,a);for(let p=0;p<i.length-1;p++){const{valueMax:g,valueMin:m,valueNow:f}=Ok({layout:s,panelsArray:i,pivotIndices:[p,p+1]}),v=d[p];if(v!=null){const y=i[p];ut(y,`No panel data found for index "${p}"`),v.setAttribute("aria-controls",y.id),v.setAttribute("aria-valuemax",""+Math.round(g)),v.setAttribute("aria-valuemin",""+Math.round(m)),v.setAttribute("aria-valuenow",f!=null?""+Math.round(f):"")}}return()=>{d.forEach((p,g)=>{p.removeAttribute("aria-controls"),p.removeAttribute("aria-valuemax"),p.removeAttribute("aria-valuemin"),p.removeAttribute("aria-valuenow")})}},[o,s,i,a]),c.useEffect(()=>{if(!a)return;const d=t.current;ut(d,"Eager values not found");const{panelDataArray:p}=d,g=Gm(o,a);ut(g!=null,`No group found for id "${o}"`);const m=Ls(o,a);ut(m,`No resize handles found for group id "${o}"`);const f=m.map(v=>{const y=v.getAttribute(Qt.resizeHandleId);ut(y,"Resize handle element has no handle id attribute");const[C,x]=zk(o,y,p,a);if(C==null||x==null)return()=>{};const S=_=>{if(!_.defaultPrevented)switch(_.key){case"Enter":{_.preventDefault();const P=p.findIndex(z=>z.id===C);if(P>=0){const z=p[P];ut(z,`No panel data found for index ${P}`);const D=s[P],{collapsedSize:j=0,collapsible:k,minSize:M=0}=z.constraints;if(D!=null&&k){const A=xs({delta:Ln(D,j)?M-j:j-D,initialLayout:s,panelConstraints:p.map(N=>N.constraints),pivotIndices:jm(o,y,a),prevLayout:s,trigger:"keyboard"});s!==A&&l(A)}}break}}};return v.addEventListener("keydown",S),()=>{v.removeEventListener("keydown",S)}});return()=>{f.forEach(v=>v())}},[a,e,t,o,s,i,l])}function ap(e,t){if(e.length!==t.length)return!1;for(let o=0;o<e.length;o++)if(e[o]!==t[o])return!1;return!0}function Vm(e,t){const o=e==="horizontal",{x:s,y:i}=Sa(t);return o?s:i}function Bk(e,t,o,s,i){const a=o==="horizontal",l=Ia(t,i);ut(l,`No resize handle element found for id "${t}"`);const d=l.getAttribute(Qt.groupId);ut(d,"Resize handle element has no group id attribute");let{initialCursorPosition:p}=s;const g=Vm(o,e),m=Gm(d,i);ut(m,`No group element found for id "${d}"`);const f=m.getBoundingClientRect(),v=a?f.width:f.height;return(g-p)/v*100}function Hk(e,t,o,s,i,a){if(Dm(e)){const l=o==="horizontal";let d=0;e.shiftKey?d=100:i!=null?d=i:d=10;let p=0;switch(e.key){case"ArrowDown":p=l?0:d;break;case"ArrowLeft":p=l?-d:0;break;case"ArrowRight":p=l?d:0;break;case"ArrowUp":p=l?0:-d;break;case"End":p=100;break;case"Home":p=-100;break}return p}else return s==null?0:Bk(e,t,o,s,a)}function jk({panelDataArray:e}){const t=Array(e.length),o=e.map(a=>a.constraints);let s=0,i=100;for(let a=0;a<e.length;a++){const l=o[a];ut(l,`Panel constraints not found for index ${a}`);const{defaultSize:d}=l;d!=null&&(s++,t[a]=d,i-=d)}for(let a=0;a<e.length;a++){const l=o[a];ut(l,`Panel constraints not found for index ${a}`);const{defaultSize:d}=l;if(d!=null)continue;const p=e.length-s,g=i/p;s++,t[a]=g,i-=g}return t}function Rr(e,t,o){t.forEach((s,i)=>{const a=e[i];ut(a,`Panel data not found for index ${i}`);const{callbacks:l,constraints:d,id:p}=a,{collapsedSize:g=0,collapsible:m}=d,f=o[p];if(f==null||s!==f){o[p]=s;const{onCollapse:v,onExpand:y,onResize:C}=l;C&&C(s,f),m&&(v||y)&&(y&&(f==null||_o(f,g))&&!_o(s,g)&&y(),v&&(f==null||!_o(f,g))&&_o(s,g)&&v())}})}function bi(e,t){if(e.length!==t.length)return!1;for(let o=0;o<e.length;o++)if(e[o]!=t[o])return!1;return!0}function Gk({defaultSize:e,dragState:t,layout:o,panelData:s,panelIndex:i,precision:a=3}){const l=o[i];let d;return l==null?d=e!=null?e.toFixed(a):"1":s.length===1?d="1":d=l.toFixed(a),{flexBasis:0,flexGrow:d,flexShrink:1,overflow:"hidden",pointerEvents:t!==null?"none":void 0}}function Vk(e,t=10){let o=null;return(...i)=>{o!==null&&clearTimeout(o),o=setTimeout(()=>{e(...i)},t)}}function lp(e){try{if(typeof localStorage<"u")e.getItem=t=>localStorage.getItem(t),e.setItem=(t,o)=>{localStorage.setItem(t,o)};else throw new Error("localStorage not supported in this environment")}catch(t){console.error(t),e.getItem=()=>null,e.setItem=()=>{}}}function Wm(e){return`react-resizable-panels:${e}`}function Zm(e){return e.map(t=>{const{constraints:o,id:s,idIsFromProps:i,order:a}=t;return i?s:a?`${a}:${JSON.stringify(o)}`:JSON.stringify(o)}).sort((t,o)=>t.localeCompare(o)).join(",")}function Um(e,t){try{const o=Wm(e),s=t.getItem(o);if(s){const i=JSON.parse(s);if(typeof i=="object"&&i!=null)return i}}catch{}return null}function Wk(e,t,o){var s,i;const a=(s=Um(e,o))!==null&&s!==void 0?s:{},l=Zm(t);return(i=a[l])!==null&&i!==void 0?i:null}function Zk(e,t,o,s,i){var a;const l=Wm(e),d=Zm(t),p=(a=Um(e,i))!==null&&a!==void 0?a:{};p[d]={expandToSizes:Object.fromEntries(o.entries()),layout:s};try{i.setItem(l,JSON.stringify(p))}catch(g){console.error(g)}}function cp({layout:e,panelConstraints:t}){const o=[...e],s=o.reduce((a,l)=>a+l,0);if(o.length!==t.length)throw Error(`Invalid ${t.length} panel layout: ${o.map(a=>`${a}%`).join(", ")}`);if(!Ln(s,100)&&o.length>0)for(let a=0;a<t.length;a++){const l=o[a];ut(l!=null,`No layout data found for index ${a}`);const d=100/s*l;o[a]=d}let i=0;for(let a=0;a<t.length;a++){const l=o[a];ut(l!=null,`No layout data found for index ${a}`);const d=Br({panelConstraints:t,panelIndex:a,size:l});l!=d&&(i+=l-d,o[a]=d)}if(!Ln(i,0))for(let a=0;a<t.length;a++){const l=o[a];ut(l!=null,`No layout data found for index ${a}`);const d=l+i,p=Br({panelConstraints:t,panelIndex:a,size:d});if(l!==p&&(i-=p-l,o[a]=p,Ln(i,0)))break}return o}const Uk=100,ws={getItem:e=>(lp(ws),ws.getItem(e)),setItem:(e,t)=>{lp(ws),ws.setItem(e,t)}},up={};function Km({autoSaveId:e=null,children:t,className:o="",direction:s,forwardedRef:i,id:a=null,onLayout:l=null,keyboardResizeBy:d=null,storage:p=ws,style:g,tagName:m="div",...f}){const v=jc(a),y=c.useRef(null),[C,x]=c.useState(null),[S,_]=c.useState([]),P=Lk(),z=c.useRef({}),D=c.useRef(new Map),j=c.useRef(0),k=c.useRef({autoSaveId:e,direction:s,dragState:C,id:v,keyboardResizeBy:d,onLayout:l,storage:p}),M=c.useRef({layout:S,panelDataArray:[],panelDataArrayChanged:!1});c.useRef({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),c.useImperativeHandle(i,()=>({getId:()=>k.current.id,getLayout:()=>{const{layout:X}=M.current;return X},setLayout:X=>{const{onLayout:te}=k.current,{layout:Y,panelDataArray:ne}=M.current,U=cp({layout:X,panelConstraints:ne.map(le=>le.constraints)});ap(Y,U)||(_(U),M.current.layout=U,te&&te(U),Rr(ne,U,z.current))}}),[]),cr(()=>{k.current.autoSaveId=e,k.current.direction=s,k.current.dragState=C,k.current.id=v,k.current.onLayout=l,k.current.storage=p}),$k({committedValuesRef:k,eagerValuesRef:M,groupId:v,layout:S,panelDataArray:M.current.panelDataArray,setLayout:_,panelGroupElement:y.current}),c.useEffect(()=>{const{panelDataArray:X}=M.current;if(e){if(S.length===0||S.length!==X.length)return;let te=up[e];te==null&&(te=Vk(Zk,Uk),up[e]=te);const Y=[...X],ne=new Map(D.current);te(e,Y,ne,S,p)}},[e,S,p]),c.useEffect(()=>{});const A=c.useCallback(X=>{const{onLayout:te}=k.current,{layout:Y,panelDataArray:ne}=M.current;if(X.constraints.collapsible){const U=ne.map(ue=>ue.constraints),{collapsedSize:le=0,panelSize:Pe,pivotIndices:oe}=er(ne,X,Y);if(ut(Pe!=null,`Panel size not found for panel "${X.id}"`),!_o(Pe,le)){D.current.set(X.id,Pe);const he=Nr(ne,X)===ne.length-1?Pe-le:le-Pe,ie=xs({delta:he,initialLayout:Y,panelConstraints:U,pivotIndices:oe,prevLayout:Y,trigger:"imperative-api"});bi(Y,ie)||(_(ie),M.current.layout=ie,te&&te(ie),Rr(ne,ie,z.current))}}},[]),N=c.useCallback((X,te)=>{const{onLayout:Y}=k.current,{layout:ne,panelDataArray:U}=M.current;if(X.constraints.collapsible){const le=U.map(ge=>ge.constraints),{collapsedSize:Pe=0,panelSize:oe=0,minSize:ue=0,pivotIndices:he}=er(U,X,ne),ie=te??ue;if(_o(oe,Pe)){const ge=D.current.get(X.id),de=ge!=null&&ge>=ie?ge:ie,se=Nr(U,X)===U.length-1?oe-de:de-oe,ye=xs({delta:se,initialLayout:ne,panelConstraints:le,pivotIndices:he,prevLayout:ne,trigger:"imperative-api"});bi(ne,ye)||(_(ye),M.current.layout=ye,Y&&Y(ye),Rr(U,ye,z.current))}}},[]),F=c.useCallback(X=>{const{layout:te,panelDataArray:Y}=M.current,{panelSize:ne}=er(Y,X,te);return ut(ne!=null,`Panel size not found for panel "${X.id}"`),ne},[]),$=c.useCallback((X,te)=>{const{panelDataArray:Y}=M.current,ne=Nr(Y,X);return Gk({defaultSize:te,dragState:C,layout:S,panelData:Y,panelIndex:ne})},[C,S]),G=c.useCallback(X=>{const{layout:te,panelDataArray:Y}=M.current,{collapsedSize:ne=0,collapsible:U,panelSize:le}=er(Y,X,te);return ut(le!=null,`Panel size not found for panel "${X.id}"`),U===!0&&_o(le,ne)},[]),H=c.useCallback(X=>{const{layout:te,panelDataArray:Y}=M.current,{collapsedSize:ne=0,collapsible:U,panelSize:le}=er(Y,X,te);return ut(le!=null,`Panel size not found for panel "${X.id}"`),!U||hr(le,ne)>0},[]),T=c.useCallback(X=>{const{panelDataArray:te}=M.current;te.push(X),te.sort((Y,ne)=>{const U=Y.order,le=ne.order;return U==null&&le==null?0:U==null?-1:le==null?1:U-le}),M.current.panelDataArrayChanged=!0,P()},[P]);cr(()=>{if(M.current.panelDataArrayChanged){M.current.panelDataArrayChanged=!1;const{autoSaveId:X,onLayout:te,storage:Y}=k.current,{layout:ne,panelDataArray:U}=M.current;let le=null;if(X){const oe=Wk(X,U,Y);oe&&(D.current=new Map(Object.entries(oe.expandToSizes)),le=oe.layout)}le==null&&(le=jk({panelDataArray:U}));const Pe=cp({layout:le,panelConstraints:U.map(oe=>oe.constraints)});ap(ne,Pe)||(_(Pe),M.current.layout=Pe,te&&te(Pe),Rr(U,Pe,z.current))}}),cr(()=>{const X=M.current;return()=>{X.layout=[]}},[]);const E=c.useCallback(X=>{let te=!1;const Y=y.current;return Y&&window.getComputedStyle(Y,null).getPropertyValue("direction")==="rtl"&&(te=!0),function(U){U.preventDefault();const le=y.current;if(!le)return()=>null;const{direction:Pe,dragState:oe,id:ue,keyboardResizeBy:he,onLayout:ie}=k.current,{layout:ge,panelDataArray:de}=M.current,{initialLayout:Ce}=oe??{},se=jm(ue,X,le);let ye=Hk(U,X,Pe,oe,he,le);const Te=Pe==="horizontal";Te&&te&&(ye=-ye);const Ae=de.map(xe=>xe.constraints),Oe=xs({delta:ye,initialLayout:Ce??ge,panelConstraints:Ae,pivotIndices:se,prevLayout:ge,trigger:Dm(U)?"keyboard":"mouse-or-touch"}),Ee=!bi(ge,Oe);(Rm(U)||Lm(U))&&j.current!=ye&&(j.current=ye,!Ee&&ye!==0?Te?bl(X,ye<0?Om:Nm):bl(X,ye<0?zm:$m):bl(X,0)),Ee&&(_(Oe),M.current.layout=Oe,ie&&ie(Oe),Rr(de,Oe,z.current))}},[]),B=c.useCallback((X,te)=>{const{onLayout:Y}=k.current,{layout:ne,panelDataArray:U}=M.current,le=U.map(ge=>ge.constraints),{panelSize:Pe,pivotIndices:oe}=er(U,X,ne);ut(Pe!=null,`Panel size not found for panel "${X.id}"`);const he=Nr(U,X)===U.length-1?Pe-te:te-Pe,ie=xs({delta:he,initialLayout:ne,panelConstraints:le,pivotIndices:oe,prevLayout:ne,trigger:"imperative-api"});bi(ne,ie)||(_(ie),M.current.layout=ie,Y&&Y(ie),Rr(U,ie,z.current))},[]),W=c.useCallback((X,te)=>{const{layout:Y,panelDataArray:ne}=M.current,{collapsedSize:U=0,collapsible:le}=te,{collapsedSize:Pe=0,collapsible:oe,maxSize:ue=100,minSize:he=0}=X.constraints,{panelSize:ie}=er(ne,X,Y);ie!=null&&(le&&oe&&_o(ie,U)?_o(U,Pe)||B(X,Pe):ie<he?B(X,he):ie>ue&&B(X,ue))},[B]),R=c.useCallback((X,te)=>{const{direction:Y}=k.current,{layout:ne}=M.current;if(!y.current)return;const U=Ia(X,y.current);ut(U,`Drag handle element not found for id "${X}"`);const le=Vm(Y,te);x({dragHandleId:X,dragHandleRect:U.getBoundingClientRect(),initialCursorPosition:le,initialLayout:ne})},[]),V=c.useCallback(()=>{x(null)},[]),Z=c.useCallback(X=>{const{panelDataArray:te}=M.current,Y=Nr(te,X);Y>=0&&(te.splice(Y,1),delete z.current[X.id],M.current.panelDataArrayChanged=!0,P())},[P]),q=c.useMemo(()=>({collapsePanel:A,direction:s,dragState:C,expandPanel:N,getPanelSize:F,getPanelStyle:$,groupId:v,isPanelCollapsed:G,isPanelExpanded:H,reevaluatePanelConstraints:W,registerPanel:T,registerResizeHandle:E,resizePanel:B,startDragging:R,stopDragging:V,unregisterPanel:Z,panelGroupElement:y.current}),[A,C,s,N,F,$,v,G,H,W,T,E,B,R,V,Z]),ee={display:"flex",flexDirection:s==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return c.createElement(wa.Provider,{value:q},c.createElement(m,{...f,children:t,className:o,id:a,ref:y,style:{...ee,...g},[Qt.group]:"",[Qt.groupDirection]:s,[Qt.groupId]:v}))}const Ai=c.forwardRef((e,t)=>c.createElement(Km,{...e,forwardedRef:t}));Km.displayName="PanelGroup";Ai.displayName="forwardRef(PanelGroup)";function Nr(e,t){return e.findIndex(o=>o===t||o.id===t.id)}function er(e,t,o){const s=Nr(e,t),a=s===e.length-1?[s-1,s]:[s,s+1],l=o[s];return{...t.constraints,panelSize:l,pivotIndices:a}}function Kk({disabled:e,handleId:t,resizeHandler:o,panelGroupElement:s}){c.useEffect(()=>{if(e||o==null||s==null)return;const i=Ia(t,s);if(i==null)return;const a=l=>{if(!l.defaultPrevented)switch(l.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{l.preventDefault(),o(l);break}case"F6":{l.preventDefault();const d=i.getAttribute(Qt.groupId);ut(d,`No group element found for id "${d}"`);const p=Ls(d,s),g=Hm(d,t,s);ut(g!==null,`No resize element found for id "${t}"`);const m=l.shiftKey?g>0?g-1:p.length-1:g+1<p.length?g+1:0;p[m].focus();break}}};return i.addEventListener("keydown",a),()=>{i.removeEventListener("keydown",a)}},[s,e,t,o])}function Ei({children:e=null,className:t="",disabled:o=!1,hitAreaMargins:s,id:i,onBlur:a,onClick:l,onDragging:d,onFocus:p,onPointerDown:g,onPointerUp:m,style:f={},tabIndex:v=0,tagName:y="div",...C}){var x,S;const _=c.useRef(null),P=c.useRef({onClick:l,onDragging:d,onPointerDown:g,onPointerUp:m});c.useEffect(()=>{P.current.onClick=l,P.current.onDragging=d,P.current.onPointerDown=g,P.current.onPointerUp=m});const z=c.useContext(wa);if(z===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:D,groupId:j,registerResizeHandle:k,startDragging:M,stopDragging:A,panelGroupElement:N}=z,F=jc(i),[$,G]=c.useState("inactive"),[H,T]=c.useState(!1),[E,B]=c.useState(null),W=c.useRef({state:$});cr(()=>{W.current.state=$}),c.useEffect(()=>{if(o)B(null);else{const q=k(F);B(()=>q)}},[o,F,k]);const R=(x=s==null?void 0:s.coarse)!==null&&x!==void 0?x:15,V=(S=s==null?void 0:s.fine)!==null&&S!==void 0?S:5;c.useEffect(()=>{if(o||E==null)return;const q=_.current;ut(q,"Element ref not attached");let ee=!1;return Dk(F,q,D,{coarse:R,fine:V},(te,Y,ne)=>{if(!Y){G("inactive");return}switch(te){case"down":{G("drag"),ee=!1,ut(ne,'Expected event to be defined for "down" action'),M(F,ne);const{onDragging:U,onPointerDown:le}=P.current;U==null||U(!0),le==null||le();break}case"move":{const{state:U}=W.current;ee=!0,U!=="drag"&&G("hover"),ut(ne,'Expected event to be defined for "move" action'),E(ne);break}case"up":{G("hover"),A();const{onClick:U,onDragging:le,onPointerUp:Pe}=P.current;le==null||le(!1),Pe==null||Pe(),ee||U==null||U();break}}})},[R,D,o,V,k,F,E,M,A]),Kk({disabled:o,handleId:F,resizeHandler:E,panelGroupElement:N});const Z={touchAction:"none",userSelect:"none"};return c.createElement(y,{...C,children:e,className:t,id:i,onBlur:()=>{T(!1),a==null||a()},onFocus:()=>{T(!0),p==null||p()},ref:_,role:"separator",style:{...Z,...f},tabIndex:v,[Qt.groupDirection]:D,[Qt.groupId]:j,[Qt.resizeHandle]:"",[Qt.resizeHandleActive]:$==="drag"?"pointer":H?"keyboard":void 0,[Qt.resizeHandleEnabled]:!o,[Qt.resizeHandleId]:F,[Qt.resizeHandleState]:$})}Ei.displayName="PanelResizeHandle";function Jk(e=["timeline","map","resources","tasks"]){const[t,o]=c.useState(e),[s,i]=c.useState(null),a=m=>{o(f=>f.includes(m)?f.filter(v=>v!==m):[...f,m])},l=m=>{o(f=>f.filter(v=>v!==m)),s===m&&i(null)},d=m=>{t.length<=1||i(f=>f===m?null:m)},p=c.useMemo(()=>e.filter(m=>!t.includes(m)),[t,e]);return{visiblePanels:t,maximizedPanel:s,collapsedPanels:p,isPanelMaximized:m=>s===m,togglePanel:a,closePanel:l,maximizePanel:d}}function dp({title:e,icon:t,isMaximized:o,onMaximize:s,onClose:i,children:a,visibleCount:l}){const d=zt(),p=Me(d.palette.primary.main,.12),g=Me(d.palette.primary.main,.05),m=Me(d.palette.text.primary,.6);return h.jsxs(Nt,{elevation:o?6:1,sx:{display:"flex",flexDirection:"column",height:"100%",width:"100%",borderRadius:2,border:`1px solid ${p}`,overflow:"hidden",backgroundImage:"none"},children:[h.jsxs(It,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{px:1.5,py:.75,borderBottom:`1px solid ${p}`,backgroundColor:g},children:[h.jsxs(It,{direction:"row",spacing:1,alignItems:"center",children:[h.jsx(t,{size:16,color:m}),h.jsx(bt,{variant:"subtitle2",sx:{fontWeight:600,color:d.palette.text.primary},children:e})]}),h.jsxs(It,{direction:"row",alignItems:"center",spacing:.5,children:[l>1&&h.jsx(pn,{size:"small",onClick:s,title:o?"Restore":"Maximize",sx:{borderRadius:1.5,border:`1px solid ${Me(d.palette.primary.main,.12)}`,bgcolor:o?Me(d.palette.primary.main,.12):d.palette.common.white,"&:hover":{bgcolor:Me(d.palette.primary.main,.18)}},children:h.jsx(Lg,{size:16,color:d.palette.text.primary,style:{transform:o?"rotate(180deg)":"none",transition:"transform 150ms ease"}})}),h.jsx(pn,{size:"small",onClick:i,title:"Close",sx:{borderRadius:1.5,border:`1px solid ${Me(d.palette.primary.main,.12)}`,bgcolor:d.palette.common.white,"&:hover":{bgcolor:Me(d.palette.primary.main,.18)}},children:h.jsx(Op,{size:16,color:d.palette.text.primary})})]})]}),h.jsx(We,{sx:{flex:1,minHeight:0,overflow:"hidden"},children:a})]})}const tr=[{id:"tasksByCommit",label:"Active Tasks by Commit",group:"task"},{id:"resource-active",label:"Active Resources",group:"resource"}];function qk(){var m;const[e,t]=c.useState("task"),[o,s]=c.useState(((m=tr.find(f=>f.group==="task"))==null?void 0:m.id)??tr[0].id),i=f=>{t(f);const v=tr.find(y=>y.group===f);v&&s(v.id)},a=f=>e===f,l=f=>{s(f);const v=tr.find(y=>y.id===f);v&&t(v.group)},d=f=>f===o,p=tr.filter(f=>f.group==="task"),g=tr.filter(f=>f.group==="resource");return{MENU:tr,activeTab:e,selectedMode:o,selectTab:i,isTab:a,select:l,isActive:d,taskItems:p,resourceItems:g}}function Xk(){const[e,t]=c.useState([]),[o,s]=c.useState([]),[i,a]=c.useState(!0),l=c.useRef(null),d=c.useRef(!1),p=c.useRef(!1),g=c.useRef(0),m=200,f=e.length===1?e[0]:null,v=o.length===1?o[0]:null;c.useEffect(()=>{console.log("â†’ SELECTED TASKS:",e.map(j=>j.taskId)),console.log("â†’ SELECTED RESOURCES:",o.map(j=>j.resourceId))},[e,o]);const y=(j,k,M)=>{console.log("APPLY SELECTION (origin:",M,")",j),l.current=M,k(j),setTimeout(()=>{l.current=null},0)};return{selectedTasks:e,selectedTask:f,handleTaskMapClick:(j,k=!1)=>{console.log("MAP CLICK TASK:",j.taskId,"multi:",k),a(!1),l.current="map",d.current=!0,g.current=Date.now(),t(M=>k?M.some(N=>N.taskId===j.taskId)?M.filter(N=>N.taskId!==j.taskId):[...M,j]:[j]),setTimeout(()=>{l.current=null,d.current=!1},30)},handleTaskTableSelect:j=>{if(console.log("TABLE SELECT TASKS:",j.map(M=>M.taskId)),!j||j.length===0){console.log("TABLE SELECT TASKS ignored (empty selection)");return}const k=Date.now()-g.current<m;if(d.current||l.current==="map"||p.current||k){console.log("TABLE IGNORED â€” map is selecting/dragging/suppress window");return}a(!0),y(j,t,"table")},selectedResources:o,selectedResource:v,handleResourceMapClick:(j,k=!1)=>{console.log("MAP CLICK RESOURCE:",j.resourceId,"multi:",k),a(!1),l.current="map",d.current=!0,g.current=Date.now(),s(M=>k?M.some(N=>N.resourceId===j.resourceId)?M.filter(N=>N.resourceId!==j.resourceId):[...M,j]:[j]),setTimeout(()=>{l.current=null,d.current=!1},30)},handleResourceTableSelect:j=>{if(console.log("TABLE SELECT RESOURCES:",j.map(M=>M.resourceId)),!j||j.length===0){console.log("TABLE SELECT RESOURCES ignored (empty selection)");return}const k=Date.now()-g.current<m;if(d.current||l.current==="map"||p.current||k){console.log("TABLE IGNORED â€” map is selecting/dragging/suppress window");return}a(!0),y(j,s,"table")},shouldZoom:i,notifyMapDragStart:()=>{console.log("MAP DRAG START"),p.current=!0,g.current=Date.now()},notifyMapDragEnd:()=>{console.log("MAP DRAG END"),setTimeout(()=>{p.current=!1},80)},clearAll:()=>{console.log("CLEAR ALL"),l.current="clear",t([]),s([]),a(!0),setTimeout(()=>{l.current=null},0)}}}const ms={timeline:{label:"Gantt Timeline",icon:$g},map:{label:"Map View",icon:zg},resources:{label:"Resource Table",icon:sa},tasks:{label:"Task Table",icon:Ql}};function pp(e){return e==="resource-active"?"resource-active":"task-default"}function Yk(){const e=zt(),t=e.palette.primary.main,o=e.palette.primary.dark,s=Me(t,.1),i=Me(t,.18),a="0 24px 54px rgba(8,58,97,0.22)",[l,d]=c.useState(""),[p,g]=c.useState(""),[m,f]=c.useState(!1),[v,y]=c.useState(!1),[C,x]=c.useState(!1),[S,_]=c.useState(!1),P=c.useRef(null),[z,D]=c.useState(""),j=c.useRef({}),[k,M]=c.useState([]),[A,N]=c.useState([]),F=nh,[$,G]=c.useState({statuses:[],pwa:[],capabilities:[],commitmentTypes:[]}),[H,T]=c.useState(0),{selectedMode:E,select:B,isActive:W,taskItems:R,resourceItems:V}=qk(),{selectedTasks:Z,selectedTask:q,handleTaskMapClick:ee,handleTaskTableSelect:X,selectedResources:te,selectedResource:Y,handleResourceMapClick:ne,handleResourceTableSelect:U,shouldZoom:le,clearAll:Pe,notifyMapDragStart:oe,notifyMapDragEnd:ue}=Xk(),he=c.useMemo(()=>{const Q=new Set;return ln.forEach(me=>me.division&&Q.add(me.division)),Array.from(Q).sort()},[]),ie=c.useMemo(()=>{const Q=new Set;return ln.forEach(me=>me.domain&&Q.add(String(me.domain).toUpperCase())),Array.from(Q).sort()},[]);function ge(Q){const me=new Set,ze=new Set,ft=new Set,et=new Set;for(const Ue of Q)Ue.taskStatus&&me.add(Ue.taskStatus),Ue.pwa&&ze.add(Ue.pwa),Array.isArray(Ue.capabilities)&&Ue.capabilities.forEach(st=>ft.add(st)),Ue.commitmentType&&et.add(Ue.commitmentType);return{statuses:[...me].sort(),pwa:[...ze].sort(),capabilities:[...ft].sort(),commitmentTypes:[...et].sort()}}const de=Q=>{if(g(Q),M([]),N([]),T(me=>me+1),Q){const me=ln.filter(ze=>ze.division===Q);G(ge(me))}else G({statuses:[],pwa:[],capabilities:[],commitmentTypes:[]});D("")},Ce=Q=>{d(Q),M([]),N([]),T(ze=>ze+1);let me=[...ln];Q&&(me=me.filter(ze=>String(ze.domain).toUpperCase()===Q)),p&&(me=me.filter(ze=>ze.division===p)),G(ge(me)),D("")},{visiblePanels:se,maximizedPanel:ye,collapsedPanels:Te,isPanelMaximized:Ae,togglePanel:Oe,closePanel:Ee,maximizePanel:xe}=Jk(),we=()=>{x(!1),_(!1)},Fe=()=>{p&&x(Q=>{const me=!Q;return _(me),me})},Ve=P.current,Xe=!!(C&&p&&Ve),Ke=Q=>{Ve&&Ve.contains(Q.target)||we()},qe=Q=>{var ze,ft,et,Ue;let me=[...ln];l&&(me=me.filter(st=>String(st.domain).toUpperCase()===l)),p&&(me=me.filter(st=>st.division===p)),(ze=Q.statuses)!=null&&ze.length&&(me=me.filter(st=>Q.statuses.includes(st.taskStatus))),(ft=Q.pwa)!=null&&ft.length&&(me=me.filter(st=>Q.pwa.includes(st.pwa))),(et=Q.capabilities)!=null&&et.length&&(me=me.filter(st=>{var be;return(be=st.capabilities)==null?void 0:be.some(ve=>Q.capabilities.includes(ve))})),(Ue=Q.commitmentTypes)!=null&&Ue.length&&(me=me.filter(st=>Q.commitmentTypes.includes(st.commitmentType))),me.sort((st,be)=>{const ve=Number(st.importanceScore??0),Se=Number(be.importanceScore??0);if(Se!==ve)return Se-ve;const ke=st.appointmentStartDate?new Date(st.appointmentStartDate).getTime():0,ot=be.appointmentStartDate?new Date(be.appointmentStartDate).getTime():0;return ke-ot}),M(me),we()},Ze=Q=>{var ft,et;if(!p){N([]),we();return}let me=[...F];me=me.filter(Ue=>Ue.division===p),l&&(me=me.filter(Ue=>String(Ue.domain).toUpperCase()===l)),(ft=Q.statuses)!=null&&ft.length&&(me=me.filter(Ue=>Q.statuses.includes(Ue.status))),(et=Q.pwa)!=null&&et.length&&(me=me.filter(Ue=>Q.pwa.includes(Ue.pwa)));const ze={Available:1,Busy:2,Offline:3};me.sort((Ue,st)=>{const be=ze[Ue.status]??99,ve=ze[st.status]??99;if(be!==ve)return be-ve;const Se=Ue.availableAgainAt?new Date(Ue.availableAgainAt).getTime():Number.POSITIVE_INFINITY,ke=st.availableAgainAt?new Date(st.availableAgainAt).getTime():Number.POSITIVE_INFINITY;return Se-ke}),N(me),we()},St=()=>{const Q=z.trim().toLowerCase();if(!Q)return;let me=!1;const ze=ln.filter(et=>et.taskId&&et.taskId.toLowerCase()===Q);ze.length&&(M(ze),me=!0);const ft=F.filter(et=>et.resourceId&&String(et.resourceId).toLowerCase()===Q);ft.length&&(N(ft),me=!0),me||console.log("No match found."),we()},nt=()=>{if(Pe(),D(""),M([]),N([]),T(Q=>Q+1),p){const Q=ln.filter(me=>me.division===p);G(ge(Q))}else G({statuses:[],pwa:[],capabilities:[],commitmentTypes:[]});we()},Ye=Q=>{switch(Q){case"timeline":return h.jsx(h0,{});case"map":return h.jsx(F0,{tasks:k,resources:A,selectedTask:q,selectedTasks:Z,selectedResource:Y,selectedResources:te,shouldZoom:le,handleTaskMapClick:ee,handleResourceMapClick:ne,notifyMapDragStart:oe,notifyMapDragEnd:ue});case"resources":return h.jsx(Ck,{data:A,selectedResources:te,onSelectionChange:U});case"tasks":return h.jsx(bk,{data:k,selectedTasks:Z,onSelectionChange:X});default:return null}},Jt=["timeline","map"],Tt=["resources","tasks"],Ht=Jt.filter(Q=>se.includes(Q)),cn=Tt.filter(Q=>se.includes(Q)),on=ye?[ye]:Ht,an=ye?[]:cn,jt=h.jsxs(Nt,{elevation:0,sx:{width:"100%",borderBottom:`1px solid ${Me(e.palette.primary.main,.1)}`,px:2.5,py:1.5,display:"flex",alignItems:"center",gap:2,backgroundImage:"none",borderRadius:0},children:[h.jsxs(Dn,{select:!0,size:"small",value:p,onChange:Q=>de(Q.target.value),sx:{minWidth:{xs:e.spacing(14),sm:e.spacing(18)}},SelectProps:{displayEmpty:!0,renderValue:Q=>Q?String(Q):"Division"},children:[h.jsx(hn,{value:"",children:"All"}),he.map(Q=>h.jsx(hn,{value:Q,children:Q},Q))]}),h.jsxs(Dn,{select:!0,size:"small",value:l,onChange:Q=>Ce(Q.target.value),sx:{minWidth:{xs:e.spacing(14),sm:e.spacing(18)}},SelectProps:{displayEmpty:!0,renderValue:Q=>Q?String(Q):"Domain"},children:[h.jsx(hn,{value:"",children:"All"}),ie.map(Q=>h.jsx(hn,{value:Q,children:Q},Q))]}),h.jsx(Dn,{size:"small",value:z,onChange:Q=>D(Q.target.value),onKeyDown:Q=>Q.key==="Enter"&&St(),placeholder:"Search anywhereâ€¦",sx:{minWidth:{xs:e.spacing(20),sm:e.spacing(30)}},InputProps:{startAdornment:h.jsx(ra,{position:"start",sx:{color:Me(e.palette.text.primary,.6)},children:h.jsx(Yl,{size:16})})}}),h.jsx(wn,{ref:P,onClick:Fe,variant:S?"contained":"outlined",color:"primary",size:"small",startIcon:h.jsx(Fg,{size:16}),disabled:!p,sx:{boxShadow:S?"0 14px 36px rgba(8,58,97,0.25)":"none",bgcolor:S?s:void 0,borderColor:S?t:void 0},children:"Search Tool"}),h.jsx(pn,{size:"small",onClick:()=>f(Q=>!Q),sx:{borderRadius:2,border:`1px solid ${i}`,boxShadow:m?"0 14px 36px rgba(8,58,97,0.2)":"none",bgcolor:m?t:"white",color:m?e.palette.common.white:e.palette.text.primary,"&:hover":{bgcolor:m?o:Me(t,.08)}},children:h.jsx(Og,{size:16})}),h.jsx(pn,{size:"small",onClick:()=>y(Q=>!Q),sx:{borderRadius:2,border:`1px solid ${i}`,boxShadow:v?"0 14px 36px rgba(8,58,97,0.2)":"none",bgcolor:v?t:"white",color:v?e.palette.common.white:e.palette.text.primary,"&:hover":{bgcolor:v?o:Me(t,.08)}},title:"Map Legend",children:h.jsx(Ng,{size:16})}),h.jsx(We,{sx:{flexGrow:1}}),h.jsx(wn,{variant:"outlined",size:"small",onClick:nt,children:"Clear All"}),Te.length>0&&h.jsx(It,{direction:"row",spacing:1.5,ml:2,alignItems:"center",children:Te.map(Q=>h.jsx(pn,{size:"small",onClick:()=>Oe(Q),sx:{width:32,height:32,borderRadius:1.5,border:`1px solid ${Me(e.palette.primary.main,.12)}`,bgcolor:"white","&:hover":{bgcolor:Me(e.palette.primary.main,.08)}},children:Nn.createElement(ms[Q].icon,{size:15})},Q))})]}),Ie=h.jsx(qr,{open:Xe,anchorEl:Ve,placement:"bottom-start",transition:!0,modifiers:[{name:"offset",options:{offset:[0,10]}}],children:({TransitionProps:Q})=>h.jsx(Ap,{...Q,timeout:160,children:h.jsx(We,{children:h.jsx(sc,{onClickAway:Ke,children:h.jsxs(Nt,{elevation:16,sx:{borderRadius:3,p:3,border:`1px solid ${i}`,boxShadow:a,backgroundImage:"none",display:"flex",flexDirection:"column",gap:3},style:{width:"min(95vw, 760px)"},children:[h.jsxs(It,{direction:{xs:"column",md:"row"},spacing:3,children:[h.jsxs(Nt,{elevation:0,sx:{width:{xs:"100%",md:"clamp(200px,24vw,240px)"},borderRadius:2,border:`1px solid ${Me(t,.12)}`,boxShadow:"0 18px 42px rgba(8,58,97,0.18)",backgroundImage:"none",p:2.5,display:"flex",flexDirection:"column",gap:3},children:[h.jsxs(We,{children:[h.jsx(bt,{variant:"overline",sx:{fontWeight:700,color:Me(e.palette.text.secondary,.9)},children:"Task Searches"}),h.jsx(It,{spacing:1,mt:1.5,children:R.map(me=>h.jsx(wn,{onClick:()=>B(me.id),fullWidth:!0,size:"small",variant:W(me.id)?"contained":"outlined",color:"primary",sx:{justifyContent:"flex-start",textTransform:"none",fontSize:12,fontWeight:600,borderRadius:1.5},children:me.label},me.id))})]}),h.jsx(ur,{flexItem:!0,sx:{my:1}}),h.jsxs(We,{children:[h.jsx(bt,{variant:"overline",sx:{fontWeight:700,color:Me(e.palette.text.secondary,.9)},children:"Resource Searches"}),h.jsx(It,{spacing:1,mt:1.5,children:V.map(me=>h.jsx(wn,{onClick:()=>B(me.id),fullWidth:!0,size:"small",variant:W(me.id)?"contained":"outlined",color:"primary",sx:{justifyContent:"flex-start",textTransform:"none",fontSize:12,fontWeight:600,borderRadius:1.5},children:me.label},me.id))})]})]}),h.jsx(Nt,{elevation:0,sx:{flex:1,borderRadius:2,border:`1px solid ${Me(t,.12)}`,boxShadow:"0 18px 42px rgba(8,58,97,0.18)",backgroundImage:"none",p:3},children:h.jsx(p0,{mode:pp(E),onSearch:me=>{j.current=me},onClear:()=>{M([]),N([]),T(me=>me+1)},dropdownData:{...$,resourceStatuses:Array.from(new Set(F.map(me=>me.status))).sort()},resetKey:H})})]}),h.jsx(It,{direction:"row",justifyContent:"flex-end",children:h.jsx(wn,{variant:"contained",size:"medium",onClick:()=>{const me=j.current;pp(E).startsWith("task")?qe(me):Ze(me)},sx:{px:3.5,fontWeight:700,boxShadow:"0 18px 38px rgba(8,58,97,0.24)"},children:"Search"})})]})})})})});return h.jsxs(We,{sx:{flex:1,minHeight:0,display:"flex",flexDirection:"column",position:"relative",backgroundColor:Me(e.palette.primary.light,.08)},children:[jt,h.jsx(i0,{visible:v,onClose:()=>y(!1)}),Ie,h.jsx(We,{sx:{flex:1,minHeight:0,px:1,pt:1},children:h.jsxs(Ai,{direction:"vertical",style:{height:"100%"},children:[on.length>0&&h.jsxs(h.Fragment,{children:[h.jsx(Cs,{defaultSize:50,children:h.jsx(Ai,{direction:"horizontal",style:{height:"100%"},children:on.map((Q,me)=>h.jsxs(Nn.Fragment,{children:[me>0&&h.jsx(Ei,{style:{width:4,backgroundColor:Me(e.palette.primary.main,.08),cursor:"col-resize"}}),h.jsx(Cs,{children:h.jsx(dp,{title:ms[Q].label,icon:ms[Q].icon,isMaximized:Ae(Q),onMaximize:()=>xe(Q),onClose:()=>Ee(Q),visibleCount:se.length,children:Ye(Q)})})]},Q))})}),an.length>0&&h.jsx(Ei,{style:{height:4,backgroundColor:Me(e.palette.primary.main,.08),cursor:"row-resize"}})]}),an.length>0&&h.jsx(Cs,{defaultSize:50,children:h.jsx(Ai,{direction:"horizontal",style:{height:"100%"},children:an.map((Q,me)=>h.jsxs(Nn.Fragment,{children:[me>0&&h.jsx(Ei,{style:{width:4,backgroundColor:Me(e.palette.primary.main,.08),cursor:"col-resize"}}),h.jsx(Cs,{children:h.jsx(dp,{title:ms[Q].label,icon:ms[Q].icon,isMaximized:Ae(Q),onMaximize:()=>xe(Q),onClose:()=>Ee(Q),visibleCount:se.length,children:Ye(Q)})})]},Q))})})]},se.join("-"))})]})}let Qk={data:""},eM=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||Qk},tM=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,nM=/\/\*[^]*?\*\/|  +/g,hp=/\n+/g,Ho=(e,t)=>{let o="",s="",i="";for(let a in e){let l=e[a];a[0]=="@"?a[1]=="i"?o=a+" "+l+";":s+=a[1]=="f"?Ho(l,a):a+"{"+Ho(l,a[1]=="k"?"":t)+"}":typeof l=="object"?s+=Ho(l,t?t.replace(/([^,])+/g,d=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,p=>/&/.test(p)?p.replace(/&/g,d):d?d+" "+p:p)):a):l!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Ho.p?Ho.p(a,l):a+":"+l+";")}return o+(t&&i?t+"{"+i+"}":i)+s},xo={},Jm=e=>{if(typeof e=="object"){let t="";for(let o in e)t+=o+Jm(e[o]);return t}return e},oM=(e,t,o,s,i)=>{let a=Jm(e),l=xo[a]||(xo[a]=(p=>{let g=0,m=11;for(;g<p.length;)m=101*m+p.charCodeAt(g++)>>>0;return"go"+m})(a));if(!xo[l]){let p=a!==e?e:(g=>{let m,f,v=[{}];for(;m=tM.exec(g.replace(nM,""));)m[4]?v.shift():m[3]?(f=m[3].replace(hp," ").trim(),v.unshift(v[0][f]=v[0][f]||{})):v[0][m[1]]=m[2].replace(hp," ").trim();return v[0]})(e);xo[l]=Ho(i?{["@keyframes "+l]:p}:p,o?"":"."+l)}let d=o&&xo.g?xo.g:null;return o&&(xo.g=xo[l]),((p,g,m,f)=>{f?g.data=g.data.replace(f,p):g.data.indexOf(p)===-1&&(g.data=m?p+g.data:g.data+p)})(xo[l],t,s,d),l},rM=(e,t,o)=>e.reduce((s,i,a)=>{let l=t[a];if(l&&l.call){let d=l(o),p=d&&d.props&&d.props.className||/^go/.test(d)&&d;l=p?"."+p:d&&typeof d=="object"?d.props?"":Ho(d,""):d===!1?"":d}return s+i+(l??"")},"");function Ta(e){let t=this||{},o=e.call?e(t.p):e;return oM(o.unshift?o.raw?rM(o,[].slice.call(arguments,1),t.p):o.reduce((s,i)=>Object.assign(s,i&&i.call?i(t.p):i),{}):o,eM(t.target),t.g,t.o,t.k)}let qm,jl,Gl;Ta.bind({g:1});let ko=Ta.bind({k:1});function sM(e,t,o,s){Ho.p=t,qm=e,jl=o,Gl=s}function Uo(e,t){let o=this||{};return function(){let s=arguments;function i(a,l){let d=Object.assign({},a),p=d.className||i.className;o.p=Object.assign({theme:jl&&jl()},d),o.o=/ *go\d+/.test(p),d.className=Ta.apply(o,s)+(p?" "+p:"");let g=e;return e[0]&&(g=d.as||e,delete d.as),Gl&&g[0]&&Gl(d),qm(g,d)}return i}}var iM=e=>typeof e=="function",Yi=(e,t)=>iM(e)?e(t):e,aM=(()=>{let e=0;return()=>(++e).toString()})(),Xm=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),lM=20,Vc="default",Ym=(e,t)=>{let{toastLimit:o}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,o)};case 1:return{...e,toasts:e.toasts.map(l=>l.id===t.toast.id?{...l,...t.toast}:l)};case 2:let{toast:s}=t;return Ym(e,{type:e.toasts.find(l=>l.id===s.id)?1:0,toast:s});case 3:let{toastId:i}=t;return{...e,toasts:e.toasts.map(l=>l.id===i||i===void 0?{...l,dismissed:!0,visible:!1}:l)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(l=>l.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let a=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(l=>({...l,pauseDuration:l.pauseDuration+a}))}}},Di=[],Qm={toasts:[],pausedAt:void 0,settings:{toastLimit:lM}},co={},ef=(e,t=Vc)=>{co[t]=Ym(co[t]||Qm,e),Di.forEach(([o,s])=>{o===t&&s(co[t])})},tf=e=>Object.keys(co).forEach(t=>ef(e,t)),cM=e=>Object.keys(co).find(t=>co[t].toasts.some(o=>o.id===e)),ka=(e=Vc)=>t=>{ef(t,e)},uM={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},dM=(e={},t=Vc)=>{let[o,s]=c.useState(co[t]||Qm),i=c.useRef(co[t]);c.useEffect(()=>(i.current!==co[t]&&s(co[t]),Di.push([t,s]),()=>{let l=Di.findIndex(([d])=>d===t);l>-1&&Di.splice(l,1)}),[t]);let a=o.toasts.map(l=>{var d,p,g;return{...e,...e[l.type],...l,removeDelay:l.removeDelay||((d=e[l.type])==null?void 0:d.removeDelay)||(e==null?void 0:e.removeDelay),duration:l.duration||((p=e[l.type])==null?void 0:p.duration)||(e==null?void 0:e.duration)||uM[l.type],style:{...e.style,...(g=e[l.type])==null?void 0:g.style,...l.style}}});return{...o,toasts:a}},pM=(e,t="blank",o)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...o,id:(o==null?void 0:o.id)||aM()}),Us=e=>(t,o)=>{let s=pM(t,e,o);return ka(s.toasterId||cM(s.id))({type:2,toast:s}),s.id},Dt=(e,t)=>Us("blank")(e,t);Dt.error=Us("error");Dt.success=Us("success");Dt.loading=Us("loading");Dt.custom=Us("custom");Dt.dismiss=(e,t)=>{let o={type:3,toastId:e};t?ka(t)(o):tf(o)};Dt.dismissAll=e=>Dt.dismiss(void 0,e);Dt.remove=(e,t)=>{let o={type:4,toastId:e};t?ka(t)(o):tf(o)};Dt.removeAll=e=>Dt.remove(void 0,e);Dt.promise=(e,t,o)=>{let s=Dt.loading(t.loading,{...o,...o==null?void 0:o.loading});return typeof e=="function"&&(e=e()),e.then(i=>{let a=t.success?Yi(t.success,i):void 0;return a?Dt.success(a,{id:s,...o,...o==null?void 0:o.success}):Dt.dismiss(s),i}).catch(i=>{let a=t.error?Yi(t.error,i):void 0;a?Dt.error(a,{id:s,...o,...o==null?void 0:o.error}):Dt.dismiss(s)}),e};var hM=1e3,mM=(e,t="default")=>{let{toasts:o,pausedAt:s}=dM(e,t),i=c.useRef(new Map).current,a=c.useCallback((f,v=hM)=>{if(i.has(f))return;let y=setTimeout(()=>{i.delete(f),l({type:4,toastId:f})},v);i.set(f,y)},[]);c.useEffect(()=>{if(s)return;let f=Date.now(),v=o.map(y=>{if(y.duration===1/0)return;let C=(y.duration||0)+y.pauseDuration-(f-y.createdAt);if(C<0){y.visible&&Dt.dismiss(y.id);return}return setTimeout(()=>Dt.dismiss(y.id,t),C)});return()=>{v.forEach(y=>y&&clearTimeout(y))}},[o,s,t]);let l=c.useCallback(ka(t),[t]),d=c.useCallback(()=>{l({type:5,time:Date.now()})},[l]),p=c.useCallback((f,v)=>{l({type:1,toast:{id:f,height:v}})},[l]),g=c.useCallback(()=>{s&&l({type:6,time:Date.now()})},[s,l]),m=c.useCallback((f,v)=>{let{reverseOrder:y=!1,gutter:C=8,defaultPosition:x}=v||{},S=o.filter(z=>(z.position||x)===(f.position||x)&&z.height),_=S.findIndex(z=>z.id===f.id),P=S.filter((z,D)=>D<_&&z.visible).length;return S.filter(z=>z.visible).slice(...y?[P+1]:[0,P]).reduce((z,D)=>z+(D.height||0)+C,0)},[o]);return c.useEffect(()=>{o.forEach(f=>{if(f.dismissed)a(f.id,f.removeDelay);else{let v=i.get(f.id);v&&(clearTimeout(v),i.delete(f.id))}})},[o,a]),{toasts:o,handlers:{updateHeight:p,startPause:d,endPause:g,calculateOffset:m}}},fM=ko`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,gM=ko`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,vM=ko`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,bM=Uo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${fM} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${gM} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${vM} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,yM=ko`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,CM=Uo("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${yM} 1s linear infinite;
`,xM=ko`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,wM=ko`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,SM=Uo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${xM} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${wM} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,_M=Uo("div")`
  position: absolute;
`,PM=Uo("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,IM=ko`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,TM=Uo("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${IM} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,kM=({toast:e})=>{let{icon:t,type:o,iconTheme:s}=e;return t!==void 0?typeof t=="string"?c.createElement(TM,null,t):t:o==="blank"?null:c.createElement(PM,null,c.createElement(CM,{...s}),o!=="loading"&&c.createElement(_M,null,o==="error"?c.createElement(bM,{...s}):c.createElement(SM,{...s})))},MM=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,AM=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,EM="0%{opacity:0;} 100%{opacity:1;}",DM="0%{opacity:1;} 100%{opacity:0;}",RM=Uo("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,LM=Uo("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,FM=(e,t)=>{let o=e.includes("top")?1:-1,[s,i]=Xm()?[EM,DM]:[MM(o),AM(o)];return{animation:t?`${ko(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ko(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},OM=c.memo(({toast:e,position:t,style:o,children:s})=>{let i=e.height?FM(e.position||t||"top-center",e.visible):{opacity:0},a=c.createElement(kM,{toast:e}),l=c.createElement(LM,{...e.ariaProps},Yi(e.message,e));return c.createElement(RM,{className:e.className,style:{...i,...o,...e.style}},typeof s=="function"?s({icon:a,message:l}):c.createElement(c.Fragment,null,a,l))});sM(c.createElement);var NM=({id:e,className:t,style:o,onHeightUpdate:s,children:i})=>{let a=c.useCallback(l=>{if(l){let d=()=>{let p=l.getBoundingClientRect().height;s(e,p)};d(),new MutationObserver(d).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[e,s]);return c.createElement("div",{ref:a,className:t,style:o},i)},zM=(e,t)=>{let o=e.includes("top"),s=o?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Xm()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(o?1:-1)}px)`,...s,...i}},$M=Ta`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,yi=16,BM=({reverseOrder:e,position:t="top-center",toastOptions:o,gutter:s,children:i,toasterId:a,containerStyle:l,containerClassName:d})=>{let{toasts:p,handlers:g}=mM(o,a);return c.createElement("div",{"data-rht-toaster":a||"",style:{position:"fixed",zIndex:9999,top:yi,left:yi,right:yi,bottom:yi,pointerEvents:"none",...l},className:d,onMouseEnter:g.startPause,onMouseLeave:g.endPause},p.map(m=>{let f=m.position||t,v=g.calculateOffset(m,{reverseOrder:e,gutter:s,defaultPosition:t}),y=zM(f,v);return c.createElement(NM,{id:m.id,key:m.id,onHeightUpdate:g.updateHeight,className:m.visible?$M:"",style:y},m.type==="custom"?Yi(m.message,m):i?i(m):c.createElement(OM,{toast:m,position:f}))}))},Ci=Dt;const HM=[{label:"Operation Toolkit",icon:Ql},{label:"General Settings",icon:Li}],jM=[{label:"Task Admin",icon:ql},{label:"Jeopardy Admin",icon:Xl}],GM=[{label:"Resource Admin",icon:sa},{label:"Self Service Admin",icon:Li},{label:"User Admin",icon:zp}],VM=[{label:"Domain Admin",icon:$p},{label:"Schedule Admin",icon:Bp},{label:"System Admin",icon:Hp}],WM=c.memo(function({currentMenu:t,onMenuClick:o,activeSubPage:s}){const i=zt(),[a,l]=c.useState(!1),[d,p]=c.useState(null),g=c.useRef(a);c.useEffect(()=>{t!=null&&t.label&&p(t.label.trim())},[t]);const m=c.useCallback(()=>{l(y=>!y)},[]);c.useEffect(()=>{const y=()=>m();return window.addEventListener("toggleSidebar",y),()=>window.removeEventListener("toggleSidebar",y)},[m]),c.useEffect(()=>{const y=()=>p(null);return window.addEventListener("resetSidebarSelection",y),()=>window.removeEventListener("resetSidebarSelection",y)},[]),c.useEffect(()=>(a&&!g.current&&document.body.classList.add("sidebar-open"),!a&&g.current&&document.body.classList.remove("sidebar-open"),g.current=a,()=>{document.body.classList.remove("sidebar-open")}),[a]);const f=c.useMemo(()=>[{title:"User Section",menus:HM},{title:"Task Admin",menus:jM},{title:"People Admin",menus:GM},{title:"System Admin",menus:VM}],[]),v=c.useCallback(y=>{const C=y.label.trim();if(d===C&&!(s!==null)){l(!1);return}p(C),o({...y,label:C}),l(!1)},[d,s,o]);return h.jsxs(zb,{variant:"temporary",open:a,onClose:()=>l(!1),ModalProps:{keepMounted:!0},PaperProps:{sx:{width:{xs:"80vw",sm:i.spacing(40)},maxWidth:"100vw",minWidth:0,minHeight:0,backgroundColor:"background.paper",borderRight:`1px solid ${Me(i.palette.text.primary,.08)}`,boxShadow:"8px 0 24px rgba(0,0,0,0.16)",display:"flex",flexDirection:"column"}},children:[h.jsx(We,{sx:{px:3,py:2.5,borderBottom:`1px solid ${Me(i.palette.text.primary,.12)}`},children:h.jsx(bt,{variant:"h6",fontWeight:600,color:"text.primary",children:"Navigation"})}),h.jsx(We,{sx:{flex:1,overflowY:"auto",py:1},children:f.map(({title:y,menus:C})=>h.jsxs(Nn.Fragment,{children:[h.jsx(ZM,{title:y,menus:C,activeMenuLabel:d,onMenuClick:v}),h.jsx(ur,{sx:{mx:2,my:2,borderColor:Me(i.palette.text.primary,.08)}})]},y))}),h.jsx(UM,{})]})}),ZM=c.memo(function({title:t,menus:o,activeMenuLabel:s,onMenuClick:i}){const a=zt();return h.jsxs(We,{sx:{px:2,py:1},children:[h.jsx(bt,{variant:"overline",color:"text.secondary",sx:{px:1.5,mb:1,letterSpacing:1.4},children:t}),h.jsx(Ep,{disablePadding:!0,children:o.map(l=>{const d=l.icon,p=s===l.label;return h.jsxs(Dp,{onClick:()=>i(l),selected:p,sx:{borderRadius:2,mb:1,alignItems:"center",px:2.5,py:1.5,position:"relative",...p?{backgroundColor:Me(a.palette.primary.main,.12),color:a.palette.primary.main,"&::before":{content:'""',position:"absolute",left:12,top:10,bottom:10,width:4,borderRadius:999,backgroundColor:a.palette.primary.main}}:{color:a.palette.text.primary,"&:hover":{backgroundColor:Me(a.palette.primary.main,.08)}}},children:[h.jsx(uo,{sx:{minWidth:a.spacing(4.5),color:"inherit"},children:Nn.createElement(d,{size:18,strokeWidth:2.2})}),h.jsx(Zn,{primary:l.label,primaryTypographyProps:{fontSize:14,fontWeight:p?600:500}})]},l.label)})})]})}),UM=c.memo(function(){const t=zt();return h.jsxs(We,{sx:{px:3,py:2.5,borderTop:`1px solid ${Me(t.palette.text.primary,.1)}`,backgroundColor:Me(t.palette.background.paper,.85)},children:[h.jsxs(It,{direction:"row",alignItems:"center",justifyContent:"space-between",mb:1.5,children:[h.jsx(bt,{variant:"subtitle2",fontWeight:600,color:"text.primary",children:"System Info"}),h.jsx(We,{sx:{color:"text.secondary"},children:h.jsx(Bg,{size:16})})]}),h.jsxs(It,{spacing:.5,sx:{color:"text.secondary",fontSize:12},children:[h.jsxs("span",{children:[h.jsx("strong",{children:"Client Version:"})," 1"]}),h.jsxs("span",{children:[h.jsx("strong",{children:"Build #:"})," 11.11.2025"]}),h.jsxs("span",{children:[h.jsx("strong",{children:"Node:"})," 20.0.0"]})]}),h.jsx(ur,{sx:{my:1.5,borderColor:Me(t.palette.text.primary,.08)}}),h.jsx(bt,{variant:"caption",color:"text.secondary",display:"block",textAlign:"center",children:"Brandon Virtual | Â© 2025"})]})}),KM=at(h.jsx("path",{d:"M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2"}),"Bookmark"),JM=at(h.jsx("path",{d:"M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2m0 15-5-2.18L7 18V5h10z"}),"BookmarkBorder"),qM=at(h.jsx("path",{d:"M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 16H5V8h14zM7 10h5v5H7z"}),"Today"),XM=at(h.jsx("path",{d:"M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 16H5V9h14zm0-12H5V5h14zM7 11h5v5H7z"}),"TodayOutlined");function YM({anchorEl:e,open:t,onClose:o,fromDate:s,fromTime:i,toDate:a,toTime:l,onChangeField:d,onClear:p}){return h.jsx(Ul,{anchorEl:e,open:t,onClose:o,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:h.jsxs(We,{sx:{p:1,display:"flex",flexDirection:"column",gap:1,minWidth:220},children:[h.jsxs(It,{direction:"row",spacing:1,alignItems:"center",children:[h.jsx(Dn,{type:"date",name:"fromDate",label:"From",value:s,onChange:g=>d("fromDate",g.target.value),size:"small",InputLabelProps:{shrink:!0}}),h.jsx(Dn,{type:"time",name:"fromTime",value:i,onChange:g=>d("fromTime",g.target.value),size:"small"})]}),h.jsxs(It,{direction:"row",spacing:1,alignItems:"center",children:[h.jsx(Dn,{type:"date",name:"toDate",label:"To",value:a,onChange:g=>d("toDate",g.target.value),size:"small",InputLabelProps:{shrink:!0}}),h.jsx(Dn,{type:"time",name:"toTime",value:l,onChange:g=>d("toTime",g.target.value),size:"small"})]}),h.jsxs(We,{sx:{display:"flex",gap:1,justifyContent:"flex-end"},children:[h.jsx(wn,{variant:"text",size:"small",onClick:()=>{p&&p()},children:"Clear"}),h.jsx(wn,{variant:"contained",size:"small",onClick:o,children:"Apply"})]})]})})}const QM=mr(Rp),mp={taskSearch:"",division:[],domainId:[],taskStatuses:[],requester:"",responseCode:[],commitType:[],capabilities:[],pwa:[],jobType:"",scoreCondition:"",scoreValue:"",locationType:"",locationValue:"",fromDate:"",fromTime:"",toDate:"",toTime:""},fs={taskSearch:"Search",division:"Division",domainId:"Domain",taskStatuses:"Task Status",requester:"Requester",responseCode:"Response",commitType:"Commitment",capabilities:"Capabilities",pwa:"PWA",jobType:"Job Type",scoreCondition:"IMP Condition",scoreValue:"IMP Value",locationType:"Location Type",locationValue:"Location Value",fromDate:"From Date",fromTime:"From Time",toDate:"To Date",toTime:"To Time"};function eA({onSearch:e,onClear:t,onCopy:o,onExport:s,canCopy:i=!1,forceCollapsed:a=!1,onOpenColumns:l}){const d=zt(),[p,g]=c.useState(()=>({...mp})),[m,f]=c.useState(!1),[v,y]=c.useState(!1),[C,x]=c.useState("basic"),[S,_]=c.useState(null),[P,z]=c.useState(null),D=U=>Array.from(new Set(U.filter(Boolean))),j=c.useMemo(()=>D(ln.map(U=>U.division)).sort(),[]),k=c.useMemo(()=>D(ln.map(U=>U.domain)).sort(),[]),M=c.useMemo(()=>D(ln.map(le=>le.taskStatus)).sort((le,Pe)=>{const oe=le.match(/\(([^)]+)\)\s*$/),ue=Pe.match(/\(([^)]+)\)\s*$/),he=(oe==null?void 0:oe[1])??le,ie=(ue==null?void 0:ue[1])??Pe;return he.localeCompare(ie)}),[]),A=c.useMemo(()=>D(ln.map(U=>U.responseCode)).sort(),[]),N=c.useMemo(()=>D(ln.map(U=>U.commitmentType)).sort(),[]),F=c.useMemo(()=>D(ln.flatMap(U=>U.capabilities||[])).sort(),[]),$=c.useMemo(()=>D(ln.map(U=>U.pwa)).sort(),[]),G=c.useMemo(()=>D(ln.map(U=>U.resourceName)).sort(),[]),H=c.useMemo(()=>D(ln.map(U=>U.taskType)).sort(),[]),T=c.useMemo(()=>"Search by Task ID, Work ID, Estimate Number, Employee ID",[]),[E,B]=Nn.useState({});Nn.useEffect(()=>{if(!(typeof window>"u"))try{const le=document.createElement("canvas").getContext("2d");if(!le)return;const Pe=getComputedStyle(document.body);le.font=Pe.font||"14px Roboto, sans-serif";const oe=["division","domainId","taskStatuses","commitType","responseCode","pwa","capabilities","requester","jobType","locationValue"],ue=6,he=6,ie=de=>{const Ce=W[de];if(Ce){const Oe="0".repeat(Ce+ue+he);return Math.ceil(le.measureText(Oe).width)}const ye=(Oe=>{switch(Oe){case"division":return j;case"domainId":return k;case"taskStatuses":return M;case"responseCode":return A;case"commitType":return N;case"capabilities":return F;case"pwa":return $;case"requester":return G;case"jobType":return H;default:return}})(de);let Te=fs[de]??de;ye&&ye.length&&(Te=ye.reduce((Oe,Ee)=>String(Ee).length>Oe.length?String(Ee):Oe,Te));const Ae=Te+" ".repeat(ue+he);return Math.ceil(le.measureText(Ae).width)},ge={};oe.forEach(de=>{try{ge[de]=ie(de)}catch{}}),B(ge)}catch{}},[j,k,M,A,N,F,$,G,H]);const W={division:36,domainId:14,taskStatuses:24,commitType:22,responseCode:10,pwa:20,capabilities:28,requester:28,jobType:22,locationValue:32,locationType:16,scoreValue:6},R=c.useMemo(()=>p.taskSearch.trim().length>0?!0:p.division.length>0&&p.domainId.length>0,[p.division.length,p.domainId.length,p.taskSearch]);c.useMemo(()=>{const U=[];return["taskSearch","requester","jobType","scoreCondition","scoreValue","locationType","locationValue"].forEach(oe=>{const ue=p[oe];typeof ue=="string"&&ue.trim()&&U.push({key:oe,label:fs[oe],displayValue:ue,isArray:!1})}),["division","domainId","taskStatuses","responseCode","commitType","capabilities","pwa"].forEach(oe=>{const ue=p[oe];ue.length&&U.push({key:oe,label:fs[oe],displayValue:ue.join(", "),isArray:!0})}),p.fromDate&&U.push({key:"fromDate",label:fs.fromDate,displayValue:p.fromDate,isArray:!1}),p.toDate&&U.push({key:"toDate",label:fs.toDate,displayValue:p.toDate,isArray:!1}),U},[p]);const V=c.useCallback(U=>{const{name:le,value:Pe}=U.target;g(oe=>({...oe,[le]:Pe}))},[]),Z=c.useCallback((U,le)=>{g(Pe=>({...Pe,[U]:le}))},[]),q=c.useCallback(()=>{e(p)},[p,e]),ee=c.useCallback(()=>{g({...mp}),t()},[t]);Nn.useEffect(()=>{a&&f(!0)},[a]);const X=c.useCallback(U=>{_(U.currentTarget)},[]),te=c.useCallback(()=>{_(null)},[]),Y=c.useCallback(()=>{i&&o?o():Ci.error("No data to copy"),te()},[i,te,o]),ne=c.useCallback(()=>{i&&s?s():Ci.error("No data to export"),te()},[i,te,s]);return c.useMemo(()=>[{label:"My Tasks",action:()=>Ci("Preset: My Tasks")},{label:"Due Today",action:()=>Ci("Preset: Due Today")},{label:"High IMP",action:()=>g(U=>({...U,scoreCondition:"greater",scoreValue:"80"}))}],[]),h.jsxs(QM,{initial:{opacity:0,y:-6},animate:{opacity:1,y:0},transition:{duration:.25},sx:{borderRadius:"12px 12px 0 0",boxShadow:"0 18px 35px rgba(10, 74, 122, 0.12)",overflow:"hidden",width:"100%",maxWidth:"100%",mx:0},children:[h.jsx(We,{sx:{px:{xs:2,md:3},py:.5,bgcolor:"transparent"},children:h.jsxs(We,{sx:{display:"flex",alignItems:"center",gap:1},children:[h.jsxs(t0,{value:C,onChange:(U,le)=>x(le),variant:"standard",sx:{minHeight:36},children:[h.jsx(Xu,{value:"basic",label:"Basic",sx:{minHeight:36,px:1}}),h.jsx(Xu,{value:"advanced",label:"Advanced",sx:{minHeight:36,px:1}})]}),h.jsx(We,{sx:{flex:1}}),h.jsx(We,{sx:{width:{xs:"100%",sm:420,md:720}},children:h.jsx(Dn,{name:"taskSearch",value:p.taskSearch,onChange:V,placeholder:T,size:"small",fullWidth:!0,sx:{"& input::placeholder":{color:d.palette.text.secondary},"& .MuiInputBase-input":{paddingTop:0,paddingBottom:0,fontSize:13,lineHeight:"32px"}},InputProps:{startAdornment:h.jsx(ra,{position:"start",children:h.jsx(Yl,{size:16})}),sx:{height:48}}})}),h.jsx(pn,{onClick:U=>z(U.currentTarget),size:"small",sx:{ml:1},"aria-label":"date-filter",children:p.fromDate||p.toDate||p.fromTime||p.toTime?h.jsx(qM,{sx:{fontSize:20,color:d.palette.primary.main}}):h.jsx(XM,{sx:{fontSize:20}})}),h.jsx(pn,{onClick:()=>y(U=>!U),size:"small",sx:{ml:1},"aria-label":"favourite",children:v?h.jsx(KM,{sx:{fontSize:20,color:d.palette.primary.main}}):h.jsx(JM,{sx:{fontSize:20}})})]})}),h.jsxs(Lp,{sx:{pt:.5,pb:2,px:2,maxHeight:"none",overflowY:"visible"},children:[C==="basic"&&h.jsxs(We,{mt:1,children:[h.jsx(We,{sx:{display:"flex",justifyContent:"flex-end",mb:.25}}),h.jsxs(Et,{container:!0,spacing:1.5,alignItems:"center",children:[h.jsx(Et,{item:!0,xs:12,sm:"auto",md:"auto",children:h.jsx(Fn,{label:"Division",options:j,value:p.division,onChange:U=>Z("division",U),showSelectAllIcon:!0,required:!0})}),h.jsx(Et,{item:!0,xs:12,sm:"auto",md:"auto",children:h.jsx(Fn,{label:"Domain ID",options:k,value:p.domainId,onChange:U=>Z("domainId",U),showSelectAllIcon:!0,required:!0})}),h.jsx(Et,{item:!0,xs:12,sm:"auto",md:"auto",children:h.jsx(Fn,{label:"Task Status",options:M,value:p.taskStatuses,onChange:U=>Z("taskStatuses",U),showSelectAllIcon:!0})}),h.jsx(Et,{item:!0,xs:12,sm:"auto",md:"auto",children:h.jsx(Fn,{label:"Commit Type",options:N,value:p.commitType,onChange:U=>Z("commitType",U),showSelectAllIcon:!0})}),h.jsx(Et,{item:!0,xs:12,sm:"auto",md:"auto",children:h.jsx(Fn,{label:"Response Code",options:A,value:p.responseCode,onChange:U=>Z("responseCode",U),showSelectAllIcon:!0})}),h.jsx(Et,{item:!0,xs:12,sm:"auto",md:"auto",children:h.jsx(Fn,{label:"PWA Selector",options:$,value:p.pwa,onChange:U=>Z("pwa",U),showSelectAllIcon:!0})}),h.jsx(Et,{item:!0,xs:12,sm:"auto",md:"auto",children:h.jsx(Fn,{label:"Capabilities",options:F,value:p.capabilities,onChange:U=>Z("capabilities",U),showSelectAllIcon:!0})})]})]}),C==="advanced"&&h.jsx(We,{mt:1,children:h.jsxs(Et,{container:!0,spacing:1.5,alignItems:"center",children:[h.jsx(Et,{item:!0,xs:12,sm:"auto",md:"auto",children:h.jsx(gi,{label:"Requester",options:G,value:p.requester,onChange:U=>g(le=>({...le,requester:U}))})}),h.jsx(Et,{item:!0,xs:12,sm:"auto",md:"auto",children:h.jsx(gi,{label:"Job Type",options:H,value:p.jobType,onChange:U=>g(le=>({...le,jobType:U}))})}),h.jsx(Et,{item:!0,xs:12,sm:"auto",md:"auto",children:h.jsx(Tl,{label:"Location Type",options:[{label:"Postcode",value:"postCode"},{label:"Location",value:"location"},{label:"Group Code",value:"groupCode"}],value:p.locationType||null,onChange:U=>g(le=>({...le,locationType:U??""}))})}),h.jsx(Et,{item:!0,xs:12,sm:"auto",md:"auto",children:h.jsx(gi,{label:"Location Value",options:[],value:p.locationValue,onChange:U=>g(le=>({...le,locationValue:U}))})}),h.jsx(Et,{item:!0,xs:12,sm:"auto",md:"auto",children:h.jsx(Tl,{label:"IMP Condition",options:[{label:"Greater Than",value:"greater"},{label:"Less Than",value:"less"}],value:p.scoreCondition||null,onChange:U=>g(le=>({...le,scoreCondition:U??""}))})}),h.jsx(Et,{item:!0,xs:12,sm:"auto",md:"auto",children:h.jsx(gi,{label:"IMP Value",options:[],value:p.scoreValue,onChange:U=>g(le=>({...le,scoreValue:U}))})})]})})]}),h.jsx(YM,{anchorEl:P,open:!!P,onClose:()=>z(null),fromDate:p.fromDate,fromTime:p.fromTime,toDate:p.toDate,toTime:p.toTime,onChangeField:(U,le)=>g(Pe=>({...Pe,[U]:le})),onClear:()=>g(U=>({...U,fromDate:"",fromTime:"",toDate:"",toTime:""}))}),h.jsx(ur,{}),h.jsxs(rb,{sx:{px:2,py:1,bgcolor:d.palette.grey[50],display:"flex",justifyContent:"space-between",alignItems:"center"},children:[h.jsxs(We,{children:[h.jsx(wn,{variant:"outlined",size:"small",onClick:X,endIcon:h.jsx(Np,{size:16}),sx:{borderRadius:2,textTransform:"none"},children:"More"}),h.jsx(wn,{variant:"outlined",size:"small",onClick:ne,sx:{ml:1,borderRadius:2,textTransform:"none"},children:"Export"}),h.jsx(Ul,{anchorEl:S,open:!!S,onClose:te,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:h.jsx(hn,{onClick:Y,children:i?"Copy":"Copy (empty)"})})]}),h.jsxs(It,{direction:"row",spacing:1,alignItems:"center",children:[!R&&h.jsx(bt,{variant:"caption",color:"text.secondary",children:"Select Division and Domain ID, or type in the global search."}),h.jsx(wn,{variant:"outlined",size:"small",onClick:ee,sx:{borderRadius:2,textTransform:"none"},children:"Clear"}),h.jsx(wn,{variant:"contained",size:"small",onClick:q,disabled:!R,sx:{borderRadius:2,textTransform:"none",boxShadow:"none"},children:"Search"})]})]})]})}const Ss={"Operation Toolkit":[{name:"Resource Management",description:"Manage all available resources, teams, and assets."},{name:"Task Management",description:"Oversee and assign operational tasks efficiently."},{name:"Schedule Live",description:"Monitor and adjust live schedules in real-time."},{name:"Schedule Explorer",description:"Browse and analyze upcoming schedules and plans."},{name:"Callout Overview",description:"Review all ongoing and past callout events."},{name:"Callout Launch",description:"Initiate and configure new callout operations."}],"General Settings":[{name:"System Preferences",description:"Modify user-level settings, preferences, and themes."},{name:"API Keys",description:"Manage access tokens and integrations securely."}],"Task Admin":[{name:"Task Type",description:"Define and manage task categories and types."},{name:"Task Routing",description:"Configure task routing and escalation rules."},{name:"Task Importance",description:"Set and manage task priority and importance levels."}],"Jeopardy Admin":[{name:"Alert Definitions",description:"Define and manage all alert templates."},{name:"Alert Action Definition",description:"Configure automated or manual alert responses."},{name:"Alert Parameter Definition",description:"Set up variable parameters and alert thresholds."},{name:"Alert Ranking",description:"Prioritize and rank alerts by severity or impact."},{name:"Alert Exclusion",description:"Manage exceptions and exclusion rules for alerts."}],"Resource Admin":[{name:"Rota Day Record",description:"Manage and track individual rota day records."},{name:"Rota Week Record",description:"Oversee weekly rota summaries and status tracking."},{name:"Rota Template Record",description:"Design and configure rota templates for scheduling."},{name:"Closure User Group",description:"Administer closure groups for specific operations."},{name:"Access Restriction",description:"Set user and role-based access limitations."},{name:"Personal Overtime",description:"Monitor and manage personal overtime records."},{name:"Business Overtime",description:"Control and review business-wide overtime data."}],"Self Service Admin":[{name:"Self Selection Settings Admin",description:"Configure system-wide self-selection settings."},{name:"Self Selection Task Rating Admin",description:"Manage task rating parameters."},{name:"Self Selection Patch Admin",description:"Handle patch management for self-selection."},{name:"Self Selection Work Type Admin",description:"Control available work types."}],"User Admin":[{name:"User Account",description:"Create and manage system user accounts and credentials."},{name:"User ID",description:"View and assign unique user identification numbers."},{name:"Unbar User",description:"Unblock or reinstate restricted user accounts."},{name:"User Role Profile",description:"Define user roles and associated permissions."},{name:"Supervisor Change Password",description:"Allow supervisors to reset/change passwords."}],"Domain Admin":[{name:"Domain Building",description:"Configure and structure operational domains."},{name:"Post Areas",description:"Define post boundaries, checkpoints, and zones."},{name:"Travel Areas",description:"Set travel regions and mobility zones."},{name:"Asset",description:"Manage fixed and movable assets."},{name:"Workforce",description:"Assign and monitor domain workforce allocations."},{name:"Division",description:"Oversee structural divisions."}],"Schedule Admin":[{name:"MSS Admin",description:"Manage and configure the Master Schedule System."},{name:"SRM Admin",description:"Administer SRM modules & permissions."},{name:"SRM Audit",description:"Audit SRM changes and scheduling history."}],"System Admin":[{name:"Algorithm Parameters",description:"Configure algorithm behaviors & weights."},{name:"System Code Editor",description:"Maintain scripts, triggers & automation."},{name:"Record Audit",description:"Review detailed audit trails."},{name:"Public Holiday",description:"Manage holiday dates affecting schedules."},{name:"General Travel Times",description:"Configure default travel time settings."}]};Object.entries(Ss).flatMap(([e,t])=>t.map(o=>({...o,menuLabel:e})));function tA(){const e=c.useRef(null),[t,o]=c.useState(null),[s,i]=c.useState(null),[a,l]=c.useState([]),d=520,p=720,g=16,m=24,f=1900,v=1e3,y=900,C=760,x=820,S=(D,j)=>{const k=window.screen.availWidth,M=window.screen.availHeight;if(D==="resource"){const G=Math.min(C,k-40,f),H=Math.min(x,M-80,v);return{width:G,height:H}}if(j===1){const G=Math.min(p+m*2,k-40,f),H=Math.min(y,M-80,v);return{width:G,height:H}}const A=Math.min(j,3),N=d*A+g*(A-1)+m*2,F=Math.min(N,k-40,f),$=Math.min(v,M-80);return{width:F,height:$}},_=c.useCallback(()=>{const D=e.current;D&&!D.closed&&D.close(),e.current=null,o(null),i(null),l([])},[]),P=c.useCallback((D,j,k)=>{if(!D||D.length===0)return;e.current&&!e.current.closed&&e.current.close();const{width:M,height:A}=S("tasks",D.length),N=window.screen.availWidth,F=window.screen.availHeight,$=Math.max(0,(N-M)/2),G=Math.max(0,(F-A)/2),H=`
        width=${M},
        height=${A},
        left=${$},
        top=${G},
        toolbar=0,
        menubar=0,
        location=0,
        status=0,
        scrollbars=1,
        resizable=1
      `,T=window.open("/popup.html","_blank",H);if(!T)return;e.current=T;const E={mode:"tasks",tasks:D,expanded:a};T.__POPUP_DATA__=E,T.__POPUP_CLOSE__=()=>_(),T.onload=()=>{try{T.__POPUP_DATA__=E}catch{}},i(D),l([]),o(null)},[a,_]),z=c.useCallback((D,j)=>{if(!D)return;e.current&&!e.current.closed&&e.current.close();const{width:k,height:M}=S("resource",1),A=window.screen.availWidth,N=window.screen.availHeight,F=Math.max(0,(A-k)/2),$=Math.max(0,(N-M)/2),G=`
        width=${k},
        height=${M},
        left=${F},
        top=${$},
        toolbar=0,
        menubar=0,
        location=0,
        status=0,
        scrollbars=1,
        resizable=1
      `,H=window.open("/popup.html","_blank",G);if(!H)return;e.current=H;const T={mode:"resource",resource:D,history:j,expanded:[]};H.__POPUP_DATA__=T,H.__POPUP_CLOSE__=()=>_(),H.onload=()=>{try{H.__POPUP_DATA__=T}catch{}},i(null),l([]),o(null)},[_]);return{externalContainer:t,externalTasks:s,externalExpandedSections:a,openExternalWindow:P,openResourceWindow:z,closeExternalWindow:_,setExternalExpandedSections:l}}const fp=[{id:"DEMO-001",taskId:"RG-AB30001",workId:"WK-790218",resourceId:"SWBXA12",outcome:"CalloutDispatchedAWI",status:"Dispatched (AWI)",availableAgainAt:null,note:"John Evans (SWBXA12) outcome set to Callout â†’ Dispatched (AWI).",timestamp:"2025-12-08T11:00:00.000Z"},{id:"DEMO-002",taskId:"RG-AB30002",workId:"WK-729320",resourceId:"QWERB33",outcome:"Unavailable",status:"Awaiting Resource",availableAgainAt:"2025-12-08T13:30:00.000Z",note:"Ffion Hughes (QWERB33) outcome set to Unavailable.",timestamp:"2025-12-08T10:51:00.000Z"},{id:"DEMO-003",taskId:"RG-AB30003",workId:"WK-703093",resourceId:"PLMKC14",outcome:"NoReply",status:"Callout Failed",availableAgainAt:null,note:"Owain Roberts (PLMKC14) outcome set to No Reply.",timestamp:"2025-12-08T10:42:00.000Z"},{id:"DEMO-004",taskId:"RG-AB30004",workId:"WK-746808",resourceId:"GHJTQ55",outcome:"AssignDispatchedAWI",status:"Dispatched (AWI)",availableAgainAt:null,note:"Carys Morgan (GHJTQ55) outcome set to Assignment â†’ Dispatched (AWI).",timestamp:"2025-12-08T10:33:00.000Z"},{id:"DEMO-005",taskId:"RG-AB30005",workId:"WK-734734",resourceId:"MNBGD82",outcome:"Disturbance",status:"Incident Flagged",availableAgainAt:null,note:"Rhys Davies (MNBGD82) outcome set to Disturbance.",timestamp:"2025-12-08T10:24:00.000Z"},{id:"DEMO-006",taskId:"RG-AB30006",workId:"WK-728071",resourceId:"LKJHF22",outcome:"CalloutDispatchedAWI",status:"Dispatched (AWI)",availableAgainAt:null,note:"Lowri Jenkins (LKJHF22) outcome set to Callout â†’ Dispatched (AWI).",timestamp:"2025-12-08T10:15:00.000Z"},{id:"DEMO-007",taskId:"RG-AB30007",workId:"WK-781809",resourceId:"ASDFR91",outcome:"Refusal",status:"Refused",availableAgainAt:null,note:"Tomos Hughes (ASDFR91) outcome set to Refusal.",timestamp:"2025-12-08T10:06:00.000Z"},{id:"DEMO-008",taskId:"RG-AB30008",workId:"WK-764130",resourceId:"ZXCVS67",outcome:"CalloutDispatchedAWI",status:"Dispatched (AWI)",availableAgainAt:null,note:"Bethan Evans (ZXCVS67) outcome set to Callout â†’ Dispatched (AWI).",timestamp:"2025-12-08T09:57:00.000Z"},{id:"DEMO-009",taskId:"RG-AB30009",workId:"WK-797851",resourceId:"BNMAS49",outcome:"Refusal",status:"Refused",availableAgainAt:null,note:"Steffan Price (BNMAS49) outcome set to Refusal.",timestamp:"2025-12-08T09:48:00.000Z"},{id:"DEMO-010",taskId:"RG-AB30010",workId:"WK-728959",resourceId:"POIUY73",outcome:"Disturbance",status:"Incident Flagged",availableAgainAt:null,note:"Aled Thomas (POIUY73) outcome set to Disturbance.",timestamp:"2025-12-08T09:39:00.000Z"},{id:"DEMO-011",taskId:"RG-AB30011",workId:"WK-775917",resourceId:"UJMKL89",outcome:"CalloutDispatchedAWI",status:"Dispatched (AWI)",availableAgainAt:null,note:"Lauren Evans (UJMKL89) outcome set to Callout â†’ Dispatched (AWI).",timestamp:"2025-12-08T09:30:00.000Z"},{id:"DEMO-012",taskId:"RG-AB30012",workId:"WK-758165",resourceId:"KJHGF02",outcome:"CalloutDispatchedAWI",status:"Dispatched (AWI)",availableAgainAt:null,note:"Nia James (KJHGF02) outcome set to Callout â†’ Dispatched (AWI).",timestamp:"2025-12-08T09:21:00.000Z"},{id:"DEMO-013",taskId:"RG-AB30013",workId:"WK-790116",resourceId:"RTYHN44",outcome:"NoReply",status:"Callout Failed",availableAgainAt:null,note:"Chloe Davies (RTYHN44) outcome set to No Reply.",timestamp:"2025-12-08T09:12:00.000Z"},{id:"DEMO-014",taskId:"RG-AB30014",workId:"WK-785274",resourceId:"SDNEW21",outcome:"Refusal",status:"Refused",availableAgainAt:null,note:"Gareth Bowen (SDNEW21) outcome set to Refusal.",timestamp:"2025-12-08T09:03:00.000Z"},{id:"DEMO-015",taskId:"RG-AB30015",workId:"WK-703787",resourceId:"SDNEW22",outcome:"Unavailable",status:"Awaiting Resource",availableAgainAt:"2025-12-08T20:00:00.000Z",note:"Megan Griffiths (SDNEW22) outcome set to Unavailable.",timestamp:"2025-12-08T08:54:00.000Z"},{id:"DEMO-016",taskId:"RG-AB30016",workId:"WK-723933",resourceId:"SDNEW23",outcome:"CalloutDispatchedAWI",status:"Dispatched (AWI)",availableAgainAt:null,note:"Ieuan Watkins (SDNEW23) outcome set to Callout â†’ Dispatched (AWI).",timestamp:"2025-12-08T08:45:00.000Z"},{id:"DEMO-017",taskId:"RG-AB30017",workId:"WK-705434",resourceId:"SDNEW24",outcome:"AssignDispatchedAWI",status:"Dispatched (AWI)",availableAgainAt:null,note:"Seren Powell (SDNEW24) outcome set to Assignment â†’ Dispatched (AWI).",timestamp:"2025-12-08T08:36:00.000Z"},{id:"DEMO-018",taskId:"RG-AB30018",workId:"WK-772532",resourceId:"SDNEW25",outcome:"Unavailable",status:"Awaiting Resource",availableAgainAt:"2025-12-08T21:30:00.000Z",note:"Rhys Llewellyn (SDNEW25) outcome set to Unavailable.",timestamp:"2025-12-08T08:27:00.000Z"},{id:"DEMO-019",taskId:"RG-AB30019",workId:"WK-765705",resourceId:"SDNEW26",outcome:"Refusal",status:"Refused",availableAgainAt:null,note:"Catrin Rees (SDNEW26) outcome set to Refusal.",timestamp:"2025-12-08T08:18:00.000Z"},{id:"DEMO-020",taskId:"RG-AB30020",workId:"WK-731785",resourceId:"SDNEW27",outcome:"Disturbance",status:"Incident Flagged",availableAgainAt:null,note:"Gwenllian Thomas (SDNEW27) outcome set to Disturbance.",timestamp:"2025-12-08T08:09:00.000Z"},{id:"DEMO-021",taskId:"RG-AB30021",workId:"WK-716640",resourceId:"FJNEW28",outcome:"CalloutDispatchedAWI",status:"Dispatched (AWI)",availableAgainAt:null,note:"Eleri Hopkins (FJNEW28) outcome set to Callout â†’ Dispatched (AWI).",timestamp:"2025-12-08T08:00:00.000Z"},{id:"DEMO-022",taskId:"RG-AB30022",workId:"WK-783470",resourceId:"FJNEW29",outcome:"PendingACT",status:"Assigned (ACT)",availableAgainAt:null,note:"Geraint Morgan (FJNEW29) outcome set to Pending Callout â†’ Assigned (ACT).",timestamp:"2025-12-08T07:51:00.000Z"},{id:"DEMO-023",taskId:"RG-AB30023",workId:"WK-736499",resourceId:"FJNEW30",outcome:"CalloutDispatchedAWI",status:"Dispatched (AWI)",availableAgainAt:null,note:"Non Davies (FJNEW30) outcome set to Callout â†’ Dispatched (AWI).",timestamp:"2025-12-08T07:42:00.000Z"}];function nf(e){if(!e)return null;const t=typeof e.resourceId=="string"?e.resourceId:String(e.resourceId??"").trim();if(!t)return null;const o=typeof e.id=="string"?e.id:String(e.id??`${t}-${Date.now()}`),s=typeof e.timestamp=="string"&&e.timestamp?e.timestamp:new Date().toISOString();return{id:o,taskId:e.taskId??null,workId:e.workId??null,resourceId:t,outcome:e.outcome??"",status:e.status??null,availableAgainAt:e.availableAgainAt??null,note:e.note??null,timestamp:s}}function gp(){const t=(Array.isArray(fp)?fp:[]).map(o=>nf(o)).filter(o=>!!o);return t.sort((o,s)=>{const i=Date.parse(o.timestamp),a=Date.parse(s.timestamp),l=!Number.isNaN(i),d=!Number.isNaN(a);return l&&d?a-i:l?-1:d?1:0}),t}function nA(){const[e,t]=c.useState(()=>gp()),[o,s]=c.useState(!1),[i,a]=c.useState(null),l=c.useCallback(async()=>(s(!0),a(null),new Promise(m=>{setTimeout(()=>{t(gp()),s(!1),m()},120)})),[]),d=c.useCallback(m=>{t(f=>{const v=nf(m);if(!v)return f;const y=f.filter(C=>C.id!==v.id);return[v,...y]})},[]),p=c.useCallback(m=>{if(!m&&m!==0)return[];const f=String(m);return e.filter(v=>String(v.taskId??"")===f)},[e]),g=c.useCallback(m=>{if(!m&&m!==0)return[];const f=String(m);return e.filter(v=>String(v.workId??"")===f)},[e]);return c.useMemo(()=>({history:e,loading:o,error:i,refresh:l,appendLocal:d,getByTaskId:p,getByWorkId:g}),[d,i,p,g,e,o,l])}const Cl={"Operation Toolkit":Ql,"General Settings":Li,"Task Admin":ql,"Jeopardy Admin":Xl,"Resource Admin":sa,"Self Service Admin":Li,"User Admin":zp,"Domain Admin":$p,"Schedule Admin":Bp,"System Admin":Hp},Is={taskId:"Task ID",taskStatus:"Task Status",taskType:"Task Type",primarySkill:"Primary Skill",importanceScore:"Importance Score",msc:"MSC",taskCreated:"Task Created",groupCode:"Group Code",systemType:"System Type",employeeId:"Employee ID",resourceName:"Resource Name",asset:"Asset",assetName:"Asset Name",commitmentDate:"Commitment Date",commitmentType:"Commitment Type",arrivedAtDate:"Arrived At Date",domain:"Domain",estimatedDuration:"Estimated Duration",lastProgression:"Last Progression",category:"Category",description:"Description",responseCode:"Response Code",postCode:"Post Code",appointmentStartDate:"Appointment Start Date",linkedTask:"Linked Task",customerAddress:"Customer Address",expectedStartDate:"Expected Start Date",expectedFinishDate:"Expected Finish Date",externalQueueId:"External Queue Id",workId:"Work Id",estimateNumber:"Estimate Number",startDate:"Start Date"},oA=["Work Details","Commitments / Customer / Location","Scheduling / Resources","Access Restrictions","Job Notes","Progress Notes","Closure"],rA=mr(Rp);function sA(e,t){var s,i,a,l,d,p,g,m,f;let o=[...e];if((s=t.taskSearch)!=null&&s.trim()){const v=t.taskSearch.toLowerCase();o=o.filter(y=>[y.taskId,y.resourceName,y.workId,y.assetName,y.description].join(" ").toLowerCase().includes(v))}if((i=t.division)!=null&&i.length&&(o=o.filter(v=>t.division.includes(v.groupCode))),(a=t.domainId)!=null&&a.length&&(o=o.filter(v=>t.domainId.includes(String(v.domain||"").toUpperCase()))),(l=t.taskStatuses)!=null&&l.length&&(o=o.filter(v=>t.taskStatuses.includes(v.taskStatus))),(d=t.responseCode)!=null&&d.length&&(o=o.filter(v=>t.responseCode.includes(v.responseCode))),(p=t.requester)!=null&&p.trim()){const v=t.requester.toLowerCase();o=o.filter(y=>String(y.resourceName||"").toLowerCase().includes(v))}if((g=t.commitType)!=null&&g.length&&(o=o.filter(v=>t.commitType.includes(v.commitmentType))),(m=t.capabilities)!=null&&m.length&&(o=o.filter(v=>t.capabilities.includes(v.primarySkill))),(f=t.jobType)!=null&&f.trim()){const v=t.jobType.toLowerCase();o=o.filter(y=>String(y.taskType||"").toLowerCase().includes(v))}return o}function iA(e,t){return`
    <table border="1" cellpadding="4" cellspacing="0">
      <thead><tr>${e.map(o=>`<th>${Is[o]}</th>`).join("")}</tr></thead>
      <tbody>${t.map(o=>`<tr>${e.map(s=>`<td>${o[s]??""}</td>`).join("")}</tr>`).join("")}</tbody>
    </table>`}function aA(e,t){const o=e.map(i=>Is[i]).join(","),s=t.map(i=>e.map(a=>i[a]??"").join(","));return[o,...s].join(`
`)}const of=c.memo(({currentMenu:e,windowWidth:t,searchQuery:o,setSearchQuery:s,globalResults:i,showDropdown:a,setShowDropdown:l,onSelectResult:d,onToggleSidebar:p,overrideTitle:g,whiteBackground:m=!1})=>{const f=zt(),v=c.useMemo(()=>g||(e!=null&&e.label?t<950?e.label.split(" ")[0]:e.label:"Dashboard"),[e,t]);return h.jsx(gv,{position:"sticky",color:m?"default":"primary",sx:{zIndex:f.zIndex.drawer+1,boxShadow:m?"0 4px 10px rgba(2,6,23,0.06)":"0 18px 35px rgba(0,0,0,0.22)",backgroundColor:m?f.palette.background.paper:void 0,"&::after":m?void 0:{content:'""',position:"absolute",left:0,right:0,bottom:-10,height:10,background:`linear-gradient(to bottom, ${Me(f.palette.common.black,.18)}, transparent)`,pointerEvents:"none"}},children:h.jsxs(Yp,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",minHeight:70,px:{xs:2,sm:3}},children:[h.jsxs(We,{sx:{display:"flex",alignItems:"center",gap:2},children:[h.jsx(pn,{edge:"start",onClick:p,sx:{width:f.spacing(5.5),height:f.spacing(5.5),borderRadius:2,bgcolor:Me(f.palette.common.white,.12),color:f.palette.common.white,"&:hover":{bgcolor:Me(f.palette.common.white,.2)}},children:h.jsx(Hg,{size:26,strokeWidth:3})}),h.jsx(bt,{variant:"h6",sx:{fontWeight:600,letterSpacing:.2,display:{xs:"none",sm:"block"}},children:v})]}),h.jsxs(We,{sx:{display:"flex",alignItems:"center",gap:3},children:[h.jsxs(We,{sx:{position:"relative",minWidth:{xs:f.spacing(20),sm:f.spacing(24)}},children:[h.jsx(Dn,{value:o,size:"small",onChange:y=>s(y.target.value),onFocus:()=>l(i.length>0),placeholder:"Search anywhere...",variant:"outlined",InputProps:{startAdornment:h.jsx(ra,{position:"start",children:h.jsx(Yl,{size:18,color:m?Me(f.palette.text.primary,.45):Me(f.palette.common.white,.75)})}),sx:{color:m?f.palette.text.primary:f.palette.common.white,"& .MuiOutlinedInput-notchedOutline":{borderColor:m?Me(f.palette.text.primary,.12):Me(f.palette.common.white,.3)},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:m?Me(f.palette.text.primary,.2):Me(f.palette.common.white,.5)},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:m?Me(f.palette.primary.main,.32):Me(f.palette.common.white,.6)},"& input::placeholder":{color:m?Me(f.palette.text.primary,.45):Me(f.palette.common.white,.7)},backgroundColor:m?Me(f.palette.background.paper,.92):Me(f.palette.common.white,.1),borderRadius:2}},sx:{width:{xs:210,sm:520}}}),h.jsx(Ap,{in:a&&i.length>0,timeout:120,unmountOnExit:!0,children:h.jsx(Nt,{elevation:8,sx:{position:"absolute",right:0,left:0,mt:1,borderRadius:2,overflow:"hidden",zIndex:f.zIndex.tooltip},children:h.jsx(Ep,{dense:!0,disablePadding:!0,children:i.map((y,C)=>h.jsx(Dp,{onMouseDown:()=>d(y),sx:{alignItems:"flex-start"},children:h.jsx(Zn,{primary:h.jsx(bt,{variant:"subtitle2",fontWeight:600,children:y.name}),secondary:h.jsx(bt,{component:"span",variant:"caption",sx:{color:"text.secondary"},children:y.category})})},C))})})})]}),h.jsx(Vv,{sx:{width:f.spacing(5.25),height:f.spacing(5.25),bgcolor:Me(f.palette.common.black,.85),border:`1px solid ${Me(f.palette.common.white,.25)}`,boxShadow:"0px 0px 0px 2px rgba(255,255,255,0.08)"},children:h.jsx(jg,{size:18,color:"#FFFFFF"})})]})]})})});of.displayName="Header";const rf=c.memo(({currentMenu:e,filteredItems:t,windowWidth:o,onCardClick:s})=>{var l;const i=zt(),a=((l=e==null?void 0:e.label)==null?void 0:l.split(" ")[0])??"Dashboard";return h.jsxs(We,{sx:{width:"100%",maxWidth:{xs:"100%",md:"1200px"},mx:"auto",px:{xs:3,sm:6,md:8},py:{xs:6,md:8}},children:[h.jsxs(We,{textAlign:"center",mb:6,children:[h.jsxs(We,{sx:{display:"flex",alignItems:"center",justifyContent:"center",gap:2,mb:1.5},children:[Nn.createElement((e==null?void 0:e.icon)||Si,{size:32,color:i.palette.primary.main}),h.jsx(bt,{component:"h1",variant:"h4",fontWeight:700,children:o<950?a:e==null?void 0:e.label})]}),h.jsx(bt,{variant:"body2",color:"text.secondary",children:e!=null&&e.label?`${e.label} Overview`:"Overview of your workspace"})]}),h.jsx(Jl,{mode:"wait",children:h.jsx(mr.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},exit:{opacity:0,y:-12},transition:{duration:.25},children:h.jsx(Et,{container:!0,spacing:{xs:3,md:4},justifyContent:"center",children:t.length?t.map((d,p)=>h.jsx(Et,{item:!0,xs:12,sm:6,md:4,children:h.jsx(rA,{whileHover:{scale:1.02},transition:{duration:.2},elevation:3,children:h.jsx(eb,{onClick:()=>s(d),children:h.jsxs(Lp,{sx:{minHeight:150,display:"flex",flexDirection:"column",gap:1.5,textAlign:"center",px:4,py:3},children:[h.jsx(bt,{variant:"h6",fontWeight:600,children:d.name}),h.jsx(bt,{variant:"body2",color:"text.secondary",children:d.description})]})})})},p)):h.jsx(Et,{item:!0,xs:12,children:h.jsx(Nt,{variant:"outlined",sx:{py:8,textAlign:"center",color:"text.secondary"},children:h.jsx(bt,{variant:"body2",children:"No results found."})})})})},(e==null?void 0:e.label)||"default")})]})});rf.displayName="MainContent";function lA(){const e="Operation Toolkit",[t,o]=c.useState({label:e,icon:Cl[e]||Si}),[s,i]=c.useState(Ss[e]||[]),[a,l]=c.useState(null),[d,p]=c.useState(""),[g,m]=c.useState([]),[f,v]=c.useState(!1),[y,C]=c.useState(""),[x,S]=c.useState(""),[_,P]=c.useState(window.innerWidth),[z,D]=c.useState(window.innerHeight),[j,k]=c.useState(1),[M,A]=c.useState([]),[N,F]=c.useState([]),[$,G]=c.useState(!1),[H,T]=c.useState([]),[E,B]=c.useState(!1),W=c.useMemo(()=>{const Ie=H.map(Q=>Q.calloutGroup).filter(Q=>!!Q);return Array.from(new Set(Ie)).sort()},[H]),[R,V]=c.useState([]),{externalContainer:Z,externalTasks:q,externalExpandedSections:ee,openExternalWindow:X,openResourceWindow:te,closeExternalWindow:Y,setExternalExpandedSections:ne}=tA(),[U,le]=c.useState(!1),[Pe,oe]=c.useState(null);c.useEffect(()=>()=>Y(),[Y]),c.useEffect(()=>{const Ie=Q=>{const ze=Q.detail||{},ft=ze.taskId,et=ze.workId;let Ue;if(ft){const ve=String(ft);Ue=M.find(Se=>{const ke=(Se==null?void 0:Se.taskId)??(Se==null?void 0:Se.TaskID)??(Se==null?void 0:Se.TaskId)??(Se==null?void 0:Se.id)??null;return ke!=null&&String(ke)===ve})}if(!Ue&&et){const ve=String(et);Ue=M.find(Se=>{const ke=(Se==null?void 0:Se.workId)??(Se==null?void 0:Se.WorkID)??(Se==null?void 0:Se.WorkId)??(Se==null?void 0:Se.workID)??null;return ke!=null&&String(ke)===ve})}if(!Ue)return;ne(["Progress Notes"]);const st=window.innerWidth/2,be=window.innerHeight/2;X([Ue],st,be)};return window.addEventListener("taskforce:view-progress-notes",Ie),()=>{window.removeEventListener("taskforce:view-progress-notes",Ie)}},[M,X,ne]),c.useEffect(()=>{const Ie=Q=>{var st;const ze=((st=Q.detail)==null?void 0:st.items)??[];if(!ze.length)return;const ft=new Map;for(const be of ze)be!=null&&be.taskId&&ft.set(String(be.taskId),be);if(!ft.size)return;const et=(be,ve)=>{const Se={ts:ve.timestamp,status:ve.nextStatus||ve.previousStatus||"Updated",text:ve.note,source:"Quick Progress"},ke=be.progressNotes;return Array.isArray(ke)?[...ke,Se]:typeof ke=="string"&&ke.trim()?[{ts:be.taskCreated??ve.timestamp,status:be.taskStatus??be.status??"",text:ke.trim(),source:"Imported"},Se]:[Se]},Ue=be=>be.map(ve=>{const Se=(ve==null?void 0:ve.taskId)??(ve==null?void 0:ve.TaskID)??(ve==null?void 0:ve.TaskId)??(ve==null?void 0:ve.id)??(ve==null?void 0:ve.ID)??(ve==null?void 0:ve.Id)??null;if(Se==null)return ve;const ke=ft.get(String(Se));if(!ke)return ve;const ot=ke.nextStatus||ve.taskStatus||ve.status;return{...ve,taskStatus:ot,lastProgression:ot||ve.lastProgression,updatedAt:ke.timestamp,progressNotes:et(ve,ke)}});A(be=>Ue(be)),F(be=>Ue(be))};return document.addEventListener("taskforce:tasks-progressed",Ie),()=>{document.removeEventListener("taskforce:tasks-progressed",Ie)}},[A,F]);const[ue,he]=c.useState(!1),[ie,ge]=c.useState([]),[de,Ce]=c.useState(null),{history:se,loading:ye,error:Te,refresh:Ae,appendLocal:Oe}=nA(),Ee=c.useCallback(Ie=>{oe(Ie),he(!1),le(!0)},[]);c.useEffect(()=>{A(ln),G(!0)},[]),c.useEffect(()=>{try{T(nh),B(!0)}catch{Dt.error("Error loading resource data.")}},[]),c.useEffect(()=>{const Ie=()=>{const et=window.innerHeight*.01;document.documentElement.style.setProperty("--vh",`${et}px`)},Q=()=>{P(window.innerWidth),D(window.innerHeight),Ie();const et=window.innerHeight,Ue=Math.max(.75,Math.min(1,et/900));k(Number(Ue.toFixed(2))),document.documentElement.style.setProperty("--ui-scale",String(Ue));const st=Math.max(13,Math.min(16,Math.round(et/60)));document.documentElement.style.fontSize=`${st}px`};Ie();const me=window.innerHeight,ze=Math.max(.75,Math.min(1,me/900));k(Number(ze.toFixed(2))),document.documentElement.style.setProperty("--ui-scale",String(ze));const ft=Math.max(13,Math.min(16,Math.round(me/60)));return document.documentElement.style.fontSize=`${ft}px`,window.addEventListener("resize",Q),()=>window.removeEventListener("resize",Q)},[]);const xe=c.useMemo(()=>Object.entries(Ss).flatMap(([Ie,Q])=>Q.map(me=>({...me,category:Ie}))),[]);c.useEffect(()=>{if(!d.trim()){m([]),v(!1);return}const Ie=xe.filter(Q=>Q.name.toLowerCase().includes(d.toLowerCase()));m(Ie),v(Ie.length>0)},[d,xe]);const we=c.useCallback(Ie=>{const Q=Ie.label;o({label:Q,icon:Cl[Q]||Si}),i(Ss[Q]||[]),F([]),l(null),p(""),m([]),v(!1)},[]),Fe=c.useCallback(Ie=>{Ie.name==="Task Management"&&(l("TaskManagement"),F([])),Ie.name==="Schedule Live"&&l("ScheduleLive")},[]),Ve=c.useCallback(Ie=>{if(!$){Dt.error("Data not loaded yet.");return}const Q=sA(M,Ie);if(Q.length===0){F([]),Dt.error("No matching tasks found.");return}F(Q)},[M,$]),Xe=c.useCallback(()=>{F([]),V([]),Dt.success("Filters cleared.",{id:"clear-toast",icon:"ðŸ§¹"})},[]),Ke=N.length>0,qe=c.useCallback(async()=>{if(!Ke){Dt.error("No data to copy.");return}const Ie=Object.keys(Is),Q=iA(Ie,N);await navigator.clipboard.writeText(Q),Dt.success("Copied",{icon:"ðŸ“‹"})},[N,Ke]),Ze=c.useCallback(()=>{if(!Ke){Dt.error("No data to export.");return}const Ie=Object.keys(Is),Q=aA(Ie,N),me=new Blob([Q],{type:"text/csv;charset=utf-8;"}),ze=document.createElement("a");ze.href=URL.createObjectURL(me),ze.download="FilteredTasks.csv",ze.click(),Dt.success("Exported",{icon:"ðŸ’¾"})},[N,Ke]),St=c.useCallback(Ie=>{p(""),v(!1);const Q=Ie.category,me=Ss[Q]||[];o({label:Q,icon:Cl[Q]||Si}),i(me),l(Ie.name==="Task Management"?"TaskManagement":null)},[]);c.useMemo(()=>{const Ie=new Set;return ln.forEach(Q=>{const me=String(Q.domain||"").toUpperCase();me&&Ie.add(me)}),Array.from(Ie).sort()},[]),c.useMemo(()=>{const Ie=new Set;return ln.forEach(Q=>{const me=String(Q.groupCode||"").toUpperCase();me&&Ie.add(me)}),Array.from(Ie).sort()},[]),c.useCallback(Ie=>{C(Ie)},[]),c.useCallback(Ie=>{S(Ie)},[]);const nt=c.useCallback((Ie,Q,me)=>{!Ie||Ie.length===0||X(Ie,Q,me)},[X]),Ye=c.useCallback((Ie,Q)=>{if(!Ie)return;const me=Q.length?Q:se.filter(ze=>ze.resourceId===Ie.resourceId);te(Ie,me)},[se,te]),Jt=c.useCallback(()=>{if(!Pe)return;const Ie=window.innerWidth/2,Q=window.innerHeight/2;X([Pe],Ie,Q)},[Pe,X]),Tt=(Ie,Q)=>{switch(Q){case"AssignDispatchedAWI":case"CalloutDispatchedAWI":return"Dispatched (AWI)";case"PendingACT":return"Assigned (ACT)";case"Disturbance":case"NoReply":return"Callout Failed";case"Refusal":return"Refused";case"Unavailable":return"Awaiting Resource";default:return Ie}},Ht=(Ie,Q)=>{switch(Q){case"AssignDispatchedAWI":case"CalloutDispatchedAWI":return"Busy";case"PendingACT":return"Pending";case"Disturbance":return"Flagged";case"NoReply":return"No Reply";case"Refusal":return"Refused";case"Unavailable":return"Unavailable";default:return Ie||"Available"}},cn=c.useCallback(async Ie=>{const{taskId:Q,resourceId:me,outcome:ze,availableAgainAt:ft}=Ie,et=new Date().toISOString(),Ue=Se=>{if(!Se)return null;try{const ke=new Date(Se);if(Number.isNaN(ke.getTime()))return Se;const ot=String(ke.getDate()).padStart(2,"0"),xt=String(ke.getMonth()+1).padStart(2,"0"),De=ke.getFullYear(),qt=String(ke.getHours()).padStart(2,"0"),Cn=String(ke.getMinutes()).padStart(2,"0");return`${ot}/${xt}/${De} ${qt}:${Cn}`}catch{return Se}},st=(Se,ke)=>ke?[...Array.isArray(Se.progressNotes)?[...Se.progressNotes]:typeof Se.progressNotes=="string"&&Se.progressNotes.trim()?[{ts:Se.taskCreated||et,status:"",text:Se.progressNotes.trim(),source:"Imported"}]:[],ke]:Se.progressNotes;let be=null;T(Se=>Se.map(ke=>{if(ke.resourceId!==me)return ke;const ot=ke.lastOutcome??null,xt=ke.availableAgainAt??null;return{...ke,status:Ht(ke.status,ze),lastOutcome:ze,availableAgainAt:ze==="Unavailable"?ft??null:null,history:[...ke.history??[],{previousOutcome:ot,previousAvailableAgainAt:xt,changedAt:et,taskIdUsed:Q??null,outcomeApplied:ze,availableAgainAt:ze==="Unavailable"?ft??null:null}]}}));const ve=Se=>Se.map(ke=>{var gn;if(ke.taskId!==Q)return ke;const ot=ke.taskStatus,xt=ke.employeeId??null,De=Tt(ke.taskStatus,ze),qt=ke.resourceName?`${ke.resourceName} (${me})`:me,Cn=((gn=kg[ze])==null?void 0:gn.label)??String(ze);let kt=null,Ft=`${qt} outcome set to ${Cn}.`;if(Q){if(ze==="Unavailable"){const ro=Ue(ft);kt={ts:et,status:"Unavailable",text:ro?`${qt} marked unavailable. Next availability ${ro}.`:`${qt} marked unavailable.`,source:"Callout"},Ft=kt.text}else De&&De.includes("AWI")&&(kt={ts:et,status:ze,text:`${qt} set to ${Cn}.`,source:"Callout"},Ft=kt.text);be||(be={taskId:Q,workId:ke.workId??null,resourceId:me,outcome:ze,status:De??null,availableAgainAt:ze==="Unavailable"?ft??null:null,note:Ft,timestamp:et})}return{...ke,taskStatus:De,employeeId:me,lastOutcome:ze,availableAgainAt:ze==="Unavailable"?ft??null:null,updatedAt:et,history:[...ke.history??[],{previousTaskStatus:ot,previousEmployeeId:xt,changedAt:et,outcomeApplied:ze,resourceIdUsed:me,availableAgainAt:ze==="Unavailable"?ft??null:null}],progressNotes:st(ke,kt)}});if(A(Se=>ve(Se)),F(Se=>ve(Se)),be){const Se=be,ke={id:`SESSION-${me}-${Date.now()}`,...Se};Oe(ke)}},[Oe]),on=c.useCallback(Ie=>{ne(Q=>Q.includes(Ie)?Q.filter(me=>me!==Ie):[...Q,Ie])},[ne]),an=c.useCallback(()=>{ne(oA)},[ne]),jt=c.useCallback(()=>{ne([])},[ne]);return h.jsxs(We,{sx:{position:"relative",overflow:"hidden",bgcolor:"background.default",color:"text.primary",fontFamily:'"Inter", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif',width:"100%",height:"100vh",minHeight:0,minWidth:0,display:"flex",flexDirection:"row",overflowX:"hidden"},children:[h.jsx(BM,{position:"top-center"}),h.jsx(WM,{currentMenu:t,onMenuClick:we,activeSubPage:a}),h.jsxs(We,{component:"main",sx:{display:"flex",flexDirection:"column",minWidth:0,height:"100%",width:"100%"},children:[h.jsx(of,{currentMenu:t,windowWidth:_,searchQuery:d,setSearchQuery:p,globalResults:g,showDropdown:f,setShowDropdown:v,onSelectResult:St,onToggleSidebar:()=>window.dispatchEvent(new CustomEvent("toggleSidebar"))}),h.jsxs(We,{sx:{flex:1,minHeight:0,bgcolor:"background.paper",display:"flex",flexDirection:"column"},children:[a==="TaskManagement"&&h.jsxs(We,{component:"section",sx:{py:{xs:3,md:5},px:{xs:2,md:4},display:"flex",flexDirection:"column",gap:0},children:[h.jsx(eA,{onSearch:Ve,onClear:Xe,onCopy:qe,onExport:Ze,canCopy:Ke}),$?N.length>0?h.jsx(Bc,{rows:N,headerNames:Is,onOpenPopout:nt,onOpenCalloutIncident:Ee,sx:{borderRadius:"0 0 12px 12px",mt:0}}):h.jsx(Nt,{variant:"outlined",sx:{p:6,textAlign:"center",borderStyle:"dashed",borderColor:"divider",bgcolor:"background.default"},children:h.jsxs(bt,{variant:"body2",color:"text.secondary",children:["No tasks loaded yet. Please apply filters and press ",h.jsx("b",{children:"Search"}),"."]})}):h.jsx(Nt,{variant:"outlined",sx:{p:6,textAlign:"center",color:"text.secondary"},children:h.jsx(bt,{variant:"body2",children:"Loading task data..."})})]}),a==="ScheduleLive"&&h.jsx(Yk,{}),!a&&h.jsx(rf,{currentMenu:t,filteredItems:s,windowWidth:_,onCardClick:Fe})]})]}),ue&&h.jsx(r0,{allResources:H,calloutGroups:W,onStart:Ie=>{const me=H.filter(ze=>ze.calloutGroup===Ie).slice(0,6);ge(me),Ce(Ie),he(!1),le(!0)},onDismiss:()=>{he(!1),ge([]),Ce(null)}}),h.jsx(Ig,{open:U,task:Pe,resources:H,primaryResourceIds:ie.map(Ie=>Ie.resourceId),selectedGroup:de,onOpenResourcePopout:Ye,onOpenTaskPopout:Jt,onClose:()=>{le(!1),ge([]),Ce(null)},history:se,historyLoading:ye,historyError:Te,onRefreshHistory:Ae,onSaveRow:cn}),Z&&q&&q.length>0&&Os.createPortal(h.jsx(Tg,{open:!0,tasks:q,expanded:ee,onToggleSection:on,onExpandAll:an,onCollapseAll:jt,onClose:Y}),Z)]})}function cA(){return h.jsx(lA,{})}const uA="#0F2740",dA="#304862",pA="#0A1A2A",hA="#3BE089",mA="#1EA46A",vp="#F3F6F8",fA=yp({palette:{mode:"light",primary:{main:uA,light:dA,dark:pA,contrastText:"#FFFFFF"},secondary:{main:hA,light:"#7FF2B6",dark:mA,contrastText:"#052035"},background:{default:vp,paper:"#FFFFFF"},text:{primary:"#0B2233",secondary:"#475569"},divider:"rgba(15, 39, 64, 0.08)"},typography:{fontFamily:'"Inter", "Roboto", "Helvetica", "Arial", sans-serif',h1:{fontWeight:600},h2:{fontWeight:600},h3:{fontWeight:600},button:{textTransform:"none",fontWeight:600},subtitle1:{color:"#394B59"},subtitle2:{color:"#52606D"}},shape:{borderRadius:6},components:{MuiCssBaseline:{styleOverrides:{body:{backgroundColor:vp}}},MuiPaper:{styleOverrides:{root:{borderRadius:6}}},MuiButton:{styleOverrides:{root:{borderRadius:6}}},MuiCard:{styleOverrides:{root:{borderRadius:8,boxShadow:"0 6px 18px rgba(45, 24, 88, 0.06)"}}},MuiAppBar:{styleOverrides:{root:{boxShadow:"0 6px 12px rgba(0, 0, 0, 0.08)"}}}}});Mg.createRoot(document.getElementById("root")).render(h.jsxs(pv,{theme:fA,children:[h.jsx(Sb,{}),h.jsx(cA,{})]}));
