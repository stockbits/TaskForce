import{R as b,T as f}from"./index-DKa6WZQ6.js";import{j as n,r as t}from"./vendor-motion-BQO2KiUE.js";import"./vendor-react-DJG_os-6.js";import"./vendor-icons-B3ApwPnq.js";function v(){const s=window.__POPUP_DATA__;if(!s)return n.jsx("div",{className:"p-10 text-center text-gray-500",children:"Loading popupâ€¦"});const{tasks:l}=s,[u,r]=t.useState(s.expanded??[]),[c,m]=t.useState(1);t.useEffect(()=>{const e=()=>{const y=window.innerHeight*.01;document.documentElement.style.setProperty("--vh",`${y}px`);const i=window.innerHeight,d=Math.max(.75,Math.min(1,i/900)),x=Number(d.toFixed(2));m(x),document.documentElement.style.setProperty("--ui-scale",String(d));const w=Math.max(13,Math.min(16,Math.round(i/60)));document.documentElement.style.fontSize=`${w}px`},o=document.body.style.margin,a=document.body.style.backgroundColor;return document.body.style.margin="0",document.body.style.backgroundColor="#F5F7FA",e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e),document.body.style.margin=o,document.body.style.backgroundColor=a}},[]);const p=t.useCallback(e=>{r(o=>o.includes(e)?o.filter(a=>a!==e):[...o,e])},[]),g=t.useCallback(()=>{r(["Work Details","Commitments / Customer / Location","Scheduling / Resources","Access Restrictions","Job Notes","Progress Notes","Closure"])},[]),h=t.useCallback(()=>{r([])},[]);return n.jsx("div",{className:"min-h-screen w-screen overflow-hidden",style:{height:`calc(var(--vh, 1vh) * 100 / ${c})`,width:`${100/c}vw`,transform:`scale(${c})`,transformOrigin:"top left"},children:n.jsx(f,{open:!0,tasks:l,expanded:u,onToggleSection:p,onExpandAll:g,onCollapseAll:h,onClose:()=>{var e;return(e=window.__POPUP_CLOSE__)==null?void 0:e.call(window)}})})}b.createRoot(document.getElementById("popup-root")).render(n.jsx(v,{}));
