import{u as Sp,a as fr,b as ra,G as cg,T as ug,R as dg,D as pg,c as hg,d as mg,e as fg,f as lr,g as _p,h as gg,s as vg,i as Gt,j as Vt,k as Wt,l as Ee,m as ze,n as lt,o as Zt,P as Nt,p as Pt,q as As,r as Si,t as Zo,v as yg,C as bg,A as xg,w as _t,x as Yr,y as Fi,z as Se,B as Ar,E as rr,F as Fu,H as sl,I as pn,J as it,K as zs,L as Pp,M as sa,N as Ip,O as ia,Q as Tp,S as _i,U as kp,V as Bt,W as Oi,X as Mp,Y as Cg,Z as rt,_ as wg,$ as aa,a0 as ql,a1 as Ou,a2 as Sg,a3 as la,a4 as _g,a5 as cr,a6 as Pg,a7 as Nu,a8 as Ig,a9 as zu,aa as Ap,ab as Dp,ac as Ep,ad as Rp,ae as Tl,af as Xl,ag as Yl,ah as Ni,ai as Ue,aj as En,ak as On,al as wt,am as yn,an as Lp,ao as zi,ap as Ot,aq as $s,ar as T,as as Tg,at as kg,au as $e,av as Mg,aw as Ql,ax as Ag,ay as Dg,az as Fp,aA as ca,aB as Op,aC as Np,aD as zp,aE as $p,aF as Bp,aG as $u,aH as Eg,aI as Rg,aJ as Lg,aK as Fg}from"./index-BTYAzKKI.js";import{r as c,j as h,m as br,A as ec,R as kn,a as jp}from"./vendor-motion-BQO2KiUE.js";import{U as ua,C as Og,X as tc,a as Hp,b as Ng,L as Bs,S as Gp,E as Vp,T as da,M as zg,c as nc,d as $g,e as Bg,I as jg,f as oc,g as Hg,h as Gg,i as $i,j as Wp,G as Zp,k as Up,l as Kp,m as Vg,n as Wg,o as Zg,p as Ug,F as Pi}from"./vendor-icons-DKnBYtsF.js";import{g as Jp}from"./vendor-react-DJG_os-6.js";var il={exports:{}},al,Bu;function Kg(){if(Bu)return al;Bu=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return al=e,al}var ll,ju;function Jg(){if(ju)return ll;ju=1;var e=Kg();function t(){}function o(){}return o.resetWarningCache=t,ll=function(){function r(l,d,p,g,m,f){if(f!==e){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:o,resetWarningCache:t};return a.PropTypes=a,a},ll}var Hu;function qg(){return Hu||(Hu=1,il.exports=Jg()()),il.exports}var Xg=qg();const ae=Jp(Xg),rc=e=>{const t=c.useRef({});return c.useEffect(()=>{t.current=e}),t.current},qp=c.createContext(null);function sc(){return c.useContext(qp)}const Yg=typeof Symbol=="function"&&Symbol.for,Qg=Yg?Symbol.for("mui.nested"):"__THEME_NESTED__";function ev(e,t){return typeof t=="function"?t(e):{...e,...t}}function tv(e){const{children:t,theme:o}=e,r=sc(),i=c.useMemo(()=>{const a=r===null?{...o}:ev(r,o);return a!=null&&(a[Qg]=r!==null),a},[o,r]);return h.jsx(qp.Provider,{value:i,children:t})}function nv(e){const t=Sp(),o=fr()||"",{modularCssLayers:r}=e;let i="mui.global, mui.components, mui.theme, mui.custom, mui.sx";return!r||t!==null?i="":typeof r=="string"?i=r.replace(/mui(?!\.)/g,i):i=`@layer ${i};`,ra(()=>{var d,p;const a=document.querySelector("head");if(!a)return;const l=a.firstChild;if(i){if(l&&((d=l.hasAttribute)!=null&&d.call(l,"data-mui-layer-order"))&&l.getAttribute("data-mui-layer-order")===o)return;const g=document.createElement("style");g.setAttribute("data-mui-layer-order",o),g.textContent=i,a.prepend(g)}else(p=a.querySelector(`style[data-mui-layer-order="${o}"]`))==null||p.remove()},[i,o]),i?h.jsx(cg,{styles:i}):null}const Gu={};function Vu(e,t,o,r=!1){return c.useMemo(()=>{const i=e&&t[e]||t;if(typeof o=="function"){const a=o(i),l=e?{...t,[e]:a}:a;return r?()=>l:l}return e?{...t,[e]:o}:{...t,...o}},[e,t,o,r])}function Xp(e){const{children:t,theme:o,themeId:r}=e,i=Sp(Gu),a=sc()||Gu,l=Vu(r,i,o),d=Vu(r,a,o,!0),p=(r?l[r]:l).direction==="rtl",g=nv(l);return h.jsx(tv,{theme:d,children:h.jsx(ug.Provider,{value:l,children:h.jsx(dg,{value:p,children:h.jsxs(pg,{value:r?l[r].components:l.components,children:[g,t]})})})})}const ic="mode",ac="color-scheme",ov="data-color-scheme";function rv(e){const{defaultMode:t="system",defaultLightColorScheme:o="light",defaultDarkColorScheme:r="dark",modeStorageKey:i=ic,colorSchemeStorageKey:a=ac,attribute:l=ov,colorSchemeNode:d="document.documentElement",nonce:p}=e||{};let g="",m=l;if(l==="class"&&(m=".%s"),l==="data"&&(m="[data-%s]"),m.startsWith(".")){const v=m.substring(1);g+=`${d}.classList.remove('${v}'.replace('%s', light), '${v}'.replace('%s', dark));
      ${d}.classList.add('${v}'.replace('%s', colorScheme));`}const f=m.match(/\[([^\]]+)\]/);if(f){const[v,x]=f[1].split("=");x||(g+=`${d}.removeAttribute('${v}'.replace('%s', light));
      ${d}.removeAttribute('${v}'.replace('%s', dark));`),g+=`
      ${d}.setAttribute('${v}'.replace('%s', colorScheme), ${x?`${x}.replace('%s', colorScheme)`:'""'});`}else g+=`${d}.setAttribute('${m}', colorScheme);`;return h.jsx("script",{suppressHydrationWarning:!0,nonce:typeof window>"u"?p:"",dangerouslySetInnerHTML:{__html:`(function() {
try {
  let colorScheme = '';
  const mode = localStorage.getItem('${i}') || '${t}';
  const dark = localStorage.getItem('${a}-dark') || '${r}';
  const light = localStorage.getItem('${a}-light') || '${o}';
  if (mode === 'system') {
    // handle system mode
    const mql = window.matchMedia('(prefers-color-scheme: dark)');
    if (mql.matches) {
      colorScheme = dark
    } else {
      colorScheme = light
    }
  }
  if (mode === 'light') {
    colorScheme = light;
  }
  if (mode === 'dark') {
    colorScheme = dark;
  }
  if (colorScheme) {
    ${g}
  }
} catch(e){}})();`}},"mui-color-scheme-init")}function sv(){}const iv=({key:e,storageWindow:t})=>(!t&&typeof window<"u"&&(t=window),{get(o){if(typeof window>"u")return;if(!t)return o;let r;try{r=t.localStorage.getItem(e)}catch{}return r||o},set:o=>{if(t)try{t.localStorage.setItem(e,o)}catch{}},subscribe:o=>{if(!t)return sv;const r=i=>{const a=i.newValue;i.key===e&&o(a)};return t.addEventListener("storage",r),()=>{t.removeEventListener("storage",r)}}});function cl(){}function Wu(e){if(typeof window<"u"&&typeof window.matchMedia=="function"&&e==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function Yp(e,t){if(e.mode==="light"||e.mode==="system"&&e.systemMode==="light")return t("light");if(e.mode==="dark"||e.mode==="system"&&e.systemMode==="dark")return t("dark")}function av(e){return Yp(e,t=>{if(t==="light")return e.lightColorScheme;if(t==="dark")return e.darkColorScheme})}function lv(e){const{defaultMode:t="light",defaultLightColorScheme:o,defaultDarkColorScheme:r,supportedColorSchemes:i=[],modeStorageKey:a=ic,colorSchemeStorageKey:l=ac,storageWindow:d=typeof window>"u"?void 0:window,storageManager:p=iv,noSsr:g=!1}=e,m=i.join(","),f=i.length>1,v=c.useMemo(()=>p==null?void 0:p({key:a,storageWindow:d}),[p,a,d]),x=c.useMemo(()=>p==null?void 0:p({key:`${l}-light`,storageWindow:d}),[p,l,d]),b=c.useMemo(()=>p==null?void 0:p({key:`${l}-dark`,storageWindow:d}),[p,l,d]),[C,S]=c.useState(()=>{const E=(v==null?void 0:v.get(t))||t,$=(x==null?void 0:x.get(o))||o,D=(b==null?void 0:b.get(r))||r;return{mode:E,systemMode:Wu(E),lightColorScheme:$,darkColorScheme:D}}),[_,P]=c.useState(g||!f);c.useEffect(()=>{P(!0)},[]);const z=av(C),F=c.useCallback(E=>{S($=>{if(E===$.mode)return $;const D=E??t;return v==null||v.set(D),{...$,mode:D,systemMode:Wu(D)}})},[v,t]),G=c.useCallback(E=>{E?typeof E=="string"?E&&!m.includes(E)?console.error(`\`${E}\` does not exist in \`theme.colorSchemes\`.`):S($=>{const D={...$};return Yp($,O=>{O==="light"&&(x==null||x.set(E),D.lightColorScheme=E),O==="dark"&&(b==null||b.set(E),D.darkColorScheme=E)}),D}):S($=>{const D={...$},O=E.light===null?o:E.light,H=E.dark===null?r:E.dark;return O&&(m.includes(O)?(D.lightColorScheme=O,x==null||x.set(O)):console.error(`\`${O}\` does not exist in \`theme.colorSchemes\`.`)),H&&(m.includes(H)?(D.darkColorScheme=H,b==null||b.set(H)):console.error(`\`${H}\` does not exist in \`theme.colorSchemes\`.`)),D}):S($=>(x==null||x.set(o),b==null||b.set(r),{...$,lightColorScheme:o,darkColorScheme:r}))},[m,x,b,o,r]),k=c.useCallback(E=>{C.mode==="system"&&S($=>{const D=E!=null&&E.matches?"dark":"light";return $.systemMode===D?$:{...$,systemMode:D}})},[C.mode]),M=c.useRef(k);return M.current=k,c.useEffect(()=>{if(typeof window.matchMedia!="function"||!f)return;const E=(...D)=>M.current(...D),$=window.matchMedia("(prefers-color-scheme: dark)");return $.addListener(E),E($),()=>{$.removeListener(E)}},[f]),c.useEffect(()=>{if(f){const E=(v==null?void 0:v.subscribe(O=>{(!O||["light","dark","system"].includes(O))&&F(O||t)}))||cl,$=(x==null?void 0:x.subscribe(O=>{(!O||m.match(O))&&G({light:O})}))||cl,D=(b==null?void 0:b.subscribe(O=>{(!O||m.match(O))&&G({dark:O})}))||cl;return()=>{E(),$(),D()}}},[G,F,m,t,d,f,v,x,b]),{...C,mode:_?C.mode:void 0,systemMode:_?C.systemMode:void 0,colorScheme:_?z:void 0,setMode:F,setColorScheme:G}}const cv="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function uv(e){const{themeId:t,theme:o={},modeStorageKey:r=ic,colorSchemeStorageKey:i=ac,disableTransitionOnChange:a=!1,defaultColorScheme:l,resolveTheme:d}=e,p={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},g=c.createContext(void 0),m=()=>c.useContext(g)||p,f={},v={};function x(_){var ye,ke,Be,Qe;const{children:P,theme:z,modeStorageKey:F=r,colorSchemeStorageKey:G=i,disableTransitionOnChange:k=a,storageManager:M,storageWindow:E=typeof window>"u"?void 0:window,documentNode:$=typeof document>"u"?void 0:document,colorSchemeNode:D=typeof document>"u"?void 0:document.documentElement,disableNestedContext:O=!1,disableStyleSheetGeneration:H=!1,defaultMode:B="system",noSsr:I}=_,A=c.useRef(!1),j=sc(),V=c.useContext(g),R=!!V&&!O,W=c.useMemo(()=>z||(typeof o=="function"?o():o),[z]),Z=W[t],q=Z||W,{colorSchemes:ee=f,components:X=v,cssVarPrefix:te}=q,Y=Object.keys(ee).filter(Je=>!!ee[Je]).join(","),ne=c.useMemo(()=>Y.split(","),[Y]),re=typeof l=="string"?l:l.light,ve=typeof l=="string"?l:l.dark,_e=ee[re]&&ee[ve]?B:((ke=(ye=ee[q.defaultColorScheme])==null?void 0:ye.palette)==null?void 0:ke.mode)||((Be=q.palette)==null?void 0:Be.mode),{mode:be,setMode:Ae,systemMode:Ce,lightColorScheme:fe,darkColorScheme:se,colorScheme:U,setColorScheme:he}=lv({supportedColorSchemes:ne,defaultLightColorScheme:re,defaultDarkColorScheme:ve,modeStorageKey:F,colorSchemeStorageKey:G,defaultMode:_e,storageManager:M,storageWindow:E,noSsr:I});let Q=be,ie=U;R&&(Q=V.mode,ie=V.colorScheme);const de=c.useMemo(()=>{var St;const Je=ie||q.defaultColorScheme,qe=((St=q.generateThemeVars)==null?void 0:St.call(q))||q.vars,Ke={...q,components:X,colorSchemes:ee,cssVarPrefix:te,vars:qe};if(typeof Ke.generateSpacing=="function"&&(Ke.spacing=Ke.generateSpacing()),Je){const at=ee[Je];at&&typeof at=="object"&&Object.keys(at).forEach(st=>{at[st]&&typeof at[st]=="object"?Ke[st]={...Ke[st],...at[st]}:Ke[st]=at[st]})}return d?d(Ke):Ke},[q,ie,X,ee,te]),we=q.colorSchemeSelector;ra(()=>{if(ie&&D&&we&&we!=="media"){const Je=we;let qe=we;if(Je==="class"&&(qe=".%s"),Je==="data"&&(qe="[data-%s]"),Je!=null&&Je.startsWith("data-")&&!Je.includes("%s")&&(qe=`[${Je}="%s"]`),qe.startsWith("."))D.classList.remove(...ne.map(Ke=>qe.substring(1).replace("%s",Ke))),D.classList.add(qe.substring(1).replace("%s",ie));else{const Ke=qe.replace("%s",ie).match(/\[([^\]]+)\]/);if(Ke){const[St,at]=Ke[1].split("=");at||ne.forEach(st=>{D.removeAttribute(St.replace(ie,st))}),D.setAttribute(St,at?at.replace(/"|'/g,""):"")}else D.setAttribute(qe,ie)}}},[ie,we,D,ne]),c.useEffect(()=>{let Je;if(k&&A.current&&$){const qe=$.createElement("style");qe.appendChild($.createTextNode(cv)),$.head.appendChild(qe),window.getComputedStyle($.body),Je=setTimeout(()=>{$.head.removeChild(qe)},1)}return()=>{clearTimeout(Je)}},[ie,k,$]),c.useEffect(()=>(A.current=!0,()=>{A.current=!1}),[]);const Re=c.useMemo(()=>({allColorSchemes:ne,colorScheme:ie,darkColorScheme:se,lightColorScheme:fe,mode:Q,setColorScheme:he,setMode:Ae,systemMode:Ce}),[ne,ie,se,fe,Q,he,Ae,Ce,de.colorSchemeSelector]);let Pe=!0;(H||q.cssVariables===!1||R&&(j==null?void 0:j.cssVarPrefix)===te)&&(Pe=!1);const ge=h.jsxs(c.Fragment,{children:[h.jsx(Xp,{themeId:Z?t:void 0,theme:de,children:P}),Pe&&h.jsx(hg,{styles:((Qe=de.generateStyleSheets)==null?void 0:Qe.call(de))||[]})]});return R?ge:h.jsx(g.Provider,{value:Re,children:ge})}const b=typeof l=="string"?l:l.light,C=typeof l=="string"?l:l.dark;return{CssVarsProvider:x,useColorScheme:m,getInitColorSchemeScript:_=>rv({colorSchemeStorageKey:i,defaultLightColorScheme:b,defaultDarkColorScheme:C,modeStorageKey:r,..._})}}function dv(e){return String(e).match(/[\d.\-+]*\s*(.*)/)[1]||""}function pv(e){return parseFloat(e)}function hv({props:e,name:t}){return mg({props:e,name:t,defaultTheme:fg,themeId:lr})}function mv({theme:e,...t}){const o=lr in e?e[lr]:void 0;return h.jsx(Xp,{...t,themeId:o?lr:void 0,theme:o||e})}const gi={colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"},{CssVarsProvider:fv}=uv({themeId:lr,theme:()=>_p({cssVariables:!0}),colorSchemeStorageKey:gi.colorSchemeStorageKey,modeStorageKey:gi.modeStorageKey,defaultColorScheme:{light:gi.defaultLightColorScheme,dark:gi.defaultDarkColorScheme},resolveTheme:e=>{const t={...e,typography:gg(e.palette,e.typography)};return t.unstable_sx=function(r){return vg({sx:r,theme:this})},t}}),gv=fv;function vv({theme:e,...t}){const o=c.useMemo(()=>{if(typeof e=="function")return e;const r=lr in e?e[lr]:e;return"colorSchemes"in r?null:"vars"in r?e:{...e,vars:null}},[e]);return o?h.jsx(mv,{theme:o,...t}):h.jsx(gv,{theme:e,...t})}function yv(e){return Gt("MuiAppBar",e)}Vt("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const bv=e=>{const{color:t,position:o,classes:r}=e,i={root:["root",`color${lt(t)}`,`position${lt(o)}`]};return Zt(i,yv,r)},Zu=(e,t)=>e?`${e==null?void 0:e.replace(")","")}, ${t})`:t,xv=Ee(Nt,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,t[`position${lt(o.position)}`],t[`color${lt(o.color)}`]]}})(Pt(({theme:e})=>({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,variants:[{props:{position:"fixed"},style:{position:"fixed",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}}},{props:{position:"absolute"},style:{position:"absolute",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"sticky"},style:{position:"sticky",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"static"},style:{position:"static"}},{props:{position:"relative"},style:{position:"relative"}},{props:{color:"inherit"},style:{"--AppBar-color":"inherit"}},{props:{color:"default"},style:{"--AppBar-background":e.vars?e.vars.palette.AppBar.defaultBg:e.palette.grey[100],"--AppBar-color":e.vars?e.vars.palette.text.primary:e.palette.getContrastText(e.palette.grey[100]),...e.applyStyles("dark",{"--AppBar-background":e.vars?e.vars.palette.AppBar.defaultBg:e.palette.grey[900],"--AppBar-color":e.vars?e.vars.palette.text.primary:e.palette.getContrastText(e.palette.grey[900])})}},...Object.entries(e.palette).filter(As(["contrastText"])).map(([t])=>({props:{color:t},style:{"--AppBar-background":(e.vars??e).palette[t].main,"--AppBar-color":(e.vars??e).palette[t].contrastText}})),{props:t=>t.enableColorOnDark===!0&&!["inherit","transparent"].includes(t.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"}},{props:t=>t.enableColorOnDark===!1&&!["inherit","transparent"].includes(t.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...e.applyStyles("dark",{backgroundColor:e.vars?Zu(e.vars.palette.AppBar.darkBg,"var(--AppBar-background)"):null,color:e.vars?Zu(e.vars.palette.AppBar.darkColor,"var(--AppBar-color)"):null})}},{props:{color:"transparent"},style:{"--AppBar-background":"transparent","--AppBar-color":"inherit",backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...e.applyStyles("dark",{backgroundImage:"none"})}}]}))),Cv=c.forwardRef(function(t,o){const r=Wt({props:t,name:"MuiAppBar"}),{className:i,color:a="primary",enableColorOnDark:l=!1,position:d="fixed",...p}=r,g={...r,color:a,position:d,enableColorOnDark:l},m=bv(g);return h.jsx(xv,{square:!0,component:"header",ownerState:g,elevation:4,className:ze(m.root,i,d==="fixed"&&"mui-fixed"),ref:o,...p})});function Uu(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function Qp(e={}){const{ignoreAccents:t=!0,ignoreCase:o=!0,limit:r,matchFrom:i="any",stringify:a,trim:l=!1}=e;return(d,{inputValue:p,getOptionLabel:g})=>{let m=l?p.trim():p;o&&(m=m.toLowerCase()),t&&(m=Uu(m));const f=m?d.filter(v=>{let x=(a||g)(v);return o&&(x=x.toLowerCase()),t&&(x=Uu(x)),i==="start"?x.startsWith(m):x.includes(m)}):d;return typeof r=="number"?f.slice(0,r):f}}const wv=Qp(),Ku=5,Sv=e=>{var t;return e.current!==null&&((t=e.current.parentElement)==null?void 0:t.contains(document.activeElement))},_v=[];function Ju(e,t,o){if(t||e==null)return"";const r=o(e);return typeof r=="string"?r:""}function Pv(e){const{unstable_isActiveElementInListbox:t=Sv,unstable_classNamePrefix:o="Mui",autoComplete:r=!1,autoHighlight:i=!1,autoSelect:a=!1,blurOnSelect:l=!1,clearOnBlur:d=!e.freeSolo,clearOnEscape:p=!1,componentName:g="useAutocomplete",defaultValue:m=e.multiple?_v:null,disableClearable:f=!1,disableCloseOnSelect:v=!1,disabled:x,disabledItemsFocusable:b=!1,disableListWrap:C=!1,filterOptions:S=wv,filterSelectedOptions:_=!1,freeSolo:P=!1,getOptionDisabled:z,getOptionKey:F,getOptionLabel:G=ce=>ce.label??ce,groupBy:k,handleHomeEndKeys:M=!e.freeSolo,id:E,includeInputInList:$=!1,inputValue:D,isOptionEqualToValue:O=(ce,le)=>ce===le,multiple:H=!1,onChange:B,onClose:I,onHighlightChange:A,onInputChange:j,onOpen:V,open:R,openOnFocus:W=!1,options:Z,readOnly:q=!1,selectOnFocus:ee=!e.freeSolo,value:X}=e,te=fr(E);let Y=G;Y=ce=>{const le=G(ce);return typeof le!="string"?String(le):le};const ne=c.useRef(!1),re=c.useRef(!0),ve=c.useRef(null),_e=c.useRef(null),[be,Ae]=c.useState(null),[Ce,fe]=c.useState(-1),se=i?0:-1,U=c.useRef(se),he=c.useRef(Ju(m??X,H,Y)).current,[Q,ie]=Si({controlled:X,default:m,name:g}),[de,we]=Si({controlled:D,default:he,name:g,state:"inputValue"}),[Re,Pe]=c.useState(!1),ge=c.useCallback((ce,le,De)=>{if(!(H?Q.length<le.length:le!==null)&&!d)return;const Ze=Ju(le,H,Y);de!==Ze&&(we(Ze),j&&j(ce,Ze,De))},[Y,de,H,j,we,d,Q]),[ye,ke]=Si({controlled:R,default:!1,name:g,state:"open"}),[Be,Qe]=c.useState(!0),Je=!H&&Q!=null&&de===Y(Q),qe=ye&&!q,Ke=qe?S(Z.filter(ce=>!(_&&(H?Q:[Q]).some(le=>le!==null&&O(ce,le)))),{inputValue:Je&&Be?"":de,getOptionLabel:Y}):[],St=rc({filteredOptions:Ke,value:Q,inputValue:de});c.useEffect(()=>{const ce=Q!==St.value;Re&&!ce||P&&!ce||ge(null,Q,"reset")},[Q,ge,Re,St.value,P]);const at=ye&&Ke.length>0&&!q,st=Zo(ce=>{ce===-1?ve.current.focus():be.querySelector(`[data-tag-index="${ce}"]`).focus()});c.useEffect(()=>{H&&Ce>Q.length-1&&(fe(-1),st(-1))},[Q,H,Ce,st]);function Jt(ce,le){if(!_e.current||ce<0||ce>=Ke.length)return-1;let De=ce;for(;;){const Ye=_e.current.querySelector(`[data-option-index="${De}"]`),Ze=b?!1:!Ye||Ye.disabled||Ye.getAttribute("aria-disabled")==="true";if(Ye&&Ye.hasAttribute("tabindex")&&!Ze)return De;if(le==="next"?De=(De+1)%Ke.length:De=(De-1+Ke.length)%Ke.length,De===ce)return-1}}const Et=Zo(({event:ce,index:le,reason:De})=>{if(U.current=le,le===-1?ve.current.removeAttribute("aria-activedescendant"):ve.current.setAttribute("aria-activedescendant",`${te}-option-${le}`),A&&["mouse","keyboard","touch"].includes(De)&&A(ce,le===-1?null:Ke[le],De),!_e.current)return;const Ye=_e.current.querySelector(`[role="option"].${o}-focused`);Ye&&(Ye.classList.remove(`${o}-focused`),Ye.classList.remove(`${o}-focusVisible`));let Ze=_e.current;if(_e.current.getAttribute("role")!=="listbox"&&(Ze=_e.current.parentElement.querySelector('[role="listbox"]')),!Ze)return;if(le===-1){Ze.scrollTop=0;return}const He=_e.current.querySelector(`[data-option-index="${le}"]`);if(He&&(He.classList.add(`${o}-focused`),De==="keyboard"&&He.classList.add(`${o}-focusVisible`),Ze.scrollHeight>Ze.clientHeight&&De!=="mouse"&&De!=="touch")){const Fe=He,Ve=Ze.clientHeight+Ze.scrollTop,mn=Fe.offsetTop+Fe.offsetHeight;mn>Ve?Ze.scrollTop=mn-Ze.clientHeight:Fe.offsetTop-Fe.offsetHeight*(k?1.3:0)<Ze.scrollTop&&(Ze.scrollTop=Fe.offsetTop-Fe.offsetHeight*(k?1.3:0))}}),Yt=Zo(({event:ce,diff:le,direction:De="next",reason:Ye})=>{if(!qe)return;const He=Jt((()=>{const Fe=Ke.length-1;if(le==="reset")return se;if(le==="start")return 0;if(le==="end")return Fe;const Ve=U.current+le;return Ve<0?Ve===-1&&$?-1:C&&U.current!==-1||Math.abs(le)>1?0:Fe:Ve>Fe?Ve===Fe+1&&$?-1:C||Math.abs(le)>1?Fe:0:Ve})(),De);if(Et({index:He,reason:Ye,event:ce}),r&&le!=="reset")if(He===-1)ve.current.value=de;else{const Fe=Y(Ke[He]);ve.current.value=Fe,Fe.toLowerCase().indexOf(de.toLowerCase())===0&&de.length>0&&ve.current.setSelectionRange(de.length,Fe.length)}}),hn=()=>{const ce=(le,De)=>{const Ye=le?Y(le):"",Ze=De?Y(De):"";return Ye===Ze};if(U.current!==-1&&St.filteredOptions&&St.filteredOptions.length!==Ke.length&&St.inputValue===de&&(H?Q.length===St.value.length&&St.value.every((le,De)=>Y(Q[De])===Y(le)):ce(St.value,Q))){const le=St.filteredOptions[U.current];if(le)return Ke.findIndex(De=>Y(De)===Y(le))}return-1},on=c.useCallback(()=>{if(!qe)return;const ce=hn();if(ce!==-1){U.current=ce;return}const le=H?Q[0]:Q;if(Ke.length===0||le==null){Yt({diff:"reset"});return}if(_e.current){if(le!=null){const De=Ke[U.current];if(H&&De&&Q.findIndex(Ze=>O(De,Ze))!==-1)return;const Ye=Ke.findIndex(Ze=>O(Ze,le));Ye===-1?Yt({diff:"reset"}):Et({index:Ye});return}if(U.current>=Ke.length-1){Et({index:Ke.length-1});return}Et({index:U.current})}},[Ke.length,H?!1:Q,_,Yt,Et,qe,de,H]),rn=Zo(ce=>{yg(_e,ce),ce&&on()});c.useEffect(()=>{on()},[on]);const qt=ce=>{ye||(ke(!0),Qe(!0),V&&V(ce))},It=(ce,le)=>{ye&&(ke(!1),I&&I(ce,le))},me=(ce,le,De,Ye)=>{if(H){if(Q.length===le.length&&Q.every((Ze,He)=>Ze===le[He]))return}else if(Q===le)return;B&&B(ce,le,De,Ye),ie(le)},Te=c.useRef(!1),vt=(ce,le,De="selectOption",Ye="options")=>{let Ze=De,He=le;if(H){He=Array.isArray(Q)?Q.slice():[];const Fe=He.findIndex(Ve=>O(le,Ve));Fe===-1?He.push(le):Ye!=="freeSolo"&&(He.splice(Fe,1),Ze="removeOption")}ge(ce,He,Ze),me(ce,He,Ze,{option:le}),!v&&(!ce||!ce.ctrlKey&&!ce.metaKey)&&It(ce,Ze),(l===!0||l==="touch"&&Te.current||l==="mouse"&&!Te.current)&&ve.current.blur()};function Ft(ce,le){if(ce===-1)return-1;let De=ce;for(;;){if(le==="next"&&De===Q.length||le==="previous"&&De===-1)return-1;const Ye=be.querySelector(`[data-tag-index="${De}"]`);if(!Ye||!Ye.hasAttribute("tabindex")||Ye.disabled||Ye.getAttribute("aria-disabled")==="true")De+=le==="next"?1:-1;else return De}}const zt=(ce,le)=>{if(!H)return;de===""&&It(ce,"toggleInput");let De=Ce;Ce===-1?de===""&&le==="previous"&&(De=Q.length-1):(De+=le==="next"?1:-1,De<0&&(De=0),De===Q.length&&(De=-1)),De=Ft(De,le),fe(De),st(De)},dt=ce=>{ne.current=!0,we(""),j&&j(ce,"","clear"),me(ce,H?[]:null,"clear")},Tt=ce=>le=>{if(ce.onKeyDown&&ce.onKeyDown(le),!le.defaultMuiPrevented&&(Ce!==-1&&!["ArrowLeft","ArrowRight"].includes(le.key)&&(fe(-1),st(-1)),le.which!==229))switch(le.key){case"Home":qe&&M&&(le.preventDefault(),Yt({diff:"start",direction:"next",reason:"keyboard",event:le}));break;case"End":qe&&M&&(le.preventDefault(),Yt({diff:"end",direction:"previous",reason:"keyboard",event:le}));break;case"PageUp":le.preventDefault(),Yt({diff:-Ku,direction:"previous",reason:"keyboard",event:le}),qt(le);break;case"PageDown":le.preventDefault(),Yt({diff:Ku,direction:"next",reason:"keyboard",event:le}),qt(le);break;case"ArrowDown":le.preventDefault(),Yt({diff:1,direction:"next",reason:"keyboard",event:le}),qt(le);break;case"ArrowUp":le.preventDefault(),Yt({diff:-1,direction:"previous",reason:"keyboard",event:le}),qt(le);break;case"ArrowLeft":zt(le,"previous");break;case"ArrowRight":zt(le,"next");break;case"Enter":if(U.current!==-1&&qe){const De=Ke[U.current],Ye=z?z(De):!1;if(le.preventDefault(),Ye)return;vt(le,De,"selectOption"),r&&ve.current.setSelectionRange(ve.current.value.length,ve.current.value.length)}else P&&de!==""&&Je===!1&&(H&&le.preventDefault(),vt(le,de,"createOption","freeSolo"));break;case"Escape":qe?(le.preventDefault(),le.stopPropagation(),It(le,"escape")):p&&(de!==""||H&&Q.length>0)&&(le.preventDefault(),le.stopPropagation(),dt(le));break;case"Backspace":if(H&&!q&&de===""&&Q.length>0){const De=Ce===-1?Q.length-1:Ce,Ye=Q.slice();Ye.splice(De,1),me(le,Ye,"removeOption",{option:Q[De]})}break;case"Delete":if(H&&!q&&de===""&&Q.length>0&&Ce!==-1){const De=Ce,Ye=Q.slice();Ye.splice(De,1),me(le,Ye,"removeOption",{option:Q[De]})}break}},Me=ce=>{Pe(!0),W&&!ne.current&&qt(ce)},Le=ce=>{if(t(_e)){ve.current.focus();return}Pe(!1),re.current=!0,ne.current=!1,a&&U.current!==-1&&qe?vt(ce,Ke[U.current],"blur"):a&&P&&de!==""?vt(ce,de,"blur","freeSolo"):d&&ge(ce,Q,"blur"),It(ce,"blur")},et=ce=>{const le=ce.target.value;de!==le&&(we(le),Qe(!1),j&&j(ce,le,"input")),le===""?!f&&!H&&me(ce,null,"clear"):qt(ce)},ot=ce=>{const le=Number(ce.currentTarget.getAttribute("data-option-index"));U.current!==le&&Et({event:ce,index:le,reason:"mouse"})},kt=ce=>{Et({event:ce,index:Number(ce.currentTarget.getAttribute("data-option-index")),reason:"touch"}),Te.current=!0},Rt=ce=>{const le=Number(ce.currentTarget.getAttribute("data-option-index"));vt(ce,Ke[le],"selectOption"),Te.current=!1},Ne=ce=>le=>{const De=Q.slice();De.splice(ce,1),me(le,De,"removeOption",{option:Q[ce]})},Cn=ce=>{ye?It(ce,"toggleInput"):qt(ce)},Nn=ce=>{ce.currentTarget.contains(ce.target)&&ce.target.getAttribute("id")!==te&&ce.preventDefault()},pe=ce=>{ce.currentTarget.contains(ce.target)&&(ve.current.focus(),ee&&re.current&&ve.current.selectionEnd-ve.current.selectionStart===0&&ve.current.select(),re.current=!1)},Ie=ce=>{!x&&(de===""||!ye)&&Cn(ce)};let Xe=P&&de.length>0;Xe=Xe||(H?Q.length>0:Q!==null);let tt=Ke;return k&&(tt=Ke.reduce((ce,le,De)=>{const Ye=k(le);return ce.length>0&&ce[ce.length-1].group===Ye?ce[ce.length-1].options.push(le):ce.push({key:De,index:De,group:Ye,options:[le]}),ce},[])),x&&Re&&Le(),{getRootProps:(ce={})=>({...ce,onKeyDown:Tt(ce),onMouseDown:Nn,onClick:pe}),getInputLabelProps:()=>({id:`${te}-label`,htmlFor:te}),getInputProps:()=>({id:te,value:de,onBlur:Le,onFocus:Me,onChange:et,onMouseDown:Ie,"aria-activedescendant":qe?"":null,"aria-autocomplete":r?"both":"list","aria-controls":at?`${te}-listbox`:void 0,"aria-expanded":at,autoComplete:"off",ref:ve,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:x}),getClearProps:()=>({tabIndex:-1,type:"button",onClick:dt}),getPopupIndicatorProps:()=>({tabIndex:-1,type:"button",onClick:Cn}),getTagProps:({index:ce})=>({key:ce,"data-tag-index":ce,tabIndex:-1,...!q&&{onDelete:Ne(ce)}}),getListboxProps:()=>({role:"listbox",id:`${te}-listbox`,"aria-labelledby":`${te}-label`,ref:rn,onMouseDown:ce=>{ce.preventDefault()}}),getOptionProps:({index:ce,option:le})=>{const De=(H?Q:[Q]).some(Ze=>Ze!=null&&O(le,Ze)),Ye=z?z(le):!1;return{key:(F==null?void 0:F(le))??Y(le),tabIndex:-1,role:"option",id:`${te}-option-${ce}`,onMouseMove:ot,onClick:Rt,onTouchStart:kt,"data-option-index":ce,"aria-disabled":Ye,"aria-selected":De}},id:te,inputValue:de,value:Q,dirty:Xe,expanded:qe&&be,popupOpen:qe,focused:Re||Ce!==-1,anchorEl:be,setAnchorEl:Ae,focusedTag:Ce,groupedOptions:tt}}function Iv(e){return Gt("MuiListSubheader",e)}Vt("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const Tv=e=>{const{classes:t,color:o,disableGutters:r,inset:i,disableSticky:a}=e,l={root:["root",o!=="default"&&`color${lt(o)}`,!r&&"gutters",i&&"inset",!a&&"sticky"]};return Zt(l,Iv,t)},kv=Ee("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.color!=="default"&&t[`color${lt(o.color)}`],!o.disableGutters&&t.gutters,o.inset&&t.inset,!o.disableSticky&&t.sticky]}})(Pt(({theme:e})=>({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(e.vars||e).palette.text.secondary,fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(14),variants:[{props:{color:"primary"},style:{color:(e.vars||e).palette.primary.main}},{props:{color:"inherit"},style:{color:"inherit"}},{props:({ownerState:t})=>!t.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:t})=>t.inset,style:{paddingLeft:72}},{props:({ownerState:t})=>!t.disableSticky,style:{position:"sticky",top:0,zIndex:1,backgroundColor:(e.vars||e).palette.background.paper}}]}))),kl=c.forwardRef(function(t,o){const r=Wt({props:t,name:"MuiListSubheader"}),{className:i,color:a="default",component:l="li",disableGutters:d=!1,disableSticky:p=!1,inset:g=!1,...m}=r,f={...r,color:a,component:l,disableGutters:d,disableSticky:p,inset:g},v=Tv(f);return h.jsx(kv,{as:l,className:ze(v.root,i),ref:o,ownerState:f,...m})});kl&&(kl.muiSkipListHighlight=!0);function Mv(e){return Gt("MuiAutocomplete",e)}const mt=Vt("MuiAutocomplete",["root","expanded","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]);var qu,Xu;const Av=e=>{const{classes:t,disablePortal:o,expanded:r,focused:i,fullWidth:a,hasClearIcon:l,hasPopupIcon:d,inputFocused:p,popupOpen:g,size:m}=e,f={root:["root",r&&"expanded",i&&"focused",a&&"fullWidth",l&&"hasClearIcon",d&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",p&&"inputFocused"],tag:["tag",`tagSize${lt(m)}`],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",g&&"popupIndicatorOpen"],popper:["popper",o&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return Zt(f,Mv,t)},Dv=Ee("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e,{fullWidth:r,hasClearIcon:i,hasPopupIcon:a,inputFocused:l,size:d}=o;return[{[`& .${mt.tag}`]:t.tag},{[`& .${mt.tag}`]:t[`tagSize${lt(d)}`]},{[`& .${mt.inputRoot}`]:t.inputRoot},{[`& .${mt.input}`]:t.input},{[`& .${mt.input}`]:l&&t.inputFocused},t.root,r&&t.fullWidth,a&&t.hasPopupIcon,i&&t.hasClearIcon]}})({[`&.${mt.focused} .${mt.clearIndicator}`]:{visibility:"visible"},"@media (pointer: fine)":{[`&:hover .${mt.clearIndicator}`]:{visibility:"visible"}},[`& .${mt.tag}`]:{margin:3,maxWidth:"calc(100% - 6px)"},[`& .${mt.inputRoot}`]:{[`.${mt.hasPopupIcon}&, .${mt.hasClearIcon}&`]:{paddingRight:30},[`.${mt.hasPopupIcon}.${mt.hasClearIcon}&`]:{paddingRight:56},[`& .${mt.input}`]:{width:0,minWidth:30}},[`& .${sl.root}`]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},[`& .${sl.root}.${rr.sizeSmall}`]:{[`& .${sl.input}`]:{padding:"2px 4px 3px 0"}},[`& .${Fu.root}`]:{padding:9,[`.${mt.hasPopupIcon}&, .${mt.hasClearIcon}&`]:{paddingRight:39},[`.${mt.hasPopupIcon}.${mt.hasClearIcon}&`]:{paddingRight:65},[`& .${mt.input}`]:{padding:"7.5px 4px 7.5px 5px"},[`& .${mt.endAdornment}`]:{right:9}},[`& .${Fu.root}.${rr.sizeSmall}`]:{paddingTop:6,paddingBottom:6,paddingLeft:6,[`& .${mt.input}`]:{padding:"2.5px 4px 2.5px 8px"}},[`& .${Ar.root}`]:{paddingTop:19,paddingLeft:8,[`.${mt.hasPopupIcon}&, .${mt.hasClearIcon}&`]:{paddingRight:39},[`.${mt.hasPopupIcon}.${mt.hasClearIcon}&`]:{paddingRight:65},[`& .${Ar.input}`]:{padding:"7px 4px"},[`& .${mt.endAdornment}`]:{right:9}},[`& .${Ar.root}.${rr.sizeSmall}`]:{paddingBottom:1,[`& .${Ar.input}`]:{padding:"2.5px 4px"}},[`& .${rr.hiddenLabel}`]:{paddingTop:8},[`& .${Ar.root}.${rr.hiddenLabel}`]:{paddingTop:0,paddingBottom:0,[`& .${mt.input}`]:{paddingTop:16,paddingBottom:17}},[`& .${Ar.root}.${rr.hiddenLabel}.${rr.sizeSmall}`]:{[`& .${mt.input}`]:{paddingTop:8,paddingBottom:9}},[`& .${mt.input}`]:{flexGrow:1,textOverflow:"ellipsis",opacity:0},variants:[{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{[`& .${mt.tag}`]:{margin:2,maxWidth:"calc(100% - 4px)"}}},{props:{inputFocused:!0},style:{[`& .${mt.input}`]:{opacity:1}}},{props:{multiple:!0},style:{[`& .${mt.inputRoot}`]:{flexWrap:"wrap"}}}]}),Ev=Ee("div",{name:"MuiAutocomplete",slot:"EndAdornment",overridesResolver:(e,t)=>t.endAdornment})({position:"absolute",right:0,top:"50%",transform:"translate(0, -50%)"}),Rv=Ee(pn,{name:"MuiAutocomplete",slot:"ClearIndicator",overridesResolver:(e,t)=>t.clearIndicator})({marginRight:-2,padding:4,visibility:"hidden"}),Lv=Ee(pn,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.popupIndicator,o.popupOpen&&t.popupIndicatorOpen]}})({padding:2,marginRight:-2,variants:[{props:{popupOpen:!0},style:{transform:"rotate(180deg)"}}]}),Fv=Ee(Yr,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[{[`& .${mt.option}`]:t.option},t.popper,o.disablePortal&&t.popperDisablePortal]}})(Pt(({theme:e})=>({zIndex:(e.vars||e).zIndex.modal,variants:[{props:{disablePortal:!0},style:{position:"absolute"}}]}))),Ov=Ee(Nt,{name:"MuiAutocomplete",slot:"Paper",overridesResolver:(e,t)=>t.paper})(Pt(({theme:e})=>({...e.typography.body1,overflow:"auto"}))),Nv=Ee("div",{name:"MuiAutocomplete",slot:"Loading",overridesResolver:(e,t)=>t.loading})(Pt(({theme:e})=>({color:(e.vars||e).palette.text.secondary,padding:"14px 16px"}))),zv=Ee("div",{name:"MuiAutocomplete",slot:"NoOptions",overridesResolver:(e,t)=>t.noOptions})(Pt(({theme:e})=>({color:(e.vars||e).palette.text.secondary,padding:"14px 16px"}))),$v=Ee("ul",{name:"MuiAutocomplete",slot:"Listbox",overridesResolver:(e,t)=>t.listbox})(Pt(({theme:e})=>({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",[`& .${mt.option}`]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[e.breakpoints.up("sm")]:{minHeight:"auto"},[`&.${mt.focused}`]:{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${mt.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Se(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${mt.focused}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Se(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(e.vars||e).palette.action.selected}},[`&.${mt.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Se(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}}}}))),Bv=Ee(kl,{name:"MuiAutocomplete",slot:"GroupLabel",overridesResolver:(e,t)=>t.groupLabel})(Pt(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,top:-8}))),jv=Ee("ul",{name:"MuiAutocomplete",slot:"GroupUl",overridesResolver:(e,t)=>t.groupUl})({padding:0,[`& .${mt.option}`]:{paddingLeft:24}}),js=c.forwardRef(function(t,o){const r=Wt({props:t,name:"MuiAutocomplete"}),{autoComplete:i=!1,autoHighlight:a=!1,autoSelect:l=!1,blurOnSelect:d=!1,ChipProps:p,className:g,clearIcon:m=qu||(qu=h.jsx(bg,{fontSize:"small"})),clearOnBlur:f=!r.freeSolo,clearOnEscape:v=!1,clearText:x="Clear",closeText:b="Close",componentsProps:C,defaultValue:S=r.multiple?[]:null,disableClearable:_=!1,disableCloseOnSelect:P=!1,disabled:z=!1,disabledItemsFocusable:F=!1,disableListWrap:G=!1,disablePortal:k=!1,filterOptions:M,filterSelectedOptions:E=!1,forcePopupIcon:$="auto",freeSolo:D=!1,fullWidth:O=!1,getLimitTagsText:H=yt=>`+${yt}`,getOptionDisabled:B,getOptionKey:I,getOptionLabel:A,isOptionEqualToValue:j,groupBy:V,handleHomeEndKeys:R=!r.freeSolo,id:W,includeInputInList:Z=!1,inputValue:q,limitTags:ee=-1,ListboxComponent:X,ListboxProps:te,loading:Y=!1,loadingText:ne="Loadingâ€¦",multiple:re=!1,noOptionsText:ve="No options",onChange:_e,onClose:be,onHighlightChange:Ae,onInputChange:Ce,onOpen:fe,open:se,openOnFocus:U=!1,openText:he="Open",options:Q,PaperComponent:ie,PopperComponent:de,popupIcon:we=Xu||(Xu=h.jsx(xg,{})),readOnly:Re=!1,renderGroup:Pe,renderInput:ge,renderOption:ye,renderTags:ke,selectOnFocus:Be=!r.freeSolo,size:Qe="medium",slots:Je={},slotProps:qe={},value:Ke,...St}=r,{getRootProps:at,getInputProps:st,getInputLabelProps:Jt,getPopupIndicatorProps:Et,getClearProps:Yt,getTagProps:hn,getListboxProps:on,getOptionProps:rn,value:qt,dirty:It,expanded:me,id:Te,popupOpen:vt,focused:Ft,focusedTag:zt,anchorEl:dt,setAnchorEl:Tt,inputValue:Me,groupedOptions:Le}=Pv({...r,componentName:"Autocomplete"}),et=!_&&!z&&It&&!Re,ot=(!D||$===!0)&&$!==!1,{onMouseDown:kt}=st(),{ref:Rt,...Ne}=on(),Nn=A||(yt=>yt.label??yt),pe={...r,disablePortal:k,expanded:me,focused:Ft,fullWidth:O,getOptionLabel:Nn,hasClearIcon:et,hasPopupIcon:ot,inputFocused:zt===-1,popupOpen:vt,size:Qe},Ie=Av(pe),Xe={slots:{paper:ie,popper:de,...Je},slotProps:{chip:p,listbox:te,...C,...qe}},[tt,ce]=_t("listbox",{elementType:$v,externalForwardedProps:Xe,ownerState:pe,className:Ie.listbox,additionalProps:Ne,ref:Rt}),[le,De]=_t("paper",{elementType:Nt,externalForwardedProps:Xe,ownerState:pe,className:Ie.paper}),[Ye,Ze]=_t("popper",{elementType:Yr,externalForwardedProps:Xe,ownerState:pe,className:Ie.popper,additionalProps:{disablePortal:k,style:{width:dt?dt.clientWidth:null},role:"presentation",anchorEl:dt,open:vt}});let He;if(re&&qt.length>0){const yt=fn=>({className:Ie.tag,disabled:z,...hn(fn)});ke?He=ke(qt,yt,pe):He=qt.map((fn,wn)=>{const{key:eo,...Ys}=yt({index:wn});return h.jsx(Fi,{label:Nn(fn),size:Qe,...Ys,...Xe.slotProps.chip},eo)})}if(ee>-1&&Array.isArray(He)){const yt=He.length-ee;!Ft&&yt>0&&(He=He.splice(0,ee),He.push(h.jsx("span",{className:Ie.tag,children:H(yt)},He.length)))}const Ve=Pe||(yt=>h.jsxs("li",{children:[h.jsx(Bv,{className:Ie.groupLabel,ownerState:pe,component:"div",children:yt.group}),h.jsx(jv,{className:Ie.groupUl,ownerState:pe,children:yt.children})]},yt.key)),wo=ye||((yt,fn)=>{const{key:wn,...eo}=yt;return h.jsx("li",{...eo,children:Nn(fn)},wn)}),Yn=(yt,fn)=>{const wn=rn({option:yt,index:fn});return wo({...wn,className:Ie.option},yt,{selected:wn["aria-selected"],index:fn,inputValue:Me},pe)},zn=Xe.slotProps.clearIndicator,Qn=Xe.slotProps.popupIndicator;return h.jsxs(c.Fragment,{children:[h.jsx(Dv,{ref:o,className:ze(Ie.root,g),ownerState:pe,...at(St),children:ge({id:Te,disabled:z,fullWidth:!0,size:Qe==="small"?"small":void 0,InputLabelProps:Jt(),InputProps:{ref:Tt,className:Ie.inputRoot,startAdornment:He,onMouseDown:yt=>{yt.target===yt.currentTarget&&kt(yt)},...(et||ot)&&{endAdornment:h.jsxs(Ev,{className:Ie.endAdornment,ownerState:pe,children:[et?h.jsx(Rv,{...Yt(),"aria-label":x,title:x,ownerState:pe,...zn,className:ze(Ie.clearIndicator,zn==null?void 0:zn.className),children:m}):null,ot?h.jsx(Lv,{...Et(),disabled:z,"aria-label":vt?b:he,title:vt?b:he,ownerState:pe,...Qn,className:ze(Ie.popupIndicator,Qn==null?void 0:Qn.className),children:we}):null]})}},inputProps:{className:Ie.input,disabled:z,readOnly:Re,...st()}})}),dt?h.jsx(Fv,{as:Ye,...Ze,children:h.jsxs(Ov,{as:le,...De,children:[Y&&Le.length===0?h.jsx(Nv,{className:Ie.loading,ownerState:pe,children:ne}):null,Le.length===0&&!D&&!Y?h.jsx(zv,{className:Ie.noOptions,ownerState:pe,role:"presentation",onMouseDown:yt=>{yt.preventDefault()},children:ve}):null,Le.length>0?h.jsx(tt,{as:X,...ce,children:Le.map((yt,fn)=>V?Ve({key:yt.key,group:yt.group,children:yt.options.map((wn,eo)=>Yn(wn,yt.index+eo))}):Yn(yt,fn))}):null]})}):null]})}),Hv=it(h.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function Gv(e){return Gt("MuiAvatar",e)}Vt("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const Vv=e=>{const{classes:t,variant:o,colorDefault:r}=e;return Zt({root:["root",o,r&&"colorDefault"],img:["img"],fallback:["fallback"]},Gv,t)},Wv=Ee("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,t[o.variant],o.colorDefault&&t.colorDefault]}})(Pt(({theme:e})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(e.vars||e).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:{color:(e.vars||e).palette.background.default,...e.vars?{backgroundColor:e.vars.palette.Avatar.defaultBg}:{backgroundColor:e.palette.grey[400],...e.applyStyles("dark",{backgroundColor:e.palette.grey[600]})}}}]}))),Zv=Ee("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(e,t)=>t.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),Uv=Ee(Hv,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(e,t)=>t.fallback})({width:"75%",height:"75%"});function Kv({crossOrigin:e,referrerPolicy:t,src:o,srcSet:r}){const[i,a]=c.useState(!1);return c.useEffect(()=>{if(!o&&!r)return;a(!1);let l=!0;const d=new Image;return d.onload=()=>{l&&a("loaded")},d.onerror=()=>{l&&a("error")},d.crossOrigin=e,d.referrerPolicy=t,d.src=o,r&&(d.srcset=r),()=>{l=!1}},[e,t,o,r]),i}const Jv=c.forwardRef(function(t,o){const r=Wt({props:t,name:"MuiAvatar"}),{alt:i,children:a,className:l,component:d="div",slots:p={},slotProps:g={},imgProps:m,sizes:f,src:v,srcSet:x,variant:b="circular",...C}=r;let S=null;const _={...r,component:d,variant:b},P=Kv({...m,...typeof g.img=="function"?g.img(_):g.img,src:v,srcSet:x}),z=v||x,F=z&&P!=="error";_.colorDefault=!F,delete _.ownerState;const G=Vv(_),[k,M]=_t("img",{className:G.img,elementType:Zv,externalForwardedProps:{slots:p,slotProps:{img:{...m,...g.img}}},additionalProps:{alt:i,src:v,srcSet:x,sizes:f},ownerState:_});return F?S=h.jsx(k,{...M}):a||a===0?S=a:z&&i?S=i[0]:S=h.jsx(Uv,{ownerState:_,className:G.fallback}),h.jsx(Wv,{as:d,className:ze(G.root,l),ref:o,...C,ownerState:_,children:S})});function qv(e){const{badgeContent:t,invisible:o=!1,max:r=99,showZero:i=!1}=e,a=rc({badgeContent:t,max:r});let l=o;o===!1&&t===0&&!i&&(l=!0);const{badgeContent:d,max:p=r}=l?a:e,g=d&&Number(d)>p?`${p}+`:d;return{badgeContent:d,invisible:l,max:p,displayValue:g}}function Xv(e){return Gt("MuiBadge",e)}const No=Vt("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),ul=10,dl=4,Yv=e=>{const{color:t,anchorOrigin:o,invisible:r,overlap:i,variant:a,classes:l={}}=e,d={root:["root"],badge:["badge",a,r&&"invisible",`anchorOrigin${lt(o.vertical)}${lt(o.horizontal)}`,`anchorOrigin${lt(o.vertical)}${lt(o.horizontal)}${lt(i)}`,`overlap${lt(i)}`,t!=="default"&&`color${lt(t)}`]};return Zt(d,Xv,l)},Qv=Ee("span",{name:"MuiBadge",slot:"Root",overridesResolver:(e,t)=>t.root})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),ey=Ee("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.badge,t[o.variant],t[`anchorOrigin${lt(o.anchorOrigin.vertical)}${lt(o.anchorOrigin.horizontal)}${lt(o.overlap)}`],o.color!=="default"&&t[`color${lt(o.color)}`],o.invisible&&t.invisible]}})(Pt(({theme:e})=>({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(12),minWidth:ul*2,lineHeight:1,padding:"0 6px",height:ul*2,borderRadius:ul,zIndex:1,transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.enteringScreen}),variants:[...Object.entries(e.palette).filter(As(["contrastText"])).map(([t])=>({props:{color:t},style:{backgroundColor:(e.vars||e).palette[t].main,color:(e.vars||e).palette[t].contrastText}})),{props:{variant:"dot"},style:{borderRadius:dl,height:dl*2,minWidth:dl*2,padding:0}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="rectangular",style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${No.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="rectangular",style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${No.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="rectangular",style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${No.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="rectangular",style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${No.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="circular",style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${No.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="circular",style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${No.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="circular",style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${No.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="circular",style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${No.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.leavingScreen})}}]})));function Yu(e){return{vertical:(e==null?void 0:e.vertical)??"top",horizontal:(e==null?void 0:e.horizontal)??"right"}}const lc=c.forwardRef(function(t,o){const r=Wt({props:t,name:"MuiBadge"}),{anchorOrigin:i,className:a,classes:l,component:d,components:p={},componentsProps:g={},children:m,overlap:f="rectangular",color:v="default",invisible:x=!1,max:b=99,badgeContent:C,slots:S,slotProps:_,showZero:P=!1,variant:z="standard",...F}=r,{badgeContent:G,invisible:k,max:M,displayValue:E}=qv({max:b,invisible:x,badgeContent:C,showZero:P}),$=rc({anchorOrigin:Yu(i),color:v,overlap:f,variant:z,badgeContent:C}),D=k||G==null&&z!=="dot",{color:O=v,overlap:H=f,anchorOrigin:B,variant:I=z}=D?$:r,A=Yu(B),j=I!=="dot"?E:void 0,V={...r,badgeContent:G,invisible:D,max:M,displayValue:j,showZero:P,anchorOrigin:A,color:O,overlap:H,variant:I},R=Yv(V),W={slots:{root:(S==null?void 0:S.root)??p.Root,badge:(S==null?void 0:S.badge)??p.Badge},slotProps:{root:(_==null?void 0:_.root)??g.root,badge:(_==null?void 0:_.badge)??g.badge}},[Z,q]=_t("root",{elementType:Qv,externalForwardedProps:{...W,...F},ownerState:V,className:ze(R.root,a),ref:o,additionalProps:{as:d}}),[ee,X]=_t("badge",{elementType:ey,externalForwardedProps:W,ownerState:V,className:R.badge});return h.jsxs(Z,{...q,children:[m,h.jsx(ee,{...X,children:j})]})});function ty(e){return Gt("MuiCardActionArea",e)}const pl=Vt("MuiCardActionArea",["root","focusVisible","focusHighlight"]),ny=e=>{const{classes:t}=e;return Zt({root:["root"],focusHighlight:["focusHighlight"]},ty,t)},oy=Ee(zs,{name:"MuiCardActionArea",slot:"Root",overridesResolver:(e,t)=>t.root})(Pt(({theme:e})=>({display:"block",textAlign:"inherit",borderRadius:"inherit",width:"100%",[`&:hover .${pl.focusHighlight}`]:{opacity:(e.vars||e).palette.action.hoverOpacity,"@media (hover: none)":{opacity:0}},[`&.${pl.focusVisible} .${pl.focusHighlight}`]:{opacity:(e.vars||e).palette.action.focusOpacity}}))),ry=Ee("span",{name:"MuiCardActionArea",slot:"FocusHighlight",overridesResolver:(e,t)=>t.focusHighlight})(Pt(({theme:e})=>({overflow:"hidden",pointerEvents:"none",position:"absolute",top:0,right:0,bottom:0,left:0,borderRadius:"inherit",opacity:0,backgroundColor:"currentcolor",transition:e.transitions.create("opacity",{duration:e.transitions.duration.short})}))),sy=c.forwardRef(function(t,o){const r=Wt({props:t,name:"MuiCardActionArea"}),{children:i,className:a,focusVisibleClassName:l,slots:d={},slotProps:p={},...g}=r,m=r,f=ny(m),v={slots:d,slotProps:p},[x,b]=_t("root",{elementType:oy,externalForwardedProps:{...v,...g},shouldForwardComponentProp:!0,ownerState:m,ref:o,className:ze(f.root,a),additionalProps:{focusVisibleClassName:ze(l,f.focusVisible)}}),[C,S]=_t("focusHighlight",{elementType:ry,externalForwardedProps:v,ownerState:m,ref:o,className:f.focusHighlight});return h.jsxs(x,{...b,children:[i,h.jsx(C,{...S})]})});function iy(e){return Gt("MuiCardActions",e)}Vt("MuiCardActions",["root","spacing"]);const ay=e=>{const{classes:t,disableSpacing:o}=e;return Zt({root:["root",!o&&"spacing"]},iy,t)},ly=Ee("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,!o.disableSpacing&&t.spacing]}})({display:"flex",alignItems:"center",padding:8,variants:[{props:{disableSpacing:!1},style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),cy=c.forwardRef(function(t,o){const r=Wt({props:t,name:"MuiCardActions"}),{disableSpacing:i=!1,className:a,...l}=r,d={...r,disableSpacing:i},p=ay(d);return h.jsx(ly,{className:ze(p.root,a),ownerState:d,ref:o,...l})});function uy(e){return Gt("PrivateSwitchBase",e)}Vt("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const dy=e=>{const{classes:t,checked:o,disabled:r,edge:i}=e,a={root:["root",o&&"checked",r&&"disabled",i&&`edge${lt(i)}`],input:["input"]};return Zt(a,uy,t)},py=Ee(zs,{name:"MuiSwitchBase"})({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:e,ownerState:t})=>e==="start"&&t.size!=="small",style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:e,ownerState:t})=>e==="end"&&t.size!=="small",style:{marginRight:-12}}]}),hy=Ee("input",{name:"MuiSwitchBase",shouldForwardProp:sa})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),eh=c.forwardRef(function(t,o){const{autoFocus:r,checked:i,checkedIcon:a,defaultChecked:l,disabled:d,disableFocusRipple:p=!1,edge:g=!1,icon:m,id:f,inputProps:v,inputRef:x,name:b,onBlur:C,onChange:S,onFocus:_,readOnly:P,required:z=!1,tabIndex:F,type:G,value:k,slots:M={},slotProps:E={},...$}=t,[D,O]=Si({controlled:i,default:!!l,name:"SwitchBase",state:"checked"}),H=Pp(),B=Y=>{_&&_(Y),H&&H.onFocus&&H.onFocus(Y)},I=Y=>{C&&C(Y),H&&H.onBlur&&H.onBlur(Y)},A=Y=>{if(Y.nativeEvent.defaultPrevented)return;const ne=Y.target.checked;O(ne),S&&S(Y,ne)};let j=d;H&&typeof j>"u"&&(j=H.disabled);const V=G==="checkbox"||G==="radio",R={...t,checked:D,disabled:j,disableFocusRipple:p,edge:g},W=dy(R),Z={slots:M,slotProps:{input:v,...E}},[q,ee]=_t("root",{ref:o,elementType:py,className:W.root,shouldForwardComponentProp:!0,externalForwardedProps:{...Z,component:"span",...$},getSlotProps:Y=>({...Y,onFocus:ne=>{var re;(re=Y.onFocus)==null||re.call(Y,ne),B(ne)},onBlur:ne=>{var re;(re=Y.onBlur)==null||re.call(Y,ne),I(ne)}}),ownerState:R,additionalProps:{centerRipple:!0,focusRipple:!p,disabled:j,role:void 0,tabIndex:null}}),[X,te]=_t("input",{ref:x,elementType:hy,className:W.input,externalForwardedProps:Z,getSlotProps:Y=>({onChange:ne=>{var re;(re=Y.onChange)==null||re.call(Y,ne),A(ne)}}),ownerState:R,additionalProps:{autoFocus:r,checked:i,defaultChecked:l,disabled:j,id:V?f:void 0,name:b,readOnly:P,required:z,tabIndex:F,type:G,...G==="checkbox"&&k===void 0?{}:{value:k}}});return h.jsxs(q,{...ee,children:[h.jsx(X,{...te}),D?a:m]})}),my=it(h.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),fy=it(h.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),gy=it(h.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function vy(e){return Gt("MuiCheckbox",e)}const hl=Vt("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),yy=e=>{const{classes:t,indeterminate:o,color:r,size:i}=e,a={root:["root",o&&"indeterminate",`color${lt(r)}`,`size${lt(i)}`]},l=Zt(a,vy,t);return{...t,...l}},by=Ee(eh,{shouldForwardProp:e=>sa(e)||e==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.indeterminate&&t.indeterminate,t[`size${lt(o.size)}`],o.color!=="default"&&t[`color${lt(o.color)}`]]}})(Pt(({theme:e})=>({color:(e.vars||e).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Se(e.palette.action.active,e.palette.action.hoverOpacity)}}},...Object.entries(e.palette).filter(As()).map(([t])=>({props:{color:t,disableRipple:!1},style:{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Se(e.palette[t].main,e.palette.action.hoverOpacity)}}})),...Object.entries(e.palette).filter(As()).map(([t])=>({props:{color:t},style:{[`&.${hl.checked}, &.${hl.indeterminate}`]:{color:(e.vars||e).palette[t].main},[`&.${hl.disabled}`]:{color:(e.vars||e).palette.action.disabled}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}))),xy=h.jsx(fy,{}),Cy=h.jsx(my,{}),wy=h.jsx(gy,{}),Ml=c.forwardRef(function(t,o){const r=Wt({props:t,name:"MuiCheckbox"}),{checkedIcon:i=xy,color:a="primary",icon:l=Cy,indeterminate:d=!1,indeterminateIcon:p=wy,inputProps:g,size:m="medium",disableRipple:f=!1,className:v,slots:x={},slotProps:b={},...C}=r,S=d?p:l,_=d?p:i,P={...r,disableRipple:f,color:a,indeterminate:d,size:m},z=yy(P),F=b.input??g,[G,k]=_t("root",{ref:o,elementType:by,className:ze(z.root,v),shouldForwardComponentProp:!0,externalForwardedProps:{slots:x,slotProps:b,...C},ownerState:P,additionalProps:{type:"checkbox",icon:c.cloneElement(S,{fontSize:S.props.fontSize??m}),checkedIcon:c.cloneElement(_,{fontSize:_.props.fontSize??m}),disableRipple:f,slots:x,slotProps:{input:Ip(typeof F=="function"?F(P):F,{"data-indeterminate":d})}}});return h.jsx(G,{...k,classes:z})});function Qu(e){return e.substring(2).toLowerCase()}function Sy(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}function cc(e){const{children:t,disableReactTree:o=!1,mouseEvent:r="onClick",onClickAway:i,touchEvent:a="onTouchEnd"}=e,l=c.useRef(!1),d=c.useRef(null),p=c.useRef(!1),g=c.useRef(!1);c.useEffect(()=>(setTimeout(()=>{p.current=!0},0),()=>{p.current=!1}),[]);const m=ia(Tp(t),d),f=Zo(b=>{const C=g.current;g.current=!1;const S=_i(d.current);if(!p.current||!d.current||"clientX"in b&&Sy(b,S))return;if(l.current){l.current=!1;return}let _;b.composedPath?_=b.composedPath().includes(d.current):_=!S.documentElement.contains(b.target)||d.current.contains(b.target),!_&&(o||!C)&&i(b)}),v=b=>C=>{g.current=!0;const S=t.props[b];S&&S(C)},x={ref:m};return a!==!1&&(x[a]=v(a)),c.useEffect(()=>{if(a!==!1){const b=Qu(a),C=_i(d.current),S=()=>{l.current=!0};return C.addEventListener(b,f),C.addEventListener("touchmove",S),()=>{C.removeEventListener(b,f),C.removeEventListener("touchmove",S)}}},[f,a]),r!==!1&&(x[r]=v(r)),c.useEffect(()=>{if(r!==!1){const b=Qu(r),C=_i(d.current);return C.addEventListener(b,f),()=>{C.removeEventListener(b,f)}}},[f,r]),c.cloneElement(t,x)}const Al=typeof kp({})=="function",_y=(e,t)=>({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%",...t&&!e.vars&&{colorScheme:e.palette.mode}}),Py=e=>({color:(e.vars||e).palette.text.primary,...e.typography.body1,backgroundColor:(e.vars||e).palette.background.default,"@media print":{backgroundColor:(e.vars||e).palette.common.white}}),th=(e,t=!1)=>{var a,l;const o={};t&&e.colorSchemes&&typeof e.getColorSchemeSelector=="function"&&Object.entries(e.colorSchemes).forEach(([d,p])=>{var m,f;const g=e.getColorSchemeSelector(d);g.startsWith("@")?o[g]={":root":{colorScheme:(m=p.palette)==null?void 0:m.mode}}:o[g.replace(/\s*&/,"")]={colorScheme:(f=p.palette)==null?void 0:f.mode}});let r={html:_y(e,t),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:{margin:0,...Py(e),"&::backdrop":{backgroundColor:(e.vars||e).palette.background.default}},...o};const i=(l=(a=e.components)==null?void 0:a.MuiCssBaseline)==null?void 0:l.styleOverrides;return i&&(r=[r,i]),r},Ii="mui-ecs",Iy=e=>{const t=th(e,!1),o=Array.isArray(t)?t[0]:t;return!e.vars&&o&&(o.html[`:root:has(${Ii})`]={colorScheme:e.palette.mode}),e.colorSchemes&&Object.entries(e.colorSchemes).forEach(([r,i])=>{var l,d;const a=e.getColorSchemeSelector(r);a.startsWith("@")?o[a]={[`:root:not(:has(.${Ii}))`]:{colorScheme:(l=i.palette)==null?void 0:l.mode}}:o[a.replace(/\s*&/,"")]={[`&:not(:has(.${Ii}))`]:{colorScheme:(d=i.palette)==null?void 0:d.mode}}}),t},Ty=kp(Al?({theme:e,enableColorScheme:t})=>th(e,t):({theme:e})=>Iy(e));function ky(e){const t=Wt({props:e,name:"MuiCssBaseline"}),{children:o,enableColorScheme:r=!1}=t;return h.jsxs(c.Fragment,{children:[Al&&h.jsx(Ty,{enableColorScheme:r}),!Al&&!r&&h.jsx("span",{className:Ii,style:{display:"none"}}),o]})}function My(e){return Gt("MuiDialog",e)}const ml=Vt("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),nh=c.createContext({}),Ay=Ee(Cg,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),Dy=e=>{const{classes:t,scroll:o,maxWidth:r,fullWidth:i,fullScreen:a}=e,l={root:["root"],container:["container",`scroll${lt(o)}`],paper:["paper",`paperScroll${lt(o)}`,`paperWidth${lt(String(r))}`,i&&"paperFullWidth",a&&"paperFullScreen"]};return Zt(l,My,t)},Ey=Ee(Mp,{name:"MuiDialog",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),Ry=Ee("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.container,t[`scroll${lt(o.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),Ly=Ee(Nt,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.paper,t[`scrollPaper${lt(o.scroll)}`],t[`paperWidth${lt(String(o.maxWidth))}`],o.fullWidth&&t.paperFullWidth,o.fullScreen&&t.paperFullScreen]}})(Pt(({theme:e})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:t})=>!t.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:e.breakpoints.unit==="px"?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${ml.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(e.breakpoints.values).filter(t=>t!=="xs").map(t=>({props:{maxWidth:t},style:{maxWidth:`${e.breakpoints.values[t]}${e.breakpoints.unit}`,[`&.${ml.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[t]+32*2)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:t})=>t.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:t})=>t.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${ml.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),Fy=c.forwardRef(function(t,o){const r=Wt({props:t,name:"MuiDialog"}),i=Bt(),a={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":l,"aria-labelledby":d,"aria-modal":p=!0,BackdropComponent:g,BackdropProps:m,children:f,className:v,disableEscapeKeyDown:x=!1,fullScreen:b=!1,fullWidth:C=!1,maxWidth:S="sm",onBackdropClick:_,onClick:P,onClose:z,open:F,PaperComponent:G=Nt,PaperProps:k={},scroll:M="paper",slots:E={},slotProps:$={},TransitionComponent:D=Oi,transitionDuration:O=a,TransitionProps:H,...B}=r,I={...r,disableEscapeKeyDown:x,fullScreen:b,fullWidth:C,maxWidth:S,scroll:M},A=Dy(I),j=c.useRef(),V=se=>{j.current=se.target===se.currentTarget},R=se=>{P&&P(se),j.current&&(j.current=null,_&&_(se),z&&z(se,"backdropClick"))},W=fr(d),Z=c.useMemo(()=>({titleId:W}),[W]),q={transition:D,...E},ee={transition:H,paper:k,backdrop:m,...$},X={slots:q,slotProps:ee},[te,Y]=_t("root",{elementType:Ey,shouldForwardComponentProp:!0,externalForwardedProps:X,ownerState:I,className:ze(A.root,v),ref:o}),[ne,re]=_t("backdrop",{elementType:Ay,shouldForwardComponentProp:!0,externalForwardedProps:X,ownerState:I}),[ve,_e]=_t("paper",{elementType:Ly,shouldForwardComponentProp:!0,externalForwardedProps:X,ownerState:I,className:ze(A.paper,k.className)}),[be,Ae]=_t("container",{elementType:Ry,externalForwardedProps:X,ownerState:I,className:ze(A.container)}),[Ce,fe]=_t("transition",{elementType:Oi,externalForwardedProps:X,ownerState:I,additionalProps:{appear:!0,in:F,timeout:O,role:"presentation"}});return h.jsx(te,{closeAfterTransition:!0,slots:{backdrop:ne},slotProps:{backdrop:{transitionDuration:O,as:g,...re}},disableEscapeKeyDown:x,onClose:z,open:F,onClick:R,...Y,...B,children:h.jsx(Ce,{...fe,children:h.jsx(be,{onMouseDown:V,...Ae,children:h.jsx(ve,{as:G,elevation:24,role:"dialog","aria-describedby":l,"aria-labelledby":W,"aria-modal":p,..._e,children:h.jsx(nh.Provider,{value:Z,children:f})})})})})});function Oy(e){return Gt("MuiDialogContent",e)}Vt("MuiDialogContent",["root","dividers"]);function Ny(e){return Gt("MuiDialogTitle",e)}const zy=Vt("MuiDialogTitle",["root"]),$y=e=>{const{classes:t,dividers:o}=e;return Zt({root:["root",o&&"dividers"]},Oy,t)},By=Ee("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.dividers&&t.dividers]}})(Pt(({theme:e})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:t})=>t.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:t})=>!t.dividers,style:{[`.${zy.root} + &`]:{paddingTop:0}}}]}))),jy=c.forwardRef(function(t,o){const r=Wt({props:t,name:"MuiDialogContent"}),{className:i,dividers:a=!1,...l}=r,d={...r,dividers:a},p=$y(d);return h.jsx(By,{className:ze(p.root,i),ownerState:d,ref:o,...l})}),Hy=e=>{const{classes:t}=e;return Zt({root:["root"]},Ny,t)},Gy=Ee(rt,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),Vy=c.forwardRef(function(t,o){const r=Wt({props:t,name:"MuiDialogTitle"}),{className:i,id:a,...l}=r,d=r,p=Hy(d),{titleId:g=a}=c.useContext(nh);return h.jsx(Gy,{component:"h2",className:ze(p.root,i),ownerState:d,ref:o,variant:"h6",id:a??g,...l})});function Wy(e){return Gt("MuiDivider",e)}const ed=Vt("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),Zy=e=>{const{absolute:t,children:o,classes:r,flexItem:i,light:a,orientation:l,textAlign:d,variant:p}=e;return Zt({root:["root",t&&"absolute",p,a&&"light",l==="vertical"&&"vertical",i&&"flexItem",o&&"withChildren",o&&l==="vertical"&&"withChildrenVertical",d==="right"&&l!=="vertical"&&"textAlignRight",d==="left"&&l!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",l==="vertical"&&"wrapperVertical"]},Wy,r)},Uy=Ee("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.absolute&&t.absolute,t[o.variant],o.light&&t.light,o.orientation==="vertical"&&t.vertical,o.flexItem&&t.flexItem,o.children&&t.withChildren,o.children&&o.orientation==="vertical"&&t.withChildrenVertical,o.textAlign==="right"&&o.orientation!=="vertical"&&t.textAlignRight,o.textAlign==="left"&&o.orientation!=="vertical"&&t.textAlignLeft]}})(Pt(({theme:e})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(e.vars||e).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:e.vars?`rgba(${e.vars.palette.dividerChannel} / 0.08)`:Se(e.palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:e.spacing(2),marginRight:e.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:e.spacing(1),marginBottom:e.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:t})=>!!t.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:t})=>t.children&&t.orientation!=="vertical",style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(e.vars||e).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:t})=>t.orientation==="vertical"&&t.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(e.vars||e).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:t})=>t.textAlign==="right"&&t.orientation!=="vertical",style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:t})=>t.textAlign==="left"&&t.orientation!=="vertical",style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),Ky=Ee("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.wrapper,o.orientation==="vertical"&&t.wrapperVertical]}})(Pt(({theme:e})=>({display:"inline-block",paddingLeft:`calc(${e.spacing(1)} * 1.2)`,paddingRight:`calc(${e.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${e.spacing(1)} * 1.2)`,paddingBottom:`calc(${e.spacing(1)} * 1.2)`}}]}))),Ko=c.forwardRef(function(t,o){const r=Wt({props:t,name:"MuiDivider"}),{absolute:i=!1,children:a,className:l,orientation:d="horizontal",component:p=a||d==="vertical"?"div":"hr",flexItem:g=!1,light:m=!1,role:f=p!=="hr"?"separator":void 0,textAlign:v="center",variant:x="fullWidth",...b}=r,C={...r,absolute:i,component:p,flexItem:g,light:m,orientation:d,role:f,textAlign:v,variant:x},S=Zy(C);return h.jsx(Uy,{as:p,className:ze(S.root,l),role:f,ref:o,ownerState:C,"aria-orientation":f==="separator"&&(p!=="hr"||d==="vertical")?d:void 0,...b,children:a?h.jsx(Ky,{className:S.wrapper,ownerState:C,children:a}):null})});Ko&&(Ko.muiSkipListHighlight=!0);function Jy(e,t,o){const r=t.getBoundingClientRect(),i=o&&o.getBoundingClientRect(),a=aa(t);let l;if(t.fakeTransform)l=t.fakeTransform;else{const g=a.getComputedStyle(t);l=g.getPropertyValue("-webkit-transform")||g.getPropertyValue("transform")}let d=0,p=0;if(l&&l!=="none"&&typeof l=="string"){const g=l.split("(")[1].split(")")[0].split(",");d=parseInt(g[4],10),p=parseInt(g[5],10)}return e==="left"?i?`translateX(${i.right+d-r.left}px)`:`translateX(${a.innerWidth+d-r.left}px)`:e==="right"?i?`translateX(-${r.right-i.left-d}px)`:`translateX(-${r.left+r.width-d}px)`:e==="up"?i?`translateY(${i.bottom+p-r.top}px)`:`translateY(${a.innerHeight+p-r.top}px)`:i?`translateY(-${r.top-i.top+r.height-p}px)`:`translateY(-${r.top+r.height-p}px)`}function qy(e){return typeof e=="function"?e():e}function vi(e,t,o){const r=qy(o),i=Jy(e,t,r);i&&(t.style.webkitTransform=i,t.style.transform=i)}const Xy=c.forwardRef(function(t,o){const r=Bt(),i={enter:r.transitions.easing.easeOut,exit:r.transitions.easing.sharp},a={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:l,appear:d=!0,children:p,container:g,direction:m="down",easing:f=i,in:v,onEnter:x,onEntered:b,onEntering:C,onExit:S,onExited:_,onExiting:P,style:z,timeout:F=a,TransitionComponent:G=wg,...k}=t,M=c.useRef(null),E=ia(Tp(p),M,o),$=R=>W=>{R&&(W===void 0?R(M.current):R(M.current,W))},D=$((R,W)=>{vi(m,R,g),Sg(R),x&&x(R,W)}),O=$((R,W)=>{const Z=Ou({timeout:F,style:z,easing:f},{mode:"enter"});R.style.webkitTransition=r.transitions.create("-webkit-transform",{...Z}),R.style.transition=r.transitions.create("transform",{...Z}),R.style.webkitTransform="none",R.style.transform="none",C&&C(R,W)}),H=$(b),B=$(P),I=$(R=>{const W=Ou({timeout:F,style:z,easing:f},{mode:"exit"});R.style.webkitTransition=r.transitions.create("-webkit-transform",W),R.style.transition=r.transitions.create("transform",W),vi(m,R,g),S&&S(R)}),A=$(R=>{R.style.webkitTransition="",R.style.transition="",_&&_(R)}),j=R=>{l&&l(M.current,R)},V=c.useCallback(()=>{M.current&&vi(m,M.current,g)},[m,g]);return c.useEffect(()=>{if(v||m==="down"||m==="right")return;const R=ql(()=>{M.current&&vi(m,M.current,g)}),W=aa(M.current);return W.addEventListener("resize",R),()=>{R.clear(),W.removeEventListener("resize",R)}},[m,v,g]),c.useEffect(()=>{v||V()},[v,V]),h.jsx(G,{nodeRef:M,onEnter:D,onEntered:H,onEntering:O,onExit:I,onExited:A,onExiting:B,addEndListener:j,appear:d,in:v,timeout:F,...k,children:(R,{ownerState:W,...Z})=>c.cloneElement(p,{ref:E,style:{visibility:R==="exited"&&!v?"hidden":void 0,...z,...p.props.style},...Z})})});function Yy(e){return Gt("MuiDrawer",e)}Vt("MuiDrawer",["root","docked","paper","anchorLeft","anchorRight","anchorTop","anchorBottom","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const oh=(e,t)=>{const{ownerState:o}=e;return[t.root,(o.variant==="permanent"||o.variant==="persistent")&&t.docked,t.modal]},Qy=e=>{const{classes:t,anchor:o,variant:r}=e,i={root:["root",`anchor${lt(o)}`],docked:[(r==="permanent"||r==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${lt(o)}`,r!=="temporary"&&`paperAnchorDocked${lt(o)}`]};return Zt(i,Yy,t)},eb=Ee(Mp,{name:"MuiDrawer",slot:"Root",overridesResolver:oh})(Pt(({theme:e})=>({zIndex:(e.vars||e).zIndex.drawer}))),tb=Ee("div",{shouldForwardProp:sa,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:oh})({flex:"0 0 auto"}),nb=Ee(Nt,{name:"MuiDrawer",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.paper,t[`paperAnchor${lt(o.anchor)}`],o.variant!=="temporary"&&t[`paperAnchorDocked${lt(o.anchor)}`]]}})(Pt(({theme:e})=>({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(e.vars||e).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0,variants:[{props:{anchor:"left"},style:{left:0}},{props:{anchor:"top"},style:{top:0,left:0,right:0,height:"auto",maxHeight:"100%"}},{props:{anchor:"right"},style:{right:0}},{props:{anchor:"bottom"},style:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"}},{props:({ownerState:t})=>t.anchor==="left"&&t.variant!=="temporary",style:{borderRight:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:t})=>t.anchor==="top"&&t.variant!=="temporary",style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:t})=>t.anchor==="right"&&t.variant!=="temporary",style:{borderLeft:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:t})=>t.anchor==="bottom"&&t.variant!=="temporary",style:{borderTop:`1px solid ${(e.vars||e).palette.divider}`}}]}))),rh={left:"right",right:"left",top:"down",bottom:"up"};function ob(e){return["left","right"].includes(e)}function rb({direction:e},t){return e==="rtl"&&ob(t)?rh[t]:t}const sb=c.forwardRef(function(t,o){const r=Wt({props:t,name:"MuiDrawer"}),i=Bt(),a=la(),l={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{anchor:d="left",BackdropProps:p,children:g,className:m,elevation:f=16,hideBackdrop:v=!1,ModalProps:{BackdropProps:x,...b}={},onClose:C,open:S=!1,PaperProps:_={},SlideProps:P,TransitionComponent:z,transitionDuration:F=l,variant:G="temporary",slots:k={},slotProps:M={},...E}=r,$=c.useRef(!1);c.useEffect(()=>{$.current=!0},[]);const D=rb({direction:a?"rtl":"ltr"},d),H={...r,anchor:d,elevation:f,open:S,variant:G,...E},B=Qy(H),I={slots:{transition:z,...k},slotProps:{paper:_,transition:P,...M,backdrop:Ip(M.backdrop||{...p,...x},{transitionDuration:F})}},[A,j]=_t("root",{ref:o,elementType:eb,className:ze(B.root,B.modal,m),shouldForwardComponentProp:!0,ownerState:H,externalForwardedProps:{...I,...E,...b},additionalProps:{open:S,onClose:C,hideBackdrop:v,slots:{backdrop:I.slots.backdrop},slotProps:{backdrop:I.slotProps.backdrop}}}),[V,R]=_t("paper",{elementType:nb,shouldForwardComponentProp:!0,className:ze(B.paper,_.className),ownerState:H,externalForwardedProps:I,additionalProps:{elevation:G==="temporary"?f:0,square:!0}}),[W,Z]=_t("docked",{elementType:tb,ref:o,className:ze(B.root,B.docked,m),ownerState:H,externalForwardedProps:I,additionalProps:E}),[q,ee]=_t("transition",{elementType:Xy,ownerState:H,externalForwardedProps:I,additionalProps:{in:S,direction:rh[D],timeout:F,appear:$.current}}),X=h.jsx(V,{...R,children:g});if(G==="permanent")return h.jsx(W,{...Z,children:X});const te=h.jsx(q,{...ee,children:X});return G==="persistent"?h.jsx(W,{...Z,children:te}):h.jsx(A,{...j,children:te})});function ib(e){return Gt("MuiFormControlLabel",e)}const ys=Vt("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),ab=e=>{const{classes:t,disabled:o,labelPlacement:r,error:i,required:a}=e,l={root:["root",o&&"disabled",`labelPlacement${lt(r)}`,i&&"error",a&&"required"],label:["label",o&&"disabled"],asterisk:["asterisk",i&&"error"]};return Zt(l,ib,t)},lb=Ee("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[{[`& .${ys.label}`]:t.label},t.root,t[`labelPlacement${lt(o.labelPlacement)}`]]}})(Pt(({theme:e})=>({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${ys.disabled}`]:{cursor:"default"},[`& .${ys.label}`]:{[`&.${ys.disabled}`]:{color:(e.vars||e).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:({labelPlacement:t})=>t==="start"||t==="top"||t==="bottom",style:{marginLeft:16}}]}))),cb=Ee("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(Pt(({theme:e})=>({[`&.${ys.error}`]:{color:(e.vars||e).palette.error.main}}))),ub=c.forwardRef(function(t,o){const r=Wt({props:t,name:"MuiFormControlLabel"}),{checked:i,className:a,componentsProps:l={},control:d,disabled:p,disableTypography:g,inputRef:m,label:f,labelPlacement:v="end",name:x,onChange:b,required:C,slots:S={},slotProps:_={},value:P,...z}=r,F=Pp(),G=p??d.props.disabled??(F==null?void 0:F.disabled),k=C??d.props.required,M={disabled:G,required:k};["checked","name","onChange","value","inputRef"].forEach(A=>{typeof d.props[A]>"u"&&typeof r[A]<"u"&&(M[A]=r[A])});const E=_g({props:r,muiFormControl:F,states:["error"]}),$={...r,disabled:G,labelPlacement:v,required:k,error:E.error},D=ab($),O={slots:S,slotProps:{...l,..._}},[H,B]=_t("typography",{elementType:rt,externalForwardedProps:O,ownerState:$});let I=f;return I!=null&&I.type!==rt&&!g&&(I=h.jsx(H,{component:"span",...B,className:ze(D.label,B==null?void 0:B.className),children:I})),h.jsxs(lb,{className:ze(D.root,a),ownerState:$,ref:o,...z,children:[c.cloneElement(d,M),k?h.jsxs("div",{children:[I,h.jsxs(cb,{ownerState:$,"aria-hidden":!0,className:D.asterisk,children:["â€‰","*"]})]}):I]})});function db(e){return Gt("MuiListItem",e)}Vt("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);function pb(e){return Gt("MuiListItemSecondaryAction",e)}Vt("MuiListItemSecondaryAction",["root","disableGutters"]);const hb=e=>{const{disableGutters:t,classes:o}=e;return Zt({root:["root",t&&"disableGutters"]},pb,o)},mb=Ee("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.disableGutters&&t.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:({ownerState:e})=>e.disableGutters,style:{right:0}}]}),sh=c.forwardRef(function(t,o){const r=Wt({props:t,name:"MuiListItemSecondaryAction"}),{className:i,...a}=r,l=c.useContext(cr),d={...r,disableGutters:l.disableGutters},p=hb(d);return h.jsx(mb,{className:ze(p.root,i),ownerState:d,ref:o,...a})});sh.muiName="ListItemSecondaryAction";const fb=(e,t)=>{const{ownerState:o}=e;return[t.root,o.dense&&t.dense,o.alignItems==="flex-start"&&t.alignItemsFlexStart,o.divider&&t.divider,!o.disableGutters&&t.gutters,!o.disablePadding&&t.padding,o.hasSecondaryAction&&t.secondaryAction]},gb=e=>{const{alignItems:t,classes:o,dense:r,disableGutters:i,disablePadding:a,divider:l,hasSecondaryAction:d}=e;return Zt({root:["root",r&&"dense",!i&&"gutters",!a&&"padding",l&&"divider",t==="flex-start"&&"alignItemsFlexStart",d&&"secondaryAction"],container:["container"]},db,o)},vb=Ee("div",{name:"MuiListItem",slot:"Root",overridesResolver:fb})(Pt(({theme:e})=>({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:({ownerState:t})=>!t.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:t})=>!t.disablePadding&&t.dense,style:{paddingTop:4,paddingBottom:4}},{props:({ownerState:t})=>!t.disablePadding&&!t.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:t})=>!t.disablePadding&&!!t.secondaryAction,style:{paddingRight:48}},{props:({ownerState:t})=>!!t.secondaryAction,style:{[`& > .${Ig.root}`]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:t})=>t.divider,style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:t})=>t.button,style:{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:({ownerState:t})=>t.hasSecondaryAction,style:{paddingRight:48}}]}))),yb=Ee("li",{name:"MuiListItem",slot:"Container",overridesResolver:(e,t)=>t.container})({position:"relative"}),Bi=c.forwardRef(function(t,o){const r=Wt({props:t,name:"MuiListItem"}),{alignItems:i="center",children:a,className:l,component:d,components:p={},componentsProps:g={},ContainerComponent:m="li",ContainerProps:{className:f,...v}={},dense:x=!1,disableGutters:b=!1,disablePadding:C=!1,divider:S=!1,secondaryAction:_,slotProps:P={},slots:z={},...F}=r,G=c.useContext(cr),k=c.useMemo(()=>({dense:x||G.dense||!1,alignItems:i,disableGutters:b}),[i,G.dense,x,b]),M=c.useRef(null),E=c.Children.toArray(a),$=E.length&&Pg(E[E.length-1],["ListItemSecondaryAction"]),D={...r,alignItems:i,dense:k.dense,disableGutters:b,disablePadding:C,divider:S,hasSecondaryAction:$},O=gb(D),H=ia(M,o),B=z.root||p.Root||vb,I=P.root||g.root||{},A={className:ze(O.root,I.className,l),...F};let j=d||"li";return $?(j=!A.component&&!d?"div":j,m==="li"&&(j==="li"?j="div":A.component==="li"&&(A.component="div")),h.jsx(cr.Provider,{value:k,children:h.jsxs(yb,{as:m,className:ze(O.container,f),ref:H,ownerState:D,...v,children:[h.jsx(B,{...I,...!Nu(B)&&{as:j,ownerState:{...D,...I.ownerState}},...A,children:E}),E.pop()]})})):h.jsx(cr.Provider,{value:k,children:h.jsxs(B,{...I,as:j,ref:H,...!Nu(B)&&{ownerState:{...D,...I.ownerState}},...A,children:[E,_&&h.jsx(sh,{children:_})]})})});function bb(e){return Gt("MuiListItemIcon",e)}const td=Vt("MuiListItemIcon",["root","alignItemsFlexStart"]),xb=e=>{const{alignItems:t,classes:o}=e;return Zt({root:["root",t==="flex-start"&&"alignItemsFlexStart"]},bb,o)},Cb=Ee("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.alignItems==="flex-start"&&t.alignItemsFlexStart]}})(Pt(({theme:e})=>({minWidth:56,color:(e.vars||e).palette.action.active,flexShrink:0,display:"inline-flex",variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}))),Tn=c.forwardRef(function(t,o){const r=Wt({props:t,name:"MuiListItemIcon"}),{className:i,...a}=r,l=c.useContext(cr),d={...r,alignItems:l.alignItems},p=xb(d);return h.jsx(Cb,{className:ze(p.root,i),ownerState:d,ref:o,...a})});function wb(e){return Gt("MuiMenuItem",e)}const hs=Vt("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),Sb=(e,t)=>{const{ownerState:o}=e;return[t.root,o.dense&&t.dense,o.divider&&t.divider,!o.disableGutters&&t.gutters]},_b=e=>{const{disabled:t,dense:o,divider:r,disableGutters:i,selected:a,classes:l}=e,p=Zt({root:["root",o&&"dense",t&&"disabled",!i&&"gutters",r&&"divider",a&&"selected"]},wb,l);return{...l,...p}},Pb=Ee(zs,{shouldForwardProp:e=>sa(e)||e==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:Sb})(Pt(({theme:e})=>({...e.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${hs.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Se(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${hs.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:Se(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${hs.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Se(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Se(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${hs.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${hs.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${ed.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${ed.inset}`]:{marginLeft:52},[`& .${zu.root}`]:{marginTop:0,marginBottom:0},[`& .${zu.inset}`]:{paddingLeft:36},[`& .${td.root}`]:{minWidth:36},variants:[{props:({ownerState:t})=>!t.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:t})=>t.divider,style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:t})=>!t.dense,style:{[e.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:t})=>t.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...e.typography.body2,[`& .${td.root} svg`]:{fontSize:"1.25rem"}}}]}))),$t=c.forwardRef(function(t,o){const r=Wt({props:t,name:"MuiMenuItem"}),{autoFocus:i=!1,component:a="li",dense:l=!1,divider:d=!1,disableGutters:p=!1,focusVisibleClassName:g,role:m="menuitem",tabIndex:f,className:v,...x}=r,b=c.useContext(cr),C=c.useMemo(()=>({dense:l||b.dense||!1,disableGutters:p}),[b.dense,l,p]),S=c.useRef(null);ra(()=>{i&&S.current&&S.current.focus()},[i]);const _={...r,dense:C.dense,divider:d,disableGutters:p},P=_b(r),z=ia(S,o);let F;return r.disabled||(F=f!==void 0?f:-1),h.jsx(cr.Provider,{value:C,children:h.jsx(Pb,{ref:z,role:m,tabIndex:F,component:a,focusVisibleClassName:ze(P.focusVisible,g),className:ze(P.root,v),...x,ownerState:_,classes:P})})}),Ib=it(h.jsx("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),"FirstPage"),Tb=it(h.jsx("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),"LastPage");function kb(e){return Gt("MuiSkeleton",e)}Vt("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const Mb=e=>{const{classes:t,variant:o,animation:r,hasChildren:i,width:a,height:l}=e;return Zt({root:["root",o,r,i&&"withChildren",i&&!a&&"fitContent",i&&!l&&"heightAuto"]},kb,t)},Dl=Dp`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`,El=Dp`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`,Ab=typeof Dl!="string"?Ap`
        animation: ${Dl} 2s ease-in-out 0.5s infinite;
      `:null,Db=typeof El!="string"?Ap`
        &::after {
          animation: ${El} 2s linear 0.5s infinite;
        }
      `:null,Eb=Ee("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,t[o.variant],o.animation!==!1&&t[o.animation],o.hasChildren&&t.withChildren,o.hasChildren&&!o.width&&t.fitContent,o.hasChildren&&!o.height&&t.heightAuto]}})(Pt(({theme:e})=>{const t=dv(e.shape.borderRadius)||"px",o=pv(e.shape.borderRadius);return{display:"block",backgroundColor:e.vars?e.vars.palette.Skeleton.bg:Se(e.palette.text.primary,e.palette.mode==="light"?.11:.13),height:"1.2em",variants:[{props:{variant:"text"},style:{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${o}${t}/${Math.round(o/.6*10)/10}${t}`,"&:empty:before":{content:'"\\00a0"'}}},{props:{variant:"circular"},style:{borderRadius:"50%"}},{props:{variant:"rounded"},style:{borderRadius:(e.vars||e).shape.borderRadius}},{props:({ownerState:r})=>r.hasChildren,style:{"& > *":{visibility:"hidden"}}},{props:({ownerState:r})=>r.hasChildren&&!r.width,style:{maxWidth:"fit-content"}},{props:({ownerState:r})=>r.hasChildren&&!r.height,style:{height:"auto"}},{props:{animation:"pulse"},style:Ab||{animation:`${Dl} 2s ease-in-out 0.5s infinite`}},{props:{animation:"wave"},style:{position:"relative",overflow:"hidden",WebkitMaskImage:"-webkit-radial-gradient(white, black)","&::after":{background:`linear-gradient(
                90deg,
                transparent,
                ${(e.vars||e).palette.action.hover},
                transparent
              )`,content:'""',position:"absolute",transform:"translateX(-100%)",bottom:0,left:0,right:0,top:0}}},{props:{animation:"wave"},style:Db||{"&::after":{animation:`${El} 2s linear 0.5s infinite`}}}]}})),Rb=c.forwardRef(function(t,o){const r=Wt({props:t,name:"MuiSkeleton"}),{animation:i="pulse",className:a,component:l="span",height:d,style:p,variant:g="text",width:m,...f}=r,v={...r,animation:i,component:l,variant:g,hasChildren:!!f.children},x=Mb(v);return h.jsx(Eb,{as:l,ref:o,className:ze(x.root,a),ownerState:v,...f,style:{width:m,height:d,...p}})});function Lb(e){return Gt("MuiSwitch",e)}const In=Vt("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),Fb=e=>{const{classes:t,edge:o,size:r,color:i,checked:a,disabled:l}=e,d={root:["root",o&&`edge${lt(o)}`,`size${lt(r)}`],switchBase:["switchBase",`color${lt(i)}`,a&&"checked",l&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},p=Zt(d,Lb,t);return{...t,...p}},Ob=Ee("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.edge&&t[`edge${lt(o.edge)}`],t[`size${lt(o.size)}`]]}})({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${In.thumb}`]:{width:16,height:16},[`& .${In.switchBase}`]:{padding:4,[`&.${In.checked}`]:{transform:"translateX(16px)"}}}}]}),Nb=Ee(eh,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.switchBase,{[`& .${In.input}`]:t.input},o.color!=="default"&&t[`color${lt(o.color)}`]]}})(Pt(({theme:e})=>({position:"absolute",top:0,left:0,zIndex:1,color:e.vars?e.vars.palette.Switch.defaultColor:`${e.palette.mode==="light"?e.palette.common.white:e.palette.grey[300]}`,transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),[`&.${In.checked}`]:{transform:"translateX(20px)"},[`&.${In.disabled}`]:{color:e.vars?e.vars.palette.Switch.defaultDisabledColor:`${e.palette.mode==="light"?e.palette.grey[100]:e.palette.grey[600]}`},[`&.${In.checked} + .${In.track}`]:{opacity:.5},[`&.${In.disabled} + .${In.track}`]:{opacity:e.vars?e.vars.opacity.switchTrackDisabled:`${e.palette.mode==="light"?.12:.2}`},[`& .${In.input}`]:{left:"-100%",width:"300%"}})),Pt(({theme:e})=>({"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Se(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(e.palette).filter(As(["light"])).map(([t])=>({props:{color:t},style:{[`&.${In.checked}`]:{color:(e.vars||e).palette[t].main,"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Se(e.palette[t].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${In.disabled}`]:{color:e.vars?e.vars.palette.Switch[`${t}DisabledColor`]:`${e.palette.mode==="light"?Ep(e.palette[t].main,.62):Rp(e.palette[t].main,.55)}`}},[`&.${In.checked} + .${In.track}`]:{backgroundColor:(e.vars||e).palette[t].main}}}))]}))),zb=Ee("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(e,t)=>t.track})(Pt(({theme:e})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:e.vars?e.vars.palette.common.onBackground:`${e.palette.mode==="light"?e.palette.common.black:e.palette.common.white}`,opacity:e.vars?e.vars.opacity.switchTrack:`${e.palette.mode==="light"?.38:.3}`}))),$b=Ee("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(e,t)=>t.thumb})(Pt(({theme:e})=>({boxShadow:(e.vars||e).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}))),Bb=c.forwardRef(function(t,o){const r=Wt({props:t,name:"MuiSwitch"}),{className:i,color:a="primary",edge:l=!1,size:d="medium",sx:p,slots:g={},slotProps:m={},...f}=r,v={...r,color:a,edge:l,size:d},x=Fb(v),b={slots:g,slotProps:m},[C,S]=_t("root",{className:ze(x.root,i),elementType:Ob,externalForwardedProps:b,ownerState:v,additionalProps:{sx:p}}),[_,P]=_t("thumb",{className:x.thumb,elementType:$b,externalForwardedProps:b,ownerState:v}),z=h.jsx(_,{...P}),[F,G]=_t("track",{className:x.track,elementType:zb,externalForwardedProps:b,ownerState:v});return h.jsxs(C,{...S,children:[h.jsx(Nb,{type:"checkbox",icon:z,checkedIcon:z,ref:o,ownerState:v,...f,classes:{...x,root:x.switchBase},slots:{...g.switchBase&&{root:g.switchBase},...g.input&&{input:g.input}},slotProps:{...m.switchBase&&{root:typeof m.switchBase=="function"?m.switchBase(v):m.switchBase},...m.input&&{input:typeof m.input=="function"?m.input(v):m.input}}}),h.jsx(F,{...G})]})});function jb(e){return Gt("MuiTab",e)}const Zn=Vt("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper","icon"]),Hb=e=>{const{classes:t,textColor:o,fullWidth:r,wrapped:i,icon:a,label:l,selected:d,disabled:p}=e,g={root:["root",a&&l&&"labelIcon",`textColor${lt(o)}`,r&&"fullWidth",i&&"wrapped",d&&"selected",p&&"disabled"],icon:["iconWrapper","icon"]};return Zt(g,jb,t)},Gb=Ee(zs,{name:"MuiTab",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.label&&o.icon&&t.labelIcon,t[`textColor${lt(o.textColor)}`],o.fullWidth&&t.fullWidth,o.wrapped&&t.wrapped,{[`& .${Zn.iconWrapper}`]:t.iconWrapper},{[`& .${Zn.icon}`]:t.icon}]}})(Pt(({theme:e})=>({...e.typography.button,maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center",lineHeight:1.25,variants:[{props:({ownerState:t})=>t.label&&(t.iconPosition==="top"||t.iconPosition==="bottom"),style:{flexDirection:"column"}},{props:({ownerState:t})=>t.label&&t.iconPosition!=="top"&&t.iconPosition!=="bottom",style:{flexDirection:"row"}},{props:({ownerState:t})=>t.icon&&t.label,style:{minHeight:72,paddingTop:9,paddingBottom:9}},{props:({ownerState:t,iconPosition:o})=>t.icon&&t.label&&o==="top",style:{[`& > .${Zn.icon}`]:{marginBottom:6}}},{props:({ownerState:t,iconPosition:o})=>t.icon&&t.label&&o==="bottom",style:{[`& > .${Zn.icon}`]:{marginTop:6}}},{props:({ownerState:t,iconPosition:o})=>t.icon&&t.label&&o==="start",style:{[`& > .${Zn.icon}`]:{marginRight:e.spacing(1)}}},{props:({ownerState:t,iconPosition:o})=>t.icon&&t.label&&o==="end",style:{[`& > .${Zn.icon}`]:{marginLeft:e.spacing(1)}}},{props:{textColor:"inherit"},style:{color:"inherit",opacity:.6,[`&.${Zn.selected}`]:{opacity:1},[`&.${Zn.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}}},{props:{textColor:"primary"},style:{color:(e.vars||e).palette.text.secondary,[`&.${Zn.selected}`]:{color:(e.vars||e).palette.primary.main},[`&.${Zn.disabled}`]:{color:(e.vars||e).palette.text.disabled}}},{props:{textColor:"secondary"},style:{color:(e.vars||e).palette.text.secondary,[`&.${Zn.selected}`]:{color:(e.vars||e).palette.secondary.main},[`&.${Zn.disabled}`]:{color:(e.vars||e).palette.text.disabled}}},{props:({ownerState:t})=>t.fullWidth,style:{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"}},{props:({ownerState:t})=>t.wrapped,style:{fontSize:e.typography.pxToRem(12)}}]}))),nd=c.forwardRef(function(t,o){const r=Wt({props:t,name:"MuiTab"}),{className:i,disabled:a=!1,disableFocusRipple:l=!1,fullWidth:d,icon:p,iconPosition:g="top",indicator:m,label:f,onChange:v,onClick:x,onFocus:b,selected:C,selectionFollowsFocus:S,textColor:_="inherit",value:P,wrapped:z=!1,...F}=r,G={...r,disabled:a,disableFocusRipple:l,selected:C,icon:!!p,iconPosition:g,label:!!f,fullWidth:d,textColor:_,wrapped:z},k=Hb(G),M=p&&f&&c.isValidElement(p)?c.cloneElement(p,{className:ze(k.icon,p.props.className)}):p,E=D=>{!C&&v&&v(D,P),x&&x(D)},$=D=>{S&&!C&&v&&v(D,P),b&&b(D)};return h.jsxs(Gb,{focusRipple:!l,className:ze(k.root,i),ref:o,role:"tab","aria-selected":C,disabled:a,onClick:E,onFocus:$,ownerState:G,tabIndex:C?0:-1,...F,children:[g==="top"||g==="start"?h.jsxs(c.Fragment,{children:[M,f]}):h.jsxs(c.Fragment,{children:[f,M]}),m]})});function Vb(e){return Gt("MuiToolbar",e)}Vt("MuiToolbar",["root","gutters","regular","dense"]);const Wb=e=>{const{classes:t,disableGutters:o,variant:r}=e;return Zt({root:["root",!o&&"gutters",r]},Vb,t)},Zb=Ee("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,!o.disableGutters&&t.gutters,t[o.variant]]}})(Pt(({theme:e})=>({position:"relative",display:"flex",alignItems:"center",variants:[{props:({ownerState:t})=>!t.disableGutters,style:{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}}},{props:{variant:"dense"},style:{minHeight:48}},{props:{variant:"regular"},style:e.mixins.toolbar}]}))),ih=c.forwardRef(function(t,o){const r=Wt({props:t,name:"MuiToolbar"}),{className:i,component:a="div",disableGutters:l=!1,variant:d="regular",...p}=r,g={...r,component:a,disableGutters:l,variant:d},m=Wb(g);return h.jsx(Zb,{as:a,className:ze(m.root,i),ref:o,ownerState:g,...p})}),ah=it(h.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),lh=it(h.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight"),Ub=c.forwardRef(function(t,o){const{backIconButtonProps:r,count:i,disabled:a=!1,getItemAriaLabel:l,nextIconButtonProps:d,onPageChange:p,page:g,rowsPerPage:m,showFirstButton:f,showLastButton:v,slots:x={},slotProps:b={},...C}=t,S=la(),_=q=>{p(q,0)},P=q=>{p(q,g-1)},z=q=>{p(q,g+1)},F=q=>{p(q,Math.max(0,Math.ceil(i/m)-1))},G=x.firstButton??pn,k=x.lastButton??pn,M=x.nextButton??pn,E=x.previousButton??pn,$=x.firstButtonIcon??Ib,D=x.lastButtonIcon??Tb,O=x.nextButtonIcon??lh,H=x.previousButtonIcon??ah,B=S?k:G,I=S?M:E,A=S?E:M,j=S?G:k,V=S?b.lastButton:b.firstButton,R=S?b.nextButton:b.previousButton,W=S?b.previousButton:b.nextButton,Z=S?b.firstButton:b.lastButton;return h.jsxs("div",{ref:o,...C,children:[f&&h.jsx(B,{onClick:_,disabled:a||g===0,"aria-label":l("first",g),title:l("first",g),...V,children:S?h.jsx(D,{...b.lastButtonIcon}):h.jsx($,{...b.firstButtonIcon})}),h.jsx(I,{onClick:P,disabled:a||g===0,color:"inherit","aria-label":l("previous",g),title:l("previous",g),...R??r,children:S?h.jsx(O,{...b.nextButtonIcon}):h.jsx(H,{...b.previousButtonIcon})}),h.jsx(A,{onClick:z,disabled:a||(i!==-1?g>=Math.ceil(i/m)-1:!1),color:"inherit","aria-label":l("next",g),title:l("next",g),...W??d,children:S?h.jsx(H,{...b.previousButtonIcon}):h.jsx(O,{...b.nextButtonIcon})}),v&&h.jsx(j,{onClick:F,disabled:a||g>=Math.ceil(i/m)-1,"aria-label":l("last",g),title:l("last",g),...Z,children:S?h.jsx($,{...b.firstButtonIcon}):h.jsx(D,{...b.lastButtonIcon})})]})});function Kb(e){return Gt("MuiTablePagination",e)}const ur=Vt("MuiTablePagination",["root","toolbar","spacer","selectLabel","selectRoot","select","selectIcon","input","menuItem","displayedRows","actions"]);var od;const Jb=Ee(Tl,{name:"MuiTablePagination",slot:"Root",overridesResolver:(e,t)=>t.root})(Pt(({theme:e})=>({overflow:"auto",color:(e.vars||e).palette.text.primary,fontSize:e.typography.pxToRem(14),"&:last-child":{padding:0}}))),qb=Ee(ih,{name:"MuiTablePagination",slot:"Toolbar",overridesResolver:(e,t)=>({[`& .${ur.actions}`]:t.actions,...t.toolbar})})(Pt(({theme:e})=>({minHeight:52,paddingRight:2,[`${e.breakpoints.up("xs")} and (orientation: landscape)`]:{minHeight:52},[e.breakpoints.up("sm")]:{minHeight:52,paddingRight:2},[`& .${ur.actions}`]:{flexShrink:0,marginLeft:20}}))),Xb=Ee("div",{name:"MuiTablePagination",slot:"Spacer",overridesResolver:(e,t)=>t.spacer})({flex:"1 1 100%"}),Yb=Ee("p",{name:"MuiTablePagination",slot:"SelectLabel",overridesResolver:(e,t)=>t.selectLabel})(Pt(({theme:e})=>({...e.typography.body2,flexShrink:0}))),Qb=Ee(Yl,{name:"MuiTablePagination",slot:"Select",overridesResolver:(e,t)=>({[`& .${ur.selectIcon}`]:t.selectIcon,[`& .${ur.select}`]:t.select,...t.input,...t.selectRoot})})({color:"inherit",fontSize:"inherit",flexShrink:0,marginRight:32,marginLeft:8,[`& .${ur.select}`]:{paddingLeft:8,paddingRight:24,textAlign:"right",textAlignLast:"right"}}),e0=Ee($t,{name:"MuiTablePagination",slot:"MenuItem",overridesResolver:(e,t)=>t.menuItem})({}),t0=Ee("p",{name:"MuiTablePagination",slot:"DisplayedRows",overridesResolver:(e,t)=>t.displayedRows})(Pt(({theme:e})=>({...e.typography.body2,flexShrink:0})));function n0({from:e,to:t,count:o}){return`${e}â€“${t} of ${o!==-1?o:`more than ${t}`}`}function o0(e){return`Go to ${e} page`}const r0=e=>{const{classes:t}=e;return Zt({root:["root"],toolbar:["toolbar"],spacer:["spacer"],selectLabel:["selectLabel"],select:["select"],input:["input"],selectIcon:["selectIcon"],menuItem:["menuItem"],displayedRows:["displayedRows"],actions:["actions"]},Kb,t)},s0=c.forwardRef(function(t,o){const r=Wt({props:t,name:"MuiTablePagination"}),{ActionsComponent:i=Ub,backIconButtonProps:a,colSpan:l,component:d=Tl,count:p,disabled:g=!1,getItemAriaLabel:m=o0,labelDisplayedRows:f=n0,labelRowsPerPage:v="Rows per page:",nextIconButtonProps:x,onPageChange:b,onRowsPerPageChange:C,page:S,rowsPerPage:_,rowsPerPageOptions:P=[10,25,50,100],SelectProps:z={},showFirstButton:F=!1,showLastButton:G=!1,slotProps:k={},slots:M={},...E}=r,$=r,D=r0($),O=(k==null?void 0:k.select)??z,H=O.native?"option":e0;let B;(d===Tl||d==="td")&&(B=l||1e3);const I=fr(O.id),A=fr(O.labelId),j=()=>p===-1?(S+1)*_:_===-1?p:Math.min(p,(S+1)*_),V={slots:M,slotProps:k},[R,W]=_t("root",{ref:o,className:D.root,elementType:Jb,externalForwardedProps:{...V,component:d,...E},ownerState:$,additionalProps:{colSpan:B}}),[Z,q]=_t("toolbar",{className:D.toolbar,elementType:qb,externalForwardedProps:V,ownerState:$}),[ee,X]=_t("spacer",{className:D.spacer,elementType:Xb,externalForwardedProps:V,ownerState:$}),[te,Y]=_t("selectLabel",{className:D.selectLabel,elementType:Yb,externalForwardedProps:V,ownerState:$,additionalProps:{id:A}}),[ne,re]=_t("select",{className:D.select,elementType:Qb,externalForwardedProps:V,ownerState:$}),[ve,_e]=_t("menuItem",{className:D.menuItem,elementType:H,externalForwardedProps:V,ownerState:$}),[be,Ae]=_t("displayedRows",{className:D.displayedRows,elementType:t0,externalForwardedProps:V,ownerState:$});return h.jsx(R,{...W,children:h.jsxs(Z,{...q,children:[h.jsx(ee,{...X}),P.length>1&&h.jsx(te,{...Y,children:v}),P.length>1&&h.jsx(ne,{variant:"standard",...!O.variant&&{input:od||(od=h.jsx(Xl,{}))},value:_,onChange:C,id:I,labelId:A,...O,classes:{...O.classes,root:ze(D.input,D.selectRoot,(O.classes||{}).root),select:ze(D.select,(O.classes||{}).select),icon:ze(D.selectIcon,(O.classes||{}).icon)},disabled:g,...re,children:P.map(Ce=>c.createElement(ve,{..._e,key:Ce.label?Ce.label:Ce,value:Ce.value?Ce.value:Ce},Ce.label?Ce.label:Ce))}),h.jsx(be,{...Ae,children:f({from:p===0?0:S*_+1,to:j(),count:p===-1?-1:p,page:S})}),h.jsx(i,{className:D.actions,backIconButtonProps:a,count:p,nextIconButtonProps:x,onPageChange:b,page:S,rowsPerPage:_,showFirstButton:F,showLastButton:G,slotProps:k.actions,slots:M.actions,getItemAriaLabel:m,disabled:g})]})})});function i0(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}function a0(e,t,o,r={},i=()=>{}){const{ease:a=i0,duration:l=300}=r;let d=null;const p=t[e];let g=!1;const m=()=>{g=!0},f=v=>{if(g){i(new Error("Animation cancelled"));return}d===null&&(d=v);const x=Math.min(1,(v-d)/l);if(t[e]=a(x)*(o-p)+p,x>=1){requestAnimationFrame(()=>{i(null)});return}requestAnimationFrame(f)};return p===o?(i(new Error("Element already at target position")),m):(requestAnimationFrame(f),m)}const l0={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function c0(e){const{onChange:t,...o}=e,r=c.useRef(),i=c.useRef(null),a=()=>{r.current=i.current.offsetHeight-i.current.clientHeight};return ra(()=>{const l=ql(()=>{const p=r.current;a(),p!==r.current&&t(r.current)}),d=aa(i.current);return d.addEventListener("resize",l),()=>{l.clear(),d.removeEventListener("resize",l)}},[t]),c.useEffect(()=>{a(),t(r.current)},[t]),h.jsx("div",{style:l0,...o,ref:i})}function u0(e){return Gt("MuiTabScrollButton",e)}const d0=Vt("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),p0=e=>{const{classes:t,orientation:o,disabled:r}=e;return Zt({root:["root",o,r&&"disabled"]},u0,t)},h0=Ee(zs,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.orientation&&t[o.orientation]]}})({width:40,flexShrink:0,opacity:.8,[`&.${d0.disabled}`]:{opacity:0},variants:[{props:{orientation:"vertical"},style:{width:"100%",height:40,"& svg":{transform:"var(--TabScrollButton-svgRotate)"}}}]}),m0=c.forwardRef(function(t,o){const r=Wt({props:t,name:"MuiTabScrollButton"}),{className:i,slots:a={},slotProps:l={},direction:d,orientation:p,disabled:g,...m}=r,f=la(),v={isRtl:f,...r},x=p0(v),b=a.StartScrollButtonIcon??ah,C=a.EndScrollButtonIcon??lh,S=Ni({elementType:b,externalSlotProps:l.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:v}),_=Ni({elementType:C,externalSlotProps:l.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:v});return h.jsx(h0,{component:"div",className:ze(x.root,i),ref:o,role:null,ownerState:v,tabIndex:null,...m,style:{...m.style,...p==="vertical"&&{"--TabScrollButton-svgRotate":`rotate(${f?-90:90}deg)`}},children:d==="left"?h.jsx(b,{...S}):h.jsx(C,{..._})})});function f0(e){return Gt("MuiTabs",e)}const fl=Vt("MuiTabs",["root","vertical","list","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),rd=(e,t)=>e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:e.firstChild,sd=(e,t)=>e===t?e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:e.lastChild,yi=(e,t,o)=>{let r=!1,i=o(e,t);for(;i;){if(i===e.firstChild){if(r)return;r=!0}const a=i.disabled||i.getAttribute("aria-disabled")==="true";if(!i.hasAttribute("tabindex")||a)i=o(e,i);else{i.focus();return}}},g0=e=>{const{vertical:t,fixed:o,hideScrollbar:r,scrollableX:i,scrollableY:a,centered:l,scrollButtonsHideMobile:d,classes:p}=e;return Zt({root:["root",t&&"vertical"],scroller:["scroller",o&&"fixed",r&&"hideScrollbar",i&&"scrollableX",a&&"scrollableY"],list:["list","flexContainer",t&&"flexContainerVertical",t&&"vertical",l&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",d&&"scrollButtonsHideMobile"],scrollableX:[i&&"scrollableX"],hideScrollbar:[r&&"hideScrollbar"]},f0,p)},v0=Ee("div",{name:"MuiTabs",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[{[`& .${fl.scrollButtons}`]:t.scrollButtons},{[`& .${fl.scrollButtons}`]:o.scrollButtonsHideMobile&&t.scrollButtonsHideMobile},t.root,o.vertical&&t.vertical]}})(Pt(({theme:e})=>({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex",variants:[{props:({ownerState:t})=>t.vertical,style:{flexDirection:"column"}},{props:({ownerState:t})=>t.scrollButtonsHideMobile,style:{[`& .${fl.scrollButtons}`]:{[e.breakpoints.down("sm")]:{display:"none"}}}}]}))),y0=Ee("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.scroller,o.fixed&&t.fixed,o.hideScrollbar&&t.hideScrollbar,o.scrollableX&&t.scrollableX,o.scrollableY&&t.scrollableY]}})({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap",variants:[{props:({ownerState:e})=>e.fixed,style:{overflowX:"hidden",width:"100%"}},{props:({ownerState:e})=>e.hideScrollbar,style:{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}},{props:({ownerState:e})=>e.scrollableX,style:{overflowX:"auto",overflowY:"hidden"}},{props:({ownerState:e})=>e.scrollableY,style:{overflowY:"auto",overflowX:"hidden"}}]}),b0=Ee("div",{name:"MuiTabs",slot:"List",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.list,t.flexContainer,o.vertical&&t.flexContainerVertical,o.centered&&t.centered]}})({display:"flex",variants:[{props:({ownerState:e})=>e.vertical,style:{flexDirection:"column"}},{props:({ownerState:e})=>e.centered,style:{justifyContent:"center"}}]}),x0=Ee("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(e,t)=>t.indicator})(Pt(({theme:e})=>({position:"absolute",height:2,bottom:0,width:"100%",transition:e.transitions.create(),variants:[{props:{indicatorColor:"primary"},style:{backgroundColor:(e.vars||e).palette.primary.main}},{props:{indicatorColor:"secondary"},style:{backgroundColor:(e.vars||e).palette.secondary.main}},{props:({ownerState:t})=>t.vertical,style:{height:"100%",width:2,right:0}}]}))),C0=Ee(c0)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),id={},w0=c.forwardRef(function(t,o){const r=Wt({props:t,name:"MuiTabs"}),i=Bt(),a=la(),{"aria-label":l,"aria-labelledby":d,action:p,centered:g=!1,children:m,className:f,component:v="div",allowScrollButtonsMobile:x=!1,indicatorColor:b="primary",onChange:C,orientation:S="horizontal",ScrollButtonComponent:_,scrollButtons:P="auto",selectionFollowsFocus:z,slots:F={},slotProps:G={},TabIndicatorProps:k={},TabScrollButtonProps:M={},textColor:E="primary",value:$,variant:D="standard",visibleScrollbar:O=!1,...H}=r,B=D==="scrollable",I=S==="vertical",A=I?"scrollTop":"scrollLeft",j=I?"top":"left",V=I?"bottom":"right",R=I?"clientHeight":"clientWidth",W=I?"height":"width",Z={...r,component:v,allowScrollButtonsMobile:x,indicatorColor:b,orientation:S,vertical:I,scrollButtons:P,textColor:E,variant:D,visibleScrollbar:O,fixed:!B,hideScrollbar:B&&!O,scrollableX:B&&!I,scrollableY:B&&I,centered:g&&!B,scrollButtonsHideMobile:!x},q=g0(Z),ee=Ni({elementType:F.StartScrollButtonIcon,externalSlotProps:G.startScrollButtonIcon,ownerState:Z}),X=Ni({elementType:F.EndScrollButtonIcon,externalSlotProps:G.endScrollButtonIcon,ownerState:Z}),[te,Y]=c.useState(!1),[ne,re]=c.useState(id),[ve,_e]=c.useState(!1),[be,Ae]=c.useState(!1),[Ce,fe]=c.useState(!1),[se,U]=c.useState({overflow:"hidden",scrollbarWidth:0}),he=new Map,Q=c.useRef(null),ie=c.useRef(null),de={slots:F,slotProps:{indicator:k,scrollButton:M,...G}},we=()=>{const Me=Q.current;let Le;if(Me){const ot=Me.getBoundingClientRect();Le={clientWidth:Me.clientWidth,scrollLeft:Me.scrollLeft,scrollTop:Me.scrollTop,scrollWidth:Me.scrollWidth,top:ot.top,bottom:ot.bottom,left:ot.left,right:ot.right}}let et;if(Me&&$!==!1){const ot=ie.current.children;if(ot.length>0){const kt=ot[he.get($)];et=kt?kt.getBoundingClientRect():null}}return{tabsMeta:Le,tabMeta:et}},Re=Zo(()=>{const{tabsMeta:Me,tabMeta:Le}=we();let et=0,ot;I?(ot="top",Le&&Me&&(et=Le.top-Me.top+Me.scrollTop)):(ot=a?"right":"left",Le&&Me&&(et=(a?-1:1)*(Le[ot]-Me[ot]+Me.scrollLeft)));const kt={[ot]:et,[W]:Le?Le[W]:0};if(typeof ne[ot]!="number"||typeof ne[W]!="number")re(kt);else{const Rt=Math.abs(ne[ot]-kt[ot]),Ne=Math.abs(ne[W]-kt[W]);(Rt>=1||Ne>=1)&&re(kt)}}),Pe=(Me,{animation:Le=!0}={})=>{Le?a0(A,Q.current,Me,{duration:i.transitions.duration.standard}):Q.current[A]=Me},ge=Me=>{let Le=Q.current[A];I?Le+=Me:Le+=Me*(a?-1:1),Pe(Le)},ye=()=>{const Me=Q.current[R];let Le=0;const et=Array.from(ie.current.children);for(let ot=0;ot<et.length;ot+=1){const kt=et[ot];if(Le+kt[R]>Me){ot===0&&(Le=Me);break}Le+=kt[R]}return Le},ke=()=>{ge(-1*ye())},Be=()=>{ge(ye())},[Qe,{onChange:Je,...qe}]=_t("scrollbar",{className:ze(q.scrollableX,q.hideScrollbar),elementType:C0,shouldForwardComponentProp:!0,externalForwardedProps:de,ownerState:Z}),Ke=c.useCallback(Me=>{Je==null||Je(Me),U({overflow:null,scrollbarWidth:Me})},[Je]),[St,at]=_t("scrollButtons",{className:ze(q.scrollButtons,M.className),elementType:m0,externalForwardedProps:de,ownerState:Z,additionalProps:{orientation:S,slots:{StartScrollButtonIcon:F.startScrollButtonIcon||F.StartScrollButtonIcon,EndScrollButtonIcon:F.endScrollButtonIcon||F.EndScrollButtonIcon},slotProps:{startScrollButtonIcon:ee,endScrollButtonIcon:X}}}),st=()=>{const Me={};Me.scrollbarSizeListener=B?h.jsx(Qe,{...qe,onChange:Ke}):null;const et=B&&(P==="auto"&&(ve||be)||P===!0);return Me.scrollButtonStart=et?h.jsx(St,{direction:a?"right":"left",onClick:ke,disabled:!ve,...at}):null,Me.scrollButtonEnd=et?h.jsx(St,{direction:a?"left":"right",onClick:Be,disabled:!be,...at}):null,Me},Jt=Zo(Me=>{const{tabsMeta:Le,tabMeta:et}=we();if(!(!et||!Le)){if(et[j]<Le[j]){const ot=Le[A]+(et[j]-Le[j]);Pe(ot,{animation:Me})}else if(et[V]>Le[V]){const ot=Le[A]+(et[V]-Le[V]);Pe(ot,{animation:Me})}}}),Et=Zo(()=>{B&&P!==!1&&fe(!Ce)});c.useEffect(()=>{const Me=ql(()=>{Q.current&&Re()});let Le;const et=Rt=>{Rt.forEach(Ne=>{Ne.removedNodes.forEach(Cn=>{Le==null||Le.unobserve(Cn)}),Ne.addedNodes.forEach(Cn=>{Le==null||Le.observe(Cn)})}),Me(),Et()},ot=aa(Q.current);ot.addEventListener("resize",Me);let kt;return typeof ResizeObserver<"u"&&(Le=new ResizeObserver(Me),Array.from(ie.current.children).forEach(Rt=>{Le.observe(Rt)})),typeof MutationObserver<"u"&&(kt=new MutationObserver(et),kt.observe(ie.current,{childList:!0})),()=>{Me.clear(),ot.removeEventListener("resize",Me),kt==null||kt.disconnect(),Le==null||Le.disconnect()}},[Re,Et]),c.useEffect(()=>{const Me=Array.from(ie.current.children),Le=Me.length;if(typeof IntersectionObserver<"u"&&Le>0&&B&&P!==!1){const et=Me[0],ot=Me[Le-1],kt={root:Q.current,threshold:.99},Rt=pe=>{_e(!pe[0].isIntersecting)},Ne=new IntersectionObserver(Rt,kt);Ne.observe(et);const Cn=pe=>{Ae(!pe[0].isIntersecting)},Nn=new IntersectionObserver(Cn,kt);return Nn.observe(ot),()=>{Ne.disconnect(),Nn.disconnect()}}},[B,P,Ce,m==null?void 0:m.length]),c.useEffect(()=>{Y(!0)},[]),c.useEffect(()=>{Re()}),c.useEffect(()=>{Jt(id!==ne)},[Jt,ne]),c.useImperativeHandle(p,()=>({updateIndicator:Re,updateScrollButtons:Et}),[Re,Et]);const[Yt,hn]=_t("indicator",{className:ze(q.indicator,k.className),elementType:x0,externalForwardedProps:de,ownerState:Z,additionalProps:{style:ne}}),on=h.jsx(Yt,{...hn});let rn=0;const qt=c.Children.map(m,Me=>{if(!c.isValidElement(Me))return null;const Le=Me.props.value===void 0?rn:Me.props.value;he.set(Le,rn);const et=Le===$;return rn+=1,c.cloneElement(Me,{fullWidth:D==="fullWidth",indicator:et&&!te&&on,selected:et,selectionFollowsFocus:z,onChange:C,textColor:E,value:Le,...rn===1&&$===!1&&!Me.props.tabIndex?{tabIndex:0}:{}})}),It=Me=>{if(Me.altKey||Me.shiftKey||Me.ctrlKey||Me.metaKey)return;const Le=ie.current,et=_i(Le).activeElement;if(et.getAttribute("role")!=="tab")return;let kt=S==="horizontal"?"ArrowLeft":"ArrowUp",Rt=S==="horizontal"?"ArrowRight":"ArrowDown";switch(S==="horizontal"&&a&&(kt="ArrowRight",Rt="ArrowLeft"),Me.key){case kt:Me.preventDefault(),yi(Le,et,sd);break;case Rt:Me.preventDefault(),yi(Le,et,rd);break;case"Home":Me.preventDefault(),yi(Le,null,rd);break;case"End":Me.preventDefault(),yi(Le,null,sd);break}},me=st(),[Te,vt]=_t("root",{ref:o,className:ze(q.root,f),elementType:v0,externalForwardedProps:{...de,...H,component:v},ownerState:Z}),[Ft,zt]=_t("scroller",{ref:Q,className:q.scroller,elementType:y0,externalForwardedProps:de,ownerState:Z,additionalProps:{style:{overflow:se.overflow,[I?`margin${a?"Left":"Right"}`:"marginBottom"]:O?void 0:-se.scrollbarWidth}}}),[dt,Tt]=_t("list",{ref:ie,className:ze(q.list,q.flexContainer),elementType:b0,externalForwardedProps:de,ownerState:Z,getSlotProps:Me=>({...Me,onKeyDown:Le=>{var et;It(Le),(et=Me.onKeyDown)==null||et.call(Me,Le)}})});return h.jsxs(Te,{...vt,children:[me.scrollButtonStart,me.scrollbarSizeListener,h.jsxs(Ft,{...zt,children:[h.jsx(dt,{"aria-label":l,"aria-labelledby":d,"aria-orientation":S==="vertical"?"vertical":null,role:"tablist",...Tt,children:qt}),te&&on]}),me.scrollButtonEnd]})}),ch={xs:"100%",sm:"22ch",md:"28ch"},ad=32,Vr=48,S0={width:"100%",maxWidth:ch,px:1,display:"flex",alignItems:"center",minHeight:Vr,flex:"0 0 auto","& .MuiInputBase-root":{minHeight:Vr},"& .MuiSelect-select":{display:"flex",alignItems:"center",minHeight:Vr},"& .MuiAutocomplete-inputRoot":{paddingTop:0,paddingBottom:0,transition:"all 120ms ease"}},Rl=({label:e,options:t,value:o,onChange:r,required:i=!1,inputValue:a,onInputChange:l,renderOption:d,wrapperSx:p})=>{const[g,m]=c.useState(""),f=a!==void 0?a:g,v=f.trim().toLowerCase(),x=c.useMemo(()=>v?t.filter(C=>(typeof C=="string"?C:C.label).toLowerCase().includes(v)):t,[v,t]),b=(C,S)=>{a===void 0&&m(S),l==null||l(S)};return h.jsx(Ue,{sx:p??S0,children:h.jsx(js,{componentsProps:{popper:{style:{zIndex:2e3}}},disableClearable:!0,options:x,value:o==null?void 0:t.find(S=>typeof S=="string"?S===o:S.value===o)??void 0,onChange:(C,S)=>{if(S==null){r(null);return}const _=typeof S=="string"?S:S.value;r(_)},inputValue:f,onInputChange:b,getOptionLabel:C=>typeof C=="string"?C:C.label,renderOption:d??((C,S)=>h.jsx(Bi,{...C,dense:!0,children:h.jsx(On,{primary:typeof S=="string"?S:S.label})})),renderInput:C=>{const S=h.jsx(h.Fragment,{children:C.InputProps.endAdornment});return h.jsx(En,{...C,placeholder:o?"":e,size:"small",required:i,"aria-label":e,InputProps:{...C.InputProps,endAdornment:S,sx:{height:Vr,transition:"all 120ms ease","& .MuiInputBase-input":{paddingTop:0,paddingBottom:0,paddingRight:"56px",fontSize:13,lineHeight:`${ad}px`}}}})},ListboxProps:{sx:{zIndex:2e3,maxHeight:320}},sx:{width:ch,"& .MuiAutocomplete-inputRoot":{minHeight:Vr,maxHeight:Vr,alignItems:"center",transition:"all 120ms ease","& .MuiInputBase-input":{paddingTop:0,paddingBottom:0,paddingRight:"56px",fontSize:13,lineHeight:`${ad}px`}}}})})},_0=br(Ue),ld=br(Nt),P0=({allResources:e,calloutGroups:t,onStart:o,onDismiss:r})=>{const i=Bt(),[a,l]=c.useState(""),[d,p]=c.useState(""),[g,m]=c.useState(!1),f=c.useRef(null),v=a?e.filter(C=>C.calloutGroup===a):[];c.useMemo(()=>{if(!d.trim())return t;const C=d.toLowerCase();return t.filter(S=>S.toLowerCase().includes(C))},[t,d]);const x=c.useMemo(()=>{const C=new Map;for(const S of e){const _=S.calloutGroup??"";_&&C.set(_,(C.get(_)??0)+1)}return C},[e]);c.useEffect(()=>{if(!a){p("");return}p(a)},[a]),c.useEffect(()=>{const C=_=>{f.current&&(f.current.contains(_.target)||r())};document.addEventListener("mousedown",C);const S=_=>{_.key==="Escape"&&r()};return document.addEventListener("keydown",S),()=>{document.removeEventListener("mousedown",C),document.removeEventListener("keydown",S)}},[r]);const b=!a;return h.jsx(_0,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},sx:{position:"fixed",inset:0,zIndex:1e4,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"rgba(5,20,40,0.6)",backdropFilter:"blur(8px)"},onClick:r,children:h.jsx(ld,{ref:f,elevation:18,onClick:C=>C.stopPropagation(),sx:{width:"100%",maxWidth:{xs:"100%",md:i.spacing(120)},mx:2,borderRadius:4,px:{xs:3,md:6},py:{xs:4,md:6},border:`1px solid ${Se(i.palette.primary.main,.18)}`,boxShadow:"0 24px 55px rgba(10,74,122,0.28)",backgroundImage:"none"},children:h.jsxs(wt,{spacing:6,children:[h.jsxs(wt,{direction:"row",spacing:3,alignItems:"center",children:[h.jsx(Ue,{sx:{height:i.spacing(5.5),width:i.spacing(5.5),borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",bgcolor:i.palette.primary.main,color:i.palette.primary.contrastText,boxShadow:"0 12px 28px rgba(10,74,122,0.35)"},children:h.jsx(ua,{size:20})}),h.jsxs(wt,{spacing:.75,children:[h.jsx(rt,{variant:"h6",fontWeight:600,color:"text.primary",children:"Select Callout List"}),h.jsx(rt,{variant:"body2",color:"text.secondary",children:"Choose a callout group to begin the workflow."})]})]}),h.jsxs(wt,{spacing:1.5,children:[h.jsx(rt,{variant:"overline",sx:{fontWeight:700,letterSpacing:1.2,color:Se(i.palette.primary.main,.8)},children:"Callout Group"}),h.jsx(Rl,{label:"Callout Group",options:t,value:a||null,inputValue:d,onInputChange:C=>{p(C),C||l("")},onChange:C=>{const S=C??"";l(S),p(S),m(!1),S&&o(S)},renderOption:(C,S)=>{const _=typeof S=="string"?S:S.label,P=x.get(_)??0;return c.createElement("li",{...C,key:_},h.jsxs(wt,{direction:"row",spacing:1.5,alignItems:"center",justifyContent:"space-between",sx:{width:"100%"},children:[h.jsx(rt,{variant:"body2",color:"text.primary",children:_}),h.jsxs(rt,{variant:"caption",color:"text.secondary",children:[P," ",P===1?"resource":"resources"]})]}))}})]}),h.jsx(Ue,{sx:{minHeight:64},children:h.jsx(ec,{mode:"wait",children:a&&h.jsx(ld,{elevation:0,initial:{opacity:0,y:-6},animate:{opacity:1,y:0},exit:{opacity:0,y:-6},transition:{duration:.18},sx:{display:"inline-flex",alignItems:"center",gap:1,px:3,py:2,borderRadius:2,border:`1px solid ${Se(i.palette.primary.main,.25)}`,bgcolor:Se(i.palette.primary.main,.08),color:i.palette.primary.main,fontSize:"0.95rem",fontWeight:600},children:h.jsxs(rt,{variant:"body2",color:"inherit",children:[h.jsx(Ue,{component:"span",sx:{fontWeight:700},children:v.length})," ",v.length===1?"resource":"resources"," in this callout group."]})},a)})}),h.jsx(wt,{direction:"row",justifyContent:"flex-end",children:h.jsx(yn,{onClick:()=>{m(!1),o(a)},disabled:b,variant:"contained",endIcon:h.jsx(Og,{size:16}),sx:{textTransform:"none",fontWeight:600,px:3,py:1.25,borderRadius:2},children:"Continue"})})]})})})},dn=JSON.parse('[{"taskId":"RG-AB30001","division":"Admin","taskStatus":"Not Assigned (ACT)","pwa":"ZB-ALPHA-12","taskType":"Admin Review","primarySkill":"ADMIN1","capabilities":["ADMIN1"],"importanceScore":97,"msc":"Y","taskCreated":"Mon 6 Jan, 10:40 AM","groupCode":"Admin Group","systemType":"FSM","employeeId":"T6344","resourceName":"Dylan Lewis","asset":"OFF-8247","assetName":"Document Verification Queue","commitmentDate":"Fri 7 Jan, 1:15 PM","commitmentType":"Complete By","arrivedAtDate":"","domain":"CF","estimatedDuration":150,"lastProgression":"On Site","category":"Administration","description":"Administration task for broadband/FTTP service in local area.","responseCode":"SH01","postCode":"CF44 8AU","appointmentStartDate":"","linkedTask":"","customerAddress":"","expectedStartDate":"Sat 7 Jan, 8:15 AM","expectedFinishDate":"Wed 8 Jan, 10:45 AM","externalQueueId":"EXT-441440","workId":"WK-790218","estimateNumber":"EST-55784","startDate":"","lat":51.70832,"lng":-3.44613,"expectedWindow":"8amâ€“10:30am","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 8AU\\n- Type Admin Review\\n- Skill ADMIN1\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Not Assigned (ACT)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Not Assigned (ACT)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30002","division":"Service Delivery","taskStatus":"Assigned (ACT)","pwa":"ZB-OMEGA-09","taskType":"Survey","primarySkill":"RISDN2","capabilities":["RISDN2"],"importanceScore":45,"msc":"Y","taskCreated":"Thu 7 Jan, 10:40 AM","groupCode":"Service Delivery","systemType":"NW","employeeId":"T7690","resourceName":"John Edwards","asset":"MH-5541","assetName":"Route Survey Node","commitmentDate":"Fri 10 Jan, 3:30 PM","commitmentType":"Future","arrivedAtDate":"","domain":"MN","estimatedDuration":90,"lastProgression":"On Site","category":"Survey","description":"Survey task for broadband/FTTP service in local area.","responseCode":"SH05","postCode":"CF44 7IW","appointmentStartDate":"","linkedTask":"","customerAddress":"111 Hirwaun Road, Aberdare","expectedStartDate":"Sat 8 Jan, 10:40 AM","expectedFinishDate":"Thu 11 Jan, 11:10 AM","externalQueueId":"EXT-441998","workId":"WK-729320","estimateNumber":"EST-55739","startDate":"","lat":51.70624,"lng":-3.44051,"expectedWindow":"10amâ€“11:30am","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7IW\\n- Type Survey\\n- Skill RISDN2\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Assigned (ACT)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Assigned (ACT)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30003","division":"Service Delivery","taskStatus":"Dispatched (AWI)","pwa":"ZB-ALPHA-02","taskType":"Repair","primarySkill":"RISDN2","capabilities":["RISDN2"],"importanceScore":90,"msc":"N","taskCreated":"Wed 11 Jan, 10:40 AM","groupCode":"Service Delivery","systemType":"OR","employeeId":"T6721","resourceName":"Ryan Jenkins","asset":"CAB-8837","assetName":"DP Pole","commitmentDate":"Wed 13 Jan, 11:20 AM","commitmentType":"Future","arrivedAtDate":"Thu 11 Jan, 8:15 AM","domain":"SE","estimatedDuration":120,"lastProgression":"On Site","category":"Repair","description":"Repair task for broadband/FTTP service in local area.","responseCode":"SH03","postCode":"CF44 7SL","appointmentStartDate":"","linkedTask":"","customerAddress":"108 Victoria Street, Aberdare","expectedStartDate":"Sat 11 Jan, 8:15 AM","expectedFinishDate":"Wed 14 Jan, 10:15 AM","externalQueueId":"EXT-441215","workId":"WK-703093","estimateNumber":"EST-55777","startDate":"Sat 11 Jan, 8:15 AM","lat":51.7204,"lng":-3.44196,"expectedWindow":"8amâ€“10am","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7SL\\n- Type Repair\\n- Skill RISDN2\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Dispatched (AWI)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Dispatched (AWI)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30004","division":"Complex Engineering","taskStatus":"Accepted (ISS)","pwa":"ZB-GAMMA-05","taskType":"Survey","primarySkill":"RFTTP1","capabilities":["RFTTP1"],"importanceScore":54,"msc":"Y","taskCreated":"Fri 3 Jan, 3:30 PM","groupCode":"Complex Engineering","systemType":"NW","employeeId":"T8224","resourceName":"Nia Brown","asset":"AS-1941","assetName":"Joint Box","commitmentDate":"Mon 5 Jan, 8:15 AM","commitmentType":"Start By","arrivedAtDate":"Mon 6 Jan, 4:10 PM","domain":"CF","estimatedDuration":45,"lastProgression":"Completed","category":"Survey","description":"Survey task for broadband/FTTP service in local area.","responseCode":"SH01","postCode":"CF44 6IQ","appointmentStartDate":"","linkedTask":"","customerAddress":"28 Aberaman Road, Aberdare","expectedStartDate":"Wed 7 Jan, 3:30 PM","expectedFinishDate":"Fri 10 Jan, 4:15 PM","externalQueueId":"EXT-441801","workId":"WK-746808","estimateNumber":"EST-55786","startDate":"Wed 7 Jan, 3:30 PM","lat":51.70576,"lng":-3.43954,"expectedWindow":"3pmâ€“3:45pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 6IQ\\n- Type Survey\\n- Skill RFTTP1\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Accepted (ISS)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Accepted (ISS)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30005","division":"Admin","taskStatus":"In Progress (EXC)","pwa":"ZB-OMEGA-06","taskType":"Admin Review","primarySkill":"ADMIN2","capabilities":["ADMIN2"],"importanceScore":64,"msc":"Y","taskCreated":"Fri 13 Jan, 9:05 AM","groupCode":"Admin Group","systemType":"OR","employeeId":"T7544","resourceName":"Harvey Rees","asset":"OFF-3588","assetName":"Document Verification Queue","commitmentDate":"Sat 15 Jan, 3:30 PM","commitmentType":"Complete By","arrivedAtDate":"Wed 16 Jan, 11:20 AM","domain":"SE","estimatedDuration":60,"lastProgression":"Accepted","category":"Administration","description":"Administration task for broadband/FTTP service in local area.","responseCode":"AD02","postCode":"CF44 7NZ","appointmentStartDate":"","linkedTask":"","customerAddress":"","expectedStartDate":"Thu 16 Jan, 11:20 AM","expectedFinishDate":"Fri 19 Jan, 12:20 PM","externalQueueId":"EXT-441383","workId":"WK-734734","estimateNumber":"EST-55767","startDate":"Thu 16 Jan, 11:20 AM","lat":51.70775,"lng":-3.44796,"expectedWindow":"11amâ€“12pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7NZ\\n- Type Admin Review\\n- Skill ADMIN2\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"In Progress (EXC)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"In Progress (EXC)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30006","division":"Admin","taskStatus":"Completed (COM)","pwa":"ZB-GAMMA-07","taskType":"Admin Review","primarySkill":"ADMIN1","capabilities":["ADMIN1"],"importanceScore":56,"msc":"Y","taskCreated":"Thu 10 Jan, 9:05 AM","groupCode":"Admin Group","systemType":"FSM","employeeId":"T5414","resourceName":"Ffion Davies","asset":"OFF-8718","assetName":"Admin Processing Queue","commitmentDate":"Fri 13 Jan, 11:20 AM","commitmentType":"Appointment","arrivedAtDate":"Sat 16 Jan, 4:10 PM","domain":"MN","estimatedDuration":90,"lastProgression":"Completed","category":"Administration","description":"Administration task for broadband/FTTP service in local area.","responseCode":"sh02","postCode":"CF44 7TJ","appointmentStartDate":"Sun 16 Jan, 8:15 AM","linkedTask":"","customerAddress":"","expectedStartDate":"Sat 16 Jan, 8:15 AM","expectedFinishDate":"Thu 19 Jan, 9:45 AM","externalQueueId":"EXT-441404","workId":"WK-728071","estimateNumber":"EST-55763","startDate":"Sat 16 Jan, 8:15 AM","lat":51.70737,"lng":-3.45195,"expectedWindow":"8amâ€“9:30am","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7TJ\\n- Type Admin Review\\n- Skill ADMIN1\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Completed (COM)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Completed (COM)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30007","division":"Complex Engineering","taskStatus":"Not Assigned (ACT)","pwa":"ZB-DELTA-07","taskType":"Survey","primarySkill":"ADMIN1","capabilities":["ADMIN1"],"importanceScore":74,"msc":"Y","taskCreated":"Mon 12 Jan, 8:15 AM","groupCode":"Complex Engineering","systemType":"OR","employeeId":"T1258","resourceName":"Nia Hughes","asset":"CAB-1922","assetName":"Route Survey Node","commitmentDate":"Tue 14 Jan, 2:00 PM","commitmentType":"Complete By","arrivedAtDate":"","domain":"SE","estimatedDuration":120,"lastProgression":"En Route","category":"Survey","description":"Survey task for broadband/FTTP service in local area.","responseCode":"SH05","postCode":"CF44 6XQ","appointmentStartDate":"","linkedTask":"","customerAddress":"75 Cardiff Road, Aberdare","expectedStartDate":"Fri 14 Jan, 2:00 PM","expectedFinishDate":"Sun 17 Jan, 4:00 PM","externalQueueId":"EXT-441499","workId":"WK-781809","estimateNumber":"EST-55797","startDate":"","lat":51.71928,"lng":-3.44445,"expectedWindow":"2pmâ€“4pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 6XQ\\n- Type Survey\\n- Skill ADMIN1\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Not Assigned (ACT)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Not Assigned (ACT)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30008","division":"Service Delivery","taskStatus":"Assigned (ACT)","pwa":"ZB-GAMMA-10","taskType":"Emergency","primarySkill":"RISDN3","capabilities":["RISDN3"],"importanceScore":89,"msc":"N","taskCreated":"Sat 8 Jan, 10:40 AM","groupCode":"Service Delivery","systemType":"OR","employeeId":"T9306","resourceName":"Ryan Lewis","asset":"AS-4107","assetName":"Backhaul Joint","commitmentDate":"Tue 10 Jan, 2:00 PM","commitmentType":"Future","arrivedAtDate":"","domain":"MN","estimatedDuration":90,"lastProgression":"On Site","category":"Emergency","description":"Emergency task for broadband/FTTP service in local area.","responseCode":"SH01","postCode":"CF44 8IN","appointmentStartDate":"","linkedTask":"RG-AB30003","customerAddress":"63 Brook Street, Aberdare","expectedStartDate":"Thu 10 Jan, 2:00 PM","expectedFinishDate":"Sun 13 Jan, 3:30 PM","externalQueueId":"EXT-441318","workId":"WK-764130","estimateNumber":"EST-55734","startDate":"","lat":51.70599,"lng":-3.44795,"expectedWindow":"2pmâ€“3:30pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 8IN\\n- Type Emergency\\n- Skill RISDN3\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Assigned (ACT)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Assigned (ACT)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30009","division":"Service Delivery","taskStatus":"Dispatched (AWI)","pwa":"ZB-ALPHA-06","taskType":"Emergency","primarySkill":"RISDN1","capabilities":["RISDN1"],"importanceScore":77,"msc":"Y","taskCreated":"Wed 8 Jan, 7:30 AM","groupCode":"Service Delivery","systemType":"OR","employeeId":"T2730","resourceName":"Nia Edwards","asset":"AS-1363","assetName":"Backhaul Joint","commitmentDate":"Thu 10 Jan, 7:30 AM","commitmentType":"Appointment","arrivedAtDate":"Thu 10 Jan, 11:20 AM","domain":"SE","estimatedDuration":150,"lastProgression":"On Site","category":"Emergency","description":"Emergency task for broadband/FTTP service in local area.","responseCode":"SH01","postCode":"CF44 7MH","appointmentStartDate":"Fri 10 Jan, 7:30 AM","linkedTask":"RG-AB30006","customerAddress":"71 Gadlys Road, Aberdare","expectedStartDate":"Fri 10 Jan, 7:30 AM","expectedFinishDate":"Sun 13 Jan, 10:00 AM","externalQueueId":"EXT-441511","workId":"WK-797851","estimateNumber":"EST-55735","startDate":"Fri 10 Jan, 7:30 AM","lat":51.7155,"lng":-3.45247,"expectedWindow":"7amâ€“9:30am","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7MH\\n- Type Emergency\\n- Skill RISDN1\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Dispatched (AWI)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Dispatched (AWI)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30010","division":"Complex Engineering","taskStatus":"Accepted (ISS)","pwa":"ZB-DELTA-05","taskType":"Inspection","primarySkill":"RISDN3","capabilities":["RISDN3"],"importanceScore":97,"msc":"Y","taskCreated":"Tue 11 Jan, 4:10 PM","groupCode":"Complex Engineering","systemType":"FSM","employeeId":"T9864","resourceName":"Nia Jenkins","asset":"AS-5489","assetName":"Distribution Point","commitmentDate":"Tue 13 Jan, 2:00 PM","commitmentType":"Appointment","arrivedAtDate":"Thu 15 Jan, 11:20 AM","domain":"MN","estimatedDuration":90,"lastProgression":"On Site","category":"Inspection","description":"Inspection task for broadband/FTTP service in local area.","responseCode":"SH04","postCode":"CF44 8JK","appointmentStartDate":"Thu 15 Jan, 2:00 PM","linkedTask":"","customerAddress":"91 Robertstown Road, Aberdare","expectedStartDate":"Thu 15 Jan, 2:00 PM","expectedFinishDate":"Sat 18 Jan, 3:30 PM","externalQueueId":"EXT-441812","workId":"WK-728959","estimateNumber":"EST-55777","startDate":"Thu 15 Jan, 2:00 PM","lat":51.70787,"lng":-3.44639,"expectedWindow":"2pmâ€“3:30pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 8JK\\n- Type Inspection\\n- Skill RISDN3\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Accepted (ISS)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Accepted (ISS)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30011","division":"Admin","taskStatus":"In Progress (EXC)","pwa":"ZB-OMEGA-02","taskType":"Admin Review","primarySkill":"ADMIN2","capabilities":["ADMIN2"],"importanceScore":45,"msc":"Y","taskCreated":"Wed 3 Jan, 10:40 AM","groupCode":"Admin Group","systemType":"FSM","employeeId":"T8103","resourceName":"Rhys Hughes","asset":"OFF-7322","assetName":"Document Verification Queue","commitmentDate":"Thu 5 Jan, 2:00 PM","commitmentType":"Appointment","arrivedAtDate":"Fri 8 Jan, 11:20 AM","domain":"CF","estimatedDuration":60,"lastProgression":"Completed","category":"Administration","description":"Administration task for broadband/FTTP service in local area.","responseCode":"SH04","postCode":"CF44 7JR","appointmentStartDate":"Sat 8 Jan, 2:00 PM","linkedTask":"RG-AB30003","customerAddress":"","expectedStartDate":"Sat 8 Jan, 2:00 PM","expectedFinishDate":"Tue 11 Jan, 3:00 PM","externalQueueId":"EXT-441888","workId":"WK-775917","estimateNumber":"EST-55728","startDate":"Sat 8 Jan, 2:00 PM","lat":51.7254,"lng":-3.50534,"expectedWindow":"2pmâ€“3pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7JR\\n- Type Admin Review\\n- Skill ADMIN2\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"In Progress (EXC)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"In Progress (EXC)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30012","division":"Complex Engineering","taskStatus":"Completed (COM)","pwa":"ZB-ALPHA-04","taskType":"Inspection","primarySkill":"RFTTP2","capabilities":["RFTTP2"],"importanceScore":49,"msc":"Y","taskCreated":"Sat 11 Jan, 9:05 AM","groupCode":"Complex Engineering","systemType":"NW","employeeId":"T8443","resourceName":"Lowri Jenkins","asset":"AS-8859","assetName":"Distribution Point","commitmentDate":"Sat 14 Jan, 1:15 PM","commitmentType":"Complete By","arrivedAtDate":"Mon 16 Jan, 4:10 PM","domain":"MN","estimatedDuration":90,"lastProgression":"Completed","category":"Inspection","description":"Inspection task for broadband/FTTP service in local area.","responseCode":"SH05","postCode":"CF44 7DZ","appointmentStartDate":"","linkedTask":"RG-AB30007","customerAddress":"109 High Street, Aberdare","expectedStartDate":"Tue 16 Jan, 4:10 PM","expectedFinishDate":"Fri 19 Jan, 5:40 PM","externalQueueId":"EXT-441590","workId":"WK-758165","estimateNumber":"EST-55792","startDate":"Tue 16 Jan, 4:10 PM","lat":51.72091,"lng":-3.52057,"expectedWindow":"4pmâ€“5:30pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7DZ\\n- Type Inspection\\n- Skill RFTTP2\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Completed (COM)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Completed (COM)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30013","division":"Service Delivery","taskStatus":"Not Assigned (ACT)","pwa":"ZB-ALPHA-04","taskType":"Inspection","primarySkill":"RISDN2","capabilities":["RISDN2"],"importanceScore":82,"msc":"Y","taskCreated":"Tue 7 Jan, 10:40 AM","groupCode":"Service Delivery","systemType":"NW","employeeId":"T9526","resourceName":"Lauren Evans","asset":"AS-9446","assetName":"Underground Joint Chamber","commitmentDate":"Wed 9 Jan, 11:20 AM","commitmentType":"Appointment","arrivedAtDate":"","domain":"CF","estimatedDuration":120,"lastProgression":"On Site","category":"Inspection","description":"Inspection task for broadband/FTTP service in local area.","responseCode":"SH01","postCode":"CF44 6EV","appointmentStartDate":"Thu 9 Jan, 11:20 AM","linkedTask":"RG-AB30003","customerAddress":"81 Cardiff Road, Aberdare","expectedStartDate":"Thu 9 Jan, 11:20 AM","expectedFinishDate":"Sun 12 Jan, 1:20 PM","externalQueueId":"EXT-441954","workId":"WK-790116","estimateNumber":"EST-55766","startDate":"","lat":51.72224,"lng":-3.51289,"expectedWindow":"11amâ€“1pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 6EV\\n- Type Inspection\\n- Skill RISDN2\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Not Assigned (ACT)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Not Assigned (ACT)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30014","division":"Complex Engineering","taskStatus":"Assigned (ACT)","pwa":"ZB-GAMMA-02","taskType":"Emergency","primarySkill":"RISDN3","capabilities":["RISDN3"],"importanceScore":88,"msc":"N","taskCreated":"Wed 13 Jan, 9:05 AM","groupCode":"Complex Engineering","systemType":"OR","employeeId":"T5309","resourceName":"Aled Evans","asset":"AS-9906","assetName":"Priority Splice Enclosure","commitmentDate":"Thu 16 Jan, 11:20 AM","commitmentType":"Appointment","arrivedAtDate":"","domain":"CF","estimatedDuration":90,"lastProgression":"Allocated","category":"Emergency","description":"Emergency task for broadband/FTTP service in local area.","responseCode":"SH05","postCode":"CF44 7AV","appointmentStartDate":"Fri 16 Jan, 11:20 AM","linkedTask":"","customerAddress":"77 Canon Street, Aberdare","expectedStartDate":"Fri 16 Jan, 11:20 AM","expectedFinishDate":"Mon 19 Jan, 12:50 PM","externalQueueId":"EXT-441587","workId":"WK-785274","estimateNumber":"EST-55720","startDate":"","lat":51.71383,"lng":-3.44986,"expectedWindow":"11amâ€“12:30pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7AV\\n- Type Emergency\\n- Skill RISDN3\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Assigned (ACT)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Assigned (ACT)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30015","division":"Service Delivery","taskStatus":"Dispatched (AWI)","pwa":"ZB-GAMMA-04","taskType":"Repair","primarySkill":"RISDN1","capabilities":["RISDN1"],"importanceScore":76,"msc":"N","taskCreated":"Sat 3 Jan, 7:30 AM","groupCode":"Service Delivery","systemType":"OR","employeeId":"T8571","resourceName":"Ffion Hughes","asset":"AS-8163","assetName":"Drop Wire","commitmentDate":"Mon 6 Jan, 9:05 AM","commitmentType":"Complete By","arrivedAtDate":"Wed 8 Jan, 10:40 AM","domain":"SE","estimatedDuration":60,"lastProgression":"Completed","category":"Repair","description":"Repair task for broadband/FTTP service in local area.","responseCode":"SH05","postCode":"CF44 8BQ","appointmentStartDate":"","linkedTask":"","customerAddress":"86 Albert Street, Aberdare","expectedStartDate":"Thu 8 Jan, 10:40 AM","expectedFinishDate":"Sun 11 Jan, 11:40 AM","externalQueueId":"EXT-441968","workId":"WK-703787","estimateNumber":"EST-55733","startDate":"Thu 8 Jan, 10:40 AM","lat":51.71159,"lng":-3.44429,"expectedWindow":"10amâ€“11am","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 8BQ\\n- Type Repair\\n- Skill RISDN1\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Dispatched (AWI)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Dispatched (AWI)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30016","division":"Complex Engineering","taskStatus":"Accepted (ISS)","pwa":"ZB-ALPHA-02","taskType":"Survey","primarySkill":"RFTTP1","capabilities":["RFTTP1"],"importanceScore":60,"msc":"Y","taskCreated":"Tue 5 Jan, 2:00 PM","groupCode":"Complex Engineering","systemType":"NW","employeeId":"T7749","resourceName":"Ryan Morgan","asset":"MH-8437","assetName":"Manhole Access Point","commitmentDate":"Wed 7 Jan, 3:30 PM","commitmentType":"Start By","arrivedAtDate":"Thu 9 Jan, 11:20 AM","domain":"MN","estimatedDuration":150,"lastProgression":"On Site","category":"Survey","description":"Survey task for broadband/FTTP service in local area.","responseCode":"SH05","postCode":"CF44 8WX","appointmentStartDate":"","linkedTask":"","customerAddress":"44 Commercial Street, Aberdare","expectedStartDate":"Thu 9 Jan, 11:20 AM","expectedFinishDate":"Sun 12 Jan, 1:50 PM","externalQueueId":"EXT-441720","workId":"WK-723933","estimateNumber":"EST-55754","startDate":"Thu 9 Jan, 11:20 AM","lat":51.71966,"lng":-3.44275,"expectedWindow":"11amâ€“1:30pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 8WX\\n- Type Survey\\n- Skill RFTTP1\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Accepted (ISS)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Accepted (ISS)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30017","division":"Admin","taskStatus":"In Progress (EXC)","pwa":"ZB-OMEGA-01","taskType":"Admin Review","primarySkill":"ADMIN2","capabilities":["ADMIN2"],"importanceScore":86,"msc":"Y","taskCreated":"Wed 7 Jan, 1:15 PM","groupCode":"Admin Group","systemType":"OR","employeeId":"T9344","resourceName":"Lauren Roberts","asset":"OFF-4090","assetName":"Admin Processing Queue","commitmentDate":"Thu 9 Jan, 3:30 PM","commitmentType":"Future","arrivedAtDate":"Sat 11 Jan, 11:20 AM","domain":"SE","estimatedDuration":40,"lastProgression":"Allocated","category":"Administration","description":"Administration task for broadband/FTTP service in local area.","responseCode":"AD02","postCode":"CF44 8PT","appointmentStartDate":"","linkedTask":"","customerAddress":"","expectedStartDate":"Sun 11 Jan, 11:20 AM","expectedFinishDate":"Wed 14 Jan, 12:00 PM","externalQueueId":"EXT-441249","workId":"WK-705434","estimateNumber":"EST-55758","startDate":"Sun 11 Jan, 11:20 AM","lat":51.7063,"lng":-3.50452,"expectedWindow":"11amâ€“12pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 8PT\\n- Type Admin Review\\n- Skill ADMIN2\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"In Progress (EXC)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"In Progress (EXC)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30018","division":"Service Delivery","taskStatus":"Completed (COM)","pwa":"ZB-OMEGA-11","taskType":"Emergency","primarySkill":"RISDN1","capabilities":["RISDN1"],"importanceScore":68,"msc":"Y","taskCreated":"Wed 9 Jan, 1:15 PM","groupCode":"Service Delivery","systemType":"OR","employeeId":"T9810","resourceName":"Ffion Smith","asset":"AS-7197","assetName":"Priority Splice Enclosure","commitmentDate":"Fri 11 Jan, 2:00 PM","commitmentType":"Future","arrivedAtDate":"Sun 13 Jan, 8:15 AM","domain":"CF","estimatedDuration":150,"lastProgression":"Completed","category":"Emergency","description":"Emergency task for broadband/FTTP service in local area.","responseCode":"SH01","postCode":"CF44 7WA","appointmentStartDate":"","linkedTask":"","customerAddress":"29 Robertstown Road, Aberdare","expectedStartDate":"Mon 13 Jan, 8:15 AM","expectedFinishDate":"Thu 16 Jan, 10:45 AM","externalQueueId":"EXT-441790","workId":"WK-772532","estimateNumber":"EST-55737","startDate":"Mon 13 Jan, 8:15 AM","lat":51.70622,"lng":-3.5041,"expectedWindow":"8amâ€“10:30am","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7WA\\n- Type Emergency\\n- Skill RISDN1\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Completed (COM)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Completed (COM)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30019","division":"Admin","taskStatus":"Assigned (ACT)","pwa":"ZB-GAMMA-09","taskType":"Admin Review","primarySkill":"ADMIN2","capabilities":["ADMIN2"],"importanceScore":71,"msc":"N","taskCreated":"Thu 13 Jan, 11:20 AM","groupCode":"Admin Group","systemType":"NW","employeeId":"T6541","resourceName":"Chloe Jenkins","asset":"OFF-1456","assetName":"Document Verification Queue","commitmentDate":"Fri 15 Jan, 2:00 PM","commitmentType":"Appointment","arrivedAtDate":"","domain":"SE","estimatedDuration":60,"lastProgression":"On Site","category":"Administration","description":"Administration task for broadband/FTTP service in local area.","responseCode":"AD02","postCode":"CF44 7XT","appointmentStartDate":"Sat 15 Jan, 2:00 PM","linkedTask":"","customerAddress":"","expectedStartDate":"Sat 15 Jan, 2:00 PM","expectedFinishDate":"Tue 18 Jan, 3:00 PM","externalQueueId":"EXT-441495","workId":"WK-765705","estimateNumber":"EST-55794","startDate":"","lat":51.70445,"lng":-3.4997,"expectedWindow":"2pmâ€“3pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7XT\\n- Type Admin Review\\n- Skill ADMIN2\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Assigned (ACT)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Assigned (ACT)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30020","division":"Service Delivery","taskStatus":"Dispatched (AWI)","pwa":"ZB-GAMMA-10","taskType":"Repair","primarySkill":"RISDN3","capabilities":["RISDN3"],"importanceScore":31,"msc":"Y","taskCreated":"Thu 5 Jan, 2:00 PM","groupCode":"Service Delivery","systemType":"OR","employeeId":"T9129","resourceName":"Chloe Hughes","asset":"CAB-1198","assetName":"Copper Joint Enclosure","commitmentDate":"Sat 7 Jan, 3:30 PM","commitmentType":"Start By","arrivedAtDate":"Sun 9 Jan, 10:40 AM","domain":"SE","estimatedDuration":45,"lastProgression":"Completed","category":"Repair","description":"Repair task for broadband/FTTP service in local area.","responseCode":"SH03","postCode":"CF44 7KB","appointmentStartDate":"","linkedTask":"RG-AB30018","customerAddress":"118 Cardiff Road, Aberdare","expectedStartDate":"Mon 9 Jan, 10:40 AM","expectedFinishDate":"Thu 12 Jan, 11:25 AM","externalQueueId":"EXT-441992","workId":"WK-731785","estimateNumber":"EST-55771","startDate":"Mon 9 Jan, 10:40 AM","lat":51.72207,"lng":-3.5099,"expectedWindow":"10amâ€“11:15am","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7KB\\n- Type Repair\\n- Skill RISDN3\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Dispatched (AWI)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Dispatched (AWI)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30021","division":"Complex Engineering","taskStatus":"Accepted (ISS)","pwa":"ZB-ALPHA-10","taskType":"Survey","primarySkill":"RFTTP1","capabilities":["RFTTP1"],"importanceScore":68,"msc":"Y","taskCreated":"Fri 9 Jan, 8:15 AM","groupCode":"Complex Engineering","systemType":"FSM","employeeId":"T7859","resourceName":"Tomos Hughes","asset":"AS-6348","assetName":"Route Survey Node","commitmentDate":"Sun 11 Jan, 3:30 PM","commitmentType":"Complete By","arrivedAtDate":"Mon 13 Jan, 11:20 AM","domain":"CF","estimatedDuration":90,"lastProgression":"Scheduled","category":"Survey","description":"Survey task for broadband/FTTP service in local area.","responseCode":"SH03","postCode":"CF44 6US","appointmentStartDate":"","linkedTask":"","customerAddress":"16 Brook Street, Aberdare","expectedStartDate":"Mon 13 Jan, 11:20 AM","expectedFinishDate":"Thu 16 Jan, 12:50 PM","externalQueueId":"EXT-441467","workId":"WK-716640","estimateNumber":"EST-55776","startDate":"Mon 13 Jan, 11:20 AM","lat":51.71882,"lng":-3.4518,"expectedWindow":"11amâ€“12:30pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 6US\\n- Type Survey\\n- Skill RFTTP1\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Accepted (ISS)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Accepted (ISS)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30022","division":"Service Delivery","taskStatus":"Not Assigned (ACT)","pwa":"ZB-DELTA-10","taskType":"Inspection","primarySkill":"RISDN3","capabilities":["RISDN3"],"importanceScore":69,"msc":"Y","taskCreated":"Mon 10 Jan, 9:05 AM","groupCode":"Service Delivery","systemType":"NW","employeeId":"T3909","resourceName":"Chloe Hughes","asset":"AS-7695","assetName":"Underground Joint Chamber","commitmentDate":"Tue 12 Jan, 1:15 PM","commitmentType":"Appointment","arrivedAtDate":"","domain":"MN","estimatedDuration":90,"lastProgression":"Allocated","category":"Inspection","description":"Inspection task for broadband/FTTP service in local area.","responseCode":"SH01","postCode":"CF44 7TT","appointmentStartDate":"Wed 12 Jan, 1:15 PM","linkedTask":"","customerAddress":"40 Cardif Road, Aberdare","expectedStartDate":"Wed 12 Jan, 1:15 PM","expectedFinishDate":"Sat 15 Jan, 2:45 PM","externalQueueId":"EXT-441413","workId":"WK-783470","estimateNumber":"EST-55797","startDate":"","lat":51.71277,"lng":-3.44368,"expectedWindow":"1pmâ€“2:30pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7TT\\n- Type Inspection\\n- Skill RISDN3\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Not Assigned (ACT)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Not Assigned (ACT)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30023","division":"Admin","taskStatus":"Assigned (ACT)","pwa":"ZB-DELTA-03","taskType":"Admin Review","primarySkill":"ADMIN1","capabilities":["ADMIN1"],"importanceScore":71,"msc":"Y","taskCreated":"Wed 13 Jan, 4:10 PM","groupCode":"Admin Group","systemType":"OR","employeeId":"T9772","resourceName":"Rhys Thomas","asset":"OFF-3119","assetName":"Admin Processing Queue","commitmentDate":"Fri 15 Jan, 1:15 PM","commitmentType":"Future","arrivedAtDate":"","domain":"MN","estimatedDuration":40,"lastProgression":"Scheduled","category":"Administration","description":"Administration task for broadband/FTTP service in local area.","responseCode":"AD02","postCode":"CF44 7ZV","appointmentStartDate":"","linkedTask":"RG-AB30010","customerAddress":"","expectedStartDate":"Sat 15 Jan, 1:15 PM","expectedFinishDate":"Tue 18 Jan, 1:55 PM","externalQueueId":"EXT-441695","workId":"WK-736499","estimateNumber":"EST-55740","startDate":"","lat":51.70499,"lng":-3.44123,"expectedWindow":"1pmâ€“1:40pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7ZV\\n- Type Admin Review\\n- Skill ADMIN1\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Assigned (ACT)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Assigned (ACT)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30024","division":"Complex Engineering","taskStatus":"Dispatched (AWI)","pwa":"ZB-GAMMA-04","taskType":"Emergency","primarySkill":"RFTTP2","capabilities":["RFTTP2"],"importanceScore":90,"msc":"N","taskCreated":"Sat 7 Jan, 7:30 AM","groupCode":"Complex Engineering","systemType":"OR","employeeId":"T6493","resourceName":"Tomos Hughes","asset":"AS-8145","assetName":"Core Node Cabinet","commitmentDate":"Sun 9 Jan, 8:15 AM","commitmentType":"Start By","arrivedAtDate":"Tue 11 Jan, 9:05 AM","domain":"MN","estimatedDuration":90,"lastProgression":"On Site","category":"Emergency","description":"Emergency task for broadband/FTTP service in local area.","responseCode":"SH03","postCode":"CF44 8ER","appointmentStartDate":"","linkedTask":"RG-AB30002","customerAddress":"96 Aberaman Road, Aberdare","expectedStartDate":"Tue 11 Jan, 9:05 AM","expectedFinishDate":"Fri 14 Jan, 10:35 AM","externalQueueId":"EXT-441684","workId":"WK-766702","estimateNumber":"EST-55764","startDate":"Tue 11 Jan, 9:05 AM","lat":51.7206,"lng":-3.4474,"expectedWindow":"9amâ€“10:30am","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 8ER\\n- Type Emergency\\n- Skill RFTTP2\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Dispatched (AWI)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Dispatched (AWI)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30025","division":"Service Delivery","taskStatus":"Accepted (ISS)","pwa":"ZB-DELTA-09","taskType":"Inspection","primarySkill":"RISDN1","capabilities":["RISDN1"],"importanceScore":45,"msc":"N","taskCreated":"Thu 6 Jan, 10:40 AM","groupCode":"Service Delivery","systemType":"FSM","employeeId":"T6815","resourceName":"Chloe Hughes","asset":"AS-4500","assetName":"Underground Joint Chamber","commitmentDate":"Sat 8 Jan, 11:20 AM","commitmentType":"Appointment","arrivedAtDate":"Sun 10 Jan, 4:10 PM","domain":"SE","estimatedDuration":120,"lastProgression":"Allocated","category":"Inspection","description":"Inspection task for broadband/FTTP service in local area.","responseCode":"SH04","postCode":"CF44 8KO","appointmentStartDate":"Mon 10 Jan, 11:20 AM","linkedTask":"RG-AB30010","customerAddress":"32 Cwmbach Road, Aberdare","expectedStartDate":"Mon 10 Jan, 11:20 AM","expectedFinishDate":"Thu 13 Jan, 1:20 PM","externalQueueId":"EXT-441842","workId":"WK-701053","estimateNumber":"EST-55742","startDate":"Mon 10 Jan, 11:20 AM","lat":51.70871,"lng":-3.51393,"expectedWindow":"11amâ€“1pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 8KO\\n- Type Inspection\\n- Skill RISDN1\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Accepted (ISS)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Accepted (ISS)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30026","division":"Admin","taskStatus":"In Progress (EXC)","pwa":"ZB-OMEGA-05","taskType":"Admin Review","primarySkill":"ADMIN1","capabilities":["ADMIN1"],"importanceScore":76,"msc":"N","taskCreated":"Tue 11 Jan, 1:15 PM","groupCode":"Admin Group","systemType":"NW","employeeId":"T8841","resourceName":"Steffan Hughes","asset":"OFF-5507","assetName":"Document Verification Queue","commitmentDate":"Thu 13 Jan, 2:00 PM","commitmentType":"Complete By","arrivedAtDate":"Fri 15 Jan, 2:00 PM","domain":"SE","estimatedDuration":60,"lastProgression":"Completed","category":"Administration","description":"Administration task for broadband/FTTP service in local area.","responseCode":"AD02","postCode":"CF44 8ZX","appointmentStartDate":"","linkedTask":"RG-AB30021","customerAddress":"","expectedStartDate":"Sat 15 Jan, 2:00 PM","expectedFinishDate":"Tue 18 Jan, 3:00 PM","externalQueueId":"EXT-441963","workId":"WK-794249","estimateNumber":"EST-55717","startDate":"Sat 15 Jan, 2:00 PM","lat":51.71019,"lng":-3.44802,"expectedWindow":"2pmâ€“3pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 8ZX\\n- Type Admin Review\\n- Skill ADMIN1\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"In Progress (EXC)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"In Progress (EXC)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30027","division":"Service Delivery","taskStatus":"Completed (COM)","pwa":"ZB-GAMMA-09","taskType":"Repair","primarySkill":"RISDN3","capabilities":["RISDN3"],"importanceScore":70,"msc":"N","taskCreated":"Fri 8 Jan, 3:30 PM","groupCode":"Service Delivery","systemType":"OR","employeeId":"T9031","resourceName":"Carys Jones","asset":"AS-6004","assetName":"Drop Wire","commitmentDate":"Sun 10 Jan, 8:15 AM","commitmentType":"Complete By","arrivedAtDate":"Tue 12 Jan, 10:40 AM","domain":"CF","estimatedDuration":60,"lastProgression":"Completed","category":"Repair","description":"Repair task for broadband/FTTP service in local area.","responseCode":"SH01","postCode":"CF44 7ZQ","appointmentStartDate":"","linkedTask":"","customerAddress":"53 King Street, Aberdare","expectedStartDate":"Tue 12 Jan, 10:40 AM","expectedFinishDate":"Fri 15 Jan, 11:40 AM","externalQueueId":"EXT-441878","workId":"WK-730760","estimateNumber":"EST-55777","startDate":"Tue 12 Jan, 10:40 AM","lat":51.70939,"lng":-3.43749,"expectedWindow":"10amâ€“11am","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7ZQ\\n- Type Repair\\n- Skill RISDN3\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Completed (COM)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Completed (COM)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30028","division":"Complex Engineering","taskStatus":"Not Assigned (ACT)","pwa":"ZB-OMEGA-10","taskType":"Survey","primarySkill":"RFTTP2","capabilities":["RFTTP2"],"importanceScore":96,"msc":"Y","taskCreated":"Wed 6 Jan, 7:30 AM","groupCode":"Complex Engineering","systemType":"NW","employeeId":"T7833","resourceName":"Bethan Hughes","asset":"AS-6244","assetName":"Route Survey Node","commitmentDate":"Thu 8 Jan, 8:15 AM","commitmentType":"Start By","arrivedAtDate":"","domain":"MN","estimatedDuration":150,"lastProgression":"Allocated","category":"Survey","description":"Survey task for broadband/FTTP service in local area.","responseCode":"SH01","postCode":"CF44 6BZ","appointmentStartDate":"","linkedTask":"","customerAddress":"13 Maesyffynnon Terrace, Aberdare","expectedStartDate":"Fri 8 Jan, 8:15 AM","expectedFinishDate":"Mon 11 Jan, 10:45 AM","externalQueueId":"EXT-441114","workId":"WK-741322","estimateNumber":"EST-55718","startDate":"","lat":51.72907,"lng":-3.5087,"expectedWindow":"8amâ€“10:30am","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 6BZ\\n- Type Survey\\n- Skill RFTTP2\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Not Assigned (ACT)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Not Assigned (ACT)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30029","division":"Service Delivery","taskStatus":"Assigned (ACT)","pwa":"ZB-ALPHA-03","taskType":"Inspection","primarySkill":"RISDN2","capabilities":["RISDN2"],"importanceScore":70,"msc":"Y","taskCreated":"Thu 11 Jan, 8:15 AM","groupCode":"Service Delivery","systemType":"FSM","employeeId":"T7794","resourceName":"Steffan James","asset":"AS-1291","assetName":"Distribution Point","commitmentDate":"Fri 13 Jan, 3:30 PM","commitmentType":"Appointment","arrivedAtDate":"","domain":"MN","estimatedDuration":90,"lastProgression":"En Route","category":"Inspection","description":"Inspection task for broadband/FTTP service in local area.","responseCode":"SH02","postCode":"CF44 6TK","appointmentStartDate":"Sat 13 Jan, 3:30 PM","linkedTask":"","customerAddress":"79 High Street, Aberdare","expectedStartDate":"Sat 13 Jan, 3:30 PM","expectedFinishDate":"Tue 16 Jan, 5:00 PM","externalQueueId":"EXT-441706","workId":"WK-708703","estimateNumber":"EST-55738","startDate":"","lat":51.7162,"lng":-3.45003,"expectedWindow":"3pmâ€“4:30pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 6TK\\n- Type Inspection\\n- Skill RISDN2\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Assigned (ACT)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Assigned (ACT)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30030","division":"Admin","taskStatus":"Dispatched (AWI)","pwa":"ZB-GAMMA-05","taskType":"Admin Review","primarySkill":"ADMIN2","capabilities":["ADMIN2"],"importanceScore":83,"msc":"Y","taskCreated":"Fri 8 Jan, 9:05 AM","groupCode":"Admin Group","systemType":"OR","employeeId":"T7728","resourceName":"Harvey Roberts","asset":"OFF-4119","assetName":"Admin Processing Queue","commitmentDate":"Sun 10 Jan, 1:15 PM","commitmentType":"Appointment","arrivedAtDate":"Tue 12 Jan, 4:10 PM","domain":"MN","estimatedDuration":40,"lastProgression":"On Site","category":"Administration","description":"Administration task for broadband/FTTP service in local area.","responseCode":"SH02","postCode":"CF44 7OD","appointmentStartDate":"Mon 10 Jan, 1:15 PM","linkedTask":"RG-AB30012","customerAddress":"","expectedStartDate":"Mon 10 Jan, 1:15 PM","expectedFinishDate":"Thu 13 Jan, 1:55 PM","externalQueueId":"EXT-441300","workId":"WK-719881","estimateNumber":"EST-55750","startDate":"Mon 10 Jan, 1:15 PM","lat":51.71655,"lng":-3.45119,"expectedWindow":"1pmâ€“1:40pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7OD\\n- Type Admin Review\\n- Skill ADMIN2\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Dispatched (AWI)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Dispatched (AWI)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30031","division":"Complex Engineering","taskStatus":"Accepted (ISS)","pwa":"ZB-DELTA-06","taskType":"Survey","primarySkill":"RFTTP2","capabilities":["RFTTP2"],"importanceScore":85,"msc":"N","taskCreated":"Mon 3 Jan, 10:40 AM","groupCode":"Complex Engineering","systemType":"NW","employeeId":"T3673","resourceName":"Owain Roberts","asset":"AS-3212","assetName":"Route Survey Node","commitmentDate":"Tue 5 Jan, 11:20 AM","commitmentType":"Start By","arrivedAtDate":"Thu 7 Jan, 4:10 PM","domain":"SE","estimatedDuration":150,"lastProgression":"Completed","category":"Survey","description":"Survey task for broadband/FTTP service in local area.","responseCode":"SH02","postCode":"CF44 7ED","appointmentStartDate":"","linkedTask":"","customerAddress":"11 Commercial Street, Aberdare","expectedStartDate":"Thu 7 Jan, 4:10 PM","expectedFinishDate":"Sun 10 Jan, 6:40 PM","externalQueueId":"EXT-441744","workId":"WK-733281","estimateNumber":"EST-55731","startDate":"Thu 7 Jan, 4:10 PM","lat":51.7242,"lng":-3.51178,"expectedWindow":"4pmâ€“6:30pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7ED\\n- Type Survey\\n- Skill RFTTP2\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Accepted (ISS)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Accepted (ISS)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30032","division":"Service Delivery","taskStatus":"In Progress (EXC)","pwa":"ZB-ALPHA-11","taskType":"Repair","primarySkill":"RISDN1","capabilities":["RISDN1"],"importanceScore":80,"msc":"Y","taskCreated":"Tue 4 Jan, 1:15 PM","groupCode":"Service Delivery","systemType":"OR","employeeId":"T4561","resourceName":"Chloe Price","asset":"AS-4599","assetName":"FTTC Cabinet","commitmentDate":"Thu 6 Jan, 2:00 PM","commitmentType":"Complete By","arrivedAtDate":"Fri 8 Jan, 8:15 AM","domain":"CF","estimatedDuration":90,"lastProgression":"On Site","category":"Repair","description":"Repair task for broadband/FTTP service in local area.","responseCode":"SH03","postCode":"CF44 8KL","appointmentStartDate":"","linkedTask":"","customerAddress":"22 Albert Street, Aberdare","expectedStartDate":"Sat 8 Jan, 8:15 AM","expectedFinishDate":"Tue 11 Jan, 9:45 AM","externalQueueId":"EXT-441728","workId":"WK-748868","estimateNumber":"EST-55729","startDate":"Sat 8 Jan, 8:15 AM","lat":51.71934,"lng":-3.44587,"expectedWindow":"8amâ€“9:30am","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 8KL\\n- Type Repair\\n- Skill RISDN1\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"In Progress (EXC)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"In Progress (EXC)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30033","division":"Admin","taskStatus":"Completed (COM)","pwa":"ZB-DELTA-08","taskType":"Admin Review","primarySkill":"ADMIN1","capabilities":["ADMIN1"],"importanceScore":67,"msc":"Y","taskCreated":"Wed 10 Jan, 9:05 AM","groupCode":"Admin Group","systemType":"FSM","employeeId":"T5944","resourceName":"Steffan Price","asset":"OFF-4311","assetName":"Document Verification Queue","commitmentDate":"Fri 12 Jan, 1:15 PM","commitmentType":"Complete By","arrivedAtDate":"Sun 14 Jan, 2:00 PM","domain":"CF","estimatedDuration":60,"lastProgression":"Completed","category":"Administration","description":"Administration task for broadband/FTTP service in local area.","responseCode":"SH02","postCode":"CF44 7JR","appointmentStartDate":"","linkedTask":"RG-AB30024","customerAddress":"","expectedStartDate":"Mon 14 Jan, 2:00 PM","expectedFinishDate":"Thu 17 Jan, 3:00 PM","externalQueueId":"EXT-441332","workId":"WK-725196","estimateNumber":"EST-55750","startDate":"Mon 14 Jan, 2:00 PM","lat":51.71125,"lng":-3.44951,"expectedWindow":"2pmâ€“3pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7TR\\n- Type Admin Review\\n- Skill ADMIN1\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Completed (COM)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Completed (COM)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30034","division":"Service Delivery","taskStatus":"Not Assigned (ACT)","pwa":"ZB-ALPHA-07","taskType":"Inspection","primarySkill":"RISDN3","capabilities":["RISDN3"],"importanceScore":51,"msc":"N","taskCreated":"Thu 9 Jan, 8:15 AM","groupCode":"Service Delivery","systemType":"OR","employeeId":"T5103","resourceName":"Rhys Thomas","asset":"AS-9476","assetName":"Underground Joint Chamber","commitmentDate":"Sat 11 Jan, 9:05 AM","commitmentType":"Future","arrivedAtDate":"","domain":"SE","estimatedDuration":90,"lastProgression":"Allocated","category":"Inspection","description":"Inspection task for broadband/FTTP service in local area.","responseCode":"SH02","postCode":"CF44 7DK","appointmentStartDate":"","linkedTask":"RG-AB30024","customerAddress":"62 High Street, Aberdare","expectedStartDate":"Sun 11 Jan, 9:05 AM","expectedFinishDate":"Wed 14 Jan, 10:35 AM","externalQueueId":"EXT-441935","workId":"WK-717714","estimateNumber":"EST-55793","startDate":"","lat":51.71377,"lng":-3.44688,"expectedWindow":"9amâ€“10:30am","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7DK\\n- Type Inspection\\n- Skill RISDN3\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Not Assigned (ACT)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Not Assigned (ACT)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30035","division":"Complex Engineering","taskStatus":"Assigned (ACT)","pwa":"ZB-DELTA-02","taskType":"Survey","primarySkill":"RFTTP2","capabilities":["RFTTP2"],"importanceScore":58,"msc":"Y","taskCreated":"Fri 8 Jan, 1:15 PM","groupCode":"Complex Engineering","systemType":"NW","employeeId":"T6650","resourceName":"Carys Morgan","asset":"AS-4821","assetName":"Joint Box","commitmentDate":"Sun 10 Jan, 3:30 PM","commitmentType":"Start By","arrivedAtDate":"","domain":"CF","estimatedDuration":150,"lastProgression":"On Site","category":"Survey","description":"Survey task for broadband/FTTP service in local area.","responseCode":"SH02","postCode":"CF44 7RA","appointmentStartDate":"","linkedTask":"","customerAddress":"66 Brook Street, Aberdare","expectedStartDate":"Mon 10 Jan, 3:30 PM","expectedFinishDate":"Thu 13 Jan, 6:00 PM","externalQueueId":"EXT-441144","workId":"WK-711545","estimateNumber":"EST-55786","startDate":"","lat":51.7161,"lng":-3.44434,"expectedWindow":"3pmâ€“5:30pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7RA\\n- Type Survey\\n- Skill RFTTP2\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Assigned (ACT)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Assigned (ACT)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30036","division":"Admin","taskStatus":"Dispatched (AWI)","pwa":"ZB-DELTA-01","taskType":"Admin Review","primarySkill":"ADMIN2","capabilities":["ADMIN2"],"importanceScore":62,"msc":"Y","taskCreated":"Sat 9 Jan, 9:05 AM","groupCode":"Admin Group","systemType":"OR","employeeId":"T7855","resourceName":"Steffan Jenkins","asset":"OFF-4023","assetName":"Admin Processing Queue","commitmentDate":"Mon 11 Jan, 1:15 PM","commitmentType":"Appointment","arrivedAtDate":"Wed 13 Jan, 2:00 PM","domain":"CF","estimatedDuration":40,"lastProgression":"Scheduled","category":"Administration","description":"Administration task for broadband/FTTP service in local area.","responseCode":"AD02","postCode":"CF44 8DW","appointmentStartDate":"Sun 11 Jan, 1:15 PM","linkedTask":"","customerAddress":"","expectedStartDate":"Sun 11 Jan, 1:15 PM","expectedFinishDate":"Wed 14 Jan, 1:55 PM","externalQueueId":"EXT-441939","workId":"WK-790818","estimateNumber":"EST-55733","startDate":"Sun 11 Jan, 1:15 PM","lat":51.70823,"lng":-3.50376,"expectedWindow":"1pmâ€“1:40pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 8DW\\n- Type Admin Review\\n- Skill ADMIN2\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Dispatched (AWI)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Dispatched (AWI)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30037","division":"Service Delivery","taskStatus":"Accepted (ISS)","pwa":"ZB-ALPHA-09","taskType":"Emergency","primarySkill":"RISDN3","capabilities":["RISDN3"],"importanceScore":92,"msc":"Y","taskCreated":"Sun 10 Jan, 8:15 AM","groupCode":"Service Delivery","systemType":"OR","employeeId":"T9012","resourceName":"Nia Davies","asset":"AS-5211","assetName":"Core Node Cabinet","commitmentDate":"Tue 12 Jan, 2:00 PM","commitmentType":"Tail","arrivedAtDate":"Wed 14 Jan, 11:20 AM","domain":"MN","estimatedDuration":150,"lastProgression":"En Route","category":"Emergency","description":"Emergency task for broadband/FTTP service in local area.","responseCode":"SH05","postCode":"CF44 7UU","appointmentStartDate":"","linkedTask":"RG-AB30032","customerAddress":"58 Cwmbach Road, Aberdare","expectedStartDate":"Thu 14 Jan, 11:20 AM","expectedFinishDate":"Sun 17 Jan, 1:50 PM","externalQueueId":"EXT-441306","workId":"WK-791918","estimateNumber":"EST-55790","startDate":"Thu 14 Jan, 11:20 AM","lat":51.71803,"lng":-3.44716,"expectedWindow":"11amâ€“1:30pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7UU\\n- Type Emergency\\n- Skill RISDN3\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Accepted (ISS)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Accepted (ISS)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30038","division":"Complex Engineering","taskStatus":"In Progress (EXC)","pwa":"ZB-GAMMA-12","taskType":"Survey","primarySkill":"RFTTP1","capabilities":["RFTTP1"],"importanceScore":78,"msc":"N","taskCreated":"Mon 11 Jan, 9:05 AM","groupCode":"Complex Engineering","systemType":"NW","employeeId":"T6772","resourceName":"Owain James","asset":"AS-5987","assetName":"Manhole Access Point","commitmentDate":"Wed 13 Jan, 1:15 PM","commitmentType":"Start By","arrivedAtDate":"Thu 15 Jan, 10:40 AM","domain":"CF","estimatedDuration":150,"lastProgression":"On Site","category":"Survey","description":"Survey task for broadband/FTTP service in local area.","responseCode":"SH04","postCode":"CF44 7LV","appointmentStartDate":"","linkedTask":"RG-AB30024","customerAddress":"19 Canon Street, Aberdare","expectedStartDate":"Thu 15 Jan, 10:40 AM","expectedFinishDate":"Sun 18 Jan, 1:10 PM","externalQueueId":"EXT-441653","workId":"WK-744988","estimateNumber":"EST-55779","startDate":"Thu 15 Jan, 10:40 AM","lat":51.72651,"lng":-3.45205,"expectedWindow":"10amâ€“12:30pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7LV\\n- Type Survey\\n- Skill RFTTP1\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"In Progress (EXC)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"In Progress (EXC)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30039","division":"Admin","taskStatus":"Completed (COM)","pwa":"ZB-ALPHA-01","taskType":"Admin Review","primarySkill":"ADMIN1","capabilities":["ADMIN1"],"importanceScore":63,"msc":"N","taskCreated":"Tue 12 Jan, 1:15 PM","groupCode":"Admin Group","systemType":"FSM","employeeId":"T7339","resourceName":"Harvey Price","asset":"OFF-6697","assetName":"Document Verification Queue","commitmentDate":"Thu 14 Jan, 3:30 PM","commitmentType":"Tail","arrivedAtDate":"Sat 16 Jan, 2:00 PM","domain":"MN","estimatedDuration":60,"lastProgression":"Completed","category":"Administration","description":"Administration task for broadband/FTTP service in local area.","responseCode":"AD02","postCode":"CF44 6TS","appointmentStartDate":"","linkedTask":"","customerAddress":"","expectedStartDate":"Sat 16 Jan, 2:00 PM","expectedFinishDate":"Tue 19 Jan, 3:00 PM","externalQueueId":"EXT-441923","workId":"WK-791162","estimateNumber":"EST-55748","startDate":"Sat 16 Jan, 2:00 PM","lat":51.7245,"lng":-3.44809,"expectedWindow":"2pmâ€“3pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 6TS\\n- Type Admin Review\\n- Skill ADMIN1\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Completed (COM)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Completed (COM)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]},{"taskId":"RG-AB30040","division":"Service Delivery","taskStatus":"Not Assigned (ACT)","pwa":"ZB-GAMMA-08","taskType":"Repair","primarySkill":"RISDN2","capabilities":["RISDN2"],"importanceScore":59,"msc":"Y","taskCreated":"Wed 13 Jan, 2:00 PM","groupCode":"Service Delivery","systemType":"OR","employeeId":"T6142","resourceName":"Ffion James","asset":"AS-6883","assetName":"FTTC Cabinet","commitmentDate":"Fri 15 Jan, 3:30 PM","commitmentType":"Future","arrivedAtDate":"","domain":"CF","estimatedDuration":110,"lastProgression":"Allocated","category":"Repair","description":"Repair task for broadband/FTTP service in local area.","responseCode":"SH04","postCode":"CF44 7QA","appointmentStartDate":"","linkedTask":"RG-AB30034","customerAddress":"88 Victoria Street, Aberdare","expectedStartDate":"Sat 15 Jan, 3:30 PM","expectedFinishDate":"Tue 18 Jan, 5:20 PM","externalQueueId":"EXT-441548","workId":"WK-742382","estimateNumber":"EST-55781","startDate":"","lat":51.71294,"lng":-3.44307,"expectedWindow":"3pmâ€“5:20pm","history":[],"fieldNotes":"On-site observation:\\n- Postcode CF44 7QA\\n- Type Repair\\n- Skill RISDN2\\nActions:\\n- Verified equipment and recorded measurements\\n- Spoke with resident; confirmed access\\nNotes:\\n- Minor obstruction near DP; requires follow-up.","progressNotes":[{"ts":"2025-12-08T20:04:05.480Z","status":"Not Assigned (ACT)","text":"Initial site review captured from legacy system.","source":"System"},{"ts":"2025-12-08T19:19:05.480Z","status":"Not Assigned (ACT)","text":"Awaiting confirmation from field engineer regarding access.","source":"Dispatcher"}]}]'),uh=JSON.parse('[{"resourceId":"SWBXA12","name":"John Evans","division":"Service Delivery","primarySkill":"RISDN2","secondarySkill":"RISDN1","status":"Available","pwa":"ZB-ALPHA-06","calloutGroup":"FJ","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900101","notes":"","history":[],"updatedAt":null,"homePostCode":"CF44 7AA","homeLat":51.71352,"homeLng":-3.44879},{"resourceId":"QWERB33","name":"Ffion Hughes","division":"Service Delivery","primarySkill":"RISDN3","secondarySkill":null,"status":"Unavailable","pwa":"ZB-GAMMA-04","calloutGroup":"ISDN","lastOutcome":"Unavailable","availableAgainAt":"2025-01-18T14:00","contactNumber":"07700900102","notes":"Medical appointment","history":[{"previousOutcome":null,"previousAvailableAgainAt":null,"changedAt":"2025-01-18T14:00:00Z"}],"updatedAt":"2025-01-18T14:00:00Z","homePostCode":"CF44 6ET","homeLat":51.71114,"homeLng":-3.43291},{"resourceId":"PLMKC14","name":"Owain Roberts","division":"Service Delivery","primarySkill":"RISDN1","secondarySkill":"RISDN2","status":"Available","pwa":"ZB-OMEGA-11","calloutGroup":"FJ","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900103","notes":"","history":[],"updatedAt":null,"homePostCode":"CF44 8NN","homeLat":51.72127,"homeLng":-3.44844},{"resourceId":"GHJTQ55","name":"Carys Morgan","division":"Service Delivery","primarySkill":"RISDN3","secondarySkill":null,"status":"On Task","pwa":"ZB-GAMMA-10","calloutGroup":"SD","lastOutcome":"Assigned","availableAgainAt":null,"contactNumber":"07700900104","notes":"","history":[],"updatedAt":"2025-01-17T09:30:00Z","homePostCode":"CF44 0AG","homeLat":51.69994,"homeLng":-3.43041},{"resourceId":"MNBGD82","name":"Rhys Davies","division":"Service Delivery","primarySkill":"RISDN2","secondarySkill":null,"status":"Available","pwa":"ZB-DELTA-10","calloutGroup":"FJ","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900105","notes":"","history":[],"updatedAt":null,"homePostCode":"CF44 9SW","homeLat":51.73152,"homeLng":-3.50623},{"resourceId":"LKJHF22","name":"Lowri Jenkins","division":"Complex Engineering","primarySkill":"RFTTP1","secondarySkill":"RFTTP2","status":"Available","pwa":"ZB-GAMMA-12","calloutGroup":"CE","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900106","notes":"","history":[],"updatedAt":null,"homePostCode":"CF45 3HD","homeLat":51.68691,"homeLng":-3.37852},{"resourceId":"ASDFR91","name":"Tomos Hughes","division":"Complex Engineering","primarySkill":"RFTTP2","secondarySkill":null,"status":"Unavailable","pwa":"ZB-DELTA-07","calloutGroup":"CE","lastOutcome":"Refusal","availableAgainAt":"2025-01-19T16:00","contactNumber":"07700900107","notes":"Family emergency","history":[{"previousOutcome":null,"previousAvailableAgainAt":null,"changedAt":"2025-01-17T12:00:00Z"}],"updatedAt":"2025-01-17T12:00:00Z","homePostCode":"CF47 8EL","homeLat":51.74842,"homeLng":-3.38123},{"resourceId":"ZXCVS67","name":"Bethan Evans","division":"Complex Engineering","primarySkill":"RFTTP2","secondarySkill":"RFTTP1","status":"On Task","pwa":"ZB-OMEGA-10","calloutGroup":"CE","lastOutcome":"Dispatched","availableAgainAt":null,"contactNumber":"07700900108","notes":"","history":[],"updatedAt":"2025-01-18T08:30:00Z","homePostCode":"CF44 6EA","homeLat":51.70887,"homeLng":-3.43811},{"resourceId":"BNMAS49","name":"Steffan Price","division":"Complex Engineering","primarySkill":"RFTTP1","secondarySkill":null,"status":"Available","pwa":"ZB-DELTA-05","calloutGroup":"CE","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900109","notes":"","history":[],"updatedAt":null,"homePostCode":"CF42 6UP","homeLat":51.65761,"homeLng":-3.50744},{"resourceId":"POIUY73","name":"Aled Thomas","division":"Complex Engineering","primarySkill":"RFTTP2","secondarySkill":null,"status":"Available","pwa":"ZB-ALPHA-02","calloutGroup":"CE","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900110","notes":"","history":[],"updatedAt":null,"homePostCode":"CF44 7AY","homeLat":51.71601,"homeLng":-3.45192},{"resourceId":"UJMKL89","name":"Lauren Evans","division":"Service Delivery","primarySkill":"RISDN2","secondarySkill":"RISDN3","status":"Available","pwa":"ZB-ALPHA-04","calloutGroup":"SD","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900116","notes":"","history":[],"updatedAt":null,"homePostCode":"CF44 7RP","homeLat":51.71074,"homeLng":-3.44591},{"resourceId":"KJHGF02","name":"Nia James","division":"Service Delivery","primarySkill":"RISDN1","secondarySkill":null,"status":"On Task","pwa":"ZB-GAMMA-09","calloutGroup":"ISDN","lastOutcome":"Dispatched","availableAgainAt":null,"contactNumber":"07700900117","notes":"","history":[],"updatedAt":"2025-01-18T08:50:00Z","homePostCode":"CF44 6AB","homeLat":51.70818,"homeLng":-3.42742},{"resourceId":"RTYHN44","name":"Chloe Davies","division":"Service Delivery","primarySkill":"RISDN3","secondarySkill":null,"status":"Available","pwa":"ZB-ALPHA-09","calloutGroup":"SD","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900120","notes":"","history":[],"updatedAt":null,"homePostCode":"CF44 9DL","homeLat":51.72475,"homeLng":-3.4862},{"resourceId":"SDNEW21","name":"Gareth Bowen","division":"Service Delivery","primarySkill":"RISDN1","secondarySkill":"RISDN2","status":"Available","pwa":"ZB-ALPHA-15","calloutGroup":"FJ","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900130","notes":"","history":[],"updatedAt":null,"homePostCode":"CF44 8HA","homeLat":51.71955,"homeLng":-3.45591},{"resourceId":"SDNEW22","name":"Megan Griffiths","division":"Service Delivery","primarySkill":"RISDN3","secondarySkill":"RISDN1","status":"Unavailable","pwa":"ZB-OMEGA-17","calloutGroup":"SD","lastOutcome":"Unavailable","availableAgainAt":"2025-01-20T09:00:00Z","contactNumber":"07700900131","notes":"Childcare","history":[],"updatedAt":"2025-01-18T13:15:00Z","homePostCode":"CF44 0SW","homeLat":51.70082,"homeLng":-3.4211},{"resourceId":"SDNEW23","name":"Ieuan Watkins","division":"Service Delivery","primarySkill":"RISDN1","secondarySkill":null,"status":"Available","pwa":"ZB-GAMMA-18","calloutGroup":"FJ","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900132","notes":"","history":[],"updatedAt":null,"homePostCode":"CF44 6LA","homeLat":51.70692,"homeLng":-3.43092},{"resourceId":"SDNEW24","name":"Seren Powell","division":"Service Delivery","primarySkill":"RISDN2","secondarySkill":"RISDN3","status":"On Task","pwa":"ZB-OMEGA-13","calloutGroup":"SD","lastOutcome":"Assigned","availableAgainAt":null,"contactNumber":"07700900133","notes":"","history":[],"updatedAt":"2025-01-18T10:10:00Z","homePostCode":"CF44 7PP","homeLat":51.71381,"homeLng":-3.45514},{"resourceId":"SDNEW25","name":"Rhys Llewellyn","division":"Service Delivery","primarySkill":"RISDN3","secondarySkill":"RISDN1","status":"Unavailable","pwa":"ZB-DELTA-11","calloutGroup":"ISDN","lastOutcome":"NoReply","availableAgainAt":"2025-01-21T08:00:00Z","contactNumber":"07700900134","notes":"Missed several calls","history":[{"previousOutcome":null,"previousAvailableAgainAt":null,"changedAt":"2025-01-18T12:45:00Z"}],"updatedAt":"2025-01-18T12:45:00Z","homePostCode":"CF44 9DJ","homeLat":51.7261,"homeLng":-3.49125},{"resourceId":"SDNEW26","name":"Catrin Rees","division":"Service Delivery","primarySkill":"RISDN2","secondarySkill":null,"status":"Available","pwa":"ZB-ALPHA-22","calloutGroup":"SD","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900135","notes":"","history":[],"updatedAt":null,"homePostCode":"CF44 0AJ","homeLat":51.70102,"homeLng":-3.43274},{"resourceId":"SDNEW27","name":"Gwenllian Thomas","division":"Service Delivery","primarySkill":"RISDN1","secondarySkill":"RISDN2","status":"Available","pwa":"ZB-GAMMA-22","calloutGroup":"FJ","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900136","notes":"","history":[],"updatedAt":null,"homePostCode":"CF44 9NH","homeLat":51.72982,"homeLng":-3.50008},{"resourceId":"FJNEW28","name":"Eleri Hopkins","division":"Service Delivery","primarySkill":"RISDN2","secondarySkill":"RISDN1","status":"Available","pwa":"ZB-ALPHA-18","calloutGroup":"FJ","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900137","notes":"","history":[],"updatedAt":null,"homePostCode":"CF44 7LS","homeLat":51.71743,"homeLng":-3.45271},{"resourceId":"FJNEW29","name":"Geraint Morgan","division":"Service Delivery","primarySkill":"RISDN3","secondarySkill":null,"status":"Available","pwa":"ZB-GAMMA-25","calloutGroup":"FJ","lastOutcome":null,"availableAgainAt":null,"contactNumber":"07700900138","notes":"","history":[],"updatedAt":null,"homePostCode":"CF44 8PD","homeLat":51.72288,"homeLng":-3.45934},{"resourceId":"FJNEW30","name":"Non Davies","division":"Service Delivery","primarySkill":"RISDN2","secondarySkill":"RISDN3","status":"On Task","pwa":"ZB-DELTA-14","calloutGroup":"FJ","lastOutcome":"Dispatched","availableAgainAt":null,"contactNumber":"07700900139","notes":"","history":[],"updatedAt":"2025-01-18T15:10:00Z","homePostCode":"CF44 6QH","homeLat":51.70412,"homeLng":-3.42566}]'),dh={Appointment:"#F59E0B","Start By":"#EC4899","Complete By":"#3B82F6",Future:"#10B981",Tail:"#6B7280"},Ll={Available:"#10B981",Unavailable:"#EF4444","On Task":"#3B82F6",Default:"#6B7280"},ph=36,hh=50;function mh(e,t){const o=I0(e,.35);return`
    <svg width="${ph}" height="${hh}" viewBox="0 0 40 56">
      ${t?`
        <rect x="1.5" y="1.5" width="37" height="53"
              rx="8" ry="8"
              fill="none"
              stroke="#DC2626"
              stroke-width="3" />`:""}

      <!-- Outer teardrop -->
      <path
        d="M20 2 C 11 2, 4 9, 4 18 C 4 29, 20 52, 20 52 C 20 52, 36 29, 36 18 C 36 9, 29 2, 20 2 Z"
        fill="#FFFFFF"
        stroke="#1F2937"
        stroke-width="2.5"
      />

      <!-- Inner coloured area (task commitment colour) -->
      <path
        d="M20 10 C 14 10, 9 15, 9 21 C 9 29, 20 44, 20 44 C 20 44, 31 29, 31 21 C 31 15, 26 10, 20 10 Z"
        fill="${e}"
        stroke="${o}"
        stroke-width="2.5"
      />
    </svg>
  `}function fh(e,t){const o=Ll[e]||Ll.Default;return`
    <svg width="${ph}" height="${hh}" viewBox="0 0 40 56">
      ${t?`
        <rect x="1.5" y="1.5" width="37" height="53"
              rx="8" ry="8"
              fill="none"
              stroke="#DC2626"
              stroke-width="3" />`:""}

      <!-- Outer teardrop -->
      <path
        d="M20 2 C 11 2, 4 9, 4 18 C 4 29, 20 52, 20 52 C 20 52, 36 29, 36 18 C 36 9, 29 2, 20 2 Z"
        fill="#FFFFFF"
        stroke="#1F2937"
        stroke-width="2.5"
      />

      <!-- Inner panel (light grey) to give contrast for the person icon -->
      <path
        d="M20 10 C 14 10, 9 15, 9 21 C 9 29, 20 44, 20 44 C 20 44, 31 29, 31 21 C 31 15, 26 10, 20 10 Z"
        fill="#E5E7EB"
        stroke="#D1D5DB"
        stroke-width="2"
      />

      <!-- Person / engineer silhouette -->
      <g transform="translate(8,6)" fill="#111827">
        <circle cx="12" cy="8" r="5.2" />
        <path d="M4.5 24.5c0-4.6 3.8-8.2 7.5-8.2s7.5 3.6 7.5 8.2v5.5H4.5v-5.5z" />
      </g>

      <!-- Status dot -->
      <circle
        cx="20"
        cy="39"
        r="5"
        fill="${o}"
        stroke="#FFFFFF"
        stroke-width="2"
      />
    </svg>
  `}function I0(e,t=.35){const o=e.replace("#",""),r=parseInt(o.substring(0,2),16),i=parseInt(o.substring(2,4),16),a=parseInt(o.substring(4,6),16);return`rgb(${Math.floor(r*(1-t))}, ${Math.floor(i*(1-t))}, ${Math.floor(a*(1-t))})`}function T0({visible:e,onClose:t}){const o=Bt();return e?h.jsx(Ue,{sx:{position:"absolute",top:o.spacing(7),right:o.spacing(4),zIndex:9999},children:h.jsx(Nt,{elevation:14,sx:{width:o.spacing(36),borderRadius:3,px:3,py:2.5,border:`1px solid ${Se(o.palette.primary.main,.18)}`,boxShadow:"0 18px 46px rgba(8,58,97,0.22)",backgroundImage:"none"},children:h.jsxs(wt,{spacing:3,children:[h.jsxs(wt,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[h.jsx(rt,{variant:"subtitle2",fontWeight:600,color:"text.primary",children:"Map Legend"}),h.jsx(pn,{size:"small",onClick:t,sx:{color:Se(o.palette.text.primary,.6),"&:hover":{color:o.palette.primary.main,bgcolor:Se(o.palette.primary.main,.08)}},"aria-label":"Close legend",children:h.jsx(tc,{size:16})})]}),h.jsxs(wt,{spacing:1.5,children:[h.jsx(rt,{variant:"overline",sx:{fontWeight:700,letterSpacing:1.1,color:Se(o.palette.text.secondary,.85)},children:"Resources"}),h.jsx(wt,{spacing:1.5,children:Object.keys(Ll).map(r=>h.jsxs(wt,{direction:"row",spacing:2,alignItems:"center",children:[h.jsx(Ue,{sx:{transform:"scale(0.75)",transformOrigin:"left center"},dangerouslySetInnerHTML:{__html:fh(r,!1)}}),h.jsx(rt,{variant:"caption",color:"text.secondary",children:r})]},r))})]}),h.jsxs(wt,{spacing:1.5,children:[h.jsx(rt,{variant:"overline",sx:{fontWeight:700,letterSpacing:1.1,color:Se(o.palette.text.secondary,.85)},children:"Tasks"}),h.jsx(wt,{spacing:1.5,children:Object.entries(dh).map(([r,i])=>h.jsxs(wt,{direction:"row",spacing:2,alignItems:"center",children:[h.jsx(Ue,{sx:{transform:"scale(0.75)",transformOrigin:"left center"},dangerouslySetInnerHTML:{__html:mh(i,!1)}}),h.jsx(rt,{variant:"caption",color:"text.secondary",children:r})]},r))})]})]})})}):null}const k0=it(h.jsx("path",{d:"m18 7-1.41-1.41-6.34 6.34 1.41 1.41zm4.24-1.41L11.66 16.17 7.48 12l-1.41 1.41L11.66 19l12-12zM.41 13.41 6 19l1.41-1.41L1.83 12z"}),"DoneAll"),Dr="__SELECT_ALL__",jn=({label:e,options:t,value:o,onChange:r,required:i=!1,showSelectAllIcon:a=!0,wrapperSx:l})=>{const[d,p]=c.useState(""),g=d.trim().toLowerCase(),m=c.useMemo(()=>g?t.filter(F=>F.toLowerCase().includes(g)):t,[g,t]),f=m.filter(F=>o.includes(F)).length,v=m.length>0&&f===m.length,x=f>0&&!v,b=(F,G,k,M)=>{if((M==null?void 0:M.option)===Dr){if(!m.length)return;const $=v?o.filter(D=>!m.includes(D)):Array.from(new Set([...o,...m]));r($);return}const E=G.filter($=>$!==Dr);r(E)},C=F=>{if(F.stopPropagation(),!!m.length)if(v){const G=o.filter(k=>!m.includes(k));r(G)}else{const G=Array.from(new Set([...o,...m]));r(G)}},S={xs:"100%",sm:"22ch",md:"28ch"},_=32,P=48,z={width:"100%",maxWidth:S,px:1,display:"flex",alignItems:"center",minHeight:P,flex:"0 0 auto","& .MuiInputBase-root":{minHeight:P,transition:"all 120ms ease"},"& .MuiSelect-select":{display:"flex",alignItems:"center",minHeight:P,transition:"all 120ms ease"},"& .MuiAutocomplete-inputRoot":{paddingTop:0,paddingBottom:0,transition:"all 120ms ease"}};return h.jsx(Ue,{sx:l??z,children:h.jsx(js,{disableClearable:!0,multiple:!0,disableCloseOnSelect:!0,componentsProps:{popper:{style:{minWidth:"32ch",zIndex:2e3}}},sx:{width:S,"& .MuiAutocomplete-inputRoot":{minHeight:P,maxHeight:P,overflow:"hidden",alignItems:"center",transition:"all 120ms ease","& .MuiInputBase-input":{paddingRight:"56px",fontSize:13,lineHeight:`${_}px`,paddingTop:0,paddingBottom:0}},"& .MuiAutocomplete-tag":{display:"inline-flex",alignItems:"center",justifyContent:"center",height:_,maxWidth:"100%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},"& .MuiInputBase-root":{minHeight:P,transition:"all 120ms ease"}},options:[Dr,...t],value:o,inputValue:d,onInputChange:(F,G)=>p(G),filterOptions:F=>F.filter(G=>G===Dr||G.toLowerCase().includes(g)),onChange:b,getOptionLabel:F=>F===Dr?"Select Filtered":F,renderOption:(F,G)=>G===Dr?h.jsxs(Bi,{...F,dense:!0,children:[h.jsx(Tn,{sx:{minWidth:32},children:h.jsx(Ml,{edge:"start",checked:v,indeterminate:x,size:"small"})}),h.jsx(On,{primary:v?"Clear Filtered":"Select Filtered"})]}):h.jsxs(Bi,{...F,dense:!0,children:[h.jsx(Tn,{sx:{minWidth:32},children:h.jsx(Ml,{edge:"start",checked:o.includes(G),size:"small"})}),h.jsx(On,{primary:G})]}),renderTags:F=>{if(!F||F.length===0)return null;const G=1,k=F.slice(0,G),M=F.length-G;return h.jsxs(Ue,{sx:{display:"flex",alignItems:"center",overflow:"hidden",height:"100%",pr:"8px"},children:[k.map((E,$)=>h.jsx(Fi,{label:String(E).charAt(0),size:"small",sx:{flex:"0 0 auto",height:_,width:_,minWidth:_,display:"inline-flex",alignItems:"center",justifyContent:"center",px:0,fontWeight:600,fontSize:13,lineHeight:`${_}px`,borderRadius:"50%",bgcolor:"background.paper",border:"1px solid rgba(0,0,0,0.08)",ml:0,zIndex:20},title:E},E)),M>0?(()=>{const E=M<10;return h.jsx(Fi,{label:`+${M}`,size:"small",sx:{flex:"0 0 auto",height:_,minWidth:E?_:void 0,width:E?_:"auto",display:"inline-flex",alignItems:"center",justifyContent:"center",px:E?0:1,fontWeight:600,fontSize:M>=100?10:M>=10?11:12,lineHeight:`${_}px`,borderRadius:E?"50%":"999px",bgcolor:"primary.main",color:"primary.contrastText",ml:-.6,zIndex:30}})})():null]})},renderInput:F=>{const G=h.jsxs(h.Fragment,{children:[a&&h.jsx(Lp,{title:v?"Clear filtered":"Select filtered",arrow:!0,children:h.jsx(pn,{size:"small",onClick:C,"aria-label":v?"Clear filtered":"Select filtered",sx:{mr:.75,px:.75},children:h.jsx(k0,{fontSize:"small",color:v?"primary":"inherit"})})}),F.InputProps.endAdornment]});return h.jsx(En,{...F,placeholder:o&&o.length?"":e,size:"small",required:i,"aria-label":e,InputProps:{...F.InputProps,endAdornment:G,sx:{height:P,transition:"all 120ms ease","& .MuiInputBase-input":{paddingTop:0,paddingBottom:0,paddingRight:"56px",fontSize:13,lineHeight:`${_}px`}}}})},ListboxProps:{sx:{maxHeight:320,zIndex:2e3}}})})},gh={xs:"100%",sm:"22ch",md:"28ch"},cd=32,Wr=48,M0={width:"100%",maxWidth:gh,px:1,display:"flex",alignItems:"center",minHeight:Wr,flex:"0 0 auto","& .MuiInputBase-root":{minHeight:Wr},"& .MuiSelect-select":{display:"flex",alignItems:"center",minHeight:Wr},"& .MuiAutocomplete-inputRoot":{paddingTop:0,paddingBottom:0,transition:"all 120ms ease"}},bi=({label:e,options:t,value:o,onChange:r,required:i=!1,wrapperSx:a,placeholder:l})=>{const[d,p]=c.useState(o??""),g=d.trim().toLowerCase(),m=c.useMemo(()=>g?t.filter(f=>f.toLowerCase().includes(g)):t,[g,t]);return h.jsx(Ue,{sx:a??M0,children:h.jsx(js,{freeSolo:!0,disableClearable:!0,componentsProps:{popper:{style:{zIndex:2e3}}},options:m,value:o||"",inputValue:d,onInputChange:(f,v)=>p(v),onChange:(f,v)=>r(String(v??"")),getOptionLabel:f=>typeof f=="string"?f:String(f),renderOption:(f,v)=>h.jsx(Bi,{...f,dense:!0,children:h.jsx(On,{primary:v})}),renderInput:f=>{const v=h.jsx(h.Fragment,{children:f.InputProps.endAdornment});return h.jsx(En,{...f,placeholder:o?"":l??e,size:"small",required:i,"aria-label":e,InputProps:{...f.InputProps,endAdornment:v,sx:{height:Wr,transition:"all 120ms ease","& .MuiInputBase-input":{paddingTop:0,paddingBottom:0,paddingRight:"56px",fontSize:13,lineHeight:`${cd}px`}}}})},ListboxProps:{sx:{zIndex:2e3,maxHeight:320}},sx:{width:gh,"& .MuiAutocomplete-inputRoot":{minHeight:Wr,maxHeight:Wr,alignItems:"center",transition:"all 120ms ease","& .MuiInputBase-input":{paddingTop:0,paddingBottom:0,paddingRight:"56px",fontSize:13,lineHeight:`${cd}px`}}}})})};function ud(e){const t=e.match(/\(([^)]+)\)/);return t?t[1]:""}function dd(e){return[...e].sort((t,o)=>{const r=ud(t),i=ud(o);return r===i?t.localeCompare(o):r.localeCompare(i)})}const A0=br(Nt),D0=({mode:e="task-default",onSearch:t,onClear:o,dropdownData:r,resetKey:i,hideActions:a})=>{const l=Bt(),[d,p]=c.useState({statuses:[],pwa:[],capabilities:[],commitmentTypes:[],responseCodes:[],impCondition:"",impValue:""}),[g,m]=c.useState(null),[f,v]=c.useState({statuses:"",pwa:"",capabilities:"",commitmentTypes:"",responseCodes:"",resourceStatuses:""});c.useEffect(()=>{p({statuses:[],pwa:[],capabilities:[],commitmentTypes:[],responseCodes:[],impCondition:"",impValue:""}),v({statuses:"",pwa:"",capabilities:"",commitmentTypes:"",responseCodes:"",resourceStatuses:""}),m(null)},[i]),c.useEffect(()=>{a&&t(d)},[d,a,t]);const x=$=>$??[],b=($,D)=>$.filter(O=>O.toLowerCase().includes(D.toLowerCase())),C={statuses:b(dd(x(r.statuses)),f.statuses),pwa:b(x(r.pwa),f.pwa),capabilities:b(x(r.capabilities),f.capabilities),commitmentTypes:b(x(r.commitmentTypes),f.commitmentTypes),responseCodes:b(x(r.responseCodes),f.responseCodes),resourceStatuses:b(dd(x(r.resourceStatuses)),f.resourceStatuses)},S=h.jsx(jn,{label:"Task Status",options:C.statuses,value:d.statuses,onChange:$=>p(D=>({...D,statuses:$}))}),_=h.jsx(jn,{label:"PWA",options:C.pwa,value:d.pwa,onChange:$=>p(D=>({...D,pwa:$}))}),P=h.jsx(jn,{label:"Capabilities",options:C.capabilities,value:d.capabilities,onChange:$=>p(D=>({...D,capabilities:$}))}),z=h.jsx(jn,{label:"Commit Type",options:C.commitmentTypes,value:d.commitmentTypes,onChange:$=>p(D=>({...D,commitmentTypes:$}))}),F=h.jsx(jn,{label:"Response Code",options:C.responseCodes,value:d.responseCodes??[],onChange:$=>p(D=>({...D,responseCodes:$}))}),G=h.jsx(E0,{condition:d.impCondition??"",value:d.impValue??"",openDropdown:g,setOpenDropdown:m,onConditionChange:$=>p(D=>({...D,impCondition:$})),onValueChange:$=>p(D=>({...D,impValue:$}))}),k=h.jsx(jn,{label:"Status",options:C.resourceStatuses,value:d.statuses,onChange:$=>p(D=>({...D,statuses:$}))}),M=e==="resource-active"?"resource-active":"task-default",E=()=>M==="task-default"?h.jsxs(Ot,{container:!0,spacing:2,children:[h.jsx(Ot,{item:!0,xs:12,sm:6,children:S}),h.jsx(Ot,{item:!0,xs:12,sm:6,children:_}),h.jsx(Ot,{item:!0,xs:12,sm:6,children:P}),h.jsx(Ot,{item:!0,xs:12,sm:6,children:z}),h.jsx(Ot,{item:!0,xs:12,sm:6,children:F}),h.jsx(Ot,{item:!0,xs:12,children:G})]}):M==="resource-active"?h.jsxs(Ot,{container:!0,spacing:2,children:[h.jsx(Ot,{item:!0,xs:12,sm:6,children:k}),h.jsx(Ot,{item:!0,xs:12,sm:6,children:_})]}):null;return h.jsxs(A0,{initial:{opacity:0,y:-4},animate:{opacity:1,y:0},transition:{duration:.2},elevation:0,sx:{width:"100%",maxWidth:{xs:"95vw",sm:l.spacing(100)},borderRadius:3,px:3,py:3,display:"flex",flexDirection:"column",gap:3,border:`1px solid ${Se(l.palette.primary.main,.18)}`,boxShadow:"0 18px 46px rgba(8,58,97,0.18)",backgroundImage:"none",overflowX:"hidden"},children:[E(),!a&&h.jsxs(wt,{direction:"row",justifyContent:"flex-end",spacing:1.5,pt:2,mt:2,sx:{borderTop:`1px solid ${Se(l.palette.divider,.7)}`},children:[h.jsx(yn,{variant:"contained",color:"primary",size:"small",onClick:()=>t(d),sx:{px:3,fontWeight:600,boxShadow:"none","&:hover":{boxShadow:"0 12px 28px rgba(8,58,97,0.25)"}},children:"Search"}),h.jsx(yn,{variant:"outlined",size:"small",onClick:o,sx:{px:3,fontWeight:600,borderColor:Se(l.palette.primary.main,.28),"&:hover":{borderColor:l.palette.primary.main,backgroundColor:Se(l.palette.primary.main,.08)}},children:"Clear"})]})]})};function E0({condition:e,value:t,openDropdown:o,setOpenDropdown:r,onConditionChange:i,onValueChange:a}){const l=Bt(),[d,p]=c.useState(null),g=o==="imp";c.useEffect(()=>{g||p(null)},[g]);const m=e==="greater"?"Greater Than":e==="less"?"Less Than":"IMP Score",f=x=>{g?r(null):(p(x.currentTarget),r("imp"))},v=()=>r(null);return h.jsxs(wt,{direction:{xs:"column",sm:"row"},spacing:2,alignItems:{xs:"stretch",sm:"flex-start"},children:[h.jsx(yn,{variant:"outlined",size:"small",endIcon:h.jsx(Hp,{size:14}),onClick:f,sx:{maxWidth:240,width:"100%",justifyContent:"space-between",textTransform:"none",fontSize:12,fontWeight:500,height:36,borderRadius:1.5,borderColor:Se(l.palette.primary.main,.22),color:l.palette.text.primary,px:2,"&:hover":{borderColor:l.palette.primary.main,backgroundColor:Se(l.palette.primary.main,.06)}},children:h.jsx(rt,{variant:"caption",component:"span",sx:{flexGrow:1,textAlign:"left",pr:1.5,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:m})}),h.jsx(En,{type:"number",size:"small",value:t,onChange:x=>{const b=(x.target.value||"").replace(/\D/g,"").slice(0,3);a(b)},placeholder:"Value",inputProps:{min:0,max:999,style:{fontSize:12,padding:"6px 10px",width:"clamp(64px, 6vw, 90px)"}}}),h.jsxs(zi,{anchorEl:d,open:g,onClose:v,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},MenuListProps:{dense:!0,sx:{fontSize:12}},slotProps:{paper:{elevation:12,sx:{minWidth:180,borderRadius:2,border:`1px solid ${Se(l.palette.primary.main,.18)}`,boxShadow:"0 18px 46px rgba(8,58,97,0.18)",backgroundImage:"none"}}},children:[h.jsx($t,{onClick:()=>{i("greater"),v()},children:"Greater Than"}),h.jsx($t,{onClick:()=>{i("less"),v()},children:"Less Than"})]})]})}function R0({mode:e,onSearch:t,onClear:o,dropdownData:r,resetKey:i}){return h.jsx(D0,{mode:e,onSearch:t,onClear:o,dropdownData:r,resetKey:i,hideActions:!0})}function L0(){const e=Bt();return h.jsx(Nt,{elevation:0,sx:{height:"100%",borderRadius:3,px:3,py:2.5,border:`1px solid ${Se(e.palette.primary.main,.18)}`,boxShadow:"0 18px 46px rgba(8,58,97,0.18)",backgroundImage:"none"}})}function vh(e,t){const o=c.useRef(t);c.useEffect(function(){t!==o.current&&e.attributionControl!=null&&(o.current!=null&&e.attributionControl.removeAttribution(o.current),t!=null&&e.attributionControl.addAttribution(t)),o.current=t},[e,t])}const F0=1;function O0(e){return Object.freeze({__version:F0,map:e})}function N0(e,t){return Object.freeze({...e,...t})}const uc=c.createContext(null);function dc(){const e=c.use(uc);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function z0(e){function t(o,r){const{instance:i,context:a}=e(o).current;c.useImperativeHandle(r,()=>i);const{children:l}=o;return l==null?null:kn.createElement(uc,{value:a},l)}return c.forwardRef(t)}function $0(e){function t(o,r){const[i,a]=c.useState(!1),{instance:l}=e(o,a).current;c.useImperativeHandle(r,()=>l),c.useEffect(function(){i&&l.update()},[l,i,o.children]);const d=l._contentNode;return d?$s.createPortal(o.children,d):null}return c.forwardRef(t)}function B0(e){function t(o,r){const{instance:i}=e(o).current;return c.useImperativeHandle(r,()=>i),null}return c.forwardRef(t)}function yh(e,t){const o=c.useRef(void 0);c.useEffect(function(){return t!=null&&e.instance.on(t),o.current=t,function(){o.current!=null&&e.instance.off(o.current),o.current=null}},[e,t])}function pc(e,t){const o=e.pane??t.pane;return o?{...e,pane:o}:e}function j0(e,t){return function(r,i){const a=dc(),l=e(pc(r,a),a);return vh(a.map,r.attribution),yh(l.current,r.eventHandlers),t(l.current,a,r,i),l}}var bs={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var H0=bs.exports,pd;function G0(){return pd||(pd=1,function(e,t){(function(o,r){r(t)})(H0,function(o){var r="1.9.4";function i(n){var s,u,y,w;for(u=1,y=arguments.length;u<y;u++){w=arguments[u];for(s in w)n[s]=w[s]}return n}var a=Object.create||function(){function n(){}return function(s){return n.prototype=s,new n}}();function l(n,s){var u=Array.prototype.slice;if(n.bind)return n.bind.apply(n,u.call(arguments,1));var y=u.call(arguments,2);return function(){return n.apply(s,y.length?y.concat(u.call(arguments)):arguments)}}var d=0;function p(n){return"_leaflet_id"in n||(n._leaflet_id=++d),n._leaflet_id}function g(n,s,u){var y,w,N,K;return K=function(){y=!1,w&&(N.apply(u,w),w=!1)},N=function(){y?w=arguments:(n.apply(u,arguments),setTimeout(K,s),y=!0)},N}function m(n,s,u){var y=s[1],w=s[0],N=y-w;return n===y&&u?n:((n-w)%N+N)%N+w}function f(){return!1}function v(n,s){if(s===!1)return n;var u=Math.pow(10,s===void 0?6:s);return Math.round(n*u)/u}function x(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}function b(n){return x(n).split(/\s+/)}function C(n,s){Object.prototype.hasOwnProperty.call(n,"options")||(n.options=n.options?a(n.options):{});for(var u in s)n.options[u]=s[u];return n.options}function S(n,s,u){var y=[];for(var w in n)y.push(encodeURIComponent(u?w.toUpperCase():w)+"="+encodeURIComponent(n[w]));return(!s||s.indexOf("?")===-1?"?":"&")+y.join("&")}var _=/\{ *([\w_ -]+) *\}/g;function P(n,s){return n.replace(_,function(u,y){var w=s[y];if(w===void 0)throw new Error("No value provided for variable "+u);return typeof w=="function"&&(w=w(s)),w})}var z=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"};function F(n,s){for(var u=0;u<n.length;u++)if(n[u]===s)return u;return-1}var G="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function k(n){return window["webkit"+n]||window["moz"+n]||window["ms"+n]}var M=0;function E(n){var s=+new Date,u=Math.max(0,16-(s-M));return M=s+u,window.setTimeout(n,u)}var $=window.requestAnimationFrame||k("RequestAnimationFrame")||E,D=window.cancelAnimationFrame||k("CancelAnimationFrame")||k("CancelRequestAnimationFrame")||function(n){window.clearTimeout(n)};function O(n,s,u){if(u&&$===E)n.call(s);else return $.call(window,l(n,s))}function H(n){n&&D.call(window,n)}var B={__proto__:null,extend:i,create:a,bind:l,get lastId(){return d},stamp:p,throttle:g,wrapNum:m,falseFn:f,formatNum:v,trim:x,splitWords:b,setOptions:C,getParamString:S,template:P,isArray:z,indexOf:F,emptyImageUrl:G,requestFn:$,cancelFn:D,requestAnimFrame:O,cancelAnimFrame:H};function I(){}I.extend=function(n){var s=function(){C(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},u=s.__super__=this.prototype,y=a(u);y.constructor=s,s.prototype=y;for(var w in this)Object.prototype.hasOwnProperty.call(this,w)&&w!=="prototype"&&w!=="__super__"&&(s[w]=this[w]);return n.statics&&i(s,n.statics),n.includes&&(A(n.includes),i.apply(null,[y].concat(n.includes))),i(y,n),delete y.statics,delete y.includes,y.options&&(y.options=u.options?a(u.options):{},i(y.options,n.options)),y._initHooks=[],y.callInitHooks=function(){if(!this._initHooksCalled){u.callInitHooks&&u.callInitHooks.call(this),this._initHooksCalled=!0;for(var N=0,K=y._initHooks.length;N<K;N++)y._initHooks[N].call(this)}},s},I.include=function(n){var s=this.prototype.options;return i(this.prototype,n),n.options&&(this.prototype.options=s,this.mergeOptions(n.options)),this},I.mergeOptions=function(n){return i(this.prototype.options,n),this},I.addInitHook=function(n){var s=Array.prototype.slice.call(arguments,1),u=typeof n=="function"?n:function(){this[n].apply(this,s)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(u),this};function A(n){if(!(typeof L>"u"||!L||!L.Mixin)){n=z(n)?n:[n];for(var s=0;s<n.length;s++)n[s]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var j={on:function(n,s,u){if(typeof n=="object")for(var y in n)this._on(y,n[y],s);else{n=b(n);for(var w=0,N=n.length;w<N;w++)this._on(n[w],s,u)}return this},off:function(n,s,u){if(!arguments.length)delete this._events;else if(typeof n=="object")for(var y in n)this._off(y,n[y],s);else{n=b(n);for(var w=arguments.length===1,N=0,K=n.length;N<K;N++)w?this._off(n[N]):this._off(n[N],s,u)}return this},_on:function(n,s,u,y){if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}if(this._listens(n,s,u)===!1){u===this&&(u=void 0);var w={fn:s,ctx:u};y&&(w.once=!0),this._events=this._events||{},this._events[n]=this._events[n]||[],this._events[n].push(w)}},_off:function(n,s,u){var y,w,N;if(this._events&&(y=this._events[n],!!y)){if(arguments.length===1){if(this._firingCount)for(w=0,N=y.length;w<N;w++)y[w].fn=f;delete this._events[n];return}if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}var K=this._listens(n,s,u);if(K!==!1){var oe=y[K];this._firingCount&&(oe.fn=f,this._events[n]=y=y.slice()),y.splice(K,1)}}},fire:function(n,s,u){if(!this.listens(n,u))return this;var y=i({},s,{type:n,target:this,sourceTarget:s&&s.sourceTarget||this});if(this._events){var w=this._events[n];if(w){this._firingCount=this._firingCount+1||1;for(var N=0,K=w.length;N<K;N++){var oe=w[N],ue=oe.fn;oe.once&&this.off(n,ue,oe.ctx),ue.call(oe.ctx||this,y)}this._firingCount--}}return u&&this._propagateEvent(y),this},listens:function(n,s,u,y){typeof n!="string"&&console.warn('"string" type argument expected');var w=s;typeof s!="function"&&(y=!!s,w=void 0,u=void 0);var N=this._events&&this._events[n];if(N&&N.length&&this._listens(n,w,u)!==!1)return!0;if(y){for(var K in this._eventParents)if(this._eventParents[K].listens(n,s,u,y))return!0}return!1},_listens:function(n,s,u){if(!this._events)return!1;var y=this._events[n]||[];if(!s)return!!y.length;u===this&&(u=void 0);for(var w=0,N=y.length;w<N;w++)if(y[w].fn===s&&y[w].ctx===u)return w;return!1},once:function(n,s,u){if(typeof n=="object")for(var y in n)this._on(y,n[y],s,!0);else{n=b(n);for(var w=0,N=n.length;w<N;w++)this._on(n[w],s,u,!0)}return this},addEventParent:function(n){return this._eventParents=this._eventParents||{},this._eventParents[p(n)]=n,this},removeEventParent:function(n){return this._eventParents&&delete this._eventParents[p(n)],this},_propagateEvent:function(n){for(var s in this._eventParents)this._eventParents[s].fire(n.type,i({layer:n.target,propagatedFrom:n.target},n),!0)}};j.addEventListener=j.on,j.removeEventListener=j.clearAllEventListeners=j.off,j.addOneTimeEventListener=j.once,j.fireEvent=j.fire,j.hasEventListeners=j.listens;var V=I.extend(j);function R(n,s,u){this.x=u?Math.round(n):n,this.y=u?Math.round(s):s}var W=Math.trunc||function(n){return n>0?Math.floor(n):Math.ceil(n)};R.prototype={clone:function(){return new R(this.x,this.y)},add:function(n){return this.clone()._add(Z(n))},_add:function(n){return this.x+=n.x,this.y+=n.y,this},subtract:function(n){return this.clone()._subtract(Z(n))},_subtract:function(n){return this.x-=n.x,this.y-=n.y,this},divideBy:function(n){return this.clone()._divideBy(n)},_divideBy:function(n){return this.x/=n,this.y/=n,this},multiplyBy:function(n){return this.clone()._multiplyBy(n)},_multiplyBy:function(n){return this.x*=n,this.y*=n,this},scaleBy:function(n){return new R(this.x*n.x,this.y*n.y)},unscaleBy:function(n){return new R(this.x/n.x,this.y/n.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=W(this.x),this.y=W(this.y),this},distanceTo:function(n){n=Z(n);var s=n.x-this.x,u=n.y-this.y;return Math.sqrt(s*s+u*u)},equals:function(n){return n=Z(n),n.x===this.x&&n.y===this.y},contains:function(n){return n=Z(n),Math.abs(n.x)<=Math.abs(this.x)&&Math.abs(n.y)<=Math.abs(this.y)},toString:function(){return"Point("+v(this.x)+", "+v(this.y)+")"}};function Z(n,s,u){return n instanceof R?n:z(n)?new R(n[0],n[1]):n==null?n:typeof n=="object"&&"x"in n&&"y"in n?new R(n.x,n.y):new R(n,s,u)}function q(n,s){if(n)for(var u=s?[n,s]:n,y=0,w=u.length;y<w;y++)this.extend(u[y])}q.prototype={extend:function(n){var s,u;if(!n)return this;if(n instanceof R||typeof n[0]=="number"||"x"in n)s=u=Z(n);else if(n=ee(n),s=n.min,u=n.max,!s||!u)return this;return!this.min&&!this.max?(this.min=s.clone(),this.max=u.clone()):(this.min.x=Math.min(s.x,this.min.x),this.max.x=Math.max(u.x,this.max.x),this.min.y=Math.min(s.y,this.min.y),this.max.y=Math.max(u.y,this.max.y)),this},getCenter:function(n){return Z((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,n)},getBottomLeft:function(){return Z(this.min.x,this.max.y)},getTopRight:function(){return Z(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(n){var s,u;return typeof n[0]=="number"||n instanceof R?n=Z(n):n=ee(n),n instanceof q?(s=n.min,u=n.max):s=u=n,s.x>=this.min.x&&u.x<=this.max.x&&s.y>=this.min.y&&u.y<=this.max.y},intersects:function(n){n=ee(n);var s=this.min,u=this.max,y=n.min,w=n.max,N=w.x>=s.x&&y.x<=u.x,K=w.y>=s.y&&y.y<=u.y;return N&&K},overlaps:function(n){n=ee(n);var s=this.min,u=this.max,y=n.min,w=n.max,N=w.x>s.x&&y.x<u.x,K=w.y>s.y&&y.y<u.y;return N&&K},isValid:function(){return!!(this.min&&this.max)},pad:function(n){var s=this.min,u=this.max,y=Math.abs(s.x-u.x)*n,w=Math.abs(s.y-u.y)*n;return ee(Z(s.x-y,s.y-w),Z(u.x+y,u.y+w))},equals:function(n){return n?(n=ee(n),this.min.equals(n.getTopLeft())&&this.max.equals(n.getBottomRight())):!1}};function ee(n,s){return!n||n instanceof q?n:new q(n,s)}function X(n,s){if(n)for(var u=s?[n,s]:n,y=0,w=u.length;y<w;y++)this.extend(u[y])}X.prototype={extend:function(n){var s=this._southWest,u=this._northEast,y,w;if(n instanceof Y)y=n,w=n;else if(n instanceof X){if(y=n._southWest,w=n._northEast,!y||!w)return this}else return n?this.extend(ne(n)||te(n)):this;return!s&&!u?(this._southWest=new Y(y.lat,y.lng),this._northEast=new Y(w.lat,w.lng)):(s.lat=Math.min(y.lat,s.lat),s.lng=Math.min(y.lng,s.lng),u.lat=Math.max(w.lat,u.lat),u.lng=Math.max(w.lng,u.lng)),this},pad:function(n){var s=this._southWest,u=this._northEast,y=Math.abs(s.lat-u.lat)*n,w=Math.abs(s.lng-u.lng)*n;return new X(new Y(s.lat-y,s.lng-w),new Y(u.lat+y,u.lng+w))},getCenter:function(){return new Y((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Y(this.getNorth(),this.getWest())},getSouthEast:function(){return new Y(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(n){typeof n[0]=="number"||n instanceof Y||"lat"in n?n=ne(n):n=te(n);var s=this._southWest,u=this._northEast,y,w;return n instanceof X?(y=n.getSouthWest(),w=n.getNorthEast()):y=w=n,y.lat>=s.lat&&w.lat<=u.lat&&y.lng>=s.lng&&w.lng<=u.lng},intersects:function(n){n=te(n);var s=this._southWest,u=this._northEast,y=n.getSouthWest(),w=n.getNorthEast(),N=w.lat>=s.lat&&y.lat<=u.lat,K=w.lng>=s.lng&&y.lng<=u.lng;return N&&K},overlaps:function(n){n=te(n);var s=this._southWest,u=this._northEast,y=n.getSouthWest(),w=n.getNorthEast(),N=w.lat>s.lat&&y.lat<u.lat,K=w.lng>s.lng&&y.lng<u.lng;return N&&K},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(n,s){return n?(n=te(n),this._southWest.equals(n.getSouthWest(),s)&&this._northEast.equals(n.getNorthEast(),s)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function te(n,s){return n instanceof X?n:new X(n,s)}function Y(n,s,u){if(isNaN(n)||isNaN(s))throw new Error("Invalid LatLng object: ("+n+", "+s+")");this.lat=+n,this.lng=+s,u!==void 0&&(this.alt=+u)}Y.prototype={equals:function(n,s){if(!n)return!1;n=ne(n);var u=Math.max(Math.abs(this.lat-n.lat),Math.abs(this.lng-n.lng));return u<=(s===void 0?1e-9:s)},toString:function(n){return"LatLng("+v(this.lat,n)+", "+v(this.lng,n)+")"},distanceTo:function(n){return ve.distance(this,ne(n))},wrap:function(){return ve.wrapLatLng(this)},toBounds:function(n){var s=180*n/40075017,u=s/Math.cos(Math.PI/180*this.lat);return te([this.lat-s,this.lng-u],[this.lat+s,this.lng+u])},clone:function(){return new Y(this.lat,this.lng,this.alt)}};function ne(n,s,u){return n instanceof Y?n:z(n)&&typeof n[0]!="object"?n.length===3?new Y(n[0],n[1],n[2]):n.length===2?new Y(n[0],n[1]):null:n==null?n:typeof n=="object"&&"lat"in n?new Y(n.lat,"lng"in n?n.lng:n.lon,n.alt):s===void 0?null:new Y(n,s,u)}var re={latLngToPoint:function(n,s){var u=this.projection.project(n),y=this.scale(s);return this.transformation._transform(u,y)},pointToLatLng:function(n,s){var u=this.scale(s),y=this.transformation.untransform(n,u);return this.projection.unproject(y)},project:function(n){return this.projection.project(n)},unproject:function(n){return this.projection.unproject(n)},scale:function(n){return 256*Math.pow(2,n)},zoom:function(n){return Math.log(n/256)/Math.LN2},getProjectedBounds:function(n){if(this.infinite)return null;var s=this.projection.bounds,u=this.scale(n),y=this.transformation.transform(s.min,u),w=this.transformation.transform(s.max,u);return new q(y,w)},infinite:!1,wrapLatLng:function(n){var s=this.wrapLng?m(n.lng,this.wrapLng,!0):n.lng,u=this.wrapLat?m(n.lat,this.wrapLat,!0):n.lat,y=n.alt;return new Y(u,s,y)},wrapLatLngBounds:function(n){var s=n.getCenter(),u=this.wrapLatLng(s),y=s.lat-u.lat,w=s.lng-u.lng;if(y===0&&w===0)return n;var N=n.getSouthWest(),K=n.getNorthEast(),oe=new Y(N.lat-y,N.lng-w),ue=new Y(K.lat-y,K.lng-w);return new X(oe,ue)}},ve=i({},re,{wrapLng:[-180,180],R:6371e3,distance:function(n,s){var u=Math.PI/180,y=n.lat*u,w=s.lat*u,N=Math.sin((s.lat-n.lat)*u/2),K=Math.sin((s.lng-n.lng)*u/2),oe=N*N+Math.cos(y)*Math.cos(w)*K*K,ue=2*Math.atan2(Math.sqrt(oe),Math.sqrt(1-oe));return this.R*ue}}),_e=6378137,be={R:_e,MAX_LATITUDE:85.0511287798,project:function(n){var s=Math.PI/180,u=this.MAX_LATITUDE,y=Math.max(Math.min(u,n.lat),-u),w=Math.sin(y*s);return new R(this.R*n.lng*s,this.R*Math.log((1+w)/(1-w))/2)},unproject:function(n){var s=180/Math.PI;return new Y((2*Math.atan(Math.exp(n.y/this.R))-Math.PI/2)*s,n.x*s/this.R)},bounds:function(){var n=_e*Math.PI;return new q([-n,-n],[n,n])}()};function Ae(n,s,u,y){if(z(n)){this._a=n[0],this._b=n[1],this._c=n[2],this._d=n[3];return}this._a=n,this._b=s,this._c=u,this._d=y}Ae.prototype={transform:function(n,s){return this._transform(n.clone(),s)},_transform:function(n,s){return s=s||1,n.x=s*(this._a*n.x+this._b),n.y=s*(this._c*n.y+this._d),n},untransform:function(n,s){return s=s||1,new R((n.x/s-this._b)/this._a,(n.y/s-this._d)/this._c)}};function Ce(n,s,u,y){return new Ae(n,s,u,y)}var fe=i({},ve,{code:"EPSG:3857",projection:be,transformation:function(){var n=.5/(Math.PI*be.R);return Ce(n,.5,-n,.5)}()}),se=i({},fe,{code:"EPSG:900913"});function U(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function he(n,s){var u="",y,w,N,K,oe,ue;for(y=0,N=n.length;y<N;y++){for(oe=n[y],w=0,K=oe.length;w<K;w++)ue=oe[w],u+=(w?"L":"M")+ue.x+" "+ue.y;u+=s?Ne.svg?"z":"x":""}return u||"M0 0"}var Q=document.documentElement.style,ie="ActiveXObject"in window,de=ie&&!document.addEventListener,we="msLaunchUri"in navigator&&!("documentMode"in document),Re=Rt("webkit"),Pe=Rt("android"),ge=Rt("android 2")||Rt("android 3"),ye=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ke=Pe&&Rt("Google")&&ye<537&&!("AudioNode"in window),Be=!!window.opera,Qe=!we&&Rt("chrome"),Je=Rt("gecko")&&!Re&&!Be&&!ie,qe=!Qe&&Rt("safari"),Ke=Rt("phantom"),St="OTransition"in Q,at=navigator.platform.indexOf("Win")===0,st=ie&&"transition"in Q,Jt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ge,Et="MozPerspective"in Q,Yt=!window.L_DISABLE_3D&&(st||Jt||Et)&&!St&&!Ke,hn=typeof orientation<"u"||Rt("mobile"),on=hn&&Re,rn=hn&&Jt,qt=!window.PointerEvent&&window.MSPointerEvent,It=!!(window.PointerEvent||qt),me="ontouchstart"in window||!!window.TouchEvent,Te=!window.L_NO_TOUCH&&(me||It),vt=hn&&Be,Ft=hn&&Je,zt=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,dt=function(){var n=!1;try{var s=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("testPassiveEventSupport",f,s),window.removeEventListener("testPassiveEventSupport",f,s)}catch{}return n}(),Tt=function(){return!!document.createElement("canvas").getContext}(),Me=!!(document.createElementNS&&U("svg").createSVGRect),Le=!!Me&&function(){var n=document.createElement("div");return n.innerHTML="<svg/>",(n.firstChild&&n.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),et=!Me&&function(){try{var n=document.createElement("div");n.innerHTML='<v:shape adj="1"/>';var s=n.firstChild;return s.style.behavior="url(#default#VML)",s&&typeof s.adj=="object"}catch{return!1}}(),ot=navigator.platform.indexOf("Mac")===0,kt=navigator.platform.indexOf("Linux")===0;function Rt(n){return navigator.userAgent.toLowerCase().indexOf(n)>=0}var Ne={ie,ielt9:de,edge:we,webkit:Re,android:Pe,android23:ge,androidStock:ke,opera:Be,chrome:Qe,gecko:Je,safari:qe,phantom:Ke,opera12:St,win:at,ie3d:st,webkit3d:Jt,gecko3d:Et,any3d:Yt,mobile:hn,mobileWebkit:on,mobileWebkit3d:rn,msPointer:qt,pointer:It,touch:Te,touchNative:me,mobileOpera:vt,mobileGecko:Ft,retina:zt,passiveEvents:dt,canvas:Tt,svg:Me,vml:et,inlineSvg:Le,mac:ot,linux:kt},Cn=Ne.msPointer?"MSPointerDown":"pointerdown",Nn=Ne.msPointer?"MSPointerMove":"pointermove",pe=Ne.msPointer?"MSPointerUp":"pointerup",Ie=Ne.msPointer?"MSPointerCancel":"pointercancel",Xe={touchstart:Cn,touchmove:Nn,touchend:pe,touchcancel:Ie},tt={touchstart:wo,touchmove:mn,touchend:mn,touchcancel:mn},ce={},le=!1;function De(n,s,u){return s==="touchstart"&&Ve(),tt[s]?(u=tt[s].bind(this,u),n.addEventListener(Xe[s],u,!1),u):(console.warn("wrong event specified:",s),f)}function Ye(n,s,u){if(!Xe[s]){console.warn("wrong event specified:",s);return}n.removeEventListener(Xe[s],u,!1)}function Ze(n){ce[n.pointerId]=n}function He(n){ce[n.pointerId]&&(ce[n.pointerId]=n)}function Fe(n){delete ce[n.pointerId]}function Ve(){le||(document.addEventListener(Cn,Ze,!0),document.addEventListener(Nn,He,!0),document.addEventListener(pe,Fe,!0),document.addEventListener(Ie,Fe,!0),le=!0)}function mn(n,s){if(s.pointerType!==(s.MSPOINTER_TYPE_MOUSE||"mouse")){s.touches=[];for(var u in ce)s.touches.push(ce[u]);s.changedTouches=[s],n(s)}}function wo(n,s){s.MSPOINTER_TYPE_TOUCH&&s.pointerType===s.MSPOINTER_TYPE_TOUCH&&Sn(s),mn(n,s)}function Yn(n){var s={},u,y;for(y in n)u=n[y],s[y]=u&&u.bind?u.bind(n):u;return n=s,s.type="dblclick",s.detail=2,s.isTrusted=!1,s._simulated=!0,s}var zn=200;function Qn(n,s){n.addEventListener("dblclick",s);var u=0,y;function w(N){if(N.detail!==1){y=N.detail;return}if(!(N.pointerType==="mouse"||N.sourceCapabilities&&!N.sourceCapabilities.firesTouchEvents)){var K=Xc(N);if(!(K.some(function(ue){return ue instanceof HTMLLabelElement&&ue.attributes.for})&&!K.some(function(ue){return ue instanceof HTMLInputElement||ue instanceof HTMLSelectElement}))){var oe=Date.now();oe-u<=zn?(y++,y===2&&s(Yn(N))):y=1,u=oe}}}return n.addEventListener("click",w),{dblclick:s,simDblclick:w}}function yt(n,s){n.removeEventListener("dblclick",s.dblclick),n.removeEventListener("click",s.simDblclick)}var fn=ti(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),wn=ti(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),eo=wn==="webkitTransition"||wn==="OTransition"?wn+"End":"transitionend";function Ys(n){return typeof n=="string"?document.getElementById(n):n}function ns(n,s){var u=n.style[s]||n.currentStyle&&n.currentStyle[s];if((!u||u==="auto")&&document.defaultView){var y=document.defaultView.getComputedStyle(n,null);u=y?y[s]:null}return u==="auto"?null:u}function At(n,s,u){var y=document.createElement(n);return y.className=s||"",u&&u.appendChild(y),y}function Qt(n){var s=n.parentNode;s&&s.removeChild(n)}function Qs(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function wr(n){var s=n.parentNode;s&&s.lastChild!==n&&s.appendChild(n)}function Sr(n){var s=n.parentNode;s&&s.firstChild!==n&&s.insertBefore(n,s.firstChild)}function Fa(n,s){if(n.classList!==void 0)return n.classList.contains(s);var u=ei(n);return u.length>0&&new RegExp("(^|\\s)"+s+"(\\s|$)").test(u)}function ht(n,s){if(n.classList!==void 0)for(var u=b(s),y=0,w=u.length;y<w;y++)n.classList.add(u[y]);else if(!Fa(n,s)){var N=ei(n);Oa(n,(N?N+" ":"")+s)}}function sn(n,s){n.classList!==void 0?n.classList.remove(s):Oa(n,x((" "+ei(n)+" ").replace(" "+s+" "," ")))}function Oa(n,s){n.className.baseVal===void 0?n.className=s:n.className.baseVal=s}function ei(n){return n.correspondingElement&&(n=n.correspondingElement),n.className.baseVal===void 0?n.className:n.className.baseVal}function Gn(n,s){"opacity"in n.style?n.style.opacity=s:"filter"in n.style&&mf(n,s)}function mf(n,s){var u=!1,y="DXImageTransform.Microsoft.Alpha";try{u=n.filters.item(y)}catch{if(s===1)return}s=Math.round(s*100),u?(u.Enabled=s!==100,u.Opacity=s):n.style.filter+=" progid:"+y+"(opacity="+s+")"}function ti(n){for(var s=document.documentElement.style,u=0;u<n.length;u++)if(n[u]in s)return n[u];return!1}function Qo(n,s,u){var y=s||new R(0,0);n.style[fn]=(Ne.ie3d?"translate("+y.x+"px,"+y.y+"px)":"translate3d("+y.x+"px,"+y.y+"px,0)")+(u?" scale("+u+")":"")}function cn(n,s){n._leaflet_pos=s,Ne.any3d?Qo(n,s):(n.style.left=s.x+"px",n.style.top=s.y+"px")}function er(n){return n._leaflet_pos||new R(0,0)}var os,rs,Na;if("onselectstart"in document)os=function(){ut(window,"selectstart",Sn)},rs=function(){jt(window,"selectstart",Sn)};else{var ss=ti(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);os=function(){if(ss){var n=document.documentElement.style;Na=n[ss],n[ss]="none"}},rs=function(){ss&&(document.documentElement.style[ss]=Na,Na=void 0)}}function za(){ut(window,"dragstart",Sn)}function $a(){jt(window,"dragstart",Sn)}var ni,Ba;function ja(n){for(;n.tabIndex===-1;)n=n.parentNode;n.style&&(oi(),ni=n,Ba=n.style.outlineStyle,n.style.outlineStyle="none",ut(window,"keydown",oi))}function oi(){ni&&(ni.style.outlineStyle=Ba,ni=void 0,Ba=void 0,jt(window,"keydown",oi))}function Jc(n){do n=n.parentNode;while((!n.offsetWidth||!n.offsetHeight)&&n!==document.body);return n}function Ha(n){var s=n.getBoundingClientRect();return{x:s.width/n.offsetWidth||1,y:s.height/n.offsetHeight||1,boundingClientRect:s}}var ff={__proto__:null,TRANSFORM:fn,TRANSITION:wn,TRANSITION_END:eo,get:Ys,getStyle:ns,create:At,remove:Qt,empty:Qs,toFront:wr,toBack:Sr,hasClass:Fa,addClass:ht,removeClass:sn,setClass:Oa,getClass:ei,setOpacity:Gn,testProp:ti,setTransform:Qo,setPosition:cn,getPosition:er,get disableTextSelection(){return os},get enableTextSelection(){return rs},disableImageDrag:za,enableImageDrag:$a,preventOutline:ja,restoreOutline:oi,getSizedParentNode:Jc,getScale:Ha};function ut(n,s,u,y){if(s&&typeof s=="object")for(var w in s)Va(n,w,s[w],u);else{s=b(s);for(var N=0,K=s.length;N<K;N++)Va(n,s[N],u,y)}return this}var po="_leaflet_events";function jt(n,s,u,y){if(arguments.length===1)qc(n),delete n[po];else if(s&&typeof s=="object")for(var w in s)Wa(n,w,s[w],u);else if(s=b(s),arguments.length===2)qc(n,function(oe){return F(s,oe)!==-1});else for(var N=0,K=s.length;N<K;N++)Wa(n,s[N],u,y);return this}function qc(n,s){for(var u in n[po]){var y=u.split(/\d/)[0];(!s||s(y))&&Wa(n,y,null,null,u)}}var Ga={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Va(n,s,u,y){var w=s+p(u)+(y?"_"+p(y):"");if(n[po]&&n[po][w])return this;var N=function(oe){return u.call(y||n,oe||window.event)},K=N;!Ne.touchNative&&Ne.pointer&&s.indexOf("touch")===0?N=De(n,s,N):Ne.touch&&s==="dblclick"?N=Qn(n,N):"addEventListener"in n?s==="touchstart"||s==="touchmove"||s==="wheel"||s==="mousewheel"?n.addEventListener(Ga[s]||s,N,Ne.passiveEvents?{passive:!1}:!1):s==="mouseenter"||s==="mouseleave"?(N=function(oe){oe=oe||window.event,Ua(n,oe)&&K(oe)},n.addEventListener(Ga[s],N,!1)):n.addEventListener(s,K,!1):n.attachEvent("on"+s,N),n[po]=n[po]||{},n[po][w]=N}function Wa(n,s,u,y,w){w=w||s+p(u)+(y?"_"+p(y):"");var N=n[po]&&n[po][w];if(!N)return this;!Ne.touchNative&&Ne.pointer&&s.indexOf("touch")===0?Ye(n,s,N):Ne.touch&&s==="dblclick"?yt(n,N):"removeEventListener"in n?n.removeEventListener(Ga[s]||s,N,!1):n.detachEvent("on"+s,N),n[po][w]=null}function tr(n){return n.stopPropagation?n.stopPropagation():n.originalEvent?n.originalEvent._stopped=!0:n.cancelBubble=!0,this}function Za(n){return Va(n,"wheel",tr),this}function is(n){return ut(n,"mousedown touchstart dblclick contextmenu",tr),n._leaflet_disable_click=!0,this}function Sn(n){return n.preventDefault?n.preventDefault():n.returnValue=!1,this}function nr(n){return Sn(n),tr(n),this}function Xc(n){if(n.composedPath)return n.composedPath();for(var s=[],u=n.target;u;)s.push(u),u=u.parentNode;return s}function Yc(n,s){if(!s)return new R(n.clientX,n.clientY);var u=Ha(s),y=u.boundingClientRect;return new R((n.clientX-y.left)/u.x-s.clientLeft,(n.clientY-y.top)/u.y-s.clientTop)}var gf=Ne.linux&&Ne.chrome?window.devicePixelRatio:Ne.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Qc(n){return Ne.edge?n.wheelDeltaY/2:n.deltaY&&n.deltaMode===0?-n.deltaY/gf:n.deltaY&&n.deltaMode===1?-n.deltaY*20:n.deltaY&&n.deltaMode===2?-n.deltaY*60:n.deltaX||n.deltaZ?0:n.wheelDelta?(n.wheelDeltaY||n.wheelDelta)/2:n.detail&&Math.abs(n.detail)<32765?-n.detail*20:n.detail?n.detail/-32765*60:0}function Ua(n,s){var u=s.relatedTarget;if(!u)return!0;try{for(;u&&u!==n;)u=u.parentNode}catch{return!1}return u!==n}var vf={__proto__:null,on:ut,off:jt,stopPropagation:tr,disableScrollPropagation:Za,disableClickPropagation:is,preventDefault:Sn,stop:nr,getPropagationPath:Xc,getMousePosition:Yc,getWheelDelta:Qc,isExternalTarget:Ua,addListener:ut,removeListener:jt},eu=V.extend({run:function(n,s,u,y){this.stop(),this._el=n,this._inProgress=!0,this._duration=u||.25,this._easeOutPower=1/Math.max(y||.5,.2),this._startPos=er(n),this._offset=s.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=O(this._animate,this),this._step()},_step:function(n){var s=+new Date-this._startTime,u=this._duration*1e3;s<u?this._runFrame(this._easeOut(s/u),n):(this._runFrame(1),this._complete())},_runFrame:function(n,s){var u=this._startPos.add(this._offset.multiplyBy(n));s&&u._round(),cn(this._el,u),this.fire("step")},_complete:function(){H(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(n){return 1-Math.pow(1-n,this._easeOutPower)}}),Mt=V.extend({options:{crs:fe,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(n,s){s=C(this,s),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(n),this._initLayout(),this._onResize=l(this._onResize,this),this._initEvents(),s.maxBounds&&this.setMaxBounds(s.maxBounds),s.zoom!==void 0&&(this._zoom=this._limitZoom(s.zoom)),s.center&&s.zoom!==void 0&&this.setView(ne(s.center),s.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=wn&&Ne.any3d&&!Ne.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ut(this._proxy,eo,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(n,s,u){if(s=s===void 0?this._zoom:this._limitZoom(s),n=this._limitCenter(ne(n),s,this.options.maxBounds),u=u||{},this._stop(),this._loaded&&!u.reset&&u!==!0){u.animate!==void 0&&(u.zoom=i({animate:u.animate},u.zoom),u.pan=i({animate:u.animate,duration:u.duration},u.pan));var y=this._zoom!==s?this._tryAnimatedZoom&&this._tryAnimatedZoom(n,s,u.zoom):this._tryAnimatedPan(n,u.pan);if(y)return clearTimeout(this._sizeTimer),this}return this._resetView(n,s,u.pan&&u.pan.noMoveStart),this},setZoom:function(n,s){return this._loaded?this.setView(this.getCenter(),n,{zoom:s}):(this._zoom=n,this)},zoomIn:function(n,s){return n=n||(Ne.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+n,s)},zoomOut:function(n,s){return n=n||(Ne.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-n,s)},setZoomAround:function(n,s,u){var y=this.getZoomScale(s),w=this.getSize().divideBy(2),N=n instanceof R?n:this.latLngToContainerPoint(n),K=N.subtract(w).multiplyBy(1-1/y),oe=this.containerPointToLatLng(w.add(K));return this.setView(oe,s,{zoom:u})},_getBoundsCenterZoom:function(n,s){s=s||{},n=n.getBounds?n.getBounds():te(n);var u=Z(s.paddingTopLeft||s.padding||[0,0]),y=Z(s.paddingBottomRight||s.padding||[0,0]),w=this.getBoundsZoom(n,!1,u.add(y));if(w=typeof s.maxZoom=="number"?Math.min(s.maxZoom,w):w,w===1/0)return{center:n.getCenter(),zoom:w};var N=y.subtract(u).divideBy(2),K=this.project(n.getSouthWest(),w),oe=this.project(n.getNorthEast(),w),ue=this.unproject(K.add(oe).divideBy(2).add(N),w);return{center:ue,zoom:w}},fitBounds:function(n,s){if(n=te(n),!n.isValid())throw new Error("Bounds are not valid.");var u=this._getBoundsCenterZoom(n,s);return this.setView(u.center,u.zoom,s)},fitWorld:function(n){return this.fitBounds([[-90,-180],[90,180]],n)},panTo:function(n,s){return this.setView(n,this._zoom,{pan:s})},panBy:function(n,s){if(n=Z(n).round(),s=s||{},!n.x&&!n.y)return this.fire("moveend");if(s.animate!==!0&&!this.getSize().contains(n))return this._resetView(this.unproject(this.project(this.getCenter()).add(n)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new eu,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),s.noMoveStart||this.fire("movestart"),s.animate!==!1){ht(this._mapPane,"leaflet-pan-anim");var u=this._getMapPanePos().subtract(n).round();this._panAnim.run(this._mapPane,u,s.duration||.25,s.easeLinearity)}else this._rawPanBy(n),this.fire("move").fire("moveend");return this},flyTo:function(n,s,u){if(u=u||{},u.animate===!1||!Ne.any3d)return this.setView(n,s,u);this._stop();var y=this.project(this.getCenter()),w=this.project(n),N=this.getSize(),K=this._zoom;n=ne(n),s=s===void 0?K:s;var oe=Math.max(N.x,N.y),ue=oe*this.getZoomScale(K,s),xe=w.distanceTo(y)||1,je=1.42,nt=je*je;function Ct(un){var fi=un?-1:1,sg=un?ue:oe,ig=ue*ue-oe*oe+fi*nt*nt*xe*xe,ag=2*sg*nt*xe,rl=ig/ag,Lu=Math.sqrt(rl*rl+1)-rl,lg=Lu<1e-9?-18:Math.log(Lu);return lg}function Mn(un){return(Math.exp(un)-Math.exp(-un))/2}function gn(un){return(Math.exp(un)+Math.exp(-un))/2}function Wn(un){return Mn(un)/gn(un)}var Rn=Ct(0);function Mr(un){return oe*(gn(Rn)/gn(Rn+je*un))}function tg(un){return oe*(gn(Rn)*Wn(Rn+je*un)-Mn(Rn))/nt}function ng(un){return 1-Math.pow(1-un,1.5)}var og=Date.now(),Eu=(Ct(1)-Rn)/je,rg=u.duration?1e3*u.duration:1e3*Eu*.8;function Ru(){var un=(Date.now()-og)/rg,fi=ng(un)*Eu;un<=1?(this._flyToFrame=O(Ru,this),this._move(this.unproject(y.add(w.subtract(y).multiplyBy(tg(fi)/xe)),K),this.getScaleZoom(oe/Mr(fi),K),{flyTo:!0})):this._move(n,s)._moveEnd(!0)}return this._moveStart(!0,u.noMoveStart),Ru.call(this),this},flyToBounds:function(n,s){var u=this._getBoundsCenterZoom(n,s);return this.flyTo(u.center,u.zoom,s)},setMaxBounds:function(n){return n=te(n),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),n.isValid()?(this.options.maxBounds=n,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(n){var s=this.options.minZoom;return this.options.minZoom=n,this._loaded&&s!==n&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(n):this},setMaxZoom:function(n){var s=this.options.maxZoom;return this.options.maxZoom=n,this._loaded&&s!==n&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(n):this},panInsideBounds:function(n,s){this._enforcingBounds=!0;var u=this.getCenter(),y=this._limitCenter(u,this._zoom,te(n));return u.equals(y)||this.panTo(y,s),this._enforcingBounds=!1,this},panInside:function(n,s){s=s||{};var u=Z(s.paddingTopLeft||s.padding||[0,0]),y=Z(s.paddingBottomRight||s.padding||[0,0]),w=this.project(this.getCenter()),N=this.project(n),K=this.getPixelBounds(),oe=ee([K.min.add(u),K.max.subtract(y)]),ue=oe.getSize();if(!oe.contains(N)){this._enforcingBounds=!0;var xe=N.subtract(oe.getCenter()),je=oe.extend(N).getSize().subtract(ue);w.x+=xe.x<0?-je.x:je.x,w.y+=xe.y<0?-je.y:je.y,this.panTo(this.unproject(w),s),this._enforcingBounds=!1}return this},invalidateSize:function(n){if(!this._loaded)return this;n=i({animate:!1,pan:!0},n===!0?{animate:!0}:n);var s=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var u=this.getSize(),y=s.divideBy(2).round(),w=u.divideBy(2).round(),N=y.subtract(w);return!N.x&&!N.y?this:(n.animate&&n.pan?this.panBy(N):(n.pan&&this._rawPanBy(N),this.fire("move"),n.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:s,newSize:u}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(n){if(n=this._locateOptions=i({timeout:1e4,watch:!1},n),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var s=l(this._handleGeolocationResponse,this),u=l(this._handleGeolocationError,this);return n.watch?this._locationWatchId=navigator.geolocation.watchPosition(s,u,n):navigator.geolocation.getCurrentPosition(s,u,n),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(n){if(this._container._leaflet_id){var s=n.code,u=n.message||(s===1?"permission denied":s===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:s,message:"Geolocation error: "+u+"."})}},_handleGeolocationResponse:function(n){if(this._container._leaflet_id){var s=n.coords.latitude,u=n.coords.longitude,y=new Y(s,u),w=y.toBounds(n.coords.accuracy*2),N=this._locateOptions;if(N.setView){var K=this.getBoundsZoom(w);this.setView(y,N.maxZoom?Math.min(K,N.maxZoom):K)}var oe={latlng:y,bounds:w,timestamp:n.timestamp};for(var ue in n.coords)typeof n.coords[ue]=="number"&&(oe[ue]=n.coords[ue]);this.fire("locationfound",oe)}},addHandler:function(n,s){if(!s)return this;var u=this[n]=new s(this);return this._handlers.push(u),this.options[n]&&u.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Qt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(H(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var n;for(n in this._layers)this._layers[n].remove();for(n in this._panes)Qt(this._panes[n]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(n,s){var u="leaflet-pane"+(n?" leaflet-"+n.replace("Pane","")+"-pane":""),y=At("div",u,s||this._mapPane);return n&&(this._panes[n]=y),y},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var n=this.getPixelBounds(),s=this.unproject(n.getBottomLeft()),u=this.unproject(n.getTopRight());return new X(s,u)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(n,s,u){n=te(n),u=Z(u||[0,0]);var y=this.getZoom()||0,w=this.getMinZoom(),N=this.getMaxZoom(),K=n.getNorthWest(),oe=n.getSouthEast(),ue=this.getSize().subtract(u),xe=ee(this.project(oe,y),this.project(K,y)).getSize(),je=Ne.any3d?this.options.zoomSnap:1,nt=ue.x/xe.x,Ct=ue.y/xe.y,Mn=s?Math.max(nt,Ct):Math.min(nt,Ct);return y=this.getScaleZoom(Mn,y),je&&(y=Math.round(y/(je/100))*(je/100),y=s?Math.ceil(y/je)*je:Math.floor(y/je)*je),Math.max(w,Math.min(N,y))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new R(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(n,s){var u=this._getTopLeftPoint(n,s);return new q(u,u.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(n){return this.options.crs.getProjectedBounds(n===void 0?this.getZoom():n)},getPane:function(n){return typeof n=="string"?this._panes[n]:n},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(n,s){var u=this.options.crs;return s=s===void 0?this._zoom:s,u.scale(n)/u.scale(s)},getScaleZoom:function(n,s){var u=this.options.crs;s=s===void 0?this._zoom:s;var y=u.zoom(n*u.scale(s));return isNaN(y)?1/0:y},project:function(n,s){return s=s===void 0?this._zoom:s,this.options.crs.latLngToPoint(ne(n),s)},unproject:function(n,s){return s=s===void 0?this._zoom:s,this.options.crs.pointToLatLng(Z(n),s)},layerPointToLatLng:function(n){var s=Z(n).add(this.getPixelOrigin());return this.unproject(s)},latLngToLayerPoint:function(n){var s=this.project(ne(n))._round();return s._subtract(this.getPixelOrigin())},wrapLatLng:function(n){return this.options.crs.wrapLatLng(ne(n))},wrapLatLngBounds:function(n){return this.options.crs.wrapLatLngBounds(te(n))},distance:function(n,s){return this.options.crs.distance(ne(n),ne(s))},containerPointToLayerPoint:function(n){return Z(n).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(n){return Z(n).add(this._getMapPanePos())},containerPointToLatLng:function(n){var s=this.containerPointToLayerPoint(Z(n));return this.layerPointToLatLng(s)},latLngToContainerPoint:function(n){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ne(n)))},mouseEventToContainerPoint:function(n){return Yc(n,this._container)},mouseEventToLayerPoint:function(n){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(n))},mouseEventToLatLng:function(n){return this.layerPointToLatLng(this.mouseEventToLayerPoint(n))},_initContainer:function(n){var s=this._container=Ys(n);if(s){if(s._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ut(s,"scroll",this._onScroll,this),this._containerId=p(s)},_initLayout:function(){var n=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ne.any3d,ht(n,"leaflet-container"+(Ne.touch?" leaflet-touch":"")+(Ne.retina?" leaflet-retina":"")+(Ne.ielt9?" leaflet-oldie":"")+(Ne.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var s=ns(n,"position");s!=="absolute"&&s!=="relative"&&s!=="fixed"&&s!=="sticky"&&(n.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var n=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),cn(this._mapPane,new R(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ht(n.markerPane,"leaflet-zoom-hide"),ht(n.shadowPane,"leaflet-zoom-hide"))},_resetView:function(n,s,u){cn(this._mapPane,new R(0,0));var y=!this._loaded;this._loaded=!0,s=this._limitZoom(s),this.fire("viewprereset");var w=this._zoom!==s;this._moveStart(w,u)._move(n,s)._moveEnd(w),this.fire("viewreset"),y&&this.fire("load")},_moveStart:function(n,s){return n&&this.fire("zoomstart"),s||this.fire("movestart"),this},_move:function(n,s,u,y){s===void 0&&(s=this._zoom);var w=this._zoom!==s;return this._zoom=s,this._lastCenter=n,this._pixelOrigin=this._getNewPixelOrigin(n),y?u&&u.pinch&&this.fire("zoom",u):((w||u&&u.pinch)&&this.fire("zoom",u),this.fire("move",u)),this},_moveEnd:function(n){return n&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return H(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(n){cn(this._mapPane,this._getMapPanePos().subtract(n))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(n){this._targets={},this._targets[p(this._container)]=this;var s=n?jt:ut;s(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&s(window,"resize",this._onResize,this),Ne.any3d&&this.options.transform3DLimit&&(n?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){H(this._resizeRequest),this._resizeRequest=O(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var n=this._getMapPanePos();Math.max(Math.abs(n.x),Math.abs(n.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(n,s){for(var u=[],y,w=s==="mouseout"||s==="mouseover",N=n.target||n.srcElement,K=!1;N;){if(y=this._targets[p(N)],y&&(s==="click"||s==="preclick")&&this._draggableMoved(y)){K=!0;break}if(y&&y.listens(s,!0)&&(w&&!Ua(N,n)||(u.push(y),w))||N===this._container)break;N=N.parentNode}return!u.length&&!K&&!w&&this.listens(s,!0)&&(u=[this]),u},_isClickDisabled:function(n){for(;n&&n!==this._container;){if(n._leaflet_disable_click)return!0;n=n.parentNode}},_handleDOMEvent:function(n){var s=n.target||n.srcElement;if(!(!this._loaded||s._leaflet_disable_events||n.type==="click"&&this._isClickDisabled(s))){var u=n.type;u==="mousedown"&&ja(s),this._fireDOMEvent(n,u)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(n,s,u){if(n.type==="click"){var y=i({},n);y.type="preclick",this._fireDOMEvent(y,y.type,u)}var w=this._findEventTargets(n,s);if(u){for(var N=[],K=0;K<u.length;K++)u[K].listens(s,!0)&&N.push(u[K]);w=N.concat(w)}if(w.length){s==="contextmenu"&&Sn(n);var oe=w[0],ue={originalEvent:n};if(n.type!=="keypress"&&n.type!=="keydown"&&n.type!=="keyup"){var xe=oe.getLatLng&&(!oe._radius||oe._radius<=10);ue.containerPoint=xe?this.latLngToContainerPoint(oe.getLatLng()):this.mouseEventToContainerPoint(n),ue.layerPoint=this.containerPointToLayerPoint(ue.containerPoint),ue.latlng=xe?oe.getLatLng():this.layerPointToLatLng(ue.layerPoint)}for(K=0;K<w.length;K++)if(w[K].fire(s,ue,!0),ue.originalEvent._stopped||w[K].options.bubblingMouseEvents===!1&&F(this._mouseEvents,s)!==-1)return}},_draggableMoved:function(n){return n=n.dragging&&n.dragging.enabled()?n:this,n.dragging&&n.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var n=0,s=this._handlers.length;n<s;n++)this._handlers[n].disable()},whenReady:function(n,s){return this._loaded?n.call(s||this,{target:this}):this.on("load",n,s),this},_getMapPanePos:function(){return er(this._mapPane)||new R(0,0)},_moved:function(){var n=this._getMapPanePos();return n&&!n.equals([0,0])},_getTopLeftPoint:function(n,s){var u=n&&s!==void 0?this._getNewPixelOrigin(n,s):this.getPixelOrigin();return u.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(n,s){var u=this.getSize()._divideBy(2);return this.project(n,s)._subtract(u)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(n,s,u){var y=this._getNewPixelOrigin(u,s);return this.project(n,s)._subtract(y)},_latLngBoundsToNewLayerBounds:function(n,s,u){var y=this._getNewPixelOrigin(u,s);return ee([this.project(n.getSouthWest(),s)._subtract(y),this.project(n.getNorthWest(),s)._subtract(y),this.project(n.getSouthEast(),s)._subtract(y),this.project(n.getNorthEast(),s)._subtract(y)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(n){return this.latLngToLayerPoint(n).subtract(this._getCenterLayerPoint())},_limitCenter:function(n,s,u){if(!u)return n;var y=this.project(n,s),w=this.getSize().divideBy(2),N=new q(y.subtract(w),y.add(w)),K=this._getBoundsOffset(N,u,s);return Math.abs(K.x)<=1&&Math.abs(K.y)<=1?n:this.unproject(y.add(K),s)},_limitOffset:function(n,s){if(!s)return n;var u=this.getPixelBounds(),y=new q(u.min.add(n),u.max.add(n));return n.add(this._getBoundsOffset(y,s))},_getBoundsOffset:function(n,s,u){var y=ee(this.project(s.getNorthEast(),u),this.project(s.getSouthWest(),u)),w=y.min.subtract(n.min),N=y.max.subtract(n.max),K=this._rebound(w.x,-N.x),oe=this._rebound(w.y,-N.y);return new R(K,oe)},_rebound:function(n,s){return n+s>0?Math.round(n-s)/2:Math.max(0,Math.ceil(n))-Math.max(0,Math.floor(s))},_limitZoom:function(n){var s=this.getMinZoom(),u=this.getMaxZoom(),y=Ne.any3d?this.options.zoomSnap:1;return y&&(n=Math.round(n/y)*y),Math.max(s,Math.min(u,n))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){sn(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(n,s){var u=this._getCenterOffset(n)._trunc();return(s&&s.animate)!==!0&&!this.getSize().contains(u)?!1:(this.panBy(u,s),!0)},_createAnimProxy:function(){var n=this._proxy=At("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(n),this.on("zoomanim",function(s){var u=fn,y=this._proxy.style[u];Qo(this._proxy,this.project(s.center,s.zoom),this.getZoomScale(s.zoom,1)),y===this._proxy.style[u]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Qt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var n=this.getCenter(),s=this.getZoom();Qo(this._proxy,this.project(n,s),this.getZoomScale(s,1))},_catchTransitionEnd:function(n){this._animatingZoom&&n.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(n,s,u){if(this._animatingZoom)return!0;if(u=u||{},!this._zoomAnimated||u.animate===!1||this._nothingToAnimate()||Math.abs(s-this._zoom)>this.options.zoomAnimationThreshold)return!1;var y=this.getZoomScale(s),w=this._getCenterOffset(n)._divideBy(1-1/y);return u.animate!==!0&&!this.getSize().contains(w)?!1:(O(function(){this._moveStart(!0,u.noMoveStart||!1)._animateZoom(n,s,!0)},this),!0)},_animateZoom:function(n,s,u,y){this._mapPane&&(u&&(this._animatingZoom=!0,this._animateToCenter=n,this._animateToZoom=s,ht(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:n,zoom:s,noUpdate:y}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(l(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&sn(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function yf(n,s){return new Mt(n,s)}var to=I.extend({options:{position:"topright"},initialize:function(n){C(this,n)},getPosition:function(){return this.options.position},setPosition:function(n){var s=this._map;return s&&s.removeControl(this),this.options.position=n,s&&s.addControl(this),this},getContainer:function(){return this._container},addTo:function(n){this.remove(),this._map=n;var s=this._container=this.onAdd(n),u=this.getPosition(),y=n._controlCorners[u];return ht(s,"leaflet-control"),u.indexOf("bottom")!==-1?y.insertBefore(s,y.firstChild):y.appendChild(s),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Qt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(n){this._map&&n&&n.screenX>0&&n.screenY>0&&this._map.getContainer().focus()}}),as=function(n){return new to(n)};Mt.include({addControl:function(n){return n.addTo(this),this},removeControl:function(n){return n.remove(),this},_initControlPos:function(){var n=this._controlCorners={},s="leaflet-",u=this._controlContainer=At("div",s+"control-container",this._container);function y(w,N){var K=s+w+" "+s+N;n[w+N]=At("div",K,u)}y("top","left"),y("top","right"),y("bottom","left"),y("bottom","right")},_clearControlPos:function(){for(var n in this._controlCorners)Qt(this._controlCorners[n]);Qt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var tu=to.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(n,s,u,y){return u<y?-1:y<u?1:0}},initialize:function(n,s,u){C(this,u),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var y in n)this._addLayer(n[y],y);for(y in s)this._addLayer(s[y],y,!0)},onAdd:function(n){this._initLayout(),this._update(),this._map=n,n.on("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(n){return to.prototype.addTo.call(this,n),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var n=0;n<this._layers.length;n++)this._layers[n].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(n,s){return this._addLayer(n,s),this._map?this._update():this},addOverlay:function(n,s){return this._addLayer(n,s,!0),this._map?this._update():this},removeLayer:function(n){n.off("add remove",this._onLayerChange,this);var s=this._getLayer(p(n));return s&&this._layers.splice(this._layers.indexOf(s),1),this._map?this._update():this},expand:function(){ht(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var n=this._map.getSize().y-(this._container.offsetTop+50);return n<this._section.clientHeight?(ht(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=n+"px"):sn(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return sn(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var n="leaflet-control-layers",s=this._container=At("div",n),u=this.options.collapsed;s.setAttribute("aria-haspopup",!0),is(s),Za(s);var y=this._section=At("section",n+"-list");u&&(this._map.on("click",this.collapse,this),ut(s,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var w=this._layersLink=At("a",n+"-toggle",s);w.href="#",w.title="Layers",w.setAttribute("role","button"),ut(w,{keydown:function(N){N.keyCode===13&&this._expandSafely()},click:function(N){Sn(N),this._expandSafely()}},this),u||this.expand(),this._baseLayersList=At("div",n+"-base",y),this._separator=At("div",n+"-separator",y),this._overlaysList=At("div",n+"-overlays",y),s.appendChild(y)},_getLayer:function(n){for(var s=0;s<this._layers.length;s++)if(this._layers[s]&&p(this._layers[s].layer)===n)return this._layers[s]},_addLayer:function(n,s,u){this._map&&n.on("add remove",this._onLayerChange,this),this._layers.push({layer:n,name:s,overlay:u}),this.options.sortLayers&&this._layers.sort(l(function(y,w){return this.options.sortFunction(y.layer,w.layer,y.name,w.name)},this)),this.options.autoZIndex&&n.setZIndex&&(this._lastZIndex++,n.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Qs(this._baseLayersList),Qs(this._overlaysList),this._layerControlInputs=[];var n,s,u,y,w=0;for(u=0;u<this._layers.length;u++)y=this._layers[u],this._addItem(y),s=s||y.overlay,n=n||!y.overlay,w+=y.overlay?0:1;return this.options.hideSingleBase&&(n=n&&w>1,this._baseLayersList.style.display=n?"":"none"),this._separator.style.display=s&&n?"":"none",this},_onLayerChange:function(n){this._handlingClick||this._update();var s=this._getLayer(p(n.target)),u=s.overlay?n.type==="add"?"overlayadd":"overlayremove":n.type==="add"?"baselayerchange":null;u&&this._map.fire(u,s)},_createRadioElement:function(n,s){var u='<input type="radio" class="leaflet-control-layers-selector" name="'+n+'"'+(s?' checked="checked"':"")+"/>",y=document.createElement("div");return y.innerHTML=u,y.firstChild},_addItem:function(n){var s=document.createElement("label"),u=this._map.hasLayer(n.layer),y;n.overlay?(y=document.createElement("input"),y.type="checkbox",y.className="leaflet-control-layers-selector",y.defaultChecked=u):y=this._createRadioElement("leaflet-base-layers_"+p(this),u),this._layerControlInputs.push(y),y.layerId=p(n.layer),ut(y,"click",this._onInputClick,this);var w=document.createElement("span");w.innerHTML=" "+n.name;var N=document.createElement("span");s.appendChild(N),N.appendChild(y),N.appendChild(w);var K=n.overlay?this._overlaysList:this._baseLayersList;return K.appendChild(s),this._checkDisabledLayers(),s},_onInputClick:function(){if(!this._preventClick){var n=this._layerControlInputs,s,u,y=[],w=[];this._handlingClick=!0;for(var N=n.length-1;N>=0;N--)s=n[N],u=this._getLayer(s.layerId).layer,s.checked?y.push(u):s.checked||w.push(u);for(N=0;N<w.length;N++)this._map.hasLayer(w[N])&&this._map.removeLayer(w[N]);for(N=0;N<y.length;N++)this._map.hasLayer(y[N])||this._map.addLayer(y[N]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var n=this._layerControlInputs,s,u,y=this._map.getZoom(),w=n.length-1;w>=0;w--)s=n[w],u=this._getLayer(s.layerId).layer,s.disabled=u.options.minZoom!==void 0&&y<u.options.minZoom||u.options.maxZoom!==void 0&&y>u.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var n=this._section;this._preventClick=!0,ut(n,"click",Sn),this.expand();var s=this;setTimeout(function(){jt(n,"click",Sn),s._preventClick=!1})}}),bf=function(n,s,u){return new tu(n,s,u)},Ka=to.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(n){var s="leaflet-control-zoom",u=At("div",s+" leaflet-bar"),y=this.options;return this._zoomInButton=this._createButton(y.zoomInText,y.zoomInTitle,s+"-in",u,this._zoomIn),this._zoomOutButton=this._createButton(y.zoomOutText,y.zoomOutTitle,s+"-out",u,this._zoomOut),this._updateDisabled(),n.on("zoomend zoomlevelschange",this._updateDisabled,this),u},onRemove:function(n){n.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(n){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(n.shiftKey?3:1))},_zoomOut:function(n){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(n.shiftKey?3:1))},_createButton:function(n,s,u,y,w){var N=At("a",u,y);return N.innerHTML=n,N.href="#",N.title=s,N.setAttribute("role","button"),N.setAttribute("aria-label",s),is(N),ut(N,"click",nr),ut(N,"click",w,this),ut(N,"click",this._refocusOnMap,this),N},_updateDisabled:function(){var n=this._map,s="leaflet-disabled";sn(this._zoomInButton,s),sn(this._zoomOutButton,s),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||n._zoom===n.getMinZoom())&&(ht(this._zoomOutButton,s),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||n._zoom===n.getMaxZoom())&&(ht(this._zoomInButton,s),this._zoomInButton.setAttribute("aria-disabled","true"))}});Mt.mergeOptions({zoomControl:!0}),Mt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ka,this.addControl(this.zoomControl))});var xf=function(n){return new Ka(n)},nu=to.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(n){var s="leaflet-control-scale",u=At("div",s),y=this.options;return this._addScales(y,s+"-line",u),n.on(y.updateWhenIdle?"moveend":"move",this._update,this),n.whenReady(this._update,this),u},onRemove:function(n){n.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(n,s,u){n.metric&&(this._mScale=At("div",s,u)),n.imperial&&(this._iScale=At("div",s,u))},_update:function(){var n=this._map,s=n.getSize().y/2,u=n.distance(n.containerPointToLatLng([0,s]),n.containerPointToLatLng([this.options.maxWidth,s]));this._updateScales(u)},_updateScales:function(n){this.options.metric&&n&&this._updateMetric(n),this.options.imperial&&n&&this._updateImperial(n)},_updateMetric:function(n){var s=this._getRoundNum(n),u=s<1e3?s+" m":s/1e3+" km";this._updateScale(this._mScale,u,s/n)},_updateImperial:function(n){var s=n*3.2808399,u,y,w;s>5280?(u=s/5280,y=this._getRoundNum(u),this._updateScale(this._iScale,y+" mi",y/u)):(w=this._getRoundNum(s),this._updateScale(this._iScale,w+" ft",w/s))},_updateScale:function(n,s,u){n.style.width=Math.round(this.options.maxWidth*u)+"px",n.innerHTML=s},_getRoundNum:function(n){var s=Math.pow(10,(Math.floor(n)+"").length-1),u=n/s;return u=u>=10?10:u>=5?5:u>=3?3:u>=2?2:1,s*u}}),Cf=function(n){return new nu(n)},wf='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Ja=to.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ne.inlineSvg?wf+" ":"")+"Leaflet</a>"},initialize:function(n){C(this,n),this._attributions={}},onAdd:function(n){n.attributionControl=this,this._container=At("div","leaflet-control-attribution"),is(this._container);for(var s in n._layers)n._layers[s].getAttribution&&this.addAttribution(n._layers[s].getAttribution());return this._update(),n.on("layeradd",this._addAttribution,this),this._container},onRemove:function(n){n.off("layeradd",this._addAttribution,this)},_addAttribution:function(n){n.layer.getAttribution&&(this.addAttribution(n.layer.getAttribution()),n.layer.once("remove",function(){this.removeAttribution(n.layer.getAttribution())},this))},setPrefix:function(n){return this.options.prefix=n,this._update(),this},addAttribution:function(n){return n?(this._attributions[n]||(this._attributions[n]=0),this._attributions[n]++,this._update(),this):this},removeAttribution:function(n){return n?(this._attributions[n]&&(this._attributions[n]--,this._update()),this):this},_update:function(){if(this._map){var n=[];for(var s in this._attributions)this._attributions[s]&&n.push(s);var u=[];this.options.prefix&&u.push(this.options.prefix),n.length&&u.push(n.join(", ")),this._container.innerHTML=u.join(' <span aria-hidden="true">|</span> ')}}});Mt.mergeOptions({attributionControl:!0}),Mt.addInitHook(function(){this.options.attributionControl&&new Ja().addTo(this)});var Sf=function(n){return new Ja(n)};to.Layers=tu,to.Zoom=Ka,to.Scale=nu,to.Attribution=Ja,as.layers=bf,as.zoom=xf,as.scale=Cf,as.attribution=Sf;var ho=I.extend({initialize:function(n){this._map=n},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});ho.addTo=function(n,s){return n.addHandler(s,this),this};var _f={Events:j},ou=Ne.touch?"touchstart mousedown":"mousedown",Fo=V.extend({options:{clickTolerance:3},initialize:function(n,s,u,y){C(this,y),this._element=n,this._dragStartTarget=s||n,this._preventOutline=u},enable:function(){this._enabled||(ut(this._dragStartTarget,ou,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Fo._dragging===this&&this.finishDrag(!0),jt(this._dragStartTarget,ou,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(n){if(this._enabled&&(this._moved=!1,!Fa(this._element,"leaflet-zoom-anim"))){if(n.touches&&n.touches.length!==1){Fo._dragging===this&&this.finishDrag();return}if(!(Fo._dragging||n.shiftKey||n.which!==1&&n.button!==1&&!n.touches)&&(Fo._dragging=this,this._preventOutline&&ja(this._element),za(),os(),!this._moving)){this.fire("down");var s=n.touches?n.touches[0]:n,u=Jc(this._element);this._startPoint=new R(s.clientX,s.clientY),this._startPos=er(this._element),this._parentScale=Ha(u);var y=n.type==="mousedown";ut(document,y?"mousemove":"touchmove",this._onMove,this),ut(document,y?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(n){if(this._enabled){if(n.touches&&n.touches.length>1){this._moved=!0;return}var s=n.touches&&n.touches.length===1?n.touches[0]:n,u=new R(s.clientX,s.clientY)._subtract(this._startPoint);!u.x&&!u.y||Math.abs(u.x)+Math.abs(u.y)<this.options.clickTolerance||(u.x/=this._parentScale.x,u.y/=this._parentScale.y,Sn(n),this._moved||(this.fire("dragstart"),this._moved=!0,ht(document.body,"leaflet-dragging"),this._lastTarget=n.target||n.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ht(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(u),this._moving=!0,this._lastEvent=n,this._updatePosition())}},_updatePosition:function(){var n={originalEvent:this._lastEvent};this.fire("predrag",n),cn(this._element,this._newPos),this.fire("drag",n)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(n){sn(document.body,"leaflet-dragging"),this._lastTarget&&(sn(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),jt(document,"mousemove touchmove",this._onMove,this),jt(document,"mouseup touchend touchcancel",this._onUp,this),$a(),rs();var s=this._moved&&this._moving;this._moving=!1,Fo._dragging=!1,s&&this.fire("dragend",{noInertia:n,distance:this._newPos.distanceTo(this._startPos)})}});function ru(n,s,u){var y,w=[1,4,2,8],N,K,oe,ue,xe,je,nt,Ct;for(N=0,je=n.length;N<je;N++)n[N]._code=or(n[N],s);for(oe=0;oe<4;oe++){for(nt=w[oe],y=[],N=0,je=n.length,K=je-1;N<je;K=N++)ue=n[N],xe=n[K],ue._code&nt?xe._code&nt||(Ct=ri(xe,ue,nt,s,u),Ct._code=or(Ct,s),y.push(Ct)):(xe._code&nt&&(Ct=ri(xe,ue,nt,s,u),Ct._code=or(Ct,s),y.push(Ct)),y.push(ue));n=y}return n}function su(n,s){var u,y,w,N,K,oe,ue,xe,je;if(!n||n.length===0)throw new Error("latlngs not passed");Vn(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var nt=ne([0,0]),Ct=te(n),Mn=Ct.getNorthWest().distanceTo(Ct.getSouthWest())*Ct.getNorthEast().distanceTo(Ct.getNorthWest());Mn<1700&&(nt=qa(n));var gn=n.length,Wn=[];for(u=0;u<gn;u++){var Rn=ne(n[u]);Wn.push(s.project(ne([Rn.lat-nt.lat,Rn.lng-nt.lng])))}for(oe=ue=xe=0,u=0,y=gn-1;u<gn;y=u++)w=Wn[u],N=Wn[y],K=w.y*N.x-N.y*w.x,ue+=(w.x+N.x)*K,xe+=(w.y+N.y)*K,oe+=K*3;oe===0?je=Wn[0]:je=[ue/oe,xe/oe];var Mr=s.unproject(Z(je));return ne([Mr.lat+nt.lat,Mr.lng+nt.lng])}function qa(n){for(var s=0,u=0,y=0,w=0;w<n.length;w++){var N=ne(n[w]);s+=N.lat,u+=N.lng,y++}return ne([s/y,u/y])}var Pf={__proto__:null,clipPolygon:ru,polygonCenter:su,centroid:qa};function iu(n,s){if(!s||!n.length)return n.slice();var u=s*s;return n=kf(n,u),n=Tf(n,u),n}function au(n,s,u){return Math.sqrt(ls(n,s,u,!0))}function If(n,s,u){return ls(n,s,u)}function Tf(n,s){var u=n.length,y=typeof Uint8Array<"u"?Uint8Array:Array,w=new y(u);w[0]=w[u-1]=1,Xa(n,w,s,0,u-1);var N,K=[];for(N=0;N<u;N++)w[N]&&K.push(n[N]);return K}function Xa(n,s,u,y,w){var N=0,K,oe,ue;for(oe=y+1;oe<=w-1;oe++)ue=ls(n[oe],n[y],n[w],!0),ue>N&&(K=oe,N=ue);N>u&&(s[K]=1,Xa(n,s,u,y,K),Xa(n,s,u,K,w))}function kf(n,s){for(var u=[n[0]],y=1,w=0,N=n.length;y<N;y++)Mf(n[y],n[w])>s&&(u.push(n[y]),w=y);return w<N-1&&u.push(n[N-1]),u}var lu;function cu(n,s,u,y,w){var N=y?lu:or(n,u),K=or(s,u),oe,ue,xe;for(lu=K;;){if(!(N|K))return[n,s];if(N&K)return!1;oe=N||K,ue=ri(n,s,oe,u,w),xe=or(ue,u),oe===N?(n=ue,N=xe):(s=ue,K=xe)}}function ri(n,s,u,y,w){var N=s.x-n.x,K=s.y-n.y,oe=y.min,ue=y.max,xe,je;return u&8?(xe=n.x+N*(ue.y-n.y)/K,je=ue.y):u&4?(xe=n.x+N*(oe.y-n.y)/K,je=oe.y):u&2?(xe=ue.x,je=n.y+K*(ue.x-n.x)/N):u&1&&(xe=oe.x,je=n.y+K*(oe.x-n.x)/N),new R(xe,je,w)}function or(n,s){var u=0;return n.x<s.min.x?u|=1:n.x>s.max.x&&(u|=2),n.y<s.min.y?u|=4:n.y>s.max.y&&(u|=8),u}function Mf(n,s){var u=s.x-n.x,y=s.y-n.y;return u*u+y*y}function ls(n,s,u,y){var w=s.x,N=s.y,K=u.x-w,oe=u.y-N,ue=K*K+oe*oe,xe;return ue>0&&(xe=((n.x-w)*K+(n.y-N)*oe)/ue,xe>1?(w=u.x,N=u.y):xe>0&&(w+=K*xe,N+=oe*xe)),K=n.x-w,oe=n.y-N,y?K*K+oe*oe:new R(w,N)}function Vn(n){return!z(n[0])||typeof n[0][0]!="object"&&typeof n[0][0]<"u"}function uu(n){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Vn(n)}function du(n,s){var u,y,w,N,K,oe,ue,xe;if(!n||n.length===0)throw new Error("latlngs not passed");Vn(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var je=ne([0,0]),nt=te(n),Ct=nt.getNorthWest().distanceTo(nt.getSouthWest())*nt.getNorthEast().distanceTo(nt.getNorthWest());Ct<1700&&(je=qa(n));var Mn=n.length,gn=[];for(u=0;u<Mn;u++){var Wn=ne(n[u]);gn.push(s.project(ne([Wn.lat-je.lat,Wn.lng-je.lng])))}for(u=0,y=0;u<Mn-1;u++)y+=gn[u].distanceTo(gn[u+1])/2;if(y===0)xe=gn[0];else for(u=0,N=0;u<Mn-1;u++)if(K=gn[u],oe=gn[u+1],w=K.distanceTo(oe),N+=w,N>y){ue=(N-y)/w,xe=[oe.x-ue*(oe.x-K.x),oe.y-ue*(oe.y-K.y)];break}var Rn=s.unproject(Z(xe));return ne([Rn.lat+je.lat,Rn.lng+je.lng])}var Af={__proto__:null,simplify:iu,pointToSegmentDistance:au,closestPointOnSegment:If,clipSegment:cu,_getEdgeIntersection:ri,_getBitCode:or,_sqClosestPointOnSegment:ls,isFlat:Vn,_flat:uu,polylineCenter:du},Ya={project:function(n){return new R(n.lng,n.lat)},unproject:function(n){return new Y(n.y,n.x)},bounds:new q([-180,-90],[180,90])},Qa={R:6378137,R_MINOR:6356752314245179e-9,bounds:new q([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(n){var s=Math.PI/180,u=this.R,y=n.lat*s,w=this.R_MINOR/u,N=Math.sqrt(1-w*w),K=N*Math.sin(y),oe=Math.tan(Math.PI/4-y/2)/Math.pow((1-K)/(1+K),N/2);return y=-u*Math.log(Math.max(oe,1e-10)),new R(n.lng*s*u,y)},unproject:function(n){for(var s=180/Math.PI,u=this.R,y=this.R_MINOR/u,w=Math.sqrt(1-y*y),N=Math.exp(-n.y/u),K=Math.PI/2-2*Math.atan(N),oe=0,ue=.1,xe;oe<15&&Math.abs(ue)>1e-7;oe++)xe=w*Math.sin(K),xe=Math.pow((1-xe)/(1+xe),w/2),ue=Math.PI/2-2*Math.atan(N*xe)-K,K+=ue;return new Y(K*s,n.x*s/u)}},Df={__proto__:null,LonLat:Ya,Mercator:Qa,SphericalMercator:be},Ef=i({},ve,{code:"EPSG:3395",projection:Qa,transformation:function(){var n=.5/(Math.PI*Qa.R);return Ce(n,.5,-n,.5)}()}),pu=i({},ve,{code:"EPSG:4326",projection:Ya,transformation:Ce(1/180,1,-1/180,.5)}),Rf=i({},re,{projection:Ya,transformation:Ce(1,0,-1,0),scale:function(n){return Math.pow(2,n)},zoom:function(n){return Math.log(n)/Math.LN2},distance:function(n,s){var u=s.lng-n.lng,y=s.lat-n.lat;return Math.sqrt(u*u+y*y)},infinite:!0});re.Earth=ve,re.EPSG3395=Ef,re.EPSG3857=fe,re.EPSG900913=se,re.EPSG4326=pu,re.Simple=Rf;var no=V.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(n){return n.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(n){return n&&n.removeLayer(this),this},getPane:function(n){return this._map.getPane(n?this.options[n]||n:this.options.pane)},addInteractiveTarget:function(n){return this._map._targets[p(n)]=this,this},removeInteractiveTarget:function(n){return delete this._map._targets[p(n)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(n){var s=n.target;if(s.hasLayer(this)){if(this._map=s,this._zoomAnimated=s._zoomAnimated,this.getEvents){var u=this.getEvents();s.on(u,this),this.once("remove",function(){s.off(u,this)},this)}this.onAdd(s),this.fire("add"),s.fire("layeradd",{layer:this})}}});Mt.include({addLayer:function(n){if(!n._layerAdd)throw new Error("The provided object is not a Layer.");var s=p(n);return this._layers[s]?this:(this._layers[s]=n,n._mapToAdd=this,n.beforeAdd&&n.beforeAdd(this),this.whenReady(n._layerAdd,n),this)},removeLayer:function(n){var s=p(n);return this._layers[s]?(this._loaded&&n.onRemove(this),delete this._layers[s],this._loaded&&(this.fire("layerremove",{layer:n}),n.fire("remove")),n._map=n._mapToAdd=null,this):this},hasLayer:function(n){return p(n)in this._layers},eachLayer:function(n,s){for(var u in this._layers)n.call(s,this._layers[u]);return this},_addLayers:function(n){n=n?z(n)?n:[n]:[];for(var s=0,u=n.length;s<u;s++)this.addLayer(n[s])},_addZoomLimit:function(n){(!isNaN(n.options.maxZoom)||!isNaN(n.options.minZoom))&&(this._zoomBoundLayers[p(n)]=n,this._updateZoomLevels())},_removeZoomLimit:function(n){var s=p(n);this._zoomBoundLayers[s]&&(delete this._zoomBoundLayers[s],this._updateZoomLevels())},_updateZoomLevels:function(){var n=1/0,s=-1/0,u=this._getZoomSpan();for(var y in this._zoomBoundLayers){var w=this._zoomBoundLayers[y].options;n=w.minZoom===void 0?n:Math.min(n,w.minZoom),s=w.maxZoom===void 0?s:Math.max(s,w.maxZoom)}this._layersMaxZoom=s===-1/0?void 0:s,this._layersMinZoom=n===1/0?void 0:n,u!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var _r=no.extend({initialize:function(n,s){C(this,s),this._layers={};var u,y;if(n)for(u=0,y=n.length;u<y;u++)this.addLayer(n[u])},addLayer:function(n){var s=this.getLayerId(n);return this._layers[s]=n,this._map&&this._map.addLayer(n),this},removeLayer:function(n){var s=n in this._layers?n:this.getLayerId(n);return this._map&&this._layers[s]&&this._map.removeLayer(this._layers[s]),delete this._layers[s],this},hasLayer:function(n){var s=typeof n=="number"?n:this.getLayerId(n);return s in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(n){var s=Array.prototype.slice.call(arguments,1),u,y;for(u in this._layers)y=this._layers[u],y[n]&&y[n].apply(y,s);return this},onAdd:function(n){this.eachLayer(n.addLayer,n)},onRemove:function(n){this.eachLayer(n.removeLayer,n)},eachLayer:function(n,s){for(var u in this._layers)n.call(s,this._layers[u]);return this},getLayer:function(n){return this._layers[n]},getLayers:function(){var n=[];return this.eachLayer(n.push,n),n},setZIndex:function(n){return this.invoke("setZIndex",n)},getLayerId:function(n){return p(n)}}),Lf=function(n,s){return new _r(n,s)},So=_r.extend({addLayer:function(n){return this.hasLayer(n)?this:(n.addEventParent(this),_r.prototype.addLayer.call(this,n),this.fire("layeradd",{layer:n}))},removeLayer:function(n){return this.hasLayer(n)?(n in this._layers&&(n=this._layers[n]),n.removeEventParent(this),_r.prototype.removeLayer.call(this,n),this.fire("layerremove",{layer:n})):this},setStyle:function(n){return this.invoke("setStyle",n)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var n=new X;for(var s in this._layers){var u=this._layers[s];n.extend(u.getBounds?u.getBounds():u.getLatLng())}return n}}),Ff=function(n,s){return new So(n,s)},Pr=I.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(n){C(this,n)},createIcon:function(n){return this._createIcon("icon",n)},createShadow:function(n){return this._createIcon("shadow",n)},_createIcon:function(n,s){var u=this._getIconUrl(n);if(!u){if(n==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var y=this._createImg(u,s&&s.tagName==="IMG"?s:null);return this._setIconStyles(y,n),(this.options.crossOrigin||this.options.crossOrigin==="")&&(y.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),y},_setIconStyles:function(n,s){var u=this.options,y=u[s+"Size"];typeof y=="number"&&(y=[y,y]);var w=Z(y),N=Z(s==="shadow"&&u.shadowAnchor||u.iconAnchor||w&&w.divideBy(2,!0));n.className="leaflet-marker-"+s+" "+(u.className||""),N&&(n.style.marginLeft=-N.x+"px",n.style.marginTop=-N.y+"px"),w&&(n.style.width=w.x+"px",n.style.height=w.y+"px")},_createImg:function(n,s){return s=s||document.createElement("img"),s.src=n,s},_getIconUrl:function(n){return Ne.retina&&this.options[n+"RetinaUrl"]||this.options[n+"Url"]}});function Of(n){return new Pr(n)}var cs=Pr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(n){return typeof cs.imagePath!="string"&&(cs.imagePath=this._detectIconPath()),(this.options.imagePath||cs.imagePath)+Pr.prototype._getIconUrl.call(this,n)},_stripUrl:function(n){var s=function(u,y,w){var N=y.exec(u);return N&&N[w]};return n=s(n,/^url\((['"])?(.+)\1\)$/,2),n&&s(n,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var n=At("div","leaflet-default-icon-path",document.body),s=ns(n,"background-image")||ns(n,"backgroundImage");if(document.body.removeChild(n),s=this._stripUrl(s),s)return s;var u=document.querySelector('link[href$="leaflet.css"]');return u?u.href.substring(0,u.href.length-11-1):""}}),hu=ho.extend({initialize:function(n){this._marker=n},addHooks:function(){var n=this._marker._icon;this._draggable||(this._draggable=new Fo(n,n,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ht(n,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&sn(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(n){var s=this._marker,u=s._map,y=this._marker.options.autoPanSpeed,w=this._marker.options.autoPanPadding,N=er(s._icon),K=u.getPixelBounds(),oe=u.getPixelOrigin(),ue=ee(K.min._subtract(oe).add(w),K.max._subtract(oe).subtract(w));if(!ue.contains(N)){var xe=Z((Math.max(ue.max.x,N.x)-ue.max.x)/(K.max.x-ue.max.x)-(Math.min(ue.min.x,N.x)-ue.min.x)/(K.min.x-ue.min.x),(Math.max(ue.max.y,N.y)-ue.max.y)/(K.max.y-ue.max.y)-(Math.min(ue.min.y,N.y)-ue.min.y)/(K.min.y-ue.min.y)).multiplyBy(y);u.panBy(xe,{animate:!1}),this._draggable._newPos._add(xe),this._draggable._startPos._add(xe),cn(s._icon,this._draggable._newPos),this._onDrag(n),this._panRequest=O(this._adjustPan.bind(this,n))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(n){this._marker.options.autoPan&&(H(this._panRequest),this._panRequest=O(this._adjustPan.bind(this,n)))},_onDrag:function(n){var s=this._marker,u=s._shadow,y=er(s._icon),w=s._map.layerPointToLatLng(y);u&&cn(u,y),s._latlng=w,n.latlng=w,n.oldLatLng=this._oldLatLng,s.fire("move",n).fire("drag",n)},_onDragEnd:function(n){H(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",n)}}),si=no.extend({options:{icon:new cs,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(n,s){C(this,s),this._latlng=ne(n)},onAdd:function(n){this._zoomAnimated=this._zoomAnimated&&n.options.markerZoomAnimation,this._zoomAnimated&&n.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(n){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&n.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(n){var s=this._latlng;return this._latlng=ne(n),this.update(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},setZIndexOffset:function(n){return this.options.zIndexOffset=n,this.update()},getIcon:function(){return this.options.icon},setIcon:function(n){return this.options.icon=n,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var n=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(n)}return this},_initIcon:function(){var n=this.options,s="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),u=n.icon.createIcon(this._icon),y=!1;u!==this._icon&&(this._icon&&this._removeIcon(),y=!0,n.title&&(u.title=n.title),u.tagName==="IMG"&&(u.alt=n.alt||"")),ht(u,s),n.keyboard&&(u.tabIndex="0",u.setAttribute("role","button")),this._icon=u,n.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ut(u,"focus",this._panOnFocus,this);var w=n.icon.createShadow(this._shadow),N=!1;w!==this._shadow&&(this._removeShadow(),N=!0),w&&(ht(w,s),w.alt=""),this._shadow=w,n.opacity<1&&this._updateOpacity(),y&&this.getPane().appendChild(this._icon),this._initInteraction(),w&&N&&this.getPane(n.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&jt(this._icon,"focus",this._panOnFocus,this),Qt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Qt(this._shadow),this._shadow=null},_setPos:function(n){this._icon&&cn(this._icon,n),this._shadow&&cn(this._shadow,n),this._zIndex=n.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(n){this._icon&&(this._icon.style.zIndex=this._zIndex+n)},_animateZoom:function(n){var s=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center).round();this._setPos(s)},_initInteraction:function(){if(this.options.interactive&&(ht(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),hu)){var n=this.options.draggable;this.dragging&&(n=this.dragging.enabled(),this.dragging.disable()),this.dragging=new hu(this),n&&this.dragging.enable()}},setOpacity:function(n){return this.options.opacity=n,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var n=this.options.opacity;this._icon&&Gn(this._icon,n),this._shadow&&Gn(this._shadow,n)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var n=this._map;if(n){var s=this.options.icon.options,u=s.iconSize?Z(s.iconSize):Z(0,0),y=s.iconAnchor?Z(s.iconAnchor):Z(0,0);n.panInside(this._latlng,{paddingTopLeft:y,paddingBottomRight:u.subtract(y)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Nf(n,s){return new si(n,s)}var Oo=no.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(n){this._renderer=n.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(n){return C(this,n),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&n&&Object.prototype.hasOwnProperty.call(n,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ii=Oo.extend({options:{fill:!0,radius:10},initialize:function(n,s){C(this,s),this._latlng=ne(n),this._radius=this.options.radius},setLatLng:function(n){var s=this._latlng;return this._latlng=ne(n),this.redraw(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(n){return this.options.radius=this._radius=n,this.redraw()},getRadius:function(){return this._radius},setStyle:function(n){var s=n&&n.radius||this._radius;return Oo.prototype.setStyle.call(this,n),this.setRadius(s),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var n=this._radius,s=this._radiusY||n,u=this._clickTolerance(),y=[n+u,s+u];this._pxBounds=new q(this._point.subtract(y),this._point.add(y))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(n){return n.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function zf(n,s){return new ii(n,s)}var el=ii.extend({initialize:function(n,s,u){if(typeof s=="number"&&(s=i({},u,{radius:s})),C(this,s),this._latlng=ne(n),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(n){return this._mRadius=n,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var n=[this._radius,this._radiusY||this._radius];return new X(this._map.layerPointToLatLng(this._point.subtract(n)),this._map.layerPointToLatLng(this._point.add(n)))},setStyle:Oo.prototype.setStyle,_project:function(){var n=this._latlng.lng,s=this._latlng.lat,u=this._map,y=u.options.crs;if(y.distance===ve.distance){var w=Math.PI/180,N=this._mRadius/ve.R/w,K=u.project([s+N,n]),oe=u.project([s-N,n]),ue=K.add(oe).divideBy(2),xe=u.unproject(ue).lat,je=Math.acos((Math.cos(N*w)-Math.sin(s*w)*Math.sin(xe*w))/(Math.cos(s*w)*Math.cos(xe*w)))/w;(isNaN(je)||je===0)&&(je=N/Math.cos(Math.PI/180*s)),this._point=ue.subtract(u.getPixelOrigin()),this._radius=isNaN(je)?0:ue.x-u.project([xe,n-je]).x,this._radiusY=ue.y-K.y}else{var nt=y.unproject(y.project(this._latlng).subtract([this._mRadius,0]));this._point=u.latLngToLayerPoint(this._latlng),this._radius=this._point.x-u.latLngToLayerPoint(nt).x}this._updateBounds()}});function $f(n,s,u){return new el(n,s,u)}var _o=Oo.extend({options:{smoothFactor:1,noClip:!1},initialize:function(n,s){C(this,s),this._setLatLngs(n)},getLatLngs:function(){return this._latlngs},setLatLngs:function(n){return this._setLatLngs(n),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(n){for(var s=1/0,u=null,y=ls,w,N,K=0,oe=this._parts.length;K<oe;K++)for(var ue=this._parts[K],xe=1,je=ue.length;xe<je;xe++){w=ue[xe-1],N=ue[xe];var nt=y(n,w,N,!0);nt<s&&(s=nt,u=y(n,w,N))}return u&&(u.distance=Math.sqrt(s)),u},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return du(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(n,s){return s=s||this._defaultShape(),n=ne(n),s.push(n),this._bounds.extend(n),this.redraw()},_setLatLngs:function(n){this._bounds=new X,this._latlngs=this._convertLatLngs(n)},_defaultShape:function(){return Vn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(n){for(var s=[],u=Vn(n),y=0,w=n.length;y<w;y++)u?(s[y]=ne(n[y]),this._bounds.extend(s[y])):s[y]=this._convertLatLngs(n[y]);return s},_project:function(){var n=new q;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,n),this._bounds.isValid()&&n.isValid()&&(this._rawPxBounds=n,this._updateBounds())},_updateBounds:function(){var n=this._clickTolerance(),s=new R(n,n);this._rawPxBounds&&(this._pxBounds=new q([this._rawPxBounds.min.subtract(s),this._rawPxBounds.max.add(s)]))},_projectLatlngs:function(n,s,u){var y=n[0]instanceof Y,w=n.length,N,K;if(y){for(K=[],N=0;N<w;N++)K[N]=this._map.latLngToLayerPoint(n[N]),u.extend(K[N]);s.push(K)}else for(N=0;N<w;N++)this._projectLatlngs(n[N],s,u)},_clipPoints:function(){var n=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}var s=this._parts,u,y,w,N,K,oe,ue;for(u=0,w=0,N=this._rings.length;u<N;u++)for(ue=this._rings[u],y=0,K=ue.length;y<K-1;y++)oe=cu(ue[y],ue[y+1],n,y,!0),oe&&(s[w]=s[w]||[],s[w].push(oe[0]),(oe[1]!==ue[y+1]||y===K-2)&&(s[w].push(oe[1]),w++))}},_simplifyPoints:function(){for(var n=this._parts,s=this.options.smoothFactor,u=0,y=n.length;u<y;u++)n[u]=iu(n[u],s)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(n,s){var u,y,w,N,K,oe,ue=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(u=0,N=this._parts.length;u<N;u++)for(oe=this._parts[u],y=0,K=oe.length,w=K-1;y<K;w=y++)if(!(!s&&y===0)&&au(n,oe[w],oe[y])<=ue)return!0;return!1}});function Bf(n,s){return new _o(n,s)}_o._flat=uu;var Ir=_o.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return su(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(n){var s=_o.prototype._convertLatLngs.call(this,n),u=s.length;return u>=2&&s[0]instanceof Y&&s[0].equals(s[u-1])&&s.pop(),s},_setLatLngs:function(n){_o.prototype._setLatLngs.call(this,n),Vn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Vn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var n=this._renderer._bounds,s=this.options.weight,u=new R(s,s);if(n=new q(n.min.subtract(u),n.max.add(u)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}for(var y=0,w=this._rings.length,N;y<w;y++)N=ru(this._rings[y],n,!0),N.length&&this._parts.push(N)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(n){var s=!1,u,y,w,N,K,oe,ue,xe;if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(N=0,ue=this._parts.length;N<ue;N++)for(u=this._parts[N],K=0,xe=u.length,oe=xe-1;K<xe;oe=K++)y=u[K],w=u[oe],y.y>n.y!=w.y>n.y&&n.x<(w.x-y.x)*(n.y-y.y)/(w.y-y.y)+y.x&&(s=!s);return s||_o.prototype._containsPoint.call(this,n,!0)}});function jf(n,s){return new Ir(n,s)}var Po=So.extend({initialize:function(n,s){C(this,s),this._layers={},n&&this.addData(n)},addData:function(n){var s=z(n)?n:n.features,u,y,w;if(s){for(u=0,y=s.length;u<y;u++)w=s[u],(w.geometries||w.geometry||w.features||w.coordinates)&&this.addData(w);return this}var N=this.options;if(N.filter&&!N.filter(n))return this;var K=ai(n,N);return K?(K.feature=ui(n),K.defaultOptions=K.options,this.resetStyle(K),N.onEachFeature&&N.onEachFeature(n,K),this.addLayer(K)):this},resetStyle:function(n){return n===void 0?this.eachLayer(this.resetStyle,this):(n.options=i({},n.defaultOptions),this._setLayerStyle(n,this.options.style),this)},setStyle:function(n){return this.eachLayer(function(s){this._setLayerStyle(s,n)},this)},_setLayerStyle:function(n,s){n.setStyle&&(typeof s=="function"&&(s=s(n.feature)),n.setStyle(s))}});function ai(n,s){var u=n.type==="Feature"?n.geometry:n,y=u?u.coordinates:null,w=[],N=s&&s.pointToLayer,K=s&&s.coordsToLatLng||tl,oe,ue,xe,je;if(!y&&!u)return null;switch(u.type){case"Point":return oe=K(y),mu(N,n,oe,s);case"MultiPoint":for(xe=0,je=y.length;xe<je;xe++)oe=K(y[xe]),w.push(mu(N,n,oe,s));return new So(w);case"LineString":case"MultiLineString":return ue=li(y,u.type==="LineString"?0:1,K),new _o(ue,s);case"Polygon":case"MultiPolygon":return ue=li(y,u.type==="Polygon"?1:2,K),new Ir(ue,s);case"GeometryCollection":for(xe=0,je=u.geometries.length;xe<je;xe++){var nt=ai({geometry:u.geometries[xe],type:"Feature",properties:n.properties},s);nt&&w.push(nt)}return new So(w);case"FeatureCollection":for(xe=0,je=u.features.length;xe<je;xe++){var Ct=ai(u.features[xe],s);Ct&&w.push(Ct)}return new So(w);default:throw new Error("Invalid GeoJSON object.")}}function mu(n,s,u,y){return n?n(s,u):new si(u,y&&y.markersInheritOptions&&y)}function tl(n){return new Y(n[1],n[0],n[2])}function li(n,s,u){for(var y=[],w=0,N=n.length,K;w<N;w++)K=s?li(n[w],s-1,u):(u||tl)(n[w]),y.push(K);return y}function nl(n,s){return n=ne(n),n.alt!==void 0?[v(n.lng,s),v(n.lat,s),v(n.alt,s)]:[v(n.lng,s),v(n.lat,s)]}function ci(n,s,u,y){for(var w=[],N=0,K=n.length;N<K;N++)w.push(s?ci(n[N],Vn(n[N])?0:s-1,u,y):nl(n[N],y));return!s&&u&&w.length>0&&w.push(w[0].slice()),w}function Tr(n,s){return n.feature?i({},n.feature,{geometry:s}):ui(s)}function ui(n){return n.type==="Feature"||n.type==="FeatureCollection"?n:{type:"Feature",properties:{},geometry:n}}var ol={toGeoJSON:function(n){return Tr(this,{type:"Point",coordinates:nl(this.getLatLng(),n)})}};si.include(ol),el.include(ol),ii.include(ol),_o.include({toGeoJSON:function(n){var s=!Vn(this._latlngs),u=ci(this._latlngs,s?1:0,!1,n);return Tr(this,{type:(s?"Multi":"")+"LineString",coordinates:u})}}),Ir.include({toGeoJSON:function(n){var s=!Vn(this._latlngs),u=s&&!Vn(this._latlngs[0]),y=ci(this._latlngs,u?2:s?1:0,!0,n);return s||(y=[y]),Tr(this,{type:(u?"Multi":"")+"Polygon",coordinates:y})}}),_r.include({toMultiPoint:function(n){var s=[];return this.eachLayer(function(u){s.push(u.toGeoJSON(n).geometry.coordinates)}),Tr(this,{type:"MultiPoint",coordinates:s})},toGeoJSON:function(n){var s=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(s==="MultiPoint")return this.toMultiPoint(n);var u=s==="GeometryCollection",y=[];return this.eachLayer(function(w){if(w.toGeoJSON){var N=w.toGeoJSON(n);if(u)y.push(N.geometry);else{var K=ui(N);K.type==="FeatureCollection"?y.push.apply(y,K.features):y.push(K)}}}),u?Tr(this,{geometries:y,type:"GeometryCollection"}):{type:"FeatureCollection",features:y}}});function fu(n,s){return new Po(n,s)}var Hf=fu,di=no.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(n,s,u){this._url=n,this._bounds=te(s),C(this,u)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ht(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Qt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(n){return this.options.opacity=n,this._image&&this._updateOpacity(),this},setStyle:function(n){return n.opacity&&this.setOpacity(n.opacity),this},bringToFront:function(){return this._map&&wr(this._image),this},bringToBack:function(){return this._map&&Sr(this._image),this},setUrl:function(n){return this._url=n,this._image&&(this._image.src=n),this},setBounds:function(n){return this._bounds=te(n),this._map&&this._reset(),this},getEvents:function(){var n={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var n=this._url.tagName==="IMG",s=this._image=n?this._url:At("img");if(ht(s,"leaflet-image-layer"),this._zoomAnimated&&ht(s,"leaflet-zoom-animated"),this.options.className&&ht(s,this.options.className),s.onselectstart=f,s.onmousemove=f,s.onload=l(this.fire,this,"load"),s.onerror=l(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(s.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),n){this._url=s.src;return}s.src=this._url,s.alt=this.options.alt},_animateZoom:function(n){var s=this._map.getZoomScale(n.zoom),u=this._map._latLngBoundsToNewLayerBounds(this._bounds,n.zoom,n.center).min;Qo(this._image,u,s)},_reset:function(){var n=this._image,s=new q(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),u=s.getSize();cn(n,s.min),n.style.width=u.x+"px",n.style.height=u.y+"px"},_updateOpacity:function(){Gn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var n=this.options.errorOverlayUrl;n&&this._url!==n&&(this._url=n,this._image.src=n)},getCenter:function(){return this._bounds.getCenter()}}),Gf=function(n,s,u){return new di(n,s,u)},gu=di.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var n=this._url.tagName==="VIDEO",s=this._image=n?this._url:At("video");if(ht(s,"leaflet-image-layer"),this._zoomAnimated&&ht(s,"leaflet-zoom-animated"),this.options.className&&ht(s,this.options.className),s.onselectstart=f,s.onmousemove=f,s.onloadeddata=l(this.fire,this,"load"),n){for(var u=s.getElementsByTagName("source"),y=[],w=0;w<u.length;w++)y.push(u[w].src);this._url=u.length>0?y:[s.src];return}z(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(s.style,"objectFit")&&(s.style.objectFit="fill"),s.autoplay=!!this.options.autoplay,s.loop=!!this.options.loop,s.muted=!!this.options.muted,s.playsInline=!!this.options.playsInline;for(var N=0;N<this._url.length;N++){var K=At("source");K.src=this._url[N],s.appendChild(K)}}});function Vf(n,s,u){return new gu(n,s,u)}var vu=di.extend({_initImage:function(){var n=this._image=this._url;ht(n,"leaflet-image-layer"),this._zoomAnimated&&ht(n,"leaflet-zoom-animated"),this.options.className&&ht(n,this.options.className),n.onselectstart=f,n.onmousemove=f}});function Wf(n,s,u){return new vu(n,s,u)}var mo=no.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(n,s){n&&(n instanceof Y||z(n))?(this._latlng=ne(n),C(this,s)):(C(this,n),this._source=s),this.options.content&&(this._content=this.options.content)},openOn:function(n){return n=arguments.length?n:this._source._map,n.hasLayer(this)||n.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(n){return this._map?this.close():(arguments.length?this._source=n:n=this._source,this._prepareOpen(),this.openOn(n._map)),this},onAdd:function(n){this._zoomAnimated=n._zoomAnimated,this._container||this._initLayout(),n._fadeAnimated&&Gn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),n._fadeAnimated&&Gn(this._container,1),this.bringToFront(),this.options.interactive&&(ht(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(n){n._fadeAnimated?(Gn(this._container,0),this._removeTimeout=setTimeout(l(Qt,void 0,this._container),200)):Qt(this._container),this.options.interactive&&(sn(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(n){return this._latlng=ne(n),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(n){return this._content=n,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var n={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&wr(this._container),this},bringToBack:function(){return this._map&&Sr(this._container),this},_prepareOpen:function(n){var s=this._source;if(!s._map)return!1;if(s instanceof So){s=null;var u=this._source._layers;for(var y in u)if(u[y]._map){s=u[y];break}if(!s)return!1;this._source=s}if(!n)if(s.getCenter)n=s.getCenter();else if(s.getLatLng)n=s.getLatLng();else if(s.getBounds)n=s.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(n),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var n=this._contentNode,s=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof s=="string")n.innerHTML=s;else{for(;n.hasChildNodes();)n.removeChild(n.firstChild);n.appendChild(s)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var n=this._map.latLngToLayerPoint(this._latlng),s=Z(this.options.offset),u=this._getAnchor();this._zoomAnimated?cn(this._container,n.add(u)):s=s.add(n).add(u);var y=this._containerBottom=-s.y,w=this._containerLeft=-Math.round(this._containerWidth/2)+s.x;this._container.style.bottom=y+"px",this._container.style.left=w+"px"}},_getAnchor:function(){return[0,0]}});Mt.include({_initOverlay:function(n,s,u,y){var w=s;return w instanceof n||(w=new n(y).setContent(s)),u&&w.setLatLng(u),w}}),no.include({_initOverlay:function(n,s,u,y){var w=u;return w instanceof n?(C(w,y),w._source=this):(w=s&&!y?s:new n(y,this),w.setContent(u)),w}});var pi=mo.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(n){return n=arguments.length?n:this._source._map,!n.hasLayer(this)&&n._popup&&n._popup.options.autoClose&&n.removeLayer(n._popup),n._popup=this,mo.prototype.openOn.call(this,n)},onAdd:function(n){mo.prototype.onAdd.call(this,n),n.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Oo||this._source.on("preclick",tr))},onRemove:function(n){mo.prototype.onRemove.call(this,n),n.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Oo||this._source.off("preclick",tr))},getEvents:function(){var n=mo.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(n.preclick=this.close),this.options.keepInView&&(n.moveend=this._adjustPan),n},_initLayout:function(){var n="leaflet-popup",s=this._container=At("div",n+" "+(this.options.className||"")+" leaflet-zoom-animated"),u=this._wrapper=At("div",n+"-content-wrapper",s);if(this._contentNode=At("div",n+"-content",u),is(s),Za(this._contentNode),ut(s,"contextmenu",tr),this._tipContainer=At("div",n+"-tip-container",s),this._tip=At("div",n+"-tip",this._tipContainer),this.options.closeButton){var y=this._closeButton=At("a",n+"-close-button",s);y.setAttribute("role","button"),y.setAttribute("aria-label","Close popup"),y.href="#close",y.innerHTML='<span aria-hidden="true">&#215;</span>',ut(y,"click",function(w){Sn(w),this.close()},this)}},_updateLayout:function(){var n=this._contentNode,s=n.style;s.width="",s.whiteSpace="nowrap";var u=n.offsetWidth;u=Math.min(u,this.options.maxWidth),u=Math.max(u,this.options.minWidth),s.width=u+1+"px",s.whiteSpace="",s.height="";var y=n.offsetHeight,w=this.options.maxHeight,N="leaflet-popup-scrolled";w&&y>w?(s.height=w+"px",ht(n,N)):sn(n,N),this._containerWidth=this._container.offsetWidth},_animateZoom:function(n){var s=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center),u=this._getAnchor();cn(this._container,s.add(u))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var n=this._map,s=parseInt(ns(this._container,"marginBottom"),10)||0,u=this._container.offsetHeight+s,y=this._containerWidth,w=new R(this._containerLeft,-u-this._containerBottom);w._add(er(this._container));var N=n.layerPointToContainerPoint(w),K=Z(this.options.autoPanPadding),oe=Z(this.options.autoPanPaddingTopLeft||K),ue=Z(this.options.autoPanPaddingBottomRight||K),xe=n.getSize(),je=0,nt=0;N.x+y+ue.x>xe.x&&(je=N.x+y-xe.x+ue.x),N.x-je-oe.x<0&&(je=N.x-oe.x),N.y+u+ue.y>xe.y&&(nt=N.y+u-xe.y+ue.y),N.y-nt-oe.y<0&&(nt=N.y-oe.y),(je||nt)&&(this.options.keepInView&&(this._autopanning=!0),n.fire("autopanstart").panBy([je,nt]))}},_getAnchor:function(){return Z(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Zf=function(n,s){return new pi(n,s)};Mt.mergeOptions({closePopupOnClick:!0}),Mt.include({openPopup:function(n,s,u){return this._initOverlay(pi,n,s,u).openOn(this),this},closePopup:function(n){return n=arguments.length?n:this._popup,n&&n.close(),this}}),no.include({bindPopup:function(n,s){return this._popup=this._initOverlay(pi,this._popup,n,s),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(n){return this._popup&&(this instanceof So||(this._popup._source=this),this._popup._prepareOpen(n||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(n){return this._popup&&this._popup.setContent(n),this},getPopup:function(){return this._popup},_openPopup:function(n){if(!(!this._popup||!this._map)){nr(n);var s=n.layer||n.target;if(this._popup._source===s&&!(s instanceof Oo)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(n.latlng);return}this._popup._source=s,this.openPopup(n.latlng)}},_movePopup:function(n){this._popup.setLatLng(n.latlng)},_onKeyPress:function(n){n.originalEvent.keyCode===13&&this._openPopup(n)}});var hi=mo.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(n){mo.prototype.onAdd.call(this,n),this.setOpacity(this.options.opacity),n.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(n){mo.prototype.onRemove.call(this,n),n.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var n=mo.prototype.getEvents.call(this);return this.options.permanent||(n.preclick=this.close),n},_initLayout:function(){var n="leaflet-tooltip",s=n+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=At("div",s),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+p(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(n){var s,u,y=this._map,w=this._container,N=y.latLngToContainerPoint(y.getCenter()),K=y.layerPointToContainerPoint(n),oe=this.options.direction,ue=w.offsetWidth,xe=w.offsetHeight,je=Z(this.options.offset),nt=this._getAnchor();oe==="top"?(s=ue/2,u=xe):oe==="bottom"?(s=ue/2,u=0):oe==="center"?(s=ue/2,u=xe/2):oe==="right"?(s=0,u=xe/2):oe==="left"?(s=ue,u=xe/2):K.x<N.x?(oe="right",s=0,u=xe/2):(oe="left",s=ue+(je.x+nt.x)*2,u=xe/2),n=n.subtract(Z(s,u,!0)).add(je).add(nt),sn(w,"leaflet-tooltip-right"),sn(w,"leaflet-tooltip-left"),sn(w,"leaflet-tooltip-top"),sn(w,"leaflet-tooltip-bottom"),ht(w,"leaflet-tooltip-"+oe),cn(w,n)},_updatePosition:function(){var n=this._map.latLngToLayerPoint(this._latlng);this._setPosition(n)},setOpacity:function(n){this.options.opacity=n,this._container&&Gn(this._container,n)},_animateZoom:function(n){var s=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center);this._setPosition(s)},_getAnchor:function(){return Z(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Uf=function(n,s){return new hi(n,s)};Mt.include({openTooltip:function(n,s,u){return this._initOverlay(hi,n,s,u).openOn(this),this},closeTooltip:function(n){return n.close(),this}}),no.include({bindTooltip:function(n,s){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(hi,this._tooltip,n,s),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(n){if(!(!n&&this._tooltipHandlersAdded)){var s=n?"off":"on",u={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?u.add=this._openTooltip:(u.mouseover=this._openTooltip,u.mouseout=this.closeTooltip,u.click=this._openTooltip,this._map?this._addFocusListeners():u.add=this._addFocusListeners),this._tooltip.options.sticky&&(u.mousemove=this._moveTooltip),this[s](u),this._tooltipHandlersAdded=!n}},openTooltip:function(n){return this._tooltip&&(this instanceof So||(this._tooltip._source=this),this._tooltip._prepareOpen(n)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(n){return this._tooltip&&this._tooltip.setContent(n),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(n){var s=typeof n.getElement=="function"&&n.getElement();s&&(ut(s,"focus",function(){this._tooltip._source=n,this.openTooltip()},this),ut(s,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(n){var s=typeof n.getElement=="function"&&n.getElement();s&&s.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(n){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var s=this;this._map.once("moveend",function(){s._openOnceFlag=!1,s._openTooltip(n)});return}this._tooltip._source=n.layer||n.target,this.openTooltip(this._tooltip.options.sticky?n.latlng:void 0)}},_moveTooltip:function(n){var s=n.latlng,u,y;this._tooltip.options.sticky&&n.originalEvent&&(u=this._map.mouseEventToContainerPoint(n.originalEvent),y=this._map.containerPointToLayerPoint(u),s=this._map.layerPointToLatLng(y)),this._tooltip.setLatLng(s)}});var yu=Pr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(n){var s=n&&n.tagName==="DIV"?n:document.createElement("div"),u=this.options;if(u.html instanceof Element?(Qs(s),s.appendChild(u.html)):s.innerHTML=u.html!==!1?u.html:"",u.bgPos){var y=Z(u.bgPos);s.style.backgroundPosition=-y.x+"px "+-y.y+"px"}return this._setIconStyles(s,"icon"),s},createShadow:function(){return null}});function Kf(n){return new yu(n)}Pr.Default=cs;var us=no.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ne.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(n){C(this,n)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(n){n._addZoomLimit(this)},onRemove:function(n){this._removeAllTiles(),Qt(this._container),n._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(wr(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Sr(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(n){return this.options.opacity=n,this._updateOpacity(),this},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var n=this._clampZoom(this._map.getZoom());n!==this._tileZoom&&(this._tileZoom=n,this._updateLevels()),this._update()}return this},getEvents:function(){var n={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=g(this._onMoveEnd,this.options.updateInterval,this)),n.move=this._onMove),this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},createTile:function(){return document.createElement("div")},getTileSize:function(){var n=this.options.tileSize;return n instanceof R?n:new R(n,n)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(n){for(var s=this.getPane().children,u=-n(-1/0,1/0),y=0,w=s.length,N;y<w;y++)N=s[y].style.zIndex,s[y]!==this._container&&N&&(u=n(u,+N));isFinite(u)&&(this.options.zIndex=u+n(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ne.ielt9){Gn(this._container,this.options.opacity);var n=+new Date,s=!1,u=!1;for(var y in this._tiles){var w=this._tiles[y];if(!(!w.current||!w.loaded)){var N=Math.min(1,(n-w.loaded)/200);Gn(w.el,N),N<1?s=!0:(w.active?u=!0:this._onOpaqueTile(w),w.active=!0)}}u&&!this._noPrune&&this._pruneTiles(),s&&(H(this._fadeFrame),this._fadeFrame=O(this._updateOpacity,this))}},_onOpaqueTile:f,_initContainer:function(){this._container||(this._container=At("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var n=this._tileZoom,s=this.options.maxZoom;if(n!==void 0){for(var u in this._levels)u=Number(u),this._levels[u].el.children.length||u===n?(this._levels[u].el.style.zIndex=s-Math.abs(n-u),this._onUpdateLevel(u)):(Qt(this._levels[u].el),this._removeTilesAtZoom(u),this._onRemoveLevel(u),delete this._levels[u]);var y=this._levels[n],w=this._map;return y||(y=this._levels[n]={},y.el=At("div","leaflet-tile-container leaflet-zoom-animated",this._container),y.el.style.zIndex=s,y.origin=w.project(w.unproject(w.getPixelOrigin()),n).round(),y.zoom=n,this._setZoomTransform(y,w.getCenter(),w.getZoom()),f(y.el.offsetWidth),this._onCreateLevel(y)),this._level=y,y}},_onUpdateLevel:f,_onRemoveLevel:f,_onCreateLevel:f,_pruneTiles:function(){if(this._map){var n,s,u=this._map.getZoom();if(u>this.options.maxZoom||u<this.options.minZoom){this._removeAllTiles();return}for(n in this._tiles)s=this._tiles[n],s.retain=s.current;for(n in this._tiles)if(s=this._tiles[n],s.current&&!s.active){var y=s.coords;this._retainParent(y.x,y.y,y.z,y.z-5)||this._retainChildren(y.x,y.y,y.z,y.z+2)}for(n in this._tiles)this._tiles[n].retain||this._removeTile(n)}},_removeTilesAtZoom:function(n){for(var s in this._tiles)this._tiles[s].coords.z===n&&this._removeTile(s)},_removeAllTiles:function(){for(var n in this._tiles)this._removeTile(n)},_invalidateAll:function(){for(var n in this._levels)Qt(this._levels[n].el),this._onRemoveLevel(Number(n)),delete this._levels[n];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(n,s,u,y){var w=Math.floor(n/2),N=Math.floor(s/2),K=u-1,oe=new R(+w,+N);oe.z=+K;var ue=this._tileCoordsToKey(oe),xe=this._tiles[ue];return xe&&xe.active?(xe.retain=!0,!0):(xe&&xe.loaded&&(xe.retain=!0),K>y?this._retainParent(w,N,K,y):!1)},_retainChildren:function(n,s,u,y){for(var w=2*n;w<2*n+2;w++)for(var N=2*s;N<2*s+2;N++){var K=new R(w,N);K.z=u+1;var oe=this._tileCoordsToKey(K),ue=this._tiles[oe];if(ue&&ue.active){ue.retain=!0;continue}else ue&&ue.loaded&&(ue.retain=!0);u+1<y&&this._retainChildren(w,N,u+1,y)}},_resetView:function(n){var s=n&&(n.pinch||n.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),s,s)},_animateZoom:function(n){this._setView(n.center,n.zoom,!0,n.noUpdate)},_clampZoom:function(n){var s=this.options;return s.minNativeZoom!==void 0&&n<s.minNativeZoom?s.minNativeZoom:s.maxNativeZoom!==void 0&&s.maxNativeZoom<n?s.maxNativeZoom:n},_setView:function(n,s,u,y){var w=Math.round(s);this.options.maxZoom!==void 0&&w>this.options.maxZoom||this.options.minZoom!==void 0&&w<this.options.minZoom?w=void 0:w=this._clampZoom(w);var N=this.options.updateWhenZooming&&w!==this._tileZoom;(!y||N)&&(this._tileZoom=w,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),w!==void 0&&this._update(n),u||this._pruneTiles(),this._noPrune=!!u),this._setZoomTransforms(n,s)},_setZoomTransforms:function(n,s){for(var u in this._levels)this._setZoomTransform(this._levels[u],n,s)},_setZoomTransform:function(n,s,u){var y=this._map.getZoomScale(u,n.zoom),w=n.origin.multiplyBy(y).subtract(this._map._getNewPixelOrigin(s,u)).round();Ne.any3d?Qo(n.el,w,y):cn(n.el,w)},_resetGrid:function(){var n=this._map,s=n.options.crs,u=this._tileSize=this.getTileSize(),y=this._tileZoom,w=this._map.getPixelWorldBounds(this._tileZoom);w&&(this._globalTileRange=this._pxBoundsToTileRange(w)),this._wrapX=s.wrapLng&&!this.options.noWrap&&[Math.floor(n.project([0,s.wrapLng[0]],y).x/u.x),Math.ceil(n.project([0,s.wrapLng[1]],y).x/u.y)],this._wrapY=s.wrapLat&&!this.options.noWrap&&[Math.floor(n.project([s.wrapLat[0],0],y).y/u.x),Math.ceil(n.project([s.wrapLat[1],0],y).y/u.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(n){var s=this._map,u=s._animatingZoom?Math.max(s._animateToZoom,s.getZoom()):s.getZoom(),y=s.getZoomScale(u,this._tileZoom),w=s.project(n,this._tileZoom).floor(),N=s.getSize().divideBy(y*2);return new q(w.subtract(N),w.add(N))},_update:function(n){var s=this._map;if(s){var u=this._clampZoom(s.getZoom());if(n===void 0&&(n=s.getCenter()),this._tileZoom!==void 0){var y=this._getTiledPixelBounds(n),w=this._pxBoundsToTileRange(y),N=w.getCenter(),K=[],oe=this.options.keepBuffer,ue=new q(w.getBottomLeft().subtract([oe,-oe]),w.getTopRight().add([oe,-oe]));if(!(isFinite(w.min.x)&&isFinite(w.min.y)&&isFinite(w.max.x)&&isFinite(w.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var xe in this._tiles){var je=this._tiles[xe].coords;(je.z!==this._tileZoom||!ue.contains(new R(je.x,je.y)))&&(this._tiles[xe].current=!1)}if(Math.abs(u-this._tileZoom)>1){this._setView(n,u);return}for(var nt=w.min.y;nt<=w.max.y;nt++)for(var Ct=w.min.x;Ct<=w.max.x;Ct++){var Mn=new R(Ct,nt);if(Mn.z=this._tileZoom,!!this._isValidTile(Mn)){var gn=this._tiles[this._tileCoordsToKey(Mn)];gn?gn.current=!0:K.push(Mn)}}if(K.sort(function(Rn,Mr){return Rn.distanceTo(N)-Mr.distanceTo(N)}),K.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Wn=document.createDocumentFragment();for(Ct=0;Ct<K.length;Ct++)this._addTile(K[Ct],Wn);this._level.el.appendChild(Wn)}}}},_isValidTile:function(n){var s=this._map.options.crs;if(!s.infinite){var u=this._globalTileRange;if(!s.wrapLng&&(n.x<u.min.x||n.x>u.max.x)||!s.wrapLat&&(n.y<u.min.y||n.y>u.max.y))return!1}if(!this.options.bounds)return!0;var y=this._tileCoordsToBounds(n);return te(this.options.bounds).overlaps(y)},_keyToBounds:function(n){return this._tileCoordsToBounds(this._keyToTileCoords(n))},_tileCoordsToNwSe:function(n){var s=this._map,u=this.getTileSize(),y=n.scaleBy(u),w=y.add(u),N=s.unproject(y,n.z),K=s.unproject(w,n.z);return[N,K]},_tileCoordsToBounds:function(n){var s=this._tileCoordsToNwSe(n),u=new X(s[0],s[1]);return this.options.noWrap||(u=this._map.wrapLatLngBounds(u)),u},_tileCoordsToKey:function(n){return n.x+":"+n.y+":"+n.z},_keyToTileCoords:function(n){var s=n.split(":"),u=new R(+s[0],+s[1]);return u.z=+s[2],u},_removeTile:function(n){var s=this._tiles[n];s&&(Qt(s.el),delete this._tiles[n],this.fire("tileunload",{tile:s.el,coords:this._keyToTileCoords(n)}))},_initTile:function(n){ht(n,"leaflet-tile");var s=this.getTileSize();n.style.width=s.x+"px",n.style.height=s.y+"px",n.onselectstart=f,n.onmousemove=f,Ne.ielt9&&this.options.opacity<1&&Gn(n,this.options.opacity)},_addTile:function(n,s){var u=this._getTilePos(n),y=this._tileCoordsToKey(n),w=this.createTile(this._wrapCoords(n),l(this._tileReady,this,n));this._initTile(w),this.createTile.length<2&&O(l(this._tileReady,this,n,null,w)),cn(w,u),this._tiles[y]={el:w,coords:n,current:!0},s.appendChild(w),this.fire("tileloadstart",{tile:w,coords:n})},_tileReady:function(n,s,u){s&&this.fire("tileerror",{error:s,tile:u,coords:n});var y=this._tileCoordsToKey(n);u=this._tiles[y],u&&(u.loaded=+new Date,this._map._fadeAnimated?(Gn(u.el,0),H(this._fadeFrame),this._fadeFrame=O(this._updateOpacity,this)):(u.active=!0,this._pruneTiles()),s||(ht(u.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:u.el,coords:n})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ne.ielt9||!this._map._fadeAnimated?O(this._pruneTiles,this):setTimeout(l(this._pruneTiles,this),250)))},_getTilePos:function(n){return n.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(n){var s=new R(this._wrapX?m(n.x,this._wrapX):n.x,this._wrapY?m(n.y,this._wrapY):n.y);return s.z=n.z,s},_pxBoundsToTileRange:function(n){var s=this.getTileSize();return new q(n.min.unscaleBy(s).floor(),n.max.unscaleBy(s).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var n in this._tiles)if(!this._tiles[n].loaded)return!1;return!0}});function Jf(n){return new us(n)}var kr=us.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(n,s){this._url=n,s=C(this,s),s.detectRetina&&Ne.retina&&s.maxZoom>0?(s.tileSize=Math.floor(s.tileSize/2),s.zoomReverse?(s.zoomOffset--,s.minZoom=Math.min(s.maxZoom,s.minZoom+1)):(s.zoomOffset++,s.maxZoom=Math.max(s.minZoom,s.maxZoom-1)),s.minZoom=Math.max(0,s.minZoom)):s.zoomReverse?s.minZoom=Math.min(s.maxZoom,s.minZoom):s.maxZoom=Math.max(s.minZoom,s.maxZoom),typeof s.subdomains=="string"&&(s.subdomains=s.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(n,s){return this._url===n&&s===void 0&&(s=!0),this._url=n,s||this.redraw(),this},createTile:function(n,s){var u=document.createElement("img");return ut(u,"load",l(this._tileOnLoad,this,s,u)),ut(u,"error",l(this._tileOnError,this,s,u)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(u.referrerPolicy=this.options.referrerPolicy),u.alt="",u.src=this.getTileUrl(n),u},getTileUrl:function(n){var s={r:Ne.retina?"@2x":"",s:this._getSubdomain(n),x:n.x,y:n.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var u=this._globalTileRange.max.y-n.y;this.options.tms&&(s.y=u),s["-y"]=u}return P(this._url,i(s,this.options))},_tileOnLoad:function(n,s){Ne.ielt9?setTimeout(l(n,this,null,s),0):n(null,s)},_tileOnError:function(n,s,u){var y=this.options.errorTileUrl;y&&s.getAttribute("src")!==y&&(s.src=y),n(u,s)},_onTileRemove:function(n){n.tile.onload=null},_getZoomForUrl:function(){var n=this._tileZoom,s=this.options.maxZoom,u=this.options.zoomReverse,y=this.options.zoomOffset;return u&&(n=s-n),n+y},_getSubdomain:function(n){var s=Math.abs(n.x+n.y)%this.options.subdomains.length;return this.options.subdomains[s]},_abortLoading:function(){var n,s;for(n in this._tiles)if(this._tiles[n].coords.z!==this._tileZoom&&(s=this._tiles[n].el,s.onload=f,s.onerror=f,!s.complete)){s.src=G;var u=this._tiles[n].coords;Qt(s),delete this._tiles[n],this.fire("tileabort",{tile:s,coords:u})}},_removeTile:function(n){var s=this._tiles[n];if(s)return s.el.setAttribute("src",G),us.prototype._removeTile.call(this,n)},_tileReady:function(n,s,u){if(!(!this._map||u&&u.getAttribute("src")===G))return us.prototype._tileReady.call(this,n,s,u)}});function bu(n,s){return new kr(n,s)}var xu=kr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(n,s){this._url=n;var u=i({},this.defaultWmsParams);for(var y in s)y in this.options||(u[y]=s[y]);s=C(this,s);var w=s.detectRetina&&Ne.retina?2:1,N=this.getTileSize();u.width=N.x*w,u.height=N.y*w,this.wmsParams=u},onAdd:function(n){this._crs=this.options.crs||n.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var s=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[s]=this._crs.code,kr.prototype.onAdd.call(this,n)},getTileUrl:function(n){var s=this._tileCoordsToNwSe(n),u=this._crs,y=ee(u.project(s[0]),u.project(s[1])),w=y.min,N=y.max,K=(this._wmsVersion>=1.3&&this._crs===pu?[w.y,w.x,N.y,N.x]:[w.x,w.y,N.x,N.y]).join(","),oe=kr.prototype.getTileUrl.call(this,n);return oe+S(this.wmsParams,oe,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+K},setParams:function(n,s){return i(this.wmsParams,n),s||this.redraw(),this}});function qf(n,s){return new xu(n,s)}kr.WMS=xu,bu.wms=qf;var Io=no.extend({options:{padding:.1},initialize:function(n){C(this,n),p(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ht(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var n={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(n.zoomanim=this._onAnimZoom),n},_onAnimZoom:function(n){this._updateTransform(n.center,n.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(n,s){var u=this._map.getZoomScale(s,this._zoom),y=this._map.getSize().multiplyBy(.5+this.options.padding),w=this._map.project(this._center,s),N=y.multiplyBy(-u).add(w).subtract(this._map._getNewPixelOrigin(n,s));Ne.any3d?Qo(this._container,N,u):cn(this._container,N)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var n in this._layers)this._layers[n]._reset()},_onZoomEnd:function(){for(var n in this._layers)this._layers[n]._project()},_updatePaths:function(){for(var n in this._layers)this._layers[n]._update()},_update:function(){var n=this.options.padding,s=this._map.getSize(),u=this._map.containerPointToLayerPoint(s.multiplyBy(-n)).round();this._bounds=new q(u,u.add(s.multiplyBy(1+n*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Cu=Io.extend({options:{tolerance:0},getEvents:function(){var n=Io.prototype.getEvents.call(this);return n.viewprereset=this._onViewPreReset,n},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Io.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var n=this._container=document.createElement("canvas");ut(n,"mousemove",this._onMouseMove,this),ut(n,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ut(n,"mouseout",this._handleMouseOut,this),n._leaflet_disable_events=!0,this._ctx=n.getContext("2d")},_destroyContainer:function(){H(this._redrawRequest),delete this._ctx,Qt(this._container),jt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var n;this._redrawBounds=null;for(var s in this._layers)n=this._layers[s],n._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Io.prototype._update.call(this);var n=this._bounds,s=this._container,u=n.getSize(),y=Ne.retina?2:1;cn(s,n.min),s.width=y*u.x,s.height=y*u.y,s.style.width=u.x+"px",s.style.height=u.y+"px",Ne.retina&&this._ctx.scale(2,2),this._ctx.translate(-n.min.x,-n.min.y),this.fire("update")}},_reset:function(){Io.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(n){this._updateDashArray(n),this._layers[p(n)]=n;var s=n._order={layer:n,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=s),this._drawLast=s,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(n){this._requestRedraw(n)},_removePath:function(n){var s=n._order,u=s.next,y=s.prev;u?u.prev=y:this._drawLast=y,y?y.next=u:this._drawFirst=u,delete n._order,delete this._layers[p(n)],this._requestRedraw(n)},_updatePath:function(n){this._extendRedrawBounds(n),n._project(),n._update(),this._requestRedraw(n)},_updateStyle:function(n){this._updateDashArray(n),this._requestRedraw(n)},_updateDashArray:function(n){if(typeof n.options.dashArray=="string"){var s=n.options.dashArray.split(/[, ]+/),u=[],y,w;for(w=0;w<s.length;w++){if(y=Number(s[w]),isNaN(y))return;u.push(y)}n.options._dashArray=u}else n.options._dashArray=n.options.dashArray},_requestRedraw:function(n){this._map&&(this._extendRedrawBounds(n),this._redrawRequest=this._redrawRequest||O(this._redraw,this))},_extendRedrawBounds:function(n){if(n._pxBounds){var s=(n.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new q,this._redrawBounds.extend(n._pxBounds.min.subtract([s,s])),this._redrawBounds.extend(n._pxBounds.max.add([s,s]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var n=this._redrawBounds;if(n){var s=n.getSize();this._ctx.clearRect(n.min.x,n.min.y,s.x,s.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var n,s=this._redrawBounds;if(this._ctx.save(),s){var u=s.getSize();this._ctx.beginPath(),this._ctx.rect(s.min.x,s.min.y,u.x,u.y),this._ctx.clip()}this._drawing=!0;for(var y=this._drawFirst;y;y=y.next)n=y.layer,(!s||n._pxBounds&&n._pxBounds.intersects(s))&&n._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(n,s){if(this._drawing){var u,y,w,N,K=n._parts,oe=K.length,ue=this._ctx;if(oe){for(ue.beginPath(),u=0;u<oe;u++){for(y=0,w=K[u].length;y<w;y++)N=K[u][y],ue[y?"lineTo":"moveTo"](N.x,N.y);s&&ue.closePath()}this._fillStroke(ue,n)}}},_updateCircle:function(n){if(!(!this._drawing||n._empty())){var s=n._point,u=this._ctx,y=Math.max(Math.round(n._radius),1),w=(Math.max(Math.round(n._radiusY),1)||y)/y;w!==1&&(u.save(),u.scale(1,w)),u.beginPath(),u.arc(s.x,s.y/w,y,0,Math.PI*2,!1),w!==1&&u.restore(),this._fillStroke(u,n)}},_fillStroke:function(n,s){var u=s.options;u.fill&&(n.globalAlpha=u.fillOpacity,n.fillStyle=u.fillColor||u.color,n.fill(u.fillRule||"evenodd")),u.stroke&&u.weight!==0&&(n.setLineDash&&n.setLineDash(s.options&&s.options._dashArray||[]),n.globalAlpha=u.opacity,n.lineWidth=u.weight,n.strokeStyle=u.color,n.lineCap=u.lineCap,n.lineJoin=u.lineJoin,n.stroke())},_onClick:function(n){for(var s=this._map.mouseEventToLayerPoint(n),u,y,w=this._drawFirst;w;w=w.next)u=w.layer,u.options.interactive&&u._containsPoint(s)&&(!(n.type==="click"||n.type==="preclick")||!this._map._draggableMoved(u))&&(y=u);this._fireEvent(y?[y]:!1,n)},_onMouseMove:function(n){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var s=this._map.mouseEventToLayerPoint(n);this._handleMouseHover(n,s)}},_handleMouseOut:function(n){var s=this._hoveredLayer;s&&(sn(this._container,"leaflet-interactive"),this._fireEvent([s],n,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(n,s){if(!this._mouseHoverThrottled){for(var u,y,w=this._drawFirst;w;w=w.next)u=w.layer,u.options.interactive&&u._containsPoint(s)&&(y=u);y!==this._hoveredLayer&&(this._handleMouseOut(n),y&&(ht(this._container,"leaflet-interactive"),this._fireEvent([y],n,"mouseover"),this._hoveredLayer=y)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,n),this._mouseHoverThrottled=!0,setTimeout(l(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(n,s,u){this._map._fireDOMEvent(s,u||s.type,n)},_bringToFront:function(n){var s=n._order;if(s){var u=s.next,y=s.prev;if(u)u.prev=y;else return;y?y.next=u:u&&(this._drawFirst=u),s.prev=this._drawLast,this._drawLast.next=s,s.next=null,this._drawLast=s,this._requestRedraw(n)}},_bringToBack:function(n){var s=n._order;if(s){var u=s.next,y=s.prev;if(y)y.next=u;else return;u?u.prev=y:y&&(this._drawLast=y),s.prev=null,s.next=this._drawFirst,this._drawFirst.prev=s,this._drawFirst=s,this._requestRedraw(n)}}});function wu(n){return Ne.canvas?new Cu(n):null}var ds=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(n){return document.createElement("<lvml:"+n+' class="lvml">')}}catch{}return function(n){return document.createElement("<"+n+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Xf={_initContainer:function(){this._container=At("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Io.prototype._update.call(this),this.fire("update"))},_initPath:function(n){var s=n._container=ds("shape");ht(s,"leaflet-vml-shape "+(this.options.className||"")),s.coordsize="1 1",n._path=ds("path"),s.appendChild(n._path),this._updateStyle(n),this._layers[p(n)]=n},_addPath:function(n){var s=n._container;this._container.appendChild(s),n.options.interactive&&n.addInteractiveTarget(s)},_removePath:function(n){var s=n._container;Qt(s),n.removeInteractiveTarget(s),delete this._layers[p(n)]},_updateStyle:function(n){var s=n._stroke,u=n._fill,y=n.options,w=n._container;w.stroked=!!y.stroke,w.filled=!!y.fill,y.stroke?(s||(s=n._stroke=ds("stroke")),w.appendChild(s),s.weight=y.weight+"px",s.color=y.color,s.opacity=y.opacity,y.dashArray?s.dashStyle=z(y.dashArray)?y.dashArray.join(" "):y.dashArray.replace(/( *, *)/g," "):s.dashStyle="",s.endcap=y.lineCap.replace("butt","flat"),s.joinstyle=y.lineJoin):s&&(w.removeChild(s),n._stroke=null),y.fill?(u||(u=n._fill=ds("fill")),w.appendChild(u),u.color=y.fillColor||y.color,u.opacity=y.fillOpacity):u&&(w.removeChild(u),n._fill=null)},_updateCircle:function(n){var s=n._point.round(),u=Math.round(n._radius),y=Math.round(n._radiusY||u);this._setPath(n,n._empty()?"M0 0":"AL "+s.x+","+s.y+" "+u+","+y+" 0,"+65535*360)},_setPath:function(n,s){n._path.v=s},_bringToFront:function(n){wr(n._container)},_bringToBack:function(n){Sr(n._container)}},mi=Ne.vml?ds:U,ps=Io.extend({_initContainer:function(){this._container=mi("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=mi("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Qt(this._container),jt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Io.prototype._update.call(this);var n=this._bounds,s=n.getSize(),u=this._container;(!this._svgSize||!this._svgSize.equals(s))&&(this._svgSize=s,u.setAttribute("width",s.x),u.setAttribute("height",s.y)),cn(u,n.min),u.setAttribute("viewBox",[n.min.x,n.min.y,s.x,s.y].join(" ")),this.fire("update")}},_initPath:function(n){var s=n._path=mi("path");n.options.className&&ht(s,n.options.className),n.options.interactive&&ht(s,"leaflet-interactive"),this._updateStyle(n),this._layers[p(n)]=n},_addPath:function(n){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(n._path),n.addInteractiveTarget(n._path)},_removePath:function(n){Qt(n._path),n.removeInteractiveTarget(n._path),delete this._layers[p(n)]},_updatePath:function(n){n._project(),n._update()},_updateStyle:function(n){var s=n._path,u=n.options;s&&(u.stroke?(s.setAttribute("stroke",u.color),s.setAttribute("stroke-opacity",u.opacity),s.setAttribute("stroke-width",u.weight),s.setAttribute("stroke-linecap",u.lineCap),s.setAttribute("stroke-linejoin",u.lineJoin),u.dashArray?s.setAttribute("stroke-dasharray",u.dashArray):s.removeAttribute("stroke-dasharray"),u.dashOffset?s.setAttribute("stroke-dashoffset",u.dashOffset):s.removeAttribute("stroke-dashoffset")):s.setAttribute("stroke","none"),u.fill?(s.setAttribute("fill",u.fillColor||u.color),s.setAttribute("fill-opacity",u.fillOpacity),s.setAttribute("fill-rule",u.fillRule||"evenodd")):s.setAttribute("fill","none"))},_updatePoly:function(n,s){this._setPath(n,he(n._parts,s))},_updateCircle:function(n){var s=n._point,u=Math.max(Math.round(n._radius),1),y=Math.max(Math.round(n._radiusY),1)||u,w="a"+u+","+y+" 0 1,0 ",N=n._empty()?"M0 0":"M"+(s.x-u)+","+s.y+w+u*2+",0 "+w+-u*2+",0 ";this._setPath(n,N)},_setPath:function(n,s){n._path.setAttribute("d",s)},_bringToFront:function(n){wr(n._path)},_bringToBack:function(n){Sr(n._path)}});Ne.vml&&ps.include(Xf);function Su(n){return Ne.svg||Ne.vml?new ps(n):null}Mt.include({getRenderer:function(n){var s=n.options.renderer||this._getPaneRenderer(n.options.pane)||this.options.renderer||this._renderer;return s||(s=this._renderer=this._createRenderer()),this.hasLayer(s)||this.addLayer(s),s},_getPaneRenderer:function(n){if(n==="overlayPane"||n===void 0)return!1;var s=this._paneRenderers[n];return s===void 0&&(s=this._createRenderer({pane:n}),this._paneRenderers[n]=s),s},_createRenderer:function(n){return this.options.preferCanvas&&wu(n)||Su(n)}});var _u=Ir.extend({initialize:function(n,s){Ir.prototype.initialize.call(this,this._boundsToLatLngs(n),s)},setBounds:function(n){return this.setLatLngs(this._boundsToLatLngs(n))},_boundsToLatLngs:function(n){return n=te(n),[n.getSouthWest(),n.getNorthWest(),n.getNorthEast(),n.getSouthEast()]}});function Yf(n,s){return new _u(n,s)}ps.create=mi,ps.pointsToPath=he,Po.geometryToLayer=ai,Po.coordsToLatLng=tl,Po.coordsToLatLngs=li,Po.latLngToCoords=nl,Po.latLngsToCoords=ci,Po.getFeature=Tr,Po.asFeature=ui,Mt.mergeOptions({boxZoom:!0});var Pu=ho.extend({initialize:function(n){this._map=n,this._container=n._container,this._pane=n._panes.overlayPane,this._resetStateTimeout=0,n.on("unload",this._destroy,this)},addHooks:function(){ut(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){jt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Qt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(n){if(!n.shiftKey||n.which!==1&&n.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),os(),za(),this._startPoint=this._map.mouseEventToContainerPoint(n),ut(document,{contextmenu:nr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(n){this._moved||(this._moved=!0,this._box=At("div","leaflet-zoom-box",this._container),ht(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(n);var s=new q(this._point,this._startPoint),u=s.getSize();cn(this._box,s.min),this._box.style.width=u.x+"px",this._box.style.height=u.y+"px"},_finish:function(){this._moved&&(Qt(this._box),sn(this._container,"leaflet-crosshair")),rs(),$a(),jt(document,{contextmenu:nr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(n){if(!(n.which!==1&&n.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(l(this._resetState,this),0);var s=new X(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(s).fire("boxzoomend",{boxZoomBounds:s})}},_onKeyDown:function(n){n.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Mt.addInitHook("addHandler","boxZoom",Pu),Mt.mergeOptions({doubleClickZoom:!0});var Iu=ho.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(n){var s=this._map,u=s.getZoom(),y=s.options.zoomDelta,w=n.originalEvent.shiftKey?u-y:u+y;s.options.doubleClickZoom==="center"?s.setZoom(w):s.setZoomAround(n.containerPoint,w)}});Mt.addInitHook("addHandler","doubleClickZoom",Iu),Mt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Tu=ho.extend({addHooks:function(){if(!this._draggable){var n=this._map;this._draggable=new Fo(n._mapPane,n._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),n.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),n.on("zoomend",this._onZoomEnd,this),n.whenReady(this._onZoomEnd,this))}ht(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){sn(this._map._container,"leaflet-grab"),sn(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var n=this._map;if(n._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var s=te(this._map.options.maxBounds);this._offsetLimit=ee(this._map.latLngToContainerPoint(s.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(s.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;n.fire("movestart").fire("dragstart"),n.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(n){if(this._map.options.inertia){var s=this._lastTime=+new Date,u=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(u),this._times.push(s),this._prunePositions(s)}this._map.fire("move",n).fire("drag",n)},_prunePositions:function(n){for(;this._positions.length>1&&n-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var n=this._map.getSize().divideBy(2),s=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=s.subtract(n).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(n,s){return n-(n-s)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var n=this._draggable._newPos.subtract(this._draggable._startPos),s=this._offsetLimit;n.x<s.min.x&&(n.x=this._viscousLimit(n.x,s.min.x)),n.y<s.min.y&&(n.y=this._viscousLimit(n.y,s.min.y)),n.x>s.max.x&&(n.x=this._viscousLimit(n.x,s.max.x)),n.y>s.max.y&&(n.y=this._viscousLimit(n.y,s.max.y)),this._draggable._newPos=this._draggable._startPos.add(n)}},_onPreDragWrap:function(){var n=this._worldWidth,s=Math.round(n/2),u=this._initialWorldOffset,y=this._draggable._newPos.x,w=(y-s+u)%n+s-u,N=(y+s+u)%n-s-u,K=Math.abs(w+u)<Math.abs(N+u)?w:N;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=K},_onDragEnd:function(n){var s=this._map,u=s.options,y=!u.inertia||n.noInertia||this._times.length<2;if(s.fire("dragend",n),y)s.fire("moveend");else{this._prunePositions(+new Date);var w=this._lastPos.subtract(this._positions[0]),N=(this._lastTime-this._times[0])/1e3,K=u.easeLinearity,oe=w.multiplyBy(K/N),ue=oe.distanceTo([0,0]),xe=Math.min(u.inertiaMaxSpeed,ue),je=oe.multiplyBy(xe/ue),nt=xe/(u.inertiaDeceleration*K),Ct=je.multiplyBy(-nt/2).round();!Ct.x&&!Ct.y?s.fire("moveend"):(Ct=s._limitOffset(Ct,s.options.maxBounds),O(function(){s.panBy(Ct,{duration:nt,easeLinearity:K,noMoveStart:!0,animate:!0})}))}}});Mt.addInitHook("addHandler","dragging",Tu),Mt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ku=ho.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(n){this._map=n,this._setPanDelta(n.options.keyboardPanDelta),this._setZoomDelta(n.options.zoomDelta)},addHooks:function(){var n=this._map._container;n.tabIndex<=0&&(n.tabIndex="0"),ut(n,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),jt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var n=document.body,s=document.documentElement,u=n.scrollTop||s.scrollTop,y=n.scrollLeft||s.scrollLeft;this._map._container.focus(),window.scrollTo(y,u)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(n){var s=this._panKeys={},u=this.keyCodes,y,w;for(y=0,w=u.left.length;y<w;y++)s[u.left[y]]=[-1*n,0];for(y=0,w=u.right.length;y<w;y++)s[u.right[y]]=[n,0];for(y=0,w=u.down.length;y<w;y++)s[u.down[y]]=[0,n];for(y=0,w=u.up.length;y<w;y++)s[u.up[y]]=[0,-1*n]},_setZoomDelta:function(n){var s=this._zoomKeys={},u=this.keyCodes,y,w;for(y=0,w=u.zoomIn.length;y<w;y++)s[u.zoomIn[y]]=n;for(y=0,w=u.zoomOut.length;y<w;y++)s[u.zoomOut[y]]=-n},_addHooks:function(){ut(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){jt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(n){if(!(n.altKey||n.ctrlKey||n.metaKey)){var s=n.keyCode,u=this._map,y;if(s in this._panKeys){if(!u._panAnim||!u._panAnim._inProgress)if(y=this._panKeys[s],n.shiftKey&&(y=Z(y).multiplyBy(3)),u.options.maxBounds&&(y=u._limitOffset(Z(y),u.options.maxBounds)),u.options.worldCopyJump){var w=u.wrapLatLng(u.unproject(u.project(u.getCenter()).add(y)));u.panTo(w)}else u.panBy(y)}else if(s in this._zoomKeys)u.setZoom(u.getZoom()+(n.shiftKey?3:1)*this._zoomKeys[s]);else if(s===27&&u._popup&&u._popup.options.closeOnEscapeKey)u.closePopup();else return;nr(n)}}});Mt.addInitHook("addHandler","keyboard",ku),Mt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Mu=ho.extend({addHooks:function(){ut(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){jt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(n){var s=Qc(n),u=this._map.options.wheelDebounceTime;this._delta+=s,this._lastMousePos=this._map.mouseEventToContainerPoint(n),this._startTime||(this._startTime=+new Date);var y=Math.max(u-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(l(this._performZoom,this),y),nr(n)},_performZoom:function(){var n=this._map,s=n.getZoom(),u=this._map.options.zoomSnap||0;n._stop();var y=this._delta/(this._map.options.wheelPxPerZoomLevel*4),w=4*Math.log(2/(1+Math.exp(-Math.abs(y))))/Math.LN2,N=u?Math.ceil(w/u)*u:w,K=n._limitZoom(s+(this._delta>0?N:-N))-s;this._delta=0,this._startTime=null,K&&(n.options.scrollWheelZoom==="center"?n.setZoom(s+K):n.setZoomAround(this._lastMousePos,s+K))}});Mt.addInitHook("addHandler","scrollWheelZoom",Mu);var Qf=600;Mt.mergeOptions({tapHold:Ne.touchNative&&Ne.safari&&Ne.mobile,tapTolerance:15});var Au=ho.extend({addHooks:function(){ut(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){jt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(n){if(clearTimeout(this._holdTimeout),n.touches.length===1){var s=n.touches[0];this._startPos=this._newPos=new R(s.clientX,s.clientY),this._holdTimeout=setTimeout(l(function(){this._cancel(),this._isTapValid()&&(ut(document,"touchend",Sn),ut(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",s))},this),Qf),ut(document,"touchend touchcancel contextmenu",this._cancel,this),ut(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function n(){jt(document,"touchend",Sn),jt(document,"touchend touchcancel",n)},_cancel:function(){clearTimeout(this._holdTimeout),jt(document,"touchend touchcancel contextmenu",this._cancel,this),jt(document,"touchmove",this._onMove,this)},_onMove:function(n){var s=n.touches[0];this._newPos=new R(s.clientX,s.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(n,s){var u=new MouseEvent(n,{bubbles:!0,cancelable:!0,view:window,screenX:s.screenX,screenY:s.screenY,clientX:s.clientX,clientY:s.clientY});u._simulated=!0,s.target.dispatchEvent(u)}});Mt.addInitHook("addHandler","tapHold",Au),Mt.mergeOptions({touchZoom:Ne.touch,bounceAtZoomLimits:!0});var Du=ho.extend({addHooks:function(){ht(this._map._container,"leaflet-touch-zoom"),ut(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){sn(this._map._container,"leaflet-touch-zoom"),jt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(n){var s=this._map;if(!(!n.touches||n.touches.length!==2||s._animatingZoom||this._zooming)){var u=s.mouseEventToContainerPoint(n.touches[0]),y=s.mouseEventToContainerPoint(n.touches[1]);this._centerPoint=s.getSize()._divideBy(2),this._startLatLng=s.containerPointToLatLng(this._centerPoint),s.options.touchZoom!=="center"&&(this._pinchStartLatLng=s.containerPointToLatLng(u.add(y)._divideBy(2))),this._startDist=u.distanceTo(y),this._startZoom=s.getZoom(),this._moved=!1,this._zooming=!0,s._stop(),ut(document,"touchmove",this._onTouchMove,this),ut(document,"touchend touchcancel",this._onTouchEnd,this),Sn(n)}},_onTouchMove:function(n){if(!(!n.touches||n.touches.length!==2||!this._zooming)){var s=this._map,u=s.mouseEventToContainerPoint(n.touches[0]),y=s.mouseEventToContainerPoint(n.touches[1]),w=u.distanceTo(y)/this._startDist;if(this._zoom=s.getScaleZoom(w,this._startZoom),!s.options.bounceAtZoomLimits&&(this._zoom<s.getMinZoom()&&w<1||this._zoom>s.getMaxZoom()&&w>1)&&(this._zoom=s._limitZoom(this._zoom)),s.options.touchZoom==="center"){if(this._center=this._startLatLng,w===1)return}else{var N=u._add(y)._divideBy(2)._subtract(this._centerPoint);if(w===1&&N.x===0&&N.y===0)return;this._center=s.unproject(s.project(this._pinchStartLatLng,this._zoom).subtract(N),this._zoom)}this._moved||(s._moveStart(!0,!1),this._moved=!0),H(this._animRequest);var K=l(s._move,s,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=O(K,this,!0),Sn(n)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,H(this._animRequest),jt(document,"touchmove",this._onTouchMove,this),jt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Mt.addInitHook("addHandler","touchZoom",Du),Mt.BoxZoom=Pu,Mt.DoubleClickZoom=Iu,Mt.Drag=Tu,Mt.Keyboard=ku,Mt.ScrollWheelZoom=Mu,Mt.TapHold=Au,Mt.TouchZoom=Du,o.Bounds=q,o.Browser=Ne,o.CRS=re,o.Canvas=Cu,o.Circle=el,o.CircleMarker=ii,o.Class=I,o.Control=to,o.DivIcon=yu,o.DivOverlay=mo,o.DomEvent=vf,o.DomUtil=ff,o.Draggable=Fo,o.Evented=V,o.FeatureGroup=So,o.GeoJSON=Po,o.GridLayer=us,o.Handler=ho,o.Icon=Pr,o.ImageOverlay=di,o.LatLng=Y,o.LatLngBounds=X,o.Layer=no,o.LayerGroup=_r,o.LineUtil=Af,o.Map=Mt,o.Marker=si,o.Mixin=_f,o.Path=Oo,o.Point=R,o.PolyUtil=Pf,o.Polygon=Ir,o.Polyline=_o,o.Popup=pi,o.PosAnimation=eu,o.Projection=Df,o.Rectangle=_u,o.Renderer=Io,o.SVG=ps,o.SVGOverlay=vu,o.TileLayer=kr,o.Tooltip=hi,o.Transformation=Ae,o.Util=B,o.VideoOverlay=gu,o.bind=l,o.bounds=ee,o.canvas=wu,o.circle=$f,o.circleMarker=zf,o.control=as,o.divIcon=Kf,o.extend=i,o.featureGroup=Ff,o.geoJSON=fu,o.geoJson=Hf,o.gridLayer=Jf,o.icon=Of,o.imageOverlay=Gf,o.latLng=ne,o.latLngBounds=te,o.layerGroup=Lf,o.map=yf,o.marker=Nf,o.point=Z,o.polygon=jf,o.polyline=Bf,o.popup=Zf,o.rectangle=Yf,o.setOptions=C,o.stamp=p,o.svg=Su,o.svgOverlay=Wf,o.tileLayer=bu,o.tooltip=Uf,o.transformation=Ce,o.version=r,o.videoOverlay=Vf;var eg=window.L;o.noConflict=function(){return window.L=eg,this},window.L=o})}(bs,bs.exports)),bs.exports}var Hs=G0();const Fl=Jp(Hs);function hc(e,t,o){return Object.freeze({instance:e,context:t,container:o})}function mc(e,t){return t==null?function(r,i){const a=c.useRef(void 0);return a.current||(a.current=e(r,i)),a}:function(r,i){const a=c.useRef(void 0);a.current||(a.current=e(r,i));const l=c.useRef(r),{instance:d}=a.current;return c.useEffect(function(){l.current!==r&&(t(d,r,l.current),l.current=r)},[d,r,t]),a}}function V0(e,t){c.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var a;(a=t.layerContainer)==null||a.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function bh(e){return function(o){const r=dc(),i=e(pc(o,r),r);return vh(r.map,o.attribution),yh(i.current,o.eventHandlers),V0(i.current,r),i}}function W0(e,t){const o=mc(e,t),r=bh(o);return z0(r)}function Z0(e,t){const o=mc(e),r=j0(o,t);return $0(r)}function U0(e,t){const o=mc(e,t),r=bh(o);return B0(r)}function K0(e,t,o){const{opacity:r,zIndex:i}=t;r!=null&&r!==o.opacity&&e.setOpacity(r),i!=null&&i!==o.zIndex&&e.setZIndex(i)}function fc(){return dc().map}function J0(e){const t=fc();return c.useEffect(function(){return t.on(e),function(){t.off(e)}},[t,e]),t}function q0({bounds:e,boundsOptions:t,center:o,children:r,className:i,id:a,placeholder:l,style:d,whenReady:p,zoom:g,...m},f){const[v]=c.useState({className:i,id:a,style:d}),[x,b]=c.useState(null),C=c.useRef(void 0);c.useImperativeHandle(f,()=>(x==null?void 0:x.map)??null,[x]);const S=c.useCallback(P=>{if(P!==null&&!C.current){const z=new Hs.Map(P,m);C.current=z,o!=null&&g!=null?z.setView(o,g):e!=null&&z.fitBounds(e,t),p!=null&&z.whenReady(p),b(O0(z))}},[]);c.useEffect(()=>()=>{x==null||x.map.remove()},[x]);const _=x?kn.createElement(uc,{value:x},r):l??null;return kn.createElement("div",{...v,ref:S},_)}const X0=c.forwardRef(q0),hd=W0(function({position:t,...o},r){const i=new Hs.Marker(t,o);return hc(i,N0(r,{overlayContainer:i}))},function(t,o,r){o.position!==r.position&&t.setLatLng(o.position),o.icon!=null&&o.icon!==r.icon&&t.setIcon(o.icon),o.zIndexOffset!=null&&o.zIndexOffset!==r.zIndexOffset&&t.setZIndexOffset(o.zIndexOffset),o.opacity!=null&&o.opacity!==r.opacity&&t.setOpacity(o.opacity),t.dragging!=null&&o.draggable!==r.draggable&&(o.draggable===!0?t.dragging.enable():t.dragging.disable())}),Y0=U0(function({url:t,...o},r){const i=new Hs.TileLayer(t,pc(o,r));return hc(i,r)},function(t,o,r){K0(t,o,r);const{url:i}=o;i!=null&&i!==r.url&&t.setUrl(i)}),md=Z0(function(t,o){const r=new Hs.Tooltip(t,o.overlayContainer);return hc(r,o)},function(t,o,{position:r},i){c.useEffect(function(){const l=o.overlayContainer;if(l==null)return;const{instance:d}=t,p=m=>{m.tooltip===d&&(r!=null&&d.setLatLng(r),d.update(),i(!0))},g=m=>{m.tooltip===d&&i(!1)};return l.on({tooltipopen:p,tooltipclose:g}),l.bindTooltip(d),function(){l.off({tooltipopen:p,tooltipclose:g}),l._map!=null&&l.unbindTooltip()}},[t,o,i,r])});function Q0(){const e=fc();return c.useEffect(()=>{const t=e.getContainer(),o=new ResizeObserver(()=>{e.invalidateSize({animate:!1})});return o.observe(t),()=>o.disconnect()},[e]),null}function ex({onMapDragStart:e,onMapDragEnd:t}){return J0({dragstart(){e()},dragend(){t()},click(){}}),null}function tx({selectedTask:e,selectedTasks:t,selectedResource:o,selectedResources:r,shouldZoom:i}){const a=fc(),l=kn.useRef("");return c.useEffect(()=>{if(!i)return;const d=t.length?t:e?[e]:[],p=r.length?r:o?[o]:[],g=[...d.filter(v=>v.lat&&v.lng),...p.filter(v=>v.homeLat&&v.homeLng)];if(!g.length)return;const m=g.map(v=>v.taskId?v.taskId:v.resourceId).join(",");if(m===l.current)return;if(l.current=m,g.length===1){const v=g[0];a.setView([Number(v.lat??v.homeLat),Number(v.lng??v.homeLng)],15,{animate:!1});return}const f=Fl.latLngBounds(g.map(v=>[Number(v.lat??v.homeLat),Number(v.lng??v.homeLng)]));a.fitBounds(f,{padding:[60,60],animate:!1})},[e,t,o,r,i,a]),null}function nx({tasks:e,resources:t,selectedTask:o,selectedTasks:r,selectedResource:i,selectedResources:a,shouldZoom:l,handleTaskMapClick:d,handleResourceMapClick:p,notifyMapDragStart:g,notifyMapDragEnd:m}){const f=Bt(),v=c.useMemo(()=>e.filter(S=>S.lat&&S.lng),[e]),x=c.useMemo(()=>t.filter(S=>S.homeLat&&S.homeLng),[t]),b=new Set(r.map(S=>S.taskId)),C=new Set(a.map(S=>S.resourceId));return h.jsx(Nt,{"data-map-root":"true",elevation:0,sx:{height:"100%",display:"flex",flexDirection:"column",borderRadius:3,px:3,py:2.5,border:`1px solid ${Se(f.palette.primary.main,.18)}`,boxShadow:"0 18px 46px rgba(8,58,97,0.18)",backgroundImage:"none"},children:h.jsx(Ue,{sx:{flex:1,borderRadius:2,overflow:"hidden",position:"relative"},children:h.jsxs(X0,{center:[51.713,-3.449],zoom:12,style:{width:"100%",height:"100%"},children:[h.jsx(Q0,{}),h.jsx(ex,{onMapDragStart:g,onMapDragEnd:m}),h.jsx(tx,{selectedTask:o,selectedTasks:r,selectedResource:i,selectedResources:a,shouldZoom:l}),h.jsx(Y0,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),v.map(S=>{const _=!!(b.has(S.taskId)||o&&o.taskId===S.taskId),P=Fl.divIcon({className:"custom-pin",iconSize:[36,50],iconAnchor:[18,46],html:mh(dh[S.commitmentType]??"#6B7280",_)});return h.jsx(hd,{position:[S.lat,S.lng],icon:P,eventHandlers:{click:z=>{var G,k;const F=((G=z.originalEvent)==null?void 0:G.ctrlKey)||((k=z.originalEvent)==null?void 0:k.metaKey)||!1;d(S,F)},mouseover:z=>{var G;const F=z.target;(G=F.closeTooltip)==null||G.call(F)},dblclick:z=>{var G;const F=z.target;(G=F.openTooltip)==null||G.call(F)}},children:h.jsx(md,{direction:"top",offset:[0,-36],permanent:!1,sticky:!1,opacity:1,className:"leaflet-tooltip-surface",children:h.jsxs(Ue,{sx:{fontSize:12,lineHeight:1.4,color:f.palette.text.primary},children:[h.jsx(Ue,{component:"span",sx:{fontWeight:700,display:"block"},children:S.taskId}),h.jsx(Ue,{component:"span",sx:{color:f.palette.text.secondary},children:S.customerAddress})]})})},S.taskId)}),x.map(S=>{const _=!!(C.has(S.resourceId)||i&&i.resourceId===S.resourceId),P=Fl.divIcon({className:"custom-pin",iconSize:[36,50],iconAnchor:[18,46],html:fh(S.status,_)});return h.jsx(hd,{position:[S.homeLat,S.homeLng],icon:P,eventHandlers:{click:z=>{var G,k;const F=((G=z.originalEvent)==null?void 0:G.ctrlKey)||((k=z.originalEvent)==null?void 0:k.metaKey)||!1;p(S,F)},mouseover:z=>{var G;const F=z.target;(G=F.closeTooltip)==null||G.call(F)},dblclick:z=>{var G;const F=z.target;(G=F.openTooltip)==null||G.call(F)}},children:h.jsx(md,{direction:"top",offset:[0,-36],permanent:!1,sticky:!1,opacity:1,className:"leaflet-tooltip-surface",children:h.jsxs(Ue,{sx:{fontSize:12,lineHeight:1.4,color:f.palette.text.primary},children:[h.jsx(Ue,{component:"span",sx:{fontWeight:700,display:"block"},children:S.name}),h.jsx(Ue,{component:"span",sx:{display:"block",color:f.palette.text.secondary},children:S.homePostCode}),h.jsxs(Ue,{component:"span",sx:{color:f.palette.text.secondary},children:["Status: ",S.status]})]})})},S.resourceId)})]})})})}let ox={data:""},rx=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||ox},sx=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,ix=/\/\*[^]*?\*\/|  +/g,fd=/\n+/g,Go=(e,t)=>{let o="",r="",i="";for(let a in e){let l=e[a];a[0]=="@"?a[1]=="i"?o=a+" "+l+";":r+=a[1]=="f"?Go(l,a):a+"{"+Go(l,a[1]=="k"?"":t)+"}":typeof l=="object"?r+=Go(l,t?t.replace(/([^,])+/g,d=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,p=>/&/.test(p)?p.replace(/&/g,d):d?d+" "+p:p)):a):l!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Go.p?Go.p(a,l):a+":"+l+";")}return o+(t&&i?t+"{"+i+"}":i)+r},To={},xh=e=>{if(typeof e=="object"){let t="";for(let o in e)t+=o+xh(e[o]);return t}return e},ax=(e,t,o,r,i)=>{let a=xh(e),l=To[a]||(To[a]=(p=>{let g=0,m=11;for(;g<p.length;)m=101*m+p.charCodeAt(g++)>>>0;return"go"+m})(a));if(!To[l]){let p=a!==e?e:(g=>{let m,f,v=[{}];for(;m=sx.exec(g.replace(ix,""));)m[4]?v.shift():m[3]?(f=m[3].replace(fd," ").trim(),v.unshift(v[0][f]=v[0][f]||{})):v[0][m[1]]=m[2].replace(fd," ").trim();return v[0]})(e);To[l]=Go(i?{["@keyframes "+l]:p}:p,o?"":"."+l)}let d=o&&To.g?To.g:null;return o&&(To.g=To[l]),((p,g,m,f)=>{f?g.data=g.data.replace(f,p):g.data.indexOf(p)===-1&&(g.data=m?p+g.data:g.data+p)})(To[l],t,r,d),l},lx=(e,t,o)=>e.reduce((r,i,a)=>{let l=t[a];if(l&&l.call){let d=l(o),p=d&&d.props&&d.props.className||/^go/.test(d)&&d;l=p?"."+p:d&&typeof d=="object"?d.props?"":Go(d,""):d===!1?"":d}return r+i+(l??"")},"");function pa(e){let t=this||{},o=e.call?e(t.p):e;return ax(o.unshift?o.raw?lx(o,[].slice.call(arguments,1),t.p):o.reduce((r,i)=>Object.assign(r,i&&i.call?i(t.p):i),{}):o,rx(t.target),t.g,t.o,t.k)}let Ch,Ol,Nl;pa.bind({g:1});let Ro=pa.bind({k:1});function cx(e,t,o,r){Go.p=t,Ch=e,Ol=o,Nl=r}function Jo(e,t){let o=this||{};return function(){let r=arguments;function i(a,l){let d=Object.assign({},a),p=d.className||i.className;o.p=Object.assign({theme:Ol&&Ol()},d),o.o=/ *go\d+/.test(p),d.className=pa.apply(o,r)+(p?" "+p:"");let g=e;return e[0]&&(g=d.as||e,delete d.as),Nl&&g[0]&&Nl(d),Ch(g,d)}return i}}var ux=e=>typeof e=="function",ji=(e,t)=>ux(e)?e(t):e,dx=(()=>{let e=0;return()=>(++e).toString()})(),wh=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),px=20,gc="default",Sh=(e,t)=>{let{toastLimit:o}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,o)};case 1:return{...e,toasts:e.toasts.map(l=>l.id===t.toast.id?{...l,...t.toast}:l)};case 2:let{toast:r}=t;return Sh(e,{type:e.toasts.find(l=>l.id===r.id)?1:0,toast:r});case 3:let{toastId:i}=t;return{...e,toasts:e.toasts.map(l=>l.id===i||i===void 0?{...l,dismissed:!0,visible:!1}:l)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(l=>l.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let a=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(l=>({...l,pauseDuration:l.pauseDuration+a}))}}},Ti=[],_h={toasts:[],pausedAt:void 0,settings:{toastLimit:px}},go={},Ph=(e,t=gc)=>{go[t]=Sh(go[t]||_h,e),Ti.forEach(([o,r])=>{o===t&&r(go[t])})},Ih=e=>Object.keys(go).forEach(t=>Ph(e,t)),hx=e=>Object.keys(go).find(t=>go[t].toasts.some(o=>o.id===e)),ha=(e=gc)=>t=>{Ph(t,e)},mx={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},fx=(e={},t=gc)=>{let[o,r]=c.useState(go[t]||_h),i=c.useRef(go[t]);c.useEffect(()=>(i.current!==go[t]&&r(go[t]),Ti.push([t,r]),()=>{let l=Ti.findIndex(([d])=>d===t);l>-1&&Ti.splice(l,1)}),[t]);let a=o.toasts.map(l=>{var d,p,g;return{...e,...e[l.type],...l,removeDelay:l.removeDelay||((d=e[l.type])==null?void 0:d.removeDelay)||(e==null?void 0:e.removeDelay),duration:l.duration||((p=e[l.type])==null?void 0:p.duration)||(e==null?void 0:e.duration)||mx[l.type],style:{...e.style,...(g=e[l.type])==null?void 0:g.style,...l.style}}});return{...o,toasts:a}},gx=(e,t="blank",o)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...o,id:(o==null?void 0:o.id)||dx()}),Gs=e=>(t,o)=>{let r=gx(t,e,o);return ha(r.toasterId||hx(r.id))({type:2,toast:r}),r.id},Dt=(e,t)=>Gs("blank")(e,t);Dt.error=Gs("error");Dt.success=Gs("success");Dt.loading=Gs("loading");Dt.custom=Gs("custom");Dt.dismiss=(e,t)=>{let o={type:3,toastId:e};t?ha(t)(o):Ih(o)};Dt.dismissAll=e=>Dt.dismiss(void 0,e);Dt.remove=(e,t)=>{let o={type:4,toastId:e};t?ha(t)(o):Ih(o)};Dt.removeAll=e=>Dt.remove(void 0,e);Dt.promise=(e,t,o)=>{let r=Dt.loading(t.loading,{...o,...o==null?void 0:o.loading});return typeof e=="function"&&(e=e()),e.then(i=>{let a=t.success?ji(t.success,i):void 0;return a?Dt.success(a,{id:r,...o,...o==null?void 0:o.success}):Dt.dismiss(r),i}).catch(i=>{let a=t.error?ji(t.error,i):void 0;a?Dt.error(a,{id:r,...o,...o==null?void 0:o.error}):Dt.dismiss(r)}),e};var vx=1e3,yx=(e,t="default")=>{let{toasts:o,pausedAt:r}=fx(e,t),i=c.useRef(new Map).current,a=c.useCallback((f,v=vx)=>{if(i.has(f))return;let x=setTimeout(()=>{i.delete(f),l({type:4,toastId:f})},v);i.set(f,x)},[]);c.useEffect(()=>{if(r)return;let f=Date.now(),v=o.map(x=>{if(x.duration===1/0)return;let b=(x.duration||0)+x.pauseDuration-(f-x.createdAt);if(b<0){x.visible&&Dt.dismiss(x.id);return}return setTimeout(()=>Dt.dismiss(x.id,t),b)});return()=>{v.forEach(x=>x&&clearTimeout(x))}},[o,r,t]);let l=c.useCallback(ha(t),[t]),d=c.useCallback(()=>{l({type:5,time:Date.now()})},[l]),p=c.useCallback((f,v)=>{l({type:1,toast:{id:f,height:v}})},[l]),g=c.useCallback(()=>{r&&l({type:6,time:Date.now()})},[r,l]),m=c.useCallback((f,v)=>{let{reverseOrder:x=!1,gutter:b=8,defaultPosition:C}=v||{},S=o.filter(z=>(z.position||C)===(f.position||C)&&z.height),_=S.findIndex(z=>z.id===f.id),P=S.filter((z,F)=>F<_&&z.visible).length;return S.filter(z=>z.visible).slice(...x?[P+1]:[0,P]).reduce((z,F)=>z+(F.height||0)+b,0)},[o]);return c.useEffect(()=>{o.forEach(f=>{if(f.dismissed)a(f.id,f.removeDelay);else{let v=i.get(f.id);v&&(clearTimeout(v),i.delete(f.id))}})},[o,a]),{toasts:o,handlers:{updateHeight:p,startPause:d,endPause:g,calculateOffset:m}}},bx=Ro`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,xx=Ro`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Cx=Ro`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,wx=Jo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${bx} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${xx} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Cx} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Sx=Ro`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,_x=Jo("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${Sx} 1s linear infinite;
`,Px=Ro`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Ix=Ro`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Tx=Jo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Px} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Ix} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,kx=Jo("div")`
  position: absolute;
`,Mx=Jo("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Ax=Ro`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Dx=Jo("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Ax} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Ex=({toast:e})=>{let{icon:t,type:o,iconTheme:r}=e;return t!==void 0?typeof t=="string"?c.createElement(Dx,null,t):t:o==="blank"?null:c.createElement(Mx,null,c.createElement(_x,{...r}),o!=="loading"&&c.createElement(kx,null,o==="error"?c.createElement(wx,{...r}):c.createElement(Tx,{...r})))},Rx=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Lx=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,Fx="0%{opacity:0;} 100%{opacity:1;}",Ox="0%{opacity:1;} 100%{opacity:0;}",Nx=Jo("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,zx=Jo("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,$x=(e,t)=>{let o=e.includes("top")?1:-1,[r,i]=wh()?[Fx,Ox]:[Rx(o),Lx(o)];return{animation:t?`${Ro(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ro(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Bx=c.memo(({toast:e,position:t,style:o,children:r})=>{let i=e.height?$x(e.position||t||"top-center",e.visible):{opacity:0},a=c.createElement(Ex,{toast:e}),l=c.createElement(zx,{...e.ariaProps},ji(e.message,e));return c.createElement(Nx,{className:e.className,style:{...i,...o,...e.style}},typeof r=="function"?r({icon:a,message:l}):c.createElement(c.Fragment,null,a,l))});cx(c.createElement);var jx=({id:e,className:t,style:o,onHeightUpdate:r,children:i})=>{let a=c.useCallback(l=>{if(l){let d=()=>{let p=l.getBoundingClientRect().height;r(e,p)};d(),new MutationObserver(d).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return c.createElement("div",{ref:a,className:t,style:o},i)},Hx=(e,t)=>{let o=e.includes("top"),r=o?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:wh()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(o?1:-1)}px)`,...r,...i}},Gx=pa`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,xi=16,Vx=({reverseOrder:e,position:t="top-center",toastOptions:o,gutter:r,children:i,toasterId:a,containerStyle:l,containerClassName:d})=>{let{toasts:p,handlers:g}=yx(o,a);return c.createElement("div",{"data-rht-toaster":a||"",style:{position:"fixed",zIndex:9999,top:xi,left:xi,right:xi,bottom:xi,pointerEvents:"none",...l},className:d,onMouseEnter:g.startPause,onMouseLeave:g.endPause},p.map(m=>{let f=m.position||t,v=g.calculateOffset(m,{reverseOrder:e,gutter:r,defaultPosition:t}),x=Hx(f,v);return c.createElement(jx,{id:m.id,key:m.id,onHeightUpdate:g.updateHeight,className:m.visible?Gx:"",style:x},m.type==="custom"?ji(m.message,m):i?i(m):c.createElement(Bx,{toast:m,position:f}))}))},xs=Dt;const Th=c.createContext(void 0);function gt(){const e=c.useContext(Th);if(e===void 0)throw new Error(["MUI: Could not find the data grid context.","It looks like you rendered your component outside of a DataGrid, DataGridPro or DataGridPremium parent component.","This can also happen if you are bundling multiple versions of the data grid."].join(`
`));return e}const Wx=()=>c.useRef({}),kh=c.createContext(void 0),Ge=()=>{const e=c.useContext(kh);if(!e)throw new Error("MUI: useGridRootProps should only be used inside the DataGrid, DataGridPro or DataGridPremium component.");return e};function Zx(e,t){return()=>null}function ar(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Mh(e){if(c.isValidElement(e)||!ar(e))return e;const t={};return Object.keys(e).forEach(o=>{t[o]=Mh(e[o])}),t}function Hi(e,t,o={clone:!0}){const r=o.clone?T({},e):e;return ar(e)&&ar(t)&&Object.keys(t).forEach(i=>{c.isValidElement(t[i])?r[i]=t[i]:ar(t[i])&&Object.prototype.hasOwnProperty.call(e,i)&&ar(e[i])?r[i]=Hi(e[i],t[i],o):o.clone?r[i]=ar(t[i])?Mh(t[i]):t[i]:r[i]=t[i]}),r}function Ux(e){let t="https://mui.com/production-error/?code="+e;for(let o=1;o<arguments.length;o+=1)t+="&args[]="+encodeURIComponent(arguments[o]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function bo(e){if(typeof e!="string")throw new Error(Ux(7));return e.charAt(0).toUpperCase()+e.slice(1)}function Ah(e,t=166){let o;function r(...i){const a=()=>{e.apply(this,i)};clearTimeout(o),o=setTimeout(a,t)}return r.clear=()=>{clearTimeout(o)},r}function Vs(e){return e&&e.ownerDocument||document}function Kx(e){return Vs(e).defaultView||window}function Jx(e,t){typeof e=="function"?e(t):e&&(e.current=t)}const bn=typeof window<"u"?c.useLayoutEffect:c.useEffect;let gd=0;function qx(e){const[t,o]=c.useState(e),r=t;return c.useEffect(()=>{t==null&&(gd+=1,o(`mui-${gd}`))},[t]),r}const vd=jp.useId;function Xt(e){return vd!==void 0?vd():qx(e)}function io(e){const t=c.useRef(e);return bn(()=>{t.current=e}),c.useRef((...o)=>(0,t.current)(...o)).current}function qo(...e){return c.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(o=>{Jx(o,t)})},e)}function bt(e,t,o=void 0){const r={};return Object.keys(e).forEach(i=>{r[i]=e[i].reduce((a,l)=>{if(l){const d=t(l);d!==""&&a.push(d),o&&o[l]&&a.push(o[l])}return a},[]).join(" ")}),r}const yd=e=>e,Xx=()=>{let e=yd;return{configure(t){e=t},generate(t){return e(t)},reset(){e=yd}}},Yx=Xx(),Qx={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Dh(e,t,o="Mui"){const r=Qx[t];return r?`${o}-${r}`:`${Yx.generate(e)}-${t}`}function Eh(e,t,o="Mui"){const r={};return t.forEach(i=>{r[i]=Dh(e,i,o)}),r}const Rh=c.createContext(void 0);function Xo(){const e=c.useContext(Rh);if(e===void 0)throw new Error(["MUI: Could not find the data grid private context.","It looks like you rendered your component outside of a DataGrid, DataGridPro or DataGridPremium parent component.","This can also happen if you are bundling multiple versions of the data grid."].join(`
`));return e}const bd={};function vc(e,t){const o=c.useRef(bd);return o.current===bd&&(o.current=e(t)),o}const eC=[];function Lh(e){c.useEffect(e,eC)}const Co=(e,t="warning")=>{let o=!1;const r=Array.isArray(e)?e.join(`
`):e;return()=>{o||(o=!0,t==="error"?console.error(r):console.warn(r))}},tC=Object.is;function Fh(e,t){if(e===t)return!0;if(!(e instanceof Object)||!(t instanceof Object))return!1;let o=0,r=0;for(const i in e)if(o+=1,!tC(e[i],t[i])||!(i in t))return!1;for(const i in t)r+=1;return o===r}Co(["MUI: `useGridSelector` has been called before the initialization of the state.","This hook can only be used inside the context of the grid."]);function nC(e){return e.acceptsApiRef}function xd(e,t){return nC(t)?t(e):t(e.current.state)}const oC=Object.is,yc=Fh,rC=()=>({state:null,equals:null,selector:null}),Oe=(e,t,o=oC)=>{const r=vc(rC),i=r.current.selector!==null,[a,l]=c.useState(i?null:xd(e,t));return r.current.state=a,r.current.equals=o,r.current.selector=t,Lh(()=>e.current.store.subscribe(()=>{const d=xd(e,r.current.selector);r.current.equals(r.current.state,d)||(r.current.state=d,l(d))})),a};function sC(e,t){return Tg(e,t)}const iC=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))},Cd=[];function wd(e){return Cd[0]=e,kg(Cd)}const aC=["values","unit","step"],lC=e=>{const t=Object.keys(e).map(o=>({key:o,val:e[o]}))||[];return t.sort((o,r)=>o.val-r.val),t.reduce((o,r)=>T({},o,{[r.key]:r.val}),{})};function cC(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:o="px",step:r=5}=e,i=$e(e,aC),a=lC(t),l=Object.keys(a);function d(v){return`@media (min-width:${typeof t[v]=="number"?t[v]:v}${o})`}function p(v){return`@media (max-width:${(typeof t[v]=="number"?t[v]:v)-r/100}${o})`}function g(v,x){const b=l.indexOf(x);return`@media (min-width:${typeof t[v]=="number"?t[v]:v}${o}) and (max-width:${(b!==-1&&typeof t[l[b]]=="number"?t[l[b]]:x)-r/100}${o})`}function m(v){return l.indexOf(v)+1<l.length?g(v,l[l.indexOf(v)+1]):d(v)}function f(v){const x=l.indexOf(v);return x===0?d(l[1]):x===l.length-1?p(l[x]):g(v,l[l.indexOf(v)+1]).replace("@media","@media not all and")}return T({keys:l,values:a,up:d,down:p,between:g,only:m,not:f,unit:o},i)}const uC={borderRadius:4};function Ts(e,t){return t?Hi(e,t,{clone:!1}):e}const bc={xs:0,sm:600,md:900,lg:1200,xl:1536},Sd={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${bc[e]}px)`};function Lo(e,t,o){const r=e.theme||{};if(Array.isArray(t)){const a=r.breakpoints||Sd;return t.reduce((l,d,p)=>(l[a.up(a.keys[p])]=o(t[p]),l),{})}if(typeof t=="object"){const a=r.breakpoints||Sd;return Object.keys(t).reduce((l,d)=>{if(Object.keys(a.values||bc).indexOf(d)!==-1){const p=a.up(d);l[p]=o(t[d],d)}else{const p=d;l[p]=t[p]}return l},{})}return o(t)}function dC(e={}){var t;return((t=e.keys)==null?void 0:t.reduce((r,i)=>{const a=e.up(i);return r[a]={},r},{}))||{}}function _d(e,t){return e.reduce((o,r)=>{const i=o[r];return(!i||Object.keys(i).length===0)&&delete o[r],o},t)}function ma(e,t,o=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&o){const r=`vars.${t}`.split(".").reduce((i,a)=>i&&i[a]?i[a]:null,e);if(r!=null)return r}return t.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,e)}function Gi(e,t,o,r=o){let i;return typeof e=="function"?i=e(o):Array.isArray(e)?i=e[o]||r:i=ma(e,o)||r,t&&(i=t(i,r,e)),i}function ln(e){const{prop:t,cssProperty:o=e.prop,themeKey:r,transform:i}=e,a=l=>{if(l[t]==null)return null;const d=l[t],p=l.theme,g=ma(p,r)||{};return Lo(l,d,f=>{let v=Gi(g,i,f);return f===v&&typeof f=="string"&&(v=Gi(g,i,`${t}${f==="default"?"":bo(f)}`,f)),o===!1?v:{[o]:v}})};return a.propTypes={},a.filterProps=[t],a}function pC(e){const t={};return o=>(t[o]===void 0&&(t[o]=e(o)),t[o])}const hC={m:"margin",p:"padding"},mC={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Pd={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},fC=pC(e=>{if(e.length>2)if(Pd[e])e=Pd[e];else return[e];const[t,o]=e.split(""),r=hC[t],i=mC[o]||"";return Array.isArray(i)?i.map(a=>r+a):[r+i]}),xc=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Cc=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...xc,...Cc];function Ws(e,t,o,r){var i;const a=(i=ma(e,t,!1))!=null?i:o;return typeof a=="number"?l=>typeof l=="string"?l:a*l:Array.isArray(a)?l=>typeof l=="string"?l:a[l]:typeof a=="function"?a:()=>{}}function Oh(e){return Ws(e,"spacing",8)}function Zs(e,t){if(typeof t=="string"||t==null)return t;const o=Math.abs(t),r=e(o);return t>=0?r:typeof r=="number"?-r:`-${r}`}function gC(e,t){return o=>e.reduce((r,i)=>(r[i]=Zs(t,o),r),{})}function vC(e,t,o,r){if(t.indexOf(o)===-1)return null;const i=fC(o),a=gC(i,r),l=e[o];return Lo(e,l,a)}function Nh(e,t){const o=Oh(e.theme);return Object.keys(e).map(r=>vC(e,t,r,o)).reduce(Ts,{})}function en(e){return Nh(e,xc)}en.propTypes={};en.filterProps=xc;function tn(e){return Nh(e,Cc)}tn.propTypes={};tn.filterProps=Cc;function yC(e=8){if(e.mui)return e;const t=Oh({spacing:e}),o=(...r)=>(r.length===0?[1]:r).map(a=>{const l=t(a);return typeof l=="number"?`${l}px`:l}).join(" ");return o.mui=!0,o}function fa(...e){const t=e.reduce((r,i)=>(i.filterProps.forEach(a=>{r[a]=i}),r),{}),o=r=>Object.keys(r).reduce((i,a)=>t[a]?Ts(i,t[a](r)):i,{});return o.propTypes={},o.filterProps=e.reduce((r,i)=>r.concat(i.filterProps),[]),o}function qn(e){return typeof e!="number"?e:`${e}px solid`}function Xn(e,t){return ln({prop:e,themeKey:"borders",transform:t})}const bC=Xn("border",qn),xC=Xn("borderTop",qn),CC=Xn("borderRight",qn),wC=Xn("borderBottom",qn),SC=Xn("borderLeft",qn),_C=Xn("borderColor"),PC=Xn("borderTopColor"),IC=Xn("borderRightColor"),TC=Xn("borderBottomColor"),kC=Xn("borderLeftColor"),MC=Xn("outline",qn),AC=Xn("outlineColor"),ga=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=Ws(e.theme,"shape.borderRadius",4),o=r=>({borderRadius:Zs(t,r)});return Lo(e,e.borderRadius,o)}return null};ga.propTypes={};ga.filterProps=["borderRadius"];fa(bC,xC,CC,wC,SC,_C,PC,IC,TC,kC,ga,MC,AC);const va=e=>{if(e.gap!==void 0&&e.gap!==null){const t=Ws(e.theme,"spacing",8),o=r=>({gap:Zs(t,r)});return Lo(e,e.gap,o)}return null};va.propTypes={};va.filterProps=["gap"];const ya=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=Ws(e.theme,"spacing",8),o=r=>({columnGap:Zs(t,r)});return Lo(e,e.columnGap,o)}return null};ya.propTypes={};ya.filterProps=["columnGap"];const ba=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=Ws(e.theme,"spacing",8),o=r=>({rowGap:Zs(t,r)});return Lo(e,e.rowGap,o)}return null};ba.propTypes={};ba.filterProps=["rowGap"];const DC=ln({prop:"gridColumn"}),EC=ln({prop:"gridRow"}),RC=ln({prop:"gridAutoFlow"}),LC=ln({prop:"gridAutoColumns"}),FC=ln({prop:"gridAutoRows"}),OC=ln({prop:"gridTemplateColumns"}),NC=ln({prop:"gridTemplateRows"}),zC=ln({prop:"gridTemplateAreas"}),$C=ln({prop:"gridArea"});fa(va,ya,ba,DC,EC,RC,LC,FC,OC,NC,zC,$C);function Zr(e,t){return t==="grey"?t:e}const BC=ln({prop:"color",themeKey:"palette",transform:Zr}),jC=ln({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Zr}),HC=ln({prop:"backgroundColor",themeKey:"palette",transform:Zr});fa(BC,jC,HC);function Hn(e){return e<=1&&e!==0?`${e*100}%`:e}const GC=ln({prop:"width",transform:Hn}),wc=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=o=>{var r,i;const a=((r=e.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[o])||bc[o];return a?((i=e.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${a}${e.theme.breakpoints.unit}`}:{maxWidth:a}:{maxWidth:Hn(o)}};return Lo(e,e.maxWidth,t)}return null};wc.filterProps=["maxWidth"];const VC=ln({prop:"minWidth",transform:Hn}),WC=ln({prop:"height",transform:Hn}),ZC=ln({prop:"maxHeight",transform:Hn}),UC=ln({prop:"minHeight",transform:Hn});ln({prop:"size",cssProperty:"width",transform:Hn});ln({prop:"size",cssProperty:"height",transform:Hn});const KC=ln({prop:"boxSizing"});fa(GC,wc,VC,WC,ZC,UC,KC);const zh={border:{themeKey:"borders",transform:qn},borderTop:{themeKey:"borders",transform:qn},borderRight:{themeKey:"borders",transform:qn},borderBottom:{themeKey:"borders",transform:qn},borderLeft:{themeKey:"borders",transform:qn},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:qn},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:ga},color:{themeKey:"palette",transform:Zr},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Zr},backgroundColor:{themeKey:"palette",transform:Zr},p:{style:tn},pt:{style:tn},pr:{style:tn},pb:{style:tn},pl:{style:tn},px:{style:tn},py:{style:tn},padding:{style:tn},paddingTop:{style:tn},paddingRight:{style:tn},paddingBottom:{style:tn},paddingLeft:{style:tn},paddingX:{style:tn},paddingY:{style:tn},paddingInline:{style:tn},paddingInlineStart:{style:tn},paddingInlineEnd:{style:tn},paddingBlock:{style:tn},paddingBlockStart:{style:tn},paddingBlockEnd:{style:tn},m:{style:en},mt:{style:en},mr:{style:en},mb:{style:en},ml:{style:en},mx:{style:en},my:{style:en},margin:{style:en},marginTop:{style:en},marginRight:{style:en},marginBottom:{style:en},marginLeft:{style:en},marginX:{style:en},marginY:{style:en},marginInline:{style:en},marginInlineStart:{style:en},marginInlineEnd:{style:en},marginBlock:{style:en},marginBlockStart:{style:en},marginBlockEnd:{style:en},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:va},rowGap:{style:ba},columnGap:{style:ya},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Hn},maxWidth:{style:wc},minWidth:{transform:Hn},height:{transform:Hn},maxHeight:{transform:Hn},minHeight:{transform:Hn},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function JC(...e){const t=e.reduce((r,i)=>r.concat(Object.keys(i)),[]),o=new Set(t);return e.every(r=>o.size===Object.keys(r).length)}function qC(e,t){return typeof e=="function"?e(t):e}function XC(){function e(o,r,i,a){const l={[o]:r,theme:i},d=a[o];if(!d)return{[o]:r};const{cssProperty:p=o,themeKey:g,transform:m,style:f}=d;if(r==null)return null;if(g==="typography"&&r==="inherit")return{[o]:r};const v=ma(i,g)||{};return f?f(l):Lo(l,r,b=>{let C=Gi(v,m,b);return b===C&&typeof b=="string"&&(C=Gi(v,m,`${o}${b==="default"?"":bo(b)}`,b)),p===!1?C:{[p]:C}})}function t(o){var r;const{sx:i,theme:a={},nested:l}=o||{};if(!i)return null;const d=(r=a.unstable_sxConfig)!=null?r:zh;function p(g){let m=g;if(typeof g=="function")m=g(a);else if(typeof g!="object")return g;if(!m)return null;const f=dC(a.breakpoints),v=Object.keys(f);let x=f;return Object.keys(m).forEach(b=>{const C=qC(m[b],a);if(C!=null)if(typeof C=="object")if(d[b])x=Ts(x,e(b,C,a,d));else{const S=Lo({theme:a},C,_=>({[b]:_}));JC(S,C)?x[b]=t({sx:C,theme:a,nested:!0}):x=Ts(x,S)}else x=Ts(x,e(b,C,a,d))}),!l&&a.modularCssLayers?{"@layer sx":_d(v,x)}:_d(v,x)}return Array.isArray(i)?i.map(p):p(i)}return t}const Sc=XC();Sc.filterProps=["sx"];function YC(e,t){const o=this;return o.vars&&typeof o.getColorSchemeSelector=="function"?{[o.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)")]:t}:o.palette.mode===e?t:{}}const QC=["breakpoints","palette","spacing","shape"];function ew(e={},...t){const{breakpoints:o={},palette:r={},spacing:i,shape:a={}}=e,l=$e(e,QC),d=cC(o),p=yC(i);let g=Hi({breakpoints:d,direction:"ltr",components:{},palette:T({mode:"light"},r),spacing:p,shape:T({},uC,a)},l);return g.applyStyles=YC,g=t.reduce((m,f)=>Hi(m,f),g),g.unstable_sxConfig=T({},zh,l==null?void 0:l.unstable_sxConfig),g.unstable_sx=function(f){return Sc({sx:f,theme:this})},g}const tw=["ownerState"],nw=["variants"],ow=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function rw(e){return Object.keys(e).length===0}function sw(e){return typeof e=="string"&&e.charCodeAt(0)>96}function gl(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}function Id(e,t){return t&&e&&typeof e=="object"&&e.styles&&!e.styles.startsWith("@layer")&&(e.styles=`@layer ${t}{${String(e.styles)}}`),e}const iw=ew(),aw=e=>e&&e.charAt(0).toLowerCase()+e.slice(1);function Ci({defaultTheme:e,theme:t,themeId:o}){return rw(t)?e:t[o]||t}function lw(e){return e?(t,o)=>o[e]:null}function ki(e,t,o){let{ownerState:r}=t,i=$e(t,tw);const a=typeof e=="function"?e(T({ownerState:r},i)):e;if(Array.isArray(a))return a.flatMap(l=>ki(l,T({ownerState:r},i),o));if(a&&typeof a=="object"&&Array.isArray(a.variants)){const{variants:l=[]}=a;let p=$e(a,nw);return l.forEach(g=>{let m=!0;if(typeof g.props=="function"?m=g.props(T({ownerState:r},i,r)):Object.keys(g.props).forEach(f=>{(r==null?void 0:r[f])!==g.props[f]&&i[f]!==g.props[f]&&(m=!1)}),m){Array.isArray(p)||(p=[p]);const f=typeof g.style=="function"?g.style(T({ownerState:r},i,r)):g.style;p.push(o?Id(wd(f),o):f)}}),p}return o?Id(wd(a),o):a}function cw(e={}){const{themeId:t,defaultTheme:o=iw,rootShouldForwardProp:r=gl,slotShouldForwardProp:i=gl}=e,a=l=>Sc(T({},l,{theme:Ci(T({},l,{defaultTheme:o,themeId:t}))}));return a.__mui_systemSx=!0,(l,d={})=>{iC(l,k=>k.filter(M=>!(M!=null&&M.__mui_systemSx)));const{name:p,slot:g,skipVariantsResolver:m,skipSx:f,overridesResolver:v=lw(aw(g))}=d,x=$e(d,ow),b=p&&p.startsWith("Mui")||g?"components":"custom",C=m!==void 0?m:g&&g!=="Root"&&g!=="root"||!1,S=f||!1;let _,P=gl;g==="Root"||g==="root"?P=r:g?P=i:sw(l)&&(P=void 0);const z=sC(l,T({shouldForwardProp:P,label:_},x)),F=k=>typeof k=="function"&&k.__emotion_real!==k||ar(k)?M=>{const E=Ci({theme:M.theme,defaultTheme:o,themeId:t});return ki(k,T({},M,{theme:E}),E.modularCssLayers?b:void 0)}:k,G=(k,...M)=>{let E=F(k);const $=M?M.map(F):[];p&&v&&$.push(H=>{const B=Ci(T({},H,{defaultTheme:o,themeId:t}));if(!B.components||!B.components[p]||!B.components[p].styleOverrides)return null;const I=B.components[p].styleOverrides,A={};return Object.entries(I).forEach(([j,V])=>{A[j]=ki(V,T({},H,{theme:B}),B.modularCssLayers?"theme":void 0)}),v(H,A)}),p&&!C&&$.push(H=>{var B;const I=Ci(T({},H,{defaultTheme:o,themeId:t})),A=I==null||(B=I.components)==null||(B=B[p])==null?void 0:B.variants;return ki({variants:A},T({},H,{theme:I}),I.modularCssLayers?"theme":void 0)}),S||$.push(a);const D=$.length-M.length;if(Array.isArray(k)&&D>0){const H=new Array(D).fill("");E=[...k,...H],E.raw=[...k.raw,...H]}const O=z(E,...$);return l.muiName&&(O.muiName=l.muiName),O};return z.withConfig&&(G.withConfig=z.withConfig),G}}const xn=cw();function Ds(e){"@babel/helpers - typeof";return Ds=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ds(e)}function uw(e,t){if(Ds(e)!="object"||!e)return e;var o=e[Symbol.toPrimitive];if(o!==void 0){var r=o.call(e,t);if(Ds(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Es(e){var t=uw(e,"string");return Ds(t)=="symbol"?t:t+""}function xt(e){return Dh("MuiDataGrid",e)}const J=Eh("MuiDataGrid",["actionsCell","aggregationColumnHeader","aggregationColumnHeader--alignLeft","aggregationColumnHeader--alignCenter","aggregationColumnHeader--alignRight","aggregationColumnHeaderLabel","autoHeight","autosizing","booleanCell","cell--editable","cell--editing","cell--textCenter","cell--textLeft","cell--textRight","cell--withRenderer","cell--rangeTop","cell--rangeBottom","cell--rangeLeft","cell--rangeRight","cell--selectionMode","cell","cellContent","cellCheckbox","cellSkeleton","checkboxInput","columnHeader--alignCenter","columnHeader--alignLeft","columnHeader--alignRight","columnHeader--dragging","columnHeader--moving","columnHeader--numeric","columnHeader--sortable","columnHeader--sorted","columnHeader--filtered","columnHeader","columnHeaderCheckbox","columnHeaderDraggableContainer","columnHeaderDropZone","columnHeaderTitle","columnHeaderTitleContainer","columnHeaderTitleContainerContent","columnGroupHeader","columnHeader--filledGroup","columnHeader--emptyGroup","columnHeader--showColumnBorder","columnHeaders","columnHeadersInner","columnHeadersInner--scrollable","columnSeparator--resizable","columnSeparator--resizing","columnSeparator--sideLeft","columnSeparator--sideRight","columnSeparator","columnsPanel","columnsPanelRow","detailPanel","detailPanels","detailPanelToggleCell","detailPanelToggleCell--expanded","footerCell","panel","panelHeader","panelWrapper","panelContent","panelFooter","paper","editBooleanCell","editInputCell","filterForm","filterFormDeleteIcon","filterFormLogicOperatorInput","filterFormColumnInput","filterFormOperatorInput","filterFormValueInput","filterIcon","footerContainer","headerFilterRow","iconButtonContainer","iconSeparator","main","menu","menuIcon","menuIconButton","menuOpen","menuList","overlay","overlayWrapper","overlayWrapperInner","root","root--densityStandard","root--densityComfortable","root--densityCompact","root--disableUserSelection","row","row--editable","row--editing","row--lastVisible","row--dragging","row--dynamicHeight","row--detailPanelExpanded","rowReorderCellPlaceholder","rowCount","rowReorderCellContainer","rowReorderCell","rowReorderCell--draggable","scrollArea--left","scrollArea--right","scrollArea","selectedRowCount","sortIcon","toolbarContainer","toolbarFilterList","virtualScroller","virtualScrollerContent","virtualScrollerContent--overflowed","virtualScrollerRenderZone","pinnedColumns","pinnedColumns--left","pinnedColumns--right","pinnedColumnHeaders","pinnedColumnHeaders--left","pinnedColumnHeaders--right","withBorderColor","cell--withRightBorder","columnHeader--withRightBorder","treeDataGroupingCell","treeDataGroupingCellToggle","groupingCriteriaCell","groupingCriteriaCellToggle","pinnedRows","pinnedRows--top","pinnedRows--bottom","pinnedRowsRenderZone"]);var Vi="NOT_FOUND";function dw(e){var t;return{get:function(r){return t&&e(t.key,r)?t.value:Vi},put:function(r,i){t={key:r,value:i}},getEntries:function(){return t?[t]:[]},clear:function(){t=void 0}}}function pw(e,t){var o=[];function r(d){var p=o.findIndex(function(m){return t(d,m.key)});if(p>-1){var g=o[p];return p>0&&(o.splice(p,1),o.unshift(g)),g.value}return Vi}function i(d,p){r(d)===Vi&&(o.unshift({key:d,value:p}),o.length>e&&o.pop())}function a(){return o}function l(){o=[]}return{get:r,put:i,getEntries:a,clear:l}}var hw=function(t,o){return t===o};function mw(e){return function(o,r){if(o===null||r===null||o.length!==r.length)return!1;for(var i=o.length,a=0;a<i;a++)if(!e(o[a],r[a]))return!1;return!0}}function xa(e,t){var o=typeof t=="object"?t:{equalityCheck:t},r=o.equalityCheck,i=r===void 0?hw:r,a=o.maxSize,l=a===void 0?1:a,d=o.resultEqualityCheck,p=mw(i),g=l===1?dw(p):pw(l,p);function m(){var f=g.get(arguments);if(f===Vi){if(f=e.apply(null,arguments),d){var v=g.getEntries(),x=v.find(function(b){return d(b.value,f)});x&&(f=x.value)}g.put(arguments,f)}return f}return m.clearCache=function(){return g.clear()},m}function fw(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(r){return typeof r=="function"})){var o=t.map(function(r){return typeof r=="function"?"function "+(r.name||"unnamed")+"()":typeof r}).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+o+"]")}return t}function gw(e){for(var t=arguments.length,o=new Array(t>1?t-1:0),r=1;r<t;r++)o[r-1]=arguments[r];var i=function(){for(var l=arguments.length,d=new Array(l),p=0;p<l;p++)d[p]=arguments[p];var g=0,m,f={memoizeOptions:void 0},v=d.pop();if(typeof v=="object"&&(f=v,v=d.pop()),typeof v!="function")throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof v+"]");var x=f,b=x.memoizeOptions,C=b===void 0?o:b,S=Array.isArray(C)?C:[C],_=fw(d),P=e.apply(void 0,[function(){return g++,v.apply(null,arguments)}].concat(S)),z=e(function(){for(var G=[],k=_.length,M=0;M<k;M++)G.push(_[M].apply(null,arguments));return m=P.apply(null,G),m});return Object.assign(z,{resultFunc:v,memoizedResultFunc:P,dependencies:_,lastResult:function(){return m},recomputations:function(){return g},resetRecomputations:function(){return g=0}}),z};return i}var vw=gw(xa);const yw={cache:new WeakMap};Co(["MUI: A selector was called without passing the instance ID, which may impact the performance of the grid.","To fix, call it with `apiRef`, e.g. `mySelector(apiRef)`, or pass the instance ID explicitly, e.g. `mySelector(state, apiRef.current.instanceId)`."]);function Nr(e){return"current"in e&&"instanceId"in e.current}const zr={id:"default"},ct=(e,t,o,r,i,a,...l)=>{if(l.length>0)throw new Error("Unsupported number of selectors");let d;if(e&&t&&o&&r&&i&&a)d=(p,g)=>{const m=Nr(p),f=g??(m?p.current.instanceId:zr),v=m?p.current.state:p,x=e(v,f),b=t(v,f),C=o(v,f),S=r(v,f),_=i(v,f);return a(x,b,C,S,_)};else if(e&&t&&o&&r&&i)d=(p,g)=>{const m=Nr(p),f=g??(m?p.current.instanceId:zr),v=m?p.current.state:p,x=e(v,f),b=t(v,f),C=o(v,f),S=r(v,f);return i(x,b,C,S)};else if(e&&t&&o&&r)d=(p,g)=>{const m=Nr(p),f=g??(m?p.current.instanceId:zr),v=m?p.current.state:p,x=e(v,f),b=t(v,f),C=o(v,f);return r(x,b,C)};else if(e&&t&&o)d=(p,g)=>{const m=Nr(p),f=g??(m?p.current.instanceId:zr),v=m?p.current.state:p,x=e(v,f),b=t(v,f);return o(x,b)};else if(e&&t)d=(p,g)=>{const m=Nr(p),f=g??(m?p.current.instanceId:zr),v=m?p.current.state:p,x=e(v,f);return t(x)};else throw new Error("Missing arguments");return d.acceptsApiRef=!0,d},Kt=(...e)=>{const t=(...o)=>{var r,i;const[a,l]=o,d=Nr(a),p=d?a.current.instanceId:l??zr,g=d?a.current.state:a,{cache:m}=yw;if(m.get(p)&&(r=m.get(p))!=null&&r.get(e)){var f;return(f=m.get(p))==null?void 0:f.get(e)(g,p)}const v=vw(...e);return m.get(p)||m.set(p,new Map),(i=m.get(p))==null||i.set(e,v),v(g,p)};return t.acceptsApiRef=!0,t},dr=e=>e.columns,Eo=ct(dr,e=>e.orderedFields),xr=ct(dr,e=>e.lookup),vo=Kt(Eo,xr,(e,t)=>e.map(o=>t[o])),so=ct(dr,e=>e.columnVisibilityModel),_n=Kt(vo,so,(e,t)=>e.filter(o=>t[o.field]!==!1)),Ca=Kt(_n,e=>e.map(t=>t.field)),Jr=Kt(_n,e=>{const t=[];let o=0;for(let r=0;r<e.length;r+=1)t.push(o),o+=e[r].computedWidth;return t}),_c=ct(_n,Jr,(e,t)=>{const o=e.length;return o===0?0:t[o-1]+e[o-1].computedWidth}),$h=Kt(vo,e=>e.filter(t=>t.filterable)),bw=Kt(vo,e=>e.reduce((t,o)=>(o.filterable&&(t[o.field]=o),t),{})),wa=e=>e.columnGrouping,xw=Kt(wa,e=>{var t;return(t=e==null?void 0:e.unwrappedGroupingModel)!=null?t:{}}),Bh=Kt(wa,e=>{var t;return(t=e==null?void 0:e.lookup)!=null?t:{}}),Cw=Kt(wa,e=>{var t;return(t=e==null?void 0:e.headerStructure)!=null?t:[]}),Us=ct(wa,e=>{var t;return(t=e==null?void 0:e.maxDepth)!=null?t:0}),uo=e=>e.rows,Sa=ct(uo,e=>e.totalRowCount),ww=ct(uo,e=>e.loading),Sw=ct(uo,e=>e.totalTopLevelRowCount),Do=ct(uo,e=>e.dataRowIdToModelLookup),Wi=ct(uo,e=>e.dataRowIdToIdLookup),ro=ct(uo,e=>e.tree),_w=ct(uo,e=>e.groupingName),Td=ct(uo,e=>e.treeDepths),_a=Kt(uo,e=>{const t=Object.entries(e.treeDepths);return t.length===0?1:t.filter(([,o])=>o>0).map(([o])=>Number(o)).sort((o,r)=>r-o)[0]+1}),Cs=ct(uo,e=>e.dataRowIds),Pw=ct(uo,e=>e==null?void 0:e.additionalRowGroups),Qr=Kt(Pw,e=>{var t,o;const r=e==null?void 0:e.pinnedRows;return{bottom:r==null||(t=r.bottom)==null?void 0:t.map(i=>{var a;return{id:i.id,model:(a=i.model)!=null?a:{}}}),top:r==null||(o=r.top)==null?void 0:o.map(i=>{var a;return{id:i.id,model:(a=i.model)!=null?a:{}}})}}),Iw=ct(Qr,e=>{var t,o;return((e==null||(t=e.top)==null?void 0:t.length)||0)+((e==null||(o=e.bottom)==null?void 0:o.length)||0)}),jh=()=>{var e;const t=Xo(),o=Ge(),r=Oe(t,_n),i=Oe(t,Sa),a=Oe(t,Us),l=Oe(t,Iw);let d="grid";return(e=o.experimentalFeatures)!=null&&e.ariaV7&&o.treeData&&(d="treegrid"),{role:d,"aria-colcount":r.length,"aria-rowcount":a+1+l+i,"aria-multiselectable":!o.disableMultipleRowSelection}},Tw=e=>{const{classes:t}=e;return bt({root:["main"]},xt,t)},kw=xn("div",{name:"MuiDataGrid",slot:"Main",overridesResolver:(e,t)=>t.main})(()=>({position:"relative",flexGrow:1,display:"flex",flexDirection:"column",overflow:"hidden"})),Mw=c.forwardRef((e,t)=>{var o;const r=Ge(),i=Tw(r),a=(o=r.experimentalFeatures)!=null&&o.ariaV7?jh:null,l=typeof a=="function"?a():null;return h.jsx(kw,T({ref:t,className:i.root,ownerState:r},l,{children:e.children}))}),Hh=e=>e.sorting,Pc=ct(Hh,e=>e.sortedRows),Ic=Kt(Pc,Do,(e,t)=>e.map(o=>{var r;return{id:o,model:(r=t[o])!=null?r:{}}})),Un=ct(Hh,e=>e.sortModel),Aw=Kt(Un,e=>e.reduce((o,r,i)=>(o[r.field]={sortDirection:r.sort,sortIndex:e.length>1?i+1:void 0},o),{})),Tc=e=>e.filter,vn=ct(Tc,e=>e.filterModel);ct(vn,e=>e.quickFilterValues);const Dw=e=>e.visibleRowsLookup,Gh=ct(Tc,e=>e.filteredRowsLookup);ct(Tc,e=>e.filteredDescendantCountLookup);const Yo=Kt(Dw,Ic,(e,t)=>t.filter(o=>e[o.id]!==!1)),ks=Kt(Yo,e=>e.map(t=>t.id)),Ew=Kt(Gh,Ic,(e,t)=>t.filter(o=>e[o.id]!==!1)),Rw=Kt(Ew,e=>e.map(t=>t.id)),Vh=Kt(Yo,ro,_a,(e,t,o)=>o<2?e:e.filter(r=>{var i;return((i=t[r.id])==null?void 0:i.depth)===0})),Wh=ct(Yo,e=>e.length),Zh=ct(Vh,e=>e.length),Uh=Kt(vn,xr,(e,t)=>{var o;return(o=e.items)==null?void 0:o.filter(r=>{var i,a;if(!r.field)return!1;const l=t[r.field];if(!(l!=null&&l.filterOperators)||(l==null||(i=l.filterOperators)==null?void 0:i.length)===0)return!1;const d=l.filterOperators.find(p=>p.value===r.operator);return d?!d.InputComponent||r.value!=null&&((a=r.value)==null?void 0:a.toString())!=="":!1})}),Lw=Kt(Uh,e=>e.reduce((o,r)=>(o[r.field]?o[r.field].push(r):o[r.field]=[r],o),{})),Pa=e=>e.focus,$n=ct(Pa,e=>e.cell),Fw=ct(Pa,e=>e.columnHeader);ct(Pa,e=>e.columnHeaderFilter);const Zi=ct(Pa,e=>e.columnGroupHeader),Ia=e=>e.tabIndex,Ui=ct(Ia,e=>e.cell),Kh=ct(Ia,e=>e.columnHeader);ct(Ia,e=>e.columnHeaderFilter);const Ow=ct(Ia,e=>e.columnGroupHeader),kc=e=>e.density,Jh=ct(kc,e=>e.value),es=ct(kc,e=>e.factor),zl=e=>e.columnMenu;function Nw(e){const{VirtualScrollerComponent:t,ColumnHeadersProps:o,children:r}=e,i=Xo(),a=Ge(),l=c.useRef(null),d=Oe(i,_n),p=Oe(i,Lw),g=Oe(i,Aw),m=Oe(i,Jr),f=Oe(i,Kh),v=Oe(i,Ui),x=Oe(i,Ow),b=Oe(i,Fw),C=Oe(i,Zi),S=Oe(i,es),_=Oe(i,Us),P=Oe(i,zl),z=Oe(i,so),F=Oe(i,Cw),G=!(x===null&&f===null&&v===null);bn(()=>{i.current.computeSizeAndPublishResizeEvent();const D=l.current;if(typeof ResizeObserver>"u")return()=>{};let O;const H=new ResizeObserver(()=>{O=requestAnimationFrame(()=>{i.current.computeSizeAndPublishResizeEvent()})});return D&&H.observe(D),()=>{O&&window.cancelAnimationFrame(O),D&&H.unobserve(D)}},[i]);const k=c.useRef(null),M=c.useRef(null),E=c.useRef(null);i.current.register("private",{columnHeadersContainerElementRef:M,columnHeadersElementRef:k,virtualScrollerRef:E,mainElementRef:l});const $=!!i.current.getRootDimensions();return h.jsxs(Mw,{ref:l,children:[h.jsx(a.slots.columnHeaders,T({ref:M,innerRef:k,visibleColumns:d,filterColumnLookup:p,sortColumnLookup:g,columnPositions:m,columnHeaderTabIndexState:f,columnGroupHeaderTabIndexState:x,columnHeaderFocus:b,columnGroupHeaderFocus:C,densityFactor:S,headerGroupingMaxDepth:_,columnMenuState:P,columnVisibility:z,columnGroupsHeaderStructure:F,hasOtherElementInTabSequence:G},o)),$&&h.jsx(t,{ref:E}),r]})}function zw(){var e;const t=Ge();return t.hideFooter?null:h.jsx(t.slots.footer,T({},(e=t.slotProps)==null?void 0:e.footer))}const Dn="auto-generated-group-node-root",Ur=Symbol("mui.id_autogenerated"),$w=()=>({type:"group",id:Dn,depth:-1,groupingField:null,groupingKey:null,isAutoGenerated:!0,children:[],childrenFromPath:{},childrenExpanded:!0,parent:null});function Bw(e,t,o="A row was provided without id in the rows prop:"){if(e==null)throw new Error(["MUI: The data grid component requires all rows to have a unique `id` property.","Alternatively, you can use the `getRowId` prop to specify a custom id for each row.",o,JSON.stringify(t)].join(`
`))}const Ki=(e,t,o)=>{const r=t?t(e):e.id;return Bw(r,e,o),r},Mi=({rows:e,getRowId:t,loading:o,rowCount:r})=>{const i={type:"full",rows:[]},a={},l={};for(let d=0;d<e.length;d+=1){const p=e[d],g=Ki(p,t);a[g]=p,l[g]=g,i.rows.push(g)}return{rowsBeforePartialUpdates:e,loadingPropBeforePartialUpdates:o,rowCountPropBeforePartialUpdates:r,updates:i,dataRowIdToIdLookup:l,dataRowIdToModelLookup:a}},qh=({tree:e,rowCountProp:t=0})=>{const o=e[Dn];return Math.max(t,o.children.length+(o.footerId==null?0:1))},Xh=({apiRef:e,rowCountProp:t=0,loadingProp:o,previousTree:r,previousTreeDepths:i})=>{const a=e.current.caches.rows,{tree:l,treeDepths:d,dataRowIds:p,groupingName:g}=e.current.applyStrategyProcessor("rowTreeCreation",{previousTree:r,previousTreeDepths:i,updates:a.updates,dataRowIdToIdLookup:a.dataRowIdToIdLookup,dataRowIdToModelLookup:a.dataRowIdToModelLookup}),m=e.current.unstable_applyPipeProcessors("hydrateRows",{tree:l,treeDepths:d,dataRowIdToIdLookup:a.dataRowIdToIdLookup,dataRowIds:p,dataRowIdToModelLookup:a.dataRowIdToModelLookup});return e.current.caches.rows.updates={type:"partial",actions:{insert:[],modify:[],remove:[]},idToActionLookup:{}},T({},m,{totalRowCount:Math.max(t,m.dataRowIds.length),totalTopLevelRowCount:qh({tree:m.tree,rowCountProp:t}),groupingName:g,loading:o})},Rs=e=>e.type==="skeletonRow"||e.type==="footer"||e.type==="group"&&e.isAutoGenerated||e.type==="pinnedRow"&&e.isAutoGenerated,Mc=(e,t,o)=>{const r=e[t];if(r.type!=="group")return[];const i=[];for(let a=0;a<r.children.length;a+=1){const l=r.children[a];(!o||!Rs(e[l]))&&i.push(l);const d=Mc(e,l,o);for(let p=0;p<d.length;p+=1)i.push(d[p])}return!o&&r.footerId!=null&&i.push(r.footerId),i},jw=({previousCache:e,getRowId:t,updates:o})=>{var r,i,a;if(e.updates.type==="full")throw new Error("MUI: Unable to prepare a partial update if a full update is not applied yet");const l=new Map;o.forEach(v=>{const x=Ki(v,t,"A row was provided without id when calling updateRows():");l.has(x)?l.set(x,T({},l.get(x),v)):l.set(x,v)});const d={type:"partial",actions:{insert:[...(r=e.updates.actions.insert)!=null?r:[]],modify:[...(i=e.updates.actions.modify)!=null?i:[]],remove:[...(a=e.updates.actions.remove)!=null?a:[]]},idToActionLookup:T({},e.updates.idToActionLookup)},p=T({},e.dataRowIdToModelLookup),g=T({},e.dataRowIdToIdLookup),m={insert:{},modify:{},remove:{}};l.forEach((v,x)=>{const b=d.idToActionLookup[x];if(v._action==="delete"){if(b==="remove"||!p[x])return;b!=null&&(m[b][x]=!0),d.actions.remove.push(x),delete p[x],delete g[x];return}const C=p[x];if(C){b==="remove"?(m.remove[x]=!0,d.actions.modify.push(x)):b==null&&d.actions.modify.push(x),p[x]=T({},C,v);return}b==="remove"?(m.remove[x]=!0,d.actions.insert.push(x)):b==null&&d.actions.insert.push(x),p[x]=v,g[x]=x});const f=Object.keys(m);for(let v=0;v<f.length;v+=1){const x=f[v],b=m[x];Object.keys(b).length>0&&(d.actions[x]=d.actions[x].filter(C=>!b[C]))}return{dataRowIdToModelLookup:p,dataRowIdToIdLookup:g,updates:d,rowsBeforePartialUpdates:e.rowsBeforePartialUpdates,loadingPropBeforePartialUpdates:e.loadingPropBeforePartialUpdates,rowCountPropBeforePartialUpdates:e.rowCountPropBeforePartialUpdates}};function Yh(e){var t,o;const r=Qr(e),i=(r==null||(t=r.top)==null?void 0:t.reduce((l,d)=>(l+=e.current.unstable_getRowHeight(d.id),l),0))||0,a=(r==null||(o=r.bottom)==null?void 0:o.reduce((l,d)=>(l+=e.current.unstable_getRowHeight(d.id),l),0))||0;return{top:i,bottom:a}}function Qh(e,t){const o=es(e);return`var(--DataGrid-overlayHeight, ${2*Math.floor(t*o)}px)`}const Hw=xn("div",{name:"MuiDataGrid",slot:"OverlayWrapper",shouldForwardProp:e=>e!=="overlayType",overridesResolver:(e,t)=>t.overlayWrapper})(({overlayType:e})=>({position:"sticky",top:0,left:0,width:0,height:0,zIndex:e==="loadingOverlay"?5:4})),Gw=xn("div",{name:"MuiDataGrid",slot:"OverlayWrapperInner",shouldForwardProp:e=>e!=="overlayType",overridesResolver:(e,t)=>t.overlayWrapperInner})({}),Vw=e=>{const{classes:t}=e;return bt({root:["overlayWrapper"],inner:["overlayWrapperInner"]},xt,t)};function Ww(e){var t,o;const r=gt(),i=Ge(),[a,l]=c.useState(()=>{var m,f;return(m=(f=r.current.getRootDimensions())==null?void 0:f.viewportInnerSize)!=null?m:null}),d=c.useCallback(()=>{var m,f;l((m=(f=r.current.getRootDimensions())==null?void 0:f.viewportInnerSize)!=null?m:null)},[r]);bn(()=>r.current.subscribeEvent("viewportInnerSizeChange",d),[r,d]);let p=(t=a==null?void 0:a.height)!=null?t:0;i.autoHeight&&p===0&&(p=Qh(r,i.rowHeight));const g=Vw(T({},e,{classes:i.classes}));return a?h.jsx(Hw,{className:ze(g.root),overlayType:e.overlayType,children:h.jsx(Gw,T({className:ze(g.inner),style:{height:p,width:(o=a==null?void 0:a.width)!=null?o:0}},e))}):null}function Zw(){const e=gt(),t=Ge(),o=Oe(e,Sa),r=Oe(e,Wh),i=Oe(e,ww),a=!i&&o===0,l=!i&&o>0&&r===0;let d=null,p="";if(a){var g;d=h.jsx(t.slots.noRowsOverlay,T({},(g=t.slotProps)==null?void 0:g.noRowsOverlay)),p="noRowsOverlay"}if(l){var m;d=h.jsx(t.slots.noResultsOverlay,T({},(m=t.slotProps)==null?void 0:m.noResultsOverlay)),p="noResultsOverlay"}if(i){var f;d=h.jsx(t.slots.loadingOverlay,T({},(f=t.slotProps)==null?void 0:f.loadingOverlay)),p="loadingOverlay"}return d===null?null:h.jsx(Ww,{overlayType:p,children:d})}function Ta(e){return c.memo(e,Fh)}let vl;function Uw(){return vl===void 0&&document.createElement("div").focus({get preventScroll(){return vl=!0,!1}}),vl}var xo=function(e){return e.Cell="cell",e.Row="row",e}(xo||{}),Lt=function(e){return e.Edit="edit",e.View="view",e}(Lt||{}),Ht=function(e){return e.Edit="edit",e.View="view",e}(Ht||{}),Fn=function(e){return e.And="and",e.Or="or",e}(Fn||{}),ko=function(e){return e.enterKeyDown="enterKeyDown",e.cellDoubleClick="cellDoubleClick",e.printableKeyDown="printableKeyDown",e.deleteKeyDown="deleteKeyDown",e.pasteKeyDown="pasteKeyDown",e}(ko||{}),oo=function(e){return e.cellFocusOut="cellFocusOut",e.escapeKeyDown="escapeKeyDown",e.enterKeyDown="enterKeyDown",e.tabKeyDown="tabKeyDown",e.shiftTabKeyDown="shiftTabKeyDown",e}(oo||{}),$o=function(e){return e.enterKeyDown="enterKeyDown",e.cellDoubleClick="cellDoubleClick",e.printableKeyDown="printableKeyDown",e.deleteKeyDown="deleteKeyDown",e}($o||{}),Mo=function(e){return e.rowFocusOut="rowFocusOut",e.escapeKeyDown="escapeKeyDown",e.enterKeyDown="enterKeyDown",e.tabKeyDown="tabKeyDown",e.shiftTabKeyDown="shiftTabKeyDown",e}(Mo||{});function em(e){return e.field!==void 0}function Kw(e){return e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth}function Jw(e,t){return e.closest(`.${t}`)}function Ac(e){return e.replace(/["\\]/g,"\\$&")}function qw(e,t){return e.querySelector(`[role="columnheader"][data-field="${Ac(t)}"]`)}function tm(e){return`.${J.row}[data-id="${Ac(String(e))}"]`}function Xw(e,t){return e.querySelector(tm(t))}function Yw(e,{id:t,field:o}){const r=tm(t),i=`.${J.cell}[data-field="${Ac(o)}"]`,a=`${r} ${i}`;return e.querySelector(a)}function Ks(e){return e.target.nodeType===1&&!e.currentTarget.contains(e.target)}function pt(e,t,o){const r=c.useRef(!0);c.useEffect(()=>{r.current=!1,e.current.register(o,t)},[e,o,t]),r.current&&e.current.register(o,t)}class jr extends Error{}function Qw(e,t){const{getRowId:o}=t,r=c.useCallback(b=>({field:b,colDef:e.current.getColumn(b)}),[e]),i=c.useCallback(b=>{const C=e.current.getRow(b);if(!C)throw new jr(`No row with id #${b} found`);return{id:b,columns:e.current.getAllColumns(),row:C}},[e]),a=c.useCallback((b,C)=>{const S=e.current.getRow(b),_=e.current.getRowNode(b);if(!S||!_)throw new jr(`No row with id #${b} found`);const P=$n(e),z=Ui(e);return{id:b,field:C,row:S,rowNode:_,value:S[C],colDef:e.current.getColumn(C),cellMode:e.current.getCellMode(b,C),api:e.current,hasFocus:P!==null&&P.field===C&&P.id===b,tabIndex:z&&z.field===C&&z.id===b?0:-1}},[e]),l=c.useCallback((b,C)=>{const S=e.current.getColumn(C),_=e.current.getCellValue(b,C),P=e.current.getRow(b),z=e.current.getRowNode(b);if(!P||!z)throw new jr(`No row with id #${b} found`);const F=$n(e),G=Ui(e),k={id:b,field:C,row:P,rowNode:z,colDef:S,cellMode:e.current.getCellMode(b,C),hasFocus:F!==null&&F.field===C&&F.id===b,tabIndex:G&&G.field===C&&G.id===b?0:-1,value:_,formattedValue:_,isEditable:!1};return S&&S.valueFormatter&&(k.formattedValue=S.valueFormatter({id:b,field:k.field,value:k.value,api:e.current})),k.isEditable=S&&e.current.isCellEditable(k),k},[e]),d=c.useCallback((b,C)=>{const S=e.current.getColumn(C);if(!S||!S.valueGetter){const _=e.current.getRow(b);if(!_)throw new jr(`No row with id #${b} found`);return _[C]}return S.valueGetter(a(b,C))},[e,a]),p=c.useCallback((b,C)=>{var S;const _=Ur in b?b[Ur]:(S=o==null?void 0:o(b))!=null?S:b.id,P=C.field;return!C||!C.valueGetter?b[P]:C.valueGetter(a(_,P))},[a,o]),g=c.useCallback((b,C)=>{var S;const _=p(b,C);if(!C||!C.valueFormatter)return _;const P=(S=o?o(b):b.id)!=null?S:b[Ur],z=C.field;return C.valueFormatter({id:P,field:z,value:_,api:e.current})},[e,o,p]),m=c.useCallback(b=>e.current.rootElementRef.current?qw(e.current.rootElementRef.current,b):null,[e]),f=c.useCallback(b=>e.current.rootElementRef.current?Xw(e.current.rootElementRef.current,b):null,[e]),v=c.useCallback((b,C)=>e.current.rootElementRef.current?Yw(e.current.rootElementRef.current,{id:b,field:C}):null,[e]);pt(e,{getCellValue:d,getCellParams:l,getCellElement:v,getRowValue:p,getRowFormattedValue:g,getRowParams:i,getRowElement:f,getColumnHeaderParams:r,getColumnHeaderElement:m},"public")}const eS=["changeReason","unstable_updateValueOnRender"],tS=["column","rowId","editCellState","align","children","colIndex","height","width","className","showRightBorder","extendRowFullWidth","row","colSpan","disableDragEvents","isNotVisible","onClick","onDoubleClick","onMouseDown","onMouseUp","onMouseOver","onKeyDown","onKeyUp","onDragEnter","onDragOver","style"],nS=["changeReason","unstable_updateValueOnRender"],Ji={id:-1,field:"__unset__",row:{},rowNode:{id:-1,depth:0,type:"leaf",parent:-1,groupingKey:null},colDef:{type:"string",field:"__unset__",computedWidth:0},cellMode:Lt.View,hasFocus:!1,tabIndex:-1,value:null,formattedValue:"__unset__",isEditable:!1,api:{}},oS=e=>{const{align:t,showRightBorder:o,isEditable:r,isSelected:i,isSelectionMode:a,classes:l}=e,d={root:["cell",`cell--text${bo(t)}`,r&&"cell--editable",i&&"selected",o&&"cell--withRightBorder",a&&!r&&"cell--selectionMode","withBorderColor"],content:["cellContent"]};return bt(d,xt,l)},rS=c.forwardRef((e,t)=>{const{column:o,rowId:r,editCellState:i}=e,a=gt(),l=Ge(),d=o.field,p=Oe(a,()=>{try{const $=a.current.getCellParams(r,d);return $.api=a.current,$}catch(E){if(E instanceof jr)return Ji;throw E}},yc),g=Oe(a,()=>a.current.unstable_applyPipeProcessors("isCellSelected",!1,{id:r,field:d}));if(p===Ji)return null;const{cellMode:m,hasFocus:f,isEditable:v,value:x,formattedValue:b}=p,C=o.type==="actions",S=(m==="view"||!v)&&!C?p.tabIndex:-1,{classes:_,getCellClassName:P}=l,z=a.current.unstable_applyPipeProcessors("cellClassName",[],{id:r,field:d});o.cellClassName&&z.push(typeof o.cellClassName=="function"?o.cellClassName(p):o.cellClassName),P&&z.push(P(p));let F;if(i==null&&o.renderCell&&(F=o.renderCell(p),z.push(J["cell--withRenderer"]),z.push(_==null?void 0:_["cell--withRenderer"])),i!=null&&o.renderEditCell){const E=a.current.getRowWithUpdatedValues(r,o.field),$=$e(i,eS),D=T({},p,{row:E},$);F=o.renderEditCell(D),z.push(J["cell--editing"]),z.push(_==null?void 0:_["cell--editing"])}const{slots:G}=l,k=G.cell,M=T({},e,{ref:t,field:d,formattedValue:b,hasFocus:f,isEditable:v,isSelected:g,value:x,cellMode:m,children:F,tabIndex:S,className:ze(z)});return c.createElement(k,M)}),sS=Ta(rS),iS=c.forwardRef((e,t)=>{var o,r,i,a;const{column:l,rowId:d,editCellState:p,align:g,colIndex:m,height:f,width:v,className:x,showRightBorder:b,colSpan:C,disableDragEvents:S,isNotVisible:_,onClick:P,onDoubleClick:z,onMouseDown:F,onMouseUp:G,onMouseOver:k,onKeyDown:M,onKeyUp:E,onDragEnter:$,onDragOver:D,style:O}=e,H=$e(e,tS),B=gt(),I=Ge(),A=l.field,j=Oe(B,()=>{try{const ye=B.current.getCellParams(d,A);return ye.api=B.current,ye}catch(ge){if(ge instanceof jr)return Ji;throw ge}},yc),V=Oe(B,()=>B.current.unstable_applyPipeProcessors("isCellSelected",!1,{id:d,field:A})),{cellMode:R,hasFocus:W,isEditable:Z,value:q,formattedValue:ee}=j,X=l.type==="actions"&&((o=(r=l).getActions)==null?void 0:o.call(r,B.current.getRowParams(d)).some(ge=>!ge.props.disabled)),te=(R==="view"||!Z)&&!X?j.tabIndex:-1,{classes:Y,getCellClassName:ne}=I,re=B.current.unstable_applyPipeProcessors("cellClassName",[],{id:d,field:A});l.cellClassName&&re.push(typeof l.cellClassName=="function"?l.cellClassName(j):l.cellClassName),ne&&re.push(ne(j));const ve=ee??q,_e=c.useRef(null),be=qo(t,_e),Ae=c.useRef(null),Ce=(i=I.unstable_cellSelection)!=null?i:!1,fe={align:g,showRightBorder:b,isEditable:Z,classes:I.classes,isSelected:V,isSelectionMode:Ce},se=oS(fe),U=c.useCallback(ge=>ye=>{const ke=B.current.getCellParams(d,A||"");B.current.publishEvent(ge,ke,ye),G&&G(ye)},[B,A,G,d]),he=c.useCallback(ge=>ye=>{const ke=B.current.getCellParams(d,A||"");B.current.publishEvent(ge,ke,ye),F&&F(ye)},[B,A,F,d]),Q=c.useCallback((ge,ye)=>ke=>{if(!B.current.getRow(d))return;const Be=B.current.getCellParams(d,A||"");B.current.publishEvent(ge,Be,ke),ye&&ye(ke)},[B,A,d]),ie=c.useMemo(()=>_?T({padding:0,opacity:0,width:0,border:0},O):T({minWidth:v,maxWidth:v,minHeight:f,maxHeight:f==="auto"?"none":f},O),[v,f,_,O]);if(c.useEffect(()=>{if(!W||R===Lt.Edit)return;const ge=Vs(B.current.rootElementRef.current);if(_e.current&&!_e.current.contains(ge.activeElement)){const ye=_e.current.querySelector('[tabindex="0"]'),ke=Ae.current||ye||_e.current;if(Uw())ke.focus({preventScroll:!0});else{const Be=B.current.getScrollPosition();ke.focus(),B.current.scroll(Be)}}},[W,R,B]),j===Ji)return null;let de=H.onFocus,we;if(p==null&&l.renderCell&&(we=l.renderCell(j),re.push(J["cell--withRenderer"]),re.push(Y==null?void 0:Y["cell--withRenderer"])),p!=null&&l.renderEditCell){const ge=B.current.getRowWithUpdatedValues(d,l.field),ye=$e(p,nS),ke=T({},j,{row:ge},ye);we=l.renderEditCell(ke),re.push(J["cell--editing"]),re.push(Y==null?void 0:Y["cell--editing"])}if(we===void 0){const ge=ve==null?void 0:ve.toString();we=h.jsx("div",{className:se.content,title:ge,role:"presentation",children:ge})}c.isValidElement(we)&&X&&(we=c.cloneElement(we,{focusElementRef:Ae}));const Re=S?null:{onDragEnter:Q("cellDragEnter",$),onDragOver:Q("cellDragOver",D)},Pe=(a=I.experimentalFeatures)==null?void 0:a.ariaV7;return h.jsx("div",T({ref:be,className:ze(x,re,se.root),role:Pe?"gridcell":"cell","data-field":A,"data-colindex":m,"aria-colindex":m+1,"aria-colspan":C,style:ie,tabIndex:te,onClick:Q("cellClick",P),onDoubleClick:Q("cellDoubleClick",z),onMouseOver:Q("cellMouseOver",k),onMouseDown:he("cellMouseDown"),onMouseUp:U("cellMouseUp"),onKeyDown:Q("cellKeyDown",M),onKeyUp:Q("cellKeyUp",E)},Re,H,{onFocus:de,children:we}))}),$l=Ta(iS),aS=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","hasFocus","tabIndex"],lS=e=>{const{classes:t}=e;return bt({root:["booleanCell"]},xt,t)};function cS(e){const{value:t}=e,o=$e(e,aS),r=gt(),i=Ge(),a={classes:i.classes},l=lS(a),d=c.useMemo(()=>t?i.slots.booleanCellTrueIcon:i.slots.booleanCellFalseIcon,[i.slots.booleanCellFalseIcon,i.slots.booleanCellTrueIcon,t]);return h.jsx(d,T({fontSize:"small",className:l.root,titleAccess:r.current.getLocaleText(t?"booleanCellTrueLabel":"booleanCellFalseLabel"),"data-value":!!t},o))}const uS=c.memo(cS),dS=e=>Rs(e.rowNode)?"":h.jsx(uS,T({},e)),pS=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","className","hasFocus","isValidating","isProcessingProps","error","onValueChange"],hS=e=>{const{classes:t}=e;return bt({root:["editBooleanCell"]},xt,t)};function mS(e){var t;const{id:o,value:r,field:i,className:a,hasFocus:l,onValueChange:d}=e,p=$e(e,pS),g=gt(),m=c.useRef(null),f=Xt(),[v,x]=c.useState(r),b=Ge(),C={classes:b.classes},S=hS(C),_=c.useCallback(async P=>{const z=P.target.checked;d&&await d(P,z),x(z),await g.current.setEditCellValue({id:o,field:i,value:z},P)},[g,i,o,d]);return c.useEffect(()=>{x(r)},[r]),bn(()=>{l&&m.current.focus()},[l]),h.jsx("label",T({htmlFor:f,className:ze(S.root,a)},p,{children:h.jsx(b.slots.baseCheckbox,T({id:f,inputRef:m,checked:!!v,onChange:_,size:"small"},(t=b.slotProps)==null?void 0:t.baseCheckbox))}))}const fS=e=>h.jsx(mS,T({},e)),gS=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","hasFocus","inputProps","isValidating","isProcessingProps","onValueChange"],vS=Ee(Xl)({fontSize:"inherit"}),yS=e=>{const{classes:t}=e;return bt({root:["editInputCell"]},xt,t)};function bS(e){const{id:t,value:o,field:r,colDef:i,hasFocus:a,inputProps:l,onValueChange:d}=e,p=$e(e,gS),g=i.type==="dateTime",m=gt(),f=c.useRef(),v=c.useMemo(()=>{let F;o==null?F=null:o instanceof Date?F=o:F=new Date((o??"").toString());let G;return F==null||Number.isNaN(F.getTime())?G="":G=new Date(F.getTime()-F.getTimezoneOffset()*60*1e3).toISOString().substr(0,g?16:10),{parsed:F,formatted:G}},[o,g]),[x,b]=c.useState(v),S={classes:Ge().classes},_=yS(S),P=c.useCallback(F=>{if(F==="")return null;const[G,k]=F.split("T"),[M,E,$]=G.split("-"),D=new Date;if(D.setFullYear(Number(M),Number(E)-1,Number($)),D.setHours(0,0,0,0),k){const[O,H]=k.split(":");D.setHours(Number(O),Number(H),0,0)}return D},[]),z=c.useCallback(async F=>{const G=F.target.value,k=P(G);d&&await d(F,k),b({parsed:k,formatted:G}),m.current.setEditCellValue({id:t,field:r,value:k},F)},[m,r,t,d,P]);return c.useEffect(()=>{b(F=>{var G,k;return v.parsed!==F.parsed&&((G=v.parsed)==null?void 0:G.getTime())!==((k=F.parsed)==null?void 0:k.getTime())?v:F})},[v]),bn(()=>{a&&f.current.focus()},[a]),h.jsx(vS,T({inputRef:f,fullWidth:!0,className:_.root,type:g?"datetime-local":"date",inputProps:T({max:g?"9999-12-31T23:59":"9999-12-31"},l),value:x.formatted,onChange:z},p))}const nm=e=>h.jsx(bS,T({},e)),xS=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","hasFocus","isValidating","debounceMs","isProcessingProps","onValueChange"],CS=e=>{const{classes:t}=e;return bt({root:["editInputCell"]},xt,t)},wS=Ee(Xl,{name:"MuiDataGrid",slot:"EditInputCell",overridesResolver:(e,t)=>t.editInputCell})(({theme:e})=>T({},e.typography.body2,{padding:"1px 0","& input":{padding:"0 16px",height:"100%"}})),SS=c.forwardRef((e,t)=>{const o=Ge(),{id:r,value:i,field:a,colDef:l,hasFocus:d,debounceMs:p=200,isProcessingProps:g,onValueChange:m}=e,f=$e(e,xS),v=gt(),x=c.useRef(),[b,C]=c.useState(i),S=CS(o),_=c.useCallback(async z=>{const F=z.target.value;m&&await m(z,F);const G=v.current.getColumn(a);let k=F;G.valueParser&&(k=G.valueParser(F,v.current.getCellParams(r,a))),C(k),v.current.setEditCellValue({id:r,field:a,value:k,debounceMs:p,unstable_skipValueParser:!0},z)},[v,p,a,r,m]),P=v.current.unstable_getEditCellMeta(r,a);return c.useEffect(()=>{(P==null?void 0:P.changeReason)!=="debouncedSetEditCellValue"&&C(i)},[P,i]),bn(()=>{d&&x.current.focus()},[d]),h.jsx(wS,T({ref:t,inputRef:x,className:S.root,ownerState:o,fullWidth:!0,type:l.type==="number"?l.type:"text",value:b??"",onChange:_,endAdornment:g?h.jsx(o.slots.loadIcon,{fontSize:"small",color:"action"}):void 0},f))}),_S=e=>h.jsx(SS,T({},e)),qi=e=>e==="Escape",PS=e=>e==="Enter",Dc=e=>e==="Tab",om=e=>e===" ",IS=e=>e.indexOf("Arrow")===0,TS=e=>e==="Home"||e==="End",kS=e=>e.indexOf("Page")===0;function rm(e){return e.key.length===1&&!e.ctrlKey&&!e.metaKey}const Xi=e=>TS(e)||IS(e)||kS(e)||om(e),MS=e=>!!e.key,sm=e=>Dc(e)||qi(e);function pr(e){return(e==null?void 0:e.type)==="singleSelect"}function Bl(e,t,o){if(t===void 0)return;const r=t.find(i=>{const a=o(i);return String(a)===String(e)});return o(r)}const AS=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","className","hasFocus","isValidating","isProcessingProps","error","onValueChange","initialOpen","getOptionLabel","getOptionValue"],DS=["MenuProps"];function ES(e){return!!e.key}function RS(e){var t,o,r;const i=Ge(),{id:a,value:l,field:d,row:p,colDef:g,hasFocus:m,error:f,onValueChange:v,initialOpen:x=i.editMode===xo.Cell,getOptionLabel:b,getOptionValue:C}=e,S=$e(e,AS),_=gt(),P=c.useRef(),z=c.useRef(),[F,G]=c.useState(x),M=(o=(((t=i.slotProps)==null?void 0:t.baseSelect)||{}).native)!=null?o:!1,E=((r=i.slotProps)==null?void 0:r.baseSelect)||{},{MenuProps:$}=E,D=$e(E,DS);if(bn(()=>{if(m){var V;(V=z.current)==null||V.focus()}},[m]),!pr(g))return null;let O;if(typeof(g==null?void 0:g.valueOptions)=="function"?O=g==null?void 0:g.valueOptions({id:a,row:p,field:d}):O=g==null?void 0:g.valueOptions,!O)return null;const H=C||g.getOptionValue,B=b||g.getOptionLabel,I=async V=>{if(!pr(g)||!O)return;G(!1);const R=V.target,W=Bl(R.value,O,H);v&&await v(V,W),await _.current.setEditCellValue({id:a,field:d,value:W},V)},A=(V,R)=>{if(i.editMode===xo.Row){G(!1);return}if(R==="backdropClick"||qi(V.key)){const W=_.current.getCellParams(a,d);_.current.publishEvent("cellEditStop",T({},W,{reason:qi(V.key)?oo.escapeKeyDown:oo.cellFocusOut}))}},j=V=>{ES(V)&&V.key==="Enter"||G(!0)};return!O||!g?null:h.jsx(i.slots.baseSelect,T({ref:P,inputRef:z,value:l,onChange:I,open:F,onOpen:j,MenuProps:T({onClose:A},$),error:f,native:M,fullWidth:!0},S,D,{children:O.map(V=>{var R;const W=H(V);return c.createElement(i.slots.baseSelectOption,T({},((R=i.slotProps)==null?void 0:R.baseSelectOption)||{},{native:M,key:W,value:W}),B(V))})}))}const LS=e=>h.jsx(RS,T({},e)),FS=["open","target","onClose","children","position","className","onExited"],OS=e=>{const{classes:t}=e;return bt({root:["menu"]},xt,t)},NS=Ee(Yr,{name:"MuiDataGrid",slot:"Menu",overridesResolver:(e,t)=>t.menu})(({theme:e})=>({zIndex:e.zIndex.modal,[`& .${J.menuList}`]:{outline:0}})),zS={"bottom-start":"top left","bottom-end":"top right"};function Ec(e){var t;const{open:o,target:r,onClose:i,children:a,position:l,className:d,onExited:p}=e,g=$e(e,FS),m=gt(),f=Ge(),v=OS(f),x=c.useRef(null);bn(()=>{if(o)x.current=document.activeElement instanceof HTMLElement?document.activeElement:null;else{var S,_;(S=x.current)==null||(_=S.focus)==null||_.call(S),x.current=null}},[o]),c.useEffect(()=>{const S=o?"menuOpen":"menuClose";m.current.publishEvent(S,{target:r})},[m,o,r]);const b=S=>_=>{S&&S(),p&&p(_)},C=S=>{S.target&&(r===S.target||r!=null&&r.contains(S.target))||i(S)};return h.jsx(NS,T({as:f.slots.basePopper,className:ze(d,v.root),ownerState:f,open:o,anchorEl:r,transition:!0,placement:l},g,(t=f.slotProps)==null?void 0:t.basePopper,{children:({TransitionProps:S,placement:_})=>h.jsx(cc,{onClickAway:C,mouseEvent:"onMouseDown",children:h.jsx(Mg,T({},S,{style:{transformOrigin:zS[_]},onExited:b(S==null?void 0:S.onExited),children:h.jsx(Nt,{children:a})}))})}))}const $S=["api","colDef","id","hasFocus","isEditable","field","value","formattedValue","row","rowNode","cellMode","tabIndex","position","focusElementRef"],BS=e=>typeof e.getActions=="function";function jS(e){var t;const{colDef:o,id:r,hasFocus:i,tabIndex:a,position:l="bottom-end",focusElementRef:d}=e,p=$e(e,$S),[g,m]=c.useState(-1),[f,v]=c.useState(!1),x=gt(),b=c.useRef(null),C=c.useRef(null),S=c.useRef(!1),_=c.useRef({}),P=Bt(),z=Xt(),F=Xt(),G=Ge();if(!BS(o))throw new Error("MUI: Missing the `getActions` property in the `GridColDef`.");const k=o.getActions(x.current.getRowParams(r)),M=k.filter(j=>!j.props.showInMenu),E=k.filter(j=>j.props.showInMenu),$=M.length+(E.length?1:0);c.useLayoutEffect(()=>{i||Object.entries(_.current).forEach(([j,V])=>{V==null||V.stop({},()=>{delete _.current[j]})})},[i]),c.useEffect(()=>{if(g<0||!b.current||g>=b.current.children.length)return;b.current.children[g].focus({preventScroll:!0})},[g]),c.useEffect(()=>{i||(m(-1),S.current=!1)},[i]),c.useImperativeHandle(d,()=>({focus(){if(!S.current){const j=k.findIndex(V=>!V.props.disabled);m(j)}}}),[k]),c.useEffect(()=>{g>=$&&m($-1)},[g,$]);const D=()=>{v(!0),m($-1),S.current=!0},O=()=>{v(!1)},H=j=>V=>{_.current[j]=V},B=(j,V)=>R=>{m(j),S.current=!0,V&&V(R)},I=j=>{if($<=1)return;const V=(W,Z)=>{var q;if(W<0||W>k.length)return W;const ee=P.direction==="rtl"?-1:1,X=(Z==="left"?-1:1)*ee;return(q=k[W+X])!=null&&q.props.disabled?V(W+X,Z):W+X};let R=g;j.key==="ArrowRight"?R=V(g,"right"):j.key==="ArrowLeft"&&(R=V(g,"left")),!(R<0||R>=$)&&R!==g&&(j.preventDefault(),j.stopPropagation(),m(R))},A=j=>{j.key==="Tab"&&j.preventDefault(),["Tab","Escape"].includes(j.key)&&O()};return h.jsxs("div",T({role:"menu",ref:b,tabIndex:-1,className:J.actionsCell,onKeyDown:I},p,{children:[M.map((j,V)=>c.cloneElement(j,{key:V,touchRippleRef:H(V),onClick:B(V,j.props.onClick),tabIndex:g===V?a:-1})),E.length>0&&F&&h.jsx(G.slots.baseIconButton,T({ref:C,id:F,"aria-label":x.current.getLocaleText("actionsCellMore"),"aria-haspopup":"menu","aria-expanded":f,"aria-controls":f?z:void 0,role:"menuitem",size:"small",onClick:D,touchRippleRef:H(F),tabIndex:g===M.length?a:-1},(t=G.slotProps)==null?void 0:t.baseIconButton,{children:h.jsx(G.slots.moreActionsIcon,{fontSize:"small"})})),E.length>0&&h.jsx(Ec,{open:f,target:C.current,position:l,onClose:O,children:h.jsx(Ql,{id:z,className:J.menuList,onKeyDown:A,"aria-labelledby":F,variant:"menu",autoFocusItem:!0,children:E.map((j,V)=>c.cloneElement(j,{key:V,closeMenu:O}))})})]}))}const HS=e=>h.jsx(jS,T({},e)),GS=["field","align","width","contentWidth"],VS=e=>{const{align:t,classes:o}=e,r={root:["cell","cellSkeleton",`cell--text${bo(t)}`,"withBorderColor"]};return bt(r,xt,o)};function WS(e){const{align:t,width:o,contentWidth:r}=e,i=$e(e,GS),l={classes:Ge().classes,align:t},d=VS(l);return h.jsx("div",T({className:d.root,style:{width:o}},i,{children:h.jsx(Rb,{width:`${r}%`})}))}function ZS(e){return e.vars?e.vars.palette.TableCell.border:e.palette.mode==="light"?Ep(Se(e.palette.divider,1),.88):Rp(Se(e.palette.divider,1),.68)}const kd={[`.${J.columnSeparator}, .${J["columnSeparator--resizing"]}`]:{visibility:"visible",width:"auto"}},Md={[`& .${J.iconButtonContainer}`]:{visibility:"visible",width:"auto"},[`& .${J.menuIcon}`]:{width:"auto",visibility:"visible"}},US=Ee("div",{name:"MuiDataGrid",slot:"Root",overridesResolver:(e,t)=>[{[`&.${J.autoHeight}`]:t.autoHeight},{[`&.${J.aggregationColumnHeader}`]:t.aggregationColumnHeader},{[`&.${J["aggregationColumnHeader--alignLeft"]}`]:t["aggregationColumnHeader--alignLeft"]},{[`&.${J["aggregationColumnHeader--alignCenter"]}`]:t["aggregationColumnHeader--alignCenter"]},{[`&.${J["aggregationColumnHeader--alignRight"]}`]:t["aggregationColumnHeader--alignRight"]},{[`&.${J.aggregationColumnHeaderLabel}`]:t.aggregationColumnHeaderLabel},{[`&.${J["root--disableUserSelection"]} .${J.cell}`]:t["root--disableUserSelection"]},{[`&.${J.autosizing}`]:t.autosizing},{[`& .${J.editBooleanCell}`]:t.editBooleanCell},{[`& .${J["cell--editing"]}`]:t["cell--editing"]},{[`& .${J["cell--textCenter"]}`]:t["cell--textCenter"]},{[`& .${J["cell--textLeft"]}`]:t["cell--textLeft"]},{[`& .${J["cell--textRight"]}`]:t["cell--textRight"]},{[`& .${J["cell--withRenderer"]}`]:t["cell--withRenderer"]},{[`& .${J.cell}`]:t.cell},{[`& .${J["cell--rangeTop"]}`]:t["cell--rangeTop"]},{[`& .${J["cell--rangeBottom"]}`]:t["cell--rangeBottom"]},{[`& .${J["cell--rangeLeft"]}`]:t["cell--rangeLeft"]},{[`& .${J["cell--rangeRight"]}`]:t["cell--rangeRight"]},{[`& .${J["cell--withRightBorder"]}`]:t["cell--withRightBorder"]},{[`& .${J.cellContent}`]:t.cellContent},{[`& .${J.cellCheckbox}`]:t.cellCheckbox},{[`& .${J.cellSkeleton}`]:t.cellSkeleton},{[`& .${J.checkboxInput}`]:t.checkboxInput},{[`& .${J["columnHeader--alignCenter"]}`]:t["columnHeader--alignCenter"]},{[`& .${J["columnHeader--alignLeft"]}`]:t["columnHeader--alignLeft"]},{[`& .${J["columnHeader--alignRight"]}`]:t["columnHeader--alignRight"]},{[`& .${J["columnHeader--dragging"]}`]:t["columnHeader--dragging"]},{[`& .${J["columnHeader--moving"]}`]:t["columnHeader--moving"]},{[`& .${J["columnHeader--numeric"]}`]:t["columnHeader--numeric"]},{[`& .${J["columnHeader--sortable"]}`]:t["columnHeader--sortable"]},{[`& .${J["columnHeader--sorted"]}`]:t["columnHeader--sorted"]},{[`& .${J["columnHeader--withRightBorder"]}`]:t["columnHeader--withRightBorder"]},{[`& .${J.columnHeader}`]:t.columnHeader},{[`& .${J.headerFilterRow}`]:t.headerFilterRow},{[`& .${J.columnHeaderCheckbox}`]:t.columnHeaderCheckbox},{[`& .${J.columnHeaderDraggableContainer}`]:t.columnHeaderDraggableContainer},{[`& .${J.columnHeaderTitleContainer}`]:t.columnHeaderTitleContainer},{[`& .${J["columnSeparator--resizable"]}`]:t["columnSeparator--resizable"]},{[`& .${J["columnSeparator--resizing"]}`]:t["columnSeparator--resizing"]},{[`& .${J.columnSeparator}`]:t.columnSeparator},{[`& .${J.filterIcon}`]:t.filterIcon},{[`& .${J.iconSeparator}`]:t.iconSeparator},{[`& .${J.menuIcon}`]:t.menuIcon},{[`& .${J.menuIconButton}`]:t.menuIconButton},{[`& .${J.menuOpen}`]:t.menuOpen},{[`& .${J.menuList}`]:t.menuList},{[`& .${J["row--editable"]}`]:t["row--editable"]},{[`& .${J["row--editing"]}`]:t["row--editing"]},{[`& .${J["row--dragging"]}`]:t["row--dragging"]},{[`& .${J.row}`]:t.row},{[`& .${J.rowReorderCellPlaceholder}`]:t.rowReorderCellPlaceholder},{[`& .${J.rowReorderCell}`]:t.rowReorderCell},{[`& .${J["rowReorderCell--draggable"]}`]:t["rowReorderCell--draggable"]},{[`& .${J.sortIcon}`]:t.sortIcon},{[`& .${J.withBorderColor}`]:t.withBorderColor},{[`& .${J.treeDataGroupingCell}`]:t.treeDataGroupingCell},{[`& .${J.treeDataGroupingCellToggle}`]:t.treeDataGroupingCellToggle},{[`& .${J.detailPanelToggleCell}`]:t.detailPanelToggleCell},{[`& .${J["detailPanelToggleCell--expanded"]}`]:t["detailPanelToggleCell--expanded"]},t.root]})(({theme:e})=>{const t=ZS(e),o=e.shape.borderRadius;return T({"--unstable_DataGrid-radius":typeof o=="number"?`${o}px`:o,"--unstable_DataGrid-headWeight":e.typography.fontWeightMedium,"--unstable_DataGrid-overlayBackground":e.vars?`rgba(${e.vars.palette.background.defaultChannel} / ${e.vars.palette.action.disabledOpacity})`:Se(e.palette.background.default,e.palette.action.disabledOpacity),"--DataGrid-cellOffsetMultiplier":2,flex:1,boxSizing:"border-box",position:"relative",borderWidth:"1px",borderStyle:"solid",borderColor:t,borderRadius:"var(--unstable_DataGrid-radius)",color:(e.vars||e).palette.text.primary},e.typography.body2,{outline:"none",height:"100%",display:"flex",minWidth:0,minHeight:0,flexDirection:"column",overflowAnchor:"none",[`&.${J.autoHeight}`]:{height:"auto",[`& .${J["row--lastVisible"]} .${J.cell}`]:{borderBottomColor:"transparent"}},[`&.${J.autosizing}`]:{[`& .${J.columnHeaderTitleContainerContent} > *`]:{overflow:"visible !important"},[`& .${J.cell} > *`]:{overflow:"visible !important",whiteSpace:"nowrap"},[`& .${J.groupingCriteriaCell}`]:{width:"unset"},[`& .${J.treeDataGroupingCell}`]:{width:"unset"}},[`& .${J["virtualScrollerContent--overflowed"]} .${J["row--lastVisible"]} .${J.cell}`]:{borderBottomColor:"transparent"},[`& .${J.columnHeader}, & .${J.cell}`]:{WebkitTapHighlightColor:"transparent",lineHeight:null,padding:"0 10px",boxSizing:"border-box"},[`& .${J.columnHeader}:focus-within, & .${J.cell}:focus-within`]:{outline:`solid ${e.vars?`rgba(${e.vars.palette.primary.mainChannel} / 0.5)`:Se(e.palette.primary.main,.5)} 1px`,outlineWidth:1,outlineOffset:-1},[`& .${J.columnHeader}:focus, & .${J.cell}:focus`]:{outline:`solid ${e.palette.primary.main} 1px`},[`& .${J.columnHeaderCheckbox}, & .${J.cellCheckbox}`]:{padding:0,justifyContent:"center",alignItems:"center"},[`& .${J.columnHeader}`]:{position:"relative",display:"flex",alignItems:"center"},[`& .${J["columnHeader--sorted"]} .${J.iconButtonContainer}, & .${J["columnHeader--filtered"]} .${J.iconButtonContainer}`]:{visibility:"visible",width:"auto"},[`& .${J.columnHeader}:not(.${J["columnHeader--sorted"]}) .${J.sortIcon}`]:{opacity:0,transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.shorter})},[`& .${J.columnHeaderTitleContainer}`]:{display:"flex",alignItems:"center",minWidth:0,flex:1,whiteSpace:"nowrap",overflow:"hidden",position:"relative"},[`& .${J.columnHeaderTitleContainerContent}`]:{overflow:"hidden",display:"flex",alignItems:"center"},[`& .${J["columnHeader--filledGroup"]} .${J.columnHeaderTitleContainer}`]:{borderBottomWidth:"1px",borderBottomStyle:"solid",boxSizing:"border-box"},[`& .${J["columnHeader--filledGroup"]}.${J["columnHeader--showColumnBorder"]} .${J.columnHeaderTitleContainer}`]:{borderBottom:"none"},[`& .${J["columnHeader--filledGroup"]}.${J["columnHeader--showColumnBorder"]}`]:{borderBottomWidth:"1px",borderBottomStyle:"solid",boxSizing:"border-box"},[`& .${J.headerFilterRow}`]:{borderTop:`1px solid ${t}`},[`& .${J.sortIcon}, & .${J.filterIcon}`]:{fontSize:"inherit"},[`& .${J["columnHeader--sortable"]}`]:{cursor:"pointer"},[`& .${J["columnHeader--alignCenter"]} .${J.columnHeaderTitleContainer}`]:{justifyContent:"center"},[`& .${J["columnHeader--alignRight"]} .${J.columnHeaderDraggableContainer}, & .${J["columnHeader--alignRight"]} .${J.columnHeaderTitleContainer}`]:{flexDirection:"row-reverse"},[`& .${J["columnHeader--alignCenter"]} .${J.menuIcon}, & .${J["columnHeader--alignRight"]} .${J.menuIcon}`]:{marginRight:"auto",marginLeft:-6},[`& .${J["columnHeader--alignRight"]} .${J.menuIcon}, & .${J["columnHeader--alignRight"]} .${J.menuIcon}`]:{marginRight:"auto",marginLeft:-10},[`& .${J["columnHeader--moving"]}`]:{backgroundColor:(e.vars||e).palette.action.hover},[`& .${J.columnSeparator}`]:{visibility:"hidden",position:"absolute",zIndex:100,display:"flex",flexDirection:"column",justifyContent:"center",color:t},"@media (hover: hover)":{[`& .${J.columnHeaders}:hover`]:kd,[`& .${J.columnHeader}:hover`]:Md,[`& .${J.columnHeader}:not(.${J["columnHeader--sorted"]}):hover .${J.sortIcon}`]:{opacity:.5}},"@media (hover: none)":{[`& .${J.columnHeaders}`]:kd,[`& .${J.columnHeader}`]:Md},[`& .${J["columnSeparator--sideLeft"]}`]:{left:-12},[`& .${J["columnSeparator--sideRight"]}`]:{right:-12},[`& .${J["columnSeparator--resizable"]}`]:{cursor:"col-resize",touchAction:"none","&:hover":{color:(e.vars||e).palette.text.primary,"@media (hover: none)":{color:t}},[`&.${J["columnSeparator--resizing"]}`]:{color:(e.vars||e).palette.text.primary},"& svg":{pointerEvents:"none"}},[`& .${J.iconSeparator}`]:{color:"inherit"},[`& .${J.menuIcon}`]:{width:0,visibility:"hidden",fontSize:20,marginRight:-10,display:"flex",alignItems:"center"},[`.${J.menuOpen}`]:{visibility:"visible",width:"auto"},[`& .${J.row}`]:{display:"flex",width:"fit-content",breakInside:"avoid","&:hover, &.Mui-hovered":{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},"&.Mui-selected":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Se(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover, &.Mui-hovered":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(
                ${e.vars.palette.action.selectedOpacity} + 
                ${e.vars.palette.action.hoverOpacity}
              ))`:Se(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Se(e.palette.primary.main,e.palette.action.selectedOpacity)}}}},[`& .${J.cell}`]:{display:"flex",alignItems:"center",borderBottom:"1px solid","&.Mui-selected":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Se(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover, &.Mui-hovered":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity+e.palette.action.hoverOpacity})`:Se(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Se(e.palette.primary.main,e.palette.action.selectedOpacity)}}}},[`&.${J["root--disableUserSelection"]} .${J.cell}`]:{userSelect:"none"},[`& .${J.row}:not(.${J["row--dynamicHeight"]}) > .${J.cell}`]:{overflow:"hidden",whiteSpace:"nowrap"},[`& .${J.cellContent}`]:{overflow:"hidden",textOverflow:"ellipsis"},[`& .${J.cell}.${J["cell--selectionMode"]}`]:{cursor:"default"},[`& .${J.cell}.${J["cell--editing"]}`]:{padding:1,display:"flex",boxShadow:e.shadows[2],backgroundColor:(e.vars||e).palette.background.paper,"&:focus-within":{outline:`solid ${(e.vars||e).palette.primary.main} 1px`,outlineOffset:"-1px"}},[`& .${J["row--editing"]}`]:{boxShadow:e.shadows[2]},[`& .${J["row--editing"]} .${J.cell}`]:{boxShadow:e.shadows[0],backgroundColor:(e.vars||e).palette.background.paper},[`& .${J.editBooleanCell}`]:{display:"flex",height:"100%",width:"100%",alignItems:"center",justifyContent:"center"},[`& .${J.booleanCell}[data-value="true"]`]:{color:(e.vars||e).palette.text.secondary},[`& .${J.booleanCell}[data-value="false"]`]:{color:(e.vars||e).palette.text.disabled},[`& .${J.actionsCell}`]:{display:"inline-flex",alignItems:"center",gridGap:e.spacing(1)},[`& .${J.rowReorderCell}`]:{display:"inline-flex",flex:1,alignItems:"center",justifyContent:"center",opacity:(e.vars||e).palette.action.disabledOpacity},[`& .${J["rowReorderCell--draggable"]}`]:{cursor:"move",opacity:1},[`& .${J.rowReorderCellContainer}`]:{padding:0,alignItems:"stretch"},[`.${J.withBorderColor}`]:{borderColor:t},[`& .${J["cell--withRightBorder"]}`]:{borderRightWidth:"1px",borderRightStyle:"solid"},[`& .${J["columnHeader--withRightBorder"]}`]:{borderRightWidth:"1px",borderRightStyle:"solid"},[`& .${J["cell--textLeft"]}`]:{justifyContent:"flex-start"},[`& .${J["cell--textRight"]}`]:{justifyContent:"flex-end"},[`& .${J["cell--textCenter"]}`]:{justifyContent:"center"},[`& .${J.columnHeaderDraggableContainer}`]:{display:"flex",width:"100%",height:"100%"},[`& .${J.rowReorderCellPlaceholder}`]:{display:"none"},[`& .${J["columnHeader--dragging"]}, & .${J["row--dragging"]}`]:{background:(e.vars||e).palette.background.paper,padding:"0 12px",borderRadius:"var(--unstable_DataGrid-radius)",opacity:(e.vars||e).palette.action.disabledOpacity},[`& .${J["row--dragging"]}`]:{background:(e.vars||e).palette.background.paper,padding:"0 12px",borderRadius:"var(--unstable_DataGrid-radius)",opacity:(e.vars||e).palette.action.disabledOpacity,[`& .${J.rowReorderCellPlaceholder}`]:{display:"flex"}},[`& .${J.treeDataGroupingCell}`]:{display:"flex",alignItems:"center",width:"100%"},[`& .${J.treeDataGroupingCellToggle}`]:{flex:"0 0 28px",alignSelf:"stretch",marginRight:e.spacing(2)},[`& .${J.groupingCriteriaCell}`]:{display:"flex",alignItems:"center",width:"100%"},[`& .${J.groupingCriteriaCellToggle}`]:{flex:"0 0 28px",alignSelf:"stretch",marginRight:e.spacing(2)}})}),KS=["children","className"],JS=e=>{const{autoHeight:t,density:o,classes:r}=e,i={root:["root",t&&"autoHeight",`root--density${bo(o)}`,"withBorderColor"]};return bt(i,xt,r)},qS=c.forwardRef(function(t,o){var r;const i=Ge(),{children:a,className:l}=t,d=$e(t,KS),p=Xo(),g=Oe(p,Jh),m=c.useRef(null),f=qo(m,o),v=(r=i.experimentalFeatures)!=null&&r.ariaV7?null:jh,x=typeof v=="function"?v():null,b=T({},i,{density:g}),C=JS(b);p.current.register("public",{rootElementRef:m});const[S,_]=c.useState(!1);return bn(()=>{_(!0)},[]),S?h.jsx(US,T({ref:f,className:ze(l,C.root),ownerState:b},x,d,{children:a})):null}),XS=["className"],YS=e=>{const{classes:t}=e;return bt({root:["footerContainer","withBorderColor"]},xt,t)},QS=xn("div",{name:"MuiDataGrid",slot:"FooterContainer",overridesResolver:(e,t)=>t.footerContainer})({display:"flex",justifyContent:"space-between",alignItems:"center",minHeight:52,borderTop:"1px solid"}),e1=c.forwardRef(function(t,o){const{className:r}=t,i=$e(t,XS),a=Ge(),l=YS(a);return h.jsx(QS,T({ref:o,className:ze(l.root,r),ownerState:a},i))}),t1=["className"],n1=e=>{const{classes:t}=e;return bt({root:["overlay"]},xt,t)},o1=xn("div",{name:"MuiDataGrid",slot:"Overlay",overridesResolver:(e,t)=>t.overlay})({width:"100%",height:"100%",display:"flex",alignSelf:"center",alignItems:"center",justifyContent:"center",backgroundColor:"var(--unstable_DataGrid-overlayBackground)"}),Rc=c.forwardRef(function(t,o){const{className:r}=t,i=$e(t,t1),a=Ge(),l=n1(a);return h.jsx(o1,T({ref:o,className:ze(l.root,r),ownerState:a},i))}),r1=["className","children"],s1=e=>{const{classes:t}=e;return bt({root:["toolbarContainer"]},xt,t)},i1=xn("div",{name:"MuiDataGrid",slot:"ToolbarContainer",overridesResolver:(e,t)=>t.toolbarContainer})(({theme:e})=>({display:"flex",alignItems:"center",flexWrap:"wrap",gap:e.spacing(1),padding:e.spacing(.5,.5,0)})),a1=c.forwardRef(function(t,o){const{className:r,children:i}=t,a=$e(t,r1),l=Ge(),d=s1(l);return i?h.jsx(i1,T({ref:o,className:ze(r,d.root),ownerState:l},a,{children:i})):null}),l1=["className"],c1=e=>{const{classes:t}=e;return bt({root:["iconButtonContainer"]},xt,t)},u1=xn("div",{name:"MuiDataGrid",slot:"IconButtonContainer",overridesResolver:(e,t)=>t.iconButtonContainer})(()=>({display:"flex",visibility:"hidden",width:0})),im=c.forwardRef(function(t,o){const{className:r}=t,i=$e(t,l1),a=Ge(),l=c1(a);return h.jsx(u1,T({ref:o,className:ze(l.root,r),ownerState:a},i))}),d1=e=>{const{classes:t}=e;return bt({icon:["sortIcon"]},xt,t)};function p1(e,t,o,r){let i;const a={};return t==="asc"?i=e.columnSortedAscendingIcon:t==="desc"?i=e.columnSortedDescendingIcon:(i=e.columnUnsortedIcon,a.sortingOrder=r),i?h.jsx(i,T({fontSize:"small",className:o},a)):null}function h1(e){var t;const{direction:o,index:r,sortingOrder:i}=e,a=gt(),l=Ge(),d=T({},e,{classes:l.classes}),p=d1(d),g=p1(l.slots,o,p.icon,i);if(!g)return null;const m=h.jsx(l.slots.baseIconButton,T({tabIndex:-1,"aria-label":a.current.getLocaleText("columnHeaderSortIconLabel"),title:a.current.getLocaleText("columnHeaderSortIconLabel"),size:"small"},(t=l.slotProps)==null?void 0:t.baseIconButton,{children:g}));return h.jsxs(im,{children:[r!=null&&h.jsx(lc,{badgeContent:r,color:"default",children:m}),r==null&&m]})}const m1=c.memo(h1),f1=e=>{const{classes:t,open:o}=e;return bt({root:["menuIcon",o&&"menuOpen"],button:["menuIconButton"]},xt,t)},g1=c.memo(e=>{var t,o;const{colDef:r,open:i,columnMenuId:a,columnMenuButtonId:l,iconButtonRef:d}=e,p=gt(),g=Ge(),m=T({},e,{classes:g.classes}),f=f1(m),v=c.useCallback(x=>{x.preventDefault(),x.stopPropagation(),p.current.toggleColumnMenu(r.field)},[p,r.field]);return h.jsx("div",{className:f.root,children:h.jsx(g.slots.baseTooltip,T({title:p.current.getLocaleText("columnMenuLabel"),enterDelay:1e3},(t=g.slotProps)==null?void 0:t.baseTooltip,{children:h.jsx(g.slots.baseIconButton,T({ref:d,tabIndex:-1,className:f.button,"aria-label":p.current.getLocaleText("columnMenuLabel"),size:"small",onClick:v,"aria-haspopup":"menu","aria-expanded":i,"aria-controls":i?a:void 0,id:l},(o=g.slotProps)==null?void 0:o.baseIconButton,{children:h.jsx(g.slots.columnMenuIcon,{fontSize:"small"})}))}))})});function v1({columnMenuId:e,columnMenuButtonId:t,ContentComponent:o,contentComponentProps:r,field:i,open:a,target:l,onExited:d}){const p=gt(),g=p.current.getColumn(i),m=io(f=>{f&&(f.stopPropagation(),l!=null&&l.contains(f.target))||p.current.hideColumnMenu()});return!l||!g?null:h.jsx(Ec,{placement:`bottom-${g.align==="right"?"start":"end"}`,open:a,target:l,onClose:m,onExited:d,children:h.jsx(o,T({colDef:g,hideMenu:m,open:a,id:e,labelledby:t},r))})}const y1=["className"],b1=e=>{const{classes:t}=e;return bt({root:["columnHeaderTitle"]},xt,t)},x1=xn("div",{name:"MuiDataGrid",slot:"ColumnHeaderTitle",overridesResolver:(e,t)=>t.columnHeaderTitle})({textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",fontWeight:"var(--unstable_DataGrid-headWeight)"}),C1=c.forwardRef(function(t,o){const{className:r}=t,i=$e(t,y1),a=Ge(),l=b1(a);return h.jsx(x1,T({ref:o,className:ze(l.root,r),ownerState:a},i))});function w1(e){var t;const{label:o,description:r}=e,i=Ge(),a=c.useRef(null),[l,d]=c.useState(""),p=c.useCallback(()=>{if(!r&&a!=null&&a.current){const g=Kw(a.current);d(g?o:"")}},[r,o]);return h.jsx(i.slots.baseTooltip,T({title:r||l},(t=i.slotProps)==null?void 0:t.baseTooltip,{children:h.jsx(C1,{onMouseOver:p,ref:a,children:o})}))}const S1=["resizable","resizing","height","side"];var am=function(e){return e.Left="left",e.Right="right",e}(am||{});const _1=e=>{const{resizable:t,resizing:o,classes:r,side:i}=e,a={root:["columnSeparator",t&&"columnSeparator--resizable",o&&"columnSeparator--resizing",i&&`columnSeparator--side${bo(i)}`],icon:["iconSeparator"]};return bt(a,xt,r)};function P1(e){const{height:t,side:o=am.Right}=e,r=$e(e,S1),i=Ge(),a=T({},e,{side:o,classes:i.classes}),l=_1(a),d=c.useCallback(p=>{p.preventDefault(),p.stopPropagation()},[]);return h.jsx("div",T({className:l.root,style:{minHeight:t,opacity:i.showColumnVerticalBorder?0:1}},r,{onClick:d,children:h.jsx(i.slots.columnResizeIcon,{className:l.icon})}))}const I1=c.memo(P1),T1=["classes","columnMenuOpen","colIndex","height","isResizing","sortDirection","hasFocus","tabIndex","separatorSide","isDraggable","headerComponent","description","elementId","width","columnMenuIconButton","columnMenu","columnTitleIconButtons","headerClassName","label","resizable","draggableContainerProps","columnHeaderSeparatorProps"],lm=c.forwardRef(function(t,o){const{classes:r,columnMenuOpen:i,colIndex:a,height:l,isResizing:d,sortDirection:p,hasFocus:g,tabIndex:m,separatorSide:f,isDraggable:v,headerComponent:x,description:b,width:C,columnMenuIconButton:S=null,columnMenu:_=null,columnTitleIconButtons:P=null,headerClassName:z,label:F,resizable:G,draggableContainerProps:k,columnHeaderSeparatorProps:M}=t,E=$e(t,T1),$=Xo(),D=Ge(),O=c.useRef(null),[H,B]=c.useState(i),I=qo(O,o);let A="none";return p!=null&&(A=p==="asc"?"ascending":"descending"),c.useEffect(()=>{H||B(i)},[H,i]),c.useLayoutEffect(()=>{const j=$.current.state.columnMenu;if(g&&!j.open){const R=O.current.querySelector('[tabindex="0"]')||O.current;R==null||R.focus(),$.current.columnHeadersContainerElementRef.current.scrollLeft=0}},[$,g]),h.jsxs("div",T({ref:I,className:ze(r.root,z),style:{height:l,width:C,minWidth:C,maxWidth:C},role:"columnheader",tabIndex:m,"aria-colindex":a+1,"aria-sort":A,"aria-label":x==null?F:void 0},E,{children:[h.jsxs("div",T({className:r.draggableContainer,draggable:v,role:"presentation"},k,{children:[h.jsxs("div",{className:r.titleContainer,role:"presentation",children:[h.jsx("div",{className:r.titleContainerContent,children:x!==void 0?x:h.jsx(w1,{label:F,description:b,columnWidth:C})}),P]}),S]})),h.jsx(I1,T({resizable:!D.disableColumnResize&&!!G,resizing:d,height:l,side:f},M)),_]}))}),k1=e=>{const{colDef:t,classes:o,isDragging:r,sortDirection:i,showRightBorder:a,filterItemsCounter:l}=e,d=i!=null,p=l!=null&&l>0,g=t.type==="number",m={root:["columnHeader",t.headerAlign==="left"&&"columnHeader--alignLeft",t.headerAlign==="center"&&"columnHeader--alignCenter",t.headerAlign==="right"&&"columnHeader--alignRight",t.sortable&&"columnHeader--sortable",r&&"columnHeader--moving",d&&"columnHeader--sorted",p&&"columnHeader--filtered",g&&"columnHeader--numeric","withBorderColor",a&&"columnHeader--withRightBorder"],draggableContainer:["columnHeaderDraggableContainer"],titleContainer:["columnHeaderTitleContainer"],titleContainerContent:["columnHeaderTitleContainerContent"]};return bt(m,xt,o)};function M1(e){var t,o,r,i;const{colDef:a,columnMenuOpen:l,colIndex:d,headerHeight:p,isResizing:g,sortDirection:m,sortIndex:f,filterItemsCounter:v,hasFocus:x,tabIndex:b,disableReorder:C,separatorSide:S}=e,_=Xo(),P=Ge(),z=c.useRef(null),F=Xt(),G=Xt(),k=c.useRef(null),[M,E]=c.useState(l),$=c.useMemo(()=>!P.disableColumnReorder&&!C&&!a.disableReorder,[P.disableColumnReorder,C,a.disableReorder]);let D;a.renderHeader&&(D=a.renderHeader(_.current.getColumnHeaderParams(a.field)));const O=T({},e,{classes:P.classes,showRightBorder:P.showColumnVerticalBorder}),H=k1(O),B=c.useCallback(te=>Y=>{Ks(Y)||_.current.publishEvent(te,_.current.getColumnHeaderParams(a.field),Y)},[_,a.field]),I=c.useMemo(()=>({onClick:B("columnHeaderClick"),onDoubleClick:B("columnHeaderDoubleClick"),onMouseOver:B("columnHeaderOver"),onMouseOut:B("columnHeaderOut"),onMouseEnter:B("columnHeaderEnter"),onMouseLeave:B("columnHeaderLeave"),onKeyDown:B("columnHeaderKeyDown"),onFocus:B("columnHeaderFocus"),onBlur:B("columnHeaderBlur")}),[B]),A=c.useMemo(()=>$?{onDragStart:B("columnHeaderDragStart"),onDragEnter:B("columnHeaderDragEnter"),onDragOver:B("columnHeaderDragOver"),onDragEnd:B("columnHeaderDragEnd")}:{},[$,B]),j=c.useMemo(()=>({onMouseDown:B("columnSeparatorMouseDown"),onDoubleClick:B("columnSeparatorDoubleClick")}),[B]);c.useEffect(()=>{M||E(l)},[M,l]);const V=c.useCallback(()=>{E(!1)},[]),R=!P.disableColumnMenu&&!a.disableColumnMenu&&h.jsx(g1,{colDef:a,columnMenuId:F,columnMenuButtonId:G,open:M,iconButtonRef:k}),W=h.jsx(v1,{columnMenuId:F,columnMenuButtonId:G,field:a.field,open:l,target:k.current,ContentComponent:P.slots.columnMenu,contentComponentProps:(t=P.slotProps)==null?void 0:t.columnMenu,onExited:V}),Z=(o=a.sortingOrder)!=null?o:P.sortingOrder,q=h.jsxs(c.Fragment,{children:[!P.disableColumnFilter&&h.jsx(P.slots.columnHeaderFilterIconButton,T({field:a.field,counter:v},(r=P.slotProps)==null?void 0:r.columnHeaderFilterIconButton)),a.sortable&&!a.hideSortIcons&&h.jsx(m1,{direction:m,index:f,sortingOrder:Z})]});c.useLayoutEffect(()=>{const te=_.current.state.columnMenu;if(x&&!te.open){var Y;const re=z.current.querySelector('[tabindex="0"]')||z.current;re==null||re.focus(),(Y=_.current.columnHeadersContainerElementRef)!=null&&Y.current&&(_.current.columnHeadersContainerElementRef.current.scrollLeft=0)}},[_,x]);const ee=typeof a.headerClassName=="function"?a.headerClassName({field:a.field,colDef:a}):a.headerClassName,X=(i=a.headerName)!=null?i:a.field;return h.jsx(lm,T({ref:z,classes:H,columnMenuOpen:l,colIndex:d,height:p,isResizing:g,sortDirection:m,hasFocus:x,tabIndex:b,separatorSide:S,isDraggable:$,headerComponent:D,description:a.description,elementId:a.field,width:a.computedWidth,columnMenuIconButton:R,columnTitleIconButtons:q,headerClassName:ee,label:X,resizable:!P.disableColumnResize&&!!a.resizable,"data-field":a.field,columnMenu:W,draggableContainerProps:A,columnHeaderSeparatorProps:j},I))}const Ls=()=>({items:[],logicOperator:Fn.And,quickFilterValues:[],quickFilterLogicOperator:Fn.And}),Ad=1e3;class A1{constructor(t=Ad){this.timeouts=new Map,this.cleanupTimeout=Ad,this.cleanupTimeout=t}register(t,o,r){this.timeouts||(this.timeouts=new Map);const i=setTimeout(()=>{typeof o=="function"&&o(),this.timeouts.delete(r.cleanupToken)},this.cleanupTimeout);this.timeouts.set(r.cleanupToken,i)}unregister(t){const o=this.timeouts.get(t.cleanupToken);o&&(this.timeouts.delete(t.cleanupToken),clearTimeout(o))}reset(){this.timeouts&&(this.timeouts.forEach((t,o)=>{this.unregister({cleanupToken:o})}),this.timeouts=void 0)}}class D1{constructor(){this.registry=new FinalizationRegistry(t=>{typeof t=="function"&&t()})}register(t,o,r){this.registry.register(t,o,r)}unregister(t){this.registry.unregister(t)}reset(){}}var yo=function(e){return e.DataGrid="DataGrid",e.DataGridPro="DataGridPro",e}(yo||{});class E1{}function R1(e){let t=0;return function(r,i,a,l){e.registry===null&&(e.registry=typeof FinalizationRegistry<"u"?new D1:new A1);const[d]=c.useState(new E1),p=c.useRef(null),g=c.useRef();g.current=a;const m=c.useRef(null);if(!p.current&&g.current){const f=(v,x,b)=>{if(!x.defaultMuiPrevented){var C;(C=g.current)==null||C.call(g,v,x,b)}};p.current=r.current.subscribeEvent(i,f,l),t+=1,m.current={cleanupToken:t},e.registry.register(d,()=>{var v;(v=p.current)==null||v.call(p),p.current=null,m.current=null},m.current)}else!g.current&&p.current&&(p.current(),p.current=null,m.current&&(e.registry.unregister(m.current),m.current=null));c.useEffect(()=>{if(!p.current&&g.current){const f=(v,x,b)=>{if(!x.defaultMuiPrevented){var C;(C=g.current)==null||C.call(g,v,x,b)}};p.current=r.current.subscribeEvent(i,f,l)}return m.current&&e.registry&&(e.registry.unregister(m.current),m.current=null),()=>{var f;(f=p.current)==null||f.call(p),p.current=null}},[r,i,l])}}const L1={registry:null},We=R1(L1),F1={isFirst:!0};function Ut(e,t,o){We(e,t,o,F1)}function Pn(e,t){const o=c.useRef(null);if(o.current)return o.current;const r=e.current.getLogger(t);return o.current=r,r}function O1(e){return typeof e=="number"&&!Number.isNaN(e)}function cm(e){return typeof e=="function"}function Lc(e){return typeof e=="object"&&e!==null}function N1(){try{const e="__some_random_key_you_are_not_going_to_use__";return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch{return!1}}function Ai(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}const qr=(e,t,o)=>Math.max(t,Math.min(o,e));function hr(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;if(Array.isArray(e)){const i=e.length;if(i!==t.length)return!1;for(let a=0;a<i;a+=1)if(!hr(e[a],t[a]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;const i=Array.from(e.entries());for(let a=0;a<i.length;a+=1)if(!t.has(i[a][0]))return!1;for(let a=0;a<i.length;a+=1){const l=i[a];if(!hr(l[1],t.get(l[0])))return!1}return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;const i=Array.from(e.entries());for(let a=0;a<i.length;a+=1)if(!t.has(i[a][0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){const i=e.length;if(i!==t.length)return!1;for(let a=0;a<i;a+=1)if(e[a]!==t[a])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();const o=Object.keys(e),r=o.length;if(r!==Object.keys(t).length)return!1;for(let i=0;i<r;i+=1)if(!Object.prototype.hasOwnProperty.call(t,o[i]))return!1;for(let i=0;i<r;i+=1){const a=o[i];if(!hr(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function z1(e){return()=>{let t=e+=1831565813;return t=Math.imul(t^t>>>15,t|1),t^=t+Math.imul(t^t>>>7,t|61),((t^t>>>14)>>>0)/4294967296}}function $1(e,t,o){const r=z1(e);return()=>t+(o-t)*r()}function um(e){return typeof structuredClone=="function"?structuredClone(e):JSON.parse(JSON.stringify(e))}const B1=(e,t,o,r,i)=>{const a=Pn(e,"useNativeEventListener"),[l,d]=c.useState(!1),p=c.useRef(r),g=c.useCallback(m=>p.current&&p.current(m),[]);c.useEffect(()=>{p.current=r},[r]),c.useEffect(()=>{let m;if(cm(t)?m=t():m=t&&t.current?t.current:null,m&&o&&!l){a.debug(`Binding native ${o} event`),m.addEventListener(o,g,i);const f=m;d(!0);const v=()=>{a.debug(`Clearing native ${o} event`),f.removeEventListener(o,g,i)};e.current.subscribeEvent("unmount",v)}},[t,g,o,l,a,i,e])},Js=e=>{const t=c.useRef(!0);t.current&&(t.current=!1,e())},j1=100,H1=e=>e?0:100,dm=(e,t)=>t>0&&e>0?Math.ceil(e/t):0;Co(["MUI: the 'rowCount' prop is undefined while using paginationMode='server'","For more detail, see http://mui.com/components/data-grid/pagination/#basic-implementation"],"error");const pm=e=>({page:0,pageSize:e?0:100}),G1=(e,t=0)=>t===0?e:Math.max(Math.min(e,t-1),0),hm=(e,t)=>{if(t===yo.DataGrid&&e>j1)throw new Error(["MUI: `pageSize` cannot exceed 100 in the MIT version of the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join(`
`))},Fc=e=>e.pagination,Kn=ct(Fc,e=>e.paginationModel),Hr=ct(Fc,e=>e.rowCount),V1=ct(Kn,e=>e.page),mm=ct(Kn,e=>e.pageSize),W1=ct(mm,Hr,(e,t)=>dm(t,e)),Oc=Kt(Kn,ro,_a,Yo,Vh,(e,t,o,r,i)=>{const a=i.length,l=Math.min(e.pageSize*e.page,a-1),d=Math.min(l+e.pageSize-1,a-1);if(l===-1||d===-1)return null;if(o<2)return{firstRowIndex:l,lastRowIndex:d};const p=i[l],g=d-l+1,m=r.findIndex(b=>b.id===p.id);let f=m,v=0;for(;f<r.length&&v<=g;){var x;const b=r[f],C=(x=t[b.id])==null?void 0:x.depth;C===void 0?f+=1:((v<g||C>0)&&(f+=1),C===0&&(v+=1))}return{firstRowIndex:m,lastRowIndex:f-1}}),Z1=Kt(Yo,Oc,(e,t)=>t?e.slice(t.firstRowIndex,t.lastRowIndex+1):[]),fm=Kt(ks,Oc,(e,t)=>t?e.slice(t.firstRowIndex,t.lastRowIndex+1):[]),gr=e=>e.preferencePanel;var co=function(e){return e.filters="filters",e.columns="columns",e}(co||{});const Fs=e=>e.rowsMeta,Jn=e=>e.rowSelection,U1=ct(Jn,e=>e.length),K1=Kt(Jn,Do,(e,t)=>new Map(e.map(o=>[o,t[o]]))),Yi=Kt(Jn,e=>e.reduce((t,o)=>(t[o]=o,t),{})),J1=Co(["MUI: The `sortModel` can only contain a single item when the `disableMultipleColumnsSorting` prop is set to `true`.","If you are using the community version of the `DataGrid`, this prop is always `true`."],"error"),gm=(e,t)=>t&&e.length>1?(J1(),[e[0]]):e,Dd=(e,t)=>o=>T({},o,{sorting:T({},o.sorting,{sortModel:gm(e,t)})}),q1=e=>e==="desc",X1=(e,t)=>{const o=t.current.getColumn(e.field);if(!o)return null;const r=q1(e.sort)?(...a)=>-1*o.sortComparator(...a):o.sortComparator;return{getSortCellParams:a=>({id:a,field:o.field,rowNode:t.current.getRowNode(a),value:t.current.getCellValue(a,o.field),api:t.current}),comparator:r}},Y1=(e,t,o)=>e.reduce((r,i,a)=>{if(r!==0)return r;const l=t.params[a],d=o.params[a];return r=i.comparator(l.value,d.value,l,d),r},0),Q1=(e,t)=>{const o=e.map(r=>X1(r,t)).filter(r=>!!r);return o.length===0?null:r=>r.map(i=>({node:i,params:o.map(a=>a.getSortCellParams(i.id))})).sort((i,a)=>Y1(o,i,a)).map(i=>i.node.id)},Ed=(e,t)=>{const o=e.indexOf(t);return!t||o===-1||o+1===e.length?e[0]:e[o+1]},Nc=(e,t)=>e==null&&t!=null?-1:t==null&&e!=null?1:e==null&&t==null?0:null,e_=new Intl.Collator,t_=(e,t)=>{const o=Nc(e,t);return o!==null?o:typeof e=="string"?e_.compare(e.toString(),t.toString()):e-t},vm=(e,t)=>{const o=Nc(e,t);return o!==null?o:Number(e)-Number(t)},ym=(e,t)=>{const o=Nc(e,t);return o!==null?o:e>t?1:e<t?-1:0},bm=e=>e.headerFiltering,n_=ct(bm,e=>e.editing),o_=ct(bm,e=>e.menuOpen),r_=(e,t)=>{const o={enabled:!t.disableVirtualization,enabledForColumns:!0};return T({},e,{virtualization:o})};function s_(e,t){const o=a=>{e.current.setState(l=>T({},l,{virtualization:T({},l.virtualization,{enabled:a})}))};pt(e,{unstable_setVirtualization:o,unstable_setColumnVirtualization:a=>{e.current.setState(l=>T({},l,{virtualization:T({},l.virtualization,{enabledForColumns:a})}))}},"public"),c.useEffect(()=>{o(!t.disableVirtualization)},[t.disableVirtualization])}const xm=e=>e.virtualization,i_=ct(xm,e=>e.enabled),Cm=ct(xm,e=>e.enabledForColumns),a_=e=>{const{classes:t}=e;return bt({icon:["filterIcon"]},xt,t)};function l_(e){var t,o;const{counter:r,field:i,onClick:a}=e,l=gt(),d=Ge(),p=T({},e,{classes:d.classes}),g=a_(p),m=Oe(l,gr),f=Xt(),v=Xt(),x=c.useCallback(S=>{S.preventDefault(),S.stopPropagation();const{open:_,openedPanelValue:P}=gr(l.current.state);_&&P===co.filters?l.current.hideFilterPanel():l.current.showFilterPanel(void 0,v,f),a&&a(l.current.getColumnHeaderParams(i),S)},[l,i,a,v,f]);if(!r)return null;const b=m.open&&m.labelId===f,C=h.jsx(d.slots.baseIconButton,T({id:f,onClick:x,color:"default","aria-label":l.current.getLocaleText("columnHeaderFiltersLabel"),size:"small",tabIndex:-1,"aria-haspopup":"menu","aria-expanded":b,"aria-controls":b?v:void 0},(t=d.slotProps)==null?void 0:t.baseIconButton,{children:h.jsx(d.slots.columnFilteredIcon,{className:g.icon,fontSize:"small"})}));return h.jsx(d.slots.baseTooltip,T({title:l.current.getLocaleText("columnHeaderFiltersTooltipActive")(r),enterDelay:1e3},(o=d.slotProps)==null?void 0:o.baseTooltip,{children:h.jsxs(im,{children:[r>1&&h.jsx(lc,{badgeContent:r,color:"default",children:C}),r===1&&C]})}))}const c_=["field","id","value","formattedValue","row","rowNode","colDef","isEditable","cellMode","hasFocus","tabIndex","api"],u_=e=>{const{classes:t}=e;return bt({root:["checkboxInput"]},xt,t)},d_=c.forwardRef(function(t,o){var r;const{field:i,id:a,value:l,rowNode:d,hasFocus:p,tabIndex:g}=t,m=$e(t,c_),f=gt(),v=Ge(),x={classes:v.classes},b=u_(x),C=c.useRef(null),S=c.useRef(null),_=qo(C,o),P=f.current.getCellElement(a,i),z=M=>{const E={value:M.target.checked,id:a};f.current.publishEvent("rowSelectionCheckboxChange",E,M)};c.useLayoutEffect(()=>{g===0&&P&&(P.tabIndex=-1)},[P,g]),c.useEffect(()=>{if(p){var M;const E=(M=C.current)==null?void 0:M.querySelector("input");E==null||E.focus({preventScroll:!0})}else S.current&&S.current.stop({})},[p]);const F=c.useCallback(M=>{om(M.key)&&M.stopPropagation()},[]);if(d.type==="footer"||d.type==="pinnedRow")return null;const G=f.current.isRowSelectable(a),k=f.current.getLocaleText(l?"checkboxSelectionUnselectRow":"checkboxSelectionSelectRow");return h.jsx(v.slots.baseCheckbox,T({ref:_,tabIndex:g,checked:l,onChange:z,className:b.root,inputProps:{"aria-label":k},onKeyDown:F,disabled:!G,touchRippleRef:S},(r=v.slotProps)==null?void 0:r.baseCheckbox,m))}),p_=d_,h_=["field","colDef"],m_=e=>{const{classes:t}=e;return bt({root:["checkboxInput"]},xt,t)},f_=c.forwardRef(function(t,o){var r;const i=$e(t,h_),[,a]=c.useState(!1),l=gt(),d=Ge(),p={classes:d.classes},g=m_(p),m=Oe(l,Kh),f=Oe(l,Jn),v=Oe(l,ks),x=Oe(l,fm),b=c.useMemo(()=>typeof d.isRowSelectable!="function"?f:f.filter(E=>l.current.getRow(E)?d.isRowSelectable(l.current.getRowParams(E)):!1),[l,d.isRowSelectable,f]),C=c.useMemo(()=>(!d.pagination||!d.checkboxSelectionVisibleOnly?v:x).reduce(($,D)=>($[D]=!0,$),{}),[d.pagination,d.checkboxSelectionVisibleOnly,x,v]),S=c.useMemo(()=>b.filter(E=>C[E]).length,[b,C]),_=S>0&&S<Object.keys(C).length,P=S>0,z=E=>{const $={value:E.target.checked};l.current.publishEvent("headerSelectionCheckboxChange",$)},F=m!==null&&m.field===t.field?0:-1;c.useLayoutEffect(()=>{const E=l.current.getColumnHeaderElement(t.field);F===0&&E&&(E.tabIndex=-1)},[F,l,t.field]);const G=c.useCallback(E=>{E.key===" "&&l.current.publishEvent("headerSelectionCheckboxChange",{value:!P})},[l,P]),k=c.useCallback(()=>{a(E=>!E)},[]);c.useEffect(()=>l.current.subscribeEvent("rowSelectionChange",k),[l,k]);const M=l.current.getLocaleText(P?"checkboxSelectionUnselectAllRows":"checkboxSelectionSelectAllRows");return h.jsx(d.slots.baseCheckbox,T({ref:o,indeterminate:_,checked:P,onChange:z,className:g.root,inputProps:{"aria-label":M},tabIndex:F,onKeyDown:G},(r=d.slotProps)==null?void 0:r.baseCheckbox,i))}),Rd=it(h.jsx("path",{d:"M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"}),"ArrowUpward"),Ld=it(h.jsx("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward"),Fd=it(h.jsx("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"KeyboardArrowRight"),Od=it(h.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),g_=it(h.jsx("path",{d:"M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"}),"FilterList"),Nd=it(h.jsx("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61z"}),"FilterAlt"),v_=it(h.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");it(h.jsx("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu");it(h.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckCircle");const y_=it(h.jsx("path",{d:"M6 5H3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm14 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm-7 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1z"}),"ColumnIcon"),b_=it(h.jsx("path",{d:"M11 19V5h2v14z"}),"Separator"),x_=it(h.jsx("path",{d:"M4 15h16v-2H4v2zm0 4h16v-2H4v2zm0-8h16V9H4v2zm0-6v2h16V5H4z"}),"ViewHeadline"),C_=it(h.jsx("path",{d:"M21,8H3V4h18V8z M21,10H3v4h18V10z M21,16H3v4h18V16z"}),"TableRows"),w_=it(h.jsx("path",{d:"M4 18h17v-6H4v6zM4 5v6h17V5H4z"}),"ViewStream"),S_=it(h.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"TripleDotsVertical"),yl=it(h.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),zd=it(h.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add"),__=it(h.jsx("path",{d:"M19 13H5v-2h14v2z"}),"Remove"),P_=it(h.jsx("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"}),"Load"),$d=it(h.jsx("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"Drag"),I_=it(h.jsx("path",{d:"M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z"}),"SaveAlt"),T_=it(h.jsx("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),k_=it(h.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert"),M_=it(h.jsx("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"}),"VisibilityOff"),A_=it(h.jsx("g",{children:h.jsx("path",{d:"M14.67,5v14H9.33V5H14.67z M15.67,19H21V5h-5.33V19z M8.33,19V5H3v14H8.33z"})}),"ViewColumn"),D_=it(h.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");it(h.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");const E_=it(h.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}),"Delete"),R_=["hideMenu","colDef","id","labelledby","className","children","open"],L_=Ee(Ql)(()=>({minWidth:248})),F_=c.forwardRef(function(t,o){const{hideMenu:r,id:i,labelledby:a,className:l,children:d,open:p}=t,g=$e(t,R_),m=c.useCallback(f=>{Dc(f.key)&&f.preventDefault(),sm(f.key)&&r(f)},[r]);return h.jsx(L_,T({id:i,ref:o,className:ze(J.menuList,l),"aria-labelledby":a,onKeyDown:m,autoFocus:p},g,{children:d}))}),O_=["displayOrder"],N_=e=>{const t=Xo(),{defaultSlots:o,defaultSlotProps:r,slots:i={},slotProps:a={},hideMenu:l,colDef:d,addDividers:p=!0}=e,g=c.useMemo(()=>T({},o,i),[o,i]),m=c.useMemo(()=>{if(!a||Object.keys(a).length===0)return r;const x=T({},a);return Object.entries(r).forEach(([b,C])=>{x[b]=T({},C,a[b]||{})}),x},[r,a]),f=t.current.unstable_applyPipeProcessors("columnMenu",[],e.colDef),v=c.useMemo(()=>{const x=Object.keys(o);return Object.keys(i).filter(b=>!x.includes(b))},[i,o]);return c.useMemo(()=>{const C=Array.from(new Set([...f,...v])).filter(S=>g[S]!=null).sort((S,_)=>{const P=m[S],z=m[_],F=Number.isFinite(P==null?void 0:P.displayOrder)?P.displayOrder:100,G=Number.isFinite(z==null?void 0:z.displayOrder)?z.displayOrder:100;return F-G});return C.reduce((S,_,P)=>{let z={colDef:d,onClick:l};const F=m[_];if(F){const G=$e(F,O_);z=T({},z,G)}return p&&P!==C.length-1?[...S,[g[_],z],[Ko,{}]]:[...S,[g[_],z]]},[])},[p,d,f,l,g,m,v])};function z_(e){const{colDef:t,onClick:o}=e,r=gt(),i=Ge(),d=_n(r).filter(g=>g.disableColumnMenu!==!0).length===1,p=c.useCallback(g=>{d||(r.current.setColumnVisibility(t.field,!1),o(g))},[r,t.field,o,d]);return i.disableColumnSelector||t.hideable===!1?null:h.jsxs($t,{onClick:p,disabled:d,children:[h.jsx(Tn,{children:h.jsx(i.slots.columnMenuHideIcon,{fontSize:"small"})}),h.jsx(On,{children:r.current.getLocaleText("columnMenuHideColumn")})]})}function $_(e){const{onClick:t}=e,o=gt(),r=Ge(),i=c.useCallback(a=>{t(a),o.current.showPreferences(co.columns)},[o,t]);return r.disableColumnSelector?null:h.jsxs($t,{onClick:i,children:[h.jsx(Tn,{children:h.jsx(r.slots.columnMenuManageColumnsIcon,{fontSize:"small"})}),h.jsx(On,{children:o.current.getLocaleText("columnMenuManageColumns")})]})}function B_(e){return h.jsxs(c.Fragment,{children:[h.jsx(z_,T({},e)),h.jsx($_,T({},e))]})}function j_(e){const{colDef:t,onClick:o}=e,r=gt(),i=Ge(),a=c.useCallback(l=>{o(l),r.current.showFilterPanel(t.field)},[r,t.field,o]);return i.disableColumnFilter||!t.filterable?null:h.jsxs($t,{onClick:a,children:[h.jsx(Tn,{children:h.jsx(i.slots.columnMenuFilterIcon,{fontSize:"small"})}),h.jsx(On,{children:r.current.getLocaleText("columnMenuFilter")})]})}function H_(e){var t;const{colDef:o,onClick:r}=e,i=gt(),a=Oe(i,Un),l=Ge(),d=c.useMemo(()=>{if(!o)return null;const f=a.find(v=>v.field===o.field);return f==null?void 0:f.sort},[o,a]),p=(t=o.sortingOrder)!=null?t:l.sortingOrder,g=c.useCallback(f=>{r(f);const v=f.currentTarget.getAttribute("data-value")||null;i.current.sortColumn(o,v===d?null:v)},[i,o,r,d]);if(!o||!o.sortable||!p.some(f=>!!f))return null;const m=f=>{const v=i.current.getLocaleText(f);return typeof v=="function"?v(o):v};return h.jsxs(c.Fragment,{children:[p.includes("asc")&&d!=="asc"?h.jsxs($t,{onClick:g,"data-value":"asc",children:[h.jsx(Tn,{children:h.jsx(l.slots.columnMenuSortAscendingIcon,{fontSize:"small"})}),h.jsx(On,{children:m("columnMenuSortAsc")})]}):null,p.includes("desc")&&d!=="desc"?h.jsxs($t,{onClick:g,"data-value":"desc",children:[h.jsx(Tn,{children:h.jsx(l.slots.columnMenuSortDescendingIcon,{fontSize:"small"})}),h.jsx(On,{children:m("columnMenuSortDesc")})]}):null,p.includes(null)&&d!=null?h.jsxs($t,{onClick:g,children:[h.jsx(Tn,{}),h.jsx(On,{children:i.current.getLocaleText("columnMenuUnsort")})]}):null]})}const G_=["defaultSlots","defaultSlotProps","slots","slotProps"],V_={columnMenuSortItem:H_,columnMenuFilterItem:j_,columnMenuColumnsItem:B_},W_={columnMenuSortItem:{displayOrder:10},columnMenuFilterItem:{displayOrder:20},columnMenuColumnsItem:{displayOrder:30}},Z_=c.forwardRef(function(t,o){const{defaultSlots:r,defaultSlotProps:i,slots:a,slotProps:l}=t,d=$e(t,G_),p=N_(T({},d,{defaultSlots:r,defaultSlotProps:i,slots:a,slotProps:l}));return h.jsx(F_,T({ref:o},d,{children:p.map(([g,m],f)=>h.jsx(g,T({},m),f))}))}),U_=c.forwardRef(function(t,o){return h.jsx(Z_,T({},t,{ref:o,defaultSlots:V_,defaultSlotProps:W_}))}),K_=["className"],J_=e=>{const{classes:t}=e;return bt({root:["panelContent"]},xt,t)},q_=xn("div",{name:"MuiDataGrid",slot:"PanelContent",overridesResolver:(e,t)=>t.panelContent})({display:"flex",flexDirection:"column",overflow:"auto",flex:"1 1",maxHeight:400});function wm(e){const{className:t}=e,o=$e(e,K_),r=Ge(),i=J_(r);return h.jsx(q_,T({className:ze(t,i.root),ownerState:r},o))}const X_=["className"],Y_=e=>{const{classes:t}=e;return bt({root:["panelFooter"]},xt,t)},Q_=xn("div",{name:"MuiDataGrid",slot:"PanelFooter",overridesResolver:(e,t)=>t.panelFooter})(({theme:e})=>({padding:e.spacing(.5),display:"flex",justifyContent:"space-between"}));function Sm(e){const{className:t}=e,o=$e(e,X_),r=Ge(),i=Y_(r);return h.jsx(Q_,T({className:ze(t,i.root),ownerState:r},o))}const eP=["className"],tP=e=>{const{classes:t}=e;return bt({root:["panelHeader"]},xt,t)},nP=xn("div",{name:"MuiDataGrid",slot:"PanelHeader",overridesResolver:(e,t)=>t.panelHeader})(({theme:e})=>({padding:e.spacing(1)}));function oP(e){const{className:t}=e,o=$e(e,eP),r=Ge(),i=tP(r);return h.jsx(nP,T({className:ze(t,i.root),ownerState:r},o))}const rP=["className","slotProps"],sP=e=>{const{classes:t}=e;return bt({root:["panelWrapper"]},xt,t)},iP=Ee("div",{name:"MuiDataGrid",slot:"PanelWrapper",overridesResolver:(e,t)=>t.panelWrapper})({display:"flex",flexDirection:"column",flex:1,"&:focus":{outline:0}}),aP=()=>!0,_m=c.forwardRef(function(t,o){const{className:r,slotProps:i={}}=t,a=$e(t,rP),l=Ge(),d=sP(l);return h.jsx(Ag,T({open:!0,disableEnforceFocus:!0,isEnabled:aP},i.TrapFocus,{children:h.jsx(iP,T({ref:o,tabIndex:-1,className:ze(r,d.root),ownerState:l},a))}))}),lP=!1,cP=["sort","searchPredicate","autoFocusSearchField","disableHideAllButton","disableShowAllButton","getTogglableColumns"],uP=e=>{const{classes:t}=e;return bt({root:["columnsPanel"],columnsPanelRow:["columnsPanelRow"]},xt,t)},dP=Ee("div",{name:"MuiDataGrid",slot:"ColumnsPanel",overridesResolver:(e,t)=>t.columnsPanel})({padding:"8px 0px 8px 8px"}),pP=Ee("div",{name:"MuiDataGrid",slot:"ColumnsPanelRow",overridesResolver:(e,t)=>t.columnsPanelRow})(({theme:e})=>({display:"flex",justifyContent:"space-between",padding:"1px 8px 1px 7px",[`& .${In.root}`]:{marginRight:e.spacing(.5)}}));Ee(pn)({justifyContent:"flex-end"});const Bd=new Intl.Collator,hP=(e,t)=>(e.headerName||e.field).toLowerCase().indexOf(t)>-1;function mP(e){var t,o,r;const i=gt(),a=c.useRef(null),l=Oe(i,vo),d=Oe(i,so),p=Ge(),[g,m]=c.useState(""),f=uP(p),{sort:v,searchPredicate:x=hP,autoFocusSearchField:b=!0,disableHideAllButton:C=!1,disableShowAllButton:S=!1,getTogglableColumns:_}=e,P=$e(e,cP),z=c.useMemo(()=>{switch(v){case"asc":return[...l].sort((O,H)=>Bd.compare(O.headerName||O.field,H.headerName||H.field));case"desc":return[...l].sort((O,H)=>-Bd.compare(O.headerName||O.field,H.headerName||H.field));default:return l}},[l,v]),F=O=>{const{name:H}=O.target;i.current.setColumnVisibility(H,d[H]===!1)},G=c.useCallback(O=>{const H=so(i),B=T({},H),I=_?_(l):null;return l.forEach(A=>{A.hideable&&(I==null||I.includes(A.field))&&(O?delete B[A.field]:B[A.field]=!1)}),i.current.setColumnVisibilityModel(B)},[i,l,_]),k=c.useCallback(O=>{m(O.target.value)},[]),M=c.useMemo(()=>{const O=_?_(z):null,H=O?z.filter(({field:B})=>O.includes(B)):z;return g?H.filter(B=>x(B,g.toLowerCase())):H},[z,g,x,_]),E=c.useRef(null);c.useEffect(()=>{b?a.current.focus():E.current&&typeof E.current.focus=="function"&&E.current.focus()},[b]);let $=!1;const D=O=>$===!1&&O.hideable!==!1?($=!0,!0):!1;return h.jsxs(_m,T({},P,{children:[h.jsx(oP,{children:h.jsx(p.slots.baseTextField,T({label:i.current.getLocaleText("columnsPanelTextFieldLabel"),placeholder:i.current.getLocaleText("columnsPanelTextFieldPlaceholder"),inputRef:a,value:g,onChange:k,variant:"standard",fullWidth:!0},(t=p.slotProps)==null?void 0:t.baseTextField))}),h.jsx(wm,{children:h.jsx(dP,{className:f.root,ownerState:p,children:M.map(O=>{var H;return h.jsxs(pP,{className:f.columnsPanelRow,ownerState:p,children:[h.jsx(ub,{control:h.jsx(p.slots.baseSwitch,T({disabled:O.hideable===!1,checked:d[O.field]!==!1,onClick:F,name:O.field,size:"small",inputRef:D(O)?E:void 0},(H=p.slotProps)==null?void 0:H.baseSwitch)),label:O.headerName||O.field}),!p.disableColumnReorder&&lP]},O.field)})})}),S&&C?null:h.jsxs(Sm,{children:[C?h.jsx("span",{}):h.jsx(p.slots.baseButton,T({onClick:()=>G(!1)},(o=p.slotProps)==null?void 0:o.baseButton,{disabled:C,children:i.current.getLocaleText("columnsPanelHideAllButton")})),S?null:h.jsx(p.slots.baseButton,T({onClick:()=>G(!0)},(r=p.slotProps)==null?void 0:r.baseButton,{disabled:S,children:i.current.getLocaleText("columnsPanelShowAllButton")}))]})]}))}const fP=["children","className","classes"],gP=Eh("MuiDataGrid",["panel","paper"]),vP=Ee(Yr,{name:"MuiDataGrid",slot:"Panel",overridesResolver:(e,t)=>t.panel})(({theme:e})=>({zIndex:e.zIndex.modal})),yP=Ee(Nt,{name:"MuiDataGrid",slot:"Paper",overridesResolver:(e,t)=>t.paper})(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,minWidth:300,maxHeight:450,display:"flex"})),bP=c.forwardRef((e,t)=>{const{children:o,className:r}=e,i=$e(e,fP),a=gt(),l=Ge(),d=gP,[p,g]=c.useState(!1),m=c.useCallback(()=>{a.current.hidePreferences()},[a]),f=c.useCallback(C=>{qi(C.key)&&a.current.hidePreferences()},[a]),v=c.useMemo(()=>[{name:"flip",enabled:!0,options:{rootBoundary:"document"}},{name:"isPlaced",enabled:!0,phase:"main",fn:()=>{g(!0)},effect:()=>()=>{g(!1)}}],[]),[x,b]=c.useState(null);return c.useEffect(()=>{var C;const S=(C=a.current.rootElementRef)==null||(C=C.current)==null?void 0:C.querySelector(`.${J.columnHeaders}`);S&&b(S)},[a]),x?h.jsx(vP,T({ref:t,placement:"bottom-start",className:ze(r,d.panel),ownerState:l,anchorEl:x,modifiers:v},i,{children:h.jsx(cc,{mouseEvent:"onMouseUp",onClickAway:m,children:h.jsx(yP,{className:d.paper,ownerState:l,elevation:8,onKeyDown:f,children:p&&o})})})):null}),xP=c.forwardRef(function(t,o){var r,i,a;const l=gt(),d=Oe(l,vo),p=Ge(),g=Oe(l,gr),m=l.current.unstable_applyPipeProcessors("preferencePanel",null,(r=g.openedPanelValue)!=null?r:co.filters);return h.jsx(p.slots.panel,T({ref:o,as:p.slots.basePopper,open:d.length>0&&g.open,id:g.panelId,"aria-labelledby":g.labelId},(i=p.slotProps)==null?void 0:i.panel,t,(a=p.slotProps)==null?void 0:a.basePopper,{children:m}))}),CP=["item","hasMultipleFilters","deleteFilter","applyFilterChanges","multiFilterOperator","showMultiFilterOperators","disableMultiFilterOperator","applyMultiFilterOperatorChanges","focusElementRef","logicOperators","columnsSort","filterColumns","deleteIconProps","logicOperatorInputProps","operatorInputProps","columnInputProps","valueInputProps","children"],wP=["InputComponentProps"],SP=e=>{const{classes:t}=e;return bt({root:["filterForm"],deleteIcon:["filterFormDeleteIcon"],logicOperatorInput:["filterFormLogicOperatorInput"],columnInput:["filterFormColumnInput"],operatorInput:["filterFormOperatorInput"],valueInput:["filterFormValueInput"]},xt,t)},_P=Ee("div",{name:"MuiDataGrid",slot:"FilterForm",overridesResolver:(e,t)=>t.filterForm})(({theme:e})=>({display:"flex",padding:e.spacing(1)})),PP=Ee("div",{name:"MuiDataGrid",slot:"FilterFormDeleteIcon",overridesResolver:(e,t)=>t.filterFormDeleteIcon})(({theme:e})=>({flexShrink:0,justifyContent:"flex-end",marginRight:e.spacing(.5),marginBottom:e.spacing(.2)})),IP=Ee("div",{name:"MuiDataGrid",slot:"FilterFormLogicOperatorInput",overridesResolver:(e,t)=>t.filterFormLogicOperatorInput})({minWidth:55,marginRight:5,justifyContent:"end"}),TP=Ee("div",{name:"MuiDataGrid",slot:"FilterFormColumnInput",overridesResolver:(e,t)=>t.filterFormColumnInput})({width:150}),kP=Ee("div",{name:"MuiDataGrid",slot:"FilterFormOperatorInput",overridesResolver:(e,t)=>t.filterFormOperatorInput})({width:120}),MP=Ee("div",{name:"MuiDataGrid",slot:"FilterFormValueInput",overridesResolver:(e,t)=>t.filterFormValueInput})({width:190}),AP=e=>{switch(e){case Fn.And:return"filterPanelOperatorAnd";case Fn.Or:return"filterPanelOperatorOr";default:throw new Error("MUI: Invalid `logicOperator` property in the `GridFilterPanel`.")}},ms=e=>e.headerName||e.field,jd=new Intl.Collator,DP=c.forwardRef(function(t,o){var r,i,a,l,d,p,g,m,f,v;const{item:x,hasMultipleFilters:b,deleteFilter:C,applyFilterChanges:S,multiFilterOperator:_,showMultiFilterOperators:P,disableMultiFilterOperator:z,applyMultiFilterOperatorChanges:F,focusElementRef:G,logicOperators:k=[Fn.And,Fn.Or],columnsSort:M,filterColumns:E,deleteIconProps:$={},logicOperatorInputProps:D={},operatorInputProps:O={},columnInputProps:H={},valueInputProps:B={}}=t,I=$e(t,CP),A=gt(),j=Oe(A,$h),V=Oe(A,vn),R=Xt(),W=Xt(),Z=Xt(),q=Xt(),ee=Ge(),X=SP(ee),te=c.useRef(null),Y=c.useRef(null),ne=b&&k.length>0,re=((r=ee.slotProps)==null?void 0:r.baseFormControl)||{},_e=(a=(((i=ee.slotProps)==null?void 0:i.baseSelect)||{}).native)!=null?a:!0,be=((l=ee.slotProps)==null?void 0:l.baseInputLabel)||{},Ae=((d=ee.slotProps)==null?void 0:d.baseSelectOption)||{},{InputComponentProps:Ce}=B,fe=$e(B,wP),se=c.useMemo(()=>{if(E===void 0||typeof E!="function")return j;const Pe=E({field:x.field,columns:j,currentFilters:(V==null?void 0:V.items)||[]});return j.filter(ge=>Pe.includes(ge.field))},[E,V==null?void 0:V.items,j,x.field]),U=c.useMemo(()=>{switch(M){case"asc":return se.sort((Pe,ge)=>jd.compare(ms(Pe),ms(ge)));case"desc":return se.sort((Pe,ge)=>-jd.compare(ms(Pe),ms(ge)));default:return se}},[se,M]),he=x.field?A.current.getColumn(x.field):null,Q=c.useMemo(()=>{var Pe;return!x.operator||!he?null:(Pe=he.filterOperators)==null?void 0:Pe.find(ge=>ge.value===x.operator)},[x,he]),ie=c.useCallback(Pe=>{const ge=Pe.target.value,ye=A.current.getColumn(ge);if(ye.field===he.field)return;const ke=ye.filterOperators.find(Qe=>Qe.value===x.operator)||ye.filterOperators[0],Be=!ke.InputComponent||ke.InputComponent!==(Q==null?void 0:Q.InputComponent)||ye.type!==he.type;S(T({},x,{field:ge,operator:ke.value,value:Be?void 0:x.value}))},[A,S,x,he,Q]),de=c.useCallback(Pe=>{const ge=Pe.target.value,ye=he==null?void 0:he.filterOperators.find(Be=>Be.value===ge),ke=!(ye!=null&&ye.InputComponent)||(ye==null?void 0:ye.InputComponent)!==(Q==null?void 0:Q.InputComponent);S(T({},x,{operator:ge,value:ke?void 0:x.value}))},[S,x,he,Q]),we=c.useCallback(Pe=>{const ge=Pe.target.value===Fn.And.toString()?Fn.And:Fn.Or;F(ge)},[F]),Re=()=>{ee.disableMultipleColumnsFiltering?x.value===void 0?C(x):S(T({},x,{value:void 0})):C(x)};return c.useImperativeHandle(G,()=>({focus:()=>{if(Q!=null&&Q.InputComponent){var Pe;te==null||(Pe=te.current)==null||Pe.focus()}else Y.current.focus()}}),[Q]),h.jsxs(_P,T({ref:o,className:X.root,"data-id":x.id,ownerState:ee},I,{children:[h.jsx(PP,T({variant:"standard",as:ee.slots.baseFormControl},re,$,{className:ze(X.deleteIcon,re.className,$.className),ownerState:ee,children:h.jsx(ee.slots.baseIconButton,T({"aria-label":A.current.getLocaleText("filterPanelDeleteIconLabel"),title:A.current.getLocaleText("filterPanelDeleteIconLabel"),onClick:Re,size:"small"},(p=ee.slotProps)==null?void 0:p.baseIconButton,{children:h.jsx(ee.slots.filterPanelDeleteIcon,{fontSize:"small"})}))})),h.jsx(IP,T({variant:"standard",as:ee.slots.baseFormControl},re,D,{sx:T({display:ne?"flex":"none",visibility:P?"visible":"hidden"},re.sx||{},D.sx||{}),className:ze(X.logicOperatorInput,re.className,D.className),ownerState:ee,children:h.jsx(ee.slots.baseSelect,T({inputProps:{"aria-label":A.current.getLocaleText("filterPanelLogicOperator")},value:_,onChange:we,disabled:!!z||k.length===1,native:_e},(g=ee.slotProps)==null?void 0:g.baseSelect,{children:k.map(Pe=>c.createElement(ee.slots.baseSelectOption,T({},Ae,{native:_e,key:Pe.toString(),value:Pe.toString()}),A.current.getLocaleText(AP(Pe))))}))})),h.jsxs(TP,T({variant:"standard",as:ee.slots.baseFormControl},re,H,{className:ze(X.columnInput,re.className,H.className),ownerState:ee,children:[h.jsx(ee.slots.baseInputLabel,T({},be,{htmlFor:R,id:W,children:A.current.getLocaleText("filterPanelColumns")})),h.jsx(ee.slots.baseSelect,T({labelId:W,id:R,label:A.current.getLocaleText("filterPanelColumns"),value:x.field||"",onChange:ie,native:_e},(m=ee.slotProps)==null?void 0:m.baseSelect,{children:U.map(Pe=>c.createElement(ee.slots.baseSelectOption,T({},Ae,{native:_e,key:Pe.field,value:Pe.field}),ms(Pe)))}))]})),h.jsxs(kP,T({variant:"standard",as:ee.slots.baseFormControl},re,O,{className:ze(X.operatorInput,re.className,O.className),ownerState:ee,children:[h.jsx(ee.slots.baseInputLabel,T({},be,{htmlFor:Z,id:q,children:A.current.getLocaleText("filterPanelOperator")})),h.jsx(ee.slots.baseSelect,T({labelId:q,label:A.current.getLocaleText("filterPanelOperator"),id:Z,value:x.operator,onChange:de,native:_e,inputRef:Y},(f=ee.slotProps)==null?void 0:f.baseSelect,{children:he==null||(v=he.filterOperators)==null?void 0:v.map(Pe=>c.createElement(ee.slots.baseSelectOption,T({},Ae,{native:_e,key:Pe.value,value:Pe.value}),Pe.label||A.current.getLocaleText(`filterOperator${bo(Pe.value)}`)))}))]})),h.jsx(MP,T({variant:"standard",as:ee.slots.baseFormControl},re,fe,{className:ze(X.valueInput,re.className,fe.className),ownerState:ee,children:Q!=null&&Q.InputComponent?h.jsx(Q.InputComponent,T({apiRef:A,item:x,applyValue:S,focusElementRef:te},Q.InputComponentProps,Ce)):null}))]}))});class zc{constructor(){this.currentId=0,this.clear=()=>{this.currentId!==0&&(clearTimeout(this.currentId),this.currentId=0)},this.disposeEffect=()=>this.clear}static create(){return new zc}start(t,o){this.clear(),this.currentId=setTimeout(o,t)}}function $c(){const e=vc(zc.create).current;return Lh(e.disposeEffect),e}const EP=["item","applyValue","type","apiRef","focusElementRef","tabIndex","disabled","isFilterActive","clearButton","InputProps","variant"];function fo(e){var t,o;const{item:r,applyValue:i,type:a,apiRef:l,focusElementRef:d,tabIndex:p,disabled:g,clearButton:m,InputProps:f,variant:v="standard"}=e,x=$e(e,EP),b=$c(),[C,S]=c.useState((t=r.value)!=null?t:""),[_,P]=c.useState(!1),z=Xt(),F=Ge(),G=c.useCallback(k=>{const{value:M}=k.target;S(String(M)),P(!0),b.start(F.filterDebounceMs,()=>{const E=T({},r,{value:M,fromInput:z});i(E),P(!1)})},[z,i,r,F.filterDebounceMs,b]);return c.useEffect(()=>{if(r.fromInput!==z||r.value===void 0){var M;S(String((M=r.value)!=null?M:""))}},[z,r]),h.jsx(F.slots.baseTextField,T({id:z,label:l.current.getLocaleText("filterPanelInputLabel"),placeholder:l.current.getLocaleText("filterPanelInputPlaceholder"),value:C,onChange:G,variant:v,type:a||"text",InputProps:T({},_||m?{endAdornment:_?h.jsx(F.slots.loadIcon,{fontSize:"small",color:"action"}):m}:{},{disabled:g},f,{inputProps:T({tabIndex:p},f==null?void 0:f.inputProps)}),InputLabelProps:{shrink:!0},inputRef:d},x,(o=F.slotProps)==null?void 0:o.baseTextField))}const RP=["item","applyValue","type","apiRef","focusElementRef","InputProps","isFilterActive","clearButton","tabIndex","disabled"];function Er(e){var t,o;const{item:r,applyValue:i,type:a,apiRef:l,focusElementRef:d,InputProps:p,clearButton:g,tabIndex:m,disabled:f}=e,v=$e(e,RP),x=$c(),[b,C]=c.useState((t=r.value)!=null?t:""),[S,_]=c.useState(!1),P=Xt(),z=Ge(),F=c.useCallback(G=>{const k=G.target.value;C(String(k)),_(!0),x.start(z.filterDebounceMs,()=>{i(T({},r,{value:k})),_(!1)})},[i,r,z.filterDebounceMs,x]);return c.useEffect(()=>{var G;const k=(G=r.value)!=null?G:"";C(String(k))},[r.value]),h.jsx(z.slots.baseTextField,T({fullWidth:!0,id:P,label:l.current.getLocaleText("filterPanelInputLabel"),placeholder:l.current.getLocaleText("filterPanelInputPlaceholder"),value:b,onChange:F,variant:"standard",type:a||"text",InputLabelProps:{shrink:!0},inputRef:d,InputProps:T({},S||g?{endAdornment:S?h.jsx(z.slots.loadIcon,{fontSize:"small",color:"action"}):g}:{},{disabled:f},p,{inputProps:T({max:a==="datetime-local"?"9999-12-31T23:59":"9999-12-31",tabIndex:m},p==null?void 0:p.inputProps)})},v,(o=z.slotProps)==null?void 0:o.baseTextField))}const LP=["item","applyValue","type","apiRef","focusElementRef","getOptionLabel","getOptionValue","placeholder","tabIndex","label","variant","isFilterActive","clearButton","InputLabelProps"],FP=({column:{valueOptions:e,field:t},OptionComponent:o,getOptionLabel:r,getOptionValue:i,isSelectNative:a,baseSelectOptionProps:l})=>(typeof e=="function"?["",...e({field:t})]:["",...e||[]]).map(p=>{const g=i(p),m=r(p);return c.createElement(o,T({},l,{native:a,key:g,value:g}),m)}),OP=Ee("div")({display:"flex",alignItems:"flex-end",width:"100%","& button":{margin:"auto 0px 5px 5px"}});function Hd(e){var t,o,r,i,a,l,d,p;const{item:g,applyValue:m,type:f,apiRef:v,focusElementRef:x,getOptionLabel:b,getOptionValue:C,placeholder:S,tabIndex:_,label:P,variant:z="standard",clearButton:F}=e,G=$e(e,LP),[k,M]=c.useState((t=g.value)!=null?t:""),E=Xt(),$=Xt(),D=Ge(),O=(o=(r=D.slotProps)==null||(r=r.baseSelect)==null?void 0:r.native)!=null?o:!0;let H=null;if(g.field){const R=v.current.getColumn(g.field);pr(R)&&(H=R)}const B=C||((i=H)==null?void 0:i.getOptionValue),I=b||((a=H)==null?void 0:a.getOptionLabel),A=c.useMemo(()=>{if(H)return typeof H.valueOptions=="function"?H.valueOptions({field:H.field}):H.valueOptions},[H]),j=c.useCallback(R=>{let W=R.target.value;W=Bl(W,A,B),M(String(W)),m(T({},g,{value:W}))},[A,B,m,g]);if(c.useEffect(()=>{var R;let W;if(A!==void 0){if(W=Bl(g.value,A,B),W!==g.value){m(T({},g,{value:W}));return}}else W=g.value;W=(R=W)!=null?R:"",M(String(W))},[g,A,m,B]),!pr(H)||!pr(H))return null;const V=P??v.current.getLocaleText("filterPanelInputLabel");return h.jsxs(OP,{children:[h.jsxs(D.slots.baseFormControl,{children:[h.jsx(D.slots.baseInputLabel,T({},(l=D.slotProps)==null?void 0:l.baseInputLabel,{id:$,htmlFor:E,shrink:!0,variant:z,children:V})),h.jsx(D.slots.baseSelect,T({id:E,label:V,labelId:$,value:k,onChange:j,variant:z,type:f||"text",inputProps:{tabIndex:_,ref:x,placeholder:S??v.current.getLocaleText("filterPanelInputPlaceholder")},native:O,notched:z==="outlined"?!0:void 0},G,(d=D.slotProps)==null?void 0:d.baseSelect,{children:FP({column:H,OptionComponent:D.slots.baseSelectOption,getOptionLabel:I,getOptionValue:B,isSelectNative:O,baseSelectOptionProps:(p=D.slotProps)==null?void 0:p.baseSelectOption})}))]}),F]})}const NP=["item","applyValue","apiRef","focusElementRef","isFilterActive","clearButton","tabIndex","label","variant","InputLabelProps"],zP=Ee("div")({display:"flex",alignItems:"center",width:"100%","& button":{margin:"auto 0px 5px 5px"}});function $P(e){var t,o,r,i;const{item:a,applyValue:l,apiRef:d,focusElementRef:p,clearButton:g,tabIndex:m,label:f,variant:v="standard"}=e,x=$e(e,NP),[b,C]=c.useState(a.value||""),S=Ge(),_=Xt(),P=Xt(),z=((t=S.slotProps)==null?void 0:t.baseSelect)||{},F=(o=z.native)!=null?o:!0,G=((r=S.slotProps)==null?void 0:r.baseSelectOption)||{},k=c.useCallback(E=>{const $=E.target.value;C($),l(T({},a,{value:$}))},[l,a]);c.useEffect(()=>{C(a.value||"")},[a.value]);const M=f??d.current.getLocaleText("filterPanelInputLabel");return h.jsxs(zP,{children:[h.jsxs(S.slots.baseFormControl,{fullWidth:!0,children:[h.jsx(S.slots.baseInputLabel,T({},(i=S.slotProps)==null?void 0:i.baseInputLabel,{id:_,shrink:!0,variant:v,children:M})),h.jsxs(S.slots.baseSelect,T({labelId:_,id:P,label:M,value:b,onChange:k,variant:v,notched:v==="outlined"?!0:void 0,native:F,displayEmpty:!0,inputProps:{ref:p,tabIndex:m}},x,z,{children:[h.jsx(S.slots.baseSelectOption,T({},G,{native:F,value:"",children:d.current.getLocaleText("filterValueAny")})),h.jsx(S.slots.baseSelectOption,T({},G,{native:F,value:"true",children:d.current.getLocaleText("filterValueTrue")})),h.jsx(S.slots.baseSelectOption,T({},G,{native:F,value:"false",children:d.current.getLocaleText("filterValueFalse")}))]}))]}),g]})}const BP=["logicOperators","columnsSort","filterFormProps","getColumnForNewFilter","children","disableAddFilterButton","disableRemoveAllButton"],Gd=e=>({field:e.field,operator:e.filterOperators[0].value,id:Math.round(Math.random()*1e5)}),jP=c.forwardRef(function(t,o){var r,i;const a=gt(),l=Ge(),d=Oe(a,vn),p=Oe(a,$h),g=c.useRef(null),m=c.useRef(null),{logicOperators:f=[Fn.And,Fn.Or],columnsSort:v,filterFormProps:x,getColumnForNewFilter:b,disableAddFilterButton:C=!1,disableRemoveAllButton:S=!1}=t,_=$e(t,BP),P=a.current.upsertFilterItem,z=c.useCallback(O=>{a.current.setFilterLogicOperator(O)},[a]),F=c.useCallback(()=>{let O;if(b&&typeof b=="function"){const H=b({currentFilters:(d==null?void 0:d.items)||[],columns:p});if(H===null)return null;O=p.find(({field:B})=>B===H)}else O=p.find(H=>{var B;return(B=H.filterOperators)==null?void 0:B.length});return O?Gd(O):null},[d==null?void 0:d.items,p,b]),G=c.useCallback(()=>{if(b===void 0||typeof b!="function")return F();const O=d.items.length?d.items:[F()].filter(Boolean),H=b({currentFilters:O,columns:p});if(H===null)return null;const B=p.find(({field:I})=>I===H);return B?Gd(B):null},[d.items,p,b,F]),k=c.useMemo(()=>d.items.length?d.items:(m.current||(m.current=F()),m.current?[m.current]:[]),[d.items,F]),M=k.length>1,E=()=>{const O=G();O&&a.current.upsertFilterItems([...k,O])},$=c.useCallback(O=>{const H=k.length===1;a.current.deleteFilterItem(O),H&&a.current.hideFilterPanel()},[a,k.length]),D=()=>{k.length===1&&k[0].value===void 0&&(a.current.deleteFilterItem(k[0]),a.current.hideFilterPanel()),a.current.setFilterModel(T({},d,{items:[]}))};return c.useEffect(()=>{f.length>0&&d.logicOperator&&!f.includes(d.logicOperator)&&z(f[0])},[f,z,d.logicOperator]),c.useEffect(()=>{k.length>0&&g.current.focus()},[k.length]),h.jsxs(_m,T({ref:o},_,{children:[h.jsx(wm,{children:k.map((O,H)=>h.jsx(DP,T({item:O,applyFilterChanges:P,deleteFilter:$,hasMultipleFilters:M,showMultiFilterOperators:H>0,multiFilterOperator:d.logicOperator,disableMultiFilterOperator:H!==1,applyMultiFilterOperatorChanges:z,focusElementRef:H===k.length-1?g:null,logicOperators:f,columnsSort:v},x),O.id==null?H:O.id))}),!l.disableMultipleColumnsFiltering&&!(C&&S)?h.jsxs(Sm,{children:[C?h.jsx("span",{}):h.jsx(l.slots.baseButton,T({onClick:E,startIcon:h.jsx(l.slots.filterPanelAddIcon,{})},(r=l.slotProps)==null?void 0:r.baseButton,{children:a.current.getLocaleText("filterPanelAddFilter")})),S?null:h.jsx(l.slots.baseButton,T({onClick:D,startIcon:h.jsx(l.slots.filterPanelRemoveAllIcon,{})},(i=l.slotProps)==null?void 0:i.baseButton,{children:a.current.getLocaleText("filterPanelRemoveAll")}))]}):null]}))}),HP=["item","applyValue","type","apiRef","focusElementRef","color","error","helperText","size","variant"];function Pm(e){const{item:t,applyValue:o,type:r,apiRef:i,focusElementRef:a,color:l,error:d,helperText:p,size:g,variant:m}=e,f=$e(e,HP),v={color:l,error:d,helperText:p,size:g,variant:m},[x,b]=c.useState(t.value||[]),C=Xt(),S=Ge();c.useEffect(()=>{var P;const z=(P=t.value)!=null?P:[];b(z.map(String))},[t.value]);const _=c.useCallback((P,z)=>{b(z.map(String)),o(T({},t,{value:[...z]}))},[o,t]);return h.jsx(js,T({multiple:!0,freeSolo:!0,options:[],filterOptions:(P,z)=>{const{inputValue:F}=z;return F==null||F===""?[]:[F]},id:C,value:x,onChange:_,renderTags:(P,z)=>P.map((F,G)=>h.jsx(S.slots.baseChip,T({variant:"outlined",size:"small",label:F},z({index:G})))),renderInput:P=>{var z;return h.jsx(S.slots.baseTextField,T({},P,{label:i.current.getLocaleText("filterPanelInputLabel"),placeholder:i.current.getLocaleText("filterPanelInputPlaceholder"),InputLabelProps:T({},P.InputLabelProps,{shrink:!0}),inputRef:a,type:r||"text"},v,(z=S.slotProps)==null?void 0:z.baseTextField))}},f))}const GP=["item","applyValue","type","apiRef","focusElementRef","color","error","helperText","size","variant","getOptionLabel","getOptionValue"],VP=Qp();function WP(e){var t,o;const{item:r,applyValue:i,apiRef:a,focusElementRef:l,color:d,error:p,helperText:g,size:m,variant:f="standard",getOptionLabel:v,getOptionValue:x}=e,b=$e(e,GP),C={color:d,error:p,helperText:g,size:m,variant:f},S=Xt(),_=Ge();let P=null;if(r.field){const D=a.current.getColumn(r.field);pr(D)&&(P=D)}const z=x||((t=P)==null?void 0:t.getOptionValue),F=v||((o=P)==null?void 0:o.getOptionLabel),G=c.useCallback((D,O)=>z(D)===z(O),[z]),k=c.useMemo(()=>{var D;return(D=P)!=null&&D.valueOptions?typeof P.valueOptions=="function"?P.valueOptions({field:P.field}):P.valueOptions:[]},[P]),M=c.useMemo(()=>k==null?void 0:k.map(z),[k,z]),E=c.useMemo(()=>Array.isArray(r.value)?k!==void 0?r.value.map(O=>M==null?void 0:M.findIndex(H=>H===O)).filter(O=>O>=0).map(O=>k[O]):r.value:[],[r.value,k,M]);c.useEffect(()=>{(!Array.isArray(r.value)||E.length!==r.value.length)&&i(T({},r,{value:E.map(z)}))},[r,E,i,z]);const $=c.useCallback((D,O)=>{i(T({},r,{value:O.map(z)}))},[i,r,z]);return h.jsx(js,T({multiple:!0,options:k,isOptionEqualToValue:G,filterOptions:VP,id:S,value:E,onChange:$,getOptionLabel:F,renderTags:(D,O)=>D.map((H,B)=>h.jsx(_.slots.baseChip,T({variant:"outlined",size:"small",label:F(H)},O({index:B})))),renderInput:D=>{var O;return h.jsx(_.slots.baseTextField,T({},D,{label:a.current.getLocaleText("filterPanelInputLabel"),placeholder:a.current.getLocaleText("filterPanelInputPlaceholder"),InputLabelProps:T({},D.InputLabelProps,{shrink:!0}),inputRef:l,type:"singleSelect"},C,(O=_.slotProps)==null?void 0:O.baseTextField))}},b))}const ZP=["onClick"],UP=c.forwardRef(function(t,o){var r;const{onClick:i}=t,a=$e(t,ZP),l=fr(),d=fr(),p=gt(),g=Ge(),m=Oe(p,gr),f=x=>{m.open&&m.openedPanelValue===co.columns?p.current.hidePreferences():p.current.showPreferences(co.columns,d,l),i==null||i(x)};if(g.disableColumnSelector)return null;const v=m.open&&m.panelId===d;return h.jsx(g.slots.baseButton,T({ref:o,id:l,size:"small","aria-label":p.current.getLocaleText("toolbarColumnsLabel"),"aria-haspopup":"menu","aria-expanded":v,"aria-controls":v?d:void 0,startIcon:h.jsx(g.slots.columnSelectorIcon,{})},a,{onClick:f},(r=g.slotProps)==null?void 0:r.baseButton,{children:p.current.getLocaleText("toolbarColumns")}))}),KP=["onClick"],JP=c.forwardRef(function(t,o){var r;const{onClick:i}=t,a=$e(t,KP),l=gt(),d=Ge(),p=Oe(l,Jh),g=Xt(),m=Xt(),[f,v]=c.useState(!1),x=c.useRef(null),b=qo(o,x),C=[{icon:h.jsx(d.slots.densityCompactIcon,{}),label:l.current.getLocaleText("toolbarDensityCompact"),value:"compact"},{icon:h.jsx(d.slots.densityStandardIcon,{}),label:l.current.getLocaleText("toolbarDensityStandard"),value:"standard"},{icon:h.jsx(d.slots.densityComfortableIcon,{}),label:l.current.getLocaleText("toolbarDensityComfortable"),value:"comfortable"}],S=c.useMemo(()=>{switch(p){case"compact":return h.jsx(d.slots.densityCompactIcon,{});case"comfortable":return h.jsx(d.slots.densityComfortableIcon,{});default:return h.jsx(d.slots.densityStandardIcon,{})}},[p,d]),_=k=>{v(M=>!M),i==null||i(k)},P=()=>{v(!1)},z=k=>{l.current.setDensity(k),v(!1)},F=k=>{Dc(k.key)&&k.preventDefault(),sm(k.key)&&v(!1)};if(d.disableDensitySelector)return null;const G=C.map((k,M)=>h.jsxs($t,{onClick:()=>z(k.value),selected:k.value===p,children:[h.jsx(Tn,{children:k.icon}),k.label]},M));return h.jsxs(c.Fragment,{children:[h.jsx(d.slots.baseButton,T({ref:b,size:"small",startIcon:S,"aria-label":l.current.getLocaleText("toolbarDensityLabel"),"aria-haspopup":"menu","aria-expanded":f,"aria-controls":f?m:void 0,id:g},a,{onClick:_},(r=d.slotProps)==null?void 0:r.baseButton,{children:l.current.getLocaleText("toolbarDensity")})),h.jsx(Ec,{open:f,target:x.current,onClose:P,position:"bottom-start",children:h.jsx(Ql,{id:m,className:J.menuList,"aria-labelledby":g,onKeyDown:F,autoFocusItem:f,children:G})})]})}),qP=["componentsProps"],XP=e=>{const{classes:t}=e;return bt({root:["toolbarFilterList"]},xt,t)},YP=Ee("ul",{name:"MuiDataGrid",slot:"ToolbarFilterList",overridesResolver:(e,t)=>t.toolbarFilterList})(({theme:e})=>({margin:e.spacing(1,1,.5),padding:e.spacing(0,1)})),QP=c.forwardRef(function(t,o){var r,i;const{componentsProps:a={}}=t,l=$e(t,qP),d=a.button||{},p=gt(),g=Ge(),m=Oe(p,Uh),f=Oe(p,xr),v=Oe(p,gr),x=XP(g),b=Xt(),C=Xt(),S=c.useMemo(()=>{if(v.open)return p.current.getLocaleText("toolbarFiltersTooltipHide");if(m.length===0)return p.current.getLocaleText("toolbarFiltersTooltipShow");const z=G=>f[G.field].filterOperators.find(k=>k.value===G.operator).label||p.current.getLocaleText(`filterOperator${bo(G.operator)}`).toString(),F=G=>{const{getValueAsString:k}=f[G.field].filterOperators.find(M=>M.value===G.operator);return k?k(G.value):G.value};return h.jsxs("div",{children:[p.current.getLocaleText("toolbarFiltersTooltipActive")(m.length),h.jsx(YP,{className:x.root,ownerState:g,children:m.map((G,k)=>T({},f[G.field]&&h.jsx("li",{children:`${f[G.field].headerName||G.field}
                  ${z(G)}
                  ${G.value!=null?F(G):""}`},k)))})]})},[p,g,v.open,m,f,x]),_=z=>{var F;const{open:G,openedPanelValue:k}=v;G&&k===co.filters?p.current.hidePreferences():p.current.showPreferences(co.filters,C,b),(F=d.onClick)==null||F.call(d,z)};if(g.disableColumnFilter)return null;const P=v.open&&v.panelId===C;return h.jsx(g.slots.baseTooltip,T({title:S,enterDelay:1e3},l,(r=g.slotProps)==null?void 0:r.baseTooltip,{children:h.jsx(g.slots.baseButton,T({ref:o,id:b,size:"small","aria-label":p.current.getLocaleText("toolbarFiltersLabel"),"aria-controls":P?C:void 0,"aria-expanded":P,"aria-haspopup":!0,startIcon:h.jsx(lc,{badgeContent:m.length,color:"primary",children:h.jsx(g.slots.openFilterButtonIcon,{})})},d,{onClick:_},(i=g.slotProps)==null?void 0:i.baseButton,{children:p.current.getLocaleText("toolbarFilters")}))}))}),eI=["hideMenu","options"],tI=["hideMenu","options"];function nI(e){const t=gt(),{hideMenu:o,options:r}=e,i=$e(e,eI);return h.jsx($t,T({onClick:()=>{t.current.exportDataAsCsv(r),o==null||o()}},i,{children:t.current.getLocaleText("toolbarExportCSV")}))}function oI(e){const t=gt(),{hideMenu:o,options:r}=e,i=$e(e,tI);return h.jsx($t,T({onClick:()=>{t.current.exportDataAsPrint(r),o==null||o()}},i,{children:t.current.getLocaleText("toolbarExportPrint")}))}const rI=["className","selectedRowCount"],sI=e=>{const{classes:t}=e;return bt({root:["selectedRowCount"]},xt,t)},iI=xn("div",{name:"MuiDataGrid",slot:"SelectedRowCount",overridesResolver:(e,t)=>t.selectedRowCount})(({theme:e})=>({alignItems:"center",display:"flex",margin:e.spacing(0,2),visibility:"hidden",width:0,height:0,[e.breakpoints.up("sm")]:{visibility:"visible",width:"auto",height:"auto"}})),aI=c.forwardRef(function(t,o){const{className:r,selectedRowCount:i}=t,a=$e(t,rI),l=gt(),d=Ge(),p=sI(d),g=l.current.getLocaleText("footerRowSelected")(i);return h.jsx(iI,T({ref:o,className:ze(p.root,r),ownerState:d},a,{children:g}))}),lI=c.forwardRef(function(t,o){var r,i;const a=gt(),l=Ge(),d=Oe(a,Sw),p=Oe(a,U1),g=Oe(a,Zh),m=!l.hideFooterSelectedRowCount&&p>0?h.jsx(aI,{selectedRowCount:p}):h.jsx("div",{}),f=!l.hideFooterRowCount&&!l.pagination?h.jsx(l.slots.footerRowCount,T({},(r=l.slotProps)==null?void 0:r.footerRowCount,{rowCount:d,visibleRowCount:g})):null,v=l.pagination&&!l.hideFooterPagination&&l.slots.pagination&&h.jsx(l.slots.pagination,T({},(i=l.slotProps)==null?void 0:i.pagination));return h.jsxs(e1,T({ref:o},t,{children:[m,f,v]}))});function cI(){var e,t;const o=Ge();return h.jsxs(c.Fragment,{children:[h.jsx(o.slots.preferencesPanel,T({},(e=o.slotProps)==null?void 0:e.preferencesPanel)),o.slots.toolbar&&h.jsx(o.slots.toolbar,T({},(t=o.slotProps)==null?void 0:t.toolbar))]})}const uI=c.forwardRef(function(t,o){return h.jsx(Rc,T({ref:o},t,{children:h.jsx(Dg,{})}))}),dI=c.forwardRef(function(t,o){const i=gt().current.getLocaleText("noRowsLabel");return h.jsx(Rc,T({ref:o},t,{children:i}))}),pI=Ee(s0)(({theme:e})=>({[`& .${ur.selectLabel}`]:{display:"none",[e.breakpoints.up("sm")]:{display:"block"}},[`& .${ur.input}`]:{display:"none",[e.breakpoints.up("sm")]:{display:"inline-flex"}}})),hI=c.forwardRef(function(t,o){const r=gt(),i=Ge(),a=Oe(r,Kn),l=Oe(r,Hr),d=c.useMemo(()=>Math.floor(l/(a.pageSize||1)),[l,a.pageSize]),p=c.useCallback(v=>{const x=Number(v.target.value);r.current.setPageSize(x)},[r]),g=c.useCallback((v,x)=>{r.current.setPage(x)},[r]),f=(v=>{for(let x=0;x<i.pageSizeOptions.length;x+=1){const b=i.pageSizeOptions[x];if(typeof b=="number"){if(b===v)return!0}else if(b.value===v)return!0}return!1})(a.pageSize)?i.pageSizeOptions:[];return h.jsx(pI,T({ref:o,component:"div",count:l,page:a.page<=d?a.page:d,rowsPerPageOptions:f,rowsPerPage:a.pageSize,onPageChange:g,onRowsPerPageChange:p},r.current.getLocaleText("MuiTablePagination"),t))}),mI=["className","rowCount","visibleRowCount"],fI=e=>{const{classes:t}=e;return bt({root:["rowCount"]},xt,t)},gI=xn("div",{name:"MuiDataGrid",slot:"RowCount",overridesResolver:(e,t)=>t.rowCount})(({theme:e})=>({alignItems:"center",display:"flex",margin:e.spacing(0,2)})),vI=c.forwardRef(function(t,o){const{className:r,rowCount:i,visibleRowCount:a}=t,l=$e(t,mI),d=gt(),p=Ge(),g=fI(p);if(i===0)return null;const m=a<i?d.current.getLocaleText("footerTotalVisibleRows")(a,i):i.toLocaleString();return h.jsxs(gI,T({ref:o,className:ze(g.root,r),ownerState:p},l,{children:[d.current.getLocaleText("footerTotalRows")," ",m]}))}),Qi=(e,t)=>{let o,r;return t.pagination&&t.paginationMode==="client"?(r=Oc(e),o=Z1(e)):(o=Yo(e),o.length===0?r=null:r={firstRowIndex:0,lastRowIndex:o.length-1}),{rows:o,range:r}},Cr=(e,t)=>{const o=Qi(e,t);return c.useMemo(()=>({rows:o.rows,range:o.range}),[o.rows,o.range])},jl={current:null};function qs(e){return e.isInternal=!0,e}function ea(e){return e!==void 0&&e.isInternal===!0}function yI(e){return qs((t,o)=>{const r=e(t,o);return r&&(i=>r(i.value,i.row,o,jl.current))})}function Xs(e){return e.map(t=>T({},t,{getApplyFilterFn:yI(t.getApplyFilterFnV7),getApplyFilterFnV7:qs(t.getApplyFilterFnV7)}))}function Im(e){return qs((t,o,r)=>{const i=e(t,o,r);return i&&(a=>i(a.value,a.row,o,r))})}function Tm(e){return{current:e.current.getPublicApi()}}let fs;function bI(){if(fs!==void 0)return fs;try{fs=new Function("return true")()}catch{fs=!1}return fs}const Hl=(e,t)=>{const o=T({},e);if(o.id==null&&(o.id=Math.round(Math.random()*1e5)),o.operator==null){const r=xr(t)[o.field];o.operator=r&&r.filterOperators[0].value}return o},xI=Co(["MUI: The `filterModel` can only contain a single item when the `disableMultipleColumnsFiltering` prop is set to `true`.","If you are using the community version of the `DataGrid`, this prop is always `true`."],"error"),CI=Co("MUI: The `id` field is required on `filterModel.items` when you use multiple filters.","error"),wI=Co("MUI: The `operator` field is required on `filterModel.items`, one or more of your filtering item has no `operator` provided.","error"),km=(e,t,o)=>{const r=e.items.length>1;let i;r&&t?(xI(),i=[e.items[0]]):i=e.items;const a=r&&i.some(d=>d.id==null),l=i.some(d=>d.operator==null);return a&&CI(),l&&wI(),l||a?T({},e,{items:i.map(d=>Hl(d,o))}):e.items!==i?T({},e,{items:i}):e},Vd=(e,t,o)=>r=>T({},r,{filterModel:km(e,t,o)}),Uo=e=>typeof e=="string"?e.normalize("NFD").replace(/[\u0300-\u036f]/g,""):e,Mm=(e,t)=>{if(!e.field||!e.operator)return null;const o=t.current.getColumn(e.field);if(!o)return null;let r;if(o.valueParser){var i;const x=o.valueParser;r=Array.isArray(e.value)?(i=e.value)==null?void 0:i.map(b=>x(b)):x(e.value)}else r=e.value;const{ignoreDiacritics:a}=t.current.rootProps;a&&(r=Uo(r));const l=T({},e,{value:r}),d=o.filterOperators;if(!(d!=null&&d.length))throw new Error(`MUI: No filter operators found for column '${o.field}'.`);const p=d.find(x=>x.value===l.operator);if(!p)throw new Error(`MUI: No filter operator found for column '${o.field}' and operator value '${l.operator}'.`);const g=!ea(p.getApplyFilterFn),m=!ea(p.getApplyFilterFnV7),f=Tm(t);if(p.getApplyFilterFnV7&&!(g&&!m)){const x=p.getApplyFilterFnV7(l,o);return typeof x!="function"?null:{v7:!0,item:l,fn:b=>{let C=t.current.getRowValue(b,o);return a&&(C=Uo(C)),x(C,b,o,f)}}}const v=p.getApplyFilterFn(l,o);return typeof v!="function"?null:{v7:!1,item:l,fn:x=>{const b=t.current.getCellParams(x,l.field);jl.current=f,a&&(b.value=Uo(b.value));const C=v(b);return jl.current=null,C}}};let Wd=1;const SI=(e,t,o)=>{const{items:r}=e,i=r.map(d=>Mm(d,t)).filter(d=>!!d);if(i.length===0)return null;if(o||!bI())return(d,p)=>{const g={};for(let m=0;m<i.length;m+=1){const f=i[m];(!p||p(f.item.field))&&(g[f.item.id]=f.v7?f.fn(d):f.fn(t.current.getRowId(d)))}return g};const a=new Function("getRowId","appliers","row","shouldApplyFilter",`"use strict";
${i.map((d,p)=>`const shouldApply${p} = !shouldApplyFilter || shouldApplyFilter(${JSON.stringify(d.item.field)});`).join(`
`)}

const result$$ = {
${i.map((d,p)=>`  ${JSON.stringify(String(d.item.id))}: !shouldApply${p}
    ? false
    : ${d.v7?`appliers[${p}].fn(row)`:`appliers[${p}].fn(getRowId(row))`},`).join(`
`)}
};

return result$$;`.replaceAll("$$",String(Wd)));return Wd+=1,(d,p)=>a(t.current.getRowId,i,d,p)},_I=(e,t)=>{var o,r,i;const a=(o=(r=e.quickFilterValues)==null?void 0:r.filter(Boolean))!=null?o:[];if(a.length===0)return null;const d=((i=e.quickFilterExcludeHiddenColumns)!=null?i:!1)?Ca(t):Eo(t),p=[],{ignoreDiacritics:g}=t.current.rootProps,m=Tm(t);return d.forEach(f=>{const v=t.current.getColumn(f),x=v==null?void 0:v.getApplyQuickFilterFn,b=v==null?void 0:v.getApplyQuickFilterFnV7,C=!ea(x),S=!ea(b);b&&!(C&&!S)?p.push({column:v,appliers:a.map(_=>{const P=g?Uo(_):_;return{v7:!0,fn:b(P,v,m)}})}):x&&p.push({column:v,appliers:a.map(_=>{const P=g?Uo(_):_;return{v7:!1,fn:x(P,v,m)}})})}),function(v,x){const b={},C={};e:for(let _=0;_<a.length;_+=1){const P=a[_];for(let z=0;z<p.length;z+=1){const{column:F,appliers:G}=p[z],{field:k}=F;if(x&&!x(k))continue;const M=G[_];let E=t.current.getRowValue(v,F);if(M.fn!==null)if(M.v7){if(g&&(E=Uo(E)),M.fn(E,v,F,m)){b[P]=!0;continue e}}else{var S;const $=(S=C[k])!=null?S:t.current.getCellParams(t.current.getRowId(v),k);if(g&&($.value=Uo($.value)),C[k]=$,M.fn($)){b[P]=!0;continue e}}}b[P]=!1}return b}},PI=(e,t,o)=>{const r=SI(e,t,o),i=_I(e,t);return function(l,d,p){var g,m;p.passingFilterItems=(g=r==null?void 0:r(l,d))!=null?g:null,p.passingQuickFilterValues=(m=i==null?void 0:i(l,d))!=null?m:null}},Zd=e=>e!=null,II=(e,t,o)=>(e.cleanedFilterItems||(e.cleanedFilterItems=o.filter(r=>Mm(r,t)!==null)),e.cleanedFilterItems),TI=(e,t,o,r,i)=>{const a=II(i,r,o.items),l=e.filter(Zd),d=t.filter(Zd);if(l.length>0){var p;const m=v=>l.some(x=>x[v.id]);if(((p=o.logicOperator)!=null?p:Ls().logicOperator)===Fn.And){if(!a.every(m))return!1}else if(!a.some(m))return!1}if(d.length>0&&o.quickFilterValues!=null){var g;const m=v=>d.some(x=>x[v]);if(((g=o.quickFilterLogicOperator)!=null?g:Ls().quickFilterLogicOperator)===Fn.And){if(!o.quickFilterValues.every(m))return!1}else if(!o.quickFilterValues.some(m))return!1}return!0},Ud=qs(e=>{if(!e)return null;const t=new RegExp(Ai(e),"i");return(o,r,i,a)=>{let l=a.current.getRowFormattedValue(r,i);return a.current.ignoreDiacritics&&(l=Uo(l)),l!=null?t.test(l.toString()):!1}}),kI=(e=!1)=>Xs([{value:"contains",getApplyFilterFnV7:t=>{if(!t.value)return null;const o=e?t.value:t.value.trim(),r=new RegExp(Ai(o),"i");return i=>i!=null?r.test(String(i)):!1},InputComponent:fo},{value:"equals",getApplyFilterFnV7:t=>{if(!t.value)return null;const o=e?t.value:t.value.trim(),r=new Intl.Collator(void 0,{sensitivity:"base",usage:"search"});return i=>i!=null?r.compare(o,i.toString())===0:!1},InputComponent:fo},{value:"startsWith",getApplyFilterFnV7:t=>{if(!t.value)return null;const o=e?t.value:t.value.trim(),r=new RegExp(`^${Ai(o)}.*$`,"i");return i=>i!=null?r.test(i.toString()):!1},InputComponent:fo},{value:"endsWith",getApplyFilterFnV7:t=>{if(!t.value)return null;const o=e?t.value:t.value.trim(),r=new RegExp(`.*${Ai(o)}$`,"i");return i=>i!=null?r.test(i.toString()):!1},InputComponent:fo},{value:"isEmpty",getApplyFilterFnV7:()=>t=>t===""||t==null,requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFnV7:()=>t=>t!==""&&t!=null,requiresFilterValue:!1},{value:"isAnyOf",getApplyFilterFnV7:t=>{if(!Array.isArray(t.value)||t.value.length===0)return null;const o=e?t.value:t.value.map(i=>i.trim()),r=new Intl.Collator(void 0,{sensitivity:"base",usage:"search"});return i=>i!=null?o.some(a=>r.compare(a,i.toString()||"")===0):!1},InputComponent:Pm}]),ao={width:100,minWidth:50,maxWidth:1/0,hideable:!0,sortable:!0,resizable:!0,filterable:!0,groupable:!0,pinnable:!0,aggregable:!0,editable:!1,sortComparator:t_,type:"string",align:"left",filterOperators:kI(),renderEditCell:_S,getApplyQuickFilterFn:Im(Ud),getApplyQuickFilterFnV7:Ud},MI=()=>Xs([{value:"is",getApplyFilterFnV7:e=>{if(!e.value)return null;const t=e.value==="true";return o=>!!o===t},InputComponent:$P}]);function AI({value:e,api:t}){return e?t.getLocaleText("booleanCellTrueLabel"):t.getLocaleText("booleanCellFalseLabel")}const DI=e=>{switch(e.toLowerCase().trim()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case"null":case"undefined":return!1;default:return}},Am=T({},ao,{type:"boolean",align:"center",headerAlign:"center",renderCell:dS,renderEditCell:fS,sortComparator:vm,valueFormatter:AI,filterOperators:MI(),getApplyQuickFilterFn:void 0,getApplyQuickFilterFnV7:void 0,aggregable:!1,pastedValueParser:e=>DI(e)}),Bo="__check__",ts=T({},Am,{field:Bo,type:"checkboxSelection",width:50,resizable:!1,sortable:!1,filterable:!1,aggregable:!1,disableColumnMenu:!0,disableReorder:!0,disableExport:!0,getApplyQuickFilterFn:void 0,getApplyQuickFilterFnV7:void 0,valueGetter:e=>Yi(e.api.state,e.api.instanceId)[e.id]!==void 0,renderHeader:e=>h.jsx(f_,T({},e)),renderCell:e=>h.jsx(p_,T({},e))}),ka="actions",EI=T({},ao,{sortable:!1,filterable:!1,aggregable:!1,width:100,align:"center",headerAlign:"center",headerName:"",disableColumnMenu:!0,disableExport:!0,renderCell:HS,getApplyQuickFilterFn:void 0,getApplyQuickFilterFnV7:void 0}),Bc="__detail_panel_toggle__",An=e=>e.editRows,RI=["selected","hovered","rowId","row","index","style","position","rowHeight","className","visibleColumns","renderedColumns","containerWidth","firstColumnToRender","lastColumnToRender","isLastVisible","focusedCellColumnIndexNotInRange","isNotVisible","focusedCell","tabbableCell","onClick","onDoubleClick","onMouseEnter","onMouseLeave","onMouseOut","onMouseOver"],LI=e=>{const{editable:t,editing:o,selected:r,isLastVisible:i,rowHeight:a,classes:l}=e;return bt({root:["row",r&&"selected",t&&"row--editable",o&&"row--editing",i&&"row--lastVisible",a==="auto"&&"row--dynamicHeight"]},xt,l)};function FI({width:e}){if(!e)return null;const t={width:e};return h.jsx("div",{className:`${J.cell} ${J.withBorderColor}`,style:t})}const OI=c.forwardRef(function(t,o){const{selected:r,hovered:i,rowId:a,row:l,index:d,style:p,position:g,rowHeight:m,className:f,visibleColumns:v,renderedColumns:x,containerWidth:b,firstColumnToRender:C,isLastVisible:S=!1,focusedCellColumnIndexNotInRange:_,isNotVisible:P,focusedCell:z,onClick:F,onDoubleClick:G,onMouseEnter:k,onMouseLeave:M,onMouseOut:E,onMouseOver:$}=t,D=$e(t,RI),O=gt(),H=c.useRef(null),B=Ge(),I=Cr(O,B),A=Oe(O,_c),j=Oe(O,Un),V=Oe(O,_a),R=Oe(O,Us),W=Oe(O,An),Z=qo(H,o),q=d+R+2,ee={selected:r,isLastVisible:S,classes:B.classes,editing:O.current.getRowMode(a)===Ht.Edit,editable:B.editMode===xo.Row,rowHeight:m},X=LI(ee);c.useLayoutEffect(()=>{m==="auto"&&H.current&&typeof ResizeObserver>"u"&&O.current.unstable_storeRowHeightMeasurement(a,H.current.clientHeight,g)},[O,m,a,g]),c.useLayoutEffect(()=>{if(I.range){const Be=O.current.getRowIndexRelativeToVisibleRows(a);Be!=null&&O.current.unstable_setLastMeasuredRowIndex(Be)}const ge=H.current;if(!ge||m!=="auto"||typeof ResizeObserver>"u")return;const ke=new ResizeObserver(Be=>{const[Qe]=Be,Je=Qe.borderBoxSize&&Qe.borderBoxSize.length>0?Qe.borderBoxSize[0].blockSize:Qe.contentRect.height;O.current.unstable_storeRowHeightMeasurement(a,Je,g)});return ke.observe(ge),()=>ke.disconnect()},[O,I.range,d,m,a,g]);const te=c.useCallback((ge,ye)=>ke=>{Ks(ke)||O.current.getRow(a)&&(O.current.publishEvent(ge,O.current.getRowParams(a),ke),ye&&ye(ke))},[O,a]),Y=c.useCallback(ge=>{const ye=Jw(ge.target,J.cell),ke=ye==null?void 0:ye.getAttribute("data-field");if(ke){if(ke===ts.field||ke===Bc||ke==="__reorder__"||O.current.getCellMode(a,ke)===Lt.Edit)return;const Be=O.current.getColumn(ke);if((Be==null?void 0:Be.type)===ka)return}te("rowClick",F)(ge)},[O,F,te,a]),{slots:ne,slotProps:re,disableColumnReorder:ve}=B,_e=ne.cell===$l?$l:sS,be=B.rowReordering,Ae=(ge,ye)=>{var ke,Be;const Qe=ve&&ge.disableReorder||!be&&!!j.length&&V>1&&Object.keys(W).length>0,Je=(ke=(Be=W[a])==null?void 0:Be[ge.field])!=null?ke:null;let qe=!1;return _!==void 0&&v[_].field===ge.field&&(qe=!0),h.jsx(_e,T({column:ge,width:ye.width,rowId:a,height:m,showRightBorder:ye.showRightBorder,align:ge.align||"left",colIndex:ye.indexRelativeToAllColumns,colSpan:ye.colSpan,disableDragEvents:Qe,editCellState:Je,isNotVisible:qe},re==null?void 0:re.cell),ge.field)},Ce=Oe(O,()=>T({},O.current.unstable_getRowInternalSizes(a)),yc);let fe=m;if(fe==="auto"&&Ce){let ge=0;const ye=Object.entries(Ce).reduce((ke,[Be,Qe])=>/^base[A-Z]/.test(Be)?(ge+=1,Qe>ke?Qe:ke):ke,0);ye>0&&ge>1&&(fe=ye)}const se=c.useMemo(()=>{if(P)return{opacity:0,width:0,height:0};const ge=T({},p,{maxHeight:m==="auto"?"none":m,minHeight:fe});if(Ce!=null&&Ce.spacingTop){const ye=B.rowSpacingType==="border"?"borderTopWidth":"marginTop";ge[ye]=Ce.spacingTop}if(Ce!=null&&Ce.spacingBottom){const ye=B.rowSpacingType==="border"?"borderBottomWidth":"marginBottom";let ke=ge[ye];typeof ke!="number"&&(ke=parseInt(ke||"0",10)),ke+=Ce.spacingBottom,ge[ye]=ke}return ge},[P,m,p,fe,Ce,B.rowSpacingType]),U=O.current.unstable_applyPipeProcessors("rowClassName",[],a);if(typeof B.getRowClassName=="function"){var he;const ge=d-(((he=I.range)==null?void 0:he.firstRowIndex)||0),ye=T({},O.current.getRowParams(a),{isFirstVisible:ge===0,isLastVisible:ge===I.rows.length-1,indexRelativeToCurrentPage:ge});U.push(B.getRowClassName(ye))}const Q=$1(1e4,20,80),ie=O.current.getRowNode(a);if(!ie)return null;const de=ie.type,we=[];for(let ge=0;ge<x.length;ge+=1){const ye=x[ge];let ke=C+ge;_!==void 0&&z&&(v[_].field===ye.field?ke=_:ke-=1);const Be=O.current.unstable_getCellColSpanInfo(a,ke);if(Be&&!Be.spannedByColSpan)if(de!=="skeletonRow"){const{colSpan:Qe,width:Je}=Be.cellProps,qe={width:Je,colSpan:Qe,showRightBorder:B.showCellVerticalBorder,indexRelativeToAllColumns:ke};we.push(Ae(ye,qe))}else{const{width:Qe}=Be.cellProps,Je=Math.round(Q());we.push(h.jsx(ne.skeletonCell,{width:Qe,contentWidth:Je,field:ye.field,align:ye.align},ye.field))}}const Re=b-A,Pe=l?{onClick:Y,onDoubleClick:te("rowDoubleClick",G),onMouseEnter:te("rowMouseEnter",k),onMouseLeave:te("rowMouseLeave",M),onMouseOut:te("rowMouseOut",E),onMouseOver:te("rowMouseOver",$)}:null;return h.jsxs("div",T({ref:Z,"data-id":a,"data-rowindex":d,role:"row",className:ze(...U,X.root,f,i&&"Mui-hovered"),"aria-rowindex":q,"aria-selected":r,style:se},Pe,D,{children:[we,Re>0&&h.jsx(FI,{width:Re})]}))}),NI=Ta(OI);function zI({privateApiRef:e,props:t,children:o}){const r=c.useRef(e.current.getPublicApi());return h.jsx(kh.Provider,{value:t,children:h.jsx(Rh.Provider,{value:e,children:h.jsx(Th.Provider,{value:r,children:o})})})}const $I=N1()&&window.localStorage.getItem("DEBUG")!=null,ws=()=>{},BI={debug:ws,info:ws,warn:ws,error:ws},Kd=["debug","info","warn","error"];function Jd(e,t,o=console){const r=Kd.indexOf(t);if(r===-1)throw new Error(`MUI: Log level ${t} not recognized.`);return Kd.reduce((a,l,d)=>(d>=r?a[l]=(...p)=>{const[g,...m]=p;o[l](`MUI: ${e} - ${g}`,...m)}:a[l]=ws,a),{})}const jI=(e,t)=>{const o=c.useCallback(r=>$I?Jd(r,"debug",t.logger):t.logLevel?Jd(r,t.logLevel.toString(),t.logger):BI,[t.logLevel,t.logger]);pt(e,{getLogger:o},"private")};class jc{static create(t){return new jc(t)}constructor(t){this.value=void 0,this.listeners=void 0,this.subscribe=o=>(this.listeners.add(o),()=>{this.listeners.delete(o)}),this.getSnapshot=()=>this.value,this.update=o=>{this.value=o,this.listeners.forEach(r=>r(o))},this.value=t,this.listeners=new Set}}class HI{constructor(){this.maxListeners=20,this.warnOnce=!1,this.events={}}on(t,o,r={}){let i=this.events[t];i||(i={highPriority:new Map,regular:new Map},this.events[t]=i),r.isFirst?i.highPriority.set(o,!0):i.regular.set(o,!0)}removeListener(t,o){this.events[t]&&(this.events[t].regular.delete(o),this.events[t].highPriority.delete(o))}removeAllListeners(){this.events={}}emit(t,...o){const r=this.events[t];if(!r)return;const i=Array.from(r.highPriority.keys()),a=Array.from(r.regular.keys());for(let l=i.length-1;l>=0;l-=1){const d=i[l];r.highPriority.has(d)&&d.apply(this,o)}for(let l=0;l<a.length;l+=1){const d=a[l];r.regular.has(d)&&d.apply(this,o)}}once(t,o){const r=this;this.on(t,function i(...a){r.removeListener(t,i),o.apply(r,a)})}}const Dm=Symbol("mui.api_private"),GI=e=>e.isPropagationStopped!==void 0;let qd=0;function VI(e){var t;const o=(t=e.current)==null?void 0:t[Dm];if(o)return o;const r={},i={state:r,store:jc.create(r),instanceId:{id:qd}};return qd+=1,i.getPublicApi=()=>e.current,i.register=(a,l)=>{Object.keys(l).forEach(d=>{const p=l[d],g=i[d];if((g==null?void 0:g.spying)===!0?g.target=p:i[d]=p,a==="public"){const m=e.current,f=m[d];(f==null?void 0:f.spying)===!0?f.target=p:m[d]=p}})},i.register("private",{caches:{},eventManager:new HI}),i}function WI(e){return{get state(){return e.current.state},get store(){return e.current.store},get instanceId(){return e.current.instanceId},[Dm]:e.current}}function ZI(e,t){const o=c.useRef(),r=c.useRef();r.current||(r.current=VI(o)),o.current||(o.current=WI(r));const i=c.useCallback((...l)=>{const[d,p,g={}]=l;if(g.defaultMuiPrevented=!1,GI(g)&&g.isPropagationStopped())return;const m=t.signature===yo.DataGridPro?{api:r.current.getPublicApi()}:{};r.current.eventManager.emit(d,p,g,m)},[r,t.signature]),a=c.useCallback((l,d,p)=>{r.current.eventManager.on(l,d,p);const g=r.current;return()=>{g.eventManager.removeListener(l,d)}},[r]);return pt(r,{subscribeEvent:a,publishEvent:i},"public"),c.useImperativeHandle(e,()=>o.current,[o]),c.useEffect(()=>{const l=r.current;return()=>{l.publishEvent("unmount")}},[r]),r}const UI=(e,t)=>{const o=c.useCallback(r=>{if(t.localeText[r]==null)throw new Error(`Missing translation for key ${r}.`);return t.localeText[r]},[t.localeText]);e.current.register("public",{getLocaleText:o})},KI=e=>{const t=c.useRef({}),o=c.useRef(!1),r=c.useCallback(m=>{o.current||!m||(o.current=!0,Object.values(m.appliers).forEach(f=>{f()}),o.current=!1)},[]),i=c.useCallback((m,f,v)=>{t.current[m]||(t.current[m]={processors:new Map,appliers:{}});const x=t.current[m];return x.processors.get(f)!==v&&(x.processors.set(f,v),r(x)),()=>{t.current[m].processors.set(f,null)}},[r]),a=c.useCallback((m,f,v)=>(t.current[m]||(t.current[m]={processors:new Map,appliers:{}}),t.current[m].appliers[f]=v,()=>{const x=t.current[m].appliers,b=$e(x,[f].map(Es));t.current[m].appliers=b}),[]),l=c.useCallback(m=>{const f=t.current[m];r(f)},[r]),d=c.useCallback((...m)=>{const[f,v,x]=m;return t.current[f]?Array.from(t.current[f].processors.values()).reduce((C,S)=>S?S(C,x):C,v):v},[]),p={registerPipeProcessor:i,registerPipeApplier:a,requestPipeProcessorsApplication:l},g={unstable_applyPipeProcessors:d};pt(e,p,"private"),pt(e,g,"public")},an=(e,t,o)=>{const r=c.useRef(),i=c.useRef(`mui-${Math.round(Math.random()*1e9)}`),a=c.useCallback(()=>{r.current=e.current.registerPipeProcessor(t,i.current,o)},[e,o,t]);Js(()=>{a()});const l=c.useRef(!0);c.useEffect(()=>(l.current?l.current=!1:a(),()=>{r.current&&(r.current(),r.current=null)}),[a])},Hc=(e,t,o)=>{const r=c.useRef(),i=c.useRef(`mui-${Math.round(Math.random()*1e9)}`),a=c.useCallback(()=>{r.current=e.current.registerPipeApplier(t,i.current,o)},[e,o,t]);Js(()=>{a()});const l=c.useRef(!0);c.useEffect(()=>(l.current?l.current=!1:a(),()=>{r.current&&(r.current(),r.current=null)}),[a])},ta=(e,t,o,r)=>{const i=c.useCallback(()=>{e.current.registerStrategyProcessor(t,o,r)},[e,r,o,t]);Js(()=>{i()});const a=c.useRef(!0);c.useEffect(()=>{a.current?a.current=!1:i()},[i])},vr="none",Xd={rowTreeCreation:"rowTree",filtering:"rowTree",sorting:"rowTree",visibleRowsLookupCreation:"rowTree"},JI=e=>{const t=c.useRef(new Map),o=c.useRef({}),r=c.useCallback((p,g,m)=>{const f=()=>{const b=o.current[g],C=$e(b,[p].map(Es));o.current[g]=C};o.current[g]||(o.current[g]={});const v=o.current[g],x=v[p];return v[p]=m,!x||x===m||p===e.current.getActiveStrategy(Xd[g])&&e.current.publishEvent("activeStrategyProcessorChange",g),f},[e]),i=c.useCallback((p,g)=>{const m=e.current.getActiveStrategy(Xd[p]);if(m==null)throw new Error("Can't apply a strategy processor before defining an active strategy");const f=o.current[p];if(!f||!f[m])throw new Error(`No processor found for processor "${p}" on strategy "${m}"`);const v=f[m];return v(g)},[e]),a=c.useCallback(p=>{var g;const f=Array.from(t.current.entries()).find(([,v])=>v.group!==p?!1:v.isAvailable());return(g=f==null?void 0:f[0])!=null?g:vr},[]),l=c.useCallback((p,g,m)=>{t.current.set(g,{group:p,isAvailable:m}),e.current.publishEvent("strategyAvailabilityChange")},[e]);pt(e,{registerStrategyProcessor:r,applyStrategyProcessor:i,getActiveStrategy:a,setStrategyAvailability:l},"private")},qI=(e,t)=>{const o=c.useRef({}),[,r]=c.useState(),i=c.useCallback(m=>{o.current[m.stateId]=m},[]),a=c.useCallback((m,f)=>{let v;if(cm(m)?v=m(e.current.state):v=m,e.current.state===v)return!1;let x=!1;const b=[];if(Object.keys(o.current).forEach(C=>{const S=o.current[C],_=S.stateSelector(e.current.state,e.current.instanceId),P=S.stateSelector(v,e.current.instanceId);P!==_&&(b.push({stateId:S.stateId,hasPropChanged:P!==S.propModel}),S.propModel!==void 0&&P!==S.propModel&&(x=!0))}),b.length>1)throw new Error(`You're not allowed to update several sub-state in one transaction. You already updated ${b[0].stateId}, therefore, you're not allowed to update ${b.map(C=>C.stateId).join(", ")} in the same transaction.`);if(x||(e.current.state=v,e.current.publishEvent&&e.current.publishEvent("stateChange",v),e.current.store.update(v)),b.length===1){const{stateId:C,hasPropChanged:S}=b[0],_=o.current[C],P=_.stateSelector(v,e.current.instanceId);if(_.propOnChange&&S){const z=t.signature===yo.DataGridPro?{api:e.current,reason:f}:{reason:f};_.propOnChange(P,z)}x||e.current.publishEvent(_.changeEvent,P,{reason:f})}return!x},[e,t.signature]),l=c.useCallback((m,f,v)=>e.current.setState(x=>T({},x,{[m]:f(x[m])}),v),[e]),d=c.useCallback(()=>r(()=>e.current.state),[e]),p={setState:a,forceUpdate:d},g={updateControlState:l,registerControlState:i};pt(e,p,"public"),pt(e,g,"private")},XI=(e,t)=>{const o=ZI(e,t);return jI(o,t),qI(o,t),KI(o),JI(o),UI(o,t),o.current.register("private",{rootProps:t}),o},Ln=(e,t,o)=>{const r=c.useRef(!1);r.current||(t.current.state=e(t.current.state,o,t),r.current=!0)},YI=/(\d+)-(\d+)-(\d+)/,QI=/(\d+)-(\d+)-(\d+)T(\d+):(\d+)/;function Rr(e,t,o,r){if(!e.value)return null;const[i,a,l,d,p]=e.value.match(o?QI:YI).slice(1).map(Number),g=new Date(i,a-1,l,d||0,p||0).getTime();return m=>{if(!m)return!1;if(r)return t(m.getTime(),g);const v=new Date(m).setHours(o?m.getHours():0,o?m.getMinutes():0,0,0);return t(v,g)}}const Em=e=>Xs([{value:"is",getApplyFilterFnV7:t=>Rr(t,(o,r)=>o===r,e),InputComponent:Er,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"not",getApplyFilterFnV7:t=>Rr(t,(o,r)=>o!==r,e),InputComponent:Er,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"after",getApplyFilterFnV7:t=>Rr(t,(o,r)=>o>r,e),InputComponent:Er,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"onOrAfter",getApplyFilterFnV7:t=>Rr(t,(o,r)=>o>=r,e),InputComponent:Er,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"before",getApplyFilterFnV7:t=>Rr(t,(o,r)=>o<r,e,!e),InputComponent:Er,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"onOrBefore",getApplyFilterFnV7:t=>Rr(t,(o,r)=>o<=r,e),InputComponent:Er,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"isEmpty",getApplyFilterFnV7:()=>t=>t==null,requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFnV7:()=>t=>t!=null,requiresFilterValue:!1}]);function Rm({value:e,columnType:t,rowId:o,field:r}){if(!(e instanceof Date))throw new Error([`MUI: \`${t}\` column type only accepts \`Date\` objects as values.`,"Use `valueGetter` to transform the value into a `Date` object.",`Row ID: ${o}, field: "${r}".`].join(`
`))}function eT({value:e,field:t,id:o}){return e?(Rm({value:e,columnType:"date",rowId:o,field:t}),e.toLocaleDateString()):""}function tT({value:e,field:t,id:o}){return e?(Rm({value:e,columnType:"dateTime",rowId:o,field:t}),e.toLocaleString()):""}const nT=T({},ao,{type:"date",sortComparator:ym,valueFormatter:eT,filterOperators:Em(),renderEditCell:nm,pastedValueParser:e=>new Date(e)}),oT=T({},ao,{type:"dateTime",sortComparator:ym,valueFormatter:tT,filterOperators:Em(!0),renderEditCell:nm,pastedValueParser:e=>new Date(e)}),jo=e=>e==null?null:Number(e),Yd=qs(e=>e==null||Number.isNaN(e)||e===""?null:t=>jo(t)===jo(e)),rT=()=>Xs([{value:"=",getApplyFilterFnV7:e=>e.value==null||Number.isNaN(e.value)?null:t=>jo(t)===e.value,InputComponent:fo,InputComponentProps:{type:"number"}},{value:"!=",getApplyFilterFnV7:e=>e.value==null||Number.isNaN(e.value)?null:t=>jo(t)!==e.value,InputComponent:fo,InputComponentProps:{type:"number"}},{value:">",getApplyFilterFnV7:e=>e.value==null||Number.isNaN(e.value)?null:t=>t==null?!1:jo(t)>e.value,InputComponent:fo,InputComponentProps:{type:"number"}},{value:">=",getApplyFilterFnV7:e=>e.value==null||Number.isNaN(e.value)?null:t=>t==null?!1:jo(t)>=e.value,InputComponent:fo,InputComponentProps:{type:"number"}},{value:"<",getApplyFilterFnV7:e=>e.value==null||Number.isNaN(e.value)?null:t=>t==null?!1:jo(t)<e.value,InputComponent:fo,InputComponentProps:{type:"number"}},{value:"<=",getApplyFilterFnV7:e=>e.value==null||Number.isNaN(e.value)?null:t=>t==null?!1:jo(t)<=e.value,InputComponent:fo,InputComponentProps:{type:"number"}},{value:"isEmpty",getApplyFilterFnV7:()=>e=>e==null,requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFnV7:()=>e=>e!=null,requiresFilterValue:!1},{value:"isAnyOf",getApplyFilterFnV7:e=>!Array.isArray(e.value)||e.value.length===0?null:t=>t!=null&&e.value.includes(Number(t)),InputComponent:Pm,InputComponentProps:{type:"number"}}]),sT=T({},ao,{type:"number",align:"right",headerAlign:"right",sortComparator:vm,valueParser:e=>e===""?null:Number(e),valueFormatter:({value:e})=>O1(e)?e.toLocaleString():e||"",filterOperators:rT(),getApplyQuickFilterFn:Im(Yd),getApplyQuickFilterFnV7:Yd}),Lr=e=>e==null||!Lc(e)?e:e.value,iT=()=>Xs([{value:"is",getApplyFilterFnV7:e=>e.value==null||e.value===""?null:t=>Lr(t)===Lr(e.value),InputComponent:Hd},{value:"not",getApplyFilterFnV7:e=>e.value==null||e.value===""?null:t=>Lr(t)!==Lr(e.value),InputComponent:Hd},{value:"isAnyOf",getApplyFilterFnV7:e=>{if(!Array.isArray(e.value)||e.value.length===0)return null;const t=e.value.map(Lr);return o=>t.includes(Lr(o))},InputComponent:WP}]),aT=e=>typeof e[0]=="object",lT=e=>Lc(e)?e.value:e,cT=e=>Lc(e)?e.label:String(e),uT=T({},ao,{type:"singleSelect",getOptionLabel:cT,getOptionValue:lT,valueFormatter(e){const{id:t,field:o,value:r,api:i}=e,a=e.api.getColumn(o);if(!pr(a))return"";let l;if(typeof a.valueOptions=="function"?l=a.valueOptions({id:t,row:t?i.getRow(t):null,field:o}):l=a.valueOptions,r==null)return"";if(!l)return r;if(!aT(l))return a.getOptionLabel(r);const d=l.find(p=>a.getOptionValue(p)===r);return d?a.getOptionLabel(d):""},renderEditCell:LS,filterOperators:iT(),pastedValueParser:(e,t)=>{const o=t.colDef,r=o.valueOptions,i=typeof r=="function"?r({field:o.field}):r||[],a=o.getOptionValue;if(i.find(d=>a(d)===e))return e}}),Lm="__default__",dT=()=>({string:ao,number:sT,date:nT,dateTime:oT,boolean:Am,singleSelect:uT,[ka]:EI,[Lm]:ao});function Gl(e,t){if(typeof e=="string"){if(t.shouldAppendQuotes||t.escapeFormulas){const o=e.replace(/"/g,'""');return[t.delimiter,`
`,"\r",'"'].some(r=>e.includes(r))?`"${o}"`:t.escapeFormulas&&["=","+","-","@","	","\r"].includes(o[0])?`'${o}`:o}return e}return e}const Fm=(e,t)=>{const{csvOptions:o,ignoreValueFormatter:r}=t;let i;if(r){var a;const d=e.colDef.type;if(d==="number")i=String(e.value);else if(d==="date"||d==="dateTime"){var l;i=(l=e.value)==null?void 0:l.toISOString()}else typeof((a=e.value)==null?void 0:a.toString)=="function"?i=e.value.toString():i=e.value}else i=e.formattedValue;return Gl(i,o)};Co(["MUI: When the value of a field is an object or a `renderCell` is provided, the CSV export might not display the value correctly.","You can provide a `valueFormatter` with a string representation to be used."]);class Vl{constructor(t){this.options=void 0,this.rowString="",this.isEmpty=!0,this.options=t}addValue(t){this.isEmpty||(this.rowString+=this.options.csvOptions.delimiter),t==null?this.rowString+="":typeof this.options.sanitizeCellValue=="function"?this.rowString+=this.options.sanitizeCellValue(t,this.options.csvOptions):this.rowString+=t,this.isEmpty=!1}getRowString(){return this.rowString}}const pT=({id:e,columns:t,getCellParams:o,csvOptions:r,ignoreValueFormatter:i})=>{const a=new Vl({csvOptions:r});return t.forEach(l=>{const d=o(e,l.field);a.addValue(Fm(d,{ignoreValueFormatter:i,csvOptions:r}))}),a.getRowString()};function hT(e){const{columns:t,rowIds:o,csvOptions:r,ignoreValueFormatter:i,apiRef:a}=e,l=o.reduce((f,v)=>`${f}${pT({id:v,columns:t,getCellParams:a.current.getCellParams,ignoreValueFormatter:i,csvOptions:r})}\r
`,"").trim();if(!r.includeHeaders)return l;const d=t.filter(f=>f.field!==ts.field),p=[];if(r.includeColumnGroupsHeaders){const f=a.current.unstable_getAllGroupDetails();let v=0;const x=d.reduce((b,C)=>{const S=a.current.unstable_getColumnGroupPath(C.field);return b[C.field]=S,v=Math.max(v,S.length),b},{});for(let b=0;b<v;b+=1){const C=new Vl({csvOptions:r,sanitizeCellValue:Gl});p.push(C),d.forEach(S=>{const _=(x[S.field]||[])[b],P=f[_];C.addValue(P?P.headerName||P.groupId:"")})}}const g=new Vl({csvOptions:r,sanitizeCellValue:Gl});return d.forEach(f=>{g.addValue(f.headerName||f.field)}),p.push(g),`${`${p.map(f=>f.getRowString()).join(`\r
`)}\r
`}${l}`.trim()}function Qd(e){const t=document.createElement("span");t.style.whiteSpace="pre",t.style.userSelect="all",t.style.opacity="0px",t.textContent=e,document.body.appendChild(t);const o=document.createRange();o.selectNode(t);const r=window.getSelection();r.removeAllRanges(),r.addRange(o);try{document.execCommand("copy")}finally{document.body.removeChild(t)}}function mT(e){navigator.clipboard?navigator.clipboard.writeText(e).catch(()=>{Qd(e)}):Qd(e)}function fT(e){var t;return!!((t=window.getSelection())!=null&&t.toString()||e&&(e.selectionEnd||0)-(e.selectionStart||0)>0)}const gT=(e,t)=>{const o=t.unstable_ignoreValueFormatterDuringExport,r=(typeof o=="object"?o==null?void 0:o.clipboardExport:o)||!1,i=t.clipboardCopyCellDelimiter,a=c.useCallback(l=>{if(!((l.ctrlKey||l.metaKey)&&l.key==="c")||fT(l.target))return;let d="";if(e.current.getSelectedRows().size>0)d=e.current.getDataAsCsv({includeHeaders:!1,delimiter:i,shouldAppendQuotes:!1,escapeFormulas:!1});else{const g=$n(e);if(g){const m=e.current.getCellParams(g.id,g.field);d=Fm(m,{csvOptions:{delimiter:i,shouldAppendQuotes:!1,escapeFormulas:!1},ignoreValueFormatter:r})}}d=e.current.unstable_applyPipeProcessors("clipboardCopy",d),d&&(mT(d),e.current.publishEvent("clipboardCopy",d))},[e,r,i]);B1(e,e.current.rootElementRef,"keydown",a),Ut(e,"clipboardCopy",t.onClipboardCopy)},vT=e=>T({},e,{columnMenu:{open:!1}}),yT=e=>{const t=Pn(e,"useGridColumnMenu"),o=c.useCallback(l=>{e.current.setState(p=>p.columnMenu.open&&p.columnMenu.field===l?p:(t.debug("Opening Column Menu"),T({},p,{columnMenu:{open:!0,field:l}})))&&(e.current.hidePreferences(),e.current.forceUpdate())},[e,t]),r=c.useCallback(()=>{const l=zl(e.current.state);if(l.field){const p=xr(e),g=so(e),m=Eo(e);let f=l.field;if(p[f]||(f=m[0]),g[f]===!1){const v=m.filter(b=>b===f?!0:g[b]!==!1),x=v.indexOf(f);f=v[x+1]||v[x-1]}e.current.setColumnHeaderFocus(f)}e.current.setState(p=>!p.columnMenu.open&&p.columnMenu.field===void 0?p:(t.debug("Hiding Column Menu"),T({},p,{columnMenu:T({},p.columnMenu,{open:!1,field:void 0})})))&&e.current.forceUpdate()},[e,t]),i=c.useCallback(l=>{t.debug("Toggle Column Menu");const d=zl(e.current.state);!d.open||d.field!==l?o(l):r()},[e,t,o,r]);pt(e,{showColumnMenu:o,hideColumnMenu:r,toggleColumnMenu:i},"public"),We(e,"columnResizeStart",r),We(e,"virtualScrollerWheel",e.current.hideColumnMenu),We(e,"virtualScrollerTouchMove",e.current.hideColumnMenu)},Om=["maxWidth","minWidth","width","flex"];function bT({initialFreeSpace:e,totalFlexUnits:t,flexColumns:o}){const r=new Set(o.map(l=>l.field)),i={all:{},frozenFields:[],freeze:l=>{const d=i.all[l];d&&d.frozen!==!0&&(i.all[l].frozen=!0,i.frozenFields.push(l))}};function a(){if(i.frozenFields.length===r.size)return;const l={min:{},max:{}};let d=e,p=t,g=0;i.frozenFields.forEach(m=>{d-=i.all[m].computedWidth,p-=i.all[m].flex});for(let m=0;m<o.length;m+=1){const f=o[m];if(i.all[f.field]&&i.all[f.field].frozen===!0)continue;let x=d/p*f.flex;x<f.minWidth?(g+=f.minWidth-x,x=f.minWidth,l.min[f.field]=!0):x>f.maxWidth&&(g+=f.maxWidth-x,x=f.maxWidth,l.max[f.field]=!0),i.all[f.field]={frozen:!1,computedWidth:x,flex:f.flex}}g<0?Object.keys(l.max).forEach(m=>{i.freeze(m)}):g>0?Object.keys(l.min).forEach(m=>{i.freeze(m)}):o.forEach(({field:m})=>{i.freeze(m)}),a()}return a(),i.all}const Wl=(e,t)=>{const o={};let r=0,i=0;const a=[];e.orderedFields.forEach(d=>{const p=T({},e.lookup[d]);if(e.columnVisibilityModel[d]===!1)p.computedWidth=0;else{let g;p.flex&&p.flex>0?(r+=p.flex,g=0,a.push(p)):g=qr(p.width||ao.width,p.minWidth||ao.minWidth,p.maxWidth||ao.maxWidth),i+=g,p.computedWidth=g}o[d]=p});const l=Math.max(t-i,0);if(r>0&&t>0){const d=bT({initialFreeSpace:l,totalFlexUnits:r,flexColumns:a});Object.keys(d).forEach(p=>{o[p].computedWidth=d[p].computedWidth})}return T({},e,{lookup:o})},xT=(e,t)=>{if(!t)return e;const{orderedFields:o=[],dimensions:r={}}=t,i=Object.keys(r);if(i.length===0&&o.length===0)return e;const a={},l=[];for(let m=0;m<o.length;m+=1){const f=o[m];e.lookup[f]&&(a[f]=!0,l.push(f))}const d=l.length===0?e.orderedFields:[...l,...e.orderedFields.filter(m=>!a[m])],p=T({},e.lookup);for(let m=0;m<i.length;m+=1){const f=i[m],v=T({},p[f],{hasBeenResized:!0});Object.entries(r[f]).forEach(([x,b])=>{v[x]=b===-1?1/0:b}),p[f]=v}return T({},e,{orderedFields:d,lookup:p})};function ep(e,t){let o=e[Lm];return t&&e[t]&&(o=e[t]),o}const $r=({apiRef:e,columnsToUpsert:t,initialState:o,columnTypes:r,columnVisibilityModel:i=so(e),keepOnlyColumnsToUpsert:a=!1})=>{var l,d,p;const g=!e.current.state.columns;let m;if(g)m={orderedFields:[],lookup:{},columnVisibilityModel:i};else{const b=dr(e.current.state);m={orderedFields:a?[]:[...b.orderedFields],lookup:T({},b.lookup),columnVisibilityModel:i}}let f={};a&&!g&&(f=Object.keys(m.lookup).reduce((b,C)=>T({},b,{[C]:!1}),{})),t.forEach(b=>{const{field:C}=b;f[C]=!0;let S=m.lookup[C];S==null?(S=T({},ep(r,b.type),{field:C,hasBeenResized:!1}),m.orderedFields.push(C)):a&&m.orderedFields.push(C),S&&S.type!==b.type&&(S=T({},ep(r,b.type),{field:C}));let _=S.hasBeenResized;Om.forEach(P=>{b[P]!==void 0&&(_=!0,b[P]===-1&&(b[P]=1/0))}),m.lookup[C]=T({},S,b,{hasBeenResized:_})}),a&&!g&&Object.keys(m.lookup).forEach(b=>{f[b]||delete m.lookup[b]});const v=e.current.unstable_applyPipeProcessors("hydrateColumns",m),x=xT(v,o);return Wl(x,(l=(d=(p=e.current).getRootDimensions)==null||(d=d.call(p))==null?void 0:d.viewportInnerSize.width)!=null?l:0)},tp=e=>t=>T({},t,{columns:e});function Zl({firstColumnToRender:e,apiRef:t,firstRowToRender:o,lastRowToRender:r,visibleRows:i}){let a=e;for(let l=o;l<r;l+=1)if(i[l]){const p=i[l].id,g=t.current.unstable_getCellColSpanInfo(p,e);g&&g.spannedByColSpan&&(a=g.leftVisibleCellIndex)}return a}function CT({firstColumnIndex:e,minColumnIndex:t,columnBuffer:o,firstRowToRender:r,lastRowToRender:i,apiRef:a,visibleRows:l}){const d=Math.max(e-o,t);return Zl({firstColumnToRender:d,apiRef:a,firstRowToRender:r,lastRowToRender:i,visibleRows:l})}function Gc(e,t){const o=es(e),r=Us(e);return Math.floor(t*o)*((r??0)+1)}const Nm=dT(),wT=(e,t,o)=>{var r,i,a,l;const d=$r({apiRef:o,columnTypes:Nm,columnsToUpsert:t.columns,initialState:(r=t.initialState)==null?void 0:r.columns,columnVisibilityModel:(i=(a=t.columnVisibilityModel)!=null?a:(l=t.initialState)==null||(l=l.columns)==null?void 0:l.columnVisibilityModel)!=null?i:{},keepOnlyColumnsToUpsert:!0});return T({},e,{columns:d})};function ST(e,t){var o,r;const i=Pn(e,"useGridColumns"),a=Nm,l=c.useRef(t.columns),d=c.useRef(a);e.current.registerControlState({stateId:"visibleColumns",propModel:t.columnVisibilityModel,propOnChange:t.onColumnVisibilityModelChange,stateSelector:so,changeEvent:"columnVisibilityModelChange"});const p=c.useCallback(I=>{i.debug("Updating columns state."),e.current.setState(tp(I)),e.current.forceUpdate(),e.current.publishEvent("columnsChange",I.orderedFields)},[i,e]),g=c.useCallback(I=>xr(e)[I],[e]),m=c.useCallback(()=>vo(e),[e]),f=c.useCallback(()=>_n(e),[e]),v=c.useCallback((I,A=!0)=>(A?_n(e):vo(e)).findIndex(V=>V.field===I),[e]),x=c.useCallback(I=>{const A=v(I);return Jr(e)[A]},[e,v]),b=c.useCallback(I=>{so(e)!==I&&(e.current.setState(j=>T({},j,{columns:$r({apiRef:e,columnTypes:a,columnsToUpsert:[],initialState:void 0,columnVisibilityModel:I,keepOnlyColumnsToUpsert:!1})})),e.current.forceUpdate())},[e,a]),C=c.useCallback(I=>{const A=$r({apiRef:e,columnTypes:a,columnsToUpsert:I,initialState:void 0,keepOnlyColumnsToUpsert:!1});p(A)},[e,p,a]),S=c.useCallback((I,A)=>{var j;const V=so(e),R=(j=V[I])!=null?j:!0;if(A!==R){const W=T({},V,{[I]:A});e.current.setColumnVisibilityModel(W)}},[e]),_=c.useCallback(I=>Eo(e).findIndex(j=>j===I),[e]),P=c.useCallback((I,A)=>{const j=Eo(e),V=_(I);if(V===A)return;i.debug(`Moving column ${I} to index ${A}`);const R=[...j],W=R.splice(V,1)[0];R.splice(A,0,W),p(T({},dr(e.current.state),{orderedFields:R}));const Z={column:e.current.getColumn(I),targetIndex:e.current.getColumnIndexRelativeToVisibleColumns(I),oldIndex:V};e.current.publishEvent("columnIndexChange",Z)},[e,i,p,_]),z=c.useCallback((I,A)=>{var j,V;i.debug(`Updating column ${I} width to ${A}`);const R=dr(e.current.state),W=R.lookup[I],Z=T({},W,{width:A,hasBeenResized:!0});p(Wl(T({},R,{lookup:T({},R.lookup,{[I]:Z})}),(j=(V=e.current.getRootDimensions())==null?void 0:V.viewportInnerSize.width)!=null?j:0)),e.current.publishEvent("columnWidthChange",{element:e.current.getColumnHeaderElement(I),colDef:Z,width:A})},[e,i,p]),F={getColumn:g,getAllColumns:m,getColumnIndex:v,getColumnPosition:x,getVisibleColumns:f,getColumnIndexRelativeToVisibleColumns:_,updateColumns:C,setColumnVisibilityModel:b,setColumnVisibility:S,setColumnWidth:z},G={setColumnIndex:P};pt(e,F,"public"),pt(e,G,t.signature===yo.DataGrid?"private":"public");const k=c.useCallback((I,A)=>{var j,V;const R={},W=so(e);(!A.exportOnlyDirtyModels||t.columnVisibilityModel!=null||Object.keys((j=(V=t.initialState)==null||(V=V.columns)==null?void 0:V.columnVisibilityModel)!=null?j:{}).length>0||Object.keys(W).length>0)&&(R.columnVisibilityModel=W),R.orderedFields=Eo(e);const q=vo(e),ee={};return q.forEach(X=>{if(X.hasBeenResized){const te={};Om.forEach(Y=>{let ne=X[Y];ne===1/0&&(ne=-1),te[Y]=ne}),ee[X.field]=te}}),Object.keys(ee).length>0&&(R.dimensions=ee),T({},I,{columns:R})},[e,t.columnVisibilityModel,(o=t.initialState)==null?void 0:o.columns]),M=c.useCallback((I,A)=>{var j;const V=(j=A.stateToRestore.columns)==null?void 0:j.columnVisibilityModel,R=A.stateToRestore.columns;if(V==null&&R==null)return I;const W=$r({apiRef:e,columnTypes:a,columnsToUpsert:[],initialState:R,columnVisibilityModel:V,keepOnlyColumnsToUpsert:!1});return e.current.setState(tp(W)),R!=null&&e.current.publishEvent("columnsChange",W.orderedFields),I},[e,a]),E=c.useCallback((I,A)=>{if(A===co.columns){var j;const V=t.slots.columnsPanel;return h.jsx(V,T({},(j=t.slotProps)==null?void 0:j.columnsPanel))}return I},[t.slots.columnsPanel,(r=t.slotProps)==null?void 0:r.columnsPanel]),$=c.useCallback(I=>t.disableColumnSelector?I:[...I,"columnMenuColumnsItem"],[t.disableColumnSelector]);an(e,"columnMenu",$),an(e,"exportState",k),an(e,"restoreState",M),an(e,"preferencePanel",E);const D=c.useRef(null);We(e,"viewportInnerSizeChange",I=>{D.current!==I.width&&(D.current=I.width,p(Wl(dr(e.current.state),I.width)))});const H=c.useCallback(()=>{i.info("Columns pipe processing have changed, regenerating the columns");const I=$r({apiRef:e,columnTypes:a,columnsToUpsert:[],initialState:void 0,keepOnlyColumnsToUpsert:!1});p(I)},[e,i,p,a]);Hc(e,"hydrateColumns",H);const B=c.useRef(!0);c.useEffect(()=>{if(B.current){B.current=!1;return}if(i.info(`GridColumns have changed, new length ${t.columns.length}`),l.current===t.columns&&d.current===a)return;const I=$r({apiRef:e,columnTypes:a,initialState:void 0,columnsToUpsert:t.columns,keepOnlyColumnsToUpsert:!0});l.current=t.columns,d.current=a,p(I)},[i,e,p,t.columns,a]),c.useEffect(()=>{t.columnVisibilityModel!==void 0&&e.current.setColumnVisibilityModel(t.columnVisibilityModel)},[e,i,t.columnVisibilityModel])}const _T=.7,PT=1.3,zm={compact:_T,comfortable:PT,standard:1},IT=(e,t)=>T({},e,{density:{value:t.density,factor:zm[t.density]}}),TT=(e,t)=>{const o=Pn(e,"useDensity"),r=c.useCallback(a=>{o.debug(`Set grid density to ${a}`),e.current.setState(l=>{const d=kc(l),p={value:a,factor:zm[a]};return hr(d,p)?l:T({},l,{density:p})}),e.current.forceUpdate()},[o,e]);c.useEffect(()=>{e.current.setDensity(t.density)},[e,t.density]),pt(e,{setDensity:r},"public")};function kT(e,t="csv",o=document.title||"untitled"){const r=`${o}.${t}`;if("download"in HTMLAnchorElement.prototype){const i=URL.createObjectURL(e),a=document.createElement("a");a.href=i,a.download=r,a.click(),setTimeout(()=>{URL.revokeObjectURL(i)});return}throw new Error("MUI: exportAs not supported")}const $m=({apiRef:e,options:t})=>{const o=vo(e);return t.fields?t.fields.reduce((i,a)=>{const l=o.find(d=>d.field===a);return l&&i.push(l),i},[]):(t.allColumns?o:_n(e)).filter(i=>!i.disableExport)},MT=({apiRef:e})=>{var t,o;const r=Rw(e),i=ro(e),a=e.current.getSelectedRows(),l=r.filter(m=>i[m].type!=="footer"),d=Qr(e),p=(d==null||(t=d.top)==null?void 0:t.map(m=>m.id))||[],g=(d==null||(o=d.bottom)==null?void 0:o.map(m=>m.id))||[];return l.unshift(...p),l.push(...g),a.size>0?l.filter(m=>a.has(m)):l},AT=(e,t)=>{const o=Pn(e,"useGridCsvExport"),r=t.unstable_ignoreValueFormatterDuringExport,i=(typeof r=="object"?r==null?void 0:r.csvExport:r)||!1,a=c.useCallback((g={})=>{var m,f,v,x,b;o.debug("Get data as CSV");const C=$m({apiRef:e,options:g}),_=((m=g.getRowsToExport)!=null?m:MT)({apiRef:e});return hT({columns:C,rowIds:_,csvOptions:{delimiter:g.delimiter||",",shouldAppendQuotes:(f=g.shouldAppendQuotes)!=null?f:!0,includeHeaders:(v=g.includeHeaders)!=null?v:!0,includeColumnGroupsHeaders:(x=g.includeColumnGroupsHeaders)!=null?x:!0,escapeFormulas:(b=g.escapeFormulas)!=null?b:!0},ignoreValueFormatter:i,apiRef:e})},[o,e,i]),l=c.useCallback(g=>{o.debug("Export data as CSV");const m=a(g),f=new Blob([g!=null&&g.utf8WithBom?new Uint8Array([239,187,191]):"",m],{type:"text/csv"});kT(f,"csv",g==null?void 0:g.fileName)},[o,a]);pt(e,{getDataAsCsv:a,exportDataAsCsv:l},"public");const p=c.useCallback((g,m)=>{var f;return(f=m.csvOptions)!=null&&f.disableToolbarButton?g:[...g,{component:h.jsx(nI,{options:m.csvOptions}),componentName:"csvExport"}]},[]);an(e,"exportMenu",p)},Di=(e,t,o)=>{var r;let i=e.paginationModel;const a=e.rowCount,l=(r=o==null?void 0:o.pageSize)!=null?r:i.pageSize,d=dm(a,l);o&&((o==null?void 0:o.page)!==i.page||(o==null?void 0:o.pageSize)!==i.pageSize)&&(i=o);const p=G1(i.page,d);return p!==i.page&&(i=T({},i,{page:p})),hm(i.pageSize,t),i},DT=(e,t)=>{var o;const r=Pn(e,"useGridPaginationModel"),i=Oe(e,es),a=Math.floor(t.rowHeight*i);e.current.registerControlState({stateId:"paginationModel",propModel:t.paginationModel,propOnChange:t.onPaginationModelChange,stateSelector:Kn,changeEvent:"paginationModelChange"});const l=c.useCallback(C=>{const S=Kn(e);C!==S.page&&(r.debug(`Setting page to ${C}`),e.current.setPaginationModel({page:C,pageSize:S.pageSize}))},[e,r]),d=c.useCallback(C=>{const S=Kn(e);C!==S.pageSize&&(r.debug(`Setting page size to ${C}`),e.current.setPaginationModel({pageSize:C,page:S.page}))},[e,r]),p=c.useCallback(C=>{const S=Kn(e);C!==S&&(r.debug("Setting 'paginationModel' to",C),e.current.setState(_=>T({},_,{pagination:T({},_.pagination,{paginationModel:Di(_.pagination,t.signature,C)})})))},[e,r,t.signature]);pt(e,{setPage:l,setPageSize:d,setPaginationModel:p},"public");const m=c.useCallback((C,S)=>{var _;const P=Kn(e);return!S.exportOnlyDirtyModels||t.paginationModel!=null||((_=t.initialState)==null||(_=_.pagination)==null?void 0:_.paginationModel)!=null||P.page!==0&&P.pageSize!==H1(t.autoPageSize)?T({},C,{pagination:T({},C.pagination,{paginationModel:P})}):C},[e,t.paginationModel,(o=t.initialState)==null||(o=o.pagination)==null?void 0:o.paginationModel,t.autoPageSize]),f=c.useCallback((C,S)=>{var _,P;const z=(_=S.stateToRestore.pagination)!=null&&_.paginationModel?T({},pm(t.autoPageSize),(P=S.stateToRestore.pagination)==null?void 0:P.paginationModel):Kn(e);return e.current.setState(F=>T({},F,{pagination:T({},F.pagination,{paginationModel:Di(F.pagination,t.signature,z)})})),C},[e,t.autoPageSize,t.signature]);an(e,"exportState",m),an(e,"restoreState",f);const v=()=>{var C;const S=Kn(e);(C=e.current.virtualScrollerRef)!=null&&C.current&&e.current.scrollToIndexes({rowIndex:S.page*S.pageSize})},x=c.useCallback(()=>{if(!t.autoPageSize)return;const C=e.current.getRootDimensions()||{viewportInnerSize:{height:0}},S=Yh(e),_=Math.floor((C.viewportInnerSize.height-S.top-S.bottom)/a);e.current.setPageSize(_)},[e,t.autoPageSize,a]),b=c.useCallback(C=>{if(C==null)return;const S=Kn(e),_=W1(e);S.page>_-1&&e.current.setPage(Math.max(0,_-1))},[e]);We(e,"viewportInnerSizeChange",x),We(e,"paginationModelChange",v),We(e,"rowCountChange",b),c.useEffect(()=>{e.current.setState(C=>T({},C,{pagination:T({},C.pagination,{paginationModel:Di(C.pagination,t.signature,t.paginationModel)})}))},[e,t.paginationModel,t.paginationMode,t.signature]),c.useEffect(x,[x])};function ET(){return new Promise(e=>{requestAnimationFrame(()=>{e()})})}function RT(e){const t=document.createElement("iframe");return t.style.position="absolute",t.style.width="0px",t.style.height="0px",t.title=e||document.title,t}const LT=(e,t)=>{const o=Pn(e,"useGridPrintExport"),r=c.useRef(null),i=c.useRef(null),a=c.useRef({}),l=c.useRef([]);c.useEffect(()=>{r.current=Vs(e.current.rootElementRef.current)},[e]);const d=c.useCallback((b,C,S)=>new Promise(_=>{const P=$m({apiRef:e,options:{fields:b,allColumns:C}}).map(G=>G.field),z=vo(e),F={};z.forEach(G=>{F[G.field]=P.includes(G.field)}),S&&(F[ts.field]=!0),e.current.setColumnVisibilityModel(F),_()}),[e]),p=c.useCallback(b=>{const S=b({apiRef:e}).map(_=>e.current.getRow(_));e.current.setRows(S)},[e]),g=c.useCallback((b,C)=>{var S,_;const P=T({copyStyles:!0,hideToolbar:!1,hideFooter:!1,includeCheckboxes:!1},C),z=b.contentDocument;if(!z)return;const F=Fs(e.current.state),G=e.current.rootElementRef.current,k=G.cloneNode(!0),M=k.querySelector(`.${J.main}`);M.style.overflow="visible",k.style.contain="size";const $=k.querySelector(`.${J.columnHeaders}`).querySelector(`.${J.columnHeadersInner}`);$.style.width="100%";let D=((S=G.querySelector(`.${J.toolbarContainer}`))==null?void 0:S.offsetHeight)||0,O=((_=G.querySelector(`.${J.footerContainer}`))==null?void 0:_.offsetHeight)||0;if(P.hideToolbar){var H;(H=k.querySelector(`.${J.toolbarContainer}`))==null||H.remove(),D=0}if(P.hideFooter){var B;(B=k.querySelector(`.${J.footerContainer}`))==null||B.remove(),O=0}const I=F.currentPageTotalHeight+Gc(e,t.columnHeaderHeight)+D+O;if(k.style.height=`${I}px`,k.style.boxSizing="content-box",C!=null&&C.getRowsToExport){const R=k.querySelector(`.${J.footerContainer}`);R.style.position="absolute",R.style.width="100%",R.style.top=`${I-O}px`}const A=document.createElement("div");A.appendChild(k),z.body.innerHTML=A.innerHTML;const j=typeof P.pageStyle=="function"?P.pageStyle():P.pageStyle;if(typeof j=="string"){const R=z.createElement("style");R.appendChild(z.createTextNode(j)),z.head.appendChild(R)}P.bodyClassName&&z.body.classList.add(...P.bodyClassName.split(" "));const V=[];if(P.copyStyles){const R=G.getRootNode(),Z=(R.constructor.name==="ShadowRoot"?R:r.current).querySelectorAll("style, link[rel='stylesheet']");for(let q=0;q<Z.length;q+=1){const ee=Z[q];if(ee.tagName==="STYLE"){const X=z.createElement(ee.tagName),te=ee.sheet;if(te){let Y="";for(let ne=0;ne<te.cssRules.length;ne+=1)typeof te.cssRules[ne].cssText=="string"&&(Y+=`${te.cssRules[ne].cssText}\r
`);X.appendChild(z.createTextNode(Y)),z.head.appendChild(X)}}else if(ee.getAttribute("href")){const X=z.createElement(ee.tagName);for(let te=0;te<ee.attributes.length;te+=1){const Y=ee.attributes[te];Y&&X.setAttribute(Y.nodeName,Y.nodeValue||"")}V.push(new Promise(te=>{X.addEventListener("load",()=>te())})),z.head.appendChild(X)}}}Promise.all(V).then(()=>{b.contentWindow.print()})},[e,r,t.columnHeaderHeight]),m=c.useCallback(b=>{var C;r.current.body.removeChild(b),e.current.restoreState(i.current||{}),(C=i.current)!=null&&(C=C.columns)!=null&&C.columnVisibilityModel||e.current.setColumnVisibilityModel(a.current),e.current.unstable_setVirtualization(!0),e.current.setRows(l.current),i.current=null,a.current={},l.current=[]},[e]),v={exportDataAsPrint:c.useCallback(async b=>{if(o.debug("Export data as Print"),!e.current.rootElementRef.current)throw new Error("MUI: No grid root element available.");i.current=e.current.exportState(),a.current=so(e);const C=Do(e);if(l.current=Cs(e).map(_=>C[_]),t.pagination){const P={page:0,pageSize:Wh(e)};e.current.setState(z=>T({},z,{pagination:T({},z.pagination,{paginationModel:Di(z.pagination,"DataGridPro",P)})})),e.current.forceUpdate()}await d(b==null?void 0:b.fields,b==null?void 0:b.allColumns,b==null?void 0:b.includeCheckboxes),b!=null&&b.getRowsToExport&&p(b.getRowsToExport),e.current.unstable_setVirtualization(!1),await ET();const S=RT(b==null?void 0:b.fileName);S.onload=()=>{g(S,b),S.contentWindow.matchMedia("print").addEventListener("change",P=>{P.matches===!1&&m(S)})},r.current.body.appendChild(S)},[t,o,e,g,m,d,p])};pt(e,v,"public");const x=c.useCallback((b,C)=>{var S;return(S=C.printOptions)!=null&&S.disableToolbarButton?b:[...b,{component:h.jsx(oI,{options:C.printOptions}),componentName:"printExport"}]},[]);an(e,"exportMenu",x)},FT=(e,t,o)=>{var r,i,a;const l=(r=(i=t.filterModel)!=null?i:(a=t.initialState)==null||(a=a.filter)==null?void 0:a.filterModel)!=null?r:Ls();return T({},e,{filter:{filterModel:km(l,t.disableMultipleColumnsFiltering,o),filteredRowsLookup:{},filteredDescendantCountLookup:{}},visibleRowsLookup:{}})},OT=e=>e.filteredRowsLookup;function np(e,t){return e.current.applyStrategyProcessor("visibleRowsLookupCreation",{tree:t.rows.tree,filteredRowsLookup:t.filter.filteredRowsLookup})}function NT(){return xa(Object.values)}const zT=(e,t)=>{var o,r;const i=Pn(e,"useGridFilter");e.current.registerControlState({stateId:"filter",propModel:t.filterModel,propOnChange:t.onFilterModelChange,stateSelector:vn,changeEvent:"filterModelChange"});const a=c.useCallback(()=>{e.current.setState(D=>{const O=vn(D,e.current.instanceId),H=t.filterMode==="client"?PI(O,e,t.disableEval):null,B=e.current.applyStrategyProcessor("filtering",{isRowMatchingFilters:H,filterModel:O??Ls()}),I=T({},D,{filter:T({},D.filter,B)}),A=np(e,I);return T({},I,{visibleRowsLookup:A})}),e.current.publishEvent("filteredRowsSet")},[e,t.filterMode,t.disableEval]),l=c.useCallback((D,O)=>O==null||O.filterable===!1||t.disableColumnFilter?D:[...D,"columnMenuFilterItem"],[t.disableColumnFilter]),d=c.useCallback(()=>{a(),e.current.forceUpdate()},[e,a]),p=c.useCallback(D=>{const O=vn(e),H=[...O.items],B=H.findIndex(I=>I.id===D.id);B===-1?H.push(D):H[B]=D,e.current.setFilterModel(T({},O,{items:H}),"upsertFilterItem")},[e]),g=c.useCallback(D=>{const O=vn(e),H=[...O.items];D.forEach(B=>{const I=D.findIndex(A=>A.id===B.id);I===-1?H.push(B):H[I]=B}),e.current.setFilterModel(T({},O,{items:D}),"upsertFilterItems")},[e]),m=c.useCallback(D=>{const O=vn(e),H=O.items.filter(B=>B.id!==D.id);H.length!==O.items.length&&e.current.setFilterModel(T({},O,{items:H}),"deleteFilterItem")},[e]),f=c.useCallback((D,O,H)=>{if(i.debug("Displaying filter panel"),D){const B=vn(e),I=B.items.filter(R=>{var W;if(R.value!==void 0)return!(Array.isArray(R.value)&&R.value.length===0);const q=(W=e.current.getColumn(R.field).filterOperators)==null?void 0:W.find(X=>X.value===R.operator);return!(typeof(q==null?void 0:q.requiresFilterValue)>"u"?!0:q==null?void 0:q.requiresFilterValue)});let A;const j=I.find(R=>R.field===D),V=e.current.getColumn(D);j?A=I:t.disableMultipleColumnsFiltering?A=[Hl({field:D,operator:V.filterOperators[0].value},e)]:A=[...I,Hl({field:D,operator:V.filterOperators[0].value},e)],e.current.setFilterModel(T({},B,{items:A}))}e.current.showPreferences(co.filters,O,H)},[e,i,t.disableMultipleColumnsFiltering]),v=c.useCallback(()=>{i.debug("Hiding filter panel"),e.current.hidePreferences()},[e,i]),x=c.useCallback(D=>{const O=vn(e);O.logicOperator!==D&&e.current.setFilterModel(T({},O,{logicOperator:D}),"changeLogicOperator")},[e]),b=c.useCallback(D=>{const O=vn(e);hr(O.quickFilterValues,D)||e.current.setFilterModel(T({},O,{quickFilterValues:[...D]}))},[e]),C=c.useCallback((D,O)=>{vn(e)!==D&&(i.debug("Setting filter model"),e.current.updateControlState("filter",Vd(D,t.disableMultipleColumnsFiltering,e),O),e.current.unstable_applyFilters())},[e,i,t.disableMultipleColumnsFiltering]),S={setFilterLogicOperator:x,unstable_applyFilters:d,deleteFilterItem:m,upsertFilterItem:p,upsertFilterItems:g,setFilterModel:C,showFilterPanel:f,hideFilterPanel:v,setQuickFilterValues:b,ignoreDiacritics:t.ignoreDiacritics};pt(e,S,"public");const _=c.useCallback((D,O)=>{var H;const B=vn(e);return!O.exportOnlyDirtyModels||t.filterModel!=null||((H=t.initialState)==null||(H=H.filter)==null?void 0:H.filterModel)!=null||!hr(B,Ls())?T({},D,{filter:{filterModel:B}}):D},[e,t.filterModel,(o=t.initialState)==null||(o=o.filter)==null?void 0:o.filterModel]),P=c.useCallback((D,O)=>{var H;const B=(H=O.stateToRestore.filter)==null?void 0:H.filterModel;return B==null?D:(e.current.updateControlState("filter",Vd(B,t.disableMultipleColumnsFiltering,e),"restoreState"),T({},D,{callbacks:[...D.callbacks,e.current.unstable_applyFilters]}))},[e,t.disableMultipleColumnsFiltering]),z=c.useCallback((D,O)=>{if(O===co.filters){var H;const B=t.slots.filterPanel;return h.jsx(B,T({},(H=t.slotProps)==null?void 0:H.filterPanel))}return D},[t.slots.filterPanel,(r=t.slotProps)==null?void 0:r.filterPanel]),{getRowId:F}=t,G=vc(NT),k=c.useCallback(D=>{if(t.filterMode!=="client"||!D.isRowMatchingFilters)return{filteredRowsLookup:{},filteredDescendantCountLookup:{}};const O=Do(e),H={},{isRowMatchingFilters:B}=D,I={},A={passingFilterItems:null,passingQuickFilterValues:null},j=G.current(e.current.state.rows.dataRowIdToModelLookup);for(let W=0;W<j.length;W+=1){const Z=j[W],q=F?F(Z):Z.id;B(Z,void 0,A);const ee=TI([A.passingFilterItems],[A.passingQuickFilterValues],D.filterModel,e,I);H[q]=ee}const V="auto-generated-group-footer-root";return O[V]&&(H[V]=!0),{filteredRowsLookup:H,filteredDescendantCountLookup:{}}},[e,t.filterMode,F,G]);an(e,"columnMenu",l),an(e,"exportState",_),an(e,"restoreState",P),an(e,"preferencePanel",z),ta(e,vr,"filtering",k),ta(e,vr,"visibleRowsLookupCreation",OT);const M=c.useCallback(()=>{i.debug("onColUpdated - GridColumns changed, applying filters");const D=vn(e),O=bw(e),H=D.items.filter(B=>B.field&&O[B.field]);H.length<D.items.length&&e.current.setFilterModel(T({},D,{items:H}))},[e,i]),E=c.useCallback(D=>{D==="filtering"&&e.current.unstable_applyFilters()},[e]),$=c.useCallback(()=>{e.current.setState(D=>T({},D,{visibleRowsLookup:np(e,D)})),e.current.forceUpdate()},[e]);We(e,"rowsSet",a),We(e,"columnsChange",M),We(e,"activeStrategyProcessorChange",E),We(e,"rowExpansionChange",$),We(e,"columnVisibilityModelChange",()=>{const D=vn(e);D.quickFilterValues&&D.quickFilterExcludeHiddenColumns&&e.current.unstable_applyFilters()}),Js(()=>{e.current.unstable_applyFilters()}),bn(()=>{t.filterModel!==void 0&&e.current.setFilterModel(t.filterModel)},[e,i,t.filterModel])},$T=e=>T({},e,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null},tabIndex:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}}),BT=(e,t)=>{const o=Pn(e,"useGridFocus"),r=c.useRef(null),i=c.useCallback((M,E)=>{M&&e.current.getRow(M.id)&&e.current.publishEvent("cellFocusOut",e.current.getCellParams(M.id,M.field),E)},[e]),a=c.useCallback((M,E)=>{const $=$n(e);($==null?void 0:$.id)===M&&($==null?void 0:$.field)===E||(e.current.setState(D=>(o.debug(`Focusing on cell with id=${M} and field=${E}`),T({},D,{tabIndex:{cell:{id:M,field:E},columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null},focus:{cell:{id:M,field:E},columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}}))),e.current.forceUpdate(),e.current.getRow(M)&&($&&i($,{}),e.current.publishEvent("cellFocusIn",e.current.getCellParams(M,E))))},[e,o,i]),l=c.useCallback((M,E={})=>{const $=$n(e);i($,E),e.current.setState(D=>(o.debug(`Focusing on column header with colIndex=${M}`),T({},D,{tabIndex:{columnHeader:{field:M},columnHeaderFilter:null,cell:null,columnGroupHeader:null},focus:{columnHeader:{field:M},columnHeaderFilter:null,cell:null,columnGroupHeader:null}}))),e.current.forceUpdate()},[e,o,i]),d=c.useCallback((M,E={})=>{const $=$n(e);i($,E),e.current.setState(D=>(o.debug(`Focusing on column header filter with colIndex=${M}`),T({},D,{tabIndex:{columnHeader:null,columnHeaderFilter:{field:M},cell:null,columnGroupHeader:null},focus:{columnHeader:null,columnHeaderFilter:{field:M},cell:null,columnGroupHeader:null}}))),e.current.forceUpdate()},[e,o,i]),p=c.useCallback((M,E,$={})=>{const D=$n(e);D&&e.current.publishEvent("cellFocusOut",e.current.getCellParams(D.id,D.field),$),e.current.setState(O=>T({},O,{tabIndex:{columnGroupHeader:{field:M,depth:E},columnHeader:null,columnHeaderFilter:null,cell:null},focus:{columnGroupHeader:{field:M,depth:E},columnHeader:null,columnHeaderFilter:null,cell:null}})),e.current.forceUpdate()},[e]),g=c.useCallback(()=>Zi(e),[e]),m=c.useCallback((M,E,$)=>{let D=e.current.getColumnIndex(E);const O=_n(e),H=Qi(e,{pagination:t.pagination,paginationMode:t.paginationMode}),B=Qr(e),I=[].concat(B.top||[],H.rows,B.bottom||[]);let A=I.findIndex(W=>W.id===M);$==="right"?D+=1:$==="left"?D-=1:A+=1,D>=O.length?(A+=1,A<I.length&&(D=0)):D<0&&(A-=1,A>=0&&(D=O.length-1)),A=qr(A,0,I.length-1);const j=I[A];if(!j)return;const V=e.current.unstable_getCellColSpanInfo(j.id,D);V&&V.spannedByColSpan&&($==="left"||$==="below"?D=V.leftVisibleCellIndex:$==="right"&&(D=V.rightVisibleCellIndex)),D=qr(D,0,O.length-1);const R=O[D];e.current.setCellFocus(j.id,R.field)},[e,t.pagination,t.paginationMode]),f=c.useCallback(({id:M,field:E})=>{e.current.setCellFocus(M,E)},[e]),v=c.useCallback((M,E)=>{E.key==="Enter"||E.key==="Tab"||E.key==="Shift"||Xi(E.key)||e.current.setCellFocus(M.id,M.field)},[e]),x=c.useCallback(({field:M},E)=>{E.target===E.currentTarget&&e.current.setColumnHeaderFocus(M,E)},[e]),b=c.useCallback(({fields:M,depth:E},$)=>{if($.target!==$.currentTarget)return;const D=Zi(e);D!==null&&D.depth===E&&M.includes(D.field)||e.current.setColumnGroupHeaderFocus(M[0],E,$)},[e]),C=c.useCallback((M,E)=>{var $;($=E.relatedTarget)!=null&&$.className.includes(J.columnHeader)||(o.debug("Clearing focus"),e.current.setState(D=>T({},D,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}})))},[o,e]),S=c.useCallback(M=>{r.current=M},[]),_=c.useCallback(M=>{const E=r.current;r.current=null;const $=$n(e);if(!e.current.unstable_applyPipeProcessors("canUpdateFocus",!0,{event:M,cell:E}))return;if(!$){E&&e.current.setCellFocus(E.id,E.field);return}if((E==null?void 0:E.id)===$.id&&(E==null?void 0:E.field)===$.field)return;const O=e.current.getCellElement($.id,$.field);O!=null&&O.contains(M.target)||(E?e.current.setCellFocus(E.id,E.field):(e.current.setState(H=>T({},H,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}})),e.current.forceUpdate(),i($,M)))},[e,i]),P=c.useCallback(M=>{if(M.cellMode==="view")return;const E=$n(e);((E==null?void 0:E.id)!==M.id||(E==null?void 0:E.field)!==M.field)&&e.current.setCellFocus(M.id,M.field)},[e]),z=c.useCallback(()=>{const M=$n(e);M&&!e.current.getRow(M.id)&&e.current.setState(E=>T({},E,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}}))},[e]),F=io(()=>{const M=$n(e);if(!M)return;const E=Qi(e,{pagination:t.pagination,paginationMode:t.paginationMode});if(E.rows.find(O=>O.id===M.id))return;const D=_n(e);e.current.setState(O=>T({},O,{tabIndex:{cell:{id:E.rows[0].id,field:D[0].field},columnGroupHeader:null,columnHeader:null,columnHeaderFilter:null}}))}),G={setCellFocus:a,setColumnHeaderFocus:l,setColumnHeaderFilterFocus:d},k={moveFocusToRelativeCell:m,setColumnGroupHeaderFocus:p,getColumnGroupHeaderFocus:g};pt(e,G,"public"),pt(e,k,"private"),c.useEffect(()=>{const M=Vs(e.current.rootElementRef.current);return M.addEventListener("mouseup",_),()=>{M.removeEventListener("mouseup",_)}},[e,_]),We(e,"columnHeaderBlur",C),We(e,"cellDoubleClick",f),We(e,"cellMouseDown",S),We(e,"cellKeyDown",v),We(e,"cellModeChange",P),We(e,"columnHeaderFocus",x),We(e,"columnGroupHeaderFocus",b),We(e,"rowsSet",z),We(e,"paginationModelChange",F)};function jT(e,t){const o=Qr(e)||{};return[...o.top||[],...t,...o.bottom||[]]}const bl=({currentColIndex:e,firstColIndex:t,lastColIndex:o,direction:r})=>{if(r==="rtl"){if(e<o)return e+1}else if(r==="ltr"&&e>t)return e-1;return null},xl=({currentColIndex:e,firstColIndex:t,lastColIndex:o,direction:r})=>{if(r==="rtl"){if(e>t)return e-1}else if(r==="ltr"&&e<o)return e+1;return null},HT=(e,t)=>{const o=Pn(e,"useGridKeyboardNavigation"),r=Cr(e,t).rows,i=Bt(),a=c.useMemo(()=>jT(e,r),[e,r]),l=t.signature!=="DataGrid"&&t.unstable_headerFilters,d=c.useCallback((_,P,z="left")=>{const F=Yo(e),G=e.current.unstable_getCellColSpanInfo(P,_);G&&G.spannedByColSpan&&(z==="left"?_=G.leftVisibleCellIndex:z==="right"&&(_=G.rightVisibleCellIndex));const k=F.findIndex(E=>E.id===P);o.debug(`Navigating to cell row ${k}, col ${_}`),e.current.scrollToIndexes({colIndex:_,rowIndex:k});const M=e.current.getVisibleColumns()[_].field;e.current.setCellFocus(P,M)},[e,o]),p=c.useCallback((_,P)=>{o.debug(`Navigating to header col ${_}`),e.current.scrollToIndexes({colIndex:_});const z=e.current.getVisibleColumns()[_].field;e.current.setColumnHeaderFocus(z,P)},[e,o]),g=c.useCallback((_,P)=>{o.debug(`Navigating to header filter col ${_}`),e.current.scrollToIndexes({colIndex:_});const z=e.current.getVisibleColumns()[_].field;e.current.setColumnHeaderFilterFocus(z,P)},[e,o]),m=c.useCallback((_,P,z)=>{o.debug(`Navigating to header col ${_}`),e.current.scrollToIndexes({colIndex:_});const{field:F}=e.current.getVisibleColumns()[_];e.current.setColumnGroupHeaderFocus(F,P,z)},[e,o]),f=c.useCallback(_=>{var P;return(P=a[_])==null?void 0:P.id},[a]),v=c.useCallback((_,P)=>{const z=P.currentTarget.querySelector(`.${J.columnHeaderTitleContainerContent}`);if(!!z&&z.contains(P.target)&&_.field!==ts.field||!e.current.getRootDimensions())return;const k=e.current.getViewportPageSize(),M=_.field?e.current.getColumnIndex(_.field):0,E=a.length>0?0:null,$=a.length-1,D=0,O=_n(e).length-1,H=Us(e);let B=!0;switch(P.key){case"ArrowDown":{E!==null&&(l?g(M,P):d(M,f(E)));break}case"ArrowRight":{const I=xl({currentColIndex:M,firstColIndex:D,lastColIndex:O,direction:i.direction});I!==null&&p(I,P);break}case"ArrowLeft":{const I=bl({currentColIndex:M,firstColIndex:D,lastColIndex:O,direction:i.direction});I!==null&&p(I,P);break}case"ArrowUp":{H>0&&m(M,H-1,P);break}case"PageDown":{E!==null&&$!==null&&d(M,f(Math.min(E+k,$)));break}case"Home":{p(D,P);break}case"End":{p(O,P);break}case"Enter":{(P.ctrlKey||P.metaKey)&&e.current.toggleColumnMenu(_.field);break}case" ":break;default:B=!1}B&&P.preventDefault()},[e,a.length,l,g,d,f,i.direction,p,m]),x=c.useCallback((_,P)=>{if(!e.current.getRootDimensions())return;const F=n_(e)===_.field,G=o_(e)===_.field;if(F||G||!Xi(P.key))return;const k=e.current.getViewportPageSize(),M=_.field?e.current.getColumnIndex(_.field):0,E=0,$=a.length-1,D=0,O=_n(e).length-1;let H=!0;switch(P.key){case"ArrowDown":{const B=f(E);B!=null&&d(M,B);break}case"ArrowRight":{const B=xl({currentColIndex:M,firstColIndex:D,lastColIndex:O,direction:i.direction});B!==null&&g(B,P);break}case"ArrowLeft":{const B=bl({currentColIndex:M,firstColIndex:D,lastColIndex:O,direction:i.direction});B!==null?g(B,P):e.current.setColumnHeaderFilterFocus(_.field,P);break}case"ArrowUp":{p(M,P);break}case"PageDown":{$!==null&&d(M,f(Math.min(E+k,$)));break}case"Home":{g(D,P);break}case"End":{g(O,P);break}case" ":break;default:H=!1}H&&P.preventDefault()},[e,a.length,g,i.direction,p,d,f]),b=c.useCallback((_,P)=>{if(!e.current.getRootDimensions())return;const F=Zi(e);if(F===null)return;const{field:G,depth:k}=F,{fields:M,depth:E,maxDepth:$}=_,D=e.current.getViewportPageSize(),O=e.current.getColumnIndex(G),H=G?e.current.getColumnIndex(G):0,B=0,I=a.length-1,A=0,j=_n(e).length-1;let V=!0;switch(P.key){case"ArrowDown":{E===$-1?p(O,P):m(O,k+1,P);break}case"ArrowUp":{E>0&&m(O,k-1,P);break}case"ArrowRight":{const R=M.length-M.indexOf(G)-1;O+R+1<=j&&m(O+R+1,k,P);break}case"ArrowLeft":{const R=M.indexOf(G);O-R-1>=A&&m(O-R-1,k,P);break}case"PageDown":{I!==null&&d(H,f(Math.min(B+D,I)));break}case"Home":{m(A,k,P);break}case"End":{m(j,k,P);break}case" ":break;default:V=!1}V&&P.preventDefault()},[e,a.length,p,m,d,f]),C=c.useCallback((_,P)=>{if(Ks(P))return;const z=e.current.getCellParams(_.id,_.field);if(z.cellMode===Lt.Edit||!Xi(P.key)||!e.current.unstable_applyPipeProcessors("canUpdateFocus",!0,{event:P,cell:z}))return;const G=e.current.getRootDimensions();if(a.length===0||!G)return;const k=i.direction,M=e.current.getViewportPageSize(),E=_.field?e.current.getColumnIndex(_.field):0,$=a.findIndex(A=>A.id===_.id),D=0,O=a.length-1,H=0,B=_n(e).length-1;let I=!0;switch(P.key){case"ArrowDown":{$<O&&d(E,f($+1));break}case"ArrowUp":{$>D?d(E,f($-1)):l?g(E,P):p(E,P);break}case"ArrowRight":{const A=xl({currentColIndex:E,firstColIndex:H,lastColIndex:B,direction:k});A!==null&&d(A,f($),k==="rtl"?"left":"right");break}case"ArrowLeft":{const A=bl({currentColIndex:E,firstColIndex:H,lastColIndex:B,direction:k});A!==null&&d(A,f($),k==="rtl"?"right":"left");break}case"Tab":{P.shiftKey&&E>H?d(E-1,f($),"left"):!P.shiftKey&&E<B&&d(E+1,f($),"right");break}case" ":{if(_.field===Bc)break;const j=_.colDef;if(j&&j.type==="treeDataGroup")break;!P.shiftKey&&$<O&&d(E,f(Math.min($+M,O)));break}case"PageDown":{$<O&&d(E,f(Math.min($+M,O)));break}case"PageUp":{const A=Math.max($-M,D);A!==$&&A>=D?d(E,f(A)):p(E,P);break}case"Home":{P.ctrlKey||P.metaKey||P.shiftKey?d(H,f(D)):d(H,f($));break}case"End":{P.ctrlKey||P.metaKey||P.shiftKey?d(B,f(O)):d(B,f($));break}default:I=!1}I&&P.preventDefault()},[e,a,i.direction,d,f,l,g,p]),S=c.useCallback((_,{event:P})=>P.key===" "?!1:_,[]);an(e,"canStartEditing",S),We(e,"columnHeaderKeyDown",v),We(e,"headerFilterKeyDown",x),We(e,"columnGroupHeaderKeyDown",b),We(e,"cellKeyDown",C)},GT=(e,t)=>{var o;const r=Pn(e,"useGridRowCount"),i=Oe(e,Zh),a=Oe(e,Hr);e.current.registerControlState({stateId:"paginationRowCount",propModel:t.rowCount,propOnChange:t.onRowCountChange,stateSelector:Hr,changeEvent:"rowCountChange"});const d={setRowCount:c.useCallback(m=>{a!==m&&(r.debug("Setting 'rowCount' to",m),e.current.setState(f=>T({},f,{pagination:T({},f.pagination,{rowCount:m})})))},[e,r,a])};pt(e,d,"public");const p=c.useCallback((m,f)=>{var v;const x=Hr(e);return!f.exportOnlyDirtyModels||t.rowCount!=null||((v=t.initialState)==null||(v=v.pagination)==null?void 0:v.rowCount)!=null?T({},m,{pagination:T({},m.pagination,{rowCount:x})}):m},[e,t.rowCount,(o=t.initialState)==null||(o=o.pagination)==null?void 0:o.rowCount]),g=c.useCallback((m,f)=>{var v;const x=(v=f.stateToRestore.pagination)!=null&&v.rowCount?f.stateToRestore.pagination.rowCount:Hr(e);return e.current.setState(b=>T({},b,{pagination:T({},b.pagination,{rowCount:x})})),m},[e]);an(e,"exportState",p),an(e,"restoreState",g),c.useEffect(()=>{},[t.rowCount,t.paginationMode]),c.useEffect(()=>{t.paginationMode==="client"?e.current.setRowCount(i):t.rowCount!=null&&e.current.setRowCount(t.rowCount)},[e,i,t.paginationMode,t.rowCount])},VT=(e,t)=>{var o,r,i,a,l;const d=T({},pm(t.autoPageSize),(o=t.paginationModel)!=null?o:(r=t.initialState)==null||(r=r.pagination)==null?void 0:r.paginationModel);hm(d.pageSize,t.signature);const p=(i=(a=t.rowCount)!=null?a:(l=t.initialState)==null||(l=l.pagination)==null?void 0:l.rowCount)!=null?i:0;return T({},e,{pagination:{paginationModel:d,rowCount:p}})},WT=(e,t)=>{DT(e,t),GT(e,t)},ZT=(e,t)=>{var o,r;return T({},e,{preferencePanel:(o=(r=t.initialState)==null?void 0:r.preferencePanel)!=null?o:{open:!1}})},UT=(e,t)=>{var o;const r=Pn(e,"useGridPreferencesPanel"),i=c.useRef(),a=c.useRef(),l=c.useCallback(()=>{r.debug("Hiding Preferences Panel");const v=gr(e.current.state);v.openedPanelValue&&e.current.publishEvent("preferencePanelClose",{openedPanelValue:v.openedPanelValue}),e.current.setState(x=>T({},x,{preferencePanel:{open:!1}})),e.current.forceUpdate()},[e,r]),d=c.useCallback(()=>{a.current=setTimeout(()=>clearTimeout(i.current),0)},[]),p=c.useCallback(()=>{i.current=setTimeout(l,100)},[l]),g=c.useCallback((v,x,b)=>{r.debug("Opening Preferences Panel"),d(),e.current.setState(C=>T({},C,{preferencePanel:T({},C.preferencePanel,{open:!0,openedPanelValue:v,panelId:x,labelId:b})})),e.current.publishEvent("preferencePanelOpen",{openedPanelValue:v}),e.current.forceUpdate()},[r,d,e]);pt(e,{showPreferences:g,hidePreferences:p},"public");const m=c.useCallback((v,x)=>{var b;const C=gr(e.current.state);return!x.exportOnlyDirtyModels||((b=t.initialState)==null?void 0:b.preferencePanel)!=null||C.open?T({},v,{preferencePanel:C}):v},[e,(o=t.initialState)==null?void 0:o.preferencePanel]),f=c.useCallback((v,x)=>{const b=x.stateToRestore.preferencePanel;return b!=null&&e.current.setState(C=>T({},C,{preferencePanel:b})),v},[e]);an(e,"exportState",m),an(e,"restoreState",f),c.useEffect(()=>()=>{clearTimeout(i.current),clearTimeout(a.current)},[])},KT=["id","field"],JT=["id","field"],qT=Co(["MUI: A call to `processRowUpdate` threw an error which was not handled because `onProcessRowUpdateError` is missing.","To handle the error pass a callback to the `onProcessRowUpdateError` prop, e.g. `<DataGrid onProcessRowUpdateError={(error) => ...} />`.","For more detail, see http://mui.com/components/data-grid/editing/#server-side-persistence."],"error"),XT=(e,t)=>{const[o,r]=c.useState({}),i=c.useRef(o),a=c.useRef({}),{processRowUpdate:l,onProcessRowUpdateError:d,cellModesModel:p,onCellModesModelChange:g}=t,m=I=>(...A)=>{t.editMode===xo.Cell&&I(...A)},f=c.useCallback((I,A)=>{const j=e.current.getCellParams(I,A);if(!e.current.isCellEditable(j))throw new Error(`MUI: The cell with id=${I} and field=${A} is not editable.`)},[e]),v=c.useCallback((I,A,j)=>{if(e.current.getCellMode(I,A)!==j)throw new Error(`MUI: The cell with id=${I} and field=${A} is not in ${j} mode.`)},[e]),x=c.useCallback((I,A)=>{if(!I.isEditable||I.cellMode===Lt.Edit)return;const j=T({},I,{reason:ko.cellDoubleClick});e.current.publishEvent("cellEditStart",j,A)},[e]),b=c.useCallback((I,A)=>{if(I.cellMode===Lt.View||e.current.getCellMode(I.id,I.field)===Lt.View)return;const j=T({},I,{reason:oo.cellFocusOut});e.current.publishEvent("cellEditStop",j,A)},[e]),C=c.useCallback((I,A)=>{if(I.cellMode===Lt.Edit){if(A.which===229)return;let j;if(A.key==="Escape"?j=oo.escapeKeyDown:A.key==="Enter"?j=oo.enterKeyDown:A.key==="Tab"&&(j=A.shiftKey?oo.shiftTabKeyDown:oo.tabKeyDown,A.preventDefault()),j){const V=T({},I,{reason:j});e.current.publishEvent("cellEditStop",V,A)}}else if(I.isEditable){let j;if(!e.current.unstable_applyPipeProcessors("canStartEditing",!0,{event:A,cellParams:I,editMode:"cell"}))return;if(rm(A)?j=ko.printableKeyDown:(A.ctrlKey||A.metaKey)&&A.key==="v"?j=ko.pasteKeyDown:A.key==="Enter"?j=ko.enterKeyDown:(A.key==="Delete"||A.key==="Backspace")&&(j=ko.deleteKeyDown),j){const R=T({},I,{reason:j,key:A.key});e.current.publishEvent("cellEditStart",R,A)}}},[e]),S=c.useCallback(I=>{const{id:A,field:j,reason:V}=I,R={id:A,field:j};(V===ko.printableKeyDown||V===ko.deleteKeyDown||V===ko.pasteKeyDown)&&(R.deleteValue=!0),e.current.startCellEditMode(R)},[e]),_=c.useCallback(I=>{const{id:A,field:j,reason:V}=I;e.current.runPendingEditCellValueMutation(A,j);let R;V===oo.enterKeyDown?R="below":V===oo.tabKeyDown?R="right":V===oo.shiftTabKeyDown&&(R="left");const W=V==="escapeKeyDown";e.current.stopCellEditMode({id:A,field:j,ignoreModifications:W,cellToFocusAfter:R})},[e]);We(e,"cellDoubleClick",m(x)),We(e,"cellFocusOut",m(b)),We(e,"cellKeyDown",m(C)),We(e,"cellEditStart",m(S)),We(e,"cellEditStop",m(_)),Ut(e,"cellEditStart",t.onCellEditStart),Ut(e,"cellEditStop",t.onCellEditStop);const P=c.useCallback((I,A)=>{const j=An(e.current.state);return j[I]&&j[I][A]?Lt.Edit:Lt.View},[e]),z=io(I=>{const A=I!==t.cellModesModel;g&&A&&g(I,{}),!(t.cellModesModel&&A)&&(r(I),i.current=I,e.current.publishEvent("cellModesModelChange",I))}),F=c.useCallback((I,A,j)=>{const V=T({},i.current);if(j!==null)V[I]=T({},V[I],{[A]:T({},j)});else{const R=V[I],W=$e(R,[A].map(Es));V[I]=W,Object.keys(V[I]).length===0&&delete V[I]}z(V)},[z]),G=c.useCallback((I,A,j)=>{e.current.setState(V=>{const R=T({},V.editRows);return j!==null?R[I]=T({},R[I],{[A]:T({},j)}):(delete R[I][A],Object.keys(R[I]).length===0&&delete R[I]),T({},V,{editRows:R})}),e.current.forceUpdate()},[e]),k=c.useCallback(I=>{const{id:A,field:j}=I,V=$e(I,KT);f(A,j),v(A,j,Lt.View),F(A,j,T({mode:Lt.Edit},V))},[f,v,F]),M=io(I=>{const{id:A,field:j,deleteValue:V,initialValue:R}=I;let W=e.current.getCellValue(A,j);(V||R)&&(W=V?"":R),G(A,j,{value:W,error:!1,isProcessingProps:!1}),e.current.setCellFocus(A,j)}),E=c.useCallback(I=>{const{id:A,field:j}=I,V=$e(I,JT);v(A,j,Lt.Edit),F(A,j,T({mode:Lt.View},V))},[v,F]),$=io(async I=>{const{id:A,field:j,ignoreModifications:V,cellToFocusAfter:R="none"}=I;v(A,j,Lt.Edit),e.current.runPendingEditCellValueMutation(A,j);const W=()=>{G(A,j,null),F(A,j,null),R!=="none"&&e.current.moveFocusToRelativeCell(A,j,R)};if(V){W();return}const Z=An(e.current.state),{error:q,isProcessingProps:ee}=Z[A][j];if(q||ee){a.current[A][j].mode=Lt.Edit,F(A,j,{mode:Lt.Edit});return}const X=e.current.getRowWithUpdatedValuesFromCellEditing(A,j);if(l){const te=Y=>{a.current[A][j].mode=Lt.Edit,F(A,j,{mode:Lt.Edit}),d?d(Y):qT()};try{const Y=e.current.getRow(A);Promise.resolve(l(X,Y)).then(ne=>{e.current.updateRows([ne]),W()}).catch(te)}catch(Y){te(Y)}}else e.current.updateRows([X]),W()}),D=c.useCallback(async I=>{var A;const{id:j,field:V,value:R,debounceMs:W,unstable_skipValueParser:Z}=I;f(j,V),v(j,V,Lt.Edit);const q=e.current.getColumn(V),ee=e.current.getRow(j);let X=R;q.valueParser&&!Z&&(X=q.valueParser(R,e.current.getCellParams(j,V)));let te=An(e.current.state),Y=T({},te[j][V],{value:X,changeReason:W?"debouncedSetEditCellValue":"setEditCellValue"});if(q.preProcessEditCellProps){const ne=R!==te[j][V].value;Y=T({},Y,{isProcessingProps:!0}),G(j,V,Y),Y=await Promise.resolve(q.preProcessEditCellProps({id:j,row:ee,props:Y,hasChanged:ne}))}return e.current.getCellMode(j,V)===Lt.View?!1:(te=An(e.current.state),Y=T({},Y,{isProcessingProps:!1}),Y.value=q.preProcessEditCellProps?te[j][V].value:X,G(j,V,Y),te=An(e.current.state),!((A=te[j])!=null&&(A=A[V])!=null&&A.error))},[e,f,v,G]),O=c.useCallback((I,A)=>{const j=e.current.getColumn(A),V=An(e.current.state),R=e.current.getRow(I);if(!V[I]||!V[I][A])return e.current.getRow(I);const{value:W}=V[I][A];return j.valueSetter?j.valueSetter({value:W,row:R}):T({},R,{[A]:W})},[e]),H={getCellMode:P,startCellEditMode:k,stopCellEditMode:E},B={setCellEditingEditCellValue:D,getRowWithUpdatedValuesFromCellEditing:O};pt(e,H,"public"),pt(e,B,"private"),c.useEffect(()=>{p&&z(p)},[p,z]),bn(()=>{const I=Wi(e),A=a.current;a.current=um(o),Object.entries(o).forEach(([j,V])=>{Object.entries(V).forEach(([R,W])=>{var Z,q;const ee=((Z=A[j])==null||(Z=Z[R])==null?void 0:Z.mode)||Lt.View,X=(q=I[j])!=null?q:j;W.mode===Lt.Edit&&ee===Lt.View?M(T({id:X,field:R},W)):W.mode===Lt.View&&ee===Lt.Edit&&$(T({id:X,field:R},W))})})},[e,o,M,$])},YT=["id"],QT=["id"],ek=Co(["MUI: A call to `processRowUpdate` threw an error which was not handled because `onProcessRowUpdateError` is missing.","To handle the error pass a callback to the `onProcessRowUpdateError` prop, e.g. `<DataGrid onProcessRowUpdateError={(error) => ...} />`.","For more detail, see http://mui.com/components/data-grid/editing/#server-side-persistence."],"error"),tk=(e,t)=>{const[o,r]=c.useState({}),i=c.useRef(o),a=c.useRef({}),l=c.useRef(null),d=c.useRef(null),{processRowUpdate:p,onProcessRowUpdateError:g,rowModesModel:m,onRowModesModelChange:f}=t,v=R=>(...W)=>{t.editMode===xo.Row&&R(...W)},x=c.useCallback((R,W)=>{const Z=e.current.getCellParams(R,W);if(!e.current.isCellEditable(Z))throw new Error(`MUI: The cell with id=${R} and field=${W} is not editable.`)},[e]),b=c.useCallback((R,W)=>{if(e.current.getRowMode(R)!==W)throw new Error(`MUI: The row with id=${R} is not in ${W} mode.`)},[e]),C=c.useCallback((R,W)=>{if(!R.isEditable||e.current.getRowMode(R.id)===Ht.Edit)return;const Z=e.current.getRowParams(R.id),q=T({},Z,{field:R.field,reason:$o.cellDoubleClick});e.current.publishEvent("rowEditStart",q,W)},[e]),S=c.useCallback(R=>{d.current=R},[]),_=c.useCallback((R,W)=>{R.isEditable&&e.current.getRowMode(R.id)!==Ht.View&&(d.current=null,l.current=setTimeout(()=>{var Z;if(l.current=null,((Z=d.current)==null?void 0:Z.id)!==R.id){if(!e.current.getRow(R.id)||e.current.getRowMode(R.id)===Ht.View)return;const q=e.current.getRowParams(R.id),ee=T({},q,{field:R.field,reason:Mo.rowFocusOut});e.current.publishEvent("rowEditStop",ee,W)}}))},[e]);c.useEffect(()=>()=>{clearTimeout(l.current)},[]);const P=c.useCallback((R,W)=>{if(R.cellMode===Ht.Edit){if(W.which===229)return;let Z;if(W.key==="Escape")Z=Mo.escapeKeyDown;else if(W.key==="Enter")Z=Mo.enterKeyDown;else if(W.key==="Tab"){const q=Ca(e).filter(ee=>e.current.getColumn(ee).type===ka?!0:e.current.isCellEditable(e.current.getCellParams(R.id,ee)));if(W.shiftKey?R.field===q[0]&&(Z=Mo.shiftTabKeyDown):R.field===q[q.length-1]&&(Z=Mo.tabKeyDown),W.preventDefault(),!Z){const ee=q.findIndex(te=>te===R.field),X=q[W.shiftKey?ee-1:ee+1];e.current.setCellFocus(R.id,X)}}if(Z){const q=T({},e.current.getRowParams(R.id),{reason:Z,field:R.field});e.current.publishEvent("rowEditStop",q,W)}}else if(R.isEditable){let Z;if(!e.current.unstable_applyPipeProcessors("canStartEditing",!0,{event:W,cellParams:R,editMode:"row"}))return;if(rm(W)||(W.ctrlKey||W.metaKey)&&W.key==="v"?Z=$o.printableKeyDown:W.key==="Enter"?Z=$o.enterKeyDown:(W.key==="Delete"||W.key==="Backspace")&&(Z=$o.deleteKeyDown),Z){const ee=e.current.getRowParams(R.id),X=T({},ee,{field:R.field,reason:Z});e.current.publishEvent("rowEditStart",X,W)}}},[e]),z=c.useCallback(R=>{const{id:W,field:Z,reason:q}=R,ee={id:W,fieldToFocus:Z};(q===$o.printableKeyDown||q===$o.deleteKeyDown)&&(ee.deleteValue=!!Z),e.current.startRowEditMode(ee)},[e]),F=c.useCallback(R=>{const{id:W,reason:Z,field:q}=R;e.current.runPendingEditCellValueMutation(W);let ee;Z===Mo.enterKeyDown?ee="below":Z===Mo.tabKeyDown?ee="right":Z===Mo.shiftTabKeyDown&&(ee="left");const X=Z==="escapeKeyDown";e.current.stopRowEditMode({id:W,ignoreModifications:X,field:q,cellToFocusAfter:ee})},[e]);We(e,"cellDoubleClick",v(C)),We(e,"cellFocusIn",v(S)),We(e,"cellFocusOut",v(_)),We(e,"cellKeyDown",v(P)),We(e,"rowEditStart",v(z)),We(e,"rowEditStop",v(F)),Ut(e,"rowEditStart",t.onRowEditStart),Ut(e,"rowEditStop",t.onRowEditStop);const G=c.useCallback(R=>{if(t.editMode===xo.Cell)return Ht.View;const W=An(e.current.state);return W[R]&&Object.keys(W[R]).length>0?Ht.Edit:Ht.View},[e,t.editMode]),k=io(R=>{const W=R!==t.rowModesModel;f&&W&&f(R,{}),!(t.rowModesModel&&W)&&(r(R),i.current=R,e.current.publishEvent("rowModesModelChange",R))}),M=c.useCallback((R,W)=>{const Z=T({},i.current);W!==null?Z[R]=T({},W):delete Z[R],k(Z)},[k]),E=c.useCallback((R,W)=>{e.current.setState(Z=>{const q=T({},Z.editRows);return W!==null?q[R]=W:delete q[R],T({},Z,{editRows:q})}),e.current.forceUpdate()},[e]),$=c.useCallback((R,W,Z)=>{e.current.setState(q=>{const ee=T({},q.editRows);return Z!==null?ee[R]=T({},ee[R],{[W]:T({},Z)}):(delete ee[R][W],Object.keys(ee[R]).length===0&&delete ee[R]),T({},q,{editRows:ee})}),e.current.forceUpdate()},[e]),D=c.useCallback(R=>{const{id:W}=R,Z=$e(R,YT);b(W,Ht.View),M(W,T({mode:Ht.Edit},Z))},[b,M]),O=io(R=>{const{id:W,fieldToFocus:Z,deleteValue:q,initialValue:ee}=R,te=Eo(e).reduce((Y,ne)=>{if(!e.current.getCellParams(W,ne).isEditable)return Y;let ve=e.current.getCellValue(W,ne);return Z===ne&&(q||ee)&&(ve=q?"":ee),Y[ne]={value:ve,error:!1,isProcessingProps:!1},Y},{});E(W,te),Z&&e.current.setCellFocus(W,Z)}),H=c.useCallback(R=>{const{id:W}=R,Z=$e(R,QT);b(W,Ht.Edit),M(W,T({mode:Ht.View},Z))},[b,M]),B=io(R=>{const{id:W,ignoreModifications:Z,field:q,cellToFocusAfter:ee="none"}=R;e.current.runPendingEditCellValueMutation(W);const X=()=>{ee!=="none"&&q&&e.current.moveFocusToRelativeCell(W,q,ee),E(W,null),M(W,null)};if(Z){X();return}const te=An(e.current.state),Y=e.current.getRow(W);if(Object.values(te[W]).some(_e=>_e.isProcessingProps)){a.current[W].mode=Ht.Edit;return}if(Object.values(te[W]).some(_e=>_e.error)){a.current[W].mode=Ht.Edit,M(W,{mode:Ht.Edit});return}const ve=e.current.getRowWithUpdatedValuesFromRowEditing(W);if(p){const _e=be=>{a.current[W].mode=Ht.Edit,M(W,{mode:Ht.Edit}),g?g(be):ek()};try{Promise.resolve(p(ve,Y)).then(be=>{e.current.updateRows([be]),X()}).catch(_e)}catch(be){_e(be)}}else e.current.updateRows([ve]),X()}),I=c.useCallback(R=>{const{id:W,field:Z,value:q,debounceMs:ee,unstable_skipValueParser:X}=R;x(W,Z);const te=e.current.getColumn(Z),Y=e.current.getRow(W);let ne=q;te.valueParser&&!X&&(ne=te.valueParser(q,e.current.getCellParams(W,Z)));let re=An(e.current.state),ve=T({},re[W][Z],{value:ne,changeReason:ee?"debouncedSetEditCellValue":"setEditCellValue"});return te.preProcessEditCellProps||$(W,Z,ve),new Promise(_e=>{const be=[];if(te.preProcessEditCellProps){const Ae=ve.value!==re[W][Z].value;ve=T({},ve,{isProcessingProps:!0}),$(W,Z,ve);const Ce=re[W],fe=$e(Ce,[Z].map(Es)),se=Promise.resolve(te.preProcessEditCellProps({id:W,row:Y,props:ve,hasChanged:Ae,otherFieldsProps:fe})).then(U=>{if(e.current.getRowMode(W)===Ht.View){_e(!1);return}re=An(e.current.state),U=T({},U,{isProcessingProps:!1}),U.value=te.preProcessEditCellProps?re[W][Z].value:ne,$(W,Z,U)});be.push(se)}Object.entries(re[W]).forEach(([Ae,Ce])=>{if(Ae===Z)return;const fe=e.current.getColumn(Ae);if(!fe.preProcessEditCellProps)return;Ce=T({},Ce,{isProcessingProps:!0}),$(W,Ae,Ce),re=An(e.current.state);const se=re[W],U=$e(se,[Ae].map(Es)),he=Promise.resolve(fe.preProcessEditCellProps({id:W,row:Y,props:Ce,hasChanged:!1,otherFieldsProps:U})).then(Q=>{if(e.current.getRowMode(W)===Ht.View){_e(!1);return}Q=T({},Q,{isProcessingProps:!1}),$(W,Ae,Q)});be.push(he)}),Promise.all(be).then(()=>{e.current.getRowMode(W)===Ht.Edit?(re=An(e.current.state),_e(!re[W][Z].error)):_e(!1)})})},[e,x,$]),A=c.useCallback(R=>{const W=An(e.current.state),Z=e.current.getRow(R);if(!W[R])return e.current.getRow(R);let q=T({},Z);return Object.entries(W[R]).forEach(([ee,X])=>{const te=e.current.getColumn(ee);te.valueSetter?q=te.valueSetter({value:X.value,row:q}):q[ee]=X.value}),q},[e]),j={getRowMode:G,startRowEditMode:D,stopRowEditMode:H},V={setRowEditingEditCellValue:I,getRowWithUpdatedValuesFromRowEditing:A};pt(e,j,"public"),pt(e,V,"private"),c.useEffect(()=>{m&&k(m)},[m,k]),bn(()=>{const R=Wi(e),W=a.current;a.current=um(o),Object.entries(o).forEach(([Z,q])=>{var ee,X;const te=((ee=W[Z])==null?void 0:ee.mode)||Ht.View,Y=(X=R[Z])!=null?X:Z;q.mode===Ht.Edit&&te===Ht.View?O(T({id:Y},q)):q.mode===Ht.View&&te===Ht.Edit&&B(T({id:Y},q))})},[e,o,O,B])},nk=e=>T({},e,{editRows:{}}),ok=(e,t)=>{XT(e,t),tk(e,t);const o=c.useRef({}),{isCellEditable:r}=t,i=c.useCallback(v=>Rs(v.rowNode)||!v.colDef.editable||!v.colDef.renderEditCell?!1:r?r(v):!0,[r]),a=(v,x,b,C)=>{if(!b){C();return}if(o.current[v]||(o.current[v]={}),o.current[v][x]){const[P]=o.current[v][x];clearTimeout(P)}const S=()=>{const[P]=o.current[v][x];clearTimeout(P),C(),delete o.current[v][x]},_=setTimeout(()=>{C(),delete o.current[v][x]},b);o.current[v][x]=[_,S]};c.useEffect(()=>{const v=o.current;return()=>{Object.entries(v).forEach(([x,b])=>{Object.keys(b).forEach(C=>{const[S]=v[x][C];clearTimeout(S),delete v[x][C]})})}},[]);const l=c.useCallback((v,x)=>{if(o.current[v]){if(!x)Object.keys(o.current[v]).forEach(b=>{const[,C]=o.current[v][b];C()});else if(o.current[v][x]){const[,b]=o.current[v][x];b()}}},[]),d=c.useCallback(v=>{const{id:x,field:b,debounceMs:C}=v;return new Promise(S=>{a(x,b,C,async()=>{const _=t.editMode===xo.Row?e.current.setRowEditingEditCellValue:e.current.setCellEditingEditCellValue;if(e.current.getCellMode(x,b)===Lt.Edit){const P=await _(v);S(P)}})})},[e,t.editMode]),p=c.useCallback((v,x)=>t.editMode===xo.Cell?e.current.getRowWithUpdatedValuesFromCellEditing(v,x):e.current.getRowWithUpdatedValuesFromRowEditing(v),[e,t.editMode]),g=c.useCallback((v,x)=>{var b,C;return(b=(C=An(e.current.state)[v])==null?void 0:C[x])!=null?b:null},[e]),m={isCellEditable:i,setEditCellValue:d,getRowWithUpdatedValues:p,unstable_getEditCellMeta:g},f={runPendingEditCellValueMutation:l};pt(e,m,"public"),pt(e,f,"private")},rk=(e,t,o)=>(o.current.caches.rows=Mi({rows:t.rows,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),T({},e,{rows:Xh({apiRef:o,rowCountProp:t.rowCount,loadingProp:t.loading,previousTree:null,previousTreeDepths:null})})),sk=(e,t)=>{const o=Pn(e,"useGridRows"),r=Cr(e,t),i=c.useRef(Date.now()),a=$c(),l=c.useCallback(B=>{const I=Do(e)[B];if(I)return I;const A=e.current.getRowNode(B);return A&&Rs(A)?{[Ur]:B}:null},[e]),d=t.getRowId,p=c.useCallback(B=>Ur in B?B[Ur]:d?d(B):B.id,[d]),g=c.useMemo(()=>r.rows.reduce((B,{id:I},A)=>(B[I]=A,B),{}),[r.rows]),m=c.useCallback(({cache:B,throttle:I})=>{const A=()=>{i.current=Date.now(),e.current.setState(V=>T({},V,{rows:Xh({apiRef:e,rowCountProp:t.rowCount,loadingProp:t.loading,previousTree:ro(e),previousTreeDepths:Td(e)})})),e.current.publishEvent("rowsSet"),e.current.forceUpdate()};if(a.clear(),e.current.caches.rows=B,!I){A();return}const j=t.throttleRowsMs-(Date.now()-i.current);if(j>0){a.start(j,A);return}A()},[t.throttleRowsMs,t.rowCount,t.loading,e,a]),f=c.useCallback(B=>{o.debug(`Updating all rows, new length ${B.length}`);const I=Mi({rows:B,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),A=e.current.caches.rows;I.rowsBeforePartialUpdates=A.rowsBeforePartialUpdates,m({cache:I,throttle:!0})},[o,t.getRowId,t.loading,t.rowCount,m,e]),v=c.useCallback(B=>{if(t.signature===yo.DataGrid&&B.length>1)throw new Error(["MUI: You can't update several rows at once in `apiRef.current.updateRows` on the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join(`
`));const I=[];B.forEach(j=>{const V=Ki(j,t.getRowId,"A row was provided without id when calling updateRows():"),R=e.current.getRowNode(V);if((R==null?void 0:R.type)==="pinnedRow"){const W=e.current.caches.pinnedRows,Z=W.idLookup[V];Z&&(W.idLookup[V]=T({},Z,j))}else I.push(j)});const A=jw({updates:I,getRowId:t.getRowId,previousCache:e.current.caches.rows});m({cache:A,throttle:!0})},[t.signature,t.getRowId,m,e]),x=c.useCallback(()=>{const B=Cs(e),I=Do(e);return new Map(B.map(A=>{var j;return[A,(j=I[A])!=null?j:{}]}))},[e]),b=c.useCallback(()=>Sa(e),[e]),C=c.useCallback(()=>Cs(e),[e]),S=c.useCallback(B=>g[B],[g]),_=c.useCallback((B,I)=>{const A=e.current.getRowNode(B);if(!A)throw new Error(`MUI: No row with id #${B} found`);if(A.type!=="group")throw new Error("MUI: Only group nodes can be expanded or collapsed");const j=T({},A,{childrenExpanded:I});e.current.setState(V=>T({},V,{rows:T({},V.rows,{tree:T({},V.rows.tree,{[B]:j})})})),e.current.forceUpdate(),e.current.publishEvent("rowExpansionChange",j)},[e]),P=c.useCallback(B=>{var I;return(I=ro(e)[B])!=null?I:null},[e]),z=c.useCallback(({skipAutoGeneratedRows:B=!0,groupId:I,applySorting:A,applyFiltering:j})=>{const V=ro(e);let R;if(A){const W=V[I];if(!W)return[];const Z=Pc(e);R=[];const q=Z.findIndex(ee=>ee===I)+1;for(let ee=q;ee<Z.length&&V[Z[ee]].depth>W.depth;ee+=1){const X=Z[ee];(!B||!Rs(V[X]))&&R.push(X)}}else R=Mc(V,I,B);if(j){const W=Gh(e);R=R.filter(Z=>W[Z]!==!1)}return R},[e]),F=c.useCallback((B,I)=>{const A=e.current.getRowNode(B);if(!A)throw new Error(`MUI: No row with id #${B} found`);if(A.parent!==Dn)throw new Error("MUI: The row reordering do not support reordering of grouped rows yet");if(A.type!=="leaf")throw new Error("MUI: The row reordering do not support reordering of footer or grouping rows");e.current.setState(j=>{const V=ro(j,e.current.instanceId)[Dn],R=V.children,W=R.findIndex(q=>q===B);if(W===-1||W===I)return j;o.debug(`Moving row ${B} to index ${I}`);const Z=[...R];return Z.splice(I,0,Z.splice(W,1)[0]),T({},j,{rows:T({},j.rows,{tree:T({},j.rows.tree,{[Dn]:T({},V,{children:Z})})})})}),e.current.publishEvent("rowsSet")},[e,o]),G=c.useCallback((B,I)=>{if(t.signature===yo.DataGrid&&I.length>1)throw new Error(["MUI: You can't replace rows using `apiRef.current.unstable_replaceRows` on the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join(`
`));if(I.length===0)return;if(_a(e)>1)throw new Error("`apiRef.current.unstable_replaceRows` is not compatible with tree data and row grouping");const j=T({},ro(e)),V=T({},Do(e)),R=T({},Wi(e)),W=j[Dn],Z=[...W.children],q=new Set;for(let X=0;X<I.length;X+=1){const te=I[X],Y=Ki(te,t.getRowId,"A row was provided without id when calling replaceRows()."),[ne]=Z.splice(B+X,1,Y);q.has(ne)||(delete V[ne],delete R[ne],delete j[ne]);const re={id:Y,depth:0,parent:Dn,type:"leaf",groupingKey:null};V[Y]=te,R[Y]=Y,j[Y]=re,q.add(Y)}j[Dn]=T({},W,{children:Z});const ee=Z.filter(X=>j[X].type==="leaf");e.current.caches.rows.dataRowIdToModelLookup=V,e.current.caches.rows.dataRowIdToIdLookup=R,e.current.setState(X=>T({},X,{rows:T({},X.rows,{dataRowIdToModelLookup:V,dataRowIdToIdLookup:R,dataRowIds:ee,tree:j})})),e.current.publishEvent("rowsSet")},[e,t.signature,t.getRowId]),k={getRow:l,getRowId:p,getRowModels:x,getRowsCount:b,getAllRowIds:C,setRows:f,updateRows:v,getRowNode:P,getRowIndexRelativeToVisibleRows:S,unstable_replaceRows:G},M={setRowIndex:F,setRowChildrenExpansion:_,getRowGroupChildren:z},E=c.useCallback(()=>{o.info("Row grouping pre-processing have changed, regenerating the row tree");let B;e.current.caches.rows.rowsBeforePartialUpdates===t.rows?B=T({},e.current.caches.rows,{updates:{type:"full",rows:Cs(e)}}):B=Mi({rows:t.rows,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),m({cache:B,throttle:!1})},[o,e,t.rows,t.getRowId,t.loading,t.rowCount,m]),$=c.useCallback(B=>{B==="rowTreeCreation"&&E()},[E]),D=c.useCallback(()=>{e.current.getActiveStrategy("rowTree")!==_w(e)&&E()},[e,E]);We(e,"activeStrategyProcessorChange",$),We(e,"strategyAvailabilityChange",D);const O=c.useCallback(()=>{e.current.setState(B=>{const I=e.current.unstable_applyPipeProcessors("hydrateRows",{tree:ro(B,e.current.instanceId),treeDepths:Td(B,e.current.instanceId),dataRowIds:Cs(B,e.current.instanceId),dataRowIdToModelLookup:Do(B,e.current.instanceId),dataRowIdToIdLookup:Wi(B,e.current.instanceId)});return T({},B,{rows:T({},B.rows,I,{totalTopLevelRowCount:qh({tree:I.tree,rowCountProp:t.rowCount})})})}),e.current.publishEvent("rowsSet"),e.current.forceUpdate()},[e,t.rowCount]);Hc(e,"hydrateRows",O),pt(e,k,"public"),pt(e,M,t.signature===yo.DataGrid?"private":"public");const H=c.useRef(!0);c.useEffect(()=>{if(H.current){H.current=!1;return}const B=e.current.caches.rows.rowsBeforePartialUpdates===t.rows,I=e.current.caches.rows.loadingPropBeforePartialUpdates===t.loading,A=e.current.caches.rows.rowCountPropBeforePartialUpdates===t.rowCount;if(B){I||(e.current.setState(j=>T({},j,{rows:T({},j.rows,{loading:t.loading})})),e.current.caches.rows.loadingPropBeforePartialUpdates=t.loading,e.current.forceUpdate()),A||(e.current.setState(j=>T({},j,{rows:T({},j.rows,{totalRowCount:Math.max(t.rowCount||0,j.rows.totalRowCount),totalTopLevelRowCount:Math.max(t.rowCount||0,j.rows.totalTopLevelRowCount)})})),e.current.caches.rows.rowCountPropBeforePartialUpdates=t.rowCount,e.current.forceUpdate());return}o.debug(`Updating all rows, new length ${t.rows.length}`),m({cache:Mi({rows:t.rows,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),throttle:!1})},[t.rows,t.rowCount,t.getRowId,t.loading,o,m,e])},ik=e=>{const t={[Dn]:T({},$w(),{children:e})};for(let o=0;o<e.length;o+=1){const r=e[o];t[r]={id:r,depth:0,parent:Dn,type:"leaf",groupingKey:null}}return{groupingName:vr,tree:t,treeDepths:{0:e.length},dataRowIds:e}},ak=({previousTree:e,actions:t})=>{const o=T({},e),r={};for(let l=0;l<t.remove.length;l+=1){const d=t.remove[l];r[d]=!0,delete o[d]}for(let l=0;l<t.insert.length;l+=1){const d=t.insert[l];o[d]={id:d,depth:0,parent:Dn,type:"leaf",groupingKey:null}}const i=o[Dn];let a=[...i.children,...t.insert];return Object.values(r).length&&(a=a.filter(l=>!r[l])),o[Dn]=T({},i,{children:a}),{groupingName:vr,tree:o,treeDepths:{0:a.length},dataRowIds:a}},lk=e=>e.updates.type==="full"?ik(e.updates.rows):ak({previousTree:e.previousTree,actions:e.updates.actions}),ck=e=>{ta(e,vr,"rowTreeCreation",lk)},Bm=(e,t)=>e==null||Array.isArray(e)?e:t&&t[0]===e?t:[e],uk=(e,t)=>{var o;return T({},e,{rowSelection:t.rowSelection?(o=Bm(t.rowSelectionModel))!=null?o:[]:[]})},dk=(e,t)=>{const o=Pn(e,"useGridSelection"),r=I=>(...A)=>{t.rowSelection&&I(...A)},i=c.useMemo(()=>Bm(t.rowSelectionModel,Jn(e.current.state)),[e,t.rowSelectionModel]),a=c.useRef(null);e.current.registerControlState({stateId:"rowSelection",propModel:i,propOnChange:t.onRowSelectionModelChange,stateSelector:Jn,changeEvent:"rowSelectionChange"});const{checkboxSelection:l,disableMultipleRowSelection:d,disableRowSelectionOnClick:p,isRowSelectable:g}=t,m=!d||l,f=Cr(e,t),v=c.useCallback(I=>{var A;let j=I;const V=(A=a.current)!=null?A:I,R=e.current.isRowSelected(I);if(R){const W=ks(e),Z=W.findIndex(ee=>ee===V),q=W.findIndex(ee=>ee===j);if(Z===q)return;Z>q?j=W[q+1]:j=W[q-1]}a.current=I,e.current.selectRowRange({startId:V,endId:j},!R)},[e]),x=c.useCallback(I=>{if(t.signature===yo.DataGrid&&!t.checkboxSelection&&Array.isArray(I)&&I.length>1)throw new Error(["MUI: `rowSelectionModel` can only contain 1 item in DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock multiple selection."].join(`
`));Jn(e.current.state)!==I&&(o.debug("Setting selection model"),e.current.setState(j=>T({},j,{rowSelection:t.rowSelection?I:[]})),e.current.forceUpdate())},[e,o,t.rowSelection,t.signature,t.checkboxSelection]),b=c.useCallback(I=>Jn(e.current.state).includes(I),[e]),C=c.useCallback(I=>{if(g&&!g(e.current.getRowParams(I)))return!1;const A=e.current.getRowNode(I);return!((A==null?void 0:A.type)==="footer"||(A==null?void 0:A.type)==="pinnedRow")},[e,g]),S=c.useCallback(()=>K1(e),[e]),_=c.useCallback((I,A=!0,j=!1)=>{if(e.current.isRowSelectable(I))if(a.current=I,j)o.debug(`Setting selection for row ${I}`),e.current.setRowSelectionModel(A?[I]:[]);else{o.debug(`Toggling selection for row ${I}`);const R=Jn(e.current.state).filter(Z=>Z!==I);A&&R.push(I),(R.length<2||m)&&e.current.setRowSelectionModel(R)}},[e,o,m]),P=c.useCallback((I,A=!0,j=!1)=>{o.debug("Setting selection for several rows");const V=I.filter(Z=>e.current.isRowSelectable(Z));let R;if(j)R=A?V:[];else{const Z=T({},Yi(e));V.forEach(q=>{A?Z[q]=q:delete Z[q]}),R=Object.values(Z)}(R.length<2||m)&&e.current.setRowSelectionModel(R)},[e,o,m]),z=c.useCallback(({startId:I,endId:A},j=!0,V=!1)=>{if(!e.current.getRow(I)||!e.current.getRow(A))return;o.debug(`Expanding selection from row ${I} to row ${A}`);const R=ks(e),W=R.indexOf(I),Z=R.indexOf(A),[q,ee]=W>Z?[Z,W]:[W,Z],X=R.slice(q,ee+1);e.current.selectRows(X,j,V)},[e,o]),F={selectRow:_,setRowSelectionModel:x,getSelectedRows:S,isRowSelected:b,isRowSelectable:C},G={selectRows:P,selectRowRange:z};pt(e,F,"public"),pt(e,G,t.signature===yo.DataGrid?"private":"public");const k=c.useCallback(()=>{if(t.keepNonExistentRowsSelected)return;const I=Jn(e.current.state),A=Do(e),j=T({},Yi(e));let V=!1;I.forEach(R=>{A[R]||(delete j[R],V=!0)}),V&&e.current.setRowSelectionModel(Object.values(j))},[e,t.keepNonExistentRowsSelected]),M=c.useCallback((I,A)=>{const j=A.metaKey||A.ctrlKey,V=!l&&!j&&!MS(A),R=!m||V,W=e.current.isRowSelected(I);R?e.current.selectRow(I,V?!0:!W,!0):e.current.selectRow(I,!W,!1)},[e,m,l]),E=c.useCallback((I,A)=>{var j;if(p)return;const V=(j=A.target.closest(`.${J.cell}`))==null?void 0:j.getAttribute("data-field");if(V===ts.field||V===Bc)return;if(V){const W=e.current.getColumn(V);if((W==null?void 0:W.type)===ka)return}e.current.getRowNode(I.id).type!=="pinnedRow"&&(A.shiftKey&&(m||l)?v(I.id):M(I.id,A))},[p,m,l,e,v,M]),$=c.useCallback((I,A)=>{if(m&&A.shiftKey){var j;(j=window.getSelection())==null||j.removeAllRanges()}},[m]),D=c.useCallback((I,A)=>{A.nativeEvent.shiftKey?v(I.id):e.current.selectRow(I.id,I.value)},[e,v]),O=c.useCallback(I=>{const j=t.checkboxSelectionVisibleOnly&&t.pagination?fm(e):ks(e),V=vn(e);e.current.selectRows(j,I.value,(V==null?void 0:V.items.length)>0)},[e,t.checkboxSelectionVisibleOnly,t.pagination]),H=c.useCallback((I,A)=>{if(e.current.getCellMode(I.id,I.field)!==Lt.Edit&&!Ks(A)){if(Xi(A.key)&&A.shiftKey){const j=$n(e);if(j&&j.id!==I.id){A.preventDefault();const V=e.current.isRowSelected(j.id);if(!m){e.current.selectRow(j.id,!V,!0);return}const R=e.current.getRowIndexRelativeToVisibleRows(j.id),W=e.current.getRowIndexRelativeToVisibleRows(I.id);let Z,q;R>W?V?(Z=W,q=R-1):(Z=W,q=R):V?(Z=R+1,q=W):(Z=R,q=W);const ee=f.rows.slice(Z,q+1).map(X=>X.id);e.current.selectRows(ee,!V);return}}if(A.key===" "&&A.shiftKey){A.preventDefault(),M(I.id,A);return}A.key==="a"&&(A.ctrlKey||A.metaKey)&&(A.preventDefault(),P(e.current.getAllRowIds(),!0))}},[e,M,P,f.rows,m]);We(e,"sortedRowsSet",r(k)),We(e,"rowClick",r(E)),We(e,"rowSelectionCheckboxChange",r(D)),We(e,"headerSelectionCheckboxChange",O),We(e,"cellMouseDown",r($)),We(e,"cellKeyDown",r(H)),c.useEffect(()=>{i!==void 0&&e.current.setRowSelectionModel(i)},[e,i,t.rowSelection]),c.useEffect(()=>{t.rowSelection||e.current.setRowSelectionModel([])},[e,t.rowSelection]);const B=i!=null;c.useEffect(()=>{if(B||!t.rowSelection)return;const I=Jn(e.current.state);if(C){const A=I.filter(j=>C(j));A.length<I.length&&e.current.setRowSelectionModel(A)}},[e,C,B,t.rowSelection]),c.useEffect(()=>{if(!t.rowSelection||B)return;const I=Jn(e.current.state);!m&&I.length>1&&e.current.setRowSelectionModel([])},[e,m,l,B,t.rowSelection])},pk={noRowsLabel:"No rows",noResultsOverlayLabel:"No results found.",toolbarDensity:"Density",toolbarDensityLabel:"Density",toolbarDensityCompact:"Compact",toolbarDensityStandard:"Standard",toolbarDensityComfortable:"Comfortable",toolbarColumns:"Columns",toolbarColumnsLabel:"Select columns",toolbarFilters:"Filters",toolbarFiltersLabel:"Show filters",toolbarFiltersTooltipHide:"Hide filters",toolbarFiltersTooltipShow:"Show filters",toolbarFiltersTooltipActive:e=>e!==1?`${e} active filters`:`${e} active filter`,toolbarQuickFilterPlaceholder:"Searchâ€¦",toolbarQuickFilterLabel:"Search",toolbarQuickFilterDeleteIconLabel:"Clear",toolbarExport:"Export",toolbarExportLabel:"Export",toolbarExportCSV:"Download as CSV",toolbarExportPrint:"Print",toolbarExportExcel:"Download as Excel",columnsPanelTextFieldLabel:"Find column",columnsPanelTextFieldPlaceholder:"Column title",columnsPanelDragIconLabel:"Reorder column",columnsPanelShowAllButton:"Show all",columnsPanelHideAllButton:"Hide all",filterPanelAddFilter:"Add filter",filterPanelRemoveAll:"Remove all",filterPanelDeleteIconLabel:"Delete",filterPanelLogicOperator:"Logic operator",filterPanelOperator:"Operator",filterPanelOperatorAnd:"And",filterPanelOperatorOr:"Or",filterPanelColumns:"Columns",filterPanelInputLabel:"Value",filterPanelInputPlaceholder:"Filter value",filterOperatorContains:"contains",filterOperatorEquals:"equals",filterOperatorStartsWith:"starts with",filterOperatorEndsWith:"ends with",filterOperatorIs:"is",filterOperatorNot:"is not",filterOperatorAfter:"is after",filterOperatorOnOrAfter:"is on or after",filterOperatorBefore:"is before",filterOperatorOnOrBefore:"is on or before",filterOperatorIsEmpty:"is empty",filterOperatorIsNotEmpty:"is not empty",filterOperatorIsAnyOf:"is any of","filterOperator=":"=","filterOperator!=":"!=","filterOperator>":">","filterOperator>=":">=","filterOperator<":"<","filterOperator<=":"<=",headerFilterOperatorContains:"Contains",headerFilterOperatorEquals:"Equals",headerFilterOperatorStartsWith:"Starts with",headerFilterOperatorEndsWith:"Ends with",headerFilterOperatorIs:"Is",headerFilterOperatorNot:"Is not",headerFilterOperatorAfter:"Is after",headerFilterOperatorOnOrAfter:"Is on or after",headerFilterOperatorBefore:"Is before",headerFilterOperatorOnOrBefore:"Is on or before",headerFilterOperatorIsEmpty:"Is empty",headerFilterOperatorIsNotEmpty:"Is not empty",headerFilterOperatorIsAnyOf:"Is any of","headerFilterOperator=":"Equals","headerFilterOperator!=":"Not equals","headerFilterOperator>":"Greater than","headerFilterOperator>=":"Greater than or equal to","headerFilterOperator<":"Less than","headerFilterOperator<=":"Less than or equal to",filterValueAny:"any",filterValueTrue:"true",filterValueFalse:"false",columnMenuLabel:"Menu",columnMenuShowColumns:"Show columns",columnMenuManageColumns:"Manage columns",columnMenuFilter:"Filter",columnMenuHideColumn:"Hide column",columnMenuUnsort:"Unsort",columnMenuSortAsc:"Sort by ASC",columnMenuSortDesc:"Sort by DESC",columnHeaderFiltersTooltipActive:e=>e!==1?`${e} active filters`:`${e} active filter`,columnHeaderFiltersLabel:"Show filters",columnHeaderSortIconLabel:"Sort",footerRowSelected:e=>e!==1?`${e.toLocaleString()} rows selected`:`${e.toLocaleString()} row selected`,footerTotalRows:"Total Rows:",footerTotalVisibleRows:(e,t)=>`${e.toLocaleString()} of ${t.toLocaleString()}`,checkboxSelectionHeaderName:"Checkbox selection",checkboxSelectionSelectAllRows:"Select all rows",checkboxSelectionUnselectAllRows:"Unselect all rows",checkboxSelectionSelectRow:"Select row",checkboxSelectionUnselectRow:"Unselect row",booleanCellTrueLabel:"yes",booleanCellFalseLabel:"no",actionsCellMore:"more",pinToLeft:"Pin to left",pinToRight:"Pin to right",unpin:"Unpin",treeDataGroupingHeaderName:"Group",treeDataExpand:"see children",treeDataCollapse:"hide children",groupingColumnHeaderName:"Group",groupColumn:e=>`Group by ${e}`,unGroupColumn:e=>`Stop grouping by ${e}`,detailPanelToggle:"Detail panel toggle",expandDetailPanel:"Expand",collapseDetailPanel:"Collapse",MuiTablePagination:{},rowReorderingHeaderName:"Row reordering",aggregationMenuItemHeader:"Aggregation",aggregationFunctionLabelSum:"sum",aggregationFunctionLabelAvg:"avg",aggregationFunctionLabelMin:"min",aggregationFunctionLabelMax:"max",aggregationFunctionLabelSize:"size"},hk=e=>{const{classes:t}=e;return c.useMemo(()=>bt({cellCheckbox:["cellCheckbox"],columnHeaderCheckbox:["columnHeaderCheckbox"]},xt,t),[t])},mk=(e,t)=>{const o={classes:t.classes},r=hk(o),i=c.useCallback(a=>{const l=T({},ts,{cellClassName:r.cellCheckbox,headerClassName:r.columnHeaderCheckbox,headerName:e.current.getLocaleText("checkboxSelectionHeaderName")}),d=t.checkboxSelection,p=a.lookup[Bo]!=null;return d&&!p?(a.lookup[Bo]=l,a.orderedFields=[Bo,...a.orderedFields]):!d&&p?(delete a.lookup[Bo],a.orderedFields=a.orderedFields.filter(g=>g!==Bo)):d&&p&&(a.lookup[Bo]=T({},l,a.lookup[Bo])),a},[e,r,t.checkboxSelection]);an(e,"hydrateColumns",i)},fk=(e,t)=>{var o,r,i;const a=(o=(r=t.sortModel)!=null?r:(i=t.initialState)==null||(i=i.sorting)==null?void 0:i.sortModel)!=null?o:[];return T({},e,{sorting:{sortModel:gm(a,t.disableMultipleColumnsSorting),sortedRows:[]}})},gk=(e,t)=>{var o;const r=Pn(e,"useGridSorting");e.current.registerControlState({stateId:"sortModel",propModel:t.sortModel,propOnChange:t.onSortModelChange,stateSelector:Un,changeEvent:"sortModelChange"});const i=c.useCallback((k,M)=>{const E=Un(e),$=E.findIndex(O=>O.field===k);let D=[...E];return $>-1?M?D.splice($,1,M):D.splice($,1):D=[...E,M],D},[e]),a=c.useCallback((k,M)=>{var E;const D=Un(e).find(H=>H.field===k.field);if(D){var O;const H=M===void 0?Ed((O=k.sortingOrder)!=null?O:t.sortingOrder,D.sort):M;return H==null?void 0:T({},D,{sort:H})}return{field:k.field,sort:M===void 0?Ed((E=k.sortingOrder)!=null?E:t.sortingOrder):M}},[e,t.sortingOrder]),l=c.useCallback((k,M)=>M==null||M.sortable===!1?k:(M.sortingOrder||t.sortingOrder).some($=>!!$)?[...k,"columnMenuSortItem"]:k,[t.sortingOrder]),d=c.useCallback(()=>{e.current.setState(k=>{if(t.sortingMode==="server")return r.debug("Skipping sorting rows as sortingMode = server"),T({},k,{sorting:T({},k.sorting,{sortedRows:Mc(ro(e),Dn,!1)})});const M=Un(k,e.current.instanceId),E=Q1(M,e),$=e.current.applyStrategyProcessor("sorting",{sortRowList:E});return T({},k,{sorting:T({},k.sorting,{sortedRows:$})})}),e.current.publishEvent("sortedRowsSet"),e.current.forceUpdate()},[e,r,t.sortingMode]),p=c.useCallback(k=>{Un(e)!==k&&(r.debug("Setting sort model"),e.current.setState(Dd(k,t.disableMultipleColumnsSorting)),e.current.forceUpdate(),e.current.applySorting())},[e,r,t.disableMultipleColumnsSorting]),g=c.useCallback((k,M,E)=>{if(!k.sortable)return;const $=a(k,M);let D;!E||t.disableMultipleColumnsSorting?D=$?[$]:[]:D=i(k.field,$),e.current.setSortModel(D)},[e,i,a,t.disableMultipleColumnsSorting]),m=c.useCallback(()=>Un(e),[e]),f=c.useCallback(()=>Ic(e).map(M=>M.model),[e]),v=c.useCallback(()=>Pc(e),[e]),x=c.useCallback(k=>e.current.getSortedRowIds()[k],[e]);pt(e,{getSortModel:m,getSortedRows:f,getSortedRowIds:v,getRowIdFromRowIndex:x,setSortModel:p,sortColumn:g,applySorting:d},"public");const C=c.useCallback((k,M)=>{var E;const $=Un(e);return!M.exportOnlyDirtyModels||t.sortModel!=null||((E=t.initialState)==null||(E=E.sorting)==null?void 0:E.sortModel)!=null||$.length>0?T({},k,{sorting:{sortModel:$}}):k},[e,t.sortModel,(o=t.initialState)==null||(o=o.sorting)==null?void 0:o.sortModel]),S=c.useCallback((k,M)=>{var E;const $=(E=M.stateToRestore.sorting)==null?void 0:E.sortModel;return $==null?k:(e.current.setState(Dd($,t.disableMultipleColumnsSorting)),T({},k,{callbacks:[...k.callbacks,e.current.applySorting]}))},[e,t.disableMultipleColumnsSorting]),_=c.useCallback(k=>{const M=ro(e),E=M[Dn],$=k.sortRowList?k.sortRowList(E.children.map(D=>M[D])):[...E.children];return E.footerId!=null&&$.push(E.footerId),$},[e]);an(e,"exportState",C),an(e,"restoreState",S),ta(e,vr,"sorting",_);const P=c.useCallback(({colDef:k},M)=>{const E=M.shiftKey||M.metaKey||M.ctrlKey;g(k,void 0,E)},[g]),z=c.useCallback(({colDef:k},M)=>{PS(M.key)&&!M.ctrlKey&&!M.metaKey&&g(k,void 0,M.shiftKey)},[g]),F=c.useCallback(()=>{const k=Un(e),M=xr(e);if(k.length>0){const E=k.filter($=>M[$.field]);E.length<k.length&&e.current.setSortModel(E)}},[e]),G=c.useCallback(k=>{k==="sorting"&&e.current.applySorting()},[e]);an(e,"columnMenu",l),We(e,"columnHeaderClick",P),We(e,"columnHeaderKeyDown",z),We(e,"rowsSet",e.current.applySorting),We(e,"columnsChange",F),We(e,"activeStrategyProcessorChange",G),Js(()=>{e.current.applySorting()}),bn(()=>{t.sortModel!==void 0&&e.current.setSortModel(t.sortModel)},[e,t.sortModel])};function op(e){const{clientHeight:t,scrollTop:o,offsetHeight:r,offsetTop:i}=e,a=i+r;if(r>t)return i;if(a-t>o)return a-t;if(i<o)return i}const vk=(e,t)=>{const o=Bt(),r=Pn(e,"useGridScroll"),i=e.current.columnHeadersElementRef,a=e.current.virtualScrollerRef,l=Oe(e,Yo),d=c.useCallback(f=>{const v=Sa(e),x=_n(e);if(!(f.rowIndex==null)&&v===0||x.length===0)return!1;r.debug(`Scrolling to cell at row ${f.rowIndex}, col: ${f.colIndex} `);let C={};if(f.colIndex!=null){const z=Jr(e);let F;if(typeof f.rowIndex<"u"){var S;const G=(S=l[f.rowIndex])==null?void 0:S.id,k=e.current.unstable_getCellColSpanInfo(G,f.colIndex);k&&!k.spannedByColSpan&&(F=k.cellProps.width)}typeof F>"u"&&(F=x[f.colIndex].computedWidth),C.left=op({clientHeight:a.current.clientWidth,scrollTop:Math.abs(a.current.scrollLeft),offsetHeight:F,offsetTop:z[f.colIndex]})}if(f.rowIndex!=null){var _,P;const z=Fs(e.current.state),F=V1(e),G=mm(e),k=t.pagination?f.rowIndex-F*G:f.rowIndex,M=z.positions[k+1]?z.positions[k+1]-z.positions[k]:z.currentPageTotalHeight-z.positions[k],E=((_=a.current.querySelector(`.${J["pinnedRows--top"]}`))==null?void 0:_.clientHeight)||0,$=((P=a.current.querySelector(`.${J["pinnedRows--bottom"]}`))==null?void 0:P.clientHeight)||0;C.top=op({clientHeight:a.current.clientHeight-E-$,scrollTop:a.current.scrollTop,offsetHeight:M,offsetTop:z.positions[k]})}return C=e.current.unstable_applyPipeProcessors("scrollToIndexes",C,f),typeof C.left!==void 0||typeof C.top!==void 0?(e.current.scroll(C),!0):!1},[r,e,a,t.pagination,l]),p=c.useCallback(f=>{if(a.current&&f.left!=null&&i.current){const v=o.direction==="rtl"?-1:1;i.current.scrollLeft=f.left,a.current.scrollLeft=v*f.left,r.debug(`Scrolling left: ${f.left}`)}a.current&&f.top!=null&&(a.current.scrollTop=f.top,r.debug(`Scrolling top: ${f.top}`)),r.debug("Scrolling, updating container, and viewport")},[a,o.direction,i,r]),g=c.useCallback(()=>a!=null&&a.current?{top:a.current.scrollTop,left:a.current.scrollLeft}:{top:0,left:0},[a]);pt(e,{scroll:p,scrollToIndexes:d,getScrollPosition:g},"public")};function yk(e,t){Ut(e,"columnHeaderClick",t.onColumnHeaderClick),Ut(e,"columnHeaderDoubleClick",t.onColumnHeaderDoubleClick),Ut(e,"columnHeaderOver",t.onColumnHeaderOver),Ut(e,"columnHeaderOut",t.onColumnHeaderOut),Ut(e,"columnHeaderEnter",t.onColumnHeaderEnter),Ut(e,"columnHeaderLeave",t.onColumnHeaderLeave),Ut(e,"cellClick",t.onCellClick),Ut(e,"cellDoubleClick",t.onCellDoubleClick),Ut(e,"cellKeyDown",t.onCellKeyDown),Ut(e,"preferencePanelClose",t.onPreferencePanelClose),Ut(e,"preferencePanelOpen",t.onPreferencePanelOpen),Ut(e,"menuOpen",t.onMenuOpen),Ut(e,"menuClose",t.onMenuClose),Ut(e,"rowDoubleClick",t.onRowDoubleClick),Ut(e,"rowClick",t.onRowClick),Ut(e,"stateChange",t.onStateChange)}const bk=({content:e,container:t,scrollBarSize:o})=>{const r=e.width>t.width,i=e.height>t.height;let a=!1,l=!1;return(r||i)&&(a=r,l=e.height+(a?o:0)>t.height,l&&(a=e.width+o>t.width)),{hasScrollX:a,hasScrollY:l}};function xk(e,t){const o=Pn(e,"useResizeContainer"),r=c.useRef(!1),i=c.useRef(null),a=c.useRef(null),l=Oe(e,Fs),d=Oe(e,es),p=Math.floor(t.rowHeight*d),g=Gc(e,t.columnHeaderHeight),m=c.useCallback(()=>{var M;const E=(M=e.current.rootElementRef)==null?void 0:M.current,$=_c(e),D=Yh(e);if(!i.current)return;let O;if(t.scrollbarSize!=null)O=t.scrollbarSize;else if(!$||!E)O=0;else{const W=Vs(E).createElement("div");W.style.width="99px",W.style.height="99px",W.style.position="absolute",W.style.overflow="scroll",W.className="scrollDiv",E.appendChild(W),O=W.offsetWidth-W.clientWidth,E.removeChild(W)}let H,B,I;if(t.autoHeight)I=!1,B=Math.round($)>Math.round(i.current.width),H={width:i.current.width,height:l.currentPageTotalHeight+(B?O:0)};else{H={width:i.current.width,height:Math.max(i.current.height-g,0)};const R=bk({content:{width:Math.round($),height:l.currentPageTotalHeight},container:{width:Math.round(H.width),height:H.height-D.top-D.bottom},scrollBarSize:O});I=R.hasScrollY,B=R.hasScrollX}const A={width:H.width-(I?O:0),height:H.height-(B?O:0)},j={viewportOuterSize:H,viewportInnerSize:A,hasScrollX:B,hasScrollY:I,scrollBarSize:O},V=a.current;a.current=j,(j.viewportInnerSize.width!==(V==null?void 0:V.viewportInnerSize.width)||j.viewportInnerSize.height!==(V==null?void 0:V.viewportInnerSize.height))&&e.current.publishEvent("viewportInnerSizeChange",j.viewportInnerSize)},[e,t.scrollbarSize,t.autoHeight,l.currentPageTotalHeight,g]),[f,v]=c.useState(),x=c.useMemo(()=>Ah(v,60),[]),b=c.useRef();bn(()=>{f&&(m(),e.current.publishEvent("debouncedResize",i.current))},[e,f,m]);const C=c.useCallback(()=>{e.current.computeSizeAndPublishResizeEvent()},[e]),S=c.useCallback(()=>a.current,[]),_=c.useCallback(()=>{const M=e.current.getRootDimensions();if(!M)return 0;const E=Qi(e,{pagination:t.pagination,paginationMode:t.paginationMode});if(t.getRowHeight){const D=e.current.getRenderContext(),O=D.lastRowIndex-D.firstRowIndex;return Math.min(O-1,E.rows.length)}const $=Math.floor(M.viewportInnerSize.height/p);return Math.min($,E.rows.length)},[e,t.pagination,t.paginationMode,t.getRowHeight,p]),P=c.useCallback(()=>{var M,E,$;const D=(M=e.current.mainElementRef)==null?void 0:M.current;if(!D)return;const H=Kx(D).getComputedStyle(D),B=parseFloat(H.height)||0,I=parseFloat(H.width)||0,A=B!==((E=b.current)==null?void 0:E.height),j=I!==(($=b.current)==null?void 0:$.width);if(!b.current||A||j){const V={width:I,height:B};e.current.publishEvent("resize",V),b.current=V}},[e]),z={resize:C,getRootDimensions:S},F={getViewportPageSize:_,updateGridDimensionsRef:m,computeSizeAndPublishResizeEvent:P};pt(e,z,"public"),pt(e,F,"private");const G=c.useRef(!0),k=c.useCallback(M=>{i.current=M;const E=/jsdom/.test(window.navigator.userAgent);if(M.height===0&&!r.current&&!t.autoHeight&&!E&&(o.error(["The parent DOM element of the data grid has an empty height.","Please make sure that this element has an intrinsic height.","The grid displays with a height of 0px.","","More details: https://mui.com/r/x-data-grid-no-dimensions."].join(`
`)),r.current=!0),M.width===0&&!r.current&&!E&&(o.error(["The parent DOM element of the data grid has an empty width.","Please make sure that this element has an intrinsic width.","The grid displays with a width of 0px.","","More details: https://mui.com/r/x-data-grid-no-dimensions."].join(`
`)),r.current=!0),G.current){v(M),G.current=!1;return}x(M)},[t.autoHeight,x,o]);bn(()=>m(),[m]),Ut(e,"sortedRowsSet",m),Ut(e,"paginationModelChange",m),Ut(e,"columnsChange",m),We(e,"resize",k),Ut(e,"debouncedResize",t.onResize)}const Ck=["style"],wk=["style"];function Xr(e,t,o=0,r=t.length){if(t.length<=0)return-1;if(o>=r)return o;const i=o+Math.floor((r-o)/2),a=t[i];return e<=a?Xr(e,t,o,i):Xr(e,t,i+1,r)}function Sk(e,t,o){let r=1;for(;o<t.length&&Math.abs(t[o])<e;)o+=r,r*=2;return Xr(e,t,Math.floor(o/2),Math.min(o,t.length))}const Ho=({firstIndex:e,lastIndex:t,buffer:o,minFirstIndex:r,maxLastIndex:i})=>[qr(e-o,r,i),qr(t+o,r,i)],jm=(e,t)=>e===t?!0:e.firstRowIndex===t.firstRowIndex&&e.lastRowIndex===t.lastRowIndex&&e.firstColumnIndex===t.firstColumnIndex&&e.lastColumnIndex===t.lastColumnIndex,_k={maxSize:3},Pk=e=>{const t=Xo(),o=Ge(),r=Oe(t,_n),i=Oe(t,i_),a=Oe(t,Cm),{ref:l,onRenderZonePositioning:d,renderZoneMinColumnIndex:p=0,renderZoneMaxColumnIndex:g=r.length,getRowProps:m}=e,f=Bt(),v=Oe(t,Jr),x=Oe(t,_c),b=Oe(t,$n),C=Oe(t,Ui),S=Oe(t,Fs),_=Oe(t,Yi),P=Cr(t,o),z=c.useRef(null),F=c.useRef(null),G=qo(l,F),[k,M]=c.useState(null),E=c.useRef(k),$=c.useRef({top:0,left:0}),[D,O]=c.useState({width:null,height:null}),H=c.useRef(x),[B,I]=c.useState(null),A=c.useRef(Object.create(null)),j=c.useRef(),V=c.useRef(),R=c.useRef(xa((fe,se,U,he,Q,ie)=>{let de;const we=fe.slice(se,U);return ie>-1&&(se>ie&&ie>=he||U<ie&&ie<Q)&&(de=ie),{focusedCellColumnIndexNotInRange:de,renderedColumns:we}},_k)),W=c.useMemo(()=>b!==null?r.findIndex(fe=>fe.field===b.field):-1,[b,r]),Z=c.useCallback(()=>{if(!i)return{firstRowIndex:0,lastRowIndex:P.rows.length,firstColumnIndex:0,lastColumnIndex:r.length};const{top:fe,left:se}=$.current,U=Math.min(rp(t,P,S,fe),S.positions.length-1),he=o.autoHeight?U+P.rows.length:rp(t,P,S,fe+D.height);let Q=0,ie=v.length;if(a){let de=!1;const[we,Re]=Ho({firstIndex:U,lastIndex:he,minFirstIndex:0,maxLastIndex:P.rows.length,buffer:o.rowBuffer});for(let Pe=we;Pe<Re&&!de;Pe+=1){const ge=P.rows[Pe];de=t.current.rowHasAutoHeight(ge.id)}de||(Q=Xr(Math.abs(se),v),ie=Xr(Math.abs(se)+D.width,v))}return{firstRowIndex:U,lastRowIndex:he,firstColumnIndex:Q,lastColumnIndex:ie}},[i,a,S,o.autoHeight,o.rowBuffer,P,v,r.length,t,D]);bn(()=>{i?(F.current.scrollLeft=0,F.current.scrollTop=0):z.current.style.transform="translate3d(0px, 0px, 0px)"},[i]),bn(()=>{O({width:F.current.clientWidth,height:F.current.clientHeight})},[S.currentPageTotalHeight]);const q=c.useCallback(()=>{F.current&&O({width:F.current.clientWidth,height:F.current.clientHeight})},[]);We(t,"debouncedResize",q);const ee=c.useCallback(fe=>{const[se,U]=Ho({firstIndex:fe.firstRowIndex,lastIndex:fe.lastRowIndex,minFirstIndex:0,maxLastIndex:P.rows.length,buffer:o.rowBuffer}),[he]=Ho({firstIndex:fe.firstColumnIndex,lastIndex:fe.lastColumnIndex,minFirstIndex:p,maxLastIndex:g,buffer:o.columnBuffer}),Q=Zl({firstColumnToRender:he,apiRef:t,firstRowToRender:se,lastRowToRender:U,visibleRows:P.rows}),ie=f.direction==="ltr"?1:-1,de=Fs(t.current.state).positions[se],we=ie*Jr(t)[Q];z.current.style.transform=`translate3d(${we}px, ${de}px, 0px)`,typeof d=="function"&&d({top:de,left:we})},[t,P.rows,d,p,g,o.columnBuffer,o.rowBuffer,f.direction]),X=c.useCallback(()=>E.current,[]),te=c.useCallback(fe=>{if(E.current&&jm(fe,E.current)){ee(fe);return}M(fe),ee(fe);const[se,U]=Ho({firstIndex:fe.firstRowIndex,lastIndex:fe.lastRowIndex,minFirstIndex:0,maxLastIndex:P.rows.length,buffer:o.rowBuffer});t.current.publishEvent("renderedRowsIntervalChange",{firstRowToRender:se,lastRowToRender:U}),E.current=fe},[t,M,E,P.rows.length,o.rowBuffer,ee]);bn(()=>{if(D.width==null)return;const fe=Z();te(fe);const{top:se,left:U}=$.current,he={top:se,left:U,renderContext:fe};t.current.publishEvent("scrollPositionChange",he)},[t,Z,D.width,te]);const Y=io(fe=>{const{scrollTop:se,scrollLeft:U}=fe.currentTarget;if($.current.top=se,$.current.left=U,!E.current||se<0||f.direction==="ltr"&&U<0||f.direction==="rtl"&&U>0)return;const he=i?Z():E.current,Q=Math.abs(he.firstRowIndex-E.current.firstRowIndex),ie=Math.abs(he.lastRowIndex-E.current.lastRowIndex),de=Math.abs(he.firstColumnIndex-E.current.firstColumnIndex),we=Math.abs(he.lastColumnIndex-E.current.lastColumnIndex),Re=Q>=o.rowThreshold||ie>=o.rowThreshold||de>=o.columnThreshold||we>=o.columnThreshold||H.current!==x;t.current.publishEvent("scrollPositionChange",{top:se,left:U,renderContext:Re?he:E.current},fe),Re&&($s.flushSync(()=>{te(he)}),H.current=x)}),ne=io(fe=>{t.current.publishEvent("virtualScrollerWheel",{},fe)}),re=io(fe=>{t.current.publishEvent("virtualScrollerTouchMove",{},fe)}),ve=c.useMemo(()=>b!==null?P.rows.findIndex(fe=>fe.id===b.id):-1,[b,P.rows]);We(t,"rowMouseOver",(fe,se)=>{var U;se.currentTarget.contains(se.relatedTarget)||I((U=fe.id)!=null?U:null)}),We(t,"rowMouseOut",(fe,se)=>{se.currentTarget.contains(se.relatedTarget)||I(null)});const _e=(fe={renderContext:k})=>{var se;const{onRowRender:U,renderContext:he,minFirstColumn:Q=p,maxLastColumn:ie=g,availableSpace:de=D.width,rowIndexOffset:we=0,position:Re="center"}=fe;if(!he||de==null)return null;const Pe=i?o.rowBuffer:0,ge=i?o.columnBuffer:0,[ye,ke]=Ho({firstIndex:he.firstRowIndex,lastIndex:he.lastRowIndex,minFirstIndex:0,maxLastIndex:P.rows.length,buffer:Pe}),Be=[];if(fe.rows)fe.rows.forEach(It=>{Be.push(It),t.current.calculateColSpan({rowId:It.id,minFirstColumn:Q,maxLastColumn:ie,columns:r})});else{if(!P.range)return null;for(let It=ye;It<ke;It+=1){const me=P.rows[It];Be.push(me),t.current.calculateColSpan({rowId:me.id,minFirstColumn:Q,maxLastColumn:ie,columns:r})}}let Qe=!1;if(ve>-1){const It=P.rows[ve];(ye>ve||ke<ve)&&(Qe=!0,ve>ye?Be.push(It):Be.unshift(It),t.current.calculateColSpan({rowId:It.id,minFirstColumn:Q,maxLastColumn:ie,columns:r}))}const[Je,qe]=Ho({firstIndex:he.firstColumnIndex,lastIndex:he.lastColumnIndex,minFirstIndex:Q,maxLastIndex:ie,buffer:ge}),Ke=Zl({firstColumnToRender:Je,apiRef:t,firstRowToRender:ye,lastRowToRender:ke,visibleRows:P.rows});let St=!1;(Ke>W||qe<W)&&(St=!0);const{focusedCellColumnIndexNotInRange:at,renderedColumns:st}=R.current(r,Ke,qe,Q,ie,St?W:-1),Jt=((se=o.slotProps)==null?void 0:se.row)||{},{style:Et}=Jt,Yt=$e(Jt,Ck);(j.current!==m||V.current!==Et)&&(A.current=Object.create(null));const on=[];let rn=!1;for(let It=0;It<Be.length;It+=1){var qt;const{id:me,model:Te}=Be[It],vt=Qe&&b.id===me,Ft=Qe?ye+It===P.rows.length:ye+It===P.rows.length-1,zt=t.current.rowHasAutoHeight(me)?"auto":t.current.unstable_getRowHeight(me);let dt;_[me]==null?dt=!1:dt=t.current.isRowSelectable(me),U&&U(me);const Tt=b!==null&&b.id===me?b.field:null,Me=at!==void 0&&r[at],Le=Me&&Tt?[Me,...st]:st;let et=null;C!==null&&C.id===me&&(et=t.current.getCellParams(me,C.field).cellMode==="view"?C.field:null);const ot=typeof m=="function"&&m(me,Te)||{},{style:kt}=ot,Rt=$e(ot,wk);if(!A.current[me]){const Cn=T({},kt,Et);A.current[me]=Cn}let Ne=we+((P==null||(qt=P.range)==null?void 0:qt.firstRowIndex)||0)+ye+It;Qe&&(b==null?void 0:b.id)===me?(Ne=ve,rn=!0):rn&&(Ne-=1),on.push(h.jsx(o.slots.row,T({row:Te,rowId:me,focusedCellColumnIndexNotInRange:at,isNotVisible:vt,rowHeight:zt,focusedCell:Tt,tabbableCell:et,renderedColumns:Le,visibleColumns:r,firstColumnToRender:Ke,lastColumnToRender:qe,selected:dt,index:Ne,containerWidth:de,isLastVisible:Ft,position:Re},Rt,Yt,{hovered:B===me,style:A.current[me]}),me))}return j.current=m,V.current=Et,on},be=D.width&&x>=D.width,Ae=c.useMemo(()=>{const fe=Math.max(S.currentPageTotalHeight,1);let se=!1;F!=null&&F.current&&fe<=(F==null?void 0:F.current.clientHeight)&&(se=!0);const U={width:be?x:"auto",height:fe,minHeight:se?"100%":"auto"};return o.autoHeight&&P.rows.length===0&&(U.height=Qh(t,o.rowHeight)),U},[t,F,x,S.currentPageTotalHeight,be,o.autoHeight,o.rowHeight,P.rows.length]);c.useEffect(()=>{t.current.publishEvent("virtualScrollerContentSizeChange")},[t,Ae]);const Ce=c.useMemo(()=>{const fe={};return be||(fe.overflowX="hidden"),o.autoHeight&&(fe.overflowY="hidden"),fe},[be,o.autoHeight]);return t.current.register("private",{getRenderContext:X}),{renderContext:k,updateRenderZonePosition:ee,getRows:_e,getRootProps:(fe={})=>T({ref:G,onScroll:Y,onWheel:ne,onTouchMove:re},fe,{style:fe.style?T({},fe.style,Ce):Ce,role:"presentation"}),getContentProps:({style:fe}={})=>({style:fe?T({},fe,Ae):Ae,role:"presentation"}),getRenderZoneProps:()=>({ref:z,role:"rowgroup"})}};function rp(e,t,o,r){var i,a;const l=e.current.getLastMeasuredRowIndex();let d=l===1/0;(i=t.range)!=null&&i.lastRowIndex&&!d&&(d=l>=t.range.lastRowIndex);const p=qr(l-(((a=t.range)==null?void 0:a.firstRowIndex)||0),0,o.positions.length);return d||o.positions[p]>=r?Xr(r,o.positions):Sk(r,o.positions,p)}const Ik=e=>{const{classes:t,headerAlign:o,isDragging:r,showColumnBorder:i,groupId:a}=e;return bt({root:["columnHeader",o==="left"&&"columnHeader--alignLeft",o==="center"&&"columnHeader--alignCenter",o==="right"&&"columnHeader--alignRight",r&&"columnHeader--moving",i&&"columnHeader--showColumnBorder",i&&"columnHeader--withRightBorder","withBorderColor",a===null?"columnHeader--emptyGroup":"columnHeader--filledGroup"],draggableContainer:["columnHeaderDraggableContainer"],titleContainer:["columnHeaderTitleContainer","withBorderColor"],titleContainerContent:["columnHeaderTitleContainerContent"]},xt,t)};function Tk(e){var t;const{groupId:o,width:r,depth:i,maxDepth:a,fields:l,height:d,colIndex:p,hasFocus:g,tabIndex:m,isLastColumn:f}=e,v=Ge(),x=c.useRef(null),b=gt(),C=Oe(b,Bh),S=o?C[o]:{},{headerName:_=o??"",description:P="",headerAlign:z=void 0}=S;let F;const G=o&&((t=C[o])==null?void 0:t.renderHeaderGroup),k=c.useMemo(()=>({groupId:o,headerName:_,description:P,depth:i,maxDepth:a,fields:l,colIndex:p,isLastColumn:f}),[o,_,P,i,a,l,p,f]);o&&G&&(F=G(k));const M=v.showColumnVerticalBorder,E=T({},e,{classes:v.classes,showColumnBorder:M,headerAlign:z,depth:i,isDragging:!1}),$=_??o,D=Xt(),O=o===null?`empty-group-cell-${D}`:o,H=Ik(E);c.useLayoutEffect(()=>{if(g){const V=x.current.querySelector('[tabindex="0"]')||x.current;V==null||V.focus()}},[b,g]);const B=c.useCallback(j=>V=>{Ks(V)||b.current.publishEvent(j,k,V)},[b,k]),I=c.useMemo(()=>({onKeyDown:B("columnGroupHeaderKeyDown"),onFocus:B("columnGroupHeaderFocus"),onBlur:B("columnGroupHeaderBlur")}),[B]),A=typeof S.headerClassName=="function"?S.headerClassName(k):S.headerClassName;return h.jsx(lm,T({ref:x,classes:H,columnMenuOpen:!1,colIndex:p,height:d,isResizing:!1,sortDirection:null,hasFocus:!1,tabIndex:m,isDraggable:!1,headerComponent:F,headerClassName:A,description:P,elementId:O,width:r,columnMenuIconButton:null,columnTitleIconButtons:null,resizable:!1,label:$,"aria-colspan":l.length,"data-fields":`|-${l.join("-|-")}-|`},I))}const sp=Ee("div",{name:"MuiDataGrid",slot:"ColumnHeaderRow",overridesResolver:(e,t)=>t.columnHeaderRow})(()=>({display:"flex"}));function kk(e){return!!e.target}const Mk=e=>{const{innerRef:t,minColumnIndex:o=0,visibleColumns:r,sortColumnLookup:i,filterColumnLookup:a,columnPositions:l,columnHeaderTabIndexState:d,columnGroupHeaderTabIndexState:p,columnHeaderFocus:g,columnGroupHeaderFocus:m,densityFactor:f,headerGroupingMaxDepth:v,columnMenuState:x,columnVisibility:b,columnGroupsHeaderStructure:C,hasOtherElementInTabSequence:S}=e,_=Bt(),[P,z]=c.useState(""),[F,G]=c.useState(""),k=Xo(),M=Oe(k,Cm),E=Ge(),$=c.useRef(null),D=qo(t,$),[O,H]=c.useState(null),B=c.useRef(O),I=c.useRef(0),A=Cr(k,E),j=Gc(k,E.columnHeaderHeight),V=Math.floor(E.columnHeaderHeight*f),R=c.useCallback(be=>{O&&be&&jm(O,be)||H(be)},[O]);c.useEffect(()=>{var be;(be=k.current.columnHeadersContainerElementRef)!=null&&be.current&&(k.current.columnHeadersContainerElementRef.current.scrollLeft=0)},[k]);const W=c.useRef(xa(CT,{equalityCheck:(be,Ae)=>["firstColumnIndex","minColumnIndex","columnBuffer"].every(Ce=>be[Ce]===Ae[Ce])})),Z=c.useCallback(be=>{const[Ae,Ce]=Ho({firstIndex:be.firstRowIndex,lastIndex:be.lastRowIndex,minFirstIndex:0,maxLastIndex:A.rows.length,buffer:E.rowBuffer}),fe=W.current({firstColumnIndex:be.firstColumnIndex,minColumnIndex:o,columnBuffer:E.columnBuffer,firstRowToRender:Ae,lastRowToRender:Ce,apiRef:k,visibleRows:A.rows}),se=_.direction==="ltr"?1:-1,U=fe>0?I.current-se*l[fe]:I.current;$.current.style.transform=`translate3d(${-U}px, 0px, 0px)`},[l,o,E.columnBuffer,k,A.rows,E.rowBuffer,_.direction]);c.useLayoutEffect(()=>{O&&Z(O)},[O,Z]);const q=c.useCallback(({left:be,renderContext:Ae=null},Ce)=>{var fe,se;if(!$.current||I.current===be&&((fe=B.current)==null?void 0:fe.firstColumnIndex)===(Ae==null?void 0:Ae.firstColumnIndex)&&((se=B.current)==null?void 0:se.lastColumnIndex)===(Ae==null?void 0:Ae.lastColumnIndex))return;I.current=be;let U=!1;Ae!==B.current||!B.current?(kk(Ce)?($s.flushSync(()=>{R(Ae)}),U=!0):R(Ae),B.current=Ae):U=!0,Ae&&U&&Z(Ae)},[Z,R]),ee=c.useCallback(be=>G(be.field),[]),X=c.useCallback(()=>G(""),[]),te=c.useCallback(be=>z(be.field),[]),Y=c.useCallback(()=>z(""),[]);We(k,"columnResizeStart",ee),We(k,"columnResizeStop",X),We(k,"columnHeaderDragStart",te),We(k,"columnHeaderDragEnd",Y),We(k,"scrollPositionChange",q);const ne=be=>{const{renderContext:Ae=O,minFirstColumn:Ce=o,maxLastColumn:fe=r.length}=be||{};if(!Ae)return null;const[se,U]=Ho({firstIndex:Ae.firstRowIndex,lastIndex:Ae.lastRowIndex,minFirstIndex:0,maxLastIndex:A.rows.length,buffer:E.rowBuffer}),he=M?W.current({firstColumnIndex:Ae.firstColumnIndex,minColumnIndex:Ce,columnBuffer:E.columnBuffer,apiRef:k,firstRowToRender:se,lastRowToRender:U,visibleRows:A.rows}):0,Q=M?Math.min(Ae.lastColumnIndex+E.columnBuffer,fe):fe;return{renderedColumns:r.slice(he,Q),firstColumnToRender:he,lastColumnToRender:Q,minFirstColumn:Ce,maxLastColumn:fe}},re=(be,Ae={})=>{const Ce=ne(be);if(Ce==null)return null;const{renderedColumns:fe,firstColumnToRender:se}=Ce,U=[];for(let he=0;he<fe.length;he+=1){const Q=fe[he],ie=se+he,de=ie===0,we=d!==null&&d.field===Q.field||de&&!S?0:-1,Re=g!==null&&g.field===Q.field,Pe=x.open&&x.field===Q.field;U.push(h.jsx(M1,T({},i[Q.field],{columnMenuOpen:Pe,filterItemsCounter:a[Q.field]&&a[Q.field].length,headerHeight:V,isDragging:Q.field===P,colDef:Q,colIndex:ie,isResizing:F===Q.field,hasFocus:Re,tabIndex:we},Ae),Q.field))}return h.jsx(sp,{role:"row","aria-rowindex":v+1,ownerState:E,children:U})},ve=be=>{if(v===0)return null;const Ae=ne(be);if(Ae==null||Ae.renderedColumns.length===0)return null;const{firstColumnToRender:Ce,lastColumnToRender:fe}=Ae,se=[],U=[];for(let ie=0;ie<v;ie+=1){var he,Q;const de=C[ie],we=r[Ce].field,Re=(he=k.current.unstable_getColumnGroupPath(we)[ie])!=null?he:null,Pe=de.findIndex(({groupId:at,columnFields:st})=>at===Re&&st.includes(we)),ge=r[fe-1].field,ye=(Q=k.current.unstable_getColumnGroupPath(ge)[ie])!=null?Q:null,ke=de.findIndex(({groupId:at,columnFields:st})=>at===ye&&st.includes(ge)),Be=de.slice(Pe,ke+1).map(at=>T({},at,{columnFields:at.columnFields.filter(st=>b[st]!==!1)})).filter(at=>at.columnFields.length>0),Qe=Be[0].columnFields.indexOf(we),qe=Be[0].columnFields.slice(0,Qe).reduce((at,st)=>{var Jt;const Et=k.current.getColumn(st);return at+((Jt=Et.computedWidth)!=null?Jt:0)},0);let Ke=Ce;const St=Be.map(({groupId:at,columnFields:st})=>{const Jt=m!==null&&m.depth===ie&&st.includes(m.field),Et=p!==null&&p.depth===ie&&st.includes(p.field)?0:-1,Yt={groupId:at,width:st.reduce((hn,on)=>hn+k.current.getColumn(on).computedWidth,0),fields:st,colIndex:Ke,hasFocus:Jt,tabIndex:Et};return Ke+=st.length,Yt});U.push({leftOverflow:qe,elements:St})}return U.forEach((ie,de)=>{se.push(h.jsx(sp,{style:{height:`${V}px`,transform:`translateX(-${ie.leftOverflow}px)`},role:"row","aria-rowindex":de+1,ownerState:E,children:ie.elements.map(({groupId:we,width:Re,fields:Pe,colIndex:ge,hasFocus:ye,tabIndex:ke},Be)=>h.jsx(Tk,{groupId:we,width:Re,fields:Pe,colIndex:ge,depth:de,isLastColumn:ge===r.length-Pe.length,maxDepth:U.length,height:V,hasFocus:ye,tabIndex:ke},Be))},de))}),se},_e={minHeight:j,maxHeight:j,lineHeight:`${V}px`};return{renderContext:O,getColumnHeaders:re,getColumnsToRender:ne,getColumnGroupHeaders:ve,isDragging:!!P,getRootProps:(be={})=>T({style:_e},be),getInnerProps:()=>({ref:D,role:"rowgroup"}),headerHeight:V}},Ak=["className"],Dk=e=>{const{classes:t}=e;return bt({root:["columnHeaders","withBorderColor"]},xt,t)},Ek=xn("div",{name:"MuiDataGrid",slot:"ColumnHeaders",overridesResolver:(e,t)=>t.columnHeaders})({position:"relative",overflow:"hidden",display:"flex",alignItems:"center",boxSizing:"border-box",borderBottom:"1px solid",borderTopLeftRadius:"var(--unstable_DataGrid-radius)",borderTopRightRadius:"var(--unstable_DataGrid-radius)"}),Rk=c.forwardRef(function(t,o){const{className:r}=t,i=$e(t,Ak),a=Ge(),l=Dk(a);return h.jsx(Ek,T({ref:o,className:ze(r,l.root),ownerState:a},i,{role:"presentation"}))}),Lk=["isDragging","className"],Fk=e=>{const{isDragging:t,hasScrollX:o,classes:r}=e;return bt({root:["columnHeadersInner",t&&"columnHeaderDropZone",o&&"columnHeadersInner--scrollable"]},xt,r)},Ok=xn("div",{name:"MuiDataGrid",slot:"columnHeadersInner",overridesResolver:(e,t)=>[{[`&.${J.columnHeaderDropZone}`]:t.columnHeaderDropZone},t.columnHeadersInner]})(()=>({display:"flex",alignItems:"flex-start",flexDirection:"column",[`&.${J.columnHeaderDropZone} .${J.columnHeaderDraggableContainer}`]:{cursor:"move"},[`&.${J["columnHeadersInner--scrollable"]} .${J.columnHeader}:last-child`]:{borderRight:"none"}})),Nk=c.forwardRef(function(t,o){var r,i;const{isDragging:a,className:l}=t,d=$e(t,Lk),p=gt(),g=Ge(),m=T({},g,{isDragging:a,hasScrollX:(r=(i=p.current.getRootDimensions())==null?void 0:i.hasScrollX)!=null?r:!1}),f=Fk(m);return h.jsx(Ok,T({ref:o,className:ze(l,f.root),ownerState:m},d))}),zk=["innerRef","className","visibleColumns","sortColumnLookup","filterColumnLookup","columnPositions","columnHeaderTabIndexState","columnGroupHeaderTabIndexState","columnHeaderFocus","columnGroupHeaderFocus","densityFactor","headerGroupingMaxDepth","columnMenuState","columnVisibility","columnGroupsHeaderStructure","hasOtherElementInTabSequence"],$k=c.forwardRef(function(t,o){const{innerRef:r,visibleColumns:i,sortColumnLookup:a,filterColumnLookup:l,columnPositions:d,columnHeaderTabIndexState:p,columnGroupHeaderTabIndexState:g,columnHeaderFocus:m,columnGroupHeaderFocus:f,densityFactor:v,headerGroupingMaxDepth:x,columnMenuState:b,columnVisibility:C,columnGroupsHeaderStructure:S,hasOtherElementInTabSequence:_}=t,P=$e(t,zk),{isDragging:z,getRootProps:F,getInnerProps:G,getColumnHeaders:k,getColumnGroupHeaders:M}=Mk({innerRef:r,visibleColumns:i,sortColumnLookup:a,filterColumnLookup:l,columnPositions:d,columnHeaderTabIndexState:p,columnGroupHeaderTabIndexState:g,columnHeaderFocus:m,columnGroupHeaderFocus:f,densityFactor:v,headerGroupingMaxDepth:x,columnMenuState:b,columnVisibility:C,columnGroupsHeaderStructure:S,hasOtherElementInTabSequence:_});return h.jsx(Rk,T({ref:o},F(P),{children:h.jsxs(Nk,T({isDragging:z},G(),{children:[M(),k()]}))}))}),Bk=Ta($k),jk=c.forwardRef(function(t,o){const i=gt().current.getLocaleText("noResultsOverlayLabel");return h.jsx(Rc,T({ref:o},t,{children:i}))}),Hk=["sortingOrder"],Gk=c.memo(function(t){const{sortingOrder:o}=t,r=$e(t,Hk),i=Ge(),[a]=o,l=a==="asc"?i.slots.columnSortedAscendingIcon:i.slots.columnSortedDescendingIcon;return l?h.jsx(l,T({},r)):null}),Vk=["native"];function Wk(e){let{native:t}=e,o=$e(e,Vk);return t?h.jsx("option",T({},o)):h.jsx($t,T({},o))}const Zk={BooleanCellTrueIcon:T_,BooleanCellFalseIcon:yl,ColumnMenuIcon:S_,OpenFilterButtonIcon:g_,FilterPanelDeleteIcon:yl,ColumnFilteredIcon:Nd,ColumnSelectorIcon:y_,ColumnUnsortedIcon:Gk,ColumnSortedAscendingIcon:Rd,ColumnSortedDescendingIcon:Ld,ColumnResizeIcon:b_,DensityCompactIcon:x_,DensityStandardIcon:C_,DensityComfortableIcon:w_,ExportIcon:I_,MoreActionsIcon:k_,TreeDataCollapseIcon:Od,TreeDataExpandIcon:Fd,GroupingCriteriaCollapseIcon:Od,GroupingCriteriaExpandIcon:Fd,DetailPanelExpandIcon:zd,DetailPanelCollapseIcon:__,RowReorderIcon:$d,QuickFilterIcon:v_,QuickFilterClearIcon:yl,ColumnMenuHideIcon:M_,ColumnMenuSortAscendingIcon:Rd,ColumnMenuSortDescendingIcon:Ld,ColumnMenuFilterIcon:Nd,ColumnMenuManageColumnsIcon:A_,ColumnMenuClearIcon:D_,LoadIcon:P_,FilterPanelAddIcon:zd,FilterPanelRemoveAllIcon:E_,ColumnReorderIcon:$d},Uk=T({},Zk,{BaseCheckbox:Ml,BaseTextField:En,BaseFormControl:Op,BaseSelect:Yl,BaseSwitch:Bb,BaseButton:yn,BaseIconButton:pn,BaseInputAdornment:ca,BaseTooltip:Lp,BasePopper:Yr,BaseInputLabel:Fp,BaseSelectOption:Wk,BaseChip:Fi}),Kk=T({},Uk,{Cell:$l,SkeletonCell:WS,ColumnHeaderFilterIconButton:l_,ColumnMenu:U_,ColumnHeaders:Bk,Footer:lI,FooterRowCount:vI,Toolbar:null,PreferencesPanel:xP,LoadingOverlay:uI,NoResultsOverlay:jk,NoRowsOverlay:dI,Pagination:hI,FilterPanel:jP,ColumnsPanel:mP,Panel:bP,Row:NI}),Hm=e=>{if(e!==void 0)return Object.keys(e).reduce((t,o)=>T({},t,{[`${o.charAt(0).toLowerCase()}${o.slice(1)}`]:e[o]}),{})};function Jk({defaultSlots:e,slots:t,components:o}){const r=t??(o?Hm(o):null);if(!r||Object.keys(r).length===0)return e;const i=T({},e);return Object.keys(r).forEach(a=>{const l=a;r[l]!==void 0&&(i[l]=r[l])}),i}const qk=["components","componentsProps"];function Xk(e){var t;const o=Object.keys(e);if(!o.some(a=>a.startsWith("aria-")||a.startsWith("data-")))return e;const r={},i=(t=e.forwardedProps)!=null?t:{};for(let a=0;a<o.length;a+=1){const l=o[a];l.startsWith("aria-")||l.startsWith("data-")?i[l]=e[l]:r[l]=e[l]}return r.forwardedProps=i,r}function Yk(e){return c.useMemo(()=>{const{components:t,componentsProps:o}=e,r=$e(e,qk);return[t,o,Xk(r)]},[e])}const Qk={disableMultipleColumnsFiltering:!0,disableMultipleColumnsSorting:!0,disableMultipleRowSelection:!0,throttleRowsMs:void 0,hideFooterRowCount:!1,pagination:!0,checkboxSelectionVisibleOnly:!1,disableColumnReorder:!0,disableColumnResize:!0,keepColumnPositionIfDraggedOutside:!1,signature:"DataGrid"},Ma={autoHeight:!1,autoPageSize:!1,checkboxSelection:!1,checkboxSelectionVisibleOnly:!1,columnBuffer:3,rowBuffer:3,columnThreshold:3,rowThreshold:3,rowSelection:!0,density:"standard",disableColumnFilter:!1,disableColumnMenu:!1,disableColumnSelector:!1,disableDensitySelector:!1,disableEval:!1,disableMultipleColumnsFiltering:!1,disableMultipleRowSelection:!1,disableMultipleColumnsSorting:!1,disableRowSelectionOnClick:!1,disableVirtualization:!1,editMode:xo.Cell,filterMode:"client",filterDebounceMs:150,columnHeaderHeight:56,hideFooter:!1,hideFooterPagination:!1,hideFooterRowCount:!1,hideFooterSelectedRowCount:!1,ignoreDiacritics:!1,logger:console,logLevel:"error",pagination:!1,paginationMode:"client",rowHeight:52,pageSizeOptions:[25,50,100],rowSpacingType:"margin",showCellVerticalBorder:!1,showColumnVerticalBorder:!1,sortingOrder:["asc","desc",null],sortingMode:"client",throttleRowsMs:0,disableColumnReorder:!1,disableColumnResize:!1,keepNonExistentRowsSelected:!1,keepColumnPositionIfDraggedOutside:!1,unstable_ignoreValueFormatterDuringExport:!1,clipboardCopyCellDelimiter:"	",rowPositionsDebounceMs:166},eM=Hm(Kk),tM=e=>{const[t,o,r]=Yk(hv({props:e,name:"MuiDataGrid"})),i=c.useMemo(()=>T({},pk,r.localeText),[r.localeText]),a=c.useMemo(()=>Jk({defaultSlots:eM,slots:r.slots,components:t}),[t,r.slots]);return c.useMemo(()=>{var l;return T({},Ma,r,{localeText:i,slots:a,slotProps:(l=r.slotProps)!=null?l:o},Qk)},[r,i,a,o])},nM=e=>T({},e,{rowsMeta:{currentPageTotalHeight:0,positions:[]}}),ip=(e,t,o)=>typeof e=="number"&&e>0?e:t,oM=(e,t)=>{const{getRowHeight:o,getRowSpacing:r,getEstimatedRowHeight:i}=t,a=c.useRef(Object.create(null)),l=c.useRef(-1),d=c.useRef(!1),p=Oe(e,es),g=Oe(e,vn),m=Oe(e,Fc),f=Oe(e,Un),v=Cr(e,t),x=Oe(e,Qr),b=ip(t.rowHeight,Ma.rowHeight),C=Math.floor(b*p),S=c.useCallback(()=>{var H,B;d.current=!1;const I=V=>{a.current[V.id]||(a.current[V.id]={sizes:{baseCenter:C},isResized:!1,autoHeight:!1,needsFirstMeasurement:!0});const{isResized:R,needsFirstMeasurement:W,sizes:Z}=a.current[V.id];let q=typeof C=="number"&&C>0?C:52;const ee=Z.baseCenter;if(R)q=ee;else if(o){const re=o(T({},V,{densityFactor:p}));if(re==="auto"){if(W){const ve=i?i(T({},V,{densityFactor:p})):C;q=ve??C}else q=ee;d.current=!0,a.current[V.id].autoHeight=!0}else q=ip(re,C),a.current[V.id].needsFirstMeasurement=!1,a.current[V.id].autoHeight=!1}else a.current[V.id].needsFirstMeasurement=!1;const X={};for(const re in Z)/^base[A-Z]/.test(re)&&(X[re]=Z[re]);if(X.baseCenter=q,r){var te,Y;const re=e.current.getRowIndexRelativeToVisibleRows(V.id),ve=r(T({},V,{isFirstVisible:re===0,isLastVisible:re===v.rows.length-1,indexRelativeToCurrentPage:re}));X.spacingTop=(te=ve.top)!=null?te:0,X.spacingBottom=(Y=ve.bottom)!=null?Y:0}const ne=e.current.unstable_applyPipeProcessors("rowHeight",X,V);return a.current[V.id].sizes=ne,ne},A=[],j=v.rows.reduce((V,R)=>{A.push(V);let W=0,Z=0;const q=I(R);for(const ee in q){const X=q[ee];/^base[A-Z]/.test(ee)?W=X>W?X:W:Z+=X}return V+W+Z},0);x==null||(H=x.top)==null||H.forEach(V=>{I(V)}),x==null||(B=x.bottom)==null||B.forEach(V=>{I(V)}),e.current.setState(V=>T({},V,{rowsMeta:{currentPageTotalHeight:j,positions:A}})),d.current||(l.current=1/0),e.current.forceUpdate()},[e,v.rows,C,o,r,i,x,p]),_=c.useCallback(H=>{const B=a.current[H];return B?B.sizes.baseCenter:C},[C]),P=H=>{var B;return(B=a.current[H])==null?void 0:B.sizes},z=c.useCallback((H,B)=>{a.current[H].sizes.baseCenter=B,a.current[H].isResized=!0,a.current[H].needsFirstMeasurement=!1,S()},[S]),F=c.useMemo(()=>Ah(S,t.rowPositionsDebounceMs),[S,t.rowPositionsDebounceMs]),G=c.useCallback((H,B,I)=>{if(!a.current[H]||!a.current[H].autoHeight)return;const A=a.current[H].sizes[`base${bo(I)}`]!==B;a.current[H].needsFirstMeasurement=!1,a.current[H].sizes[`base${bo(I)}`]=B,A&&F()},[F]),k=c.useCallback(H=>{var B;return((B=a.current[H])==null?void 0:B.autoHeight)||!1},[]),M=c.useCallback(()=>l.current,[]),E=c.useCallback(H=>{d.current&&H>l.current&&(l.current=H)},[]),$=c.useCallback(()=>{a.current={},S()},[S]);c.useEffect(()=>{S()},[C,g,m,f,S]),Hc(e,"rowHeight",S);const D={unstable_setLastMeasuredRowIndex:E,unstable_getRowHeight:_,unstable_getRowInternalSizes:P,unstable_setRowHeight:z,unstable_storeRowHeightMeasurement:G,resetRowHeights:$},O={getLastMeasuredRowIndex:M,rowHasAutoHeight:k};pt(e,D,"public"),pt(e,O,"private")},rM=e=>{const t=c.useCallback((i={})=>e.current.unstable_applyPipeProcessors("exportState",{},i),[e]),o=c.useCallback(i=>{e.current.unstable_applyPipeProcessors("restoreState",{callbacks:[]},{stateToRestore:i}).callbacks.forEach(l=>{l()}),e.current.forceUpdate()},[e]);pt(e,{exportState:t,restoreState:o},"public")},sM=e=>{const t=c.useRef({}),o=c.useCallback((g,m,f)=>{const v=t.current;v[g]||(v[g]={}),v[g][m]=f},[]),r=c.useCallback((g,m)=>{var f;return(f=t.current[g])==null?void 0:f[m]},[]),i=c.useCallback(g=>{const{columnIndex:m,rowId:f,minFirstColumnIndex:v,maxLastColumnIndex:x,columns:b}=g,C=b.length,S=b[m],_=typeof S.colSpan=="function"?S.colSpan(e.current.getCellParams(f,S.field)):S.colSpan;if(!_||_===1)return o(f,m,{spannedByColSpan:!1,cellProps:{colSpan:1,width:S.computedWidth}}),{colSpan:1};let P=S.computedWidth;for(let z=1;z<_;z+=1){const F=m+z;if(F>=v&&F<x){const G=b[F];P+=G.computedWidth,o(f,m+z,{spannedByColSpan:!0,rightVisibleCellIndex:Math.min(m+_,C-1),leftVisibleCellIndex:m})}o(f,m,{spannedByColSpan:!1,cellProps:{colSpan:_,width:P}})}return{colSpan:_}},[e,o]),a=c.useCallback(({rowId:g,minFirstColumn:m,maxLastColumn:f,columns:v})=>{for(let x=m;x<f;x+=1){const b=i({columnIndex:x,rowId:g,minFirstColumnIndex:m,maxLastColumnIndex:f,columns:v});b.colSpan>1&&(x+=b.colSpan-1)}},[i]),l={unstable_getCellColSpanInfo:r},d={calculateColSpan:a};pt(e,l,"public"),pt(e,d,"private");const p=c.useCallback(()=>{t.current={}},[]);We(e,"columnOrderChange",p)},Gm=(e,t,o)=>{if(em(e)){if(o[e.field]!==void 0)throw new Error(["MUI: columnGroupingModel contains duplicated field",`column field ${e.field} occurs two times in the grouping model:`,`- ${o[e.field].join(" > ")}`,`- ${t.join(" > ")}`].join(`
`));o[e.field]=t;return}const{groupId:r,children:i}=e;i.forEach(a=>{Gm(a,[...t,r],o)})},Ul=e=>{if(!e)return{};const t={};return e.forEach(o=>{Gm(o,[],t)}),t},Kl=(e,t,o)=>{const r=p=>{var g;return(g=t[p])!=null?g:[]},i=[],a=Math.max(...e.map(p=>r(p).length)),l=(p,g,m)=>hr(r(p).slice(0,m+1),r(g).slice(0,m+1)),d=(p,g)=>!!(o!=null&&o.left&&o.left.includes(p)&&!o.left.includes(g)||o!=null&&o.right&&!o.right.includes(p)&&o.right.includes(g));for(let p=0;p<a;p+=1){const g=e.reduce((m,f)=>{var v;const x=(v=r(f)[p])!=null?v:null;if(m.length===0)return[{columnFields:[f],groupId:x}];const b=m[m.length-1],C=b.columnFields[b.columnFields.length-1];return b.groupId!==x||!l(C,f,p)||d(C,f)?[...m,{columnFields:[f],groupId:x}]:[...m.slice(0,m.length-1),{columnFields:[...b.columnFields,f],groupId:x}]},[]);i.push(g)}return i},iM=["groupId","children"],Vc=e=>{let t={};return e.forEach(o=>{if(em(o))return;const{groupId:r,children:i}=o,a=$e(o,iM);if(!r)throw new Error("MUI: An element of the columnGroupingModel does not have either `field` or `groupId`.");i||console.warn(`MUI: group groupId=${r} has no children.`);const l=T({},a,{groupId:r}),d=Vc(i);if(d[r]!==void 0||t[r]!==void 0)throw new Error(`MUI: The groupId ${r} is used multiple times in the columnGroupingModel.`);t=T({},t,d,{[r]:l})}),T({},t)},aM=(e,t,o)=>{var r,i,a,l;if(!((r=t.experimentalFeatures)!=null&&r.columnGrouping))return e;const d=Eo(o),p=Ca(o),g=Vc((i=t.columnGroupingModel)!=null?i:[]),m=Ul((a=t.columnGroupingModel)!=null?a:[]),f=Kl(d,m,(l=o.current.state.pinnedColumns)!=null?l:{}),v=p.length===0?0:Math.max(...p.map(x=>{var b,C;return(b=(C=m[x])==null?void 0:C.length)!=null?b:0}));return T({},e,{columnGrouping:{lookup:g,unwrappedGroupingModel:m,headerStructure:f,maxDepth:v}})},lM=(e,t)=>{var o;const r=c.useCallback(p=>{var g;return(g=xw(e)[p])!=null?g:[]},[e]),i=c.useCallback(()=>Bh(e),[e]);pt(e,{unstable_getColumnGroupPath:r,unstable_getAllGroupDetails:i},"public");const l=c.useCallback(()=>{var p;const g=Ul((p=t.columnGroupingModel)!=null?p:[]);e.current.setState(m=>{var f,v,x;const b=(f=(v=m.columns)==null?void 0:v.orderedFields)!=null?f:[],C=(x=m.pinnedColumns)!=null?x:{},S=Kl(b,g,C);return T({},m,{columnGrouping:T({},m.columnGrouping,{headerStructure:S})})})},[e,t.columnGroupingModel]),d=c.useCallback(p=>{var g,m,f,v;if(!((g=t.experimentalFeatures)!=null&&g.columnGrouping))return;const x=(m=(f=(v=e.current).getPinnedColumns)==null?void 0:f.call(v))!=null?m:{},b=Eo(e),C=Ca(e),S=Vc(p??[]),_=Ul(p??[]),P=Kl(b,_,x),z=C.length===0?0:Math.max(...C.map(F=>{var G,k;return(G=(k=_[F])==null?void 0:k.length)!=null?G:0}));e.current.setState(F=>T({},F,{columnGrouping:{lookup:S,unwrappedGroupingModel:_,headerStructure:P,maxDepth:z}}))},[e,(o=t.experimentalFeatures)==null?void 0:o.columnGrouping]);We(e,"columnIndexChange",l),We(e,"columnsChange",()=>{d(t.columnGroupingModel)}),We(e,"columnVisibilityModelChange",()=>{d(t.columnGroupingModel)}),c.useEffect(()=>{d(t.columnGroupingModel)},[d,t.columnGroupingModel])},cM=(e,t)=>{const o=XI(e,t);return mk(o,t),ck(o),Ln(uk,o,t),Ln(wT,o,t),Ln(rk,o,t),Ln(nk,o,t),Ln($T,o,t),Ln(fk,o,t),Ln(ZT,o,t),Ln(FT,o,t),Ln(IT,o,t),Ln(VT,o,t),Ln(nM,o,t),Ln(vT,o,t),Ln(aM,o,t),Ln(r_,o,t),HT(o,t),dk(o,t),ST(o,t),sk(o,t),Qw(o,t),sM(o),lM(o,t),ok(o,t),BT(o,t),UT(o,t),zT(o,t),gk(o,t),TT(o,t),WT(o,t),oM(o,t),vk(o,t),yT(o),AT(o,t),LT(o,t),gT(o,t),xk(o,t),yk(o,t),rM(o),s_(o,t),o},uM=e=>{const{classes:t}=e;return bt({root:["virtualScroller"]},xt,t)},dM=xn("div",{name:"MuiDataGrid",slot:"VirtualScroller",overridesResolver:(e,t)=>t.virtualScroller})({overflow:"auto",height:"100%",position:"relative","@media print":{overflow:"hidden"},zIndex:0}),pM=c.forwardRef(function(t,o){const r=Ge(),i=uM(r);return h.jsx(dM,T({ref:o},t,{className:ze(i.root,t.className),ownerState:r}))}),hM=(e,t)=>{const{classes:o}=e;return bt({root:["virtualScrollerContent",t&&"virtualScrollerContent--overflowed"]},xt,o)},mM=xn("div",{name:"MuiDataGrid",slot:"VirtualScrollerContent",overridesResolver:(e,t)=>t.virtualScrollerContent})({}),fM=c.forwardRef(function(t,o){var r;const i=Ge(),a=!i.autoHeight&&((r=t.style)==null?void 0:r.minHeight)==="auto",l=hM(i,a);return h.jsx(mM,T({ref:o},t,{ownerState:i,className:ze(l.root,t.className)}))}),gM=["className"],vM=e=>{const{classes:t}=e;return bt({root:["virtualScrollerRenderZone"]},xt,t)},yM=xn("div",{name:"MuiDataGrid",slot:"VirtualScrollerRenderZone",overridesResolver:(e,t)=>t.virtualScrollerRenderZone})({position:"absolute",display:"flex",flexDirection:"column"}),bM=c.forwardRef(function(t,o){const{className:r}=t,i=$e(t,gM),a=Ge(),l=vM(a);return h.jsx(yM,T({ref:o,className:ze(l.root,r),ownerState:a},i))}),xM=["className"],CM=c.forwardRef(function(t,o){const{className:r}=t,i=$e(t,xM),{getRootProps:a,getContentProps:l,getRenderZoneProps:d,getRows:p}=Pk({ref:o});return h.jsxs(pM,T({className:r},a(i),{children:[h.jsx(Zw,{}),h.jsx(fM,T({},l(),{children:h.jsx(bM,T({},d(),{children:p()}))}))]}))}),Vm=c.forwardRef(function(t,o){const r=tM(t),i=cM(r.apiRef,r);return h.jsx(zI,{privateApiRef:i,props:r,children:h.jsxs(qS,T({className:r.className,style:r.style,sx:r.sx,ref:o},r.forwardedProps,{children:[h.jsx(cI,{}),h.jsx(Nw,{VirtualScrollerComponent:CM}),h.jsx(zw,{})]}))})}),wM=c.memo(Vm);Ma.filterDebounceMs;Ma.filterDebounceMs;Vm.propTypes={apiRef:ae.shape({current:ae.object.isRequired}),"aria-label":ae.string,"aria-labelledby":ae.string,autoHeight:ae.bool,autoPageSize:ae.bool,cellModesModel:ae.object,checkboxSelection:ae.bool,classes:ae.object,clipboardCopyCellDelimiter:ae.string,columnBuffer:ae.number,columnGroupingModel:ae.arrayOf(ae.object),columnHeaderHeight:ae.number,columns:Zx(ae.array.isRequired),columnThreshold:ae.number,columnVisibilityModel:ae.object,components:ae.object,componentsProps:ae.object,density:ae.oneOf(["comfortable","compact","standard"]),disableColumnFilter:ae.bool,disableColumnMenu:ae.bool,disableColumnSelector:ae.bool,disableDensitySelector:ae.bool,disableEval:ae.bool,disableRowSelectionOnClick:ae.bool,disableVirtualization:ae.bool,editMode:ae.oneOf(["cell","row"]),experimentalFeatures:ae.shape({ariaV7:ae.bool,columnGrouping:ae.bool,warnIfFocusStateIsNotSynced:ae.bool}),filterDebounceMs:ae.number,filterMode:ae.oneOf(["client","server"]),filterModel:ae.shape({items:ae.arrayOf(ae.shape({field:ae.string.isRequired,id:ae.oneOfType([ae.number,ae.string]),operator:ae.string.isRequired,value:ae.any})).isRequired,logicOperator:ae.oneOf(["and","or"]),quickFilterExcludeHiddenColumns:ae.bool,quickFilterLogicOperator:ae.oneOf(["and","or"]),quickFilterValues:ae.array}),forwardedProps:ae.object,getCellClassName:ae.func,getDetailPanelContent:ae.func,getEstimatedRowHeight:ae.func,getRowClassName:ae.func,getRowHeight:ae.func,getRowId:ae.func,getRowSpacing:ae.func,hideFooter:ae.bool,hideFooterPagination:ae.bool,hideFooterSelectedRowCount:ae.bool,ignoreDiacritics:ae.bool,initialState:ae.object,isCellEditable:ae.func,isRowSelectable:ae.func,keepNonExistentRowsSelected:ae.bool,loading:ae.bool,localeText:ae.object,logger:ae.shape({debug:ae.func.isRequired,error:ae.func.isRequired,info:ae.func.isRequired,warn:ae.func.isRequired}),logLevel:ae.oneOf(["debug","error","info","warn",!1]),nonce:ae.string,onCellClick:ae.func,onCellDoubleClick:ae.func,onCellEditStart:ae.func,onCellEditStop:ae.func,onCellKeyDown:ae.func,onCellModesModelChange:ae.func,onClipboardCopy:ae.func,onColumnHeaderClick:ae.func,onColumnHeaderDoubleClick:ae.func,onColumnHeaderEnter:ae.func,onColumnHeaderLeave:ae.func,onColumnHeaderOut:ae.func,onColumnHeaderOver:ae.func,onColumnOrderChange:ae.func,onColumnVisibilityModelChange:ae.func,onFilterModelChange:ae.func,onMenuClose:ae.func,onMenuOpen:ae.func,onPaginationModelChange:ae.func,onPreferencePanelClose:ae.func,onPreferencePanelOpen:ae.func,onProcessRowUpdateError:ae.func,onResize:ae.func,onRowClick:ae.func,onRowCountChange:ae.func,onRowDoubleClick:ae.func,onRowEditStart:ae.func,onRowEditStop:ae.func,onRowModesModelChange:ae.func,onRowSelectionModelChange:ae.func,onSortModelChange:ae.func,onStateChange:ae.func,pageSizeOptions:ae.arrayOf(ae.oneOfType([ae.number,ae.shape({label:ae.string.isRequired,value:ae.number.isRequired})]).isRequired),pagination:e=>e.pagination===!1?new Error(["MUI: `<DataGrid pagination={false} />` is not a valid prop.","Infinite scrolling is not available in the MIT version.","","You need to upgrade to DataGridPro or DataGridPremium component to disable the pagination."].join(`
`)):null,paginationMode:ae.oneOf(["client","server"]),paginationModel:ae.shape({page:ae.number.isRequired,pageSize:ae.number.isRequired}),processRowUpdate:ae.func,rowBuffer:ae.number,rowCount:ae.number,rowHeight:ae.number,rowModesModel:ae.object,rowPositionsDebounceMs:ae.number,rows:ae.arrayOf(ae.object).isRequired,rowSelection:ae.bool,rowSelectionModel:ae.oneOfType([ae.arrayOf(ae.oneOfType([ae.number,ae.string]).isRequired),ae.number,ae.string]),rowSpacingType:ae.oneOf(["border","margin"]),rowThreshold:ae.number,scrollbarSize:ae.number,showCellVerticalBorder:ae.bool,showColumnVerticalBorder:ae.bool,slotProps:ae.object,slots:ae.object,sortingMode:ae.oneOf(["client","server"]),sortingOrder:ae.arrayOf(ae.oneOf(["asc","desc"])),sortModel:ae.arrayOf(ae.shape({field:ae.string.isRequired,sort:ae.oneOf(["asc","desc"])})),sx:ae.oneOfType([ae.arrayOf(ae.oneOfType([ae.func,ae.object,ae.bool])),ae.func,ae.object]),unstable_ignoreValueFormatterDuringExport:ae.oneOfType([ae.shape({clipboardExport:ae.bool,csvExport:ae.bool}),ae.bool])};const Wm="taskTable_columns_v1";function zo(){try{const e=localStorage.getItem(Wm);return e?JSON.parse(e):null}catch{return null}}function Fr(e){try{localStorage.setItem(Wm,JSON.stringify(e))}catch{}}function SM(e,t){if(!t)return e;const o=t.widths||{},r=new Set(t.hidden||[]),i=t.order||[];if(i.length){const a=new Map(e.map(d=>[d.field,d])),l=[];i.forEach(d=>{a.has(d)&&l.push({...a.get(d)})}),e.forEach(d=>{i.includes(d.field)||l.push({...d})}),e=l}else e=e.map(a=>({...a}));return e.map(a=>({...a,width:o[a.field]??a.width,hide:r.has(a.field)}))}function _M({visible:e,x:t,y:o,selectedRows:r,clickedColumnKey:i,clickedRow:a,onClose:l,onOpenPopout:d,onOpenCalloutIncident:p,onProgressTasks:g,onProgressNotes:m,mouseScreenX:f,mouseScreenY:v}){if(!e)return null;const x=kn.useRef(null);kn.useEffect(()=>{const D=O=>{const H=x.current;H&&(O.target&&H.contains(O.target)||l())};return document.addEventListener("mousedown",D,!0),()=>document.removeEventListener("mousedown",D,!0)},[l]);const b=r.length?r:a?[a]:[],C=b.length,S=C>1?`Open Viewer (${C})`:"Open Viewer",_=()=>{if(b.length){try{d(b,f,v)}catch(D){console.error("ContextMenu â†’ onOpenPopout error:",D)}l()}},P=()=>{if(!(!b.length||!g)){try{g(b)}catch(D){console.error("ContextMenu â†’ onProgressTasks error:",D)}l()}},z=()=>{if(!(!b.length||!m)){try{m(b)}catch(D){console.error("ContextMenu â†’ onProgressNotes error:",D)}l()}},F=async()=>{if(!a||!i)return;const D=a[i],O=D==null?"":String(D);try{await navigator.clipboard.writeText(O)}catch(H){console.error("Clipboard write error:",H)}l()},G=a&&i?String(a[i]??""):"",k=()=>{if(a){try{p(a)}catch(D){console.error("ContextMenu â†’ onOpenCalloutIncident error:",D)}l()}},M=(a==null?void 0:a.taskId)??(a==null?void 0:a.TaskID)??(a==null?void 0:a.TaskId)??(a==null?void 0:a.id)??null,E=M?`Callout Incident: ${M}`:"Callout Incident",$=h.jsx(ec,{children:e&&h.jsxs(br.ul,{initial:{opacity:0,scale:.96},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.96},transition:{duration:.12},ref:x,style:{position:"fixed",top:o,left:t,minWidth:`min(90vw, ${24*14.1667}px)`,zIndex:99999},className:"rounded-xl border border-gray-200 bg-white shadow-xl text-sm text-gray-800 py-1 overflow-hidden",onMouseDown:D=>D.stopPropagation(),children:[i&&a&&h.jsxs("li",{onClick:F,className:`px-4 py-2.5 flex items-center gap-3 cursor-pointer 
                         hover:bg-gray-50 transition-all`,children:[h.jsx(Ng,{size:15,className:"text-gray-700"}),h.jsxs("span",{className:"text-gray-800",children:["Copy value:"," ",h.jsx("span",{className:"font-semibold",children:G})]})]}),b.length>0&&g&&h.jsxs("li",{onClick:P,className:`px-4 py-2.5 flex items-center gap-3 cursor-pointer 
                         hover:bg-gray-50 transition-all`,children:[h.jsx(Bs,{size:15,className:"text-[#0A4A7A]"}),h.jsx("span",{className:"font-medium text-gray-800",children:C>1?`Progress Tasks (${C})`:"Progress Task"})]}),b.length>0&&m&&h.jsxs("li",{onClick:z,className:`px-4 py-2.5 flex items-center gap-3 cursor-pointer 
                         hover:bg-gray-50 transition-all`,children:[h.jsx(Gp,{size:15,className:"text-[#0A4A7A]"}),h.jsx("span",{className:"font-medium text-gray-800",children:C>1?`Progress Notes (${C})`:"Progress Notes"})]}),h.jsxs("li",{onClick:_,className:`px-4 py-2.5 flex items-center gap-3 cursor-pointer 
                       hover:bg-gray-50 transition-all`,children:[h.jsx(Vp,{size:15,className:"text-gray-700"}),h.jsx("span",{className:"font-medium text-gray-800",children:S})]}),h.jsxs("li",{onClick:k,className:"px-4 py-2.5 flex items-center gap-3 transition-all "+(b.length===1?"cursor-pointer hover:bg-red-50 text-red-700":"opacity-40 cursor-not-allowed text-gray-500"),role:"menuitem","aria-disabled":b.length!==1,children:[h.jsx(da,{size:15,className:b.length===1?"text-red-600":"text-gray-400"}),h.jsx("span",{className:"font-semibold",children:E})]})]})});try{return $s.createPortal($,document.body)}catch{return $}}function PM({rows:e,headerNames:t,tableHeight:o=600,containerRef:r,reserveBottom:i=160,onOpenPopout:a,onSelectionChange:l,onOpenCalloutIncident:d,onProgressTasks:p,onProgressNotes:g,openColumnsAnchor:m,onRequestCloseColumns:f}){const[v,x]=c.useState([]),b=Bt(),C=c.useRef([]),S=c.useRef(null),_=c.useRef(null),P=c.useRef(null),z=c.useRef(null),F=c.useRef(null),G=c.useRef(null),k=c.useRef(null),M=c.useRef(null),E=typeof window<"u"&&localStorage.getItem("taskTableDensity")||"compact",$=c.useMemo(()=>{const se=({value:U})=>{const[he,Q]=kn.useState(!1),ie=U==null?"":String(U),de=async we=>{we.stopPropagation();try{await navigator.clipboard.writeText(ie),Q(!0),window.setTimeout(()=>Q(!1),900)}catch{try{const Pe=document.createElement("textarea");Pe.value=ie,document.body.appendChild(Pe),Pe.select(),document.execCommand("copy"),Pe.remove(),Q(!0),window.setTimeout(()=>Q(!1),900)}catch{xs.error("Copy failed")}}};return h.jsxs(Ue,{sx:{width:"100%",display:"flex",alignItems:"center",gap:1,position:"relative"},className:"tf-cell-copy",children:[h.jsx(rt,{variant:"body2",onClick:de,sx:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",px:.25,transition:"background-color 120ms ease",backgroundColor:he?"rgba(250, 235, 170, 0.9)":"transparent",cursor:"pointer"},children:ie}),h.jsx("style",{children:".tf-cell-copy:hover .MuiTypography-root{ color: #3BE089; background-color: transparent; }"})]})};return Object.keys(t).map(U=>({field:U,headerName:t[U]??U,minWidth:120,sortable:!0,renderCell:he=>h.jsx(se,{value:he.value}),renderHeader:he=>h.jsxs(Ue,{sx:{display:"inline-flex",alignItems:"center",gap:1,position:"relative"},children:[h.jsx(rt,{variant:"body2",sx:{fontWeight:600,cursor:"grab"},onMouseDown:Q=>{G.current&&(window.clearTimeout(G.current),G.current=null);const ie=Q.nativeEvent;G.current=window.setTimeout(()=>{z.current&&z.current(ie,U),G.current=null},200)},onMouseUp:()=>{G.current&&(window.clearTimeout(G.current),G.current=null)},onMouseLeave:()=>{G.current&&(window.clearTimeout(G.current),G.current=null)},children:t[U]??U}),h.jsx(Ue,{onMouseDown:Q=>F.current&&F.current(Q,U),sx:{position:"absolute",right:-6,top:0,bottom:0,width:12,cursor:"col-resize"},"aria-hidden":!0})]})}))},[t,b]),D=c.useMemo(()=>e.map((se,U)=>({id:String(se.taskId??se.workId??U),...se})),[e]),[O,H]=c.useState(()=>$);c.useEffect(()=>{H($)},[$]),c.useEffect(()=>{C.current=O},[O]);const B=c.useRef(null);c.useEffect(()=>{try{const U=(zo()||{}).widths||{},he=JSON.stringify({headers:Object.keys(t),rowCount:D.length,sample:D.slice(0,50).map(ye=>Object.keys(t).map(ke=>String(ye[ke]??"")).join("|")).join("||")});if(B.current===he||(B.current=he,!C.current.filter(ye=>!(U||{})[ye.field]).map(ye=>ye.field).length))return;const de=document.createElement("canvas").getContext("2d");if(!de)return;const we=window.getComputedStyle(document.body);de.font=we.font||"14px sans-serif";const Re=56,Pe=Math.max(300,Math.round(window.innerWidth*.6)),ge={};C.current.forEach(ye=>{const ke=ye.field;let Be=0;const Qe=String(ye.headerName??ke);Be=Math.max(Be,Math.round(de.measureText(Qe).width));const Je=D.slice(0,200);for(let Ke=0;Ke<Je.length;Ke++){const St=String(Je[Ke][ke]??"");if(!St)continue;const at=Math.round(de.measureText(St).width);at>Be&&(Be=at)}const qe=Math.min(Pe,Math.max(ye.minWidth||120,Be+Re));ge[ke]=qe}),H(ye=>ye.map(ke=>({...ke,width:ge[ke.field]||ke.width})));try{const ye=zo()||{},ke={...ye.widths||{}};Object.assign(ke,ge),Fr({...ye,widths:ke})}catch{}}catch{}},[D]),c.useEffect(()=>{try{const se=zo();if(se){const U=SM($,se);H(U)}}catch{}},[]);const I=c.useRef(null),A=(se,U)=>{U.preventDefault();const he=U.target.closest("[data-field]"),Q=he?he.getAttribute("data-field"):null;try{const ie=se==null?void 0:se.id;ie!=null&&x(de=>de.includes(String(ie))?de:[String(ie)])}catch{}Ce({visible:!0,x:U.clientX,y:U.clientY,clickedRow:se.row,clickedColumnKey:Q,mouseScreenX:U.screenX??0,mouseScreenY:U.screenY??0})};c.useEffect(()=>{if(l){const se=D.filter(U=>v.includes(String(U.id)));try{console.log("TaskTableMUI selection effect -> selection array",v,"gridIds",D.map(U=>U.id).slice(0,10),"calling onSelectionChange with",se.length)}catch{}l(se)}},[v]),c.useEffect(()=>{if(l&&v&&v.length){const se=D.filter(U=>v.includes(String(U.id)));try{console.log("TaskTableMUI rows changed -> re-emitting selection",v,"gridIds",D.map(U=>U.id).slice(0,10),"selectedCount",se.length)}catch{}l(se)}},[D]);const[j,V]=c.useState(!1),[R,W]=c.useState(null),[Z,q]=c.useState(""),[ee,X]=c.useState(()=>{const se={};return $.forEach(U=>{se[U.field]=!U.hide}),se});c.useEffect(()=>{X(()=>{const se={};return(O||$).forEach(U=>{se[U.field]=!U.hide}),se})},[O,$]),c.useEffect(()=>{if(m&&_e&&_e.current){const se=O&&O.length&&O[0].field?O[0].field:void 0;if(se)try{_e.current.toggleColumnMenu(se)}catch{}}},[m]),c.useEffect(()=>()=>{},[]);const te=(se,U)=>{se.preventDefault();const he=se.clientX;S.current={type:"reorder",field:U,startX:he},_.current=Q=>{Q.preventDefault();try{const ie=document.elementFromPoint(Q.clientX,Q.clientY),de=ie?ie.closest("[data-field]"):null;if(!I.current)return;const we=I.current.getBoundingClientRect();if(de){const Re=de.getBoundingClientRect(),Pe=Re.left+Re.width/2,ge=Q.clientX<Pe?Re.left:Re.right;re({left:ge-we.left,top:Re.top-we.top,height:Re.height,visible:!0}),k.current!==de&&(k.current&&(k.current.style.background=""),de.style.background="rgba(34,197,94,0.08)",k.current=de)}else re(Re=>({...Re,visible:!1})),k.current&&(k.current.style.background="",k.current=null)}catch{}},c.useEffect(()=>{const Q=I.current;if(!Q)return;const ie=de=>{try{const we=de.target,Re=we?we.closest("[data-id]"):null;if(!Re)return;const Pe=Re.getAttribute("data-id");if(!Pe)return;de.preventDefault();const ge=D.find(ye=>String(ye.id)===Pe);x(ye=>ye.includes(String(ge==null?void 0:ge.id))?ye:[String(ge==null?void 0:ge.id)]),Ce({visible:!0,x:de.clientX,y:de.clientY,clickedRow:ge,clickedColumnKey:null,mouseScreenX:de.screenX??0,mouseScreenY:de.screenY??0})}catch{}};return Q.addEventListener("contextmenu",ie,!0),()=>Q.removeEventListener("contextmenu",ie,!0)},[I.current,D]),P.current=Q=>{try{const ie=document.elementFromPoint(Q.clientX,Q.clientY),de=ie?ie.closest("[data-field]"):null,we=de?de.getAttribute("data-field"):null;if(we&&S.current&&S.current.field){const Re=S.current.field,Pe=C.current.slice(),ge={};Pe.forEach(Je=>{ge[Je.field]=Je});const ye=Pe.map(Je=>Je.field).filter(Boolean),ke=ye.indexOf(Re);ke!==-1&&ye.splice(ke,1);const Be=ye.indexOf(we);Be===-1?ye.push(Re):ye.splice(Be,0,Re);const Qe=ye.map(Je=>({...ge[Je]}));H(Qe);try{const Je=zo()||{};Fr({...Je,order:ye})}catch{}}}catch{}if(re(ie=>({...ie,visible:!1})),k.current&&(k.current.style.background="",k.current=null),_.current&&document.removeEventListener("mousemove",_.current,!0),P.current&&document.removeEventListener("mouseup",P.current,!0),M.current){try{const ie=M.current.querySelector(".MuiDataGrid-columnSeparator");ie&&(ie.style.background="",ie.style.width=""),M.current.style.boxShadow=""}catch{}M.current=null}S.current=null,_.current=null,P.current=null},document.addEventListener("mousemove",_.current,!0),document.addEventListener("mouseup",P.current,!0)},Y=(se,U)=>{se.preventDefault(),se.stopPropagation();const he=se.clientX,Q=C.current.find(de=>de.field===U),ie=Q&&Q.width||Q&&Q.minWidth||120;S.current={type:"resize",field:U,startX:he,startWidth:ie};try{const de=document.querySelector(`[data-field="${U}"]`);if(de){M.current=de;const we=de.querySelector(".MuiDataGrid-columnSeparator");we?(we.style.background="rgba(34,197,94,0.9)",we.style.width="2px"):de.style.boxShadow="inset -4px 0 0 rgba(34,197,94,0.08)"}}catch{}_.current=de=>{de.preventDefault();const we=de.clientX-S.current.startX,Re=Math.max(40,Math.round(S.current.startWidth+we));H(Pe=>Pe.map(ge=>ge.field===U?{...ge,width:Re}:ge))},P.current=de=>{try{const we=C.current.find(Re=>Re.field===U);if(we)try{const Re=zo()||{},Pe={...Re.widths||{}};Pe[U]=we.width||120,Fr({...Re,widths:Pe})}catch{}}catch{}_.current&&document.removeEventListener("mousemove",_.current,!0),P.current&&document.removeEventListener("mouseup",P.current,!0),S.current=null,_.current=null,P.current=null},document.addEventListener("mousemove",_.current,!0),document.addEventListener("mouseup",P.current,!0)},[ne,re]=c.useState({left:0,top:0,height:0,visible:!1});c.useEffect(()=>{z.current=te,F.current=Y},[]);const ve=wM,_e=Wx(),be=()=>h.jsxs(a1,{children:[h.jsx(UP,{}),h.jsx(QP,{}),h.jsx(JP,{})]}),[Ae,Ce]=c.useState({visible:!1,x:0,y:0}),fe=()=>Ce({visible:!1,x:0,y:0});return h.jsxs(Ue,{sx:{width:"100%",display:"flex",flexDirection:"column",flex:1,minHeight:0,position:"relative"},children:[h.jsx(Nt,{sx:{height:o,width:"100%",zIndex:0},children:h.jsx(ve,{rows:D,columns:O,selectionModel:v,checkboxSelection:!0,components:{Toolbar:be},density:E,pageSizeOptions:[25,50,100],initialState:{pagination:{paginationModel:{pageSize:100}}},onRowDoubleClick:(se,U)=>{a&&a([se.row],U.screenX??0,U.screenY??0)},onRowContextMenu:A,onCellContextMenu:A,onSelectionModelChange:se=>{try{const U=Array.isArray(se)?se:[se];try{console.log("TaskTableMUI onSelectionModelChange -> model",se,"ids",U)}catch{}x(U.map(String))}catch{}},sx:{border:0,"& .MuiDataGrid-cell":{py:E==="compact"?.5:1,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},"& .MuiDataGrid-columnHeaders":{backgroundColor:b.palette.action.hover},"& .MuiDataGrid-columnHeaderTitle":{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},onColumnResize:se=>{const{colDef:U,width:he}=se;H(Q=>Q.map(ie=>ie.field===U.field?{...ie,width:he}:ie));try{const Q=zo()||{},ie={...Q.widths||{}};ie[U.field]=he,Fr({...Q,widths:ie})}catch{}},onColumnVisibilityModelChange:se=>{try{X(()=>({...se||{}})),H(Q=>Q.map(ie=>({...ie,hide:!(se||{})[ie.field]})));const U=zo()||{},he=Object.keys(se).filter(Q=>!se[Q]);Fr({...U,hidden:he})}catch{}},onColumnOrderChange:se=>{try{const U=zo()||{},he=se.columnFields||se.items||[];Fr({...U,order:he}),Array.isArray(he)&&he.length&&H(Q=>{const ie={};Q.forEach(we=>{ie[we.field]=we});const de=[];return he.forEach(we=>{ie[we]&&de.push({...ie[we]})}),Q.forEach(we=>{he.includes(we.field)||de.push({...we})}),de})}catch{}}})}),h.jsx(Ue,{sx:{position:"absolute",left:0,top:0,pointerEvents:"none",width:"100%",height:"100%",zIndex:1200},ref:I,children:ne.visible&&h.jsx(Ue,{sx:{position:"absolute",width:2,bgcolor:"primary.main",left:ne.left,top:ne.top,height:ne.height,transform:"translateX(-1px)"}})}),h.jsx(_M,{visible:Ae.visible,x:Ae.x,y:Ae.y,selectedRows:D.filter(se=>v.includes(String(se.id))),clickedColumnKey:Ae.clickedColumnKey??null,clickedRow:Ae.clickedRow??null,onClose:fe,mouseScreenX:Ae.mouseScreenX??0,mouseScreenY:Ae.mouseScreenY??0,onOpenPopout:(se,U,he)=>{a&&a(se,U,he)},onOpenCalloutIncident:se=>{d&&d(se)},onProgressTasks:se=>{p&&p(se)},onProgressNotes:se=>{g&&g(se)}})]})}const Wc=({rows:e,columns:t,loading:o,...r})=>{const i=c.useRef(null);return h.jsx(Ue,{sx:{width:"100%",display:"flex",flex:1,minHeight:0},ref:i,children:h.jsx(PM,{rows:e,headerNames:r&&r.headerNames||{},loading:o,containerRef:i,...r})})},ap=["taskId","taskStatus","resourceName","commitmentType","postCode","customerAddress","taskType","primarySkill","importanceScore","taskCreated","appointmentStartDate"];function IM(e){return e.replace(/[_\-]+/g," ").replace(/([a-z0-9])([A-Z])/g,"$1 $2").replace(/\s+/g," ").trim().replace(/^./,t=>t.toUpperCase())}function TM({data:e,selectedTasks:t,onSelectionChange:o}){const r=Bt(),i={height:"100%",display:"flex",flexDirection:"column",borderRadius:3,px:3,py:2.5,border:`1px solid ${Se(r.palette.primary.main,.18)}`,boxShadow:"0 18px 46px rgba(8,58,97,0.18)",backgroundImage:"none"},a=c.useMemo(()=>{if(!e||e.length===0)return{};const d=new Set;e.forEach(m=>Object.keys(m).forEach(f=>d.add(f)));const p=[...ap.filter(m=>d.has(m)),...[...d].filter(m=>!ap.includes(m))],g={};return p.forEach(m=>g[m]=IM(m)),g},[e]),l=c.useMemo(()=>t!=null&&t.length?new Set(t.map(d=>String(d.taskId))):new Set,[t]);return!e||e.length===0?h.jsx(Nt,{elevation:0,sx:i,children:h.jsx(wt,{spacing:1,alignItems:"center",justifyContent:"center",sx:{flex:1},children:h.jsx(rt,{variant:"body2",color:"text.secondary",textAlign:"center",children:"No tasks loaded yet. Please define filters and press Search."})})}):h.jsx(Nt,{elevation:0,sx:i,children:h.jsx(Ue,{sx:{flex:1,display:"flex",flexDirection:"column"},children:h.jsx(Wc,{rows:e,headerNames:a,sx:{height:"100%"},tableHeight:"100%",rowIdKey:"taskId",controlledSelectedRowIds:l,onSelectionChange:d=>o(d)})})})}const lp=["resourceId","name","status","calloutGroup","primarySkill","availableAgainAt"];function kM(e){return e.replace(/[_\-]+/g," ").replace(/([a-z0-9])([A-Z])/g,"$1 $2").replace(/\s+/g," ").trim().replace(/^./,t=>t.toUpperCase())}function MM({data:e,selectedResources:t,onSelectionChange:o}){const r=Bt(),i={height:"100%",display:"flex",flexDirection:"column",borderRadius:3,px:3,py:2.5,border:`1px solid ${Se(r.palette.primary.main,.18)}`,boxShadow:"0 18px 46px rgba(8,58,97,0.18)",backgroundImage:"none"},a=c.useMemo(()=>{if(!(e!=null&&e.length))return{};const d=new Set;e.forEach(m=>Object.keys(m).forEach(f=>d.add(f)));const p=[...lp.filter(m=>d.has(m)),...[...d].filter(m=>!lp.includes(m))],g={};return p.forEach(m=>g[m]=kM(m)),g},[e]),l=c.useMemo(()=>new Set(t.map(d=>String(d.resourceId))),[t]);return!e||e.length===0?h.jsx(Nt,{elevation:0,sx:i,children:h.jsx(wt,{spacing:1,alignItems:"center",justifyContent:"center",sx:{flex:1},children:h.jsx(rt,{variant:"body2",color:"text.secondary",textAlign:"center",children:"No resources loaded. Please define filters and press Search."})})}):h.jsx(Nt,{elevation:0,sx:i,children:h.jsx(Ue,{sx:{flex:1,display:"flex",flexDirection:"column"},children:h.jsx(Wc,{rows:e,headerNames:a,sx:{height:"100%"},tableHeight:"100%",rowIdKey:"resourceId",controlledSelectedRowIds:l,onSelectionChange:d=>o(d)})})})}const Aa=c.createContext(null);Aa.displayName="PanelGroupContext";const nn={group:"data-panel-group",groupDirection:"data-panel-group-direction",groupId:"data-panel-group-id",panel:"data-panel",panelCollapsible:"data-panel-collapsible",panelId:"data-panel-id",panelSize:"data-panel-size",resizeHandle:"data-resize-handle",resizeHandleActive:"data-resize-handle-active",resizeHandleEnabled:"data-panel-resize-handle-enabled",resizeHandleId:"data-panel-resize-handle-id",resizeHandleState:"data-resize-handle-state"},Zc=10,mr=c.useLayoutEffect,cp=jp.useId,AM=typeof cp=="function"?cp:()=>null;let DM=0;function Uc(e=null){const t=AM(),o=c.useRef(e||t||null);return o.current===null&&(o.current=""+DM++),e??o.current}function Zm({children:e,className:t="",collapsedSize:o,collapsible:r,defaultSize:i,forwardedRef:a,id:l,maxSize:d,minSize:p,onCollapse:g,onExpand:m,onResize:f,order:v,style:x,tagName:b="div",...C}){const S=c.useContext(Aa);if(S===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:_,expandPanel:P,getPanelSize:z,getPanelStyle:F,groupId:G,isPanelCollapsed:k,reevaluatePanelConstraints:M,registerPanel:E,resizePanel:$,unregisterPanel:D}=S,O=Uc(l),H=c.useRef({callbacks:{onCollapse:g,onExpand:m,onResize:f},constraints:{collapsedSize:o,collapsible:r,defaultSize:i,maxSize:d,minSize:p},id:O,idIsFromProps:l!==void 0,order:v});c.useRef({didLogMissingDefaultSizeWarning:!1}),mr(()=>{const{callbacks:I,constraints:A}=H.current,j={...A};H.current.id=O,H.current.idIsFromProps=l!==void 0,H.current.order=v,I.onCollapse=g,I.onExpand=m,I.onResize=f,A.collapsedSize=o,A.collapsible=r,A.defaultSize=i,A.maxSize=d,A.minSize=p,(j.collapsedSize!==A.collapsedSize||j.collapsible!==A.collapsible||j.maxSize!==A.maxSize||j.minSize!==A.minSize)&&M(H.current,j)}),mr(()=>{const I=H.current;return E(I),()=>{D(I)}},[v,O,E,D]),c.useImperativeHandle(a,()=>({collapse:()=>{_(H.current)},expand:I=>{P(H.current,I)},getId(){return O},getSize(){return z(H.current)},isCollapsed(){return k(H.current)},isExpanded(){return!k(H.current)},resize:I=>{$(H.current,I)}}),[_,P,z,k,O,$]);const B=F(H.current,i);return c.createElement(b,{...C,children:e,className:t,id:O,style:{...B,...x},[nn.groupId]:G,[nn.panel]:"",[nn.panelCollapsible]:r||void 0,[nn.panelId]:O,[nn.panelSize]:parseFloat(""+B.flexGrow).toFixed(1)})}const Ss=c.forwardRef((e,t)=>c.createElement(Zm,{...e,forwardedRef:t}));Zm.displayName="Panel";Ss.displayName="forwardRef(Panel)";let Jl=null,Ei=-1,Vo=null;function EM(e,t,o){const r=(t&Xm)!==0,i=(t&Ym)!==0,a=(t&Qm)!==0,l=(t&ef)!==0;if(t){if(r)return a?"se-resize":l?"ne-resize":"e-resize";if(i)return a?"sw-resize":l?"nw-resize":"w-resize";if(a)return"s-resize";if(l)return"n-resize"}switch(e){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function RM(){Vo!==null&&(document.head.removeChild(Vo),Jl=null,Vo=null,Ei=-1)}function Cl(e,t,o){var r,i;const a=EM(e,t);if(Jl!==a){if(Jl=a,Vo===null&&(Vo=document.createElement("style"),document.head.appendChild(Vo)),Ei>=0){var l;(l=Vo.sheet)===null||l===void 0||l.removeRule(Ei)}Ei=(r=(i=Vo.sheet)===null||i===void 0?void 0:i.insertRule(`*{cursor: ${a} !important;}`))!==null&&r!==void 0?r:-1}}function Um(e){return e.type==="keydown"}function Km(e){return e.type.startsWith("pointer")}function Jm(e){return e.type.startsWith("mouse")}function Da(e){if(Km(e)){if(e.isPrimary)return{x:e.clientX,y:e.clientY}}else if(Jm(e))return{x:e.clientX,y:e.clientY};return{x:1/0,y:1/0}}function LM(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function FM(e,t,o){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y}function OM(e,t){if(e===t)throw new Error("Cannot compare node with itself");const o={a:pp(e),b:pp(t)};let r;for(;o.a.at(-1)===o.b.at(-1);)e=o.a.pop(),t=o.b.pop(),r=e;ft(r,"Stacking order can only be calculated for elements with a common ancestor");const i={a:dp(up(o.a)),b:dp(up(o.b))};if(i.a===i.b){const a=r.childNodes,l={a:o.a.at(-1),b:o.b.at(-1)};let d=a.length;for(;d--;){const p=a[d];if(p===l.a)return 1;if(p===l.b)return-1}}return Math.sign(i.a-i.b)}const NM=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function zM(e){var t;const o=getComputedStyle((t=qm(e))!==null&&t!==void 0?t:e).display;return o==="flex"||o==="inline-flex"}function $M(e){const t=getComputedStyle(e);return!!(t.position==="fixed"||t.zIndex!=="auto"&&(t.position!=="static"||zM(e))||+t.opacity<1||"transform"in t&&t.transform!=="none"||"webkitTransform"in t&&t.webkitTransform!=="none"||"mixBlendMode"in t&&t.mixBlendMode!=="normal"||"filter"in t&&t.filter!=="none"||"webkitFilter"in t&&t.webkitFilter!=="none"||"isolation"in t&&t.isolation==="isolate"||NM.test(t.willChange)||t.webkitOverflowScrolling==="touch")}function up(e){let t=e.length;for(;t--;){const o=e[t];if(ft(o,"Missing node"),$M(o))return o}return null}function dp(e){return e&&Number(getComputedStyle(e).zIndex)||0}function pp(e){const t=[];for(;e;)t.push(e),e=qm(e);return t}function qm(e){const{parentNode:t}=e;return t&&t instanceof ShadowRoot?t.host:t}const Xm=1,Ym=2,Qm=4,ef=8,BM=LM()==="coarse";let lo=[],Kr=!1,Wo=new Map,Ea=new Map;const Os=new Set;function jM(e,t,o,r,i){var a;const{ownerDocument:l}=t,d={direction:o,element:t,hitAreaMargins:r,setResizeHandlerState:i},p=(a=Wo.get(l))!==null&&a!==void 0?a:0;return Wo.set(l,p+1),Os.add(d),na(),function(){var m;Ea.delete(e),Os.delete(d);const f=(m=Wo.get(l))!==null&&m!==void 0?m:1;if(Wo.set(l,f-1),na(),f===1&&Wo.delete(l),lo.includes(d)){const v=lo.indexOf(d);v>=0&&lo.splice(v,1),Ra(),i("up",!0,null)}}}function HM(e){const{target:t}=e,{x:o,y:r}=Da(e);Kr=!0,Kc({target:t,x:o,y:r}),na(),lo.length>0&&(oa("down",e),Ra(),e.preventDefault(),tf(t)||e.stopImmediatePropagation())}function wl(e){const{x:t,y:o}=Da(e);if(Kr&&e.type!=="pointerleave"&&e.buttons===0&&(Kr=!1,oa("up",e)),!Kr){const{target:r}=e;Kc({target:r,x:t,y:o})}oa("move",e),Ra(),lo.length>0&&e.preventDefault()}function Sl(e){const{target:t}=e,{x:o,y:r}=Da(e);Ea.clear(),Kr=!1,lo.length>0&&(e.preventDefault(),tf(t)||e.stopImmediatePropagation()),oa("up",e),Kc({target:t,x:o,y:r}),Ra(),na()}function tf(e){let t=e;for(;t;){if(t.hasAttribute(nn.resizeHandle))return!0;t=t.parentElement}return!1}function Kc({target:e,x:t,y:o}){lo.splice(0);let r=null;(e instanceof HTMLElement||e instanceof SVGElement)&&(r=e),Os.forEach(i=>{const{element:a,hitAreaMargins:l}=i,d=a.getBoundingClientRect(),{bottom:p,left:g,right:m,top:f}=d,v=BM?l.coarse:l.fine;if(t>=g-v&&t<=m+v&&o>=f-v&&o<=p+v){if(r!==null&&document.contains(r)&&a!==r&&!a.contains(r)&&!r.contains(a)&&OM(r,a)>0){let b=r,C=!1;for(;b&&!b.contains(a);){if(FM(b.getBoundingClientRect(),d)){C=!0;break}b=b.parentElement}if(C)return}lo.push(i)}})}function _l(e,t){Ea.set(e,t)}function Ra(){let e=!1,t=!1;lo.forEach(r=>{const{direction:i}=r;i==="horizontal"?e=!0:t=!0});let o=0;Ea.forEach(r=>{o|=r}),e&&t?Cl("intersection",o):e?Cl("horizontal",o):t?Cl("vertical",o):RM()}let Pl;function na(){var e;(e=Pl)===null||e===void 0||e.abort(),Pl=new AbortController;const t={capture:!0,signal:Pl.signal};Os.size&&(Kr?(lo.length>0&&Wo.forEach((o,r)=>{const{body:i}=r;o>0&&(i.addEventListener("contextmenu",Sl,t),i.addEventListener("pointerleave",wl,t),i.addEventListener("pointermove",wl,t))}),Wo.forEach((o,r)=>{const{body:i}=r;i.addEventListener("pointerup",Sl,t),i.addEventListener("pointercancel",Sl,t)})):Wo.forEach((o,r)=>{const{body:i}=r;o>0&&(i.addEventListener("pointerdown",HM,t),i.addEventListener("pointermove",wl,t))}))}function oa(e,t){Os.forEach(o=>{const{setResizeHandlerState:r}=o,i=lo.includes(o);r(e,i,t)})}function GM(){const[e,t]=c.useState(0);return c.useCallback(()=>t(o=>o+1),[])}function ft(e,t){if(!e)throw console.error(t),Error(t)}function yr(e,t,o=Zc){return e.toFixed(o)===t.toFixed(o)?0:e>t?1:-1}function Ao(e,t,o=Zc){return yr(e,t,o)===0}function Bn(e,t,o){return yr(e,t,o)===0}function VM(e,t,o){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){const i=e[r],a=t[r];if(!Bn(i,a,o))return!1}return!0}function Gr({panelConstraints:e,panelIndex:t,size:o}){const r=e[t];ft(r!=null,`Panel constraints not found for index ${t}`);let{collapsedSize:i=0,collapsible:a,maxSize:l=100,minSize:d=0}=r;if(yr(o,d)<0)if(a){const p=(i+d)/2;yr(o,p)<0?o=i:o=d}else o=d;return o=Math.min(l,o),o=parseFloat(o.toFixed(Zc)),o}function _s({delta:e,initialLayout:t,panelConstraints:o,pivotIndices:r,prevLayout:i,trigger:a}){if(Bn(e,0))return t;const l=[...t],[d,p]=r;ft(d!=null,"Invalid first pivot index"),ft(p!=null,"Invalid second pivot index");let g=0;if(a==="keyboard"){{const f=e<0?p:d,v=o[f];ft(v,`Panel constraints not found for index ${f}`);const{collapsedSize:x=0,collapsible:b,minSize:C=0}=v;if(b){const S=t[f];if(ft(S!=null,`Previous layout not found for panel index ${f}`),Bn(S,x)){const _=C-S;yr(_,Math.abs(e))>0&&(e=e<0?0-_:_)}}}{const f=e<0?d:p,v=o[f];ft(v,`No panel constraints found for index ${f}`);const{collapsedSize:x=0,collapsible:b,minSize:C=0}=v;if(b){const S=t[f];if(ft(S!=null,`Previous layout not found for panel index ${f}`),Bn(S,C)){const _=S-x;yr(_,Math.abs(e))>0&&(e=e<0?0-_:_)}}}}{const f=e<0?1:-1;let v=e<0?p:d,x=0;for(;;){const C=t[v];ft(C!=null,`Previous layout not found for panel index ${v}`);const _=Gr({panelConstraints:o,panelIndex:v,size:100})-C;if(x+=_,v+=f,v<0||v>=o.length)break}const b=Math.min(Math.abs(e),Math.abs(x));e=e<0?0-b:b}{let v=e<0?d:p;for(;v>=0&&v<o.length;){const x=Math.abs(e)-Math.abs(g),b=t[v];ft(b!=null,`Previous layout not found for panel index ${v}`);const C=b-x,S=Gr({panelConstraints:o,panelIndex:v,size:C});if(!Bn(b,S)&&(g+=b-S,l[v]=S,g.toFixed(3).localeCompare(Math.abs(e).toFixed(3),void 0,{numeric:!0})>=0))break;e<0?v--:v++}}if(VM(i,l))return i;{const f=e<0?p:d,v=t[f];ft(v!=null,`Previous layout not found for panel index ${f}`);const x=v+g,b=Gr({panelConstraints:o,panelIndex:f,size:x});if(l[f]=b,!Bn(b,x)){let C=x-b,_=e<0?p:d;for(;_>=0&&_<o.length;){const P=l[_];ft(P!=null,`Previous layout not found for panel index ${_}`);const z=P+C,F=Gr({panelConstraints:o,panelIndex:_,size:z});if(Bn(P,F)||(C-=F-P,l[_]=F),Bn(C,0))break;e>0?_--:_++}}}const m=l.reduce((f,v)=>v+f,0);return Bn(m,100)?l:i}function WM({layout:e,panelsArray:t,pivotIndices:o}){let r=0,i=100,a=0,l=0;const d=o[0];ft(d!=null,"No pivot index found"),t.forEach((f,v)=>{const{constraints:x}=f,{maxSize:b=100,minSize:C=0}=x;v===d?(r=C,i=b):(a+=C,l+=b)});const p=Math.min(i,100-a),g=Math.max(r,100-l),m=e[d];return{valueMax:p,valueMin:g,valueNow:m}}function Ns(e,t=document){return Array.from(t.querySelectorAll(`[${nn.resizeHandleId}][data-panel-group-id="${e}"]`))}function nf(e,t,o=document){const i=Ns(e,o).findIndex(a=>a.getAttribute(nn.resizeHandleId)===t);return i??null}function of(e,t,o){const r=nf(e,t,o);return r!=null?[r,r+1]:[-1,-1]}function ZM(e){return e instanceof HTMLElement?!0:typeof e=="object"&&e!==null&&"tagName"in e&&"getAttribute"in e}function rf(e,t=document){if(ZM(t)&&t.dataset.panelGroupId==e)return t;const o=t.querySelector(`[data-panel-group][data-panel-group-id="${e}"]`);return o||null}function La(e,t=document){const o=t.querySelector(`[${nn.resizeHandleId}="${e}"]`);return o||null}function UM(e,t,o,r=document){var i,a,l,d;const p=La(t,r),g=Ns(e,r),m=p?g.indexOf(p):-1,f=(i=(a=o[m])===null||a===void 0?void 0:a.id)!==null&&i!==void 0?i:null,v=(l=(d=o[m+1])===null||d===void 0?void 0:d.id)!==null&&l!==void 0?l:null;return[f,v]}function KM({committedValuesRef:e,eagerValuesRef:t,groupId:o,layout:r,panelDataArray:i,panelGroupElement:a,setLayout:l}){c.useRef({didWarnAboutMissingResizeHandle:!1}),mr(()=>{if(!a)return;const d=Ns(o,a);for(let p=0;p<i.length-1;p++){const{valueMax:g,valueMin:m,valueNow:f}=WM({layout:r,panelsArray:i,pivotIndices:[p,p+1]}),v=d[p];if(v!=null){const x=i[p];ft(x,`No panel data found for index "${p}"`),v.setAttribute("aria-controls",x.id),v.setAttribute("aria-valuemax",""+Math.round(g)),v.setAttribute("aria-valuemin",""+Math.round(m)),v.setAttribute("aria-valuenow",f!=null?""+Math.round(f):"")}}return()=>{d.forEach((p,g)=>{p.removeAttribute("aria-controls"),p.removeAttribute("aria-valuemax"),p.removeAttribute("aria-valuemin"),p.removeAttribute("aria-valuenow")})}},[o,r,i,a]),c.useEffect(()=>{if(!a)return;const d=t.current;ft(d,"Eager values not found");const{panelDataArray:p}=d,g=rf(o,a);ft(g!=null,`No group found for id "${o}"`);const m=Ns(o,a);ft(m,`No resize handles found for group id "${o}"`);const f=m.map(v=>{const x=v.getAttribute(nn.resizeHandleId);ft(x,"Resize handle element has no handle id attribute");const[b,C]=UM(o,x,p,a);if(b==null||C==null)return()=>{};const S=_=>{if(!_.defaultPrevented)switch(_.key){case"Enter":{_.preventDefault();const P=p.findIndex(z=>z.id===b);if(P>=0){const z=p[P];ft(z,`No panel data found for index ${P}`);const F=r[P],{collapsedSize:G=0,collapsible:k,minSize:M=0}=z.constraints;if(F!=null&&k){const E=_s({delta:Bn(F,G)?M-G:G-F,initialLayout:r,panelConstraints:p.map($=>$.constraints),pivotIndices:of(o,x,a),prevLayout:r,trigger:"keyboard"});r!==E&&l(E)}}break}}};return v.addEventListener("keydown",S),()=>{v.removeEventListener("keydown",S)}});return()=>{f.forEach(v=>v())}},[a,e,t,o,r,i,l])}function hp(e,t){if(e.length!==t.length)return!1;for(let o=0;o<e.length;o++)if(e[o]!==t[o])return!1;return!0}function sf(e,t){const o=e==="horizontal",{x:r,y:i}=Da(t);return o?r:i}function JM(e,t,o,r,i){const a=o==="horizontal",l=La(t,i);ft(l,`No resize handle element found for id "${t}"`);const d=l.getAttribute(nn.groupId);ft(d,"Resize handle element has no group id attribute");let{initialCursorPosition:p}=r;const g=sf(o,e),m=rf(d,i);ft(m,`No group element found for id "${d}"`);const f=m.getBoundingClientRect(),v=a?f.width:f.height;return(g-p)/v*100}function qM(e,t,o,r,i,a){if(Um(e)){const l=o==="horizontal";let d=0;e.shiftKey?d=100:i!=null?d=i:d=10;let p=0;switch(e.key){case"ArrowDown":p=l?0:d;break;case"ArrowLeft":p=l?-d:0;break;case"ArrowRight":p=l?d:0;break;case"ArrowUp":p=l?0:-d;break;case"End":p=100;break;case"Home":p=-100;break}return p}else return r==null?0:JM(e,t,o,r,a)}function XM({panelDataArray:e}){const t=Array(e.length),o=e.map(a=>a.constraints);let r=0,i=100;for(let a=0;a<e.length;a++){const l=o[a];ft(l,`Panel constraints not found for index ${a}`);const{defaultSize:d}=l;d!=null&&(r++,t[a]=d,i-=d)}for(let a=0;a<e.length;a++){const l=o[a];ft(l,`Panel constraints not found for index ${a}`);const{defaultSize:d}=l;if(d!=null)continue;const p=e.length-r,g=i/p;r++,t[a]=g,i-=g}return t}function Or(e,t,o){t.forEach((r,i)=>{const a=e[i];ft(a,`Panel data not found for index ${i}`);const{callbacks:l,constraints:d,id:p}=a,{collapsedSize:g=0,collapsible:m}=d,f=o[p];if(f==null||r!==f){o[p]=r;const{onCollapse:v,onExpand:x,onResize:b}=l;b&&b(r,f),m&&(v||x)&&(x&&(f==null||Ao(f,g))&&!Ao(r,g)&&x(),v&&(f==null||!Ao(f,g))&&Ao(r,g)&&v())}})}function wi(e,t){if(e.length!==t.length)return!1;for(let o=0;o<e.length;o++)if(e[o]!=t[o])return!1;return!0}function YM({defaultSize:e,dragState:t,layout:o,panelData:r,panelIndex:i,precision:a=3}){const l=o[i];let d;return l==null?d=e!=null?e.toFixed(a):"1":r.length===1?d="1":d=l.toFixed(a),{flexBasis:0,flexGrow:d,flexShrink:1,overflow:"hidden",pointerEvents:t!==null?"none":void 0}}function QM(e,t=10){let o=null;return(...i)=>{o!==null&&clearTimeout(o),o=setTimeout(()=>{e(...i)},t)}}function mp(e){try{if(typeof localStorage<"u")e.getItem=t=>localStorage.getItem(t),e.setItem=(t,o)=>{localStorage.setItem(t,o)};else throw new Error("localStorage not supported in this environment")}catch(t){console.error(t),e.getItem=()=>null,e.setItem=()=>{}}}function af(e){return`react-resizable-panels:${e}`}function lf(e){return e.map(t=>{const{constraints:o,id:r,idIsFromProps:i,order:a}=t;return i?r:a?`${a}:${JSON.stringify(o)}`:JSON.stringify(o)}).sort((t,o)=>t.localeCompare(o)).join(",")}function cf(e,t){try{const o=af(e),r=t.getItem(o);if(r){const i=JSON.parse(r);if(typeof i=="object"&&i!=null)return i}}catch{}return null}function eA(e,t,o){var r,i;const a=(r=cf(e,o))!==null&&r!==void 0?r:{},l=lf(t);return(i=a[l])!==null&&i!==void 0?i:null}function tA(e,t,o,r,i){var a;const l=af(e),d=lf(t),p=(a=cf(e,i))!==null&&a!==void 0?a:{};p[d]={expandToSizes:Object.fromEntries(o.entries()),layout:r};try{i.setItem(l,JSON.stringify(p))}catch(g){console.error(g)}}function fp({layout:e,panelConstraints:t}){const o=[...e],r=o.reduce((a,l)=>a+l,0);if(o.length!==t.length)throw Error(`Invalid ${t.length} panel layout: ${o.map(a=>`${a}%`).join(", ")}`);if(!Bn(r,100)&&o.length>0)for(let a=0;a<t.length;a++){const l=o[a];ft(l!=null,`No layout data found for index ${a}`);const d=100/r*l;o[a]=d}let i=0;for(let a=0;a<t.length;a++){const l=o[a];ft(l!=null,`No layout data found for index ${a}`);const d=Gr({panelConstraints:t,panelIndex:a,size:l});l!=d&&(i+=l-d,o[a]=d)}if(!Bn(i,0))for(let a=0;a<t.length;a++){const l=o[a];ft(l!=null,`No layout data found for index ${a}`);const d=l+i,p=Gr({panelConstraints:t,panelIndex:a,size:d});if(l!==p&&(i-=p-l,o[a]=p,Bn(i,0)))break}return o}const nA=100,Ps={getItem:e=>(mp(Ps),Ps.getItem(e)),setItem:(e,t)=>{mp(Ps),Ps.setItem(e,t)}},gp={};function uf({autoSaveId:e=null,children:t,className:o="",direction:r,forwardedRef:i,id:a=null,onLayout:l=null,keyboardResizeBy:d=null,storage:p=Ps,style:g,tagName:m="div",...f}){const v=Uc(a),x=c.useRef(null),[b,C]=c.useState(null),[S,_]=c.useState([]),P=GM(),z=c.useRef({}),F=c.useRef(new Map),G=c.useRef(0),k=c.useRef({autoSaveId:e,direction:r,dragState:b,id:v,keyboardResizeBy:d,onLayout:l,storage:p}),M=c.useRef({layout:S,panelDataArray:[],panelDataArrayChanged:!1});c.useRef({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),c.useImperativeHandle(i,()=>({getId:()=>k.current.id,getLayout:()=>{const{layout:X}=M.current;return X},setLayout:X=>{const{onLayout:te}=k.current,{layout:Y,panelDataArray:ne}=M.current,re=fp({layout:X,panelConstraints:ne.map(ve=>ve.constraints)});hp(Y,re)||(_(re),M.current.layout=re,te&&te(re),Or(ne,re,z.current))}}),[]),mr(()=>{k.current.autoSaveId=e,k.current.direction=r,k.current.dragState=b,k.current.id=v,k.current.onLayout=l,k.current.storage=p}),KM({committedValuesRef:k,eagerValuesRef:M,groupId:v,layout:S,panelDataArray:M.current.panelDataArray,setLayout:_,panelGroupElement:x.current}),c.useEffect(()=>{const{panelDataArray:X}=M.current;if(e){if(S.length===0||S.length!==X.length)return;let te=gp[e];te==null&&(te=QM(tA,nA),gp[e]=te);const Y=[...X],ne=new Map(F.current);te(e,Y,ne,S,p)}},[e,S,p]),c.useEffect(()=>{});const E=c.useCallback(X=>{const{onLayout:te}=k.current,{layout:Y,panelDataArray:ne}=M.current;if(X.constraints.collapsible){const re=ne.map(Ae=>Ae.constraints),{collapsedSize:ve=0,panelSize:_e,pivotIndices:be}=sr(ne,X,Y);if(ft(_e!=null,`Panel size not found for panel "${X.id}"`),!Ao(_e,ve)){F.current.set(X.id,_e);const Ce=Br(ne,X)===ne.length-1?_e-ve:ve-_e,fe=_s({delta:Ce,initialLayout:Y,panelConstraints:re,pivotIndices:be,prevLayout:Y,trigger:"imperative-api"});wi(Y,fe)||(_(fe),M.current.layout=fe,te&&te(fe),Or(ne,fe,z.current))}}},[]),$=c.useCallback((X,te)=>{const{onLayout:Y}=k.current,{layout:ne,panelDataArray:re}=M.current;if(X.constraints.collapsible){const ve=re.map(se=>se.constraints),{collapsedSize:_e=0,panelSize:be=0,minSize:Ae=0,pivotIndices:Ce}=sr(re,X,ne),fe=te??Ae;if(Ao(be,_e)){const se=F.current.get(X.id),U=se!=null&&se>=fe?se:fe,Q=Br(re,X)===re.length-1?be-U:U-be,ie=_s({delta:Q,initialLayout:ne,panelConstraints:ve,pivotIndices:Ce,prevLayout:ne,trigger:"imperative-api"});wi(ne,ie)||(_(ie),M.current.layout=ie,Y&&Y(ie),Or(re,ie,z.current))}}},[]),D=c.useCallback(X=>{const{layout:te,panelDataArray:Y}=M.current,{panelSize:ne}=sr(Y,X,te);return ft(ne!=null,`Panel size not found for panel "${X.id}"`),ne},[]),O=c.useCallback((X,te)=>{const{panelDataArray:Y}=M.current,ne=Br(Y,X);return YM({defaultSize:te,dragState:b,layout:S,panelData:Y,panelIndex:ne})},[b,S]),H=c.useCallback(X=>{const{layout:te,panelDataArray:Y}=M.current,{collapsedSize:ne=0,collapsible:re,panelSize:ve}=sr(Y,X,te);return ft(ve!=null,`Panel size not found for panel "${X.id}"`),re===!0&&Ao(ve,ne)},[]),B=c.useCallback(X=>{const{layout:te,panelDataArray:Y}=M.current,{collapsedSize:ne=0,collapsible:re,panelSize:ve}=sr(Y,X,te);return ft(ve!=null,`Panel size not found for panel "${X.id}"`),!re||yr(ve,ne)>0},[]),I=c.useCallback(X=>{const{panelDataArray:te}=M.current;te.push(X),te.sort((Y,ne)=>{const re=Y.order,ve=ne.order;return re==null&&ve==null?0:re==null?-1:ve==null?1:re-ve}),M.current.panelDataArrayChanged=!0,P()},[P]);mr(()=>{if(M.current.panelDataArrayChanged){M.current.panelDataArrayChanged=!1;const{autoSaveId:X,onLayout:te,storage:Y}=k.current,{layout:ne,panelDataArray:re}=M.current;let ve=null;if(X){const be=eA(X,re,Y);be&&(F.current=new Map(Object.entries(be.expandToSizes)),ve=be.layout)}ve==null&&(ve=XM({panelDataArray:re}));const _e=fp({layout:ve,panelConstraints:re.map(be=>be.constraints)});hp(ne,_e)||(_(_e),M.current.layout=_e,te&&te(_e),Or(re,_e,z.current))}}),mr(()=>{const X=M.current;return()=>{X.layout=[]}},[]);const A=c.useCallback(X=>{let te=!1;const Y=x.current;return Y&&window.getComputedStyle(Y,null).getPropertyValue("direction")==="rtl"&&(te=!0),function(re){re.preventDefault();const ve=x.current;if(!ve)return()=>null;const{direction:_e,dragState:be,id:Ae,keyboardResizeBy:Ce,onLayout:fe}=k.current,{layout:se,panelDataArray:U}=M.current,{initialLayout:he}=be??{},Q=of(Ae,X,ve);let ie=qM(re,X,_e,be,Ce,ve);const de=_e==="horizontal";de&&te&&(ie=-ie);const we=U.map(ge=>ge.constraints),Re=_s({delta:ie,initialLayout:he??se,panelConstraints:we,pivotIndices:Q,prevLayout:se,trigger:Um(re)?"keyboard":"mouse-or-touch"}),Pe=!wi(se,Re);(Km(re)||Jm(re))&&G.current!=ie&&(G.current=ie,!Pe&&ie!==0?de?_l(X,ie<0?Xm:Ym):_l(X,ie<0?Qm:ef):_l(X,0)),Pe&&(_(Re),M.current.layout=Re,fe&&fe(Re),Or(U,Re,z.current))}},[]),j=c.useCallback((X,te)=>{const{onLayout:Y}=k.current,{layout:ne,panelDataArray:re}=M.current,ve=re.map(se=>se.constraints),{panelSize:_e,pivotIndices:be}=sr(re,X,ne);ft(_e!=null,`Panel size not found for panel "${X.id}"`);const Ce=Br(re,X)===re.length-1?_e-te:te-_e,fe=_s({delta:Ce,initialLayout:ne,panelConstraints:ve,pivotIndices:be,prevLayout:ne,trigger:"imperative-api"});wi(ne,fe)||(_(fe),M.current.layout=fe,Y&&Y(fe),Or(re,fe,z.current))},[]),V=c.useCallback((X,te)=>{const{layout:Y,panelDataArray:ne}=M.current,{collapsedSize:re=0,collapsible:ve}=te,{collapsedSize:_e=0,collapsible:be,maxSize:Ae=100,minSize:Ce=0}=X.constraints,{panelSize:fe}=sr(ne,X,Y);fe!=null&&(ve&&be&&Ao(fe,re)?Ao(re,_e)||j(X,_e):fe<Ce?j(X,Ce):fe>Ae&&j(X,Ae))},[j]),R=c.useCallback((X,te)=>{const{direction:Y}=k.current,{layout:ne}=M.current;if(!x.current)return;const re=La(X,x.current);ft(re,`Drag handle element not found for id "${X}"`);const ve=sf(Y,te);C({dragHandleId:X,dragHandleRect:re.getBoundingClientRect(),initialCursorPosition:ve,initialLayout:ne})},[]),W=c.useCallback(()=>{C(null)},[]),Z=c.useCallback(X=>{const{panelDataArray:te}=M.current,Y=Br(te,X);Y>=0&&(te.splice(Y,1),delete z.current[X.id],M.current.panelDataArrayChanged=!0,P())},[P]),q=c.useMemo(()=>({collapsePanel:E,direction:r,dragState:b,expandPanel:$,getPanelSize:D,getPanelStyle:O,groupId:v,isPanelCollapsed:H,isPanelExpanded:B,reevaluatePanelConstraints:V,registerPanel:I,registerResizeHandle:A,resizePanel:j,startDragging:R,stopDragging:W,unregisterPanel:Z,panelGroupElement:x.current}),[E,b,r,$,D,O,v,H,B,V,I,A,j,R,W,Z]),ee={display:"flex",flexDirection:r==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return c.createElement(Aa.Provider,{value:q},c.createElement(m,{...f,children:t,className:o,id:a,ref:x,style:{...ee,...g},[nn.group]:"",[nn.groupDirection]:r,[nn.groupId]:v}))}const Ri=c.forwardRef((e,t)=>c.createElement(uf,{...e,forwardedRef:t}));uf.displayName="PanelGroup";Ri.displayName="forwardRef(PanelGroup)";function Br(e,t){return e.findIndex(o=>o===t||o.id===t.id)}function sr(e,t,o){const r=Br(e,t),a=r===e.length-1?[r-1,r]:[r,r+1],l=o[r];return{...t.constraints,panelSize:l,pivotIndices:a}}function oA({disabled:e,handleId:t,resizeHandler:o,panelGroupElement:r}){c.useEffect(()=>{if(e||o==null||r==null)return;const i=La(t,r);if(i==null)return;const a=l=>{if(!l.defaultPrevented)switch(l.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{l.preventDefault(),o(l);break}case"F6":{l.preventDefault();const d=i.getAttribute(nn.groupId);ft(d,`No group element found for id "${d}"`);const p=Ns(d,r),g=nf(d,t,r);ft(g!==null,`No resize element found for id "${t}"`);const m=l.shiftKey?g>0?g-1:p.length-1:g+1<p.length?g+1:0;p[m].focus();break}}};return i.addEventListener("keydown",a),()=>{i.removeEventListener("keydown",a)}},[r,e,t,o])}function Li({children:e=null,className:t="",disabled:o=!1,hitAreaMargins:r,id:i,onBlur:a,onClick:l,onDragging:d,onFocus:p,onPointerDown:g,onPointerUp:m,style:f={},tabIndex:v=0,tagName:x="div",...b}){var C,S;const _=c.useRef(null),P=c.useRef({onClick:l,onDragging:d,onPointerDown:g,onPointerUp:m});c.useEffect(()=>{P.current.onClick=l,P.current.onDragging=d,P.current.onPointerDown=g,P.current.onPointerUp=m});const z=c.useContext(Aa);if(z===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:F,groupId:G,registerResizeHandle:k,startDragging:M,stopDragging:E,panelGroupElement:$}=z,D=Uc(i),[O,H]=c.useState("inactive"),[B,I]=c.useState(!1),[A,j]=c.useState(null),V=c.useRef({state:O});mr(()=>{V.current.state=O}),c.useEffect(()=>{if(o)j(null);else{const q=k(D);j(()=>q)}},[o,D,k]);const R=(C=r==null?void 0:r.coarse)!==null&&C!==void 0?C:15,W=(S=r==null?void 0:r.fine)!==null&&S!==void 0?S:5;c.useEffect(()=>{if(o||A==null)return;const q=_.current;ft(q,"Element ref not attached");let ee=!1;return jM(D,q,F,{coarse:R,fine:W},(te,Y,ne)=>{if(!Y){H("inactive");return}switch(te){case"down":{H("drag"),ee=!1,ft(ne,'Expected event to be defined for "down" action'),M(D,ne);const{onDragging:re,onPointerDown:ve}=P.current;re==null||re(!0),ve==null||ve();break}case"move":{const{state:re}=V.current;ee=!0,re!=="drag"&&H("hover"),ft(ne,'Expected event to be defined for "move" action'),A(ne);break}case"up":{H("hover"),E();const{onClick:re,onDragging:ve,onPointerUp:_e}=P.current;ve==null||ve(!1),_e==null||_e(),ee||re==null||re();break}}})},[R,F,o,W,k,D,A,M,E]),oA({disabled:o,handleId:D,resizeHandler:A,panelGroupElement:$});const Z={touchAction:"none",userSelect:"none"};return c.createElement(x,{...b,children:e,className:t,id:i,onBlur:()=>{I(!1),a==null||a()},onFocus:()=>{I(!0),p==null||p()},ref:_,role:"separator",style:{...Z,...f},tabIndex:v,[nn.groupDirection]:F,[nn.groupId]:G,[nn.resizeHandle]:"",[nn.resizeHandleActive]:O==="drag"?"pointer":B?"keyboard":void 0,[nn.resizeHandleEnabled]:!o,[nn.resizeHandleId]:D,[nn.resizeHandleState]:O})}Li.displayName="PanelResizeHandle";function rA(e=["timeline","map","resources","tasks"]){const[t,o]=c.useState(e),[r,i]=c.useState(null),a=m=>{o(f=>f.includes(m)?f.filter(v=>v!==m):[...f,m])},l=m=>{o(f=>f.filter(v=>v!==m)),r===m&&i(null)},d=m=>{t.length<=1||i(f=>f===m?null:m)},p=c.useMemo(()=>e.filter(m=>!t.includes(m)),[t,e]);return{visiblePanels:t,maximizedPanel:r,collapsedPanels:p,isPanelMaximized:m=>r===m,togglePanel:a,closePanel:l,maximizePanel:d}}function vp({title:e,icon:t,isMaximized:o,onMaximize:r,onClose:i,children:a,visibleCount:l}){const d=Bt(),p=Se(d.palette.primary.main,.12),g=Se(d.palette.primary.main,.05),m=Se(d.palette.text.primary,.6);return h.jsxs(Nt,{elevation:o?6:1,sx:{display:"flex",flexDirection:"column",height:"100%",width:"100%",borderRadius:2,border:`1px solid ${p}`,overflow:"hidden",backgroundImage:"none"},children:[h.jsxs(wt,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{px:1.5,py:.75,borderBottom:`1px solid ${p}`,backgroundColor:g},children:[h.jsxs(wt,{direction:"row",spacing:1,alignItems:"center",children:[h.jsx(t,{size:16,color:m}),h.jsx(rt,{variant:"subtitle2",sx:{fontWeight:600,color:d.palette.text.primary},children:e})]}),h.jsxs(wt,{direction:"row",alignItems:"center",spacing:.5,children:[l>1&&h.jsx(pn,{size:"small",onClick:r,title:o?"Restore":"Maximize",sx:{borderRadius:1.5,border:`1px solid ${Se(d.palette.primary.main,.12)}`,bgcolor:o?Se(d.palette.primary.main,.12):d.palette.common.white,"&:hover":{bgcolor:Se(d.palette.primary.main,.18)}},children:h.jsx(zg,{size:16,color:d.palette.text.primary,style:{transform:o?"rotate(180deg)":"none",transition:"transform 150ms ease"}})}),h.jsx(pn,{size:"small",onClick:i,title:"Close",sx:{borderRadius:1.5,border:`1px solid ${Se(d.palette.primary.main,.12)}`,bgcolor:d.palette.common.white,"&:hover":{bgcolor:Se(d.palette.primary.main,.18)}},children:h.jsx(tc,{size:16,color:d.palette.text.primary})})]})]}),h.jsx(Ue,{sx:{flex:1,minHeight:0,overflow:"hidden"},children:a})]})}const ir=[{id:"tasksByCommit",label:"Active Tasks by Commit",group:"task"},{id:"resource-active",label:"Active Resources",group:"resource"}];function sA(){var m;const[e,t]=c.useState("task"),[o,r]=c.useState(((m=ir.find(f=>f.group==="task"))==null?void 0:m.id)??ir[0].id),i=f=>{t(f);const v=ir.find(x=>x.group===f);v&&r(v.id)},a=f=>e===f,l=f=>{r(f);const v=ir.find(x=>x.id===f);v&&t(v.group)},d=f=>f===o,p=ir.filter(f=>f.group==="task"),g=ir.filter(f=>f.group==="resource");return{MENU:ir,activeTab:e,selectedMode:o,selectTab:i,isTab:a,select:l,isActive:d,taskItems:p,resourceItems:g}}function iA(){const[e,t]=c.useState([]),[o,r]=c.useState([]),[i,a]=c.useState(!0),l=c.useRef(null),d=c.useRef(!1),p=c.useRef(!1),g=c.useRef(0),m=200,f=e.length===1?e[0]:null,v=o.length===1?o[0]:null;c.useEffect(()=>{console.log("â†’ SELECTED TASKS:",e.map(G=>G.taskId)),console.log("â†’ SELECTED RESOURCES:",o.map(G=>G.resourceId))},[e,o]);const x=(G,k,M)=>{console.log("APPLY SELECTION (origin:",M,")",G),l.current=M,k(G),setTimeout(()=>{l.current=null},0)};return{selectedTasks:e,selectedTask:f,handleTaskMapClick:(G,k=!1)=>{console.log("MAP CLICK TASK:",G.taskId,"multi:",k),a(!1),l.current="map",d.current=!0,g.current=Date.now(),t(M=>k?M.some($=>$.taskId===G.taskId)?M.filter($=>$.taskId!==G.taskId):[...M,G]:[G]),setTimeout(()=>{l.current=null,d.current=!1},30)},handleTaskTableSelect:G=>{if(console.log("TABLE SELECT TASKS:",G.map(M=>M.taskId)),!G||G.length===0){console.log("TABLE SELECT TASKS ignored (empty selection)");return}const k=Date.now()-g.current<m;if(d.current||l.current==="map"||p.current||k){console.log("TABLE IGNORED â€” map is selecting/dragging/suppress window");return}a(!0),x(G,t,"table")},selectedResources:o,selectedResource:v,handleResourceMapClick:(G,k=!1)=>{console.log("MAP CLICK RESOURCE:",G.resourceId,"multi:",k),a(!1),l.current="map",d.current=!0,g.current=Date.now(),r(M=>k?M.some($=>$.resourceId===G.resourceId)?M.filter($=>$.resourceId!==G.resourceId):[...M,G]:[G]),setTimeout(()=>{l.current=null,d.current=!1},30)},handleResourceTableSelect:G=>{if(console.log("TABLE SELECT RESOURCES:",G.map(M=>M.resourceId)),!G||G.length===0){console.log("TABLE SELECT RESOURCES ignored (empty selection)");return}const k=Date.now()-g.current<m;if(d.current||l.current==="map"||p.current||k){console.log("TABLE IGNORED â€” map is selecting/dragging/suppress window");return}a(!0),x(G,r,"table")},shouldZoom:i,notifyMapDragStart:()=>{console.log("MAP DRAG START"),p.current=!0,g.current=Date.now()},notifyMapDragEnd:()=>{console.log("MAP DRAG END"),setTimeout(()=>{p.current=!1},80)},clearAll:()=>{console.log("CLEAR ALL"),l.current="clear",t([]),r([]),a(!0),setTimeout(()=>{l.current=null},0)}}}const gs={timeline:{label:"Gantt Timeline",icon:Gg},map:{label:"Map View",icon:Hg},resources:{label:"Resource Table",icon:ua},tasks:{label:"Task Table",icon:oc}};function yp(e){return e==="resource-active"?"resource-active":"task-default"}function aA(){const e=Bt(),t=e.palette.primary.main,o=e.palette.primary.dark,r=Se(t,.1),i=Se(t,.18),a="0 24px 54px rgba(8,58,97,0.22)",[l,d]=c.useState(""),[p,g]=c.useState(""),[m,f]=c.useState(!1),[v,x]=c.useState(!1),[b,C]=c.useState(!1),[S,_]=c.useState(!1),P=c.useRef(null),[z,F]=c.useState(""),G=c.useRef({}),[k,M]=c.useState([]),[E,$]=c.useState([]),D=uh,[O,H]=c.useState({statuses:[],pwa:[],capabilities:[],commitmentTypes:[]}),[B,I]=c.useState(0),{selectedMode:A,select:j,isActive:V,taskItems:R,resourceItems:W}=sA(),{selectedTasks:Z,selectedTask:q,handleTaskMapClick:ee,handleTaskTableSelect:X,selectedResources:te,selectedResource:Y,handleResourceMapClick:ne,handleResourceTableSelect:re,shouldZoom:ve,clearAll:_e,notifyMapDragStart:be,notifyMapDragEnd:Ae}=iA(),Ce=c.useMemo(()=>{const me=new Set;return dn.forEach(Te=>Te.division&&me.add(Te.division)),Array.from(me).sort()},[]),fe=c.useMemo(()=>{const me=new Set;return dn.forEach(Te=>Te.domain&&me.add(String(Te.domain).toUpperCase())),Array.from(me).sort()},[]);function se(me){const Te=new Set,vt=new Set,Ft=new Set,zt=new Set;for(const dt of me)dt.taskStatus&&Te.add(dt.taskStatus),dt.pwa&&vt.add(dt.pwa),Array.isArray(dt.capabilities)&&dt.capabilities.forEach(Tt=>Ft.add(Tt)),dt.commitmentType&&zt.add(dt.commitmentType);return{statuses:[...Te].sort(),pwa:[...vt].sort(),capabilities:[...Ft].sort(),commitmentTypes:[...zt].sort()}}const U=me=>{if(g(me),M([]),$([]),I(Te=>Te+1),me){const Te=dn.filter(vt=>vt.division===me);H(se(Te))}else H({statuses:[],pwa:[],capabilities:[],commitmentTypes:[]});F("")},he=me=>{d(me),M([]),$([]),I(vt=>vt+1);let Te=[...dn];me&&(Te=Te.filter(vt=>String(vt.domain).toUpperCase()===me)),p&&(Te=Te.filter(vt=>vt.division===p)),H(se(Te)),F("")},{visiblePanels:Q,maximizedPanel:ie,collapsedPanels:de,isPanelMaximized:we,togglePanel:Re,closePanel:Pe,maximizePanel:ge}=rA(),ye=()=>{C(!1),_(!1)},ke=()=>{p&&C(me=>{const Te=!me;return _(Te),Te})},Be=P.current,Qe=!!(b&&p&&Be),Je=me=>{Be&&Be.contains(me.target)||ye()},qe=me=>{var vt,Ft,zt,dt;let Te=[...dn];l&&(Te=Te.filter(Tt=>String(Tt.domain).toUpperCase()===l)),p&&(Te=Te.filter(Tt=>Tt.division===p)),(vt=me.statuses)!=null&&vt.length&&(Te=Te.filter(Tt=>me.statuses.includes(Tt.taskStatus))),(Ft=me.pwa)!=null&&Ft.length&&(Te=Te.filter(Tt=>me.pwa.includes(Tt.pwa))),(zt=me.capabilities)!=null&&zt.length&&(Te=Te.filter(Tt=>{var Me;return(Me=Tt.capabilities)==null?void 0:Me.some(Le=>me.capabilities.includes(Le))})),(dt=me.commitmentTypes)!=null&&dt.length&&(Te=Te.filter(Tt=>me.commitmentTypes.includes(Tt.commitmentType))),Te.sort((Tt,Me)=>{const Le=Number(Tt.importanceScore??0),et=Number(Me.importanceScore??0);if(et!==Le)return et-Le;const ot=Tt.appointmentStartDate?new Date(Tt.appointmentStartDate).getTime():0,kt=Me.appointmentStartDate?new Date(Me.appointmentStartDate).getTime():0;return ot-kt}),M(Te),ye()},Ke=me=>{var Ft,zt;if(!p){$([]),ye();return}let Te=[...D];Te=Te.filter(dt=>dt.division===p),l&&(Te=Te.filter(dt=>String(dt.domain).toUpperCase()===l)),(Ft=me.statuses)!=null&&Ft.length&&(Te=Te.filter(dt=>me.statuses.includes(dt.status))),(zt=me.pwa)!=null&&zt.length&&(Te=Te.filter(dt=>me.pwa.includes(dt.pwa)));const vt={Available:1,Busy:2,Offline:3};Te.sort((dt,Tt)=>{const Me=vt[dt.status]??99,Le=vt[Tt.status]??99;if(Me!==Le)return Me-Le;const et=dt.availableAgainAt?new Date(dt.availableAgainAt).getTime():Number.POSITIVE_INFINITY,ot=Tt.availableAgainAt?new Date(Tt.availableAgainAt).getTime():Number.POSITIVE_INFINITY;return et-ot}),$(Te),ye()},St=()=>{const me=z.trim().toLowerCase();if(!me)return;let Te=!1;const vt=dn.filter(zt=>zt.taskId&&zt.taskId.toLowerCase()===me);vt.length&&(M(vt),Te=!0);const Ft=D.filter(zt=>zt.resourceId&&String(zt.resourceId).toLowerCase()===me);Ft.length&&($(Ft),Te=!0),Te||console.log("No match found."),ye()},at=()=>{if(_e(),F(""),M([]),$([]),I(me=>me+1),p){const me=dn.filter(Te=>Te.division===p);H(se(me))}else H({statuses:[],pwa:[],capabilities:[],commitmentTypes:[]});ye()},st=me=>{switch(me){case"timeline":return h.jsx(L0,{});case"map":return h.jsx(nx,{tasks:k,resources:E,selectedTask:q,selectedTasks:Z,selectedResource:Y,selectedResources:te,shouldZoom:ve,handleTaskMapClick:ee,handleResourceMapClick:ne,notifyMapDragStart:be,notifyMapDragEnd:Ae});case"resources":return h.jsx(MM,{data:E,selectedResources:te,onSelectionChange:re});case"tasks":return h.jsx(TM,{data:k,selectedTasks:Z,onSelectionChange:X});default:return null}},Jt=["timeline","map"],Et=["resources","tasks"],Yt=Jt.filter(me=>Q.includes(me)),hn=Et.filter(me=>Q.includes(me)),on=ie?[ie]:Yt,rn=ie?[]:hn,qt=h.jsxs(Nt,{elevation:0,sx:{width:"100%",borderBottom:`1px solid ${Se(e.palette.primary.main,.1)}`,px:2.5,py:1.5,display:"flex",alignItems:"center",gap:2,backgroundImage:"none",borderRadius:0},children:[h.jsxs(En,{select:!0,size:"small",value:p,onChange:me=>U(me.target.value),sx:{minWidth:{xs:e.spacing(14),sm:e.spacing(18)}},SelectProps:{displayEmpty:!0,renderValue:me=>me?String(me):"Division"},children:[h.jsx($t,{value:"",children:"All"}),Ce.map(me=>h.jsx($t,{value:me,children:me},me))]}),h.jsxs(En,{select:!0,size:"small",value:l,onChange:me=>he(me.target.value),sx:{minWidth:{xs:e.spacing(14),sm:e.spacing(18)}},SelectProps:{displayEmpty:!0,renderValue:me=>me?String(me):"Domain"},children:[h.jsx($t,{value:"",children:"All"}),fe.map(me=>h.jsx($t,{value:me,children:me},me))]}),h.jsx(En,{size:"small",value:z,onChange:me=>F(me.target.value),onKeyDown:me=>me.key==="Enter"&&St(),placeholder:"Search anywhereâ€¦",sx:{minWidth:{xs:e.spacing(20),sm:e.spacing(30)}},InputProps:{startAdornment:h.jsx(ca,{position:"start",sx:{color:Se(e.palette.text.primary,.6)},children:h.jsx(nc,{size:16})})}}),h.jsx(yn,{ref:P,onClick:ke,variant:S?"contained":"outlined",color:"primary",size:"small",startIcon:h.jsx($g,{size:16}),disabled:!p,sx:{boxShadow:S?"0 14px 36px rgba(8,58,97,0.25)":"none",bgcolor:S?r:void 0,borderColor:S?t:void 0},children:"Search Tool"}),h.jsx(pn,{size:"small",onClick:()=>f(me=>!me),sx:{borderRadius:2,border:`1px solid ${i}`,boxShadow:m?"0 14px 36px rgba(8,58,97,0.2)":"none",bgcolor:m?t:"white",color:m?e.palette.common.white:e.palette.text.primary,"&:hover":{bgcolor:m?o:Se(t,.08)}},children:h.jsx(Bg,{size:16})}),h.jsx(pn,{size:"small",onClick:()=>x(me=>!me),sx:{borderRadius:2,border:`1px solid ${i}`,boxShadow:v?"0 14px 36px rgba(8,58,97,0.2)":"none",bgcolor:v?t:"white",color:v?e.palette.common.white:e.palette.text.primary,"&:hover":{bgcolor:v?o:Se(t,.08)}},title:"Map Legend",children:h.jsx(jg,{size:16})}),h.jsx(Ue,{sx:{flexGrow:1}}),h.jsx(yn,{variant:"outlined",size:"small",onClick:at,children:"Clear All"}),de.length>0&&h.jsx(wt,{direction:"row",spacing:1.5,ml:2,alignItems:"center",children:de.map(me=>h.jsx(pn,{size:"small",onClick:()=>Re(me),sx:{width:32,height:32,borderRadius:1.5,border:`1px solid ${Se(e.palette.primary.main,.12)}`,bgcolor:"white","&:hover":{bgcolor:Se(e.palette.primary.main,.08)}},children:kn.createElement(gs[me].icon,{size:15})},me))})]}),It=h.jsx(Yr,{open:Qe,anchorEl:Be,placement:"bottom-start",transition:!0,modifiers:[{name:"offset",options:{offset:[0,10]}}],children:({TransitionProps:me})=>h.jsx(Oi,{...me,timeout:160,children:h.jsx(Ue,{children:h.jsx(cc,{onClickAway:Je,children:h.jsxs(Nt,{elevation:16,sx:{borderRadius:3,p:3,border:`1px solid ${i}`,boxShadow:a,backgroundImage:"none",display:"flex",flexDirection:"column",gap:3},style:{width:"min(95vw, 760px)"},children:[h.jsxs(wt,{direction:{xs:"column",md:"row"},spacing:3,children:[h.jsxs(Nt,{elevation:0,sx:{width:{xs:"100%",md:"clamp(200px,24vw,240px)"},borderRadius:2,border:`1px solid ${Se(t,.12)}`,boxShadow:"0 18px 42px rgba(8,58,97,0.18)",backgroundImage:"none",p:2.5,display:"flex",flexDirection:"column",gap:3},children:[h.jsxs(Ue,{children:[h.jsx(rt,{variant:"overline",sx:{fontWeight:700,color:Se(e.palette.text.secondary,.9)},children:"Task Searches"}),h.jsx(wt,{spacing:1,mt:1.5,children:R.map(Te=>h.jsx(yn,{onClick:()=>j(Te.id),fullWidth:!0,size:"small",variant:V(Te.id)?"contained":"outlined",color:"primary",sx:{justifyContent:"flex-start",textTransform:"none",fontSize:12,fontWeight:600,borderRadius:1.5},children:Te.label},Te.id))})]}),h.jsx(Ko,{flexItem:!0,sx:{my:1}}),h.jsxs(Ue,{children:[h.jsx(rt,{variant:"overline",sx:{fontWeight:700,color:Se(e.palette.text.secondary,.9)},children:"Resource Searches"}),h.jsx(wt,{spacing:1,mt:1.5,children:W.map(Te=>h.jsx(yn,{onClick:()=>j(Te.id),fullWidth:!0,size:"small",variant:V(Te.id)?"contained":"outlined",color:"primary",sx:{justifyContent:"flex-start",textTransform:"none",fontSize:12,fontWeight:600,borderRadius:1.5},children:Te.label},Te.id))})]})]}),h.jsx(Nt,{elevation:0,sx:{flex:1,borderRadius:2,border:`1px solid ${Se(t,.12)}`,boxShadow:"0 18px 42px rgba(8,58,97,0.18)",backgroundImage:"none",p:3},children:h.jsx(R0,{mode:yp(A),onSearch:Te=>{G.current=Te},onClear:()=>{M([]),$([]),I(Te=>Te+1)},dropdownData:{...O,resourceStatuses:Array.from(new Set(D.map(Te=>Te.status))).sort()},resetKey:B})})]}),h.jsx(wt,{direction:"row",justifyContent:"flex-end",children:h.jsx(yn,{variant:"contained",size:"medium",onClick:()=>{const Te=G.current;yp(A).startsWith("task")?qe(Te):Ke(Te)},sx:{px:3.5,fontWeight:700,boxShadow:"0 18px 38px rgba(8,58,97,0.24)"},children:"Search"})})]})})})})});return h.jsxs(Ue,{sx:{flex:1,minHeight:0,display:"flex",flexDirection:"column",position:"relative",backgroundColor:Se(e.palette.primary.light,.08)},children:[qt,h.jsx(T0,{visible:v,onClose:()=>x(!1)}),It,h.jsx(Ue,{sx:{flex:1,minHeight:0,px:1,pt:1},children:h.jsxs(Ri,{direction:"vertical",style:{height:"100%"},children:[on.length>0&&h.jsxs(h.Fragment,{children:[h.jsx(Ss,{defaultSize:50,children:h.jsx(Ri,{direction:"horizontal",style:{height:"100%"},children:on.map((me,Te)=>h.jsxs(kn.Fragment,{children:[Te>0&&h.jsx(Li,{style:{width:4,backgroundColor:Se(e.palette.primary.main,.08),cursor:"col-resize"}}),h.jsx(Ss,{children:h.jsx(vp,{title:gs[me].label,icon:gs[me].icon,isMaximized:we(me),onMaximize:()=>ge(me),onClose:()=>Pe(me),visibleCount:Q.length,children:st(me)})})]},me))})}),rn.length>0&&h.jsx(Li,{style:{height:4,backgroundColor:Se(e.palette.primary.main,.08),cursor:"row-resize"}})]}),rn.length>0&&h.jsx(Ss,{defaultSize:50,children:h.jsx(Ri,{direction:"horizontal",style:{height:"100%"},children:rn.map((me,Te)=>h.jsxs(kn.Fragment,{children:[Te>0&&h.jsx(Li,{style:{width:4,backgroundColor:Se(e.palette.primary.main,.08),cursor:"col-resize"}}),h.jsx(Ss,{children:h.jsx(vp,{title:gs[me].label,icon:gs[me].icon,isMaximized:we(me),onMaximize:()=>ge(me),onClose:()=>Pe(me),visibleCount:Q.length,children:st(me)})})]},me))})})]},Q.join("-"))})]})}const lA=it(h.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle"),cA=it(h.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"ErrorOutline"),uA=it(h.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"}),"Info"),dA=[{label:"Operation Toolkit",icon:oc},{label:"General Settings",icon:$i}],pA=[{label:"Task Admin",icon:Bs},{label:"Jeopardy Admin",icon:da}],hA=[{label:"Resource Admin",icon:ua},{label:"Self Service Admin",icon:$i},{label:"User Admin",icon:Wp}],mA=[{label:"Domain Admin",icon:Zp},{label:"Schedule Admin",icon:Up},{label:"System Admin",icon:Kp}],fA=c.memo(function({currentMenu:t,onMenuClick:o,activeSubPage:r}){const i=Bt(),[a,l]=c.useState(!1),[d,p]=c.useState(null),g=c.useRef(a);c.useEffect(()=>{t!=null&&t.label&&p(t.label.trim())},[t]);const m=c.useCallback(()=>{l(x=>!x)},[]);c.useEffect(()=>{const x=()=>m();return window.addEventListener("toggleSidebar",x),()=>window.removeEventListener("toggleSidebar",x)},[m]),c.useEffect(()=>{const x=()=>p(null);return window.addEventListener("resetSidebarSelection",x),()=>window.removeEventListener("resetSidebarSelection",x)},[]),c.useEffect(()=>(a&&!g.current&&document.body.classList.add("sidebar-open"),!a&&g.current&&document.body.classList.remove("sidebar-open"),g.current=a,()=>{document.body.classList.remove("sidebar-open")}),[a]);const f=c.useMemo(()=>[{title:"User Section",menus:dA},{title:"Task Admin",menus:pA},{title:"People Admin",menus:hA},{title:"System Admin",menus:mA}],[]),v=c.useCallback(x=>{const b=x.label.trim();if(d===b&&!(r!==null)){l(!1);return}p(b),o({...x,label:b}),l(!1)},[d,r,o]);return h.jsxs(sb,{variant:"temporary",open:a,onClose:()=>l(!1),ModalProps:{keepMounted:!0},PaperProps:{sx:{width:{xs:"80vw",sm:i.spacing(40)},maxWidth:"100vw",minWidth:0,minHeight:0,backgroundColor:"background.paper",borderRight:`1px solid ${Se(i.palette.text.primary,.08)}`,boxShadow:"8px 0 24px rgba(0,0,0,0.16)",display:"flex",flexDirection:"column"}},children:[h.jsx(Ue,{sx:{px:3,py:2.5,borderBottom:`1px solid ${Se(i.palette.text.primary,.12)}`},children:h.jsx(rt,{variant:"h6",fontWeight:600,color:"text.primary",children:"Navigation"})}),h.jsx(Ue,{sx:{flex:1,overflowY:"auto",py:1},children:f.map(({title:x,menus:b})=>h.jsxs(kn.Fragment,{children:[h.jsx(gA,{title:x,menus:b,activeMenuLabel:d,onMenuClick:v}),h.jsx(Ko,{sx:{mx:2,my:2,borderColor:Se(i.palette.text.primary,.08)}})]},x))}),h.jsx(vA,{})]})}),gA=c.memo(function({title:t,menus:o,activeMenuLabel:r,onMenuClick:i}){const a=Bt();return h.jsxs(Ue,{sx:{px:2,py:1},children:[h.jsx(rt,{variant:"overline",color:"text.secondary",sx:{px:1.5,mb:1,letterSpacing:1.4},children:t}),h.jsx(Np,{disablePadding:!0,children:o.map(l=>{const d=l.icon,p=r===l.label;return h.jsxs(zp,{onClick:()=>i(l),selected:p,sx:{borderRadius:2,mb:1,alignItems:"center",px:2.5,py:1.5,position:"relative",...p?{backgroundColor:Se(a.palette.primary.main,.12),color:a.palette.primary.main,"&::before":{content:'""',position:"absolute",left:12,top:10,bottom:10,width:4,borderRadius:999,backgroundColor:a.palette.primary.main}}:{color:a.palette.text.primary,"&:hover":{backgroundColor:Se(a.palette.primary.main,.08)}}},children:[h.jsx(Tn,{sx:{minWidth:a.spacing(4.5),color:"inherit"},children:kn.createElement(d,{size:18,strokeWidth:2.2})}),h.jsx(On,{primary:l.label,primaryTypographyProps:{fontSize:14,fontWeight:p?600:500}})]},l.label)})})]})}),vA=c.memo(function(){const t=Bt();return h.jsxs(Ue,{sx:{px:3,py:2.5,borderTop:`1px solid ${Se(t.palette.text.primary,.1)}`,backgroundColor:Se(t.palette.background.paper,.85)},children:[h.jsxs(wt,{direction:"row",alignItems:"center",justifyContent:"space-between",mb:1.5,children:[h.jsx(rt,{variant:"subtitle2",fontWeight:600,color:"text.primary",children:"System Info"}),h.jsx(Ue,{sx:{color:"text.secondary"},children:h.jsx(Vg,{size:16})})]}),h.jsxs(wt,{spacing:.5,sx:{color:"text.secondary",fontSize:12},children:[h.jsxs("span",{children:[h.jsx("strong",{children:"Client Version:"})," 1"]}),h.jsxs("span",{children:[h.jsx("strong",{children:"Build #:"})," 11.11.2025"]}),h.jsxs("span",{children:[h.jsx("strong",{children:"Node:"})," 20.0.0"]})]}),h.jsx(Ko,{sx:{my:1.5,borderColor:Se(t.palette.text.primary,.08)}}),h.jsx(rt,{variant:"caption",color:"text.secondary",display:"block",textAlign:"center",children:"Brandon Virtual | Â© 2025"})]})}),yA=it(h.jsx("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"}),"ContentCopy"),bA=it(h.jsx("path",{d:"M19 9h-4V3H9v6H5l7 7zM5 18v2h14v-2z"}),"FileDownload"),xA=it(h.jsx("path",{d:"M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2"}),"Bookmark"),CA=it(h.jsx("path",{d:"M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2m0 15-5-2.18L7 18V5h10z"}),"BookmarkBorder"),wA=it(h.jsx("path",{d:"M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 16H5V8h14zM7 10h5v5H7z"}),"Today"),SA=it(h.jsx("path",{d:"M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 16H5V9h14zm0-12H5V5h14zM7 11h5v5H7z"}),"TodayOutlined");function _A({anchorEl:e,open:t,onClose:o,fromDate:r,fromTime:i,toDate:a,toTime:l,onChangeField:d,onClear:p}){return h.jsx(zi,{anchorEl:e,open:t,onClose:o,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:h.jsxs(Ue,{sx:{p:1,display:"flex",flexDirection:"column",gap:1,minWidth:220},children:[h.jsxs(wt,{direction:"row",spacing:1,alignItems:"center",children:[h.jsx(En,{type:"date",name:"fromDate",label:"From",value:r,onChange:g=>d("fromDate",g.target.value),size:"small",InputLabelProps:{shrink:!0}}),h.jsx(En,{type:"time",name:"fromTime",value:i,onChange:g=>d("fromTime",g.target.value),size:"small"})]}),h.jsxs(wt,{direction:"row",spacing:1,alignItems:"center",children:[h.jsx(En,{type:"date",name:"toDate",label:"To",value:a,onChange:g=>d("toDate",g.target.value),size:"small",InputLabelProps:{shrink:!0}}),h.jsx(En,{type:"time",name:"toTime",value:l,onChange:g=>d("toTime",g.target.value),size:"small"})]}),h.jsxs(Ue,{sx:{display:"flex",gap:1,justifyContent:"flex-end"},children:[h.jsx(yn,{variant:"text",size:"small",onClick:()=>{p&&p()},children:"Clear"}),h.jsx(yn,{variant:"contained",size:"small",onClick:o,children:"Apply"})]})]})})}const PA=br($p),bp={taskSearch:"",division:[],domainId:[],taskStatuses:[],requester:"",responseCode:[],commitType:[],capabilities:[],pwa:[],jobType:"",scoreCondition:"",scoreValue:"",locationType:"",locationValue:"",fromDate:"",fromTime:"",toDate:"",toTime:""},vs={taskSearch:"Search",division:"Division",domainId:"Domain",taskStatuses:"Task Status",requester:"Requester",responseCode:"Response",commitType:"Commitment",capabilities:"Capabilities",pwa:"PWA",jobType:"Job Type",scoreCondition:"IMP Condition",scoreValue:"IMP Value",locationType:"Location Type",locationValue:"Location Value",fromDate:"From Date",fromTime:"From Time",toDate:"To Date",toTime:"To Time"};function IA({onSearch:e,onClear:t,onCopy:o,onExport:r,canCopy:i=!1,forceCollapsed:a=!1,onOpenColumns:l,hasResults:d=!1,selectedRows:p=[],onOpenPopout:g,onProgressTasks:m,onProgressNotes:f,onOpenCalloutIncident:v}){const x=Bt(),[b,C]=c.useState(()=>({...bp})),[S,_]=c.useState(!1),[P,z]=c.useState(!1),[F,G]=c.useState("basic"),[k,M]=c.useState(null),[E,$]=c.useState(null),[D,O]=c.useState(null),H=U=>Array.from(new Set(U.filter(Boolean))),B=c.useMemo(()=>H(dn.map(U=>U.division)).sort(),[]),I=c.useMemo(()=>H(dn.map(U=>U.domain)).sort(),[]),A=c.useMemo(()=>H(dn.map(he=>he.taskStatus)).sort((he,Q)=>{const ie=he.match(/\(([^)]+)\)\s*$/),de=Q.match(/\(([^)]+)\)\s*$/),we=(ie==null?void 0:ie[1])??he,Re=(de==null?void 0:de[1])??Q;return we.localeCompare(Re)}),[]),j=c.useMemo(()=>H(dn.map(U=>U.responseCode)).sort(),[]),V=c.useMemo(()=>H(dn.map(U=>U.commitmentType)).sort(),[]),R=c.useMemo(()=>H(dn.flatMap(U=>U.capabilities||[])).sort(),[]),W=c.useMemo(()=>H(dn.map(U=>U.pwa)).sort(),[]),Z=c.useMemo(()=>H(dn.map(U=>U.resourceName)).sort(),[]),q=c.useMemo(()=>H(dn.map(U=>U.taskType)).sort(),[]),ee=c.useMemo(()=>"Search by Task ID, Work ID, Estimate Number, Employee ID",[]),[X,te]=kn.useState({});kn.useEffect(()=>{if(!(typeof window>"u"))try{const he=document.createElement("canvas").getContext("2d");if(!he)return;const Q=getComputedStyle(document.body);he.font=Q.font||"14px Roboto, sans-serif";const ie=["division","domainId","taskStatuses","commitType","responseCode","pwa","capabilities","requester","jobType","locationValue"],de=6,we=6,Re=ge=>{const ye=Y[ge];if(ye){const qe="0".repeat(ye+de+we);return Math.ceil(he.measureText(qe).width)}const Be=(qe=>{switch(qe){case"division":return B;case"domainId":return I;case"taskStatuses":return A;case"responseCode":return j;case"commitType":return V;case"capabilities":return R;case"pwa":return W;case"requester":return Z;case"jobType":return q;default:return}})(ge);let Qe=vs[ge]??ge;Be&&Be.length&&(Qe=Be.reduce((qe,Ke)=>String(Ke).length>qe.length?String(Ke):qe,Qe));const Je=Qe+" ".repeat(de+we);return Math.ceil(he.measureText(Je).width)},Pe={};ie.forEach(ge=>{try{Pe[ge]=Re(ge)}catch{}}),te(Pe)}catch{}},[B,I,A,j,V,R,W,Z,q]);const Y={division:36,domainId:14,taskStatuses:24,commitType:22,responseCode:10,pwa:20,capabilities:28,requester:28,jobType:22,locationValue:32,locationType:16,scoreValue:6},ne=c.useMemo(()=>b.taskSearch.trim().length>0?!0:b.division.length>0&&b.domainId.length>0,[b.division.length,b.domainId.length,b.taskSearch]);c.useMemo(()=>{const U=[];return["taskSearch","requester","jobType","scoreCondition","scoreValue","locationType","locationValue"].forEach(ie=>{const de=b[ie];typeof de=="string"&&de.trim()&&U.push({key:ie,label:vs[ie],displayValue:de,isArray:!1})}),["division","domainId","taskStatuses","responseCode","commitType","capabilities","pwa"].forEach(ie=>{const de=b[ie];de.length&&U.push({key:ie,label:vs[ie],displayValue:de.join(", "),isArray:!0})}),b.fromDate&&U.push({key:"fromDate",label:vs.fromDate,displayValue:b.fromDate,isArray:!1}),b.toDate&&U.push({key:"toDate",label:vs.toDate,displayValue:b.toDate,isArray:!1}),U},[b]);const re=c.useCallback(U=>{const{name:he,value:Q}=U.target;C(ie=>({...ie,[he]:Q}))},[]),ve=c.useCallback((U,he)=>{C(Q=>({...Q,[U]:he}))},[]),_e=c.useCallback(()=>{e(b)},[b,e]),be=c.useCallback(()=>{C({...bp}),t()},[t]);kn.useEffect(()=>{a&&_(!0)},[a]);const Ae=c.useCallback(U=>{M(U.currentTarget)},[]),Ce=c.useCallback(()=>{M(null)},[]),fe=c.useCallback(()=>{i&&o?o():xs.error("No data to copy"),Ce()},[i,Ce,o]),se=c.useCallback(()=>{i&&r?r():xs.error("No data to export"),Ce()},[i,Ce,r]);return c.useMemo(()=>[{label:"My Tasks",action:()=>xs("Preset: My Tasks")},{label:"Due Today",action:()=>xs("Preset: Due Today")},{label:"High IMP",action:()=>C(U=>({...U,scoreCondition:"greater",scoreValue:"80"}))}],[]),h.jsxs(PA,{initial:{opacity:0,y:-6},animate:{opacity:1,y:0},transition:{duration:.25},sx:{borderRadius:"12px 12px 0 0",boxShadow:"0 18px 35px rgba(10, 74, 122, 0.12)",overflow:"hidden",width:"100%",maxWidth:"100%",mx:0},children:[h.jsx(Ue,{sx:{px:{xs:2,md:3},py:.5,bgcolor:"transparent"},children:h.jsxs(Ue,{sx:{display:"flex",alignItems:"center",gap:1},children:[h.jsxs(w0,{value:F,onChange:(U,he)=>G(he),variant:"standard",sx:{minHeight:36},children:[h.jsx(nd,{value:"basic",label:"Basic",sx:{minHeight:36,px:1}}),h.jsx(nd,{value:"advanced",label:"Advanced",sx:{minHeight:36,px:1}})]}),h.jsx(Ue,{sx:{flex:1}}),h.jsx(Ue,{sx:{width:{xs:"100%",sm:420,md:720}},children:h.jsx(En,{name:"taskSearch",value:b.taskSearch,onChange:re,placeholder:ee,size:"small",fullWidth:!0,sx:{"& input::placeholder":{color:x.palette.text.secondary},"& .MuiInputBase-input":{paddingTop:0,paddingBottom:0,fontSize:13,lineHeight:"32px"}},InputProps:{startAdornment:h.jsx(ca,{position:"start",children:h.jsx(nc,{size:16})}),sx:{height:48}}})}),h.jsx(pn,{onClick:U=>O(U.currentTarget),size:"small",sx:{ml:1},"aria-label":"date-filter",children:b.fromDate||b.toDate||b.fromTime||b.toTime?h.jsx(wA,{sx:{fontSize:20,color:x.palette.primary.main}}):h.jsx(SA,{sx:{fontSize:20}})}),h.jsx(pn,{onClick:()=>z(U=>!U),size:"small",sx:{ml:1},"aria-label":"favourite",children:P?h.jsx(xA,{sx:{fontSize:20,color:x.palette.primary.main}}):h.jsx(CA,{sx:{fontSize:20}})})]})}),h.jsxs(Bp,{sx:{pt:.5,pb:2,px:2,maxHeight:"none",overflowY:"visible"},children:[F==="basic"&&h.jsxs(Ue,{mt:1,children:[h.jsx(Ue,{sx:{display:"flex",justifyContent:"flex-end",mb:.25}}),h.jsxs(Ot,{container:!0,spacing:1.5,alignItems:"center",children:[h.jsx(Ot,{item:!0,xs:12,sm:"auto",md:"auto",children:h.jsx(jn,{label:"Division",options:B,value:b.division,onChange:U=>ve("division",U),showSelectAllIcon:!0,required:!0})}),h.jsx(Ot,{item:!0,xs:12,sm:"auto",md:"auto",children:h.jsx(jn,{label:"Domain ID",options:I,value:b.domainId,onChange:U=>ve("domainId",U),showSelectAllIcon:!0,required:!0})}),h.jsx(Ot,{item:!0,xs:12,sm:"auto",md:"auto",children:h.jsx(jn,{label:"Task Status",options:A,value:b.taskStatuses,onChange:U=>ve("taskStatuses",U),showSelectAllIcon:!0})}),h.jsx(Ot,{item:!0,xs:12,sm:"auto",md:"auto",children:h.jsx(jn,{label:"Commit Type",options:V,value:b.commitType,onChange:U=>ve("commitType",U),showSelectAllIcon:!0})}),h.jsx(Ot,{item:!0,xs:12,sm:"auto",md:"auto",children:h.jsx(jn,{label:"Response Code",options:j,value:b.responseCode,onChange:U=>ve("responseCode",U),showSelectAllIcon:!0})}),h.jsx(Ot,{item:!0,xs:12,sm:"auto",md:"auto",children:h.jsx(jn,{label:"PWA Selector",options:W,value:b.pwa,onChange:U=>ve("pwa",U),showSelectAllIcon:!0})}),h.jsx(Ot,{item:!0,xs:12,sm:"auto",md:"auto",children:h.jsx(jn,{label:"Capabilities",options:R,value:b.capabilities,onChange:U=>ve("capabilities",U),showSelectAllIcon:!0})})]})]}),F==="advanced"&&h.jsx(Ue,{mt:1,children:h.jsxs(Ot,{container:!0,spacing:1.5,alignItems:"center",children:[h.jsx(Ot,{item:!0,xs:12,sm:"auto",md:"auto",children:h.jsx(bi,{label:"Requester",options:Z,value:b.requester,onChange:U=>C(he=>({...he,requester:U}))})}),h.jsx(Ot,{item:!0,xs:12,sm:"auto",md:"auto",children:h.jsx(bi,{label:"Job Type",options:q,value:b.jobType,onChange:U=>C(he=>({...he,jobType:U}))})}),h.jsx(Ot,{item:!0,xs:12,sm:"auto",md:"auto",children:h.jsx(Rl,{label:"Location Type",options:[{label:"Postcode",value:"postCode"},{label:"Location",value:"location"},{label:"Group Code",value:"groupCode"}],value:b.locationType||null,onChange:U=>C(he=>({...he,locationType:U??""}))})}),h.jsx(Ot,{item:!0,xs:12,sm:"auto",md:"auto",children:h.jsx(bi,{label:"Location Value",options:[],value:b.locationValue,onChange:U=>C(he=>({...he,locationValue:U}))})}),h.jsx(Ot,{item:!0,xs:12,sm:"auto",md:"auto",children:h.jsx(Rl,{label:"IMP Condition",options:[{label:"Greater Than",value:"greater"},{label:"Less Than",value:"less"}],value:b.scoreCondition||null,onChange:U=>C(he=>({...he,scoreCondition:U??""}))})}),h.jsx(Ot,{item:!0,xs:12,sm:"auto",md:"auto",children:h.jsx(bi,{label:"IMP Value",options:[],value:b.scoreValue,onChange:U=>C(he=>({...he,scoreValue:U}))})})]})})]}),h.jsx(_A,{anchorEl:D,open:!!D,onClose:()=>O(null),fromDate:b.fromDate,fromTime:b.fromTime,toDate:b.toDate,toTime:b.toTime,onChangeField:(U,he)=>C(Q=>({...Q,[U]:he})),onClear:()=>C(U=>({...U,fromDate:"",fromTime:"",toDate:"",toTime:""}))}),h.jsx(Ko,{}),h.jsxs(cy,{sx:{px:2,py:1,bgcolor:x.palette.grey[50],display:"flex",justifyContent:"space-between",alignItems:"center"},children:[h.jsxs(Ue,{children:[d?h.jsx(yn,{variant:"outlined",size:"small",onClick:Ae,startIcon:h.jsx(Wg,{size:16}),endIcon:h.jsx(Hp,{size:16}),sx:{borderRadius:2,textTransform:"none",px:1,display:"inline-flex",alignItems:"center"},children:"More"}):null,d&&h.jsxs(h.Fragment,{children:[h.jsxs(yn,{variant:"outlined",size:"small",onClick:U=>$(U.currentTarget),sx:{ml:1,borderRadius:2,textTransform:"none"},children:["Actions",p&&p.length?` (${p.length})`:""]}),h.jsxs(zi,{anchorEl:E,open:!!E,onClose:()=>$(null),anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:[h.jsxs($t,{onClick:()=>{!p||!p.length||(g?g(p||[]):window.dispatchEvent(new CustomEvent("taskforce:open-popout",{detail:{tasks:p}})),$(null))},disabled:!p||p.length===0,children:[h.jsx(Tn,{children:h.jsx(Vp,{size:16})}),"Open Viewer",p&&p.length>1?` (${p.length})`:""]}),h.jsxs($t,{onClick:()=>{!p||!p.length||(m?m(p||[]):window.dispatchEvent(new CustomEvent("taskforce:progress-tasks",{detail:{tasks:p}})),$(null))},disabled:!p||p.length===0,children:[h.jsx(Tn,{children:h.jsx(Bs,{size:16})}),"Progress Tasks",p&&p.length>1?` (${p.length})`:""]}),h.jsxs($t,{onClick:()=>{!p||!p.length||(f?f(p||[]):window.dispatchEvent(new CustomEvent("taskforce:progress-notes",{detail:{tasks:p}})),$(null))},disabled:!p||p.length===0,children:[h.jsx(Tn,{children:h.jsx(Gp,{size:16})}),"Progress Notes",p&&p.length>1?` (${p.length})`:""]}),h.jsxs($t,{onClick:()=>{const U=p&&p.length?p[0]:null;U&&(v?v(U):window.dispatchEvent(new CustomEvent("taskforce:open-callout-incident",{detail:{task:U}})),$(null))},disabled:!(p&&p.length===1),children:[h.jsx(Tn,{children:h.jsx(da,{style:{fontSize:18,color:"rgba(220,53,69,0.95)"}})}),"Callout Incident"]})]})]}),h.jsxs(zi,{anchorEl:k,open:!!k,onClose:Ce,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:[h.jsxs($t,{onClick:fe,sx:{display:"flex",alignItems:"center"},children:[h.jsx(Tn,{children:h.jsx(yA,{fontSize:"small"})}),h.jsx(On,{children:i?"Copy":"Copy (empty)"})]}),h.jsxs($t,{onClick:se,sx:{display:"flex",alignItems:"center"},children:[h.jsx(Tn,{children:h.jsx(bA,{fontSize:"small"})}),h.jsx(On,{children:"Export"})]})]})]}),h.jsxs(wt,{direction:"row",spacing:1,alignItems:"center",children:[!ne&&h.jsx(rt,{variant:"caption",color:"text.secondary",children:"Select Division and Domain ID, or type in the global search."}),h.jsx(yn,{variant:"outlined",size:"small",onClick:be,sx:{borderRadius:2,textTransform:"none"},children:"Clear"}),h.jsx(yn,{variant:"contained",size:"small",onClick:_e,disabled:!ne,sx:{borderRadius:2,textTransform:"none",boxShadow:"none"},children:"Search"})]})]})]})}function TA({open:e,preview:t,tasksCount:o,targetStatus:r,setTargetStatus:i,targetResourceId:a,setTargetResourceId:l,progressNote:d,setProgressNote:p,onSave:g,onClose:m,progressError:f,progressSuccess:v,progressSaving:x,coreStatuses:b,additionalStatuses:C}){const S=Bt();return h.jsxs(Fy,{open:e,onClose:m,maxWidth:"lg",fullWidth:!0,children:[h.jsxs(Vy,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:2},children:[h.jsxs(wt,{direction:"row",spacing:2,alignItems:"center",children:[h.jsx(Ue,{sx:{height:48,width:48,borderRadius:"50%",bgcolor:S.palette.primary.main,color:S.palette.primary.contrastText,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 8px 20px rgba(8,58,97,0.35)"},children:h.jsx(Bs,{size:22})}),h.jsxs("div",{children:[h.jsx(rt,{variant:"h6",fontWeight:600,color:"text.primary",children:"Progress Tasks"}),h.jsxs(rt,{variant:"body2",color:"text.secondary",children:[o," task",o===1?"":"s"," selected"]})]})]}),h.jsx(pn,{onClick:m,children:h.jsx(tc,{size:20})})]}),h.jsxs(jy,{dividers:!0,sx:{display:"grid",gap:3,gridTemplateColumns:{lg:"1.6fr 1fr",xs:"1fr"}},children:[h.jsxs(wt,{spacing:2,children:[h.jsx(rt,{variant:"overline",sx:{color:"text.secondary",letterSpacing:1},children:"Selected Tasks"}),h.jsx(Nt,{variant:"outlined",sx:{maxHeight:180,overflowY:"auto",borderRadius:3,borderColor:Se(S.palette.primary.main,.12),bgcolor:Se(S.palette.primary.main,.03),p:2},children:h.jsx(wt,{spacing:1.5,children:t.length===0?h.jsx(rt,{variant:"caption",color:"text.secondary",children:"No task identifiers."}):t.map(({id:_,currentStatus:P,nextStatus:z},F)=>h.jsxs(wt,{direction:"row",spacing:2,alignItems:"center",justifyContent:"space-between",sx:{borderRadius:2,border:`1px solid ${Se(S.palette.primary.main,.12)}`,bgcolor:S.palette.background.paper,px:2,py:1.25},children:[h.jsx(rt,{variant:"subtitle2",color:"primary",noWrap:!0,children:_??"Unknown Task"}),h.jsxs(rt,{variant:"caption",color:"text.secondary",noWrap:!0,children:[P||"â€”",h.jsx(rt,{component:"span",sx:{mx:1,color:"text.disabled"},children:"â†’"}),z]})]},_??`task-${F}`))})})]}),h.jsxs(wt,{spacing:2.5,children:[h.jsxs(Op,{fullWidth:!0,size:"small",children:[h.jsx(Fp,{id:"target-status-label",children:"Target Status"}),h.jsxs(Yl,{labelId:"target-status-label",label:"Target Status",value:r,onChange:_=>i(_.target.value),children:[h.jsx($t,{disabled:!0,value:"__CORE__",children:h.jsx(rt,{variant:"caption",sx:{fontWeight:700,color:"text.secondary"},children:"Core progression"})}),b.map(_=>h.jsx($t,{value:_,children:_},_)),h.jsx(Ko,{component:"li",sx:{my:.5}}),h.jsx($t,{disabled:!0,value:"__ADDITIONAL__",children:h.jsx(rt,{variant:"caption",sx:{fontWeight:700,color:"text.secondary"},children:"Additional statuses"})}),C.map(_=>h.jsx($t,{value:_,children:_},_))]})]}),h.jsxs($u,{severity:"info",variant:"outlined",sx:{borderRadius:3},children:["Selected tasks will be stamped with the note below and updated to ",h.jsxs("strong",{children:[" ",r," "]})," unless they already match."]})]}),h.jsxs(wt,{spacing:1.5,sx:{gridColumn:"1 / -1"},children:[h.jsx(rt,{variant:"overline",sx:{letterSpacing:1,color:"text.secondary"},children:"Quick Note"}),h.jsx(En,{multiline:!0,minRows:4,value:d,onChange:_=>p(_.target.value),placeholder:"Share the next steps, blockers, or field updates for these tasksâ€¦"})]}),(f||v)&&h.jsx($u,{severity:f?"error":"success",sx:{gridColumn:"1 / -1"},children:f||v}),h.jsxs(wt,{direction:"row",spacing:2,justifyContent:"flex-end",sx:{gridColumn:"1 / -1"},children:[h.jsx(yn,{variant:"outlined",size:"small",onClick:m,sx:{textTransform:"none",fontWeight:600},children:"Cancel"}),h.jsx(yn,{variant:"contained",size:"small",onClick:()=>g(),disabled:x,sx:{textTransform:"none",fontWeight:700},children:"Save"})]})]})]})}const Is={"Operation Toolkit":[{name:"Resource Management",description:"Manage all available resources, teams, and assets."},{name:"Task Management",description:"Oversee and assign operational tasks efficiently."},{name:"Schedule Live",description:"Monitor and adjust live schedules in real-time."},{name:"Schedule Explorer",description:"Browse and analyze upcoming schedules and plans."},{name:"Callout Overview",description:"Review all ongoing and past callout events."},{name:"Callout Launch",description:"Initiate and configure new callout operations."}],"General Settings":[{name:"System Preferences",description:"Modify user-level settings, preferences, and themes."},{name:"API Keys",description:"Manage access tokens and integrations securely."}],"Task Admin":[{name:"Task Type",description:"Define and manage task categories and types."},{name:"Task Routing",description:"Configure task routing and escalation rules."},{name:"Task Importance",description:"Set and manage task priority and importance levels."}],"Jeopardy Admin":[{name:"Alert Definitions",description:"Define and manage all alert templates."},{name:"Alert Action Definition",description:"Configure automated or manual alert responses."},{name:"Alert Parameter Definition",description:"Set up variable parameters and alert thresholds."},{name:"Alert Ranking",description:"Prioritize and rank alerts by severity or impact."},{name:"Alert Exclusion",description:"Manage exceptions and exclusion rules for alerts."}],"Resource Admin":[{name:"Rota Day Record",description:"Manage and track individual rota day records."},{name:"Rota Week Record",description:"Oversee weekly rota summaries and status tracking."},{name:"Rota Template Record",description:"Design and configure rota templates for scheduling."},{name:"Closure User Group",description:"Administer closure groups for specific operations."},{name:"Access Restriction",description:"Set user and role-based access limitations."},{name:"Personal Overtime",description:"Monitor and manage personal overtime records."},{name:"Business Overtime",description:"Control and review business-wide overtime data."}],"Self Service Admin":[{name:"Self Selection Settings Admin",description:"Configure system-wide self-selection settings."},{name:"Self Selection Task Rating Admin",description:"Manage task rating parameters."},{name:"Self Selection Patch Admin",description:"Handle patch management for self-selection."},{name:"Self Selection Work Type Admin",description:"Control available work types."}],"User Admin":[{name:"User Account",description:"Create and manage system user accounts and credentials."},{name:"User ID",description:"View and assign unique user identification numbers."},{name:"Unbar User",description:"Unblock or reinstate restricted user accounts."},{name:"User Role Profile",description:"Define user roles and associated permissions."},{name:"Supervisor Change Password",description:"Allow supervisors to reset/change passwords."}],"Domain Admin":[{name:"Domain Building",description:"Configure and structure operational domains."},{name:"Post Areas",description:"Define post boundaries, checkpoints, and zones."},{name:"Travel Areas",description:"Set travel regions and mobility zones."},{name:"Asset",description:"Manage fixed and movable assets."},{name:"Workforce",description:"Assign and monitor domain workforce allocations."},{name:"Division",description:"Oversee structural divisions."}],"Schedule Admin":[{name:"MSS Admin",description:"Manage and configure the Master Schedule System."},{name:"SRM Admin",description:"Administer SRM modules & permissions."},{name:"SRM Audit",description:"Audit SRM changes and scheduling history."}],"System Admin":[{name:"Algorithm Parameters",description:"Configure algorithm behaviors & weights."},{name:"System Code Editor",description:"Maintain scripts, triggers & automation."},{name:"Record Audit",description:"Review detailed audit trails."},{name:"Public Holiday",description:"Manage holiday dates affecting schedules."},{name:"General Travel Times",description:"Configure default travel time settings."}]};Object.entries(Is).flatMap(([e,t])=>t.map(o=>({...o,menuLabel:e})));function kA(){const e=c.useRef(null),[t,o]=c.useState(null),[r,i]=c.useState(null),[a,l]=c.useState([]),d=520,p=720,g=16,m=24,f=1900,v=1e3,x=900,b=760,C=820,S=(F,G)=>{const k=window.screen.availWidth,M=window.screen.availHeight;if(F==="resource"){const H=Math.min(b,k-40,f),B=Math.min(C,M-80,v);return{width:H,height:B}}if(G===1){const H=Math.min(p+m*2,k-40,f),B=Math.min(x,M-80,v);return{width:H,height:B}}const E=Math.min(G,3),$=d*E+g*(E-1)+m*2,D=Math.min($,k-40,f),O=Math.min(v,M-80);return{width:D,height:O}},_=c.useCallback(()=>{const F=e.current;F&&!F.closed&&F.close(),e.current=null,o(null),i(null),l([])},[]),P=c.useCallback((F,G,k)=>{if(!F||F.length===0)return;e.current&&!e.current.closed&&e.current.close();const{width:M,height:E}=S("tasks",F.length),$=window.screen.availWidth,D=window.screen.availHeight,O=Math.max(0,($-M)/2),H=Math.max(0,(D-E)/2),B=`
        width=${M},
        height=${E},
        left=${O},
        top=${H},
        toolbar=0,
        menubar=0,
        location=0,
        status=0,
        scrollbars=1,
        resizable=1
      `,I=window.open("/popup.html","_blank",B);if(!I)return;e.current=I;const A={mode:"tasks",tasks:F,expanded:a};I.__POPUP_DATA__=A,I.__POPUP_CLOSE__=()=>_(),I.onload=()=>{try{I.__POPUP_DATA__=A}catch{}},i(F),l([]),o(null)},[a,_]),z=c.useCallback((F,G)=>{if(!F)return;e.current&&!e.current.closed&&e.current.close();const{width:k,height:M}=S("resource",1),E=window.screen.availWidth,$=window.screen.availHeight,D=Math.max(0,(E-k)/2),O=Math.max(0,($-M)/2),H=`
        width=${k},
        height=${M},
        left=${D},
        top=${O},
        toolbar=0,
        menubar=0,
        location=0,
        status=0,
        scrollbars=1,
        resizable=1
      `,B=window.open("/popup.html","_blank",H);if(!B)return;e.current=B;const I={mode:"resource",resource:F,history:G,expanded:[]};B.__POPUP_DATA__=I,B.__POPUP_CLOSE__=()=>_(),B.onload=()=>{try{B.__POPUP_DATA__=I}catch{}},i(null),l([]),o(null)},[_]);return{externalContainer:t,externalTasks:r,externalExpandedSections:a,openExternalWindow:P,openResourceWindow:z,closeExternalWindow:_,setExternalExpandedSections:l}}const xp=[{id:"DEMO-001",taskId:"RG-AB30001",workId:"WK-790218",resourceId:"SWBXA12",outcome:"CalloutDispatchedAWI",status:"Dispatched (AWI)",availableAgainAt:null,note:"John Evans (SWBXA12) outcome set to Callout â†’ Dispatched (AWI).",timestamp:"2025-12-08T11:00:00.000Z"},{id:"DEMO-002",taskId:"RG-AB30002",workId:"WK-729320",resourceId:"QWERB33",outcome:"Unavailable",status:"Awaiting Resource",availableAgainAt:"2025-12-08T13:30:00.000Z",note:"Ffion Hughes (QWERB33) outcome set to Unavailable.",timestamp:"2025-12-08T10:51:00.000Z"},{id:"DEMO-003",taskId:"RG-AB30003",workId:"WK-703093",resourceId:"PLMKC14",outcome:"NoReply",status:"Callout Failed",availableAgainAt:null,note:"Owain Roberts (PLMKC14) outcome set to No Reply.",timestamp:"2025-12-08T10:42:00.000Z"},{id:"DEMO-004",taskId:"RG-AB30004",workId:"WK-746808",resourceId:"GHJTQ55",outcome:"AssignDispatchedAWI",status:"Dispatched (AWI)",availableAgainAt:null,note:"Carys Morgan (GHJTQ55) outcome set to Assignment â†’ Dispatched (AWI).",timestamp:"2025-12-08T10:33:00.000Z"},{id:"DEMO-005",taskId:"RG-AB30005",workId:"WK-734734",resourceId:"MNBGD82",outcome:"Disturbance",status:"Incident Flagged",availableAgainAt:null,note:"Rhys Davies (MNBGD82) outcome set to Disturbance.",timestamp:"2025-12-08T10:24:00.000Z"},{id:"DEMO-006",taskId:"RG-AB30006",workId:"WK-728071",resourceId:"LKJHF22",outcome:"CalloutDispatchedAWI",status:"Dispatched (AWI)",availableAgainAt:null,note:"Lowri Jenkins (LKJHF22) outcome set to Callout â†’ Dispatched (AWI).",timestamp:"2025-12-08T10:15:00.000Z"},{id:"DEMO-007",taskId:"RG-AB30007",workId:"WK-781809",resourceId:"ASDFR91",outcome:"Refusal",status:"Refused",availableAgainAt:null,note:"Tomos Hughes (ASDFR91) outcome set to Refusal.",timestamp:"2025-12-08T10:06:00.000Z"},{id:"DEMO-008",taskId:"RG-AB30008",workId:"WK-764130",resourceId:"ZXCVS67",outcome:"CalloutDispatchedAWI",status:"Dispatched (AWI)",availableAgainAt:null,note:"Bethan Evans (ZXCVS67) outcome set to Callout â†’ Dispatched (AWI).",timestamp:"2025-12-08T09:57:00.000Z"},{id:"DEMO-009",taskId:"RG-AB30009",workId:"WK-797851",resourceId:"BNMAS49",outcome:"Refusal",status:"Refused",availableAgainAt:null,note:"Steffan Price (BNMAS49) outcome set to Refusal.",timestamp:"2025-12-08T09:48:00.000Z"},{id:"DEMO-010",taskId:"RG-AB30010",workId:"WK-728959",resourceId:"POIUY73",outcome:"Disturbance",status:"Incident Flagged",availableAgainAt:null,note:"Aled Thomas (POIUY73) outcome set to Disturbance.",timestamp:"2025-12-08T09:39:00.000Z"},{id:"DEMO-011",taskId:"RG-AB30011",workId:"WK-775917",resourceId:"UJMKL89",outcome:"CalloutDispatchedAWI",status:"Dispatched (AWI)",availableAgainAt:null,note:"Lauren Evans (UJMKL89) outcome set to Callout â†’ Dispatched (AWI).",timestamp:"2025-12-08T09:30:00.000Z"},{id:"DEMO-012",taskId:"RG-AB30012",workId:"WK-758165",resourceId:"KJHGF02",outcome:"CalloutDispatchedAWI",status:"Dispatched (AWI)",availableAgainAt:null,note:"Nia James (KJHGF02) outcome set to Callout â†’ Dispatched (AWI).",timestamp:"2025-12-08T09:21:00.000Z"},{id:"DEMO-013",taskId:"RG-AB30013",workId:"WK-790116",resourceId:"RTYHN44",outcome:"NoReply",status:"Callout Failed",availableAgainAt:null,note:"Chloe Davies (RTYHN44) outcome set to No Reply.",timestamp:"2025-12-08T09:12:00.000Z"},{id:"DEMO-014",taskId:"RG-AB30014",workId:"WK-785274",resourceId:"SDNEW21",outcome:"Refusal",status:"Refused",availableAgainAt:null,note:"Gareth Bowen (SDNEW21) outcome set to Refusal.",timestamp:"2025-12-08T09:03:00.000Z"},{id:"DEMO-015",taskId:"RG-AB30015",workId:"WK-703787",resourceId:"SDNEW22",outcome:"Unavailable",status:"Awaiting Resource",availableAgainAt:"2025-12-08T20:00:00.000Z",note:"Megan Griffiths (SDNEW22) outcome set to Unavailable.",timestamp:"2025-12-08T08:54:00.000Z"},{id:"DEMO-016",taskId:"RG-AB30016",workId:"WK-723933",resourceId:"SDNEW23",outcome:"CalloutDispatchedAWI",status:"Dispatched (AWI)",availableAgainAt:null,note:"Ieuan Watkins (SDNEW23) outcome set to Callout â†’ Dispatched (AWI).",timestamp:"2025-12-08T08:45:00.000Z"},{id:"DEMO-017",taskId:"RG-AB30017",workId:"WK-705434",resourceId:"SDNEW24",outcome:"AssignDispatchedAWI",status:"Dispatched (AWI)",availableAgainAt:null,note:"Seren Powell (SDNEW24) outcome set to Assignment â†’ Dispatched (AWI).",timestamp:"2025-12-08T08:36:00.000Z"},{id:"DEMO-018",taskId:"RG-AB30018",workId:"WK-772532",resourceId:"SDNEW25",outcome:"Unavailable",status:"Awaiting Resource",availableAgainAt:"2025-12-08T21:30:00.000Z",note:"Rhys Llewellyn (SDNEW25) outcome set to Unavailable.",timestamp:"2025-12-08T08:27:00.000Z"},{id:"DEMO-019",taskId:"RG-AB30019",workId:"WK-765705",resourceId:"SDNEW26",outcome:"Refusal",status:"Refused",availableAgainAt:null,note:"Catrin Rees (SDNEW26) outcome set to Refusal.",timestamp:"2025-12-08T08:18:00.000Z"},{id:"DEMO-020",taskId:"RG-AB30020",workId:"WK-731785",resourceId:"SDNEW27",outcome:"Disturbance",status:"Incident Flagged",availableAgainAt:null,note:"Gwenllian Thomas (SDNEW27) outcome set to Disturbance.",timestamp:"2025-12-08T08:09:00.000Z"},{id:"DEMO-021",taskId:"RG-AB30021",workId:"WK-716640",resourceId:"FJNEW28",outcome:"CalloutDispatchedAWI",status:"Dispatched (AWI)",availableAgainAt:null,note:"Eleri Hopkins (FJNEW28) outcome set to Callout â†’ Dispatched (AWI).",timestamp:"2025-12-08T08:00:00.000Z"},{id:"DEMO-022",taskId:"RG-AB30022",workId:"WK-783470",resourceId:"FJNEW29",outcome:"PendingACT",status:"Assigned (ACT)",availableAgainAt:null,note:"Geraint Morgan (FJNEW29) outcome set to Pending Callout â†’ Assigned (ACT).",timestamp:"2025-12-08T07:51:00.000Z"},{id:"DEMO-023",taskId:"RG-AB30023",workId:"WK-736499",resourceId:"FJNEW30",outcome:"CalloutDispatchedAWI",status:"Dispatched (AWI)",availableAgainAt:null,note:"Non Davies (FJNEW30) outcome set to Callout â†’ Dispatched (AWI).",timestamp:"2025-12-08T07:42:00.000Z"}];function df(e){if(!e)return null;const t=typeof e.resourceId=="string"?e.resourceId:String(e.resourceId??"").trim();if(!t)return null;const o=typeof e.id=="string"?e.id:String(e.id??`${t}-${Date.now()}`),r=typeof e.timestamp=="string"&&e.timestamp?e.timestamp:new Date().toISOString();return{id:o,taskId:e.taskId??null,workId:e.workId??null,resourceId:t,outcome:e.outcome??"",status:e.status??null,availableAgainAt:e.availableAgainAt??null,note:e.note??null,timestamp:r}}function Cp(){const t=(Array.isArray(xp)?xp:[]).map(o=>df(o)).filter(o=>!!o);return t.sort((o,r)=>{const i=Date.parse(o.timestamp),a=Date.parse(r.timestamp),l=!Number.isNaN(i),d=!Number.isNaN(a);return l&&d?a-i:l?-1:d?1:0}),t}function MA(){const[e,t]=c.useState(()=>Cp()),[o,r]=c.useState(!1),[i,a]=c.useState(null),l=c.useCallback(async()=>(r(!0),a(null),new Promise(m=>{setTimeout(()=>{t(Cp()),r(!1),m()},120)})),[]),d=c.useCallback(m=>{t(f=>{const v=df(m);if(!v)return f;const x=f.filter(b=>b.id!==v.id);return[v,...x]})},[]),p=c.useCallback(m=>{if(!m&&m!==0)return[];const f=String(m);return e.filter(v=>String(v.taskId??"")===f)},[e]),g=c.useCallback(m=>{if(!m&&m!==0)return[];const f=String(m);return e.filter(v=>String(v.workId??"")===f)},[e]);return c.useMemo(()=>({history:e,loading:o,error:i,refresh:l,appendLocal:d,getByTaskId:p,getByWorkId:g}),[d,i,p,g,e,o,l])}const Il={"Operation Toolkit":oc,"General Settings":$i,"Task Admin":Bs,"Jeopardy Admin":da,"Resource Admin":ua,"Self Service Admin":$i,"User Admin":Wp,"Domain Admin":Zp,"Schedule Admin":Up,"System Admin":Kp},Ms={taskId:"Task ID",taskStatus:"Task Status",taskType:"Task Type",primarySkill:"Primary Skill",importanceScore:"Importance Score",msc:"MSC",taskCreated:"Task Created",groupCode:"Group Code",systemType:"System Type",employeeId:"Employee ID",resourceName:"Resource Name",asset:"Asset",assetName:"Asset Name",commitmentDate:"Commitment Date",commitmentType:"Commitment Type",arrivedAtDate:"Arrived At Date",domain:"Domain",estimatedDuration:"Estimated Duration",lastProgression:"Last Progression",category:"Category",description:"Description",responseCode:"Response Code",postCode:"Post Code",appointmentStartDate:"Appointment Start Date",linkedTask:"Linked Task",customerAddress:"Customer Address",expectedStartDate:"Expected Start Date",expectedFinishDate:"Expected Finish Date",externalQueueId:"External Queue Id",workId:"Work Id",estimateNumber:"Estimate Number",startDate:"Start Date"},AA=["Work Details","Commitments / Customer / Location","Scheduling / Resources","Access Restrictions","Job Notes","Progress Notes","Closure"],DA=br($p);function EA(e,t){var r,i,a,l,d,p,g,m,f;let o=[...e];if((r=t.taskSearch)!=null&&r.trim()){const v=t.taskSearch.toLowerCase();o=o.filter(x=>[x.taskId,x.resourceName,x.workId,x.assetName,x.description].join(" ").toLowerCase().includes(v))}if((i=t.division)!=null&&i.length&&(o=o.filter(v=>t.division.includes(v.groupCode))),(a=t.domainId)!=null&&a.length&&(o=o.filter(v=>t.domainId.includes(String(v.domain||"").toUpperCase()))),(l=t.taskStatuses)!=null&&l.length&&(o=o.filter(v=>t.taskStatuses.includes(v.taskStatus))),(d=t.responseCode)!=null&&d.length&&(o=o.filter(v=>t.responseCode.includes(v.responseCode))),(p=t.requester)!=null&&p.trim()){const v=t.requester.toLowerCase();o=o.filter(x=>String(x.resourceName||"").toLowerCase().includes(v))}if((g=t.commitType)!=null&&g.length&&(o=o.filter(v=>t.commitType.includes(v.commitmentType))),(m=t.capabilities)!=null&&m.length&&(o=o.filter(v=>t.capabilities.includes(v.primarySkill))),(f=t.jobType)!=null&&f.trim()){const v=t.jobType.toLowerCase();o=o.filter(x=>String(x.taskType||"").toLowerCase().includes(v))}return o}function RA(e,t){return`
    <table border="1" cellpadding="4" cellspacing="0">
      <thead><tr>${e.map(o=>`<th>${Ms[o]}</th>`).join("")}</tr></thead>
      <tbody>${t.map(o=>`<tr>${e.map(r=>`<td>${o[r]??""}</td>`).join("")}</tr>`).join("")}</tbody>
    </table>`}function LA(e,t){const o=e.map(i=>Ms[i]).join(","),r=t.map(i=>e.map(a=>i[a]??"").join(","));return[o,...r].join(`
`)}const pf=c.memo(({currentMenu:e,windowWidth:t,searchQuery:o,setSearchQuery:r,globalResults:i,showDropdown:a,setShowDropdown:l,onSelectResult:d,onToggleSidebar:p,overrideTitle:g,whiteBackground:m=!1})=>{const f=Bt(),v=c.useMemo(()=>g||(e!=null&&e.label?t<950?e.label.split(" ")[0]:e.label:"Dashboard"),[e,t]);return h.jsx(Cv,{position:"sticky",color:m?"default":"primary",sx:{zIndex:f.zIndex.drawer+1,boxShadow:m?"0 4px 10px rgba(2,6,23,0.06)":"0 18px 35px rgba(0,0,0,0.22)",backgroundColor:m?f.palette.background.paper:void 0,"&::after":m?void 0:{content:'""',position:"absolute",left:0,right:0,bottom:-10,height:10,background:`linear-gradient(to bottom, ${Se(f.palette.common.black,.18)}, transparent)`,pointerEvents:"none"}},children:h.jsxs(ih,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",minHeight:70,px:{xs:2,sm:3}},children:[h.jsxs(Ue,{sx:{display:"flex",alignItems:"center",gap:2},children:[h.jsx(pn,{edge:"start",onClick:p,sx:{width:f.spacing(5.5),height:f.spacing(5.5),borderRadius:2,bgcolor:Se(f.palette.common.white,.12),color:f.palette.common.white,"&:hover":{bgcolor:Se(f.palette.common.white,.2)}},children:h.jsx(Zg,{size:26,strokeWidth:3})}),h.jsx(rt,{variant:"h6",sx:{fontWeight:600,letterSpacing:.2,display:{xs:"none",sm:"block"}},children:v})]}),h.jsxs(Ue,{sx:{display:"flex",alignItems:"center",gap:3},children:[h.jsxs(Ue,{sx:{position:"relative",minWidth:{xs:f.spacing(20),sm:f.spacing(24)}},children:[h.jsx(En,{value:o,size:"small",onChange:x=>r(x.target.value),onFocus:()=>l(i.length>0),placeholder:"Search anywhere...",variant:"outlined",InputProps:{startAdornment:h.jsx(ca,{position:"start",children:h.jsx(nc,{size:18,color:m?Se(f.palette.text.primary,.45):Se(f.palette.common.white,.75)})}),sx:{color:m?f.palette.text.primary:f.palette.common.white,"& .MuiOutlinedInput-notchedOutline":{borderColor:m?Se(f.palette.text.primary,.12):Se(f.palette.common.white,.3)},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:m?Se(f.palette.text.primary,.2):Se(f.palette.common.white,.5)},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:m?Se(f.palette.primary.main,.32):Se(f.palette.common.white,.6)},"& input::placeholder":{color:m?Se(f.palette.text.primary,.45):Se(f.palette.common.white,.7)},backgroundColor:m?Se(f.palette.background.paper,.92):Se(f.palette.common.white,.1),borderRadius:2}},sx:{width:{xs:210,sm:520}}}),h.jsx(Oi,{in:a&&i.length>0,timeout:120,unmountOnExit:!0,children:h.jsx(Nt,{elevation:8,sx:{position:"absolute",right:0,left:0,mt:1,borderRadius:2,overflow:"hidden",zIndex:f.zIndex.tooltip},children:h.jsx(Np,{dense:!0,disablePadding:!0,children:i.map((x,b)=>h.jsx(zp,{onMouseDown:()=>d(x),sx:{alignItems:"flex-start"},children:h.jsx(On,{primary:h.jsx(rt,{variant:"subtitle2",fontWeight:600,children:x.name}),secondary:h.jsx(rt,{component:"span",variant:"caption",sx:{color:"text.secondary"},children:x.category})})},b))})})})]}),h.jsx(Jv,{sx:{width:f.spacing(5.25),height:f.spacing(5.25),bgcolor:Se(f.palette.common.black,.85),border:`1px solid ${Se(f.palette.common.white,.25)}`,boxShadow:"0px 0px 0px 2px rgba(255,255,255,0.08)"},children:h.jsx(Ug,{size:18,color:"#FFFFFF"})})]})]})})});pf.displayName="Header";const hf=c.memo(({currentMenu:e,filteredItems:t,windowWidth:o,onCardClick:r})=>{var l;const i=Bt(),a=((l=e==null?void 0:e.label)==null?void 0:l.split(" ")[0])??"Dashboard";return h.jsxs(Ue,{sx:{width:"100%",maxWidth:{xs:"100%",md:"1200px"},mx:"auto",px:{xs:3,sm:6,md:8},py:{xs:6,md:8}},children:[h.jsxs(Ue,{textAlign:"center",mb:6,children:[h.jsxs(Ue,{sx:{display:"flex",alignItems:"center",justifyContent:"center",gap:2,mb:1.5},children:[kn.createElement((e==null?void 0:e.icon)||Pi,{size:32,color:i.palette.primary.main}),h.jsx(rt,{component:"h1",variant:"h4",fontWeight:700,children:o<950?a:e==null?void 0:e.label})]}),h.jsx(rt,{variant:"body2",color:"text.secondary",children:e!=null&&e.label?`${e.label} Overview`:"Overview of your workspace"})]}),h.jsx(ec,{mode:"wait",children:h.jsx(br.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},exit:{opacity:0,y:-12},transition:{duration:.25},children:h.jsx(Ot,{container:!0,spacing:{xs:3,md:4},justifyContent:"center",children:t.length?t.map((d,p)=>h.jsx(Ot,{item:!0,xs:12,sm:6,md:4,children:h.jsx(DA,{whileHover:{scale:1.02},transition:{duration:.2},elevation:3,children:h.jsx(sy,{onClick:()=>r(d),children:h.jsxs(Bp,{sx:{minHeight:150,display:"flex",flexDirection:"column",gap:1.5,textAlign:"center",px:4,py:3},children:[h.jsx(rt,{variant:"h6",fontWeight:600,children:d.name}),h.jsx(rt,{variant:"body2",color:"text.secondary",children:d.description})]})})})},p)):h.jsx(Ot,{item:!0,xs:12,children:h.jsx(Nt,{variant:"outlined",sx:{py:8,textAlign:"center",color:"text.secondary"},children:h.jsx(rt,{variant:"body2",children:"No results found."})})})})},(e==null?void 0:e.label)||"default")})]})});hf.displayName="MainContent";function FA(){const e="Operation Toolkit",[t,o]=c.useState({label:e,icon:Il[e]||Pi}),[r,i]=c.useState(Is[e]||[]),[a,l]=c.useState(null),[d,p]=c.useState([]),[g,m]=c.useState(""),[f,v]=c.useState([]),[x,b]=c.useState(!1),[C,S]=c.useState(""),[_,P]=c.useState(""),[z,F]=c.useState(window.innerWidth),[G,k]=c.useState(window.innerHeight),[M,E]=c.useState(1),[$,D]=c.useState(72),[O,H]=c.useState([]),[B,I]=c.useState([]),[A,j]=c.useState(!1),[V,R]=c.useState([]),[W,Z]=c.useState(!1),q=c.useMemo(()=>{const pe=V.map(Ie=>Ie.calloutGroup).filter(Ie=>!!Ie);return Array.from(new Set(pe)).sort()},[V]),[ee,X]=c.useState([]),{externalContainer:te,externalTasks:Y,externalExpandedSections:ne,openExternalWindow:re,openResourceWindow:ve,closeExternalWindow:_e,setExternalExpandedSections:be}=kA(),[Ae,Ce]=c.useState(!1),[fe,se]=c.useState(null),[U,he]=c.useState(!1),[Q,ie]=c.useState([]),[de,we]=c.useState("Completed"),[Re,Pe]=c.useState(""),[ge,ye]=c.useState(""),[ke,Be]=c.useState(!1);c.useEffect(()=>()=>_e(),[_e]),c.useEffect(()=>{const pe=Xe=>{var tt;try{const le=((tt=Xe.detail)==null?void 0:tt.tasks)??null;if(!le||!le.length)return;const De=window.innerWidth/2,Ye=window.innerHeight/2;re(le,De,Ye)}catch{}},Ie=Xe=>{var tt;try{const le=((tt=Xe.detail)==null?void 0:tt.task)??null;if(!le)return;rn(le)}catch{}};return window.addEventListener("taskforce:open-popout",pe),window.addEventListener("taskforce:open-callout-incident",Ie),()=>{window.removeEventListener("taskforce:open-popout",pe),window.removeEventListener("taskforce:open-callout-incident",Ie)}},[]),c.useEffect(()=>{const pe=Ie=>{const tt=Ie.detail||{},ce=tt.taskId,le=tt.workId;let De;if(ce){const He=String(ce);De=O.find(Fe=>{const Ve=(Fe==null?void 0:Fe.taskId)??(Fe==null?void 0:Fe.TaskID)??(Fe==null?void 0:Fe.TaskId)??(Fe==null?void 0:Fe.id)??null;return Ve!=null&&String(Ve)===He})}if(!De&&le){const He=String(le);De=O.find(Fe=>{const Ve=(Fe==null?void 0:Fe.workId)??(Fe==null?void 0:Fe.WorkID)??(Fe==null?void 0:Fe.WorkId)??(Fe==null?void 0:Fe.workID)??null;return Ve!=null&&String(Ve)===He})}if(!De)return;be(["Progress Notes"]);const Ye=window.innerWidth/2,Ze=window.innerHeight/2;re([De],Ye,Ze)};return window.addEventListener("taskforce:view-progress-notes",pe),()=>{window.removeEventListener("taskforce:view-progress-notes",pe)}},[O,re,be]);const Qe=c.useCallback(pe=>{if(!pe||!pe.length){Dt.error("No tasks selected");return}ie(pe),he(!0)},[]);c.useEffect(()=>{const pe=Ie=>{var Xe;try{Qe(((Xe=Ie.detail)==null?void 0:Xe.tasks)??[])}catch{}};return window.addEventListener("taskforce:progress-tasks",pe),()=>window.removeEventListener("taskforce:progress-tasks",pe)},[Qe]),c.useEffect(()=>{const pe=Ie=>{var Ye;const tt=((Ye=Ie.detail)==null?void 0:Ye.items)??[];if(!tt.length)return;const ce=new Map;for(const Ze of tt)Ze!=null&&Ze.taskId&&ce.set(String(Ze.taskId),Ze);if(!ce.size)return;const le=(Ze,He)=>{const Fe={ts:He.timestamp,status:He.nextStatus||He.previousStatus||"Updated",text:He.note,source:"Quick Progress"},Ve=Ze.progressNotes;return Array.isArray(Ve)?[...Ve,Fe]:typeof Ve=="string"&&Ve.trim()?[{ts:Ze.taskCreated??He.timestamp,status:Ze.taskStatus??Ze.status??"",text:Ve.trim(),source:"Imported"},Fe]:[Fe]},De=Ze=>Ze.map(He=>{const Fe=(He==null?void 0:He.taskId)??(He==null?void 0:He.TaskID)??(He==null?void 0:He.TaskId)??(He==null?void 0:He.id)??(He==null?void 0:He.ID)??(He==null?void 0:He.Id)??null;if(Fe==null)return He;const Ve=ce.get(String(Fe));if(!Ve)return He;const mn=Ve.nextStatus||He.taskStatus||He.status;return{...He,taskStatus:mn,lastProgression:mn||He.lastProgression,updatedAt:Ve.timestamp,progressNotes:le(He,Ve)}});H(Ze=>De(Ze)),I(Ze=>De(Ze))};return document.addEventListener("taskforce:tasks-progressed",pe),()=>{document.removeEventListener("taskforce:tasks-progressed",pe)}},[H,I]);const[Je,qe]=c.useState(!1),[Ke,St]=c.useState([]),[at,st]=c.useState(null),{history:Jt,loading:Et,error:Yt,refresh:hn,appendLocal:on}=MA(),rn=c.useCallback(pe=>{se(pe),qe(!1),Ce(!0)},[]);c.useEffect(()=>{H(dn),j(!0)},[]),c.useEffect(()=>{try{R(uh),Z(!0)}catch{Dt.error("Error loading resource data.")}},[]),c.useEffect(()=>{const pe=()=>{const le=window.innerHeight*.01;document.documentElement.style.setProperty("--vh",`${le}px`)},Ie=()=>{F(window.innerWidth),k(window.innerHeight),pe();const le=window.innerHeight,De=Math.max(.75,Math.min(1,le/900));E(Number(De.toFixed(2))),document.documentElement.style.setProperty("--ui-scale",String(De));const Ye=Math.max(13,Math.min(16,Math.round(le/60)));document.documentElement.style.fontSize=`${Ye}px`};pe();const Xe=window.innerHeight,tt=Math.max(.75,Math.min(1,Xe/900));E(Number(tt.toFixed(2))),document.documentElement.style.setProperty("--ui-scale",String(tt));const ce=Math.max(13,Math.min(16,Math.round(Xe/60)));return document.documentElement.style.fontSize=`${ce}px`,window.addEventListener("resize",Ie),()=>window.removeEventListener("resize",Ie)},[]),c.useEffect(()=>{const pe=()=>{try{const Ie=document.querySelector(".MuiAppBar-root");if(Ie){const Xe=Ie.getBoundingClientRect();D(Math.round(Xe.bottom+8));return}}catch{}D(72)};return pe(),window.addEventListener("resize",pe),()=>window.removeEventListener("resize",pe)},[]);const qt=c.useMemo(()=>Object.entries(Is).flatMap(([pe,Ie])=>Ie.map(Xe=>({...Xe,category:pe}))),[]);c.useEffect(()=>{if(!g.trim()){v([]),b(!1);return}const pe=qt.filter(Ie=>Ie.name.toLowerCase().includes(g.toLowerCase()));v(pe),b(pe.length>0)},[g,qt]);const It=c.useCallback(pe=>{const Ie=pe.label;o({label:Ie,icon:Il[Ie]||Pi}),i(Is[Ie]||[]),I([]),l(null),m(""),v([]),b(!1)},[]),me=c.useCallback(pe=>{pe.name==="Task Management"&&(l("TaskManagement"),I([])),pe.name==="Schedule Live"&&l("ScheduleLive")},[]),Te=c.useCallback(pe=>{if(!A){Dt.error("Data not loaded yet.");return}const Ie=EA(O,pe);if(Ie.length===0){I([]),Dt.error("No matching tasks found.");return}I(Ie)},[O,A]),vt=c.useCallback(()=>{I([]),X([]),Dt.success("Filters cleared.",{id:"clear-toast",icon:"ðŸ§¹"})},[]),Ft=B.length>0,zt=c.useCallback(async()=>{if(!Ft){Dt.error("No data to copy.");return}const pe=Object.keys(Ms),Ie=RA(pe,B);await navigator.clipboard.writeText(Ie),Dt.success("Copied",{icon:"ðŸ“‹"})},[B,Ft]),dt=c.useCallback(()=>{if(!Ft){Dt.error("No data to export.");return}const pe=Object.keys(Ms),Ie=LA(pe,B),Xe=new Blob([Ie],{type:"text/csv;charset=utf-8;"}),tt=document.createElement("a");tt.href=URL.createObjectURL(Xe),tt.download="FilteredTasks.csv",tt.click(),Dt.success("Exported",{icon:"ðŸ’¾"})},[B,Ft]),Tt=c.useCallback(pe=>{m(""),b(!1);const Ie=pe.category,Xe=Is[Ie]||[];o({label:Ie,icon:Il[Ie]||Pi}),i(Xe),l(pe.name==="Task Management"?"TaskManagement":null)},[]);c.useMemo(()=>{const pe=new Set;return dn.forEach(Ie=>{const Xe=String(Ie.domain||"").toUpperCase();Xe&&pe.add(Xe)}),Array.from(pe).sort()},[]),c.useMemo(()=>{const pe=new Set;return dn.forEach(Ie=>{const Xe=String(Ie.groupCode||"").toUpperCase();Xe&&pe.add(Xe)}),Array.from(pe).sort()},[]),c.useCallback(pe=>{S(pe)},[]),c.useCallback(pe=>{P(pe)},[]);const Me=c.useCallback((pe,Ie,Xe)=>{!pe||pe.length===0||re(pe,Ie,Xe)},[re]),Le=c.useCallback((pe,Ie)=>{if(!pe)return;const Xe=Ie.length?Ie:Jt.filter(tt=>tt.resourceId===pe.resourceId);ve(pe,Xe)},[Jt,ve]),et=c.useCallback(()=>{if(!fe)return;const pe=window.innerWidth/2,Ie=window.innerHeight/2;re([fe],pe,Ie)},[fe,re]),ot=(pe,Ie)=>{switch(Ie){case"AssignDispatchedAWI":case"CalloutDispatchedAWI":return"Dispatched (AWI)";case"PendingACT":return"Assigned (ACT)";case"Disturbance":case"NoReply":return"Callout Failed";case"Refusal":return"Refused";case"Unavailable":return"Awaiting Resource";default:return pe}},kt=(pe,Ie)=>{switch(Ie){case"AssignDispatchedAWI":case"CalloutDispatchedAWI":return"Busy";case"PendingACT":return"Pending";case"Disturbance":return"Flagged";case"NoReply":return"No Reply";case"Refusal":return"Refused";case"Unavailable":return"Unavailable";default:return pe||"Available"}},Rt=c.useCallback(async pe=>{const{taskId:Ie,resourceId:Xe,outcome:tt,availableAgainAt:ce}=pe,le=new Date().toISOString(),De=Fe=>{if(!Fe)return null;try{const Ve=new Date(Fe);if(Number.isNaN(Ve.getTime()))return Fe;const mn=String(Ve.getDate()).padStart(2,"0"),wo=String(Ve.getMonth()+1).padStart(2,"0"),Yn=Ve.getFullYear(),zn=String(Ve.getHours()).padStart(2,"0"),Qn=String(Ve.getMinutes()).padStart(2,"0");return`${mn}/${wo}/${Yn} ${zn}:${Qn}`}catch{return Fe}},Ye=(Fe,Ve)=>Ve?[...Array.isArray(Fe.progressNotes)?[...Fe.progressNotes]:typeof Fe.progressNotes=="string"&&Fe.progressNotes.trim()?[{ts:Fe.taskCreated||le,status:"",text:Fe.progressNotes.trim(),source:"Imported"}]:[],Ve]:Fe.progressNotes;let Ze=null;R(Fe=>Fe.map(Ve=>{if(Ve.resourceId!==Xe)return Ve;const mn=Ve.lastOutcome??null,wo=Ve.availableAgainAt??null;return{...Ve,status:kt(Ve.status,tt),lastOutcome:tt,availableAgainAt:tt==="Unavailable"?ce??null:null,history:[...Ve.history??[],{previousOutcome:mn,previousAvailableAgainAt:wo,changedAt:le,taskIdUsed:Ie??null,outcomeApplied:tt,availableAgainAt:tt==="Unavailable"?ce??null:null}]}}));const He=Fe=>Fe.map(Ve=>{var wn;if(Ve.taskId!==Ie)return Ve;const mn=Ve.taskStatus,wo=Ve.employeeId??null,Yn=ot(Ve.taskStatus,tt),zn=Ve.resourceName?`${Ve.resourceName} (${Xe})`:Xe,Qn=((wn=Lg[tt])==null?void 0:wn.label)??String(tt);let yt=null,fn=`${zn} outcome set to ${Qn}.`;if(Ie){if(tt==="Unavailable"){const eo=De(ce);yt={ts:le,status:"Unavailable",text:eo?`${zn} marked unavailable. Next availability ${eo}.`:`${zn} marked unavailable.`,source:"Callout"},fn=yt.text}else Yn&&Yn.includes("AWI")&&(yt={ts:le,status:tt,text:`${zn} set to ${Qn}.`,source:"Callout"},fn=yt.text);Ze||(Ze={taskId:Ie,workId:Ve.workId??null,resourceId:Xe,outcome:tt,status:Yn??null,availableAgainAt:tt==="Unavailable"?ce??null:null,note:fn,timestamp:le})}return{...Ve,taskStatus:Yn,employeeId:Xe,lastOutcome:tt,availableAgainAt:tt==="Unavailable"?ce??null:null,updatedAt:le,history:[...Ve.history??[],{previousTaskStatus:mn,previousEmployeeId:wo,changedAt:le,outcomeApplied:tt,resourceIdUsed:Xe,availableAgainAt:tt==="Unavailable"?ce??null:null}],progressNotes:Ye(Ve,yt)}});if(H(Fe=>He(Fe)),I(Fe=>He(Fe)),Ze){const Fe=Ze,Ve={id:`SESSION-${Xe}-${Date.now()}`,...Fe};on(Ve)}},[on]),Ne=c.useCallback(pe=>{be(Ie=>Ie.includes(pe)?Ie.filter(Xe=>Xe!==pe):[...Ie,pe])},[be]),Cn=c.useCallback(()=>{be(AA)},[be]),Nn=c.useCallback(()=>{be([])},[be]);return h.jsxs(Ue,{sx:{position:"relative",overflow:"hidden",bgcolor:"background.default",color:"text.primary",fontFamily:'"Inter", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif',width:"100%",height:"100vh",minHeight:0,minWidth:0,display:"flex",flexDirection:"row",overflowX:"hidden"},children:[h.jsx(Vx,{position:"top-center",containerStyle:{top:$},toastOptions:{duration:4e3,style:{fontSize:13},success:{icon:h.jsx(lA,{fontSize:"small",color:"success"})},error:{icon:h.jsx(cA,{fontSize:"small",color:"error"})},icon:h.jsx(uA,{fontSize:"small"})}}),h.jsx(fA,{currentMenu:t,onMenuClick:It,activeSubPage:a}),h.jsxs(Ue,{component:"main",sx:{display:"flex",flexDirection:"column",minWidth:0,height:"100%",width:"100%"},children:[h.jsx(pf,{currentMenu:t,windowWidth:z,searchQuery:g,setSearchQuery:m,globalResults:f,showDropdown:x,setShowDropdown:b,onSelectResult:Tt,onToggleSidebar:()=>window.dispatchEvent(new CustomEvent("toggleSidebar"))}),h.jsxs(Ue,{sx:{flex:1,minHeight:0,bgcolor:"background.paper",display:"flex",flexDirection:"column"},children:[a==="TaskManagement"&&h.jsxs(Ue,{component:"section",sx:{py:{xs:3,md:5},px:{xs:2,md:4},display:"flex",flexDirection:"column",gap:0},children:[h.jsx(IA,{onSearch:Te,onClear:vt,onCopy:zt,onExport:dt,canCopy:Ft,hasResults:B.length>0,selectedRows:d,onOpenPopout:pe=>{if(!pe||!pe.length)return;const Ie=window.innerWidth/2,Xe=window.innerHeight/2;Me(pe,Ie,Xe)},onProgressTasks:pe=>Qe(pe),onProgressNotes:pe=>window.dispatchEvent(new CustomEvent("taskforce:progress-notes",{detail:{tasks:pe}})),onOpenCalloutIncident:pe=>rn(pe)}),A?B.length>0?h.jsx(Wc,{rows:B,headerNames:Ms,onOpenPopout:Me,onOpenCalloutIncident:rn,onProgressTasks:pe=>Qe(pe),onProgressNotes:pe=>window.dispatchEvent(new CustomEvent("taskforce:progress-notes",{detail:{tasks:pe}})),onSelectionChange:pe=>{try{console.log("AppLayout selection:",(pe||[]).length)}catch{}p(pe)},sx:{borderRadius:"0 0 12px 12px",mt:0}}):h.jsx(Nt,{variant:"outlined",sx:{p:6,textAlign:"center",borderStyle:"dashed",borderColor:"divider",bgcolor:"background.default"},children:h.jsxs(rt,{variant:"body2",color:"text.secondary",children:["No tasks loaded yet. Please apply filters and press ",h.jsx("b",{children:"Search"}),"."]})}):h.jsx(Nt,{variant:"outlined",sx:{p:6,textAlign:"center",color:"text.secondary"},children:h.jsx(rt,{variant:"body2",children:"Loading task data..."})})]}),a==="ScheduleLive"&&h.jsx(aA,{}),!a&&h.jsx(hf,{currentMenu:t,filteredItems:r,windowWidth:z,onCardClick:me})]})]}),Je&&h.jsx(P0,{allResources:V,calloutGroups:q,onStart:pe=>{const Xe=V.filter(tt=>tt.calloutGroup===pe).slice(0,6);St(Xe),st(pe),qe(!1),Ce(!0)},onDismiss:()=>{qe(!1),St([]),st(null)}}),h.jsx(Eg,{open:Ae,task:fe,resources:V,primaryResourceIds:Ke.map(pe=>pe.resourceId),selectedGroup:at,onOpenResourcePopout:Le,onOpenTaskPopout:et,onClose:()=>{Ce(!1),St([]),st(null)},history:Jt,historyLoading:Et,historyError:Yt,onRefreshHistory:hn,onSaveRow:Rt}),te&&Y&&Y.length>0&&$s.createPortal(h.jsx(Rg,{open:!0,tasks:Y,expanded:ne,onToggleSection:Ne,onExpandAll:Cn,onCollapseAll:Nn,onClose:_e}),te),h.jsx(TA,{open:U,preview:Q.map(pe=>({id:String(pe.taskId??pe.id??pe.TaskID??""),currentStatus:pe.taskStatus??pe.status??"",nextStatus:de})),tasksCount:Q.length,targetStatus:de,setTargetStatus:pe=>we(pe),targetResourceId:Re,setTargetResourceId:pe=>Pe(pe),progressNote:ge,setProgressNote:pe=>ye(pe),onClose:()=>{he(!1),ie([]),ye("")},progressSaving:ke,onSave:async()=>{try{Be(!0);const pe=Q.map(Ie=>({taskId:Ie.taskId??Ie.id??Ie.TaskID??null,previousStatus:Ie.taskStatus??Ie.status??null,nextStatus:de,note:ge||"",timestamp:new Date().toISOString()}));window.dispatchEvent(new CustomEvent("taskforce:tasks-progressed",{detail:{items:pe}})),Dt.success(`Progressed ${pe.length} task${pe.length>1?"s":""}`),he(!1),ie([]),ye("")}catch{Dt.error("Progress failed")}finally{Be(!1)}},coreStatuses:["Assigned","In Progress","Completed"],additionalStatuses:["Escalated","Cancelled"]})]})}function OA(){return h.jsx(FA,{})}const NA="#0F2740",zA="#304862",$A="#0A1A2A",BA="#3BE089",jA="#1EA46A",wp="#F3F6F8",HA=_p({palette:{mode:"light",primary:{main:NA,light:zA,dark:$A,contrastText:"#FFFFFF"},secondary:{main:BA,light:"#7FF2B6",dark:jA,contrastText:"#052035"},background:{default:wp,paper:"#FFFFFF"},text:{primary:"#0B2233",secondary:"#475569"},divider:"rgba(15, 39, 64, 0.08)"},typography:{fontFamily:'"Inter", "Roboto", "Helvetica", "Arial", sans-serif',h1:{fontWeight:600},h2:{fontWeight:600},h3:{fontWeight:600},button:{textTransform:"none",fontWeight:600},subtitle1:{color:"#394B59"},subtitle2:{color:"#52606D"}},shape:{borderRadius:6},components:{MuiCssBaseline:{styleOverrides:{body:{backgroundColor:wp}}},MuiPaper:{styleOverrides:{root:{borderRadius:6}}},MuiButton:{styleOverrides:{root:{borderRadius:6}}},MuiCard:{styleOverrides:{root:{borderRadius:8,boxShadow:"0 6px 18px rgba(45, 24, 88, 0.06)"}}},MuiAppBar:{styleOverrides:{root:{boxShadow:"0 6px 12px rgba(0, 0, 0, 0.08)"}}}}});Fg.createRoot(document.getElementById("root")).render(h.jsxs(vv,{theme:HA,children:[h.jsx(ky,{}),h.jsx(OA,{})]}));
